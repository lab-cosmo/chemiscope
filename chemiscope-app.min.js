/*! For license information please see chemiscope-app.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Chemiscope=e():t.Chemiscope=e()}(self,(()=>(()=>{var __webpack_modules__={677:(t,e,r)=>{"use strict";var n=r(12822),i=r(98507).isTypedArraySpec;t.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){var e=t.marker;return n.isPlainObject(e)&&(n.isArrayOrTypedArray(e.size)||i(e.size))}}},745:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(78706),i=r.n(n),o=r(72859),a=r.n(o)()(i());a.push([t.id,":root {\n    --header-height: 48px;\n    --footer-height: 30px;\n}\n\nhtml {\n    position: relative;\n    min-height: 100%;\n}\n\nbody {\n    margin-bottom: 30px;\n}\n\n.footer {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    height: var(--footer-height);\n    padding-top: 7px;\n    background-color: #2c3e50;\n    color: white;\n    font-size: 0.8rem;\n}\n\n.footer .container {\n    max-width: 1140px;\n}\n\n.footer a {\n    color: inherit;\n    text-decoration: underline;\n}\n\nheader {\n    background-color: #2c3e50;\n    width: 100%;\n    height: var(--header-height);\n}\n\n.navbar {\n    max-width: 1100px;\n    margin-bottom: 1em;\n    z-index: 999;\n    background-color: inherit;\n}\n\n.references a {\n    color: grey;\n}\n\n#loading {\n    font-size: 6em;\n    margin: auto;\n    text-align: center;\n    color: grey;\n    position: absolute;\n    z-index: 100000;\n    left: 50%;\n}\n\nmain.container-fluid {\n    margin: 1.5em 0em calc(1.5em + var(--header-height)) 0em;\n    width: 100%;\n}\n\n@media screen and (min-width: 900px) {\n    main.container-fluid {\n        margin: 2em 10px calc(2em + var(--header-height)) 10px;\n        width: calc(100% - 20px);\n    }\n}\n\n@media screen and (min-width: 1220px) {\n    main.container-fluid {\n        margin: 2em auto calc(2em + var(--header-height)) auto;\n        width: 1200px;\n    }\n}\n\nmain .ratio {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n}\n\n.ratio-1x1 {\n    aspect-ratio: 1 / 1;\n}\n\n.ratio-5x7 {\n    aspect-ratio: 5 / 7;\n    overflow: hidden;\n}\n\nmain .ratio > * {\n    flex: 1;\n    display: flex;\n    flex-flow: column;\n    min-height: 0;\n}\n\n@media screen and (min-width: 768px) {\n    main .ratio {\n        max-height: calc(100vh - 2em - var(--header-height) - var(--footer-height));\n        width: 100%;\n        /* In horizontal layout, allow the box to be wider than the aspect ratio \n           if vertical space is constrained, but never wider than the column. */\n        aspect-ratio: auto;\n        height: calc(100vh - 2em - var(--header-height) - var(--footer-height));\n        max-width: 100%;\n    }\n\n    .ratio-1x1 {\n        min-width: min(100%, calc((100vh - 2em - var(--header-height) - var(--footer-height)) * 1));\n    }\n\n    .ratio-5x7 {\n        min-width: min(\n            100%,\n            calc((100vh - 2em - var(--header-height) - var(--footer-height)) * 5 / 7)\n        );\n    }\n}\n\n.clickable {\n    cursor: pointer;\n}\n\n.pop-on-top {\n    z-index: 100;\n    position: absolute;\n    width: 80%;\n    left: 50%;\n    margin-left: -40%;\n}\n\n#chemiscope-meta {\n    width: max-content;\n    height: max-content;\n    position: absolute;\n    top: 0;\n    left: 2em;\n    font-size: 16pt;\n}\n\n#chemiscope-map {\n    display: block;\n}\n\n#chemiscope-structure {\n    flex: 1 1 auto;\n}\n\n#chemiscope-info {\n    flex: 0 1 auto;\n    width: 100%;\n}\n\n#upload {\n    width: 280px;\n}\n\n#open-save-menu {\n    background-color: #e2e6ea;\n    border-color: #ced4da;\n}\n\n#open-save-menu:hover {\n    background-color: #f8f9fa;\n}\n\n.grid-1-1 {\n    display: grid;\n    align-items: center;\n    justify-content: center;\n    align-content: start;\n    grid-gap: 1em;\n    grid-template-columns: 1fr 1fr;\n}\n\n.grid-1-1-1 {\n    display: grid;\n    align-items: center;\n    justify-content: center;\n    align-content: start;\n    grid-gap: 1em;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.width-10em {\n    width: 10em;\n}\n\n.btn-outline-secondary-less-hover:hover {\n    color: inherit;\n    background-color: #f2f2f2;\n}\n\n.hidden-input-file {\n    position: absolute;\n    left: 0;\n    opacity: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n}\n\n/* scroll bands for mobile devices */\n@media (max-width: 768px) {\n    .scroll-band-container {\n        position: relative;\n        width: 100%;\n    }\n\n    /* invisible scroll bands */\n    .scroll-band-left,\n    .scroll-band-right {\n        position: absolute;\n        z-index: 20;\n        top: 0;\n        height: 100%;\n\n        /* width of the safe scroll area */\n        width: 10%;\n\n        pointer-events: auto;\n        background-color: transparent;\n        touch-action: pan-y;\n    }\n\n    .scroll-band-left {\n        left: 0;\n    }\n    .scroll-band-right {\n        right: 0;\n    }\n}\n",""]);const s=a},786:(t,e,r)=>{"use strict";var n,i,o,a,s=r(27375),l=r(2033),c=Object.prototype.isPrototypeOf,d=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(t,e){if(l(t),null===e||s(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=(i=function(){var t,e=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(t=n.set).call(e,r)}catch(t){}if(Object.getPrototypeOf(e)===r)return{set:t,level:2}}return e.__proto__=r,Object.getPrototypeOf(e)===r?{level:2}:((e={}).__proto__=r,Object.getPrototypeOf(e)===r&&{level:1})}(),i?(2===i.level?i.set?(a=i.set,o=function(t,e){return a.call(n(t,e),e),t}):o=function(t,e){return n(t,e).__proto__=e,t}:o=function t(e,r){var i;return n(e,r),(i=c.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===r&&(r=t.nullPolyfill),e.__proto__=r,i&&d(t.nullPolyfill,"__proto__",u),e},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:i.level})):null),r(39095)},795:t=>{"use strict";t.exports=Math.round},816:t=>{"use strict";t.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's 3D coordinate system and","a 3D scene.","If *scene* (the default value), the (x,y,z) coordinates refer to","`layout.scene`.","If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`,","and so on."].join(" ")}}},1146:(t,e,r)=>{"use strict";var n=r(12822),i={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;border:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");n.addStyleRule(a,i[o])}},1285:(t,e,r)=>{"use strict";t.exports=function(t){for(var e=t.axesOptions,r=t.glplot.axesPixels,s=t.fullSceneLayout,l=[[],[],[]],c=0;c<3;++c){var d=s[o[c]];if(d._length=(r[c].hi-r[c].lo)*r[c].pixelsPerDataUnit/t.dataScale[c],Math.abs(d._length)===1/0||isNaN(d._length))l[c]=[];else{d._input_range=d.range.slice(),d.range[0]=r[c].lo/t.dataScale[c],d.range[1]=r[c].hi/t.dataScale[c],d._m=1/(t.dataScale[c]*r[c].pixelsPerDataUnit),d.range[0]===d.range[1]&&(d.range[0]-=1,d.range[1]+=1);var u=d.tickmode;if("auto"===d.tickmode){d.tickmode="linear";var h=d.nticks||i.constrain(d._length/40,4,9);n.autoTicks(d,Math.abs(d.range[1]-d.range[0])/h)}for(var f=n.calcTicks(d,{msUTC:!0}),p=0;p<f.length;++p)f[p].x=f[p].x*t.dataScale[c],"date"===d.type&&(f[p].text=f[p].text.replace(/\<br\>/g," "));l[c]=f,d.tickmode=u}}for(e.ticks=l,c=0;c<3;++c)for(a[c]=.5*(t.glplot.bounds[0][c]+t.glplot.bounds[1][c]),p=0;p<2;++p)e.bounds[p][c]=t.glplot.bounds[p][c];t.contourLevels=function(t){for(var e=new Array(3),r=0;r<3;++r){for(var n=t[r],i=new Array(n.length),o=0;o<n.length;++o)i[o]=n[o].x;e[r]=i}return e}(l)};var n=r(75815),i=r(12822),o=["xaxis","yaxis","zaxis"],a=[0,0,0]},1903:t=>{t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},2033:(t,e,r)=>{"use strict";var n=r(93767);t.exports=function(t){if(!n(t))throw new TypeError("Cannot use null or undefined");return t}},2214:t=>{"use strict";function e(t,e){if("string"!=typeof t)return[t];var r=[t];"string"==typeof e||Array.isArray(e)?e={brackets:e}:e||(e={});var n=e.brackets?Array.isArray(e.brackets)?e.brackets:[e.brackets]:["{}","[]","()"],i=e.escape||"___",o=!!e.flat;n.forEach((function(t){var e=new RegExp(["\\",t[0],"[^\\",t[0],"\\",t[1],"]*\\",t[1]].join("")),n=[];function o(e,o,a){var s=r.push(e.slice(t[0].length,-t[1].length))-1;return n.push(s),i+s+i}r.forEach((function(t,n){for(var i,a=0;t!=i;)if(i=t,t=t.replace(e,o),a++>1e4)throw Error("References have circular dependency. Please, check them.");r[n]=t})),n=n.reverse(),r=r.map((function(e){return n.forEach((function(r){e=e.replace(new RegExp("(\\"+i+r+"\\"+i+")","g"),t[0]+"$1"+t[1])})),e}))}));var a=new RegExp("\\"+i+"([0-9]+)\\"+i);return o?r:function t(e,r,n){for(var i,o=[],s=0;i=a.exec(e);){if(s++>1e4)throw Error("Circular references in parenthesis");o.push(e.slice(0,i.index)),o.push(t(r[i[1]],r)),e=e.slice(i.index+i[0].length)}return o.push(e),o}(r[0],r)}function r(t,e){if(e&&e.flat){var r,n=e&&e.escape||"___",i=t[0];if(!i)return"";for(var o=new RegExp("\\"+n+"([0-9]+)\\"+n),a=0;i!=r;){if(a++>1e4)throw Error("Circular references in "+t);r=i,i=i.replace(o,s)}return i}return t.reduce((function t(e,r){return Array.isArray(r)&&(r=r.reduce(t,"")),e+r}),"");function s(e,r){if(null==t[r])throw Error("Reference "+r+"is undefined");return t[r]}}function n(t,n){return Array.isArray(t)?r(t,n):e(t,n)}n.parse=e,n.stringify=r,t.exports=n},2362:t=>{"use strict";t.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},2433:(t,e,r)=>{"use strict";var n=r(25359);t.exports=function(t,e,r){if(!t||null==t.length)throw Error("Argument should be an array");null==e&&(e=1),null==r&&(r=n(t,e));for(var i=0;i<e;i++){var o=r[e+i],a=r[i],s=i,l=t.length;if(o===1/0&&a===-1/0)for(s=i;s<l;s+=e)t[s]=t[s]===o?1:t[s]===a?0:.5;else if(o===1/0)for(s=i;s<l;s+=e)t[s]=t[s]===o?1:0;else if(a===-1/0)for(s=i;s<l;s+=e)t[s]=t[s]===a?0:1;else{var c=o-a;for(s=i;s<l;s+=e)isNaN(t[s])||(t[s]=0===c?.5:(t[s]-a)/c)}}return t}},2686:(t,e,r)=>{"use strict";var n=r(12822),i=r(70410),o=r(25059),a=r(90566),s=r(17499),l=n.fillText;t.exports=function(t,e,r,c){var d=t.cd,u=d[0].trace,h=t.xa,f=t.ya,p=h.c2p(e),m=f.c2p(r),g=[p,m],b=u.hoveron||"",v=-1!==u.mode.indexOf("markers")?3:.5,y=!!u.xperiodalignment,x=!!u.yperiodalignment;if(-1!==b.indexOf("points")){var w=function(t){var e=Math.max(v,t.mrc||0),r=h.c2p(t.x)-p,n=f.c2p(t.y)-m;return Math.max(Math.sqrt(r*r+n*n)-e,1-v/e)},_=i.getDistanceFunction(c,(function(t){if(y){var e=h.c2p(t.xStart),r=h.c2p(t.xEnd);return p>=Math.min(e,r)&&p<=Math.max(e,r)?0:1/0}var n=Math.max(3,t.mrc||0),i=1-1/n,o=Math.abs(h.c2p(t.x)-p);return o<n?i*o/n:o-n+i}),(function(t){if(x){var e=f.c2p(t.yStart),r=f.c2p(t.yEnd);return m>=Math.min(e,r)&&m<=Math.max(e,r)?0:1/0}var n=Math.max(3,t.mrc||0),i=1-1/n,o=Math.abs(f.c2p(t.y)-m);return o<n?i*o/n:o-n+i}),w);if(i.getClosest(d,_,t),!1!==t.index){var k=d[t.index],A=h.c2p(k.x,!0),T=f.c2p(k.y,!0),M=k.mrc||1;t.index=k.i;var S=d[0].t.orientation,E=S&&(k.sNorm||k.s),C="h"===S?E:void 0!==k.orig_x?k.orig_x:k.x,z="v"===S?E:void 0!==k.orig_y?k.orig_y:k.y;return n.extendFlat(t,{color:a(u,k),x0:A-M,x1:A+M,xLabelVal:C,y0:T-M,y1:T+M,yLabelVal:z,spikeDistance:w(k),hovertemplate:u.hovertemplate}),l(k,u,t),o.getComponentMethod("errorbars","hoverInfo")(k,u,t),[t]}}function L(t){if(!t)return!1;var e=t.node();try{var r=new DOMPoint(g[0],g[1]);return e.isPointInFill(r)}catch(t){var n=e.ownerSVGElement.createSVGPoint();return n.x=g[0],n.y=g[1],e.isPointInFill(n)}}if(-1!==b.indexOf("fills")&&u._fillElement&&L(u._fillElement)&&!L(u._fillExclusionElement)){var O=function(t){var e,r,n,i,o,a,s,l,c,d=[],u=1/0,p=-1/0,m=1/0,b=-1/0;for(e=0;e<t.length;e++){var v=t[e];v.contains(g)&&(d.push(v),m=Math.min(m,v.ymin),b=Math.max(b,v.ymax))}if(0===d.length)return null;for(r=((m=Math.max(m,0))+(b=Math.min(b,f._length)))/2,e=0;e<d.length;e++)for(i=d[e].pts,n=1;n<i.length;n++)(l=i[n-1][1])>r!=(c=i[n][1])>=r&&(a=i[n-1][0],s=i[n][0],c-l&&(o=a+(s-a)*(r-l)/(c-l),u=Math.min(u,o),p=Math.max(p,o)));return{x0:u=Math.max(u,0),x1:p=Math.min(p,h._length),y0:r,y1:r}}(u._polygons);null===O&&(O={x0:g[0],x1:g[0],y0:g[1],y1:g[1]});var D=s.defaultLine;return s.opacity(u.fillcolor)?D=u.fillcolor:s.opacity((u.line||{}).color)&&(D=u.line.color),n.extendFlat(t,{distance:t.maxHoverDistance,x0:O.x0,x1:O.x1,y0:O.y0,y1:O.y1,color:D,hovertemplate:!1}),delete t.index,u.text&&!n.isArrayOrTypedArray(u.text)?t.text=String(u.text):t.text=u.name,[t]}}},3202:t=>{t.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},3315:(t,e,r)=>{"use strict";var n=r(12822),i=r(53572),o=r(85400),a=r(33369);t.exports=function(t,e){function r(r,o){return n.coerce(t,e,i,r,o)}o(t,e)&&(r("hoverdistance"),r("spikedistance")),"select"===r("dragmode")&&r("selectdirection");var s=e._has("mapbox"),l=e._has("map"),c=e._has("geo"),d=e._basePlotModules.length;"zoom"===e.dragmode&&((s||l||c)&&1===d||(s||l)&&c&&2===d)&&(e.dragmode="pan"),a(t,e,r),n.coerceFont(r,"hoverlabel.grouptitlefont",e.hoverlabel.font)}},3520:(t,e,r)=>{"use strict";var n=r(75058),i=r(60713);t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legend:{valType:"subplotid",dflt:"legend",editType:"style",description:["Sets the reference to a legend to show this trace in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")},legendgroup:{valType:"string",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style",description:["Sets the title of the legend group."].join(" ")},font:n({editType:"style",description:["Sets this legend group's title font."].join(" ")}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style",description:["Sets the legend rank for this trace.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items.","When having unranked or equal rank items shapes would be displayed after traces","i.e. according to their order in data and layout."].join(" ")},legendwidth:{valType:"number",min:0,editType:"style",description:"Sets the width (in px or fraction) of the legend for this trace."},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",editType:"style",description:["Sets the trace name.","The trace name appears as the legend item and on hover."].join(" ")},uid:{valType:"string",editType:"plot",anim:!0,description:["Assign an id to this trace,","Use this to provide object constancy between traces during animations","and transitions."].join(" ")},ids:{valType:"data_array",editType:"calc",anim:!0,description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation.","Should be an array of strings, not numbers or any other type."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information associated with this trace","that can be used in various text attributes.","Attributes such as trace `name`, graph, axis and colorbar `title.text`, annotation `text`","`rangeselector`, `updatemenues` and `sliders` `label` text","all support `meta`.","To access the trace `meta` values in an attribute in the same trace, simply use","`%{meta[i]}` where `i` is the index or key of the `meta`","item in question.","To access trace `meta` in layout attributes, use","`%{data[n[.meta[i]}` where `i` is the index or key of the `meta`","and `n` is the trace index."].join(" ")},selectedpoints:{valType:"any",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:i.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://chart-studio.plotly.com/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"},uirevision:{valType:"any",editType:"none",description:["Controls persistence of some user-driven changes to the trace:","`constraintrange` in `parcoords` traces, as well as some","`editable: true` modifications such as `name` and `colorbar.title`.","Defaults to `layout.uirevision`.","Note that other user-driven trace attribute changes are controlled","by `layout` attributes:","`trace.visible` is controlled by `layout.legend.uirevision`,","`selectedpoints` is controlled by `layout.selectionrevision`,","and `colorbar.(x|y)` (accessible with `config: {editable: true}`)","is controlled by `layout.editrevision`.","Trace changes are tracked by `uid`, which only falls back on trace","index if no `uid` is provided. So if your app can add/remove traces","before the end of the `data` array, such that the same trace has a","different index, you can still preserve user-driven changes if you","give each trace a `uid` that stays with it as it moves."].join(" ")}}},3653:(t,e,r)=>{"use strict";var n=r(21197),i=r(46121).templatedArray,o=r(53644);t.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width.","When `xref` ends with ` domain`, units are sized relative","to the axis width."].join(" ")},sizey:{valType:"number",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height.","When `yref` ends with ` domain`, units are sized relative","to the axis height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's x coordinate axis.",o.axisRefDescription("x","left","right")].join(" ")},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper",editType:"arraydraw",description:["Sets the images's y coordinate axis.",o.axisRefDescription("y","bottom","top")].join(" ")},editType:"arraydraw"})},3812:t=>{"use strict";t.exports=n;var e=(n.canvas=document.createElement("canvas")).getContext("2d"),r=i([32,126]);function n(t,n){Array.isArray(t)&&(t=t.join(", "));var o,a={},s=16,l=.05;n&&(2===n.length&&"number"==typeof n[0]?o=i(n):Array.isArray(n)?o=n:(n.o?o=i(n.o):n.pairs&&(o=n.pairs),n.fontSize&&(s=n.fontSize),null!=n.threshold&&(l=n.threshold))),o||(o=r),e.font=s+"px "+t;for(var c=0;c<o.length;c++){var d=o[c],u=e.measureText(d[0]).width+e.measureText(d[1]).width,h=e.measureText(d).width;if(Math.abs(u-h)>s*l){var f=(h-u)/s;a[d]=1e3*f}}return a}function i(t){for(var e=[],r=t[0];r<=t[1];r++)for(var n=String.fromCharCode(r),i=t[0];i<t[1];i++){var o=n+String.fromCharCode(i);e.push(o)}return e}n.createPairs=i,n.ascii=r},4088:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499),o=r(46121),a=r(35677),s=r(76927),l=r(12057);function c(t,e,r,i){var o=i.calendar;function a(r,i){return n.coerce(t,e,s.buttons,r,i)}if(a("visible")){var l=a("step");"all"!==l&&(!o||"gregorian"===o||"month"!==l&&"year"!==l?a("stepmode"):e.stepmode="backward",a("count")),a("label")}}t.exports=function(t,e,r,d,u){var h=t.rangeselector||{},f=o.newContainer(e,"rangeselector");function p(t,e){return n.coerce(h,f,s,t,e)}if(p("visible",a(h,f,{name:"buttons",handleItemDefaults:c,calendar:u}).length>0)){var m=function(t,e,r){for(var n=r.filter((function(r){return e[r].anchor===t._id})),i=0,o=0;o<n.length;o++){var a=e[n[o]].domain;a&&(i=Math.max(a[1],i))}return[t.domain[0],i+l.yPad]}(e,r,d);p("x",m[0]),p("y",m[1]),n.noneOrAll(t,e,["x","y"]),p("xanchor"),p("yanchor"),n.coerceFont(p,"font",r.font);var g=p("bgcolor");p("activecolor",i.contrast(g,l.lightAmount,l.darkAmount)),p("bordercolor"),p("borderwidth")}}},4216:(t,e,r)=>{"use strict";var n=r(81114),i=r(15034);t.exports=function(t){if(i(t))return t;var e=arguments[1],r=e&&e.name?"Expected a plain function for %n, received %v":"%v is not a plain function";return n(t,r,e)}},4496:t=>{"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},4504:(t,e,r)=>{"use strict";var n=r(12822),i=r(46121),o=r(99246),a=r(40959),s=r(73290);t.exports=function(t,e,r){var l=t[r],c=e[r];if(l.rangeslider||e._requestRangeslider[c._id]){n.isPlainObject(l.rangeslider)||(l.rangeslider={});var d,u,h=l.rangeslider,f=i.newContainer(c,"rangeslider");if(w("visible")){w("bgcolor",e.plot_bgcolor),w("bordercolor"),w("borderwidth"),w("thickness"),w("autorange",!c.isValidRange(h.range)),w("range");var p=e._subplots;if(p)for(var m=p.cartesian.filter((function(t){return t.substr(0,t.indexOf("y"))===o.name2id(r)})).map((function(t){return t.substr(t.indexOf("y"),t.length)})),g=n.simpleMap(m,o.id2name),b=0;b<g.length;b++){var v=g[b];d=h[v]||{},u=i.newContainer(f,v,"yaxis");var y,x=e[v];d.range&&x.isValidRange(d.range)&&(y="fixed"),"match"!==_("rangemode",y)&&_("range",x.range.slice())}f._input=h}}function w(t,e){return n.coerce(h,f,a,t,e)}function _(t,e){return n.coerce(d,u,s,t,e)}}},4551:t=>{"use strict";t.exports=Math.min},4664:(t,e,r)=>{"use strict";var n=r(12822),i=r(46233).counter,o=r(40365).u,a=r(21197).idRegex,s=r(46121),l={rows:{valType:"integer",min:1,editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:o({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function c(t,e,r){var n=e[r+"axes"],i=Object.keys((t._splomAxes||{})[r]||{});return Array.isArray(n)?n:i.length?i:void 0}function d(t,e,r,n,i,o){var a=e(t+"gap",r),s=e("domain."+t);e(t+"side",n);for(var l=new Array(i),c=s[0],d=(s[1]-c)/(i-a),u=d*(1-a),h=0;h<i;h++){var f=c+d*h;l[o?i-1-h:h]=[f,f+u]}return l}function u(t,e,r,n,i){var o,a=new Array(r);function s(t,r){-1!==e.indexOf(r)&&void 0===n[r]?(a[t]=r,n[r]=t):a[t]=""}if(Array.isArray(t))for(o=0;o<r;o++)s(o,t[o]);else for(s(0,i),o=1;o<r;o++)s(o,i+(o+1));return a}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(t,e){var r=t.grid||{},i=c(e,r,"x"),o=c(e,r,"y");if(t.grid||i||o){var a,u,h=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),f=Array.isArray(i),p=Array.isArray(o),m=f&&i!==r.xaxes&&p&&o!==r.yaxes;h?(a=r.subplots.length,u=r.subplots[0].length):(p&&(a=o.length),f&&(u=i.length));var g=s.newContainer(e,"grid"),b=A("rows",a),v=A("columns",u);if(b*v>1){h||f||p||"independent"===A("pattern")&&(h=!0),g._hasSubplotGrid=h;var y,x,w="top to bottom"===A("roworder"),_=h?.2:.1,k=h?.3:.1;m&&e._splomGridDflt&&(y=e._splomGridDflt.xside,x=e._splomGridDflt.yside),g._domains={x:d("x",A,_,y,v),y:d("y",A,k,x,b,w)}}else delete e.grid}function A(t,e){return n.coerce(r,g,l,t,e)}},contentDefaults:function(t,e){var r=e.grid;if(r&&r._domains){var n,i,o,a,s,l,d,h=t.grid||{},f=e._subplots,p=r._hasSubplotGrid,m=r.rows,g=r.columns,b="independent"===r.pattern,v=r._axisMap={};if(p){var y=h.subplots||[];l=r.subplots=new Array(m);var x=1;for(n=0;n<m;n++){var w=l[n]=new Array(g),_=y[n]||[];for(i=0;i<g;i++)if(b?(s=1===x?"xy":"x"+x+"y"+x,x++):s=_[i],w[i]="",-1!==f.cartesian.indexOf(s)){if(d=s.indexOf("y"),o=s.slice(0,d),a=s.slice(d),void 0!==v[o]&&v[o]!==i||void 0!==v[a]&&v[a]!==n)continue;w[i]=s,v[o]=i,v[a]=n}}}else{var k=c(e,h,"x"),A=c(e,h,"y");r.xaxes=u(k,f.xaxis,g,v,"x"),r.yaxes=u(A,f.yaxis,m,v,"y")}var T=r._anchors={},M="top to bottom"===r.roworder;for(var S in v){var E,C,z,L=S.charAt(0),O=r[L+"side"];if(O.length<8)T[S]="free";else if("x"===L){if("t"===O.charAt(0)===M?(E=0,C=1,z=m):(E=m-1,C=-1,z=-1),p){var D=v[S];for(n=E;n!==z;n+=C)if((s=l[n][D])&&(d=s.indexOf("y"),s.slice(0,d)===S)){T[S]=s.slice(d);break}}else for(n=E;n!==z;n+=C)if(a=r.yaxes[n],-1!==f.cartesian.indexOf(S+a)){T[S]=a;break}}else if("l"===O.charAt(0)?(E=0,C=1,z=g):(E=g-1,C=-1,z=-1),p){var I=v[S];for(n=E;n!==z;n+=C)if((s=l[I][n])&&(d=s.indexOf("y"),s.slice(d)===S)){T[S]=s.slice(0,d);break}}else for(n=E;n!==z;n+=C)if(o=r.xaxes[n],-1!==f.cartesian.indexOf(o+S)){T[S]=o;break}}}}}},4673:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499),o=r(11891).DESELECTDIM;t.exports={styleTextSelection:function(t){var e,r,a=t[0],s=a.trace,l=a.t,c=l._scene,d=l.index,u=c.selectBatch[d],h=c.unselectBatch[d],f=c.textOptions[d],p=c.textSelectedOptions[d]||{},m=c.textUnselectedOptions[d]||{},g=n.extendFlat({},f);if(u.length||h.length){var b=p.color,v=m.color,y=f.color,x=n.isArrayOrTypedArray(y);for(g.color=new Array(s._length),e=0;e<u.length;e++)r=u[e],g.color[r]=b||(x?y[r]:y);for(e=0;e<h.length;e++){r=h[e];var w=x?y[r]:y;g.color[r]=v||(b?w:i.addOpacity(w,o))}}c.glText[d].update(g)}}},4772:t=>{t.exports=function(t,e,r,n,i){var o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}},4813:t=>{t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],d=e[8],u=e[9],h=e[10],f=e[11],p=e[12],m=e[13],g=e[14],b=e[15];return t[0]=s*(h*b-f*g)-u*(l*b-c*g)+m*(l*f-c*h),t[1]=-(n*(h*b-f*g)-u*(i*b-o*g)+m*(i*f-o*h)),t[2]=n*(l*b-c*g)-s*(i*b-o*g)+m*(i*c-o*l),t[3]=-(n*(l*f-c*h)-s*(i*f-o*h)+u*(i*c-o*l)),t[4]=-(a*(h*b-f*g)-d*(l*b-c*g)+p*(l*f-c*h)),t[5]=r*(h*b-f*g)-d*(i*b-o*g)+p*(i*f-o*h),t[6]=-(r*(l*b-c*g)-a*(i*b-o*g)+p*(i*c-o*l)),t[7]=r*(l*f-c*h)-a*(i*f-o*h)+d*(i*c-o*l),t[8]=a*(u*b-f*m)-d*(s*b-c*m)+p*(s*f-c*u),t[9]=-(r*(u*b-f*m)-d*(n*b-o*m)+p*(n*f-o*u)),t[10]=r*(s*b-c*m)-a*(n*b-o*m)+p*(n*c-o*s),t[11]=-(r*(s*f-c*u)-a*(n*f-o*u)+d*(n*c-o*s)),t[12]=-(a*(u*g-h*m)-d*(s*g-l*m)+p*(s*h-l*u)),t[13]=r*(u*g-h*m)-d*(n*g-i*m)+p*(n*h-i*u),t[14]=-(r*(s*g-l*m)-a*(n*g-i*m)+p*(n*l-i*s)),t[15]=r*(s*h-l*u)-a*(n*h-i*u)+d*(n*l-i*s),t}},4832:(t,e,r)=>{"use strict";t.exports=r(48777)},4890:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},5018:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(78706),i=r.n(n),o=r(72859),a=r.n(o)()(i());a.push([t.id,".chsp-meta {\n    z-index: 1;\n    cursor: pointer;\n}\n\n.chsp-meta .chsp-info-icon {\n    float: right;\n    margin-top: 5px;\n    margin-left: 3px;\n}\n\n.chsp-meta .chsp-info-icon svg {\n    display: block;\n    width: 14px;\n    height: 14px;\n    opacity: 0.6;\n}\n\n.chsp-authors-list {\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: center;\n}\n\n.chsp-authors-list li {\n    border: solid #dee2e6 1px;\n    padding: 10px;\n    list-style-type: none;\n    white-space: nowrap;\n}\n\n.chsp-open-map-settings {\n    position: absolute;\n    top: 3px;\n    left: 5px;\n    z-index: 10;\n}\n\n.chsp-open-viewer-settings {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n}\n\n.chsp-extra-options-btn {\n    margin: auto;\n    display: block;\n}\n\n/* Tooltip text */\n.chsp-tooltip {\n    visibility: hidden;\n    background: #69738a;\n    color: white;\n    padding: 6px;\n    font-size: 12px;\n    line-height: 12px;\n    white-space: nowrap;\n    border-radius: 2px;\n    text-align: center;\n    display: inline-block;\n    width: 9em;\n    position: absolute;\n    z-index: 100000;\n}\n\n.chsp-tooltip-right {\n    top: 0px;\n    right: -9.5em;\n}\n\n.chsp-tooltip-below {\n    top: 35px;\n    left: -3.5em;\n}\n\n.chsp-has-tooltip:hover .chsp-tooltip {\n    visibility: visible;\n}\n\n.chsp-pin-marker {\n    border-radius: 50%;\n    border: solid 1px black;\n    --size: 12px;\n    width: var(--size);\n    height: var(--size);\n    z-index: 10;\n}\n\n.chsp-map-pin-marker {\n    position: absolute;\n    /* ensure the top/right/left/bottom positioning is relative to the center of the div */\n    transform: translate(calc(-50% + var(--size)), -50%);\n}\n\n.chsp-pin-marker:hover {\n    --size: 20px;\n    cursor: pointer;\n}\n\n/* This class is added on top of .chsp-pin-marker for the active pinned structure/environment */\n.chsp-active-pin {\n    border-width: 2px;\n    --size: 20px;\n}\n\n.chsp-active-pin:hover {\n    --size: 22px;\n    cursor: default;\n}\n\n.chsp-viewer-button {\n    position: absolute;\n    padding: 1px;\n    margin: 0;\n    height: 28px;\n    width: 28px;\n    z-index: 10;\n}\n\n.chsp-viewer-action-button {\n    background-color: white;\n    border: none;\n}\n\n.chsp-viewer-action-button:hover {\n    background: white;\n}\n\n.chsp-viewer-action-button svg {\n    opacity: 0.4;\n    transition: opacity 0.15s ease-in-out;\n}\n\n.chsp-viewer-action-button:hover svg {\n    opacity: 0.6;\n}\n\n.chsp-structure-viewer-grid {\n    display: grid;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    grid-column-gap: 2px;\n    grid-row-gap: 2px;\n}\n\n.chsp-structure-viewer-cell {\n    width: 99%;\n    height: 99%;\n    left: 0.5%;\n    top: 0.5%;\n    position: relative;\n    border: 1px solid lightgray;\n    padding: 1px;\n}\n\n.chsp-structure-viewer-cell-active {\n    border-color: gray;\n}\n\n.chsp-map-options {\n    display: grid;\n    grid-template-columns: 1fr 0.5fr;\n    align-items: center;\n    justify-content: center;\n    align-content: start;\n    column-gap: 1em;\n}\n\n.chsp-map-options label {\n    min-width: 6em;\n}\n\n.chsp-map-options > :nth-child(n + 3):not(.chsp-map-extra-options) {\n    margin-top: 1rem;\n}\n\n.chsp-map-extra-options {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: auto 1fr 1fr;\n    column-gap: 1em;\n}\n\n.chsp-map-extra-options > * {\n    margin: 0.4em 0 0 0;\n}\n\n.chsp-map-extra-options label {\n    min-width: auto;\n}\n\n.chsp-map-extra-options {\n    grid-column: 1 / span 2;\n}\n\n.chsp-map-options .form-check-label {\n    width: auto;\n}\n\n.chsp-modal-header {\n    cursor: grab;\n}\n\n.chsp-play-button {\n    border: 0;\n    background: transparent;\n    box-sizing: border-box;\n    height: 1.2em;\n    width: 1.2em;\n    margin-left: 0.5ex;\n\n    border-color: transparent transparent transparent #202020;\n    transition: 100ms all ease;\n    cursor: pointer;\n\n    border-style: solid;\n    border-width: 0.7em 0 0.7em 1em;\n}\n\n.chsp-play-button.chsp-playing {\n    border-style: double;\n    border-width: 0px 0 0px 1.2em;\n}\n\n.chsp-play-button:hover {\n    border-color: transparent transparent transparent #404040;\n}\n\n.chsp-properties-table {\n    height: 100%;\n    width: 90%;\n    margin: auto;\n    border: 1px solid #222;\n    background-color: #ffffffee;\n}\n\n.chsp-properties-table td,\n.chsp-properties-table th {\n    width: 50%;\n    border-top: none;\n}\n\n/* plot container inside property table */\n.chsp-info-plot-holder {\n    width: 80%;\n    margin: 0 auto;\n    aspect-ratio: 16 / 9;\n}\n\n.chsp-settings-section-title {\n    font-weight: bold;\n}\n\n/* Change Plotly modebar style to match the style of the structure grid buttons */\n\n.chsp-map .modebar-group {\n    padding-left: 0 !important;\n}\n\n.chsp-map .modebar-btn {\n    cursor: default !important;\n    font-family: apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n        'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n        'Noto Color Emoji';\n}\n\n.chsp-map .modebar-btn::after {\n    opacity: 0.9;\n}\n\n.chsp-map .icon:hover + .modebar-btn::after {\n    visibility: visible;\n}\n\n.chsp-map .modebar-btn::before {\n    content: none !important;\n}\n\n.chsp-map .modebar-btn .icon {\n    transition: opacity 0.15s ease-in-out;\n    padding: 3px;\n    opacity: 0.3;\n    cursor: pointer;\n}\n\n.chsp-map .modebar-group svg.icon {\n    width: 2em;\n    height: 2em;\n    border-radius: 0.2em;\n}\n\n.chsp-map .modebar-group svg.icon:active {\n    color: #212529;\n    background-color: #dae0e5;\n    border-color: #d3d9df;\n    box-shadow: 0 0 0 0.2rem rgb(216 217 219 / 50%);\n}\n\n.chsp-map .modebar-btn .icon path {\n    transition:\n        color 0.15s ease-in-out,\n        background-color 0.15s ease-in-out,\n        border-color 0.15s ease-in-out,\n        box-shadow 0.15s ease-in-out;\n    fill: black !important;\n}\n\n.chsp-map .modebar-btn .icon:hover {\n    opacity: 0.6;\n}\n\n.chsp-map .modebar-btn.active .icon {\n    opacity: 0.6;\n}\n\n.chsp-info-btns {\n    display: flex;\n    position: relative;\n    margin-bottom: 0.5ex;\n    margin-top: 0.5ex;\n    justify-content: center;\n}\n\n.chsp-info-structure-btn {\n    min-width: 8em;\n    padding-left: 6px;\n    padding-right: 4px;\n    font-weight: bold;\n    font-size: small;\n    background-color: none;\n    border-color: #66a5e8;\n    border-width: 2px;\n    float: left;\n}\n\n.chsp-info-structure-btn:hover {\n    background-color: #5b94d0;\n}\n\n.chsp-info-atom-btn {\n    margin-left: 1em;\n    padding-left: 6px;\n    padding-right: 4px;\n    min-width: 8em;\n    font-weight: bold;\n    font-size: small;\n    background-color: none;\n    border-color: #4cb64c;\n    border-width: 2px;\n}\n\n.chsp-info-atom-btn:hover {\n    background-color: #44a344;\n}\n\n.chsp-info-btns-svg {\n    float: left;\n    padding-right: 6px;\n    padding-top: 3px;\n}\n\n.chsp-info-btns-svg svg {\n    display: block;\n    opacity: 0.6;\n}\n\n.chsp-info-number {\n    -moz-appearance: textfield;\n    appearance: textfield;\n    border: none;\n    transition: background-color 0.15s;\n    background-color: #ebedf0;\n    margin-left: 2px;\n    margin-right: 3px;\n    font-family: inherit;\n    width: 4em;\n}\n\n.chsp-info-atom-btn:hover .chsp-info-number {\n    background-color: #69b569;\n}\n\n.chsp-info-structure-btn:hover .chsp-info-number {\n    background-color: #7ba9d9;\n}\n\n.chsp-info-number::-webkit-outer-spin-button,\n.chsp-info-number::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n.chsp-info-tables {\n    position: relative;\n    width: 100%;\n}\n\n.chsp-info-table {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 10;\n    background-color: transparent;\n    width: 100%;\n    /* max-height is set in JavaScript */\n    overflow: auto;\n}\n\n.chsp-info-table.collapsing {\n    overflow: hidden;\n}\n\n.chsp-info-table table {\n    margin: 0;\n}\n\n.chsp-info-plotarea {\n    background-color: #eeeeeebb !important;\n}\n\n/* Change the atoms slider thumb color to green, to match structure highlight */\n.chsp-atom-slider::-webkit-slider-thumb {\n    background-color: #008000;\n}\n\n.chsp-atom-slider::-moz-range-thumb {\n    background-color: #008000;\n}\n\n.chsp-atom-slider::-ms-thumb {\n    background-color: #008000;\n}\n\n.chsp-atom-slider::-webkit-slider-thumb:active {\n    background-color: #99cc99;\n}\n\n.chsp-atom-slider::-moz-range-thumb:active {\n    background-color: #99cc99;\n}\n\n.chsp-atom-slider::-ms-thumb:active {\n    background-color: #99cc99;\n}\n\n.chsp-atom-slider:focus::-webkit-slider-thumb {\n    box-shadow:\n        0 0 0 1px #fff,\n        0 0 0 0.2rem rgba(0, 255, 0, 0.25);\n}\n\n.chsp-atom-slider:focus::-moz-range-thumb {\n    box-shadow:\n        0 0 0 1px #fff,\n        0 0 0 0.2rem rgba(0, 255, 0, 0.25);\n}\n\n.chsp-atom-slider:focus::-ms-thumb {\n    box-shadow:\n        0 0 0 1px #fff,\n        0 0 0 0.2rem rgba(0, 255, 0, 0.25);\n}\n\n.chsp-settings-representation {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-row-gap: 0.25ex;\n}\n\n.chsp-settings-representation label {\n    cursor: help;\n}\n\n.chsp-settings-supercell {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 2fr;\n}\n\n.chsp-supercell-count {\n    max-width: 3.5em;\n}\n\n.chsp-settings-camera {\n    display: grid;\n    gap: 1em;\n    grid-template-columns: repeat(9, auto);\n    justify-content: center;\n}\n\n.chsp-settings-environments {\n    display: grid;\n    align-items: center;\n    column-gap: 1em;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.chsp-settings-extra-options {\n    display: grid;\n    gap: 1em;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-column: 1 / span 3;\n}\n\n.chsp-settings-extra-options > :nth-child(-n + 3) {\n    margin-top: 1em;\n}\n\n.chsp-settings-trajectory {\n    display: grid;\n    grid-template-columns: 12em 12em;\n    justify-content: center;\n    align-content: center;\n    gap: 1em;\n    margin-bottom: 1ex;\n}\n\n.chsp-cell-info {\n    position: absolute;\n    bottom: 5px;\n    left: 5px;\n    font-size: 0.8em;\n}\n\n.chsp-toggle-plot-btn {\n    display: block;\n    position: relative;\n    margin-top: 3px;\n    margin-bottom: 1px;\n}\n\n.chsp-atom-color-property {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 1em;\n    margin: 0.5em 0;\n}\n\n.chsp-atom-extra-options {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: auto 1fr 1fr;\n    column-gap: 1em;\n}\n\n.chsp-atom-labels-property {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 1em;\n    margin: 0.5em 0;\n}\n\n.chsp-atom-extra-options > * {\n    margin: 0.5em 0;\n}\n\n.chsp-atom-extra-options label {\n    min-width: auto;\n}\n\n.chsp-atom-extra-options {\n    grid-column: 1 / span 2;\n}\n\n.chsp-target-toggle {\n    padding-left: 5px;\n    padding-right: 5px;\n    display: flex;\n    justify-content: flex-end;\n    gap: 5px;\n}\n\n.chsp-target-spinner {\n    width: 25px;\n    height: 25px;\n    margin-left: 5px;\n}\n\n/* make sure there are sane styling options for the modal dialogues,\nto avoid unreadable text when using dark themes */\n:root {\n    --cs-modal-background-light: #eee;\n    --cs-modal-text-light: #222;\n    --cs-modal-background-dark: #222;\n    --cs-modal-text-dark: #eee;\n}\n\n.modal-content,\n.modal-header,\n.modal-footer {\n    color: var(--cs-modal-text-light);\n    background-color: var(--cs-modal-background-light);\n}\n\n@media (prefers-color-scheme: dark) {\n    .modal-content,\n    .modal-header,\n    .modal-footer {\n        background-color: var(--cs-modal-background-dark);\n        color: var(--cs-modal-text-dark);\n    }\n}\n",""]);const s=a},5041:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=i.extendFlat,a=i.extendDeep;function s(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}t.exports=function(t,e){var r,i,l=t.data,c=t.layout,d=a([],l),u=a({},c,s(e.tileClass)),h=t._context||{};if(e.width&&(u.width=e.width),e.height&&(u.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){u.annotations=[];var f=Object.keys(u);for(r=0;r<f.length;r++)i=f[r],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(u[f[r]].title={text:""});for(r=0;r<d.length;r++){var p=d[r];p.showscale=!1,p.marker&&(p.marker.showscale=!1),n.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(e.annotations))for(r=0;r<e.annotations.length;r++)u.annotations.push(e.annotations[r]);var m=Object.keys(u).filter((function(t){return t.match(/^scene\d*$/)}));if(m.length){var g={};for("thumbnail"===e.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<m.length;r++){var b=u[m[r]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),o(b.xaxis,g),o(b.yaxis,g),o(b.zaxis,g),b._scene=null}}var v=document.createElement("div");e.tileClass&&(v.className=e.tileClass);var y={gd:v,td:v,layout:u,data:d,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:h.mapboxAccessToken}};return"transparent"!==e.setBackground&&(y.config.setBackground=e.setBackground||"opaque"),y.gd.defaultLayout=s(e.tileClass),y}},5365:(t,e,r)=>{"use strict";var n=r(7370),i=r(18106),o=r(98260).extendFlat,a=r(3520),s=r(78920),l=r(17499),c=r(11891).DESELECTDIM,d=r(91355),u=r(46233).counter,h=r(31918).modHalf,f=r(98507).isArrayOrTypedArray,p=r(98507).isTypedArraySpec,m=r(98507).decodeTypedArraySpec;function g(t,r){var n=e.valObjectMeta[r.valType];if(r.arrayOk&&f(t))return!0;if(n.validateFunction)return n.validateFunction(t,r);var i={},o=i,a={set:function(t){o=t}};return n.coerceFunction(t,a,i,r),o!==i}e.valObjectMeta={data_array:{description:["An {array} of data.","The value must represent an {array} or it will be ignored,","but this array can be provided in several forms:","(1) a regular {array} object","(2) a typed array (e.g. Float32Array)","(3) an object with keys dtype, bdata, and optionally shape.","In this 3rd form, dtype is one of","*f8*, *f4*.","*i4*, *u4*,","*i2*, *u2*,","*i1*, *u1* or *u1c* for Uint8ClampedArray.","In addition to shorthand `dtype` above one could also use the following forms:","*float64*, *float32*,","*int32*, *uint32*,","*int16*, *uint16*,","*int8*, *uint8* or *uint8c* for Uint8ClampedArray.","`bdata` is either a base64-encoded string or the ArrayBuffer of","an integer or float typed array.","For either multi-dimensional arrays you must also","provide its dimensions separated by comma via `shape`.","For example using `dtype`: *f4* and `shape`: *5,100* you can","declare a 2-D array that has 5 rows and 100 columns","containing float32 values i.e. 4 bits per value.","`shape` is optional for one dimensional arrays."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){e.set(f(t)?t:p(t)?m(t):r)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(t,e,r,n){n.coerceNumber&&(t=+t),-1===n.values.indexOf(t)?e.set(r):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var r=e.values,n=0;n<r.length;n++){var i=String(r[n]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===r[n])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){!0===t||!1===t?e.set(t):e.set(r)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(t,e,r,i){p(t)&&(t=m(t)),!n(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(r):e.set(+t)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk","extras"],coerceFunction:function(t,e,r,i){-1===(i.extras||[]).indexOf(t)?(p(t)&&(t=m(t)),t%1||!n(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?e.set(r):e.set(+t)):e.set(t)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(t,e,r,n){if("string"!=typeof t){var i="number"==typeof t;!0!==n.strict&&i?e.set(String(t)):e.set(r)}else n.noBlank&&!t?e.set(r):e.set(t)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){p(t)&&(t=m(t)),i(t).isValid()?e.set(t):e.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){Array.isArray(t)&&t.length&&t.every((function(t){return i(t).isValid()}))?e.set(t):e.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",Object.keys(s.scales).join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(t,e,r){e.set(s.get(t,r))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(t,e,r){p(t)&&(t=m(t)),"auto"===t?e.set("auto"):n(t)?e.set(h(+t,360)):e.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:["regex"],coerceFunction:function(t,e,r,n){var i=n.regex||u(r);"string"==typeof t&&i.test(t)?e.set(t):e.set(r)},validateFunction:function(t,e){var r=e.dflt;return t===r||"string"==typeof t&&!!u(r).test(t)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(t,e,r,n){if(-1===(n.extras||[]).indexOf(t))if("string"==typeof t){for(var i=t.split("+"),o=0;o<i.length;){var a=i[o];-1===n.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?e.set(i.join("+")):e.set(r)}else e.set(r);else e.set(t)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(t,e,r){void 0===t?e.set(r):e.set(p(t)?m(t):t)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(t,r,n,i){function o(t,r,n){var i,o={set:function(t){i=t}};return void 0===n&&(n=r.dflt),e.valObjectMeta[r.valType].coerceFunction(t,o,n,r),i}if(p(t)&&(t=m(t)),f(t)){var a,s,l,c,d,u,h=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(t)&&f(t[0]),g=i.items,b=[],v=Array.isArray(g),y=v&&h&&f(g[0]),x=h&&v&&!y,w=v&&!x?g.length:t.length;if(n=Array.isArray(n)?n:[],h)for(a=0;a<w;a++)for(b[a]=[],l=f(t[a])?t[a]:[],d=x?g.length:v?g[a].length:l.length,s=0;s<d;s++)c=x?g[s]:v?g[a][s]:g,void 0!==(u=o(l[s],c,(n[a]||[])[s]))&&(b[a][s]=u);else for(a=0;a<w;a++)void 0!==(u=o(t[a],v?g[a]:g,n[a]))&&(b[a]=u);r.set(b)}else r.set(n)},validateFunction:function(t,e){if(!f(t))return!1;var r=e.items,n=Array.isArray(r),i=2===e.dimensions;if(!e.freeLength&&t.length!==r.length)return!1;for(var o=0;o<t.length;o++)if(i){if(!f(t[o])||!e.freeLength&&t[o].length!==r[o].length)return!1;for(var a=0;a<t[o].length;a++)if(!g(t[o][a],n?r[o][a]:r))return!1}else if(!g(t[o],n?r[o]:r))return!1;return!0}}},e.coerce=function(t,r,n,i,o){var a=d(n,i).get(),s=d(t,i),l=d(r,i),c=s.get(),u=r._template;if(void 0===c&&u&&(c=d(u,i).get(),u=0),void 0===o&&(o=a.dflt),a.arrayOk){if(f(c))return l.set(c),c;if(p(c))return c=m(c),l.set(c),c}var h=e.valObjectMeta[a.valType].coerceFunction;h(c,l,o,a);var b=l.get();return u&&b===o&&!g(c,a)&&(h(c=d(u,i).get(),l,o,a),b=l.get()),b},e.coerce2=function(t,r,n,i,o){var a=d(t,i),s=e.coerce(t,r,n,i,o);return null!=a.get()&&s},e.coerceFont=function(t,e,r,n){n||(n={}),r=o({},r);var i={family:t(e+".family",(r=o(r,n.overrideDflt||{})).family),size:t(e+".size",r.size),color:t(e+".color",r.color),weight:t(e+".weight",r.weight),style:t(e+".style",r.style)};if(n.noFontVariant||(i.variant=t(e+".variant",r.variant)),n.noFontLineposition||(i.lineposition=t(e+".lineposition",r.lineposition)),n.noFontTextcase||(i.textcase=t(e+".textcase",r.textcase)),!n.noFontShadow){var a=r.shadow;"none"===a&&n.autoShadowDflt&&(a="auto"),i.shadow=t(e+".shadow",a)}return i},e.coercePattern=function(t,e,r,n){var i,o=t(e+".shape");if(o||(i=t(e+".path")),o||i){o&&t(e+".solidity"),t(e+".size");var a="overlay"===t(e+".fillmode");if(!n){var s=t(e+".bgcolor",a?r:void 0);t(e+".fgcolor",a?l.contrast(s):r)}t(e+".fgopacity",a?.5:1)}},e.coerceHoverinfo=function(t,r,n){var i,o=r._module.attributes,s=o.hoverinfo?o:a,l=s.hoverinfo;if(1===n._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),i=c.join("+")}return e.coerce(t,r,s,"hoverinfo",i)},e.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var r,n,i=t.marker.opacity;void 0!==i&&(f(i)||t.selected||t.unselected||(r=i,n=c*i),e("selected.marker.opacity",r),e("unselected.marker.opacity",n))}},e.validate=g},5438:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(t){for(var e=[],r=1,n=0;r<t.length;r+=1,n+=1)e[n]=t[r];return e}(arguments),s=r(0,i.length-a.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(t){for(var e="",r=0;r<t.length;r+=1)e+=t[r],r+1<t.length&&(e+=",");return e}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var e=i.apply(this,n(a,arguments));return Object(e)===e?e:this}return i.apply(t,n(a,arguments))})),i.prototype){var d=function(){};d.prototype=i.prototype,o.prototype=new d,d.prototype=null}return o}},5955:(t,e,r)=>{"use strict";r.d(e,{A:()=>pt});var n=r(78706),i=r.n(n),o=r(72859),a=r.n(o),s=r(21906),l=r.n(s),c=new URL(r(77035),r.b),d=new URL(r(43470),r.b),u=new URL(r(68164),r.b),h=new URL(r(64665),r.b),f=new URL(r(4890),r.b),p=new URL(r(13363),r.b),m=new URL(r(13490),r.b),g=new URL(r(47603),r.b),b=new URL(r(13913),r.b),v=new URL(r(91413),r.b),y=new URL(r(64643),r.b),x=new URL(r(80216),r.b),w=new URL(r(61907),r.b),_=new URL(r(68605),r.b),k=new URL(r(25446),r.b),A=new URL(r(56694),r.b),T=new URL(r(24420),r.b),M=new URL(r(75796),r.b),S=new URL(r(92228),r.b),E=new URL(r(9819),r.b),C=new URL(r(47695),r.b),z=new URL(r(28869),r.b),L=new URL(r(30557),r.b),O=new URL(r(48460),r.b),D=new URL(r(56539),r.b),I=new URL(r(43737),r.b),F=new URL(r(47914),r.b),R=new URL(r(26117),r.b),P=new URL(r(66311),r.b),j=a()(i()),N=l()(c),B=l()(d),U=l()(u),V=l()(h),G=l()(f),H=l()(p),W=l()(m),q=l()(g),$=l()(b),Y=l()(v),Z=l()(y),X=l()(x),J=l()(w),Q=l()(_),K=l()(k),tt=l()(A),et=l()(T),rt=l()(M),nt=l()(S),it=l()(E),ot=l()(C),at=l()(z),st=l()(L),lt=l()(O),ct=l()(D),dt=l()(I),ut=l()(F),ht=l()(R),ft=l()(P);j.push([t.id,`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url(${N})}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url(${B})}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url(${U})}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url(${V})}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url(${G})}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url(${H})}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url(${W})}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url(${q})}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url(${$})}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url(${Y})}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url(${Z})}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url(${q})}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url(${X})}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url(${J})}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url(${Q})}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url(${K})}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url(${tt})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url(${et})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url(${rt})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url(${nt})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url(${it})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url(${ot})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url(${at})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url(${st})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url(${lt})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url(${nt})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url(${it})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url(${ot})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url(${at})}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url(${ct})}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url(${dt})}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url(${ut});background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url(${ut})}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url(${ut})}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url(${ht});border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url(${ft})}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url(${ht})}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,""]);const pt=j},6048:t=>{"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},6313:t=>{"use strict";t.exports=function(t,e,r){Array.isArray(r)||(r=[].slice.call(arguments,2));for(var n=0,i=r.length;n<i;n++){var o=r[n];for(var a in o)if((void 0===e[a]||Array.isArray(e[a])||t[a]!==e[a])&&a in e){var s;if(!0===o[a])s=e[a];else{if(!1===o[a])continue;if("function"==typeof o[a]&&void 0===(s=o[a](e[a],t,e)))continue}t[a]=s}}return t}},6583:t=>{"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},6627:(t,e,r)=>{"use strict";var n=r(9994);function i(t){if(t.container)if(t.container==document.body)document.body.style.width||(t.canvas.width=t.width||t.pixelRatio*r.g.innerWidth),document.body.style.height||(t.canvas.height=t.height||t.pixelRatio*r.g.innerHeight);else{var e=t.container.getBoundingClientRect();t.canvas.width=t.width||e.right-e.left,t.canvas.height=t.height||e.bottom-e.top}}function o(t){return"function"==typeof t.getContext&&"width"in t&&"height"in t}function a(){var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=0,t.style.left=0,t}t.exports=function(t){var e;if(t?"string"==typeof t&&(t={container:t}):t={},(t=o(t)||"string"==typeof(e=t).nodeName&&"function"==typeof e.appendChild&&"function"==typeof e.getBoundingClientRect?{container:t}:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(t)?{gl:t}:n(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(t.pixelRatio=r.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if("string"==typeof t.container){var s=document.querySelector(t.container);if(!s)throw Error("Element "+t.container+" is not found");t.container=s}o(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=a(),t.container.appendChild(t.canvas),i(t))}else if(!t.canvas){if("undefined"==typeof document)throw Error("Not DOM environment. Use headless-gl.");t.container=document.body||document.documentElement,t.canvas=a(),t.container.appendChild(t.canvas),i(t)}return t.gl||["webgl","experimental-webgl","webgl-experimental"].some((function(e){try{t.gl=t.canvas.getContext(e,t.attrs)}catch(t){}return t.gl})),t.gl}},6723:(t,e,r)=>{"use strict";var n=r(43765),i=r(10781);t.exports=function(){var t=n();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},6749:(t,e,r)=>{"use strict";var n=r(7370),i=r(98507).isArrayOrTypedArray;e.aggNums=function(t,r,o,a){var s,l;if((!a||a>o.length)&&(a=o.length),n(r)||(r=!1),i(o[0])){for(l=new Array(a),s=0;s<a;s++)l[s]=e.aggNums(t,r,o[s]);o=l}for(s=0;s<a;s++)n(r)?n(o[s])&&(r=t(+r,+o[s])):r=o[s];return r},e.len=function(t){return e.aggNums((function(t){return t+1}),0,t)},e.mean=function(t,r){return r||(r=e.len(t)),e.aggNums((function(t,e){return t+e}),0,t)/r},e.geometricMean=function(t,r){return r||(r=e.len(t)),Math.pow(e.aggNums((function(t,e){return t*e}),1,t),1/r)},e.midRange=function(t){if(void 0!==t&&0!==t.length)return(e.aggNums(Math.max,null,t)+e.aggNums(Math.min,null,t))/2},e.variance=function(t,r,i){return r||(r=e.len(t)),n(i)||(i=e.mean(t,r)),e.aggNums((function(t,e){return t+Math.pow(e-i,2)}),0,t)/r},e.stdev=function(t,r,n){return Math.sqrt(e.variance(t,r,n))},e.median=function(t){var r=t.slice().sort();return e.interp(r,.5)},e.interp=function(t,e){if(!n(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var r=e%1;return r*t[Math.ceil(e)]+(1-r)*t[Math.floor(e)]}},6883:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(51137),a=r(25059),s=r(12822),l=s.strTranslate,c=r(40666),d=r(17499),u=r(80394),h=r(11891),f=r(89701).OPPOSITE_SIDE,p=/ [XY][0-9]* /;t.exports={draw:function(t,e,r){var m,g=t._fullLayout,b=r.propContainer,v=r.propName,y=r.placeholder,x=r.traceIndex,w=r.avoid||{},_=r.attributes,k=r.transform,A=r.containerGroup,T=1,M=b.title,S=(M&&M.text?M.text:"").trim(),E=!1,C=M&&M.font?M.font:{},z=C.family,L=C.size,O=C.color,D=C.weight,I=C.style,F=C.variant,R=C.textcase,P=C.lineposition,j=C.shadow,N=!!r.subtitlePropName,B=r.subtitlePlaceholder,U=(b.title||{}).subtitle||{text:"",font:{}},V=(U.text||"").trim(),G=!1,H=1,W=U.font,q=W.family,$=W.size,Y=W.color,Z=W.weight,X=W.style,J=W.variant,Q=W.textcase,K=W.lineposition,tt=W.shadow;"title.text"===v?m="titleText":-1!==v.indexOf("axis")?m="axisTitleText":-1!==v.indexOf("colorbar")&&(m="colorbarTitleText");var et=t._context.edits[m];function rt(t,e){return void 0!==t&&void 0!==e&&t.replace(p," % ")===e.replace(p," % ")}""===S?T=0:rt(S,y)&&(et||(S=""),T=.2,E=!0),N&&(""===V?H=0:rt(V,B)&&(et||(V=""),H=.2,G=!0)),r._meta?S=s.templateString(S,r._meta):g._meta&&(S=s.templateString(S,g._meta));var nt,it=S||V||et;A||(A=s.ensureSingle(g._infolayer,"g","g-"+e),nt=g._hColorbarMoveTitle);var ot=A.selectAll("text."+e).data(it?[0]:[]);ot.enter().append("text"),ot.text(S).attr("class",e),ot.exit().remove();var at=null,st=e+"-subtitle",lt=V||et;if(N&&((at=A.selectAll("text."+st).data(lt?[0]:[])).enter().append("text"),at.text(V).attr("class",st),at.exit().remove()),!it)return A;function ct(t,e){s.syncOrAsync([dt,ut],{title:t,subtitle:e})}function dt(r){var i,a=r.title,h=r.subtitle;if(!k&&nt&&(k={}),k?(i="",k.rotate&&(i+="rotate("+[k.rotate,_.x,_.y]+")"),(k.offset||nt)&&(i+=l(0,(k.offset||0)-(nt||0)))):i=null,a.attr("transform",i),a.style("opacity",T*d.opacity(O)).call(c.font,{color:d.rgb(O),size:n.round(L,2),family:z,weight:D,style:I,variant:F,textcase:R,shadow:j,lineposition:P}).attr(_).call(u.convertToTspans,t,(function(t){if(t){var e=n.select(t.node().parentNode).select("."+st);if(!e.empty()){var r=t.node().getBBox();if(r.height){var i=r.y+r.height+1.6*$;e.attr("y",i)}}}})),h&&!h.empty()){var f=A.select("."+e+"-math-group"),p=a.node().getBBox(),m=f.node()?f.node().getBBox():void 0,g=m?m.y+m.height+1.6*$:p.y+p.height+1.6*$,b=s.extendFlat({},_,{y:g});h.attr("transform",i),h.style("opacity",H*d.opacity(Y)).call(c.font,{color:d.rgb(Y),size:n.round($,2),family:q,weight:Z,style:X,variant:J,textcase:Q,shadow:tt,lineposition:K}).attr(b).call(u.convertToTspans,t)}return o.previousPromises(t)}function ut(e){var r=e.title,o=n.select(r.node().parentNode);if(w&&w.selection&&w.side&&S){o.attr("transform",null);var a=f[w.side],d="left"===w.side||"top"===w.side?-1:1,u=i(w.pad)?w.pad:2,h=c.bBox(o.node()),p={t:0,b:0,l:0,r:0},m=t._fullLayout._reservedMargin;for(var v in m)for(var y in m[v]){var x=m[v][y];p[y]=Math.max(p[y],x)}var _={left:p.l,top:p.t,right:g.width-p.r,bottom:g.height-p.b},k=w.maxShift||d*(_[w.side]-h[w.side]),A=0;if(k<0)A=k;else{var T=w.offsetLeft||0,M=w.offsetTop||0;h.left-=T,h.right-=T,h.top-=M,h.bottom-=M,w.selection.each((function(){var t=c.bBox(this);s.bBoxIntersect(h,t,u)&&(A=Math.max(A,d*(t[w.side]-h[a])+u))})),A=Math.min(k,A),b._titleScoot=Math.abs(A)}if(A>0||k<0){var E={left:[-A,0],right:[A,0],top:[0,-A],bottom:[0,A]}[w.side];o.attr("transform",l(E[0],E[1]))}}}function ht(t,e){t.text(e).on("mouseover.opacity",(function(){n.select(this).transition().duration(h.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){n.select(this).transition().duration(h.HIDE_PLACEHOLDER).style("opacity",0)}))}if(ot.call(ct,at),et&&(S?ot.on(".opacity",null):(ht(ot,y),E=!0),ot.call(u.makeEditable,{gd:t}).on("edit",(function(e){void 0!==x?a.call("_guiRestyle",t,v,e,x):a.call("_guiRelayout",t,v,e)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(ct)})).on("input",(function(t){this.text(t||" ").call(u.positionText,_.x,_.y)})),N)){if(N&&!S){var ft=ot.node().getBBox(),pt=ft.y+ft.height+1.6*$;at.attr("y",pt)}V?at.on(".opacity",null):(ht(at,B),G=!0),at.call(u.makeEditable,{gd:t}).on("edit",(function(e){a.call("_guiRelayout",t,"title.subtitle.text",e)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(ct)})).on("input",(function(t){this.text(t||" ").call(u.positionText,at.attr("x"),at.attr("y"))}))}return ot.classed("js-placeholder",E),at&&!at.empty()&&at.classed("js-placeholder",G),A},SUBTITLE_PADDING_EM:1.6,SUBTITLE_PADDING_MATHJAX_EM:1.6}},7111:(t,e,r)=>{"use strict";var n=r(12822);t.exports=function(t,e){var r=e._scene,i={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},o={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return e._scene||((r=e._scene={}).init=function(){n.extendFlat(r,o,i)},r.init(),r.update=function(t){var e=n.repeat(t,r.count);if(r.fill2d&&r.fill2d.update(e),r.scatter2d&&r.scatter2d.update(e),r.line2d&&r.line2d.update(e),r.error2d&&r.error2d.update(e.concat(e)),r.select2d&&r.select2d.update(e),r.glText)for(var i=0;i<r.count;i++)r.glText[i].update(t)},r.draw=function(){for(var t=r.count,e=r.fill2d,i=r.error2d,o=r.line2d,a=r.scatter2d,s=r.glText,l=r.select2d,c=r.selectBatch,d=r.unselectBatch,u=0;u<t;u++){if(e&&r.fillOrder[u]&&e.draw(r.fillOrder[u]),o&&r.lineOptions[u]&&o.draw(u),i&&(r.errorXOptions[u]&&i.draw(u),r.errorYOptions[u]&&i.draw(u+t)),a&&r.markerOptions[u])if(d[u].length){var h=n.repeat([],r.count);h[u]=d[u],a.draw(h)}else c[u].length||a.draw(u);s[u]&&r.textOptions[u]&&s[u].render()}l&&l.draw(c),r.dirty=!1},r.destroy=function(){r.fill2d&&r.fill2d.destroy&&r.fill2d.destroy(),r.scatter2d&&r.scatter2d.destroy&&r.scatter2d.destroy(),r.error2d&&r.error2d.destroy&&r.error2d.destroy(),r.line2d&&r.line2d.destroy&&r.line2d.destroy(),r.select2d&&r.select2d.destroy&&r.select2d.destroy(),r.glText&&r.glText.forEach((function(t){t.destroy&&t.destroy()})),r.lineOptions=null,r.fillOptions=null,r.markerOptions=null,r.markerSelectedOptions=null,r.markerUnselectedOptions=null,r.errorXOptions=null,r.errorYOptions=null,r.textOptions=null,r.textSelectedOptions=null,r.textUnselectedOptions=null,r.selectBatch=null,r.unselectBatch=null,e._scene=null}),r.dirty||n.extendFlat(r,i),r}},7113:(t,e,r)=>{"use strict";var n=r(47685),i=Object.keys(n),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],a=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),s=[];i.forEach((function(t){!function(t){if(-1===a.indexOf(t._cat||t.name)){var e=t.name,r=(t._cat||t.name).toLowerCase();-1===s.indexOf(e)&&s.push(e),-1===s.indexOf(r)&&s.push(r)}}(n[t])})),s.sort(),t.exports={DRAW_MODES:o,backButtons:a,foreButtons:s}},7354:t=>{t.exports=function(t,e,r){var n,i,o,a=r[0],s=r[1],l=r[2],c=Math.sqrt(a*a+s*s+l*l);return Math.abs(c)<1e-6?null:(a*=c=1/c,s*=c,l*=c,n=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+l*n,t[2]=l*a*o-s*n,t[3]=0,t[4]=a*s*o-l*n,t[5]=s*s*o+i,t[6]=l*s*o+a*n,t[7]=0,t[8]=a*l*o+s*n,t[9]=s*l*o-a*n,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},7370:(t,e,r)=>{"use strict";var n=r(45219);t.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(0==(t=+t)&&n(r))return!1}else if("number"!==e)return!1;return t-t<1}},7623:(t,e,r)=>{"use strict";e.version=r(88566).version,r(60613),r(1146);for(var n=r(25059),i=e.register=n.register,o=r(41103),a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];"_"!==l.charAt(0)&&(e[l]=o[l]),i({moduleType:"apiMethod",name:l,fn:o[l]})}i(r(56384)),i([r(65534),r(95997),r(70059),r(60166),r(62494),r(43787),r(53534),r(78900),r(36404),r(4664),r(90156),r(80755),r(10552),r(97833),r(70410),r(45828)]),i([r(6048),r(10701)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),e.Icons=r(50917);var c=r(70410),d=r(51137);e.Plots={resize:d.resize,graphJson:d.graphJson,sendDataToCloud:d.sendDataToCloud},e.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},e.Snapshot=r(21367),e.PlotSchema=r(35852)},7999:t=>{"use strict";t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},8037:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(35677),a=r(65586),s=r(23223);function l(t,e,r){function o(r,i){return n.coerce(t,e,a,r,i)}var l=o("path"),c="path"!==o("type",l?"path":"rect");c&&delete e.path,o("opacity"),o("line.color"),o("line.width"),o("line.dash");for(var d=["x","y"],u=0;u<2;u++){var h,f,p,m=d[u],g={_fullLayout:r},b=i.coerceRef(t,e,g,m);if((h=i.getFromId(g,b))._selectionIndices.push(e._index),p=s.rangeToShapePosition(h),f=s.shapePositionToRange(h),c){var v=m+"0",y=m+"1",x=t[v],w=t[y];t[v]=f(t[v],!0),t[y]=f(t[y],!0),i.coercePosition(e,g,o,b,v),i.coercePosition(e,g,o,b,y);var _=e[v],k=e[y];void 0!==_&&void 0!==k&&(e[v]=p(_),e[y]=p(k),t[v]=x,t[y]=w)}}c&&n.noneOrAll(t,e,["x0","x1","y0","y1"])}t.exports=function(t,e){o(t,e,{name:"selections",handleItemDefaults:l});for(var r=e.selections,n=0;n<r.length;n++){var i=r[n];i&&void 0===i.path&&(void 0!==i.x0&&void 0!==i.x1&&void 0!==i.y0&&void 0!==i.y1||(e.selections[n]=null))}}},8214:(t,e,r)=>{"use strict";var n,i,o=r(31845).gl_plot3d,a=o.createCamera,s=o.createScene,l=r(62945),c=r(17520),d=r(25059),u=r(12822),h=u.preserveDrawingBuffer(),f=r(75815),p=r(70410),m=r(17235),g=r(91203),b=r(40747),v=r(82678),y=r(63306),x=r(1285),w=r(19496).applyAutorangeOptions,_=!1;function k(t,e){var r=document.createElement("div"),n=t.container;this.graphDiv=t.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",r.appendChild(i),this.svgContainer=i,r.id=t.id,r.style.position="absolute",r.style.top=r.style.left="0px",r.style.width=r.style.height="100%",n.appendChild(r),this.fullLayout=e,this.id=t.id||"scene",this.fullSceneLayout=e[this.id],this.plotArgs=[[],{},{}],this.axesOptions=v(e,e[this.id]),this.spikeOptions=y(e[this.id]),this.container=r,this.staticMode=!!t.staticPlot,this.pixelRatio=this.pixelRatio||t.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=d.getComponentMethod("annotations3d","convert"),this.drawAnnotations=d.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=k.prototype;A.prepareOptions=function(){var t=this,e={canvas:t.canvas,gl:t.gl,glOptions:{preserveDrawingBuffer:h,premultipliedAlpha:!0,antialias:!0},container:t.container,axes:t.axesOptions,spikes:t.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:t.camera,pixelRatio:t.pixelRatio};if(t.staticMode){if(!(i||(n=document.createElement("canvas"),i=l({canvas:n,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");e.gl=i,e.canvas=n}return e};var T=!0;A.tryCreatePlot=function(){var t=this,e=t.prepareOptions(),r=!0;try{t.glplot=s(e)}catch(n){if(t.staticMode||!T||h)r=!1;else{u.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{h=e.glOptions.preserveDrawingBuffer=!0,t.glplot=s(e)}catch(t){h=e.glOptions.preserveDrawingBuffer=!1,r=!1}}}return T=!1,r},A.initializeGLCamera=function(){var t=this,e=t.fullSceneLayout.camera,r="orthographic"===e.projection.type;t.camera=a(t.container,{center:[e.center.x,e.center.y,e.center.z],eye:[e.eye.x,e.eye.y,e.eye.z],up:[e.up.x,e.up.y,e.up.z],_ortho:r,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var t=this;if(t.initializeGLCamera(),!t.tryCreatePlot())return g(t);t.traces={},t.make4thDimension();var e=t.graphDiv,r=e.layout,n=function(){var e={};return t.isCameraChanged(r)&&(e[t.id+".camera"]=t.getCamera()),t.isAspectChanged(r)&&(e[t.id+".aspectratio"]=t.glplot.getAspectratio(),"manual"!==r[t.id].aspectmode&&(t.fullSceneLayout.aspectmode=r[t.id].aspectmode=e[t.id+".aspectmode"]="manual")),e},i=function(t){if(!1!==t.fullSceneLayout.dragmode){var e=n();t.saveLayout(r),t.graphDiv.emit("plotly_relayout",e)}};return t.glplot.canvas&&(t.glplot.canvas.addEventListener("mouseup",(function(){i(t)})),t.glplot.canvas.addEventListener("touchstart",(function(){_=!0})),t.glplot.canvas.addEventListener("wheel",(function(r){if(e._context._scrollZoom.gl3d){if(t.camera._ortho){var n=r.deltaX>r.deltaY?1.1:1/1.1,o=t.glplot.getAspectratio();t.glplot.setAspectratio({x:n*o.x,y:n*o.y,z:n*o.z})}i(t)}}),!!c&&{passive:!1}),t.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==t.fullSceneLayout.dragmode&&0!==t.camera.mouseListener.buttons){var e=n();t.graphDiv.emit("plotly_relayouting",e)}})),t.staticMode||t.glplot.canvas.addEventListener("webglcontextlost",(function(r){e&&e.emit&&e.emit("plotly_webglcontextlost",{event:r,layer:t.id})}),!1)),t.glplot.oncontextloss=function(){t.recoverContext()},t.glplot.onrender=function(){t.render()},!0},A.render=function(){var t,e=this,r=e.graphDiv,n=e.svgContainer,i=e.container.getBoundingClientRect();r._fullLayout._calcInverseTransform(r);var o=r._fullLayout._invScaleX,a=r._fullLayout._invScaleY,s=i.width*o,l=i.height*a;n.setAttributeNS(null,"viewBox","0 0 "+s+" "+l),n.setAttributeNS(null,"width",s),n.setAttributeNS(null,"height",l),x(e),e.glplot.axes.update(e.axesOptions);for(var c=Object.keys(e.traces),d=null,h=e.glplot.selection,m=0;m<c.length;++m)"skip"!==(t=e.traces[c[m]]).data.hoverinfo&&t.handlePick(h)&&(d=t),t.setContourLevels&&t.setContourLevels();function g(t,r,n){var i=e.fullSceneLayout[t+"axis"];return"log"!==i.type&&(r=i.d2l(r)),f.hoverLabelText(i,r,n)}if(null!==d){var v=b(e.glplot.cameraParams,h.dataCoordinate);t=d.data;var y,w=r._fullData[t.index],k=h.index,A={xLabel:g("x",h.traceCoordinate[0],t.xhoverformat),yLabel:g("y",h.traceCoordinate[1],t.yhoverformat),zLabel:g("z",h.traceCoordinate[2],t.zhoverformat)},T=p.castHoverinfo(w,e.fullLayout,k),M=(T||"").split("+"),S=T&&"all"===T;w.hovertemplate||S||(-1===M.indexOf("x")&&(A.xLabel=void 0),-1===M.indexOf("y")&&(A.yLabel=void 0),-1===M.indexOf("z")&&(A.zLabel=void 0),-1===M.indexOf("text")&&(h.textLabel=void 0),-1===M.indexOf("name")&&(d.name=void 0));var E=[];"cone"===t.type||"streamtube"===t.type?(A.uLabel=g("x",h.traceCoordinate[3],t.uhoverformat),(S||-1!==M.indexOf("u"))&&E.push("u: "+A.uLabel),A.vLabel=g("y",h.traceCoordinate[4],t.vhoverformat),(S||-1!==M.indexOf("v"))&&E.push("v: "+A.vLabel),A.wLabel=g("z",h.traceCoordinate[5],t.whoverformat),(S||-1!==M.indexOf("w"))&&E.push("w: "+A.wLabel),A.normLabel=h.traceCoordinate[6].toPrecision(3),(S||-1!==M.indexOf("norm"))&&E.push("norm: "+A.normLabel),"streamtube"===t.type&&(A.divergenceLabel=h.traceCoordinate[7].toPrecision(3),(S||-1!==M.indexOf("divergence"))&&E.push("divergence: "+A.divergenceLabel)),h.textLabel&&E.push(h.textLabel),y=E.join("<br>")):"isosurface"===t.type||"volume"===t.type?(A.valueLabel=f.hoverLabelText(e._mockAxis,e._mockAxis.d2l(h.traceCoordinate[3]),t.valuehoverformat),E.push("value: "+A.valueLabel),h.textLabel&&E.push(h.textLabel),y=E.join("<br>")):y=h.textLabel;var C={x:h.traceCoordinate[0],y:h.traceCoordinate[1],z:h.traceCoordinate[2],data:w._input,fullData:w,curveNumber:w.index,pointNumber:k};p.appendArrayPointValue(C,w,k),t._module.eventData&&(C=w._module.eventData(C,h,w,{},k));var z={points:[C]};if(e.fullSceneLayout.hovermode){var L=[];p.loneHover({trace:w,x:(.5+.5*v[0]/v[3])*s,y:(.5-.5*v[1]/v[3])*l,xLabel:A.xLabel,yLabel:A.yLabel,zLabel:A.zLabel,text:y,name:d.name,color:p.castHoverOption(w,k,"bgcolor")||d.color,borderColor:p.castHoverOption(w,k,"bordercolor"),fontFamily:p.castHoverOption(w,k,"font.family"),fontSize:p.castHoverOption(w,k,"font.size"),fontColor:p.castHoverOption(w,k,"font.color"),nameLength:p.castHoverOption(w,k,"namelength"),textAlign:p.castHoverOption(w,k,"align"),hovertemplate:u.castOption(w,k,"hovertemplate"),hovertemplateLabels:u.extendFlat({},C,A),eventData:[C]},{container:n,gd:r,inOut_bbox:L}),C.bbox=L[0]}h.distance<5&&(h.buttons||_)?r.emit("plotly_click",z):r.emit("plotly_hover",z),this.oldEventData=z}else p.loneUnhover(n),this.oldEventData&&r.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)},A.recoverContext=function(){var t=this;t.glplot.dispose();var e=function(){t.glplot.gl.isContextLost()?requestAnimationFrame(e):t.initializeGLPlot()?t.plot.apply(t,t.plotArgs):u.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(e)};var M=["xaxis","yaxis","zaxis"];function S(t,e,r){for(var n=t.fullSceneLayout,i=0;i<3;i++){var o=M[i],a=o.charAt(0),s=n[o],l=e[a],c=e[a+"calendar"],d=e["_"+a+"length"];if(u.isArrayOrTypedArray(l))for(var h,f=0;f<(d||l.length);f++)if(u.isArrayOrTypedArray(l[f]))for(var p=0;p<l[f].length;++p)h=s.d2l(l[f][p],0,c),!isNaN(h)&&isFinite(h)&&(r[0][i]=Math.min(r[0][i],h),r[1][i]=Math.max(r[1][i],h));else h=s.d2l(l[f],0,c),!isNaN(h)&&isFinite(h)&&(r[0][i]=Math.min(r[0][i],h),r[1][i]=Math.max(r[1][i],h));else r[0][i]=Math.min(r[0][i],0),r[1][i]=Math.max(r[1][i],d-1)}}A.plot=function(t,e,r){var n=this;if(n.plotArgs=[t,e,r],!n.glplot.contextLost){var i,o,a,s,l,c,d=e[n.id],u=r[n.id];n.fullLayout=e,n.fullSceneLayout=d,n.axesOptions.merge(e,d),n.spikeOptions.merge(d),n.setViewport(d),n.updateFx(d.dragmode,d.hovermode),n.camera.enableWheel=n.graphDiv._context._scrollZoom.gl3d,n.glplot.setClearColor(m(d.bgcolor)),n.setConvert(l),t?Array.isArray(t)||(t=[t]):t=[];var h=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(a=0;a<t.length;++a)!0===(i=t[a]).visible&&0!==i._length&&S(this,i,h);!function(t,e){for(var r=t.fullSceneLayout,n=r.annotations||[],i=0;i<3;i++)for(var o=M[i],a=o.charAt(0),s=r[o],l=0;l<n.length;l++){var c=n[l];if(c.visible){var d=s.r2l(c[a]);!isNaN(d)&&isFinite(d)&&(e[0][i]=Math.min(e[0][i],d),e[1][i]=Math.max(e[1][i],d))}}}(this,h);var f=[1,1,1];for(s=0;s<3;++s)h[1][s]===h[0][s]?f[s]=1:f[s]=1/(h[1][s]-h[0][s]);for(n.dataScale=f,n.convertAnnotations(this),a=0;a<t.length;++a)!0===(i=t[a]).visible&&0!==i._length&&((o=n.traces[i.uid])?o.data.type===i.type?o.update(i):(o.dispose(),o=i._module.plot(this,i),n.traces[i.uid]=o):(o=i._module.plot(this,i),n.traces[i.uid]=o),o.name=i.name);var p=Object.keys(n.traces);t:for(a=0;a<p.length;++a){for(s=0;s<t.length;++s)if(t[s].uid===p[a]&&!0===t[s].visible&&0!==t[s]._length)continue t;(o=n.traces[p[a]]).dispose(),delete n.traces[p[a]]}n.glplot.objects.sort((function(t,e){return t._trace.data.index-e._trace.data.index}));var g,b=[[0,0,0],[0,0,0]],v=[],y={};for(a=0;a<3;++a){var x;if((c=(l=d[M[a]]).type)in y?(y[c].acc*=f[a],y[c].count+=1):y[c]={acc:f[a],count:1},l.autorange){b[0][a]=1/0,b[1][a]=-1/0;var _=n.glplot.objects,k=n.fullSceneLayout.annotations||[],A=l._name.charAt(0);for(s=0;s<_.length;s++){var T=_[s],E=T.bounds,C=T._trace.data._pad||0;"ErrorBars"===T.constructor.name&&l._lowerLogErrorBound?b[0][a]=Math.min(b[0][a],l._lowerLogErrorBound):b[0][a]=Math.min(b[0][a],E[0][a]/f[a]-C),b[1][a]=Math.max(b[1][a],E[1][a]/f[a]+C)}for(s=0;s<k.length;s++){var z=k[s];if(z.visible){var L=l.r2l(z[A]);b[0][a]=Math.min(b[0][a],L),b[1][a]=Math.max(b[1][a],L)}}if("rangemode"in l&&"tozero"===l.rangemode&&(b[0][a]=Math.min(b[0][a],0),b[1][a]=Math.max(b[1][a],0)),b[0][a]>b[1][a])b[0][a]=-1,b[1][a]=1;else{var O=b[1][a]-b[0][a];b[0][a]-=O/32,b[1][a]+=O/32}if(x=[b[0][a],b[1][a]],x=w(x,l),b[0][a]=x[0],b[1][a]=x[1],l.isReversed()){var D=b[0][a];b[0][a]=b[1][a],b[1][a]=D}}else x=l.range,b[0][a]=l.r2l(x[0]),b[1][a]=l.r2l(x[1]);b[0][a]===b[1][a]&&(b[0][a]-=1,b[1][a]+=1),v[a]=b[1][a]-b[0][a],l.range=[b[0][a],b[1][a]],l.limitRange(),n.glplot.setBounds(a,{min:l.range[0]*f[a],max:l.range[1]*f[a]})}var I=d.aspectmode;if("cube"===I)g=[1,1,1];else if("manual"===I){var F=d.aspectratio;g=[F.x,F.y,F.z]}else{if("auto"!==I&&"data"!==I)throw new Error("scene.js aspectRatio was not one of the enumerated types");var R=[1,1,1];for(a=0;a<3;++a){var P=y[c=(l=d[M[a]]).type];R[a]=Math.pow(P.acc,1/P.count)/f[a]}g="data"===I||Math.max.apply(null,R)/Math.min.apply(null,R)<=4?R:[1,1,1]}d.aspectratio.x=u.aspectratio.x=g[0],d.aspectratio.y=u.aspectratio.y=g[1],d.aspectratio.z=u.aspectratio.z=g[2],n.glplot.setAspectratio(d.aspectratio),n.viewInitial.aspectratio||(n.viewInitial.aspectratio={x:d.aspectratio.x,y:d.aspectratio.y,z:d.aspectratio.z}),n.viewInitial.aspectmode||(n.viewInitial.aspectmode=d.aspectmode);var j=d.domain||null,N=e._size||null;if(j&&N){var B=n.container.style;B.position="absolute",B.left=N.l+j.x[0]*N.w+"px",B.top=N.t+(1-j.y[1])*N.h+"px",B.width=N.w*(j.x[1]-j.x[0])+"px",B.height=N.h*(j.y[1]-j.y[0])+"px"}n.glplot.redraw()}},A.destroy=function(){var t=this;t.glplot&&(t.camera.mouseListener.enabled=!1,t.container.removeEventListener("wheel",t.camera.wheelListener),t.camera=null,t.glplot.dispose(),t.container.parentNode.removeChild(t.container),t.glplot=null)},A.getCamera=function(){var t,e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),{up:{x:(t=e.camera).up[0],y:t.up[1],z:t.up[2]},center:{x:t.center[0],y:t.center[1],z:t.center[2]},eye:{x:t.eye[0],y:t.eye[1],z:t.eye[2]},projection:{type:!0===t._ortho?"orthographic":"perspective"}}},A.setViewport=function(t){var e,r=this,n=t.camera;r.camera.lookAt.apply(this,[[(e=n).eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]),r.glplot.setAspectratio(t.aspectratio),"orthographic"===n.projection.type!==r.camera._ortho&&(r.glplot.redraw(),r.glplot.clearRGBA(),r.glplot.dispose(),r.initializeGLPlot())},A.isCameraChanged=function(t){var e=this.getCamera(),r=u.nestedProperty(t,this.id+".camera").get();function n(t,e,r,n){var i=["up","center","eye"],o=["x","y","z"];return e[i[r]]&&t[i[r]][o[n]]===e[i[r]][o[n]]}var i=!1;if(void 0===r)i=!0;else{for(var o=0;o<3;o++)for(var a=0;a<3;a++)if(!n(e,r,o,a)){i=!0;break}(!r.projection||e.projection&&e.projection.type!==r.projection.type)&&(i=!0)}return i},A.isAspectChanged=function(t){var e=this.glplot.getAspectratio(),r=u.nestedProperty(t,this.id+".aspectratio").get();return void 0===r||r.x!==e.x||r.y!==e.y||r.z!==e.z},A.saveLayout=function(t){var e,r,n,i,o,a,s=this,l=s.fullLayout,c=s.isCameraChanged(t),h=s.isAspectChanged(t),f=c||h;if(f){var p={};c&&(e=s.getCamera(),n=(r=u.nestedProperty(t,s.id+".camera")).get(),p[s.id+".camera"]=n),h&&(i=s.glplot.getAspectratio(),a=(o=u.nestedProperty(t,s.id+".aspectratio")).get(),p[s.id+".aspectratio"]=a),d.call("_storeDirectGUIEdit",t,l._preGUI,p),c&&(r.set(e),u.nestedProperty(l,s.id+".camera").set(e)),h&&(o.set(i),u.nestedProperty(l,s.id+".aspectratio").set(i),s.glplot.redraw())}return f},A.updateFx=function(t,e){var r=this,n=r.camera;if(n)if("orbit"===t)n.mode="orbit",n.keyBindingMode="rotate";else if("turntable"===t){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var i=r.graphDiv,o=i._fullLayout,a=r.fullSceneLayout.camera,s=a.up.x,l=a.up.y,c=a.up.z;if(c/Math.sqrt(s*s+l*l+c*c)<.999){var h=r.id+".camera.up",f={x:0,y:0,z:1},p={};p[h]=f;var m=i.layout;d.call("_storeDirectGUIEdit",m,o._preGUI,p),a.up=f,u.nestedProperty(m,h).set(f)}}else n.keyBindingMode=t;r.fullSceneLayout.hovermode=e},A.toImage=function(t){var e=this;t||(t="png"),e.staticMode&&e.container.appendChild(n),e.glplot.redraw();var r=e.glplot.gl,i=r.drawingBufferWidth,o=r.drawingBufferHeight;r.bindFramebuffer(r.FRAMEBUFFER,null);var a=new Uint8Array(i*o*4);r.readPixels(0,0,i,o,r.RGBA,r.UNSIGNED_BYTE,a),function(t,e,r){for(var n=0,i=r-1;n<i;++n,--i)for(var o=0;o<e;++o)for(var a=0;a<4;++a){var s=4*(e*n+o)+a,l=4*(e*i+o)+a,c=t[s];t[s]=t[l],t[l]=c}}(a,i,o),function(t,e,r){for(var n=0;n<r;++n)for(var i=0;i<e;++i){var o=4*(e*n+i),a=t[o+3];if(a>0)for(var s=255/a,l=0;l<3;++l)t[o+l]=Math.min(s*t[o+l],255)}}(a,i,o);var s=document.createElement("canvas");s.width=i,s.height=o;var l,c=s.getContext("2d",{willReadFrequently:!0}),d=c.createImageData(i,o);switch(d.data.set(a),c.putImageData(d,0,0),t){case"jpeg":l=s.toDataURL("image/jpeg");break;case"webp":l=s.toDataURL("image/webp");break;default:l=s.toDataURL("image/png")}return e.staticMode&&e.container.removeChild(n),l},A.setConvert=function(){for(var t=0;t<3;t++){var e=this.fullSceneLayout[M[t]];f.setConvert(e,this.fullLayout),e.setScale=u.noop}},A.make4thDimension=function(){var t=this,e=t.graphDiv._fullLayout;t._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(t._mockAxis,e)},t.exports=k},8295:(t,e,r)=>{"use strict";var n=r(7370),i=r(25059),o=r(75815),a=r(12822),s=r(27512);function l(t,e,r,i){var l=e["error_"+i]||{},c=[];if(l.visible&&-1!==["linear","log"].indexOf(r.type)){for(var d=s(l),u=0;u<t.length;u++){var h=t[u],f=h.i;if(void 0===f)f=u;else if(null===f)continue;var p=h[i];if(n(r.c2l(p))){var m=d(p,f);if(n(m[0])&&n(m[1])){var g=h[i+"s"]=p-m[0],b=h[i+"h"]=p+m[1];c.push(g,b)}}}var v=r._id,y=e._extremes[v],x=o.findExtremes(r,c,a.extendFlat({tozero:y.opts.tozero},{padded:!0}));y.min=y.min.concat(x.min),y.max=y.max.concat(x.max)}}t.exports=function(t){for(var e=t.calcdata,r=0;r<e.length;r++){var n=e[r],a=n[0].trace;if(!0===a.visible&&i.traceIs(a,"errorBarsOK")){var s=o.getFromId(t,a.xaxis),c=o.getFromId(t,a.yaxis);l(n,a,s,"x"),l(n,a,c,"y")}}}},8421:(t,e,r)=>{"use strict";var n=r(75058),i=r(85538),o=r(98260).extendDeepAll,a=r(62309).overrideAll,s=r(46367),l=r(46121).templatedArray,c=r(92911),d=l("step",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",description:"Sets the text label to appear on the slider"},value:{valType:"string",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});t.exports=a(l("slider",{visible:{valType:"boolean",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:d,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the x position (in normalized coordinates) of the slider."},pad:o(i({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:n({description:"Sets the font of the current value label text."})},font:n({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",dflt:c.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:c.railBorderColor,description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth,description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:c.tickLength,description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:c.tickColor,description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength,description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root")},8736:(t,e,r)=>{"use strict";var n=r(12822),i=r(86130);t.exports=function(t,e,r,o){var a=o.isMinor,s=a?t.minor||{}:t,l=a?e.minor:e,c=a?i.minor:i,d=a?"minor.":"",u=n.coerce2(s,l,c,"ticklen",a?.6*(e.ticklen||5):void 0),h=n.coerce2(s,l,c,"tickwidth",a?e.tickwidth||1:void 0),f=n.coerce2(s,l,c,"tickcolor",(a?e.tickcolor:void 0)||l.color);r(d+"ticks",!a&&o.outerTicks||u||h||f?"outside":"")||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},8867:t=>{"use strict";t.exports={clearOutlineControllers:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._outlining=!1}}},8975:t=>{"use strict";t.exports=RangeError},8994:(t,e,r)=>{"use strict";var n,i,o,a=r(31918).mod;function s(t,e,r,n,i,o,a,s){var l=r-t,c=i-t,d=a-i,u=n-e,h=o-e,f=s-o,p=l*f-d*u;if(0===p)return null;var m=(c*f-d*h)/p,g=(c*u-l*h)/p;return g<0||g>1||m<0||m>1?null:{x:t+l*m,y:e+u*m}}function l(t,e,r,n,i){var o=n*t+i*e;if(o<0)return n*n+i*i;if(o>r){var a=n-t,s=i-e;return a*a+s*s}var l=n*e-i*t;return l*l/r}e.segmentsIntersect=s,e.segmentDistance=function(t,e,r,n,i,o,a,c){if(s(t,e,r,n,i,o,a,c))return 0;var d=r-t,u=n-e,h=a-i,f=c-o,p=d*d+u*u,m=h*h+f*f,g=Math.min(l(d,u,p,i-t,o-e),l(d,u,p,a-t,c-e),l(h,f,m,t-i,e-o),l(h,f,m,r-i,n-o));return Math.sqrt(g)},e.getTextLocation=function(t,e,r,s){if(t===i&&s===o||(n={},i=t,o=s),n[r])return n[r];var l=t.getPointAtLength(a(r-s/2,e)),c=t.getPointAtLength(a(r+s/2,e)),d=Math.atan((c.y-l.y)/(c.x-l.x)),u=t.getPointAtLength(a(r,e)),h={x:(4*u.x+l.x+c.x)/6,y:(4*u.y+l.y+c.y)/6,theta:d};return n[r]=h,h},e.clearLocationCache=function(){i=null},e.getVisibleSegment=function(t,e,r){var n,i,o=e.left,a=e.right,s=e.top,l=e.bottom,c=0,d=t.getTotalLength(),u=d;function h(e){var r=t.getPointAtLength(e);0===e?n=r:e===d&&(i=r);var c=r.x<o?o-r.x:r.x>a?r.x-a:0,u=r.y<s?s-r.y:r.y>l?r.y-l:0;return Math.sqrt(c*c+u*u)}for(var f=h(c);f;){if((c+=f+r)>u)return;f=h(c)}for(f=h(u);f;){if(c>(u-=f+r))return;f=h(u)}return{min:c,max:u,len:u-c,total:d,isClosed:0===c&&u===d&&Math.abs(n.x-i.x)<.1&&Math.abs(n.y-i.y)<.1}},e.findPointOnPath=function(t,e,r,n){for(var i,o,a,s=(n=n||{}).pathLength||t.getTotalLength(),l=n.tolerance||.001,c=n.iterationLimit||30,d=t.getPointAtLength(0)[r]>t.getPointAtLength(s)[r]?-1:1,u=0,h=0,f=s;u<c;){if(i=(h+f)/2,a=(o=t.getPointAtLength(i))[r]-e,Math.abs(a)<l)return o;d*a>0?f=i:h=i,u++}return o}},9715:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},9819:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23e58978%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},9994:t=>{"use strict";t.exports=function(t,e,n){var i,o,a={};if("string"==typeof e&&(e=r(e)),Array.isArray(e)){var s={};for(o=0;o<e.length;o++)s[e[o]]=!0;e=s}for(i in e)e[i]=r(e[i]);var l={};for(i in e){var c=e[i];if(Array.isArray(c))for(o=0;o<c.length;o++){var d=c[o];if(n&&(l[d]=!0),d in t){if(a[i]=t[d],n)for(var u=o;u<c.length;u++)l[c[u]]=!0;break}}else i in t&&(e[i]&&(a[i]=t[i]),n&&(l[i]=!0))}if(n)for(i in t)l[i]||(a[i]=t[i]);return a};var e={};function r(t){return e[t]?e[t]:("string"==typeof t&&(t=e[t]=t.split(/\s*,\s*|\s+/)),t)}},10024:t=>{var e={left:0,top:0};t.exports=function(t,r,n){r=r||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=t.clientX||0,a=t.clientY||0,s=(i=r)===window||i===document||i===document.body?e:i.getBoundingClientRect();return n[0]=o-s.left,n[1]=a-s.top,n}},10040:(t,e,r)=>{"use strict";var n=r(81114),i=r(59738);t.exports=function(t){if(i(t))return t;var e=arguments[1],r=e&&e.name?"Expected a value for %n, received %v":"Cannot use %v";return n(t,r,e)}},10540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},10552:(t,e,r)=>{"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:r(76699),supplyDefaults:r(81692),draw:r(29648).draw,hasColorbar:r(52467)}},10701:t=>{"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},10781:(t,e,r)=>{"use strict";var n=r(99952),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=r(43362),l=r(20419)(),c=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;l?s(t,e,r,!0):s(t,e,r)},d=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)c(t,o[s],e[o[s]],r[o[s]])};d.supportsDescriptors=!!l,t.exports=d},10818:(t,e,r)=>{"use strict";var n=r(59738),i={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!n(t)&&hasOwnProperty.call(i,typeof t)}},11144:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},11148:(t,e,r)=>{"use strict";var n=r(12822),i=r(13078);t.exports=function(t,e,r){var o=document.createElement("a"),a="download"in o;return new Promise((function(s,l){var c,d;if(a)return c=i.createBlob(t,r),d=i.createObjectURL(c),o.href=d,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),i.revokeObjectURL(d),c=null,s(e);if(n.isSafari()){var u="svg"===r?",":";base64,";return i.octetStream(u+encodeURIComponent(t)),s(e)}l(new Error("download error"))}))}},11211:(t,e,r)=>{"use strict";var n=r(22319);t.exports=function(t){var e,r,o=[],a=1;if("string"==typeof t)if(t=t.toLowerCase(),n[t])o=n[t].slice(),r="rgb";else if("transparent"===t)a=0,r="rgb",o=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var s=t.slice(1);a=1,(d=s.length)<=4?(o=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],4===d&&(a=parseInt(s[3]+s[3],16)/255)):(o=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],8===d&&(a=parseInt(s[6]+s[7],16)/255)),o[0]||(o[0]=0),o[1]||(o[1]=0),o[2]||(o[2]=0),r="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var l=e[1],c="rgb"===l;r=s=l.replace(/a$/,"");var d="cmyk"===s?4:"gray"===s?1:3;o=e[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(t,e){if(/%$/.test(t))return e===d?parseFloat(t)/100:"rgb"===s?255*parseFloat(t)/100:parseFloat(t);if("h"===s[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==i[t])return i[t]}return parseFloat(t)})),l===s&&o.push(1),a=c||void 0===o[d]?1:o[d],o=o.slice(0,d)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(o=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),r=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(o=[t[0],t[1],t[2]],r="rgb",a=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(r="rgb",o=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(r="hsl",o=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),a=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(a/=100)):(r="rgb",o=[t>>>16,(65280&t)>>>8,255&t]);return{space:r,values:o,alpha:a}};var i={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},11261:(t,e,r)=>{"use strict";r.d(e,{A:()=>V});var n=r(78706),i=r.n(n),o=r(72859),a=r.n(o),s=r(21906),l=r.n(s),c=new URL(r(35531),r.b),d=new URL(r(45419),r.b),u=new URL(r(83385),r.b),h=new URL(r(14274),r.b),f=new URL(r(57154),r.b),p=new URL(r(35782),r.b),m=new URL(r(54718),r.b),g=new URL(r(48487),r.b),b=new URL(r(35372),r.b),v=new URL(r(17914),r.b),y=new URL(r(36366),r.b),x=new URL(r(67830),r.b),w=new URL(r(66451),r.b),_=new URL(r(57249),r.b),k=new URL(r(75932),r.b),A=new URL(r(11144),r.b),T=a()(i()),M=l()(c),S=l()(d),E=l()(u),C=l()(h),z=l()(f),L=l()(p),O=l()(m),D=l()(g),I=l()(b),F=l()(v),R=l()(y),P=l()(x),j=l()(w),N=l()(_),B=l()(k),U=l()(A);T.push([t.id,`@charset "UTF-8";/*!\n * Bootstrap  v5.2.3 (https://getbootstrap.com/)\n * Copyright 2011-2022 The Bootstrap Authors\n * Copyright 2011-2022 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-black:#000;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-body-color-rgb:33,37,41;--bs-body-bg-rgb:255,255,255;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-bg:#fff;--bs-border-width:1px;--bs-border-style:solid;--bs-border-color:#dee2e6;--bs-border-color-translucent:rgba(0, 0, 0, 0.175);--bs-border-radius:0.375rem;--bs-border-radius-sm:0.25rem;--bs-border-radius-lg:0.5rem;--bs-border-radius-xl:1rem;--bs-border-radius-2xl:2rem;--bs-border-radius-pill:50rem;--bs-link-color:#0d6efd;--bs-link-hover-color:#0a58ca;--bs-code-color:#d63384;--bs-highlight-bg:#fff3cd}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;border:0;border-top:1px solid;opacity:.25}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.1875em;background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:var(--bs-link-color);text-decoration:underline}a:hover{color:var(--bs-link-hover-color)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not([type=time])::-webkit-calendar-picker-indicator{display:none!important}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:""}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid var(--bs-border-color);border-radius:.375rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:#6c757d}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{--bs-gutter-x:1.5rem;--bs-gutter-y:0;width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-color:var(--bs-body-color);--bs-table-bg:transparent;--bs-table-border-color:var(--bs-border-color);--bs-table-accent-bg:transparent;--bs-table-striped-color:var(--bs-body-color);--bs-table-striped-bg:rgba(0, 0, 0, 0.05);--bs-table-active-color:var(--bs-body-color);--bs-table-active-bg:rgba(0, 0, 0, 0.1);--bs-table-hover-color:var(--bs-body-color);--bs-table-hover-bg:rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:var(--bs-table-color);vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-group-divider{border-top:2px solid currentcolor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:1px 0}.table-bordered>:not(caption)>*>*{border-width:0 1px}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-striped-columns>:not(caption)>tr>:nth-child(2n){--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active{--bs-table-accent-bg:var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover>tbody>tr:hover>*{--bs-table-accent-bg:var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary{--bs-table-color:#000;--bs-table-bg:#cfe2ff;--bs-table-border-color:#bacbe6;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-secondary{--bs-table-color:#000;--bs-table-bg:#e2e3e5;--bs-table-border-color:#cbccce;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-success{--bs-table-color:#000;--bs-table-bg:#d1e7dd;--bs-table-border-color:#bcd0c7;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-info{--bs-table-color:#000;--bs-table-bg:#cff4fc;--bs-table-border-color:#badce3;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-warning{--bs-table-color:#000;--bs-table-bg:#fff3cd;--bs-table-border-color:#e6dbb9;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-danger{--bs-table-color:#000;--bs-table-bg:#f8d7da;--bs-table-border-color:#dfc2c4;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-light{--bs-table-color:#000;--bs-table-bg:#f8f9fa;--bs-table-border-color:#dfe0e1;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-dark{--bs-table-color:#fff;--bs-table-bg:#212529;--bs-table-border-color:#373b3e;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled{background-color:#e9ecef;opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext:focus{outline:0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.25rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.5rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg{min-height:calc(1.5em + 1rem + 2px)}.form-control-color{width:3rem;height:calc(1.5em + .75rem + 2px);padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{border:0!important;border-radius:.375rem}.form-control-color::-webkit-color-swatch{border-radius:.375rem}.form-control-color.form-control-sm{height:calc(1.5em + .5rem + 2px)}.form-control-color.form-control-lg{height:calc(1.5em + 1rem + 2px)}.form-select{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(0.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(${M});background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#e9ecef}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem;border-radius:.25rem}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem;border-radius:.5rem}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-reverse{padding-right:1.5em;padding-left:0;text-align:right}.form-check-reverse .form-check-input{float:right;margin-right:-1.5em;margin-left:0}.form-check-input{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url(${S})}.form-check-input:checked[type=radio]{background-image:url(${E})}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url(${C})}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url(${z});background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{background-image:url(${L})}.form-switch .form-check-input:checked{background-position:right center;background-image:url(${O})}.form-switch.form-check-reverse{padding-right:2.5em;padding-left:0}.form-switch.form-check-reverse .form-check-input{margin-right:-2.5em;margin-left:0}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}.form-range{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-control-plaintext,.form-floating>.form-select{height:calc(3.5rem + 2px);line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;width:100%;height:100%;padding:1rem .75rem;overflow:hidden;text-align:start;text-overflow:ellipsis;white-space:nowrap;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control,.form-floating>.form-control-plaintext{padding:1rem .75rem}.form-floating>.form-control-plaintext::-moz-placeholder,.form-floating>.form-control::-moz-placeholder{color:transparent}.form-floating>.form-control-plaintext::placeholder,.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control-plaintext:not(:-moz-placeholder-shown),.form-floating>.form-control:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:focus,.form-floating>.form-control-plaintext:not(:placeholder-shown),.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:-webkit-autofill,.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control-plaintext~label,.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:-webkit-autofill~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control-plaintext~label{border-width:1px 0}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-floating,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-floating:focus-within,.input-group>.form-select:focus{z-index:5}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:5}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.375rem}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:.5rem}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:.25rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-control,.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-select,.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-control,.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-select,.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.form-floating:not(:first-child)>.form-control,.input-group>.form-floating:not(:first-child)>.form-select{border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(25,135,84,.9);border-radius:.375rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(${D});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:#198754}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url(${M}),url(${D});background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-control-color.is-valid,.was-validated .form-control-color:valid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:#198754}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:#198754}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#198754}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-valid,.input-group>.form-floating:not(:focus-within).is-valid,.input-group>.form-select:not(:focus).is-valid,.was-validated .input-group>.form-control:not(:focus):valid,.was-validated .input-group>.form-floating:not(:focus-within):valid,.was-validated .input-group>.form-select:not(:focus):valid{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.375rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(${I});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:#dc3545}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url(${M}),url(${I});background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-control-color.is-invalid,.was-validated .form-control-color:invalid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:#dc3545}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-invalid,.input-group>.form-floating:not(:focus-within).is-invalid,.input-group>.form-select:not(:focus).is-invalid,.was-validated .input-group>.form-control:not(:focus):invalid,.was-validated .input-group>.form-floating:not(:focus-within):invalid,.was-validated .input-group>.form-select:not(:focus):invalid{z-index:4}.btn{--bs-btn-padding-x:0.75rem;--bs-btn-padding-y:0.375rem;--bs-btn-font-family: ;--bs-btn-font-size:1rem;--bs-btn-font-weight:400;--bs-btn-line-height:1.5;--bs-btn-color:#212529;--bs-btn-bg:transparent;--bs-btn-border-width:1px;--bs-btn-border-color:transparent;--bs-btn-border-radius:0.375rem;--bs-btn-hover-border-color:transparent;--bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);--bs-btn-disabled-opacity:0.65;--bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn-check+.btn:hover{color:var(--bs-btn-color);background-color:var(--bs-btn-bg);border-color:var(--bs-btn-border-color)}.btn:focus-visible{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:focus-visible+.btn{border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked+.btn,.btn.active,.btn.show,.btn:first-child:active,:not(.btn-check)+.btn:active{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn-check:checked+.btn:focus-visible,.btn.active:focus-visible,.btn.show:focus-visible,.btn:first-child:active:focus-visible,:not(.btn-check)+.btn:active:focus-visible{box-shadow:var(--bs-btn-focus-box-shadow)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color:#fff;--bs-btn-bg:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0b5ed7;--bs-btn-hover-border-color:#0a58ca;--bs-btn-focus-shadow-rgb:49,132,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0a58ca;--bs-btn-active-border-color:#0a53be;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#0d6efd;--bs-btn-disabled-border-color:#0d6efd}.btn-secondary{--bs-btn-color:#fff;--bs-btn-bg:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#5c636a;--bs-btn-hover-border-color:#565e64;--bs-btn-focus-shadow-rgb:130,138,145;--bs-btn-active-color:#fff;--bs-btn-active-bg:#565e64;--bs-btn-active-border-color:#51585e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#6c757d;--bs-btn-disabled-border-color:#6c757d}.btn-success{--bs-btn-color:#fff;--bs-btn-bg:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#157347;--bs-btn-hover-border-color:#146c43;--bs-btn-focus-shadow-rgb:60,153,110;--bs-btn-active-color:#fff;--bs-btn-active-bg:#146c43;--bs-btn-active-border-color:#13653f;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#198754;--bs-btn-disabled-border-color:#198754}.btn-info{--bs-btn-color:#000;--bs-btn-bg:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#31d2f2;--bs-btn-hover-border-color:#25cff2;--bs-btn-focus-shadow-rgb:11,172,204;--bs-btn-active-color:#000;--bs-btn-active-bg:#3dd5f3;--bs-btn-active-border-color:#25cff2;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#0dcaf0;--bs-btn-disabled-border-color:#0dcaf0}.btn-warning{--bs-btn-color:#000;--bs-btn-bg:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffca2c;--bs-btn-hover-border-color:#ffc720;--bs-btn-focus-shadow-rgb:217,164,6;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffcd39;--bs-btn-active-border-color:#ffc720;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#ffc107;--bs-btn-disabled-border-color:#ffc107}.btn-danger{--bs-btn-color:#fff;--bs-btn-bg:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#bb2d3b;--bs-btn-hover-border-color:#b02a37;--bs-btn-focus-shadow-rgb:225,83,97;--bs-btn-active-color:#fff;--bs-btn-active-bg:#b02a37;--bs-btn-active-border-color:#a52834;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#dc3545;--bs-btn-disabled-border-color:#dc3545}.btn-light{--bs-btn-color:#000;--bs-btn-bg:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#d3d4d5;--bs-btn-hover-border-color:#c6c7c8;--bs-btn-focus-shadow-rgb:211,212,213;--bs-btn-active-color:#000;--bs-btn-active-bg:#c6c7c8;--bs-btn-active-border-color:#babbbc;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#f8f9fa;--bs-btn-disabled-border-color:#f8f9fa}.btn-dark{--bs-btn-color:#fff;--bs-btn-bg:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#424649;--bs-btn-hover-border-color:#373b3e;--bs-btn-focus-shadow-rgb:66,70,73;--bs-btn-active-color:#fff;--bs-btn-active-bg:#4d5154;--bs-btn-active-border-color:#373b3e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#212529;--bs-btn-disabled-border-color:#212529}.btn-outline-primary{--bs-btn-color:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0d6efd;--bs-btn-hover-border-color:#0d6efd;--bs-btn-focus-shadow-rgb:13,110,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0d6efd;--bs-btn-active-border-color:#0d6efd;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0d6efd;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0d6efd;--bs-gradient:none}.btn-outline-secondary{--bs-btn-color:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#6c757d;--bs-btn-hover-border-color:#6c757d;--bs-btn-focus-shadow-rgb:108,117,125;--bs-btn-active-color:#fff;--bs-btn-active-bg:#6c757d;--bs-btn-active-border-color:#6c757d;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#6c757d;--bs-gradient:none}.btn-outline-success{--bs-btn-color:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#198754;--bs-btn-hover-border-color:#198754;--bs-btn-focus-shadow-rgb:25,135,84;--bs-btn-active-color:#fff;--bs-btn-active-bg:#198754;--bs-btn-active-border-color:#198754;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#198754;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#198754;--bs-gradient:none}.btn-outline-info{--bs-btn-color:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#0dcaf0;--bs-btn-hover-border-color:#0dcaf0;--bs-btn-focus-shadow-rgb:13,202,240;--bs-btn-active-color:#000;--bs-btn-active-bg:#0dcaf0;--bs-btn-active-border-color:#0dcaf0;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0dcaf0;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0dcaf0;--bs-gradient:none}.btn-outline-warning{--bs-btn-color:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffc107;--bs-btn-hover-border-color:#ffc107;--bs-btn-focus-shadow-rgb:255,193,7;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffc107;--bs-btn-active-border-color:#ffc107;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#ffc107;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#ffc107;--bs-gradient:none}.btn-outline-danger{--bs-btn-color:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#dc3545;--bs-btn-hover-border-color:#dc3545;--bs-btn-focus-shadow-rgb:220,53,69;--bs-btn-active-color:#fff;--bs-btn-active-bg:#dc3545;--bs-btn-active-border-color:#dc3545;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#dc3545;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#dc3545;--bs-gradient:none}.btn-outline-light{--bs-btn-color:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#f8f9fa;--bs-btn-hover-border-color:#f8f9fa;--bs-btn-focus-shadow-rgb:248,249,250;--bs-btn-active-color:#000;--bs-btn-active-bg:#f8f9fa;--bs-btn-active-border-color:#f8f9fa;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#f8f9fa;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#f8f9fa;--bs-gradient:none}.btn-outline-dark{--bs-btn-color:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#212529;--bs-btn-hover-border-color:#212529;--bs-btn-focus-shadow-rgb:33,37,41;--bs-btn-active-color:#fff;--bs-btn-active-bg:#212529;--bs-btn-active-border-color:#212529;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#212529;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#212529;--bs-gradient:none}.btn-link{--bs-btn-font-weight:400;--bs-btn-color:var(--bs-link-color);--bs-btn-bg:transparent;--bs-btn-border-color:transparent;--bs-btn-hover-color:var(--bs-link-hover-color);--bs-btn-hover-border-color:transparent;--bs-btn-active-color:var(--bs-link-hover-color);--bs-btn-active-border-color:transparent;--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-border-color:transparent;--bs-btn-box-shadow:none;--bs-btn-focus-shadow-rgb:49,132,253;text-decoration:underline}.btn-link:focus-visible{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.btn-group-lg>.btn,.btn-lg{--bs-btn-padding-y:0.5rem;--bs-btn-padding-x:1rem;--bs-btn-font-size:1.25rem;--bs-btn-border-radius:0.5rem}.btn-group-sm>.btn,.btn-sm{--bs-btn-padding-y:0.25rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.875rem;--bs-btn-border-radius:0.25rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropdown-center,.dropend,.dropstart,.dropup,.dropup-center{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{--bs-dropdown-zindex:1000;--bs-dropdown-min-width:10rem;--bs-dropdown-padding-x:0;--bs-dropdown-padding-y:0.5rem;--bs-dropdown-spacer:0.125rem;--bs-dropdown-font-size:1rem;--bs-dropdown-color:#212529;--bs-dropdown-bg:#fff;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-border-radius:0.375rem;--bs-dropdown-border-width:1px;--bs-dropdown-inner-border-radius:calc(0.375rem - 1px);--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-divider-margin-y:0.5rem;--bs-dropdown-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-dropdown-link-color:#212529;--bs-dropdown-link-hover-color:#1e2125;--bs-dropdown-link-hover-bg:#e9ecef;--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-item-padding-x:1rem;--bs-dropdown-item-padding-y:0.25rem;--bs-dropdown-header-color:#6c757d;--bs-dropdown-header-padding-x:1rem;--bs-dropdown-header-padding-y:0.5rem;position:absolute;z-index:var(--bs-dropdown-zindex);display:none;min-width:var(--bs-dropdown-min-width);padding:var(--bs-dropdown-padding-y) var(--bs-dropdown-padding-x);margin:0;font-size:var(--bs-dropdown-font-size);color:var(--bs-dropdown-color);text-align:left;list-style:none;background-color:var(--bs-dropdown-bg);background-clip:padding-box;border:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color);border-radius:var(--bs-dropdown-border-radius)}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:var(--bs-dropdown-spacer)}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:var(--bs-dropdown-spacer)}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:var(--bs-dropdown-spacer)}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:var(--bs-dropdown-spacer)}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:var(--bs-dropdown-divider-margin-y) 0;overflow:hidden;border-top:1px solid var(--bs-dropdown-divider-bg);opacity:1}.dropdown-item{display:block;width:100%;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);clear:both;font-weight:400;color:var(--bs-dropdown-link-color);text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:var(--bs-dropdown-link-hover-color);background-color:var(--bs-dropdown-link-hover-bg)}.dropdown-item.active,.dropdown-item:active{color:var(--bs-dropdown-link-active-color);text-decoration:none;background-color:var(--bs-dropdown-link-active-bg)}.dropdown-item.disabled,.dropdown-item:disabled{color:var(--bs-dropdown-link-disabled-color);pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:var(--bs-dropdown-header-padding-y) var(--bs-dropdown-header-padding-x);margin-bottom:0;font-size:.875rem;color:var(--bs-dropdown-header-color);white-space:nowrap}.dropdown-item-text{display:block;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);color:var(--bs-dropdown-link-color)}.dropdown-menu-dark{--bs-dropdown-color:#dee2e6;--bs-dropdown-bg:#343a40;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-box-shadow: ;--bs-dropdown-link-color:#dee2e6;--bs-dropdown-link-hover-color:#fff;--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-link-hover-bg:rgba(255, 255, 255, 0.15);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-header-color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group{border-radius:.375rem}.btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn~.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{--bs-nav-link-padding-x:1rem;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-link-color);--bs-nav-link-hover-color:var(--bs-link-hover-color);--bs-nav-link-disabled-color:#6c757d;display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:var(--bs-nav-link-hover-color)}.nav-link.disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.nav-tabs{--bs-nav-tabs-border-width:1px;--bs-nav-tabs-border-color:#dee2e6;--bs-nav-tabs-border-radius:0.375rem;--bs-nav-tabs-link-hover-border-color:#e9ecef #e9ecef #dee2e6;--bs-nav-tabs-link-active-color:#495057;--bs-nav-tabs-link-active-bg:#fff;--bs-nav-tabs-link-active-border-color:#dee2e6 #dee2e6 #fff;border-bottom:var(--bs-nav-tabs-border-width) solid var(--bs-nav-tabs-border-color)}.nav-tabs .nav-link{margin-bottom:calc(-1 * var(--bs-nav-tabs-border-width));background:0 0;border:var(--bs-nav-tabs-border-width) solid transparent;border-top-left-radius:var(--bs-nav-tabs-border-radius);border-top-right-radius:var(--bs-nav-tabs-border-radius)}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:var(--bs-nav-tabs-link-hover-border-color)}.nav-tabs .nav-link.disabled,.nav-tabs .nav-link:disabled{color:var(--bs-nav-link-disabled-color);background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:var(--bs-nav-tabs-link-active-color);background-color:var(--bs-nav-tabs-link-active-bg);border-color:var(--bs-nav-tabs-link-active-border-color)}.nav-tabs .dropdown-menu{margin-top:calc(-1 * var(--bs-nav-tabs-border-width));border-top-left-radius:0;border-top-right-radius:0}.nav-pills{--bs-nav-pills-border-radius:0.375rem;--bs-nav-pills-link-active-color:#fff;--bs-nav-pills-link-active-bg:#0d6efd}.nav-pills .nav-link{background:0 0;border:0;border-radius:var(--bs-nav-pills-border-radius)}.nav-pills .nav-link:disabled{color:var(--bs-nav-link-disabled-color);background-color:transparent;border-color:transparent}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:var(--bs-nav-pills-link-active-color);background-color:var(--bs-nav-pills-link-active-bg)}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{--bs-navbar-padding-x:0;--bs-navbar-padding-y:0.5rem;--bs-navbar-color:rgba(0, 0, 0, 0.55);--bs-navbar-hover-color:rgba(0, 0, 0, 0.7);--bs-navbar-disabled-color:rgba(0, 0, 0, 0.3);--bs-navbar-active-color:rgba(0, 0, 0, 0.9);--bs-navbar-brand-padding-y:0.3125rem;--bs-navbar-brand-margin-end:1rem;--bs-navbar-brand-font-size:1.25rem;--bs-navbar-brand-color:rgba(0, 0, 0, 0.9);--bs-navbar-brand-hover-color:rgba(0, 0, 0, 0.9);--bs-navbar-nav-link-padding-x:0.5rem;--bs-navbar-toggler-padding-y:0.25rem;--bs-navbar-toggler-padding-x:0.75rem;--bs-navbar-toggler-font-size:1.25rem;--bs-navbar-toggler-icon-bg:url(${F});--bs-navbar-toggler-border-color:rgba(0, 0, 0, 0.1);--bs-navbar-toggler-border-radius:0.375rem;--bs-navbar-toggler-focus-width:0.25rem;--bs-navbar-toggler-transition:box-shadow 0.15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x:0;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-navbar-color);--bs-nav-link-hover-color:var(--bs-navbar-hover-color);--bs-nav-link-disabled-color:var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link.active,.navbar-nav .show>.nav-link{color:var(--bs-navbar-active-color)}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-navbar-color)}.navbar-text a,.navbar-text a:focus,.navbar-text a:hover{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-sm .offcanvas .offcanvas-header{display:none}.navbar-expand-sm .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-md .offcanvas .offcanvas-header{display:none}.navbar-expand-md .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-lg .offcanvas .offcanvas-header{display:none}.navbar-expand-lg .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xl .offcanvas .offcanvas-header{display:none}.navbar-expand-xl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xxl .offcanvas .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand .offcanvas .offcanvas-header{display:none}.navbar-expand .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-dark{--bs-navbar-color:rgba(255, 255, 255, 0.55);--bs-navbar-hover-color:rgba(255, 255, 255, 0.75);--bs-navbar-disabled-color:rgba(255, 255, 255, 0.25);--bs-navbar-active-color:#fff;--bs-navbar-brand-color:#fff;--bs-navbar-brand-hover-color:#fff;--bs-navbar-toggler-border-color:rgba(255, 255, 255, 0.1);--bs-navbar-toggler-icon-bg:url(${R})}.card{--bs-card-spacer-y:1rem;--bs-card-spacer-x:1rem;--bs-card-title-spacer-y:0.5rem;--bs-card-border-width:1px;--bs-card-border-color:var(--bs-border-color-translucent);--bs-card-border-radius:0.375rem;--bs-card-box-shadow: ;--bs-card-inner-border-radius:calc(0.375rem - 1px);--bs-card-cap-padding-y:0.5rem;--bs-card-cap-padding-x:1rem;--bs-card-cap-bg:rgba(0, 0, 0, 0.03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg:#fff;--bs-card-img-overlay-padding:1rem;--bs-card-group-margin:0.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:var(--bs-card-spacer-y) var(--bs-card-spacer-x);color:var(--bs-card-color)}.card-title{margin-bottom:var(--bs-card-title-spacer-y)}.card-subtitle{margin-top:calc(-.5 * var(--bs-card-title-spacer-y));margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:var(--bs-card-spacer-x)}.card-header{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);margin-bottom:0;color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-header:first-child{border-radius:var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius) 0 0}.card-footer{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-top:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-footer:last-child{border-radius:0 0 var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius)}.card-header-tabs{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-bottom:calc(-1 * var(--bs-card-cap-padding-y));margin-left:calc(-.5 * var(--bs-card-cap-padding-x));border-bottom:0}.card-header-tabs .nav-link.active{background-color:var(--bs-card-bg);border-bottom-color:var(--bs-card-bg)}.card-header-pills{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-left:calc(-.5 * var(--bs-card-cap-padding-x))}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:var(--bs-card-img-overlay-padding);border-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom{border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card-group>.card{margin-bottom:var(--bs-card-group-margin)}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion{--bs-accordion-color:#212529;--bs-accordion-bg:#fff;--bs-accordion-transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,border-radius 0.15s ease;--bs-accordion-border-color:var(--bs-border-color);--bs-accordion-border-width:1px;--bs-accordion-border-radius:0.375rem;--bs-accordion-inner-border-radius:calc(0.375rem - 1px);--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:1rem;--bs-accordion-btn-color:#212529;--bs-accordion-btn-bg:var(--bs-accordion-bg);--bs-accordion-btn-icon:url(${P});--bs-accordion-btn-icon-width:1.25rem;--bs-accordion-btn-icon-transform:rotate(-180deg);--bs-accordion-btn-icon-transition:transform 0.2s ease-in-out;--bs-accordion-btn-active-icon:url(${j});--bs-accordion-btn-focus-border-color:#86b7fe;--bs-accordion-btn-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-accordion-body-padding-x:1.25rem;--bs-accordion-body-padding-y:1rem;--bs-accordion-active-color:#0c63e4;--bs-accordion-active-bg:#e7f1ff}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:var(--bs-accordion-btn-padding-y) var(--bs-accordion-btn-padding-x);font-size:1rem;color:var(--bs-accordion-btn-color);text-align:left;background-color:var(--bs-accordion-btn-bg);border:0;border-radius:0;overflow-anchor:none;transition:var(--bs-accordion-transition)}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:var(--bs-accordion-active-color);background-color:var(--bs-accordion-active-bg);box-shadow:inset 0 calc(-1 * var(--bs-accordion-border-width)) 0 var(--bs-accordion-border-color)}.accordion-button:not(.collapsed)::after{background-image:var(--bs-accordion-btn-active-icon);transform:var(--bs-accordion-btn-icon-transform)}.accordion-button::after{flex-shrink:0;width:var(--bs-accordion-btn-icon-width);height:var(--bs-accordion-btn-icon-width);margin-left:auto;content:"";background-image:var(--bs-accordion-btn-icon);background-repeat:no-repeat;background-size:var(--bs-accordion-btn-icon-width);transition:var(--bs-accordion-btn-icon-transition)}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:var(--bs-accordion-btn-focus-border-color);outline:0;box-shadow:var(--bs-accordion-btn-focus-box-shadow)}.accordion-header{margin-bottom:0}.accordion-item{color:var(--bs-accordion-color);background-color:var(--bs-accordion-bg);border:var(--bs-accordion-border-width) solid var(--bs-accordion-border-color)}.accordion-item:first-of-type{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius)}.accordion-item:first-of-type .accordion-button{border-top-left-radius:var(--bs-accordion-inner-border-radius);border-top-right-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:var(--bs-accordion-inner-border-radius);border-bottom-left-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-body{padding:var(--bs-accordion-body-padding-y) var(--bs-accordion-body-padding-x)}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button,.accordion-flush .accordion-item .accordion-button.collapsed{border-radius:0}.breadcrumb{--bs-breadcrumb-padding-x:0;--bs-breadcrumb-padding-y:0;--bs-breadcrumb-margin-bottom:1rem;--bs-breadcrumb-bg: ;--bs-breadcrumb-border-radius: ;--bs-breadcrumb-divider-color:#6c757d;--bs-breadcrumb-item-padding-x:0.5rem;--bs-breadcrumb-item-active-color:#6c757d;display:flex;flex-wrap:wrap;padding:var(--bs-breadcrumb-padding-y) var(--bs-breadcrumb-padding-x);margin-bottom:var(--bs-breadcrumb-margin-bottom);font-size:var(--bs-breadcrumb-font-size);list-style:none;background-color:var(--bs-breadcrumb-bg);border-radius:var(--bs-breadcrumb-border-radius)}.breadcrumb-item+.breadcrumb-item{padding-left:var(--bs-breadcrumb-item-padding-x)}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:var(--bs-breadcrumb-item-padding-x);color:var(--bs-breadcrumb-divider-color);content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:var(--bs-breadcrumb-item-active-color)}.pagination{--bs-pagination-padding-x:0.75rem;--bs-pagination-padding-y:0.375rem;--bs-pagination-font-size:1rem;--bs-pagination-color:var(--bs-link-color);--bs-pagination-bg:#fff;--bs-pagination-border-width:1px;--bs-pagination-border-color:#dee2e6;--bs-pagination-border-radius:0.375rem;--bs-pagination-hover-color:var(--bs-link-hover-color);--bs-pagination-hover-bg:#e9ecef;--bs-pagination-hover-border-color:#dee2e6;--bs-pagination-focus-color:var(--bs-link-hover-color);--bs-pagination-focus-bg:#e9ecef;--bs-pagination-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-pagination-active-color:#fff;--bs-pagination-active-bg:#0d6efd;--bs-pagination-active-border-color:#0d6efd;--bs-pagination-disabled-color:#6c757d;--bs-pagination-disabled-bg:#fff;--bs-pagination-disabled-border-color:#dee2e6;display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;padding:var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);font-size:var(--bs-pagination-font-size);color:var(--bs-pagination-color);text-decoration:none;background-color:var(--bs-pagination-bg);border:var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:var(--bs-pagination-hover-color);background-color:var(--bs-pagination-hover-bg);border-color:var(--bs-pagination-hover-border-color)}.page-link:focus{z-index:3;color:var(--bs-pagination-focus-color);background-color:var(--bs-pagination-focus-bg);outline:0;box-shadow:var(--bs-pagination-focus-box-shadow)}.active>.page-link,.page-link.active{z-index:3;color:var(--bs-pagination-active-color);background-color:var(--bs-pagination-active-bg);border-color:var(--bs-pagination-active-border-color)}.disabled>.page-link,.page-link.disabled{color:var(--bs-pagination-disabled-color);pointer-events:none;background-color:var(--bs-pagination-disabled-bg);border-color:var(--bs-pagination-disabled-border-color)}.page-item:not(:first-child) .page-link{margin-left:-1px}.page-item:first-child .page-link{border-top-left-radius:var(--bs-pagination-border-radius);border-bottom-left-radius:var(--bs-pagination-border-radius)}.page-item:last-child .page-link{border-top-right-radius:var(--bs-pagination-border-radius);border-bottom-right-radius:var(--bs-pagination-border-radius)}.pagination-lg{--bs-pagination-padding-x:1.5rem;--bs-pagination-padding-y:0.75rem;--bs-pagination-font-size:1.25rem;--bs-pagination-border-radius:0.5rem}.pagination-sm{--bs-pagination-padding-x:0.5rem;--bs-pagination-padding-y:0.25rem;--bs-pagination-font-size:0.875rem;--bs-pagination-border-radius:0.25rem}.badge{--bs-badge-padding-x:0.65em;--bs-badge-padding-y:0.35em;--bs-badge-font-size:0.75em;--bs-badge-font-weight:700;--bs-badge-color:#fff;--bs-badge-border-radius:0.375rem;display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg:transparent;--bs-alert-padding-x:1rem;--bs-alert-padding-y:1rem;--bs-alert-margin-bottom:1rem;--bs-alert-color:inherit;--bs-alert-border-color:transparent;--bs-alert-border:1px solid var(--bs-alert-border-color);--bs-alert-border-radius:0.375rem;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{--bs-alert-color:#084298;--bs-alert-bg:#cfe2ff;--bs-alert-border-color:#b6d4fe}.alert-primary .alert-link{color:#06357a}.alert-secondary{--bs-alert-color:#41464b;--bs-alert-bg:#e2e3e5;--bs-alert-border-color:#d3d6d8}.alert-secondary .alert-link{color:#34383c}.alert-success{--bs-alert-color:#0f5132;--bs-alert-bg:#d1e7dd;--bs-alert-border-color:#badbcc}.alert-success .alert-link{color:#0c4128}.alert-info{--bs-alert-color:#055160;--bs-alert-bg:#cff4fc;--bs-alert-border-color:#b6effb}.alert-info .alert-link{color:#04414d}.alert-warning{--bs-alert-color:#664d03;--bs-alert-bg:#fff3cd;--bs-alert-border-color:#ffecb5}.alert-warning .alert-link{color:#523e02}.alert-danger{--bs-alert-color:#842029;--bs-alert-bg:#f8d7da;--bs-alert-border-color:#f5c2c7}.alert-danger .alert-link{color:#6a1a21}.alert-light{--bs-alert-color:#636464;--bs-alert-bg:#fefefe;--bs-alert-border-color:#fdfdfe}.alert-light .alert-link{color:#4f5050}.alert-dark{--bs-alert-color:#141619;--bs-alert-bg:#d3d3d4;--bs-alert-border-color:#bcbebf}.alert-dark .alert-link{color:#101214}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{--bs-progress-height:1rem;--bs-progress-font-size:0.75rem;--bs-progress-bg:#e9ecef;--bs-progress-border-radius:0.375rem;--bs-progress-box-shadow:inset 0 1px 2px rgba(0, 0, 0, 0.075);--bs-progress-bar-color:#fff;--bs-progress-bar-bg:#0d6efd;--bs-progress-bar-transition:width 0.6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:var(--bs-progress-bar-color);text-align:center;white-space:nowrap;background-color:var(--bs-progress-bar-bg);transition:var(--bs-progress-bar-transition)}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:var(--bs-progress-height) var(--bs-progress-height)}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.list-group{--bs-list-group-color:#212529;--bs-list-group-bg:#fff;--bs-list-group-border-color:rgba(0, 0, 0, 0.125);--bs-list-group-border-width:1px;--bs-list-group-border-radius:0.375rem;--bs-list-group-item-padding-x:1rem;--bs-list-group-item-padding-y:0.5rem;--bs-list-group-action-color:#495057;--bs-list-group-action-hover-color:#495057;--bs-list-group-action-hover-bg:#f8f9fa;--bs-list-group-action-active-color:#212529;--bs-list-group-action-active-bg:#e9ecef;--bs-list-group-disabled-color:#6c757d;--bs-list-group-disabled-bg:#fff;--bs-list-group-active-color:#fff;--bs-list-group-active-bg:#0d6efd;--bs-list-group-active-border-color:#0d6efd;display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:var(--bs-list-group-border-radius)}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>.list-group-item::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item-action{width:100%;color:var(--bs-list-group-action-color);text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:var(--bs-list-group-action-hover-color);text-decoration:none;background-color:var(--bs-list-group-action-hover-bg)}.list-group-item-action:active{color:var(--bs-list-group-action-active-color);background-color:var(--bs-list-group-action-active-bg)}.list-group-item{position:relative;display:block;padding:var(--bs-list-group-item-padding-y) var(--bs-list-group-item-padding-x);color:var(--bs-list-group-color);text-decoration:none;background-color:var(--bs-list-group-bg);border:var(--bs-list-group-border-width) solid var(--bs-list-group-border-color)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:var(--bs-list-group-disabled-color);pointer-events:none;background-color:var(--bs-list-group-disabled-bg)}.list-group-item.active{z-index:2;color:var(--bs-list-group-active-color);background-color:var(--bs-list-group-active-bg);border-color:var(--bs-list-group-active-border-color)}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:calc(-1 * var(--bs-list-group-border-width));border-top-width:var(--bs-list-group-border-width)}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 var(--bs-list-group-border-width)}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#141619;border-color:#141619}.btn-close{box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:#000;background:transparent url(${N}) center/1em auto no-repeat;border:0;border-radius:.375rem;opacity:.5}.btn-close:hover{color:#000;text-decoration:none;opacity:.75}.btn-close:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);opacity:1}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.25}.btn-close-white{filter:invert(1) grayscale(100%) brightness(200%)}.toast{--bs-toast-zindex:1090;--bs-toast-padding-x:0.75rem;--bs-toast-padding-y:0.5rem;--bs-toast-spacing:1.5rem;--bs-toast-max-width:350px;--bs-toast-font-size:0.875rem;--bs-toast-color: ;--bs-toast-bg:rgba(255, 255, 255, 0.85);--bs-toast-border-width:1px;--bs-toast-border-color:var(--bs-border-color-translucent);--bs-toast-border-radius:0.375rem;--bs-toast-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-toast-header-color:#6c757d;--bs-toast-header-bg:rgba(255, 255, 255, 0.85);--bs-toast-header-border-color:rgba(0, 0, 0, 0.05);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{--bs-toast-zindex:1090;position:absolute;z-index:var(--bs-toast-zindex);width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:var(--bs-toast-spacing)}.toast-header{display:flex;align-items:center;padding:var(--bs-toast-padding-y) var(--bs-toast-padding-x);color:var(--bs-toast-header-color);background-color:var(--bs-toast-header-bg);background-clip:padding-box;border-bottom:var(--bs-toast-border-width) solid var(--bs-toast-header-border-color);border-top-left-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width));border-top-right-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width))}.toast-header .btn-close{margin-right:calc(-.5 * var(--bs-toast-padding-x));margin-left:var(--bs-toast-padding-x)}.toast-body{padding:var(--bs-toast-padding-x);word-wrap:break-word}.modal{--bs-modal-zindex:1055;--bs-modal-width:500px;--bs-modal-padding:1rem;--bs-modal-margin:0.5rem;--bs-modal-color: ;--bs-modal-bg:#fff;--bs-modal-border-color:var(--bs-border-color-translucent);--bs-modal-border-width:1px;--bs-modal-border-radius:0.5rem;--bs-modal-box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-modal-inner-border-radius:calc(0.5rem - 1px);--bs-modal-header-padding-x:1rem;--bs-modal-header-padding-y:1rem;--bs-modal-header-padding:1rem 1rem;--bs-modal-header-border-color:var(--bs-border-color);--bs-modal-header-border-width:1px;--bs-modal-title-line-height:1.5;--bs-modal-footer-gap:0.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color:var(--bs-border-color);--bs-modal-footer-border-width:1px;position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:var(--bs-modal-margin);pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - var(--bs-modal-margin) * 2)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - var(--bs-modal-margin) * 2)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex:1050;--bs-backdrop-bg:#000;--bs-backdrop-opacity:0.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:var(--bs-modal-header-padding);border-bottom:var(--bs-modal-header-border-width) solid var(--bs-modal-header-border-color);border-top-left-radius:var(--bs-modal-inner-border-radius);border-top-right-radius:var(--bs-modal-inner-border-radius)}.modal-header .btn-close{padding:calc(var(--bs-modal-header-padding-y) * .5) calc(var(--bs-modal-header-padding-x) * .5);margin:calc(-.5 * var(--bs-modal-header-padding-y)) calc(-.5 * var(--bs-modal-header-padding-x)) calc(-.5 * var(--bs-modal-header-padding-y)) auto}.modal-title{margin-bottom:0;line-height:var(--bs-modal-title-line-height)}.modal-body{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap) * .5)}@media (min-width:576px){.modal{--bs-modal-margin:1.75rem;--bs-modal-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15)}.modal-dialog{max-width:var(--bs-modal-width);margin-right:auto;margin-left:auto}.modal-sm{--bs-modal-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{--bs-modal-width:800px}}@media (min-width:1200px){.modal-xl{--bs-modal-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-footer,.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-footer,.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-footer,.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-footer,.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-footer,.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-footer,.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}}.tooltip{--bs-tooltip-zindex:1080;--bs-tooltip-max-width:200px;--bs-tooltip-padding-x:0.5rem;--bs-tooltip-padding-y:0.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:0.875rem;--bs-tooltip-color:#fff;--bs-tooltip-bg:#000;--bs-tooltip-border-radius:0.375rem;--bs-tooltip-opacity:0.9;--bs-tooltip-arrow-width:0.8rem;--bs-tooltip-arrow-height:0.4rem;z-index:var(--bs-tooltip-zindex);display:block;padding:var(--bs-tooltip-arrow-height);margin:var(--bs-tooltip-margin);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-top-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:0;width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-right-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-bottom-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:0;width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) 0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-left-color:var(--bs-tooltip-bg)}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex:1070;--bs-popover-max-width:276px;--bs-popover-font-size:0.875rem;--bs-popover-bg:#fff;--bs-popover-border-width:1px;--bs-popover-border-color:var(--bs-border-color-translucent);--bs-popover-border-radius:0.5rem;--bs-popover-inner-border-radius:calc(0.5rem - 1px);--bs-popover-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-popover-header-padding-x:1rem;--bs-popover-header-padding-y:0.5rem;--bs-popover-header-font-size:1rem;--bs-popover-header-color: ;--bs-popover-header-bg:#f0f0f0;--bs-popover-body-padding-x:1rem;--bs-popover-body-padding-y:1rem;--bs-popover-body-color:#212529;--bs-popover-arrow-width:1rem;--bs-popover-arrow-height:0.5rem;--bs-popover-arrow-border:var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.popover .popover-arrow{display:block;width:var(--bs-popover-arrow-width);height:var(--bs-popover-arrow-height)}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid;border-width:0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::after,.bs-popover-top>.popover-arrow::before{border-width:var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-top-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:var(--bs-popover-border-width);border-top-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::after,.bs-popover-end>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-right-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:var(--bs-popover-border-width);border-right-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::before{border-width:0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-bottom-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:var(--bs-popover-border-width);border-bottom-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:var(--bs-popover-arrow-width);margin-left:calc(-.5 * var(--bs-popover-arrow-width));content:"";border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-header-bg)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::after,.bs-popover-start>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) 0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-left-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:var(--bs-popover-border-width);border-left-color:var(--bs-popover-bg)}.popover-header{padding:var(--bs-popover-header-padding-y) var(--bs-popover-header-padding-x);margin-bottom:0;font-size:var(--bs-popover-header-font-size);color:var(--bs-popover-header-color);background-color:var(--bs-popover-header-bg);border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-top-left-radius:var(--bs-popover-inner-border-radius);border-top-right-radius:var(--bs-popover-inner-border-radius)}.popover-header:empty{display:none}.popover-body{padding:var(--bs-popover-body-padding-y) var(--bs-popover-body-padding-x);color:var(--bs-popover-body-color)}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url(${B})}.carousel-control-next-icon{background-image:url(${U})}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-next-icon,.carousel-dark .carousel-control-prev-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}.spinner-border,.spinner-grow{display:inline-block;width:var(--bs-spinner-width);height:var(--bs-spinner-height);vertical-align:var(--bs-spinner-vertical-align);border-radius:50%;animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name)}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-border-width:0.25em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-border;border:var(--bs-spinner-border-width) solid currentcolor;border-right-color:transparent}.spinner-border-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem;--bs-spinner-border-width:0.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-grow;background-color:currentcolor;opacity:0}.spinner-grow-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{--bs-spinner-animation-speed:1.5s}}.offcanvas,.offcanvas-lg,.offcanvas-md,.offcanvas-sm,.offcanvas-xl,.offcanvas-xxl{--bs-offcanvas-zindex:1045;--bs-offcanvas-width:400px;--bs-offcanvas-height:30vh;--bs-offcanvas-padding-x:1rem;--bs-offcanvas-padding-y:1rem;--bs-offcanvas-color: ;--bs-offcanvas-bg:#fff;--bs-offcanvas-border-width:1px;--bs-offcanvas-border-color:var(--bs-border-color-translucent);--bs-offcanvas-box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075)}@media (max-width:575.98px){.offcanvas-sm{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:575.98px) and (prefers-reduced-motion:reduce){.offcanvas-sm{transition:none}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:575.98px){.offcanvas-sm.show:not(.hiding),.offcanvas-sm.showing{transform:none}}@media (max-width:575.98px){.offcanvas-sm.hiding,.offcanvas-sm.show,.offcanvas-sm.showing{visibility:visible}}@media (min-width:576px){.offcanvas-sm{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-sm .offcanvas-header{display:none}.offcanvas-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:767.98px){.offcanvas-md{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:767.98px) and (prefers-reduced-motion:reduce){.offcanvas-md{transition:none}}@media (max-width:767.98px){.offcanvas-md.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:767.98px){.offcanvas-md.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:767.98px){.offcanvas-md.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:767.98px){.offcanvas-md.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:767.98px){.offcanvas-md.show:not(.hiding),.offcanvas-md.showing{transform:none}}@media (max-width:767.98px){.offcanvas-md.hiding,.offcanvas-md.show,.offcanvas-md.showing{visibility:visible}}@media (min-width:768px){.offcanvas-md{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-md .offcanvas-header{display:none}.offcanvas-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:991.98px){.offcanvas-lg{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:991.98px) and (prefers-reduced-motion:reduce){.offcanvas-lg{transition:none}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:991.98px){.offcanvas-lg.show:not(.hiding),.offcanvas-lg.showing{transform:none}}@media (max-width:991.98px){.offcanvas-lg.hiding,.offcanvas-lg.show,.offcanvas-lg.showing{visibility:visible}}@media (min-width:992px){.offcanvas-lg{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-lg .offcanvas-header{display:none}.offcanvas-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1199.98px){.offcanvas-xl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:1199.98px) and (prefers-reduced-motion:reduce){.offcanvas-xl{transition:none}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:1199.98px){.offcanvas-xl.show:not(.hiding),.offcanvas-xl.showing{transform:none}}@media (max-width:1199.98px){.offcanvas-xl.hiding,.offcanvas-xl.show,.offcanvas-xl.showing{visibility:visible}}@media (min-width:1200px){.offcanvas-xl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xl .offcanvas-header{display:none}.offcanvas-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1399.98px){.offcanvas-xxl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:1399.98px) and (prefers-reduced-motion:reduce){.offcanvas-xxl{transition:none}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:1399.98px){.offcanvas-xxl.show:not(.hiding),.offcanvas-xxl.showing{transform:none}}@media (max-width:1399.98px){.offcanvas-xxl.hiding,.offcanvas-xxl.show,.offcanvas-xxl.showing{visibility:visible}}@media (min-width:1400px){.offcanvas-xxl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xxl .offcanvas-header{display:none}.offcanvas-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}.offcanvas{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas.show:not(.hiding),.offcanvas.showing{transform:none}.offcanvas.hiding,.offcanvas.show,.offcanvas.showing{visibility:visible}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x)}.offcanvas-header .btn-close{padding:calc(var(--bs-offcanvas-padding-y) * .5) calc(var(--bs-offcanvas-padding-x) * .5);margin-top:calc(-.5 * var(--bs-offcanvas-padding-y));margin-right:calc(-.5 * var(--bs-offcanvas-padding-x));margin-bottom:calc(-.5 * var(--bs-offcanvas-padding-y))}.offcanvas-title{margin-bottom:0;line-height:1.5}.offcanvas-body{flex-grow:1;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);overflow-y:auto}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.text-bg-primary{color:#fff!important;background-color:RGBA(13,110,253,var(--bs-bg-opacity,1))!important}.text-bg-secondary{color:#fff!important;background-color:RGBA(108,117,125,var(--bs-bg-opacity,1))!important}.text-bg-success{color:#fff!important;background-color:RGBA(25,135,84,var(--bs-bg-opacity,1))!important}.text-bg-info{color:#000!important;background-color:RGBA(13,202,240,var(--bs-bg-opacity,1))!important}.text-bg-warning{color:#000!important;background-color:RGBA(255,193,7,var(--bs-bg-opacity,1))!important}.text-bg-danger{color:#fff!important;background-color:RGBA(220,53,69,var(--bs-bg-opacity,1))!important}.text-bg-light{color:#000!important;background-color:RGBA(248,249,250,var(--bs-bg-opacity,1))!important}.text-bg-dark{color:#fff!important;background-color:RGBA(33,37,41,var(--bs-bg-opacity,1))!important}.link-primary{color:#0d6efd!important}.link-primary:focus,.link-primary:hover{color:#0a58ca!important}.link-secondary{color:#6c757d!important}.link-secondary:focus,.link-secondary:hover{color:#565e64!important}.link-success{color:#198754!important}.link-success:focus,.link-success:hover{color:#146c43!important}.link-info{color:#0dcaf0!important}.link-info:focus,.link-info:hover{color:#3dd5f3!important}.link-warning{color:#ffc107!important}.link-warning:focus,.link-warning:hover{color:#ffcd39!important}.link-danger{color:#dc3545!important}.link-danger:focus,.link-danger:hover{color:#b02a37!important}.link-light{color:#f8f9fa!important}.link-light:focus,.link-light:hover{color:#f9fafb!important}.link-dark{color:#212529!important}.link-dark:focus,.link-dark:hover{color:#1a1e21!important}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-sm-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-md-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-lg-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xxl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentcolor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-0{border:0!important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-top-0{border-top:0!important}.border-end{border-right:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-start-0{border-left:0!important}.border-primary{--bs-border-opacity:1;border-color:rgba(var(--bs-primary-rgb),var(--bs-border-opacity))!important}.border-secondary{--bs-border-opacity:1;border-color:rgba(var(--bs-secondary-rgb),var(--bs-border-opacity))!important}.border-success{--bs-border-opacity:1;border-color:rgba(var(--bs-success-rgb),var(--bs-border-opacity))!important}.border-info{--bs-border-opacity:1;border-color:rgba(var(--bs-info-rgb),var(--bs-border-opacity))!important}.border-warning{--bs-border-opacity:1;border-color:rgba(var(--bs-warning-rgb),var(--bs-border-opacity))!important}.border-danger{--bs-border-opacity:1;border-color:rgba(var(--bs-danger-rgb),var(--bs-border-opacity))!important}.border-light{--bs-border-opacity:1;border-color:rgba(var(--bs-light-rgb),var(--bs-border-opacity))!important}.border-dark{--bs-border-opacity:1;border-color:rgba(var(--bs-dark-rgb),var(--bs-border-opacity))!important}.border-white{--bs-border-opacity:1;border-color:rgba(var(--bs-white-rgb),var(--bs-border-opacity))!important}.border-1{--bs-border-width:1px}.border-2{--bs-border-width:2px}.border-3{--bs-border-width:3px}.border-4{--bs-border-width:4px}.border-5{--bs-border-width:5px}.border-opacity-10{--bs-border-opacity:0.1}.border-opacity-25{--bs-border-opacity:0.25}.border-opacity-50{--bs-border-opacity:0.5}.border-opacity-75{--bs-border-opacity:0.75}.border-opacity-100{--bs-border-opacity:1}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-light{font-weight:300!important}.fw-lighter{font-weight:lighter!important}.fw-normal{font-weight:400!important}.fw-bold{font-weight:700!important}.fw-semibold{font-weight:600!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:#6c757d!important}.text-black-50{--bs-text-opacity:1;color:rgba(0,0,0,.5)!important}.text-white-50{--bs-text-opacity:1;color:rgba(255,255,255,.5)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:0.25}.text-opacity-50{--bs-text-opacity:0.5}.text-opacity-75{--bs-text-opacity:0.75}.text-opacity-100{--bs-text-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-opacity-10{--bs-bg-opacity:0.1}.bg-opacity-25{--bs-bg-opacity:0.25}.bg-opacity-50{--bs-bg-opacity:0.5}.bg-opacity-75{--bs-bg-opacity:0.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:var(--bs-border-radius)!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:var(--bs-border-radius-sm)!important}.rounded-2{border-radius:var(--bs-border-radius)!important}.rounded-3{border-radius:var(--bs-border-radius-lg)!important}.rounded-4{border-radius:var(--bs-border-radius-xl)!important}.rounded-5{border-radius:var(--bs-border-radius-2xl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--bs-border-radius-pill)!important}.rounded-top{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-end{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-bottom{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-start{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}`,""]);const V=T},11276:(t,e,r)=>{var n=r(39807),i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(c(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),s=n[r];r<i;s=n[++r])b(s)||!_(s)?a+=" "+s:a+=" "+c(s);return a},e.deprecate=function(t,r){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.deprecate(t,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return t.apply(this,arguments)}};var a={},s=/^$/;if(n.env.NODE_DEBUG){var l=n.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+l+"$","i")}function c(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&e._extend(n,r),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=d),h(n,t,n.depth)}function d(t,e){var r=c.styles[e];return r?"["+c.colors[r][0]+"m"+t+"["+c.colors[r][1]+"m":t}function u(t,e){return t}function h(t,r,n){if(t.customInspect&&r&&T(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return y(i)||(i=h(t,i,n)),i}var o=function(t,e){if(x(e))return t.stylize("undefined","undefined");if(y(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return v(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):b(e)?t.stylize("null","null"):void 0}(t,r);if(o)return o;var a=Object.keys(r),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(r)),A(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(r);if(0===a.length){if(T(r)){var l=r.name?": "+r.name:"";return t.stylize("[Function"+l+"]","special")}if(w(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return f(r)}var c,d="",u=!1,_=["{","}"];return m(r)&&(u=!0,_=["[","]"]),T(r)&&(d=" [Function"+(r.name?": "+r.name:"")+"]"),w(r)&&(d=" "+RegExp.prototype.toString.call(r)),k(r)&&(d=" "+Date.prototype.toUTCString.call(r)),A(r)&&(d=" "+f(r)),0!==a.length||u&&0!=r.length?n<0?w(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=u?function(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)C(e,String(a))?o.push(p(t,e,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(t,e,r,n,i,!0))})),o}(t,r,n,s,a):a.map((function(e){return p(t,r,n,s,e,u)})),t.seen.pop(),function(t,e,r){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(c,d,_)):_[0]+d+_[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),C(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=b(r)?h(t,l.value,null):h(t,l.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function m(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function b(t){return null===t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function x(t){return void 0===t}function w(t){return _(t)&&"[object RegExp]"===M(t)}function _(t){return"object"==typeof t&&null!==t}function k(t){return _(t)&&"[object Date]"===M(t)}function A(t){return _(t)&&("[object Error]"===M(t)||t instanceof Error)}function T(t){return"function"==typeof t}function M(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(s.test(t)){var r=n.pid;a[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else a[t]=function(){};return a[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=r(41071),e.isArray=m,e.isBoolean=g,e.isNull=b,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=x,e.isRegExp=w,e.types.isRegExp=w,e.isObject=_,e.isDate=k,e.types.isDate=k,e.isError=A,e.types.isNativeError=A,e.isFunction=T,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(26900);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(r=[S((t=new Date).getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),E[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(9715),e._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var z="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(z&&t[z]){var e;if("function"!=typeof(e=t[z]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,z,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),z&&Object.defineProperty(e,z,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=z,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){n.nextTick(a.bind(null,null,t))}),(function(t){n.nextTick(L.bind(null,t,a))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},11314:t=>{"use strict";var e=Object.create,r=Object.getPrototypeOf,n={};t.exports=function(){var t=Object.setPrototypeOf;return"function"==typeof t&&r(t((arguments[0]||e)(null),n))===n}},11491:(t,e,r)=>{"use strict";var n=r(35366),i=r(48744),o=r(57255),a=r(57809);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new i("a function is required");return a(n,o,t)}},11704:t=>{"use strict";t.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},11882:t=>{t.exports=function(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}},11891:t=>{"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},12028:(t,e,r)=>{"use strict";t.exports=r(7623)},12057:t=>{"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},12086:t=>{"use strict";function e(t,e){return e?e.d2l(t):t}function r(t,e){return e?e.l2d(t):t}function n(t){return t.x0shift||0}function i(t){return t.x1shift||0}function o(t){return t.y0shift||0}function a(t){return t.y1shift||0}function s(t,r){return e(t.x1,r)+i(t)-e(t.x0,r)-n(t)}function l(t,r,n){return e(t.y1,n)+a(t)-e(t.y0,n)-o(t)}t.exports={x0:function(t){return t.x0},x1:function(t){return t.x1},y0:function(t){return t.y0},y1:function(t){return t.y1},slope:function(t,e,r){return"line"!==t.type?void 0:l(t,0,r)/s(t,e)},dx:s,dy:l,width:function(t,e){return Math.abs(s(t,e))},height:function(t,e,r){return Math.abs(l(t,0,r))},length:function(t,e,r){return"line"!==t.type?void 0:Math.sqrt(Math.pow(s(t,e),2)+Math.pow(l(t,0,r),2))},xcenter:function(t,o){return r((e(t.x1,o)+i(t)+e(t.x0,o)+n(t))/2,o)},ycenter:function(t,n,i){return r((e(t.y1,i)+a(t)+e(t.y0,i)+o(t))/2,i)}}},12138:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(35677),a=r(39677),s=r(23223);function l(t,e,r){function o(r,i){return n.coerce(t,e,a,r,i)}if(e._isShape=!0,o("visible")){o("showlegend")&&(o("legend"),o("legendwidth"),o("legendgroup"),o("legendgrouptitle.text"),n.coerceFont(o,"legendgrouptitle.font"),o("legendrank"));var l=o("path"),c=o("type",l?"path":"rect"),d="path"!==c;d&&delete e.path,o("editable"),o("layer"),o("opacity"),o("fillcolor"),o("fillrule"),o("line.width")&&(o("line.color"),o("line.dash"));for(var u=o("xsizemode"),h=o("ysizemode"),f=["x","y"],p=0;p<2;p++){var m,g,b,v=f[p],y=v+"anchor",x="x"===v?u:h,w={_fullLayout:r},_=i.coerceRef(t,e,w,v,void 0,"paper");if("range"===i.getRefType(_)?((m=i.getFromId(w,_))._shapeIndices.push(e._index),b=s.rangeToShapePosition(m),g=s.shapePositionToRange(m),"category"!==m.type&&"multicategory"!==m.type||(o(v+"0shift"),o(v+"1shift"))):g=b=n.identity,d){var k=v+"0",A=v+"1",T=t[k],M=t[A];t[k]=g(t[k],!0),t[A]=g(t[A],!0),"pixel"===x?(o(k,0),o(A,10)):(i.coercePosition(e,w,o,_,k,.25),i.coercePosition(e,w,o,_,A,.75)),e[k]=b(e[k]),e[A]=b(e[A]),t[k]=T,t[A]=M}if("pixel"===x){var S=t[y];t[y]=g(t[y],!0),i.coercePosition(e,w,o,_,y,.25),e[y]=b(e[y]),t[y]=S}}d&&n.noneOrAll(t,e,["x0","x1","y0","y1"]);var E,C,z="line"===c;if(d&&(E=o("label.texttemplate"),o("label.texttemplatefallback")),E||(C=o("label.text")),C||E){o("label.textangle");var L=o("label.textposition",z?"middle":"middle center");o("label.xanchor"),o("label.yanchor",function(t,e){return t?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}(z,L)),o("label.padding"),n.coerceFont(o,"label.font",r.font)}}}t.exports=function(t,e){o(t,e,{name:"shapes",handleItemDefaults:l})}},12213:(t,e,r)=>{"use strict";var n=r(95768);t.exports=function(t,e,r,i,o){o||(o={});var a=o.tickSuffixDflt,s=n(t);r("tickprefix")&&r("showtickprefix",s),r("ticksuffix",a)&&r("showticksuffix",s)}},12261:(t,e,r)=>{"use strict";var n=r(17499),i=r(12822).isArrayOrTypedArray;t.exports=function(t,e,r,o,a){a||(a={});var s,l=!1;if(e.marker){var c=e.marker.color,d=(e.marker.line||{}).color;c&&!i(c)?l=c:d&&!i(d)&&(l=d)}if(a.moduleHasFillgradient&&"none"!==o("fillgradient.type")){o("fillgradient.start"),o("fillgradient.stop");var u=o("fillgradient.colorscale");u&&(s=function(t){for(var e=n.interpolate(t[0][1],t[1][1],.5),r=2;r<t.length;r++){var i=n.interpolate(t[r-1][1],t[r][1],.5);e=n.interpolate(e,i,t[r-1][0]/t[r][0])}return e}(u))}o("fillcolor",n.addOpacity((e.line||{}).color||l||s||r,.5))}},12431:t=>{"use strict";t.exports=i,t.exports.isMobile=i,t.exports.default=i;const e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,n=/android|ipad|playbook|silk/i;function i(t){t||(t={});let i=t.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;let o=e.test(i)&&!r.test(i)||!!t.tablet&&n.test(i);return!o&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(o=!0),o}},12517:t=>{"use strict";t.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},12611:t=>{"use strict";t.exports=function(t){return"string"==typeof t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},12724:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},12822:(t,e,r)=>{"use strict";var n=r(27941),i=r(79969).aL,o=r(31830).GP,a=r(7370),s=r(32994),l=s.FP_SAFE,c=-l,d=s.BADNUM,u=t.exports={};u.adjustFormat=function(t){return!t||/^\d[.]\df/.test(t)||/[.]\d%/.test(t)?t:"0.f"===t?"~f":/^\d%/.test(t)?"~%":/^\ds/.test(t)?"~s":!/^[~,.0$]/.test(t)&&/[&fps]/.test(t)?"~"+t:t};var h={};u.warnBadFormat=function(t){var e=String(t);h[e]||(h[e]=1,u.warn('encountered bad format: "'+e+'"'))},u.noFormat=function(t){return String(t)},u.numberFormat=function(t){var e;try{e=o(u.adjustFormat(t))}catch(e){return u.warnBadFormat(t),u.noFormat}return e},u.nestedProperty=r(91355),u.keyedContainer=r(68588),u.relativeAttr=r(21904),u.isPlainObject=r(12517),u.toLogRange=r(61814),u.relinkPrivateKeys=r(45905);var f=r(98507);u.isArrayBuffer=f.isArrayBuffer,u.isTypedArray=f.isTypedArray,u.isArrayOrTypedArray=f.isArrayOrTypedArray,u.isArray1D=f.isArray1D,u.ensureArray=f.ensureArray,u.concat=f.concat,u.maxRowLength=f.maxRowLength,u.minRowLength=f.minRowLength;var p=r(31918);u.mod=p.mod,u.modHalf=p.modHalf;var m=r(5365);u.valObjectMeta=m.valObjectMeta,u.coerce=m.coerce,u.coerce2=m.coerce2,u.coerceFont=m.coerceFont,u.coercePattern=m.coercePattern,u.coerceHoverinfo=m.coerceHoverinfo,u.coerceSelectionMarkerOpacity=m.coerceSelectionMarkerOpacity,u.validate=m.validate;var g=r(41095);u.dateTime2ms=g.dateTime2ms,u.isDateTime=g.isDateTime,u.ms2DateTime=g.ms2DateTime,u.ms2DateTimeLocal=g.ms2DateTimeLocal,u.cleanDate=g.cleanDate,u.isJSDate=g.isJSDate,u.formatDate=g.formatDate,u.incrementMonth=g.incrementMonth,u.dateTick0=g.dateTick0,u.dfltRange=g.dfltRange,u.findExactDates=g.findExactDates,u.MIN_MS=g.MIN_MS,u.MAX_MS=g.MAX_MS;var b=r(45380);u.findBin=b.findBin,u.sorterAsc=b.sorterAsc,u.sorterDes=b.sorterDes,u.distinctVals=b.distinctVals,u.roundUp=b.roundUp,u.sort=b.sort,u.findIndexOfMin=b.findIndexOfMin,u.sortObjectKeys=r(54747);var v=r(6749);u.aggNums=v.aggNums,u.len=v.len,u.mean=v.mean,u.geometricMean=v.geometricMean,u.median=v.median,u.midRange=v.midRange,u.variance=v.variance,u.stdev=v.stdev,u.interp=v.interp;var y=r(75717);u.init2dArray=y.init2dArray,u.transposeRagged=y.transposeRagged,u.dot=y.dot,u.translationMatrix=y.translationMatrix,u.rotationMatrix=y.rotationMatrix,u.rotationXYMatrix=y.rotationXYMatrix,u.apply3DTransform=y.apply3DTransform,u.apply2DTransform=y.apply2DTransform,u.apply2DTransform2=y.apply2DTransform2,u.convertCssMatrix=y.convertCssMatrix,u.inverseTransformMatrix=y.inverseTransformMatrix;var x=r(59804);u.deg2rad=x.deg2rad,u.rad2deg=x.rad2deg,u.angleDelta=x.angleDelta,u.angleDist=x.angleDist,u.isFullCircle=x.isFullCircle,u.isAngleInsideSector=x.isAngleInsideSector,u.isPtInsideSector=x.isPtInsideSector,u.pathArc=x.pathArc,u.pathSector=x.pathSector,u.pathAnnulus=x.pathAnnulus;var w=r(66379);u.isLeftAnchor=w.isLeftAnchor,u.isCenterAnchor=w.isCenterAnchor,u.isRightAnchor=w.isRightAnchor,u.isTopAnchor=w.isTopAnchor,u.isMiddleAnchor=w.isMiddleAnchor,u.isBottomAnchor=w.isBottomAnchor;var _=r(8994);u.segmentsIntersect=_.segmentsIntersect,u.segmentDistance=_.segmentDistance,u.getTextLocation=_.getTextLocation,u.clearLocationCache=_.clearLocationCache,u.getVisibleSegment=_.getVisibleSegment,u.findPointOnPath=_.findPointOnPath;var k=r(98260);u.extendFlat=k.extendFlat,u.extendDeep=k.extendDeep,u.extendDeepAll=k.extendDeepAll,u.extendDeepNoArrays=k.extendDeepNoArrays;var A=r(64347);u.log=A.log,u.warn=A.warn,u.error=A.error;var T=r(46233);u.counterRegex=T.counter;var M=r(76324);u.throttle=M.throttle,u.throttleDone=M.done,u.clearThrottle=M.clear;var S=r(16822);function E(t){var e={};for(var r in t)for(var n=t[r],i=0;i<n.length;i++)e[n[i]]=+r;return e}u.getGraphDiv=S.getGraphDiv,u.isPlotDiv=S.isPlotDiv,u.removeElement=S.removeElement,u.addStyleRule=S.addStyleRule,u.addRelatedStyleRule=S.addRelatedStyleRule,u.deleteRelatedStyleRule=S.deleteRelatedStyleRule,u.setStyleOnHover=S.setStyleOnHover,u.getFullTransformMatrix=S.getFullTransformMatrix,u.getElementTransformMatrix=S.getElementTransformMatrix,u.getElementAndAncestors=S.getElementAndAncestors,u.equalDomRects=S.equalDomRects,u.clearResponsive=r(11704),u.preserveDrawingBuffer=r(31406),u.makeTraceGroups=r(51915),u._=r(92903),u.notifier=r(39382),u.filterUnique=r(84414),u.filterVisible=r(90107),u.pushUnique=r(65280),u.increment=r(98803),u.cleanNumber=r(30035),u.ensureNumber=function(t){return a(t)?(t=Number(t))>l||t<c?d:t:d},u.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&a(t)&&t>=0&&t%1==0},u.noop=r(51648),u.identity=r(75250),u.repeat=function(t,e){for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r},u.swapAttrs=function(t,e,r,n){r||(r="x"),n||(n="y");for(var i=0;i<e.length;i++){var o=e[i],a=u.nestedProperty(t,o.replace("?",r)),s=u.nestedProperty(t,o.replace("?",n)),l=a.get();a.set(s.get()),s.set(l)}},u.raiseToTop=function(t){t.parentNode.appendChild(t)},u.cancelTransition=function(t){return t.transition().duration(0)},u.constrain=function(t,e,r){return e>r?Math.max(r,Math.min(e,t)):Math.max(e,Math.min(r,t))},u.bBoxIntersect=function(t,e,r){return r=r||0,t.left<=e.right+r&&e.left<=t.right+r&&t.top<=e.bottom+r&&e.top<=t.bottom+r},u.simpleMap=function(t,e,r,n,i){for(var o=t.length,a=new Array(o),s=0;s<o;s++)a[s]=e(t[s],r,n,i);return a},u.randstr=function t(e,r,n,i){if(n||(n=16),void 0===r&&(r=24),r<=0)return"0";var o,a,s=Math.log(Math.pow(2,r))/Math.log(n),l="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,r/o))/Math.log(n)*o;var c=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)l=Math.floor(Math.random()*n).toString(n)+l;c&&(a=Math.pow(n,c),l=Math.floor(Math.random()*a).toString(n)+l);var d=parseInt(l,n);return e&&e[l]||d!==1/0&&d>=Math.pow(2,r)?i>10?(u.warn("randstr failed uniqueness"),l):t(e,r,n,(i||0)+1):l},u.OptionControl=function(t,e){t||(t={}),e||(e="opt");var r={optionList:[],_newoption:function(n){n[e]=t,r[n.name]=n,r.optionList.push(n)}};return r["_"+e]=t,r},u.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var r,n,i,o,a=t.length,s=2*a,l=2*e-1,c=new Array(l),d=new Array(a);for(r=0;r<l;r++)c[r]=(1-Math.cos(Math.PI*(r+1)/e))/(2*e);for(r=0;r<a;r++){for(o=0,n=0;n<l;n++)(i=r+n+1-e)<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=t[i]*c[n];d[r]=o}return d},u.syncOrAsync=function(t,e,r){var n;function i(){return u.syncOrAsync(t,e,r)}for(;t.length;)if((n=(0,t.splice(0,1)[0])(e))&&n.then)return n.then(i);return r&&r(e)},u.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},u.noneOrAll=function(t,e,r){if(t){var n,i=!1,o=!0;for(n=0;n<r.length;n++)null!=t[r[n]]?i=!0:o=!1;if(i&&!o)for(n=0;n<r.length;n++)t[r[n]]=e[r[n]]}},u.mergeArray=function(t,e,r,n){var i="function"==typeof n;if(u.isArrayOrTypedArray(t))for(var o=Math.min(t.length,e.length),a=0;a<o;a++){var s=t[a];e[a][r]=i?n(s):s}},u.mergeArrayCastPositive=function(t,e,r){return u.mergeArray(t,e,r,(function(t){var e=+t;return isFinite(e)&&e>0?e:0}))},u.fillArray=function(t,e,r,n){if(n=n||u.identity,u.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][r]=n(t[i])},u.castOption=function(t,e,r,n){n=n||u.identity;var i=u.nestedProperty(t,r).get();return u.isArrayOrTypedArray(i)?Array.isArray(e)&&u.isArrayOrTypedArray(i[e[0]])?n(i[e[0]][e[1]]):n(i[e]):i},u.extractOption=function(t,e,r,n){if(r in t)return t[r];var i=u.nestedProperty(e,n).get();return Array.isArray(i)?void 0:i},u.tagSelected=function(t,e,r){var n,i,o=e.selectedpoints,a=e._indexToPoints;a&&(n=E(a));for(var s=0;s<o.length;s++){var l=o[s];if(u.isIndex(l)||u.isArrayOrTypedArray(l)&&u.isIndex(l[0])&&u.isIndex(l[1])){var c=n?n[l]:l,d=r?r[c]:c;void 0!==(i=d)&&i<t.length&&(t[d].selected=1)}}},u.selIndices2selPoints=function(t){var e=t.selectedpoints,r=t._indexToPoints;if(r){for(var n=E(r),i=[],o=0;o<e.length;o++){var a=e[o];if(u.isIndex(a)){var s=n[a];u.isIndex(s)&&i.push(s)}}return i}return e},u.getTargetArray=function(t,e){var r=e.target;if("string"==typeof r&&r){var n=u.nestedProperty(t,r).get();return!!u.isArrayOrTypedArray(n)&&n}return!!u.isArrayOrTypedArray(r)&&r},u.minExtend=function t(e,r,n){var i={};"object"!=typeof r&&(r={});var o,a,s,l="pieLike"===n?-1:3,c=Object.keys(e);for(o=0;o<c.length;o++)s=e[a=c[o]],"_"!==a.charAt(0)&&"function"!=typeof s&&("module"===a?i[a]=s:Array.isArray(s)?i[a]="colorscale"===a||-1===l?s.slice():s.slice(0,l):u.isTypedArray(s)?i[a]=-1===l?s.subarray():s.subarray(0,l):i[a]=s&&"object"==typeof s?t(e[a],r[a],n):s);for(c=Object.keys(r),o=0;o<c.length;o++)"object"==typeof(s=r[a=c[o]])&&a in i&&"object"==typeof i[a]||(i[a]=s);return i},u.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},u.containsAny=function(t,e){for(var r=0;r<e.length;r++)if(-1!==t.indexOf(e[r]))return!0;return!1};var C=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return C.test(window.navigator.userAgent)};var z=/iPad|iPhone|iPod/;u.isIOS=function(){return z.test(window.navigator.userAgent)};const L=/Macintosh.+AppleWebKit.+Gecko\)$/;u.isMacWKWebView=()=>L.test(window.navigator.userAgent);var O=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var t=O.exec(window.navigator.userAgent);if(t&&2===t.length){var e=parseInt(t[1]);if(!isNaN(e))return e}return null},u.isD3Selection=function(t){return t instanceof n.selection},u.ensureSingle=function(t,e,r,n){var i=t.select(e+(r?"."+r:""));if(i.size())return i;var o=t.append(e);return r&&o.classed(r,!0),n&&o.call(n),o},u.ensureSingleById=function(t,e,r,n){var i=t.select(e+"#"+r);if(i.size())return i;var o=t.append(e).attr("id",r);return n&&o.call(n),o},u.objectFromPath=function(t,e){for(var r,n=t.split("."),i=r={},o=0;o<n.length;o++){var a=n[o],s=null,l=n[o].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],r=r[a]=[],o===n.length-1?r[s]=e:r[s]={},r=r[s]):(o===n.length-1?r[a]=e:r[a]={},r=r[a])}return i};var D=/^([^\[\.]+)\.(.+)?/,I=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(t){return"__"===t.slice(0,2)}u.expandObjectPaths=function(t){var e,r,n,i,o,a,s;if("object"==typeof t&&!Array.isArray(t))for(r in t)if(t.hasOwnProperty(r))if(e=r.match(D)){if(i=t[r],F(n=e[1]))continue;delete t[r],t[n]=u.extendDeepNoArrays(t[n]||{},u.objectFromPath(r,u.expandObjectPaths(i))[n])}else if(e=r.match(I)){if(i=t[r],F(n=e[1]))continue;if(o=parseInt(e[2]),delete t[r],t[n]=t[n]||[],"."===e[3])s=e[4],a=t[n][o]=t[n][o]||{},u.extendDeepNoArrays(a,u.objectFromPath(s,u.expandObjectPaths(i)));else{if(F(n))continue;t[n][o]=u.expandObjectPaths(i)}}else{if(F(r))continue;t[r]=u.expandObjectPaths(t[r])}return t},u.numSeparate=function(t,e,r){if(r||(r=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var n=/(\d+)(\d{3})/,i=e.charAt(0),o=e.charAt(1),a=t.split("."),s=a[0],l=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||r))for(;n.test(s);)s=s.replace(n,"$1"+o+"$2");return s+l},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var R=/^\w*$/;u.templateString=function(t,e){var r={};return t.replace(u.TEMPLATE_STRING_REGEX,(function(t,n){var i;return R.test(n)?i=e[n]:(r[n]=r[n]||u.nestedProperty(e,n).get,i=r[n](!0)),void 0!==i?i:""}))};const P={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=t=>V({...t,opts:P});const j={max:10,count:0,name:"texttemplate"};u.texttemplateString=t=>V({...t,opts:j});var N=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,B={max:10,count:0,name:"texttemplate",parseMultDiv:!0};u.texttemplateStringForShapes=t=>V({...t,opts:B});var U=/^[:|\|]/;function V({data:t=[],locale:e,fallback:r,labels:n={},opts:o,template:a}){return a.replace(u.TEMPLATE_STRING_REGEX,((a,s,l)=>{const c=["xother","yother"].includes(s),d=["_xother","_yother"].includes(s),h=["_xother_","_yother_"].includes(s),f=["xother_","yother_"].includes(s),p=c||d||f||h;(d||h)&&(s=s.substring(1)),(f||h)&&(s=s.substring(0,s.length-1));let m,g=null,b=null;if(o.parseMultDiv){var v=function(t){var e=t.match(N);return e?{key:e[1],op:e[2],number:Number(e[3])}:{key:t,op:null,number:null}}(s);s=v.key,g=v.op,b=v.number}if(p){if(void 0===n[s])return"";m=n[s]}else for(const e of t)if(e){if(e.hasOwnProperty(s)){m=e[s];break}if(R.test(s)||(m=u.nestedProperty(e,s).get(!0)),void 0!==m)break}if(void 0===m){const{count:t,max:e,name:n}=o,i=!1===r?a:r;return t<e&&u.warn([`Variable '${s}' in ${n} could not be found!`,"Please verify that the template is correct.",`Using value: '${i}'.`].join(" ")),t===e&&u.warn(`Too many '${n}' warnings - additional warnings will be suppressed.`),o.count++,i}if("*"===g&&(m*=b),"/"===g&&(m/=b),l){var y;if(":"===l[0]&&(y=e?e.numberFormat:u.numberFormat,""!==m&&(m=y(l.replace(U,""))(m))),"|"===l[0]){y=e?e.timeFormat:i;var x=u.dateTime2ms(m);m=u.formatDate(x,l.replace(U,""),!1,y)}}else{var w=s+"Label";n.hasOwnProperty(w)&&(m=n[w])}return p&&(m="("+m+")",(d||h)&&(m=" "+m),(f||h)&&(m+=" ")),m}))}u.subplotSort=function(t,e){for(var r=Math.min(t.length,e.length)+1,n=0,i=0,o=0;o<r;o++){var a=t.charCodeAt(o)||0,s=e.charCodeAt(o)||0,l=a>=48&&a<=57,c=s>=48&&s<=57;if(l&&(n=10*n+a-48),c&&(i=10*i+s-48),!l||!c){if(n!==i)return n-i;if(a!==s)return a-s}}return i-n};var G=2e9;u.seedPseudoRandom=function(){G=2e9},u.pseudoRandom=function(){var t=G;return G=(69069*G+1)%4294967296,Math.abs(G-t)<429496729?u.pseudoRandom():G/4294967296},u.fillText=function(t,e,r){var n=Array.isArray(r)?function(t){r.push(t)}:function(t){r.text=t},i=u.extractOption(t,e,"htx","hovertext");if(u.isValidTextValue(i))return n(i);var o=u.extractOption(t,e,"tx","text");return u.isValidTextValue(o)?n(o):void 0},u.isValidTextValue=function(t){return t||0===t},u.formatPercent=function(t,e){e=e||0;for(var r=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",n=0;n<e;n++)-1!==r.indexOf(".")&&(r=(r=r.replace("0%","%")).replace(".%","%"));return r},u.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e},u.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},u.strRotate=function(t){return t?"rotate("+t+")":""},u.strScale=function(t){return 1!==t?"scale("+t+")":""},u.getTextTransform=function(t){var e=t.noCenter,r=t.textX,n=t.textY,i=t.targetX,o=t.targetY,a=t.anchorX||0,s=t.anchorY||0,l=t.rotate,c=t.scale;return c?c>1&&(c=1):c=0,u.strTranslate(i-c*(r+a),o-c*(n+s))+u.strScale(c)+(l?"rotate("+l+(e?"":" "+r+" "+n)+")":"")},u.setTransormAndDisplay=function(t,e){t.attr("transform",u.getTextTransform(e)),t.style("display",e.scale?null:"none")},u.ensureUniformFontSize=function(t,e){var r=u.extendFlat({},e);return r.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),r},u.join2=function(t,e,r){var n=t.length;return n>1?t.slice(0,-1).join(e)+r+t[n-1]:t.join(e)},u.bigFont=function(t){return Math.round(1.2*t)};var H=u.getFirefoxVersion(),W=null!==H&&H<86;u.getPositionFromD3Event=function(){return W?[n.event.layerX,n.event.layerY]:[n.event.offsetX,n.event.offsetY]}},13078:(t,e,r)=>{"use strict";var n=r(25059);e.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("mapbox")||t._has("map"))?500:0},e.getRedrawFunc=function(t){return function(){n.getComponentMethod("colorbar","draw")(t)}},e.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},e.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var i=window.URL||window.webkitURL;e.createObjectURL=function(t){return i.createObjectURL(t)},e.revokeObjectURL=function(t){return i.revokeObjectURL(t)},e.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});var r=function(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=0;i<e;i++)n[i]=t.charCodeAt(i);return r}(window.atob(t));return new window.Blob([r],{type:"image/"+e})},e.octetStream=function(t){document.location.href="data:application/octet-stream"+t},e.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/},13195:(t,e,r)=>{"use strict";var n=r(75058),i=r(46367),o=r(84226),a=r(18360),s=r(21422),l=r(85538),c=r(98260).extendFlat,d=n({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=o.defaultLine,t.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle",description:"Sets the plot's title."},font:n({editType:"layoutstyle",description:"Sets the title font."}),subtitle:{text:{valType:"string",editType:"layoutstyle",description:"Sets the plot's subtitle."},font:n({editType:"layoutstyle",description:"Sets the subtitle font."}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:c(l({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),automargin:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether the title can automatically push the figure margins.","If `yref='paper'` then the margin will expand to ensure that the title doesnt","overlap with the edges of the container. If `yref='container'` then the margins","will ensure that the title doesnt overlap with the plot area, tick labels,","and axis titles. If `automargin=true` and the margins need to be expanded,","then y will be set to a default 1 and yanchor will be set to an appropriate","default to ensure that minimal margin space is needed. Note that when `yref='paper'`,","only 1 or 0 are allowed y values. Invalid values will be reset to the default 1."].join(" ")},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot",description:"Minimum width of the plot with margin.automargin applied (in px)"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot",description:"Minimum height of the plot with margin.automargin applied (in px)"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},newshape:a.newshape,activeshape:a.activeshape,newselection:s.newselection,activeselection:s.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:c({},i.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"})}},13351:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499),o=r(25059),a=r(84313),s=r(20049),l=r(41019),c=r(47388).KO,d="gl3d";function u(t,e,r,n){for(var a=r("bgcolor"),l=i.combine(a,n.paper_bgcolor),u=["up","center","eye"],h=0;h<u.length;h++)r("camera."+u[h]+".x"),r("camera."+u[h]+".y"),r("camera."+u[h]+".z");r("camera.projection.type");var f=!!r("aspectratio.x")&&!!r("aspectratio.y")&&!!r("aspectratio.z"),p=r("aspectmode",f?"manual":"auto");f||(t.aspectratio=e.aspectratio={x:1,y:1,z:1},"manual"===p&&(e.aspectmode="auto"),t.aspectmode=e.aspectmode);var m=c(n.fullData,d,n.id);s(t,e,{font:n.font,scene:n.id,data:m,bgColor:l,calendar:n.calendar,autotypenumbersDflt:n.autotypenumbersDflt,fullLayout:n.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(t,e,n);var g=n.getDfltFromLayout("dragmode");if(!1!==g&&!g)if(g="orbit",t.camera&&t.camera.up){var b=t.camera.up.x,v=t.camera.up.y,y=t.camera.up.z;0!==y&&(b&&v&&y?y/Math.sqrt(b*b+v*v+y*y)>.999&&(g="turntable"):g="turntable")}else g="turntable";r("dragmode",g),r("hovermode",n.getDfltFromLayout("hovermode"))}t.exports=function(t,e,r){var i=e._basePlotModules.length>1;a(t,e,r,{type:d,attributes:l,handleDefaults:u,fullLayout:e,font:e.font,fullData:r,getDfltFromLayout:function(e){if(!i)return n.validate(t[e],l[e])?t[e]:void 0},autotypenumbersDflt:e.autotypenumbers,paper_bgcolor:e.paper_bgcolor,calendar:e.calendar})}},13363:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},13471:(t,e,r)=>{"use strict";r.d(e,{DefaultVisualizer:()=>pi,version:()=>mi});var n={};r.r(n),r.d(n,{decode:()=>lt,encode:()=>ut,format:()=>ht,parse:()=>Tt});var i={};r.r(i),r.d(i,{Any:()=>Et,Cc:()=>Ct,Cf:()=>zt,P:()=>Mt,S:()=>St,Z:()=>Lt});var o={};r.r(o),r.d(o,{arrayReplaceAt:()=>ne,assign:()=>re,escapeHtml:()=>me,escapeRE:()=>be,fromCodePoint:()=>oe,has:()=>ee,isMdAsciiPunct:()=>we,isPunctChar:()=>xe,isSpace:()=>ve,isString:()=>Kt,isValidEntityCode:()=>ie,isWhiteSpace:()=>ye,lib:()=>ke,normalizeReference:()=>_e,unescapeAll:()=>de,unescapeMd:()=>ce});var a={};r.r(a),r.d(a,{parseLinkDestination:()=>Te,parseLinkLabel:()=>Ae,parseLinkTitle:()=>Me}),r(86643);var s=r(34961),l=r.n(s);class c{constructor(t,e){if(this._structures=t,this._environments=e,this._activeStructures=[],this._activeAtoms=Array.from({length:this._structures.length}).map((()=>[])),void 0!==this._environments){for(const t of this._environments)this._activeAtoms[t.structure].push(t.center);for(let t=0;t<this._structures.length;t++)0!==this._activeAtoms[t].length&&this._activeStructures.push(t)}else for(let t=0;t<this._structures.length;t++){const e=this.atomsCount(t);if(e>0){this._activeStructures.push(t);for(let r=0;r<e;r++)this._activeAtoms[t].push(r)}}this._activeStructures.sort(((t,e)=>t-e));for(let t=0;t<this._structures.length;t++)this._activeAtoms[t].sort(((t,e)=>t-e))}fromEnvironment(t,e){if("structure"===e)return{environment:t,structure:t};l()(void 0!==this._environments,"this._environments !== undefined"),l()(t<this._environments.length,"environment < this._environments.length");const r=this._environments[t];return{atom:r.center,environment:t,structure:r.structure}}fromStructureAtom(t,e,r){if("structure"===t){if(e<0||e>=this._structures.length)return;return l()(void 0===r||0===r,"atom === undefined || atom === 0"),{environment:e,structure:e}}l()(void 0!==this._environments,"this._environments !== undefined"),l()(void 0!==r,"atom !== undefined");for(let t=0;t<this._environments.length;t++){const n=this._environments[t];if(n.structure===e&&n.center===r)return{atom:r,environment:t,structure:e}}}fromStructure(t,e){for(let r=0;r<this.atomsCount(t);r++){const n=this.fromStructureAtom(e,t,r);if(void 0!==n)return n}}hasEnvironments(){return void 0!==this._environments}structuresCount(){return this._structures.length}atomsCount(t){return this._structures[t].size}activeStructures(){return this._activeStructures}activeAtoms(t){return this._activeAtoms[t]}}var d=r(91683),u=r(32688),h=r.n(u);const f=p("global");function p(t){const e=document.getElementById(`plotly.js-style-${t}`);if(!(e&&e instanceof HTMLStyleElement&&e.sheet))return new CSSStyleSheet;const r=new CSSStyleSheet;for(const t of e.sheet.cssRules)r.insertRule(t.cssText);return e.remove(),r}document.adoptedStyleSheets=[...document.adoptedStyleSheets,function(){const t=new CSSStyleSheet;for(const e of f.cssRules)e.selectorText.startsWith(".plotly-notifier")&&t.insertRule(e.cssText);return t}()];class m{constructor(t,e){this._element=t,this._parent=null,this._visible=!1,this._horizontal=this._element.classList.contains("horizontal"),this._property=this._horizontal?"width":"height";const r=this._element.dataset.bsParent;r&&(this._parent=e.querySelector(r),l()(this._parent,"this._parent")),this._element.addEventListener("transitionend",(t=>{t.target===t.currentTarget&&t.propertyName===this._property&&(this._element.classList.replace("collapsing","collapse"),this._visible&&(this._element.classList.add("show"),this._element.style.removeProperty(this._property)))}))}hide(){if(this._visible){const t=this._element.getBoundingClientRect()[this._property];this._element.style.setProperty(this._property,`${t}px`),this._element.classList.replace("collapse","collapsing"),this._element.classList.remove("show"),this._element.offsetHeight,this._element.style.removeProperty(this._property),this._visible=!1,this._parent&&v.get(this._parent)===this&&v.set(this._parent,null)}}show(){var t;if(!this._visible){this._parent&&(null===(t=v.get(this._parent))||void 0===t||t.hide(),v.set(this._parent,this));const e=this._horizontal?"scrollWidth":"scrollHeight";this._element.classList.replace("collapse","collapsing"),this._element.style.setProperty(this._property,"0");const r=this._element[e];this._element.style.setProperty(this._property,`${r}px`),this._visible=!0}}toggle(t=!this._visible){t?this.show():this.hide()}addTrigger(t){t.addEventListener("click",(t=>{t.preventDefault(),this.toggle()}))}static initialize(t=document.body){for(const e of t.querySelectorAll("[data-bs-toggle]"))if(e instanceof HTMLElement&&"bsTarget"in e.dataset){const r=t.querySelector(e.dataset.bsTarget);r&&g(r,t).addTrigger(e)}}}const g=(b=new WeakMap,(t,...e)=>{b.has(t)||b.set(t,((t,e)=>new m(t,e))(t,...e));const r=b.get(t);return l()(r,"value"),r});var b;const v=new WeakMap;class y{constructor(t,e){const r=document.createElement("template");r.innerHTML=`<div part="chsp-slider" class="input-group input-group-sm">\n            <span class="input-group-text"><div class="chsp-play-button"></div></span>\n            <input class="form-control form-range chsp-${e}-slider" type='range' min=0 value=0 step=1 style="height: 1.9rem">\n        </div>`;const n=r.content.firstChild;t.appendChild(n),this._valid=[],this._slider=n.querySelector("input"),this._play=n.querySelector(".chsp-play-button"),this._play.onclick=()=>{this._play.classList.toggle("chsp-playing"),this.startPlayback((()=>this._play.classList.contains("chsp-playing")))},this._slider.onchange=()=>this.onchange(),this.onchange=()=>{},this.startPlayback=()=>{}}reset(t){this._valid=t,this._slider.value="0",this._slider.max=""+(this._valid.length-1)}update(t){const e=(0,d.El)(this._valid,t);l()(-1!==e,"position !== -1"),this._slider.value=e.toString()}value(){return this._valid[parseInt(this._slider.value,10)]}get isPlaying(){return this._play.classList.contains("chsp-playing")}stop(){this._play.classList.remove("chsp-playing")}}function x(t,e,r,n,i){const o={xref:"paper",yref:"paper",xaxis:{title:n,titlefont:{size:12},showgrid:!1,zeroline:!1,showline:!0,nticks:5},yaxis:{title:i,titlefont:{size:12},showgrid:!1,showline:!0,zeroline:!1,nticks:4},showlegend:!1,x:.2,legend:{y:.5},margin:{l:42,r:0,b:36,t:0,pad:0},tracetoggle:!1},a=[{x:t,y:e,type:"scatter",mode:"lines"}];h().newPlot(r,a,o,{displayModeBar:!1,responsive:!0,staticPlot:!1})}class w{constructor(t,e,r,n,i){const o=document.createElement("template");o.innerHTML=`<div class="collapse chsp-info-table" id=${r} data-bs-parent='#info-tables'>\n        <div class="chsp-properties-table">\n            <table class="table table-striped table-sm">\n                <thead><th colspan=2 style="text-align: center;"></th></thead>\n                <tbody></tbody>\n            </table>\n        </div></div>`;const a=o.content.firstChild;t.appendChild(a),this._root=t,this._collapse=a,a.addEventListener("shown.bs.collapse",(()=>{void 0!==this._currentIndexes&&this.show(this._currentIndexes)})),this._header=a.querySelector("th"),this._target=e,this._properties=[];const s=a.querySelector("tbody");for(const t in n){const e=document.createElement("td"),r=n[t].units;let o=t;void 0!==r&&(o+=`/${r}`);const a=n[t].description;if(void 0!==a){e.innerHTML='<span style="border-bottom: 1px dotted #00f; cursor: help"></span>';const t=e.firstChild;t.innerText=o,t.setAttribute("title",a)}else e.innerText=o;const l=n[t].parameters;if(void 0===l){const r=document.createElement("tr");r.appendChild(e);const i=document.createElement("td");r.appendChild(i),s.appendChild(r),this._properties.push({cell:i,values:n[t].values})}else if(i&&"string"==typeof l[0]){const r=document.createElement("tr");r.appendChild(e);const a=document.createElement("td");a.style.textAlign="right",r.appendChild(a),s.appendChild(r);const c=document.createElement("tr");c.style.display="none",c.classList.add("chsp-info-plotarea");const d=document.createElement("td");d.colSpan=2,d.style.textAlign="center",c.appendChild(d),s.appendChild(c);const u=document.createElement("div");u.style.display="none",u.classList.add("chsp-info-plot-holder"),d.appendChild(u);let h=l[0];const f=i[l[0]].units;void 0!==f&&(h+=`/${f}`),this._properties.push({cell:d,values:n[t].values,parameter:i[l[0]].values,xlabel:h,ylabel:o});const p=document.createElement("button");p.classList.add("btn","btn-secondary","btn-sm","chsp-toggle-plot-btn"),p.textContent="Show",p.onclick=()=>{"none"===u.style.display?(c.style.display="table-row",u.style.display="block",p.textContent="Hide",void 0!==this._currentIndexes&&this.show(this._currentIndexes)):(c.style.display="none",u.style.display="none",p.textContent="Show")},a.appendChild(p)}}this.show({environment:0,structure:0,atom:0})}show(t){let e,r;this._currentIndexes=t,"structure"===this._target?(e=t.structure,r=t.structure):(l()("atom"===this._target,"this._target === 'atom'"),l()(void 0!==t.atom,"indexes.atom !== undefined"),e=t.atom,r=t.environment),this._header.innerText=`Properties for ${this._target} ${e}`;for(const t of this._properties)if(Array.isArray(t.values[r])){const e=t.cell.firstElementChild;this._collapse.classList.contains("show")&&e&&"none"!==e.style.display&&x(t.parameter,t.values[r],t.cell.firstElementChild,t.xlabel,t.ylabel)}else"number"==typeof t.values[r]?t.cell.innerText=(0,d.JZ)(t.values[r],6):t.cell.innerText=t.values[r].toString()}}const _='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   viewBox="0 0 48 48"\n   width="16px"\n   height="16px"\n   version="1.1"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <path\n     fill="currentColor"\n     d="M 44.921678,24 C 44.921678,35.553995 35.553995,44.921678 24,44.921678 12.446004,44.921678 3.0783233,35.553995 3.0783233,24 3.0783233,12.446004 12.446004,3.0783233 24,3.0783233 35.553995,3.0783233 44.921678,12.446004 44.921678,24 Z"\n     id="path2-9"\n     style="fill:none;stroke:#000000;stroke-width:3.53664;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" />\n  <rect\n     width="4"\n     height="4"\n     x="22"\n     y="12"\n     fill="currentColor"\n     id="rect4"\n     style="fill:currentColor" />\n  <rect\n     width="7"\n     height="4"\n     x="19"\n     y="19"\n     fill="currentColor"\n     id="rect6"\n     style="fill:currentColor" />\n  <rect\n     width="4"\n     height="17"\n     x="22"\n     y="19"\n     fill="currentColor"\n     id="rect8"\n     style="fill:currentColor" />\n  <rect\n     width="12"\n     height="4"\n     x="18"\n     y="32"\n     fill="currentColor"\n     id="rect10"\n     style="fill:currentColor" />\n</svg>\n\x3c!--Icon taken from www.icons8.com and edited in Inkscape--\x3e\n';var k=r(48654),A=r(62621);function T(t,e){const r={};for(const n in t)Object.hasOwnProperty.call(t,n)&&e(t[n])&&(r[n]=t[n]);return r}class M{constructor(t,e,r,n,i,o){this.onchange=()=>{},this.playbackDelay=700;const a=(0,d.V6)(t),s=document.createElement("div");a.appendChild(s),this.warnings=o||new d.eS,this._shadow=s.attachShadow({mode:"open"}),this._shadow.adoptedStyleSheets=[k.A,A.A,f],this._root=document.createElement("div"),this._shadow.appendChild(this._root),this._indexer=r,this._target=n,this._properties=e,this._parameters=i,this._structure={number:document.createElement("input"),slider:new y(document.createElement("div"),"structure"),table:new w(document.createElement("div"),"structure","structure",e,i)},this._renderTargetPart()}switchTarget(t){this._structure.slider.stop(),this._atom&&this._atom.slider.stop(),this._target=t,this._renderTargetPart()}show(t){const e=this._indexes().structure;if(this._structure.number.value=`${t.structure}`,this._structure.slider.update(t.structure),this._structure.table.show(t),void 0!==this._atom){if(t.structure!==e){const e=this._indexer.activeAtoms(t.structure);this._atom.slider.reset(e)}void 0!==t.atom&&(this._atom.number.value=`${t.atom}`,this._atom.slider.update(t.atom),this._atom.table.show(t))}}remove(){this._structure.slider.stop(),this._atom&&this._atom.slider.stop(),this._shadow.host.remove()}_renderTargetPart(){this._root.innerHTML=this._getMainHTMLStructure();const t=T(this._properties,(t=>"structure"===t.target));if(this._structure=this._createStructure(t,this._parameters),"atom"===this._target){const t=T(this._properties,(t=>"atom"===t.target));this._atom=this._createAtom(t,this._parameters)}else this._atom=void 0;m.initialize(this._root)}_getMainHTMLStructure(){const t="atom"===this._target?`\n            <div class='btn btn-sm chsp-info-atom-btn' data-bs-toggle='collapse' data-bs-target='#atom' aria-expanded='false' aria-controls='atom'>\n                <div class="chsp-info-btns-svg">${_}</div>\n                atom <input class='chsp-info-number' type=number value=0 min=0></input>\n            </div>`:"<div></div>";return`\n            <div class='accordion chsp-info-tables' id='info-tables'></div>\n            <div class='chsp-info-btns'>\n                <div class='btn btn-sm chsp-info-structure-btn' data-bs-toggle='collapse' data-bs-target='#structure' aria-expanded='false' aria-controls='structure'>\n                    <div class="chsp-info-btns-svg">${_}</div>\n                    structure <input class='chsp-info-number' type=number value=0 min=0></input>\n                </div>\n                ${t}\n            </div>`}_createStructure(t,e){const r=new y(this._root,"structure");r.reset(this._indexer.activeStructures()),r.startPlayback=t=>{setTimeout((()=>{if(t()){const e=this._indexes().atom,n=this._findNextValidIndex(this._indexes().structure,this._indexer.structuresCount(),(t=>this._indexer.fromStructure(t,this._target)));if(void 0!==n){let i=this._indexer.fromStructureAtom(this._target,n,e);void 0===i&&(i=this._indexer.fromStructure(n,this._target)),void 0!==i&&(this.show(i),this.onchange(this._indexes()),r.startPlayback(t))}}}),this.playbackDelay)},r.onchange=()=>{const t=this._structure.slider.value();if(void 0!==this._atom){const e=this._indexer.activeAtoms(t);if(0===e.length)return void this.warnings.sendMessage(`Cannot change to structure ${t}, which does not contain any active atoms`);const r=this._atom.slider.value();let n=e[0];-1!==(0,d.El)(e,r)&&(n=r),this._atom.number.value=`${n}`,this._atom.number.max=`${e.length}`,this._atom.slider.reset(e),this._atom.slider.update(n)}const e=this._indexes();l()(void 0!==e,"indexes !== undefined"),this._structure.table.show(e),this._structure.number.value=`${e.structure}`,void 0!==this._atom&&this._atom.table.show(e),this.onchange(e)};const n=this._root.children[0];l()("div"===n.tagName.toLowerCase(),"tableRoot.tagName.toLowerCase() === 'div'");const i=new w(n,"structure","structure",t,e),o=this._createNumberInput(".chsp-info-structure-btn .chsp-info-number",this._indexer.structuresCount().toString(),(t=>{if(isNaN(t)||t<0||t>=parseInt(o.max,10))o.value=`${this._structure.slider.value()}`;else if(-1===(0,d.El)(this._indexer.activeStructures(),t))o.value=`${this._structure.slider.value()}`;else{if(this._structure.slider.update(t),void 0!==this._atom){const e=this._indexer.activeAtoms(t),r=this._atom.slider.value();let n=e[0];-1!==(0,d.El)(e,r)&&(n=r),this._atom.number.value=`${n}`,this._atom.number.max=`${e.length}`,this._atom.slider.reset(e),this._atom.slider.update(n)}const e=this._indexes();this._structure.table.show(e),void 0!==this._atom&&this._atom.table.show(e),this.onchange(e)}}));return{number:o,slider:r,table:i}}_createAtom(t,e){const r=new y(this._root,"atom");r.reset(this._indexer.activeAtoms(this._structure.slider.value())),r.startPlayback=t=>{setTimeout((()=>{if(t()){const e=this._indexes();l()(void 0!==e.atom,"current.atom !== undefined");const n=this._findNextValidIndex(e.atom,this._indexer.atomsCount(e.structure),(t=>this._indexer.fromStructureAtom(this._target,e.structure,t)));void 0!==n&&(this.show(this._indexer.fromStructureAtom(this._target,e.structure,n)),this.onchange(this._indexes()),r.startPlayback(t))}}),this.playbackDelay)},r.onchange=()=>{l()(void 0!==this._atom,"this._atom !== undefined");const t=this._indexes();if(void 0!==t)l()(void 0!==t.atom,"indexes.atom !== undefined"),this._atom.table.show(t),this._atom.number.value=`${t.atom}`,this.onchange(t);else{const t=this._structure.slider.value(),e=this._atom.slider.value();this.warnings.sendMessage(`Environment for atom ${e} in structure ${t} is not part of this dataset`)}};const n=this._root.children[0];l()("div"===n.tagName.toLowerCase(),"tableRoot.tagName.toLowerCase() === 'div'");const i=new w(n,"atom","atom",t,e),o=this._createNumberInput(".chsp-info-atom-btn .chsp-info-number",this._indexer.atomsCount(this._structure.slider.value()).toString(),(t=>{l()(void 0!==this._atom,"this._atom !== undefined");const e=this._indexer.activeAtoms(this._structure.slider.value());if(isNaN(t)||t<0||t>=parseInt(o.max,10))o.value=`${this._atom.slider.value()}`;else if(-1===(0,d.El)(e,t))o.value=`${this._atom.slider.value()}`;else{this._atom.slider.update(t);const e=this._indexes();this._atom.table.show(e),this.onchange(e)}}));return{number:o,slider:r,table:i}}_findNextValidIndex(t,e,r){let n=0;for(;n<=e;){if(void 0!==r(t=(t+1)%e))return t;n++}}_createNumberInput(t,e,r){const n=this._root.querySelector(t);return n.max=e,n.onchange=()=>r(parseInt(n.value,10)),n.onclick=t=>t.stopPropagation(),n}get indexes(){return this._indexes()}get isPlaying(){return this._structure.slider.isPlaying||void 0!==this._atom&&this._atom.slider.isPlaying}_indexes(){const t=this._structure.slider.value();let e;if(void 0!==this._atom){const r=this._atom.slider.value();e=this._indexer.fromStructureAtom(this._target,t,r)}else l()("atom"!==this._target,"this._target !== 'atom'"),e=this._indexer.fromStructureAtom(this._target,t);return l()(void 0!==e,"indexes !== undefined"),e}}function S(t){return Math.sqrt((r=t,(e=t)[0]*r[0]+e[1]*r[1]+e[2]*r[2]));var e,r}function E(t,e){const[r,n,i]=t,[o,a,s,l]=e,c=l*r+a*i-s*n,d=l*n+s*r-o*i,u=l*i+o*n-a*r,h=-o*r-a*n-s*i;return[c*l+h*-o+d*-s-u*-a,d*l+h*-a+u*-o-c*-s,u*l+h*-s+c*-a-d*-o]}function C(t){return{camera:{eye:t.eye,center:t.center,up:t.up,projection:{type:"orthographic"}},aspectratio:{x:t.zoom,y:t.zoom,z:t.zoom}}}function z(t){const e=t;if("object"!=typeof e||null===e)throw Error("invalid type for camera, expected object");for(const t of["eye","center","up"]){if(!(t in e))throw Error(`missing key '${t}' in camera`);const r=e[t];if("object"!=typeof r||null===r)throw Error(`invalid type for camera.${t}, expected object`);for(const e of["x","y","z"]){if(!(e in r))throw Error(`missing key '${e}' in camera.${t}`);if("number"!=typeof r[e])throw Error(`invalid type for camera.${t}.${e}, expected number`)}}if(!("zoom"in e))throw Error("missing key 'zoom' in camera");if("number"!=typeof e.zoom)throw Error("invalid type for camera.zoom, expected number")}class L{constructor(){this._values=[]}get(t){let e=this._values.findIndex((e=>e===t));return-1===e&&(e=this._values.length,this._values.push(t)),e}string(t){if(t>=this._values.length)throw Error("requested unknown string from interner");return this._values[t]}strings(){return this._values}}function O(t,e){const r=typeof e.values[0];if("number"===r)return{values:e.values,units:e.units};if("string"===r){const r=new L,n=[];for(const i of e.values){const e=r.get(i);if(n.push(e),e>20)throw Error(`the '${t}' property contains more than 50 different values,                     it can not be interpreted as categories`)}return{string:r,values:n,units:e.units}}if(!Array.isArray(e.values[0]))throw Error(`unexpected property type '${r}'`)}function D(t,e){let r,n;for(const i in e)if(void 0!==r){if(e[i].values.length!==r)throw Error(`${t} property '${i}' do not have the same size as the first property '${n}': expected ${r}, got ${e[i].values.length}`)}else r=e[i].values.length,n=i}class I{constructor(t,e){this.structure={},this.atom={},this.maxSymbols=-1,this.warnings=e||new d.eS;for(const e in t){let r;try{r=O(e,t[e])}catch(t){this.warnings.sendMessage(`warning: ${t.message}`);continue}void 0!==r&&(this[t[e].target][e]=r,void 0!==r.string&&(this.maxSymbols=Math.max(this.maxSymbols,r.string.strings().length)))}D("structure",this.structure),D("atom",this.atom)}}class F{constructor(t,e,r,n=!0){const i=document.createElement("div");i.classList.add("chsp-pin-marker","chsp-map-pin-marker"),i.id=`chsp-selected-${t}`,i.style.backgroundColor=e,this.marker=i,this.toggleVisible(n),this.color=e,this.current=r}update(t){isFinite(t.x)&&isFinite(t.y)?(this.marker.style.top=`${t.y}px`,this.marker.style.right=`${t.x}px`):this.toggleVisible(!1)}select(t){return this.current!==t.environment&&(this.current=t.environment,!0)}activate(){this.marker.classList.toggle("chsp-active-pin",!0)}deactivate(){this.marker.classList.toggle("chsp-active-pin",!1)}remove(){l()(null!==this.marker.parentNode,"this.marker.parentNode !== null"),this.marker.parentNode.removeChild(this.marker)}toggleVisible(t){this.marker.style.display=t?"block":"none"}}class R{constructor(t){this._element=t,this._activeElement=null,this._open=!1;const e=document.createElement("div");document.body.appendChild(e),this.shadow=e.attachShadow({mode:"open"}),this.shadow.appendChild(this._element),this._backdrop=document.createElement("div"),this._backdrop.classList.add("modal-backdrop","fade"),this._element.addEventListener("click",(t=>{t.target===t.currentTarget&&this.close()}));for(const t of this._element.querySelectorAll('[data-bs-dismiss="modal"]'))t.addEventListener("click",(()=>{this.close()}));document.addEventListener("keydown",(t=>{"Escape"===t.key&&(t.preventDefault(),this.close())})),this._element.addEventListener("transitionend",(t=>{t.target!==t.currentTarget||this._open||this._element.style.setProperty("display","none")})),this._backdrop.addEventListener("transitionend",(()=>{this._open||(this._backdrop.remove(),this._activeElement&&this._activeElement instanceof HTMLElement&&this._activeElement.focus(),this._activeElement=null)}))}close(){this._backdrop.classList.remove("show"),this._element.classList.remove("show"),this._open=!1}open(){this._element.getRootNode().appendChild(this._backdrop),this._element.style.setProperty("display","block"),this._element.offsetHeight,this._backdrop.classList.add("show"),this._element.classList.add("show"),this._activeElement=P(),this._activeElement&&this._activeElement instanceof HTMLElement&&this._activeElement.blur(),this._open=!0}toggle(t=!this.open){t?this.open():this.close()}remove(){this.shadow.host.remove()}}function P(t=document){const e=t.activeElement;return(null==e?void 0:e.shadowRoot)?P(e.shadowRoot):e}function j(t,e=""){return r=>{if(!t.includes(r))throw Error(`invalid value '${r}' for ${e}, expected one of [${t.join(", ")}]`)}}class N{constructor(t,e){this.type=t,this._value=e,this._previous_value=e,this._boundList=[],this.validate=()=>{},this.onchange=[],Object.preventExtensions(this)}get value(){return this._value}set value(t){this._update(t.toString(),"JS")}changed(t){for(const t of this._boundList)if("multival"===t.attribute){const e=this._value.split(","),r=t.element;for(const t of r.options)t.selected=e.includes(t.value)}else{let e=this._value;"number"==typeof e&&Number.isNaN(e)&&(e=""),t.element[t.attribute]=e}for(const e of this.onchange)e(this._value,t)}reset(){this.value=this._previous_value}bind(t,e){let r;if("string"==typeof t&&(t=(0,d.VT)(t)),"multival"===e){r=t=>{l()(null!==t.target,"event.target !== null");const e=t.target,r=Array.from(e.options).filter((t=>t.selected)).map((t=>t.value));this._update(r.toString(),"DOM")};const e=this._value.split(",");for(const r of t.options)r.selected=e.includes(r.value)}else{r=t=>{l()(null!==t.target,"event.target !== null"),this._update(t.target[e].toString(),"DOM")};let n=this._value;"number"==typeof n&&Number.isNaN(n)&&(n=""),t[e]=n}t.addEventListener("change",r),this._boundList.push({element:t,attribute:e,listener:r})}disable(){for(const t of this._boundList){const e=t.element;"disabled"in e&&(e.disabled=!0)}}enable(){for(const t of this._boundList){const e=t.element;"disabled"in e&&(e.disabled=!1)}}unbindAll(){for(const t of this._boundList)t.element.removeEventListener("change",t.listener);this._boundList=[]}_update(t,e){const r=function(t,e){if("string"===t)return e;if("int"===t){const t=Number(e);if(""===e.trim()||Number.isNaN(t)||!Number.isInteger(t))throw Error(`invalid value for int: ${e}`);return t}if("number"===t){if("NaN"===e)return NaN;const t=Number(e);if(""===e.trim()||Number.isNaN(t))throw Error(`invalid value for number: ${e}`);return t}if("boolean"===t){if("false"===e)return!1;if("true"===e)return!0;throw Error(`invalid value for boolean: ${e}`)}throw Error(`unknown type '${t}' passed to parse`)}(this.type,t);this._value!==r&&(this.validate(r),this._previous_value=this.value,this._value=r,this.changed(e))}}class B{constructor(t){this._value=t,this.validate=()=>{},this.onchange=[],this.equals=(t,e)=>t===e,Object.preventExtensions(this)}get value(){return this._value}set value(t){this.setValue(t,"JS")}setValue(t,e){if(this.validate(t),!this.equals(this._value,t)){this._value=t;for(const t of this.onchange)t(this._value,e)}}}class U{constructor(t){this.warnings=t}saveSettings(){const t={};return this.foreachOption(((e,r)=>{l()(e.length>=1,"keys.length >= 1");const n=r.value;if(void 0!==n||null!==n||!Number.isNaN(n)){let r=t;for(const t of e.slice(0,e.length-1))t in r||(r[t]={}),r=r[t];r[e[e.length-1]]=n}})),t}applySettings(t){const e=JSON.parse(JSON.stringify(t));this.foreachOption(((t,r)=>{l()(t.length>=1,"keys.length >= 1");let n=e;const i=[n];for(const e of t.slice(0,t.length-1)){if(!(e in n))return;n=n[e],i.push(n)}const o=t[t.length-1];if(o in n){let e=n[o];if("number"==typeof r.value&&null===e&&(e=NaN),null==e)return void this.warnings.sendMessage(`ignored setting '${o}' with invalid value '${e}'`);r.value=e,delete n[o];for(let e=i.length-1;e>0;e--){const r=i[e];if(0!==Object.keys(r).length)break;delete i[e-1][t[e-1]]}}})),0!==Object.keys(e).length&&this.warnings.sendMessage(`ignored unknown settings '${JSON.stringify(e)}'`)}onSettingChange(t){this.foreachOption(((e,r)=>{r.onchange.push((r=>t(e,r)))}))}foreachOption(t){V(this,t,[])}}function V(t,e,r=[]){if(r.length>10)throw Error("setting object is too deep");for(const n in t){if(n.startsWith("_"))continue;const i=r.concat([n]),o=t[n];o instanceof N||o instanceof B?e(i,o):"object"==typeof o&&null!==o&&V(o,e,i)}}function G(t){return t.map((t=>[t[0],`rgb(${t[1][0]}, ${t[1][1]}, ${t[1][2]})`]))}const H={inferno:G([[0,[0,0,3]],[.0159,[1,1,9]],[.0317,[3,2,18]],[.0476,[6,4,27]],[.0635,[10,7,35]],[.0794,[15,9,45]],[.0952,[20,11,54]],[.1111,[26,11,64]],[.127,[32,12,74]],[.1429,[39,11,82]],[.1587,[46,10,90]],[.1746,[53,9,96]],[.1905,[60,9,101]],[.2063,[67,10,104]],[.2222,[74,11,106]],[.2381,[80,13,108]],[.254,[88,16,109]],[.2698,[95,18,110]],[.2857,[101,21,110]],[.3016,[107,23,110]],[.3175,[114,25,109]],[.3333,[120,28,109]],[.3492,[126,30,108]],[.3651,[133,32,106]],[.381,[139,34,105]],[.3968,[145,37,103]],[.4127,[152,39,101]],[.4286,[158,41,99]],[.4444,[164,44,96]],[.4603,[171,46,93]],[.4762,[177,49,90]],[.4921,[183,52,86]],[.5079,[190,56,82]],[.5238,[196,60,78]],[.5397,[201,63,74]],[.5556,[207,68,70]],[.5714,[212,72,65]],[.5873,[217,77,61]],[.6032,[221,82,56]],[.619,[226,87,51]],[.6349,[230,92,46]],[.6508,[233,98,42]],[.6667,[237,104,37]],[.6825,[240,111,31]],[.6984,[242,117,26]],[.7143,[245,124,21]],[.7302,[247,131,16]],[.746,[248,138,11]],[.7619,[250,147,6]],[.7778,[251,155,6]],[.7937,[251,162,8]],[.8095,[251,170,14]],[.8254,[251,177,22]],[.8413,[251,185,30]],[.8571,[250,193,40]],[.873,[248,201,49]],[.8889,[247,209,60]],[.9048,[245,217,72]],[.9206,[243,224,86]],[.9365,[241,232,100]],[.9524,[241,238,116]],[.9683,[242,244,133]],[.9841,[246,250,149]],[1,[252,254,164]]]),magma:G([[0,[0,0,3]],[.0159,[1,1,9]],[.0317,[3,3,17]],[.0476,[6,5,25]],[.0635,[10,7,34]],[.0794,[14,10,42]],[.0952,[18,13,51]],[.1111,[23,15,60]],[.127,[28,16,70]],[.1429,[34,17,80]],[.1587,[40,17,89]],[.1746,[47,16,98]],[.1905,[53,15,106]],[.2063,[60,15,113]],[.2222,[67,15,117]],[.2381,[74,16,121]],[.254,[82,18,124]],[.2698,[88,21,126]],[.2857,[94,23,127]],[.3016,[101,26,128]],[.3175,[107,28,128]],[.3333,[113,31,129]],[.3492,[119,33,129]],[.3651,[126,36,129]],[.381,[132,38,129]],[.3968,[138,40,129]],[.4127,[145,42,128]],[.4286,[151,44,127]],[.4444,[158,46,126]],[.4603,[164,48,125]],[.4762,[171,51,124]],[.4921,[177,53,122]],[.5079,[185,55,120]],[.5238,[192,58,117]],[.5397,[198,60,115]],[.5556,[205,63,112]],[.5714,[211,66,109]],[.5873,[217,70,106]],[.6032,[222,74,103]],[.619,[228,78,100]],[.6349,[232,84,97]],[.6508,[237,89,95]],[.6667,[240,96,93]],[.6825,[243,103,91]],[.6984,[246,110,91]],[.7143,[248,117,92]],[.7302,[249,125,93]],[.746,[251,132,96]],[.7619,[252,142,99]],[.7778,[253,149,103]],[.7937,[253,157,107]],[.8095,[253,164,112]],[.8254,[254,172,117]],[.8413,[254,179,123]],[.8571,[254,187,128]],[.873,[254,194,134]],[.8889,[254,201,141]],[.9048,[253,209,147]],[.9206,[253,216,154]],[.9365,[253,223,161]],[.9524,[252,230,168]],[.9683,[252,238,176]],[.9841,[252,245,183]],[1,[251,252,191]]]),plasma:G([[0,[12,7,134]],[.0159,[24,6,139]],[.0317,[33,5,143]],[.0476,[41,5,147]],[.0635,[49,4,150]],[.0794,[56,4,153]],[.0952,[63,3,156]],[.1111,[69,3,158]],[.127,[76,2,161]],[.1429,[82,1,163]],[.1587,[89,1,164]],[.1746,[95,0,166]],[.1905,[101,0,167]],[.2063,[108,0,168]],[.2222,[114,0,168]],[.2381,[120,1,168]],[.254,[127,3,167]],[.2698,[133,6,166]],[.2857,[139,9,164]],[.3016,[144,14,163]],[.3175,[150,18,160]],[.3333,[155,23,158]],[.3492,[160,27,155]],[.3651,[165,31,151]],[.381,[170,36,148]],[.3968,[175,40,144]],[.4127,[180,45,141]],[.4286,[184,50,137]],[.4444,[188,54,133]],[.4603,[192,59,129]],[.4762,[196,63,126]],[.4921,[200,68,122]],[.5079,[205,73,117]],[.5238,[209,78,114]],[.5397,[212,82,110]],[.5556,[215,87,107]],[.5714,[219,91,103]],[.5873,[222,96,100]],[.6032,[225,101,96]],[.619,[228,106,93]],[.6349,[231,110,90]],[.6508,[234,115,86]],[.6667,[236,120,83]],[.6825,[239,125,79]],[.6984,[241,130,76]],[.7143,[243,135,72]],[.7302,[245,141,69]],[.746,[247,146,65]],[.7619,[249,153,61]],[.7778,[250,159,58]],[.7937,[251,164,54]],[.8095,[252,170,51]],[.8254,[253,176,48]],[.8413,[253,182,45]],[.8571,[253,188,42]],[.873,[253,195,40]],[.8889,[252,201,38]],[.9048,[251,208,36]],[.9206,[250,214,36]],[.9365,[248,221,36]],[.9524,[246,228,37]],[.9683,[244,234,38]],[.9841,[242,241,38]],[1,[239,248,33]]]),viridis:G([[0,[68,1,84]],[.0159,[69,6,90]],[.0317,[70,12,95]],[.0476,[71,18,101]],[.0635,[71,24,106]],[.0794,[72,29,111]],[.0952,[72,34,115]],[.1111,[71,39,119]],[.127,[71,44,123]],[.1429,[70,49,126]],[.1587,[69,54,129]],[.1746,[67,59,131]],[.1905,[66,64,133]],[.2063,[64,68,135]],[.2222,[62,73,137]],[.2381,[60,77,138]],[.254,[58,83,139]],[.2698,[56,87,140]],[.2857,[54,91,140]],[.3016,[52,95,141]],[.3175,[50,99,141]],[.3333,[48,103,141]],[.3492,[46,107,142]],[.3651,[45,111,142]],[.381,[43,115,142]],[.3968,[42,119,142]],[.4127,[40,122,142]],[.4286,[39,126,142]],[.4444,[37,130,142]],[.4603,[36,134,141]],[.4762,[34,137,141]],[.4921,[33,141,140]],[.5079,[31,146,140]],[.5238,[31,150,139]],[.5397,[30,153,138]],[.5556,[30,157,136]],[.5714,[31,161,135]],[.5873,[32,165,133]],[.6032,[35,168,131]],[.619,[38,172,129]],[.6349,[42,176,126]],[.6508,[47,179,123]],[.6667,[53,183,120]],[.6825,[59,186,117]],[.6984,[66,190,113]],[.7143,[73,193,109]],[.7302,[81,196,104]],[.746,[89,199,100]],[.7619,[100,203,93]],[.7778,[109,206,88]],[.7937,[119,208,82]],[.8095,[129,211,76]],[.8254,[139,213,70]],[.8413,[149,215,63]],[.8571,[159,217,56]],[.873,[170,219,50]],[.8889,[181,221,43]],[.9048,[191,223,36]],[.9206,[202,224,30]],[.9365,[212,225,26]],[.9524,[223,227,24]],[.9683,[233,228,25]],[.9841,[243,229,30]],[1,[253,231,36]]]),cividis:G([[0,[0,34,77]],[.0159,[0,37,84]],[.0317,[0,40,91]],[.0476,[0,42,98]],[.0635,[0,45,105]],[.0794,[0,48,112]],[.0952,[4,50,112]],[.1111,[17,53,111]],[.127,[26,56,111]],[.1429,[33,59,110]],[.1587,[39,61,109]],[.1746,[44,64,109]],[.1905,[49,67,108]],[.2063,[54,70,108]],[.2222,[58,72,107]],[.2381,[63,75,107]],[.254,[68,79,107]],[.2698,[72,81,107]],[.2857,[76,84,108]],[.3016,[79,87,108]],[.3175,[83,90,108]],[.3333,[87,93,109]],[.3492,[90,95,109]],[.3651,[94,98,110]],[.381,[97,101,111]],[.3968,[101,104,112]],[.4127,[104,107,113]],[.4286,[108,109,114]],[.4444,[111,112,115]],[.4603,[115,115,116]],[.4762,[118,118,118]],[.4921,[121,121,119]],[.5079,[126,125,120]],[.5238,[130,128,120]],[.5397,[133,131,120]],[.5556,[137,134,120]],[.5714,[141,137,120]],[.5873,[145,140,119]],[.6032,[149,143,119]],[.619,[153,146,118]],[.6349,[157,149,117]],[.6508,[161,152,116]],[.6667,[165,155,115]],[.6825,[169,158,114]],[.6984,[173,162,113]],[.7143,[177,165,112]],[.7302,[181,168,110]],[.746,[185,171,109]],[.7619,[190,176,106]],[.7778,[195,179,104]],[.7937,[199,182,102]],[.8095,[203,186,100]],[.8254,[207,189,97]],[.8413,[212,193,94]],[.8571,[216,196,91]],[.873,[220,200,88]],[.8889,[225,204,84]],[.9048,[229,207,80]],[.9206,[234,211,76]],[.9365,[238,215,71]],[.9524,[243,218,66]],[.9683,[248,222,59]],[.9841,[253,226,52]],[1,[253,231,55]]]),seismic:G([[0,[0,0,77]],[.0159,[0,0,88]],[.0317,[0,0,99]],[.0476,[0,0,111]],[.0635,[0,0,122]],[.0794,[0,0,133]],[.0952,[0,0,144]],[.1111,[0,0,156]],[.127,[0,0,167]],[.1429,[0,0,178]],[.1587,[0,0,189]],[.1746,[0,0,200]],[.1905,[0,0,212]],[.2063,[0,0,223]],[.2222,[0,0,234]],[.2381,[0,0,245]],[.254,[5,5,255]],[.2698,[21,21,255]],[.2857,[37,37,255]],[.3016,[53,53,255]],[.3175,[69,69,255]],[.3333,[85,85,255]],[.3492,[101,101,255]],[.3651,[117,117,255]],[.381,[134,134,255]],[.3968,[150,150,255]],[.4127,[166,166,255]],[.4286,[182,182,255]],[.4444,[198,198,255]],[.4603,[214,214,255]],[.4762,[230,230,255]],[.4921,[246,246,255]],[.5079,[255,246,246]],[.5238,[255,230,230]],[.5397,[255,214,214]],[.5556,[255,198,198]],[.5714,[255,182,182]],[.5873,[255,166,166]],[.6032,[255,150,150]],[.619,[255,134,134]],[.6349,[255,117,117]],[.6508,[255,101,101]],[.6667,[255,85,85]],[.6825,[255,69,69]],[.6984,[255,53,53]],[.7143,[255,37,37]],[.7302,[255,21,21]],[.746,[255,5,5]],[.7619,[248,0,0]],[.7778,[240,0,0]],[.7937,[232,0,0]],[.8095,[224,0,0]],[.8254,[216,0,0]],[.8413,[208,0,0]],[.8571,[200,0,0]],[.873,[192,0,0]],[.8889,[184,0,0]],[.9048,[176,0,0]],[.9206,[168,0,0]],[.9365,[160,0,0]],[.9524,[152,0,0]],[.9683,[144,0,0]],[.9841,[136,0,0]],[1,[128,0,0]]]),brg:G([[0,[0,0,255]],[.0159,[8,0,248]],[.0317,[16,0,240]],[.0476,[24,0,232]],[.0635,[32,0,224]],[.0794,[40,0,216]],[.0952,[48,0,208]],[.1111,[56,0,200]],[.127,[64,0,192]],[.1429,[72,0,184]],[.1587,[80,0,176]],[.1746,[88,0,168]],[.1905,[96,0,160]],[.2063,[104,0,152]],[.2222,[112,0,144]],[.2381,[120,0,136]],[.254,[131,0,125]],[.2698,[139,0,117]],[.2857,[147,0,109]],[.3016,[155,0,101]],[.3175,[163,0,93]],[.3333,[171,0,85]],[.3492,[179,0,77]],[.3651,[187,0,69]],[.381,[195,0,61]],[.3968,[203,0,53]],[.4127,[211,0,45]],[.4286,[219,0,37]],[.4444,[227,0,29]],[.4603,[235,0,21]],[.4762,[243,0,13]],[.4921,[251,0,5]],[.5079,[251,5,0]],[.5238,[243,13,0]],[.5397,[235,21,0]],[.5556,[227,29,0]],[.5714,[219,37,0]],[.5873,[211,45,0]],[.6032,[203,53,0]],[.619,[195,61,0]],[.6349,[187,69,0]],[.6508,[179,77,0]],[.6667,[171,85,0]],[.6825,[163,93,0]],[.6984,[155,101,0]],[.7143,[147,109,0]],[.7302,[139,117,0]],[.746,[131,125,0]],[.7619,[120,136,0]],[.7778,[112,144,0]],[.7937,[104,152,0]],[.8095,[96,160,0]],[.8254,[88,168,0]],[.8413,[80,176,0]],[.8571,[72,184,0]],[.873,[64,192,0]],[.8889,[56,200,0]],[.9048,[48,208,0]],[.9206,[40,216,0]],[.9365,[32,224,0]],[.9524,[24,232,0]],[.9683,[16,240,0]],[.9841,[8,248,0]],[1,[0,255,0]]]),bwr:G([[0,[0,0,255]],[.01587,[8,8,255]],[.03175,[16,16,255]],[.04762,[24,24,255]],[.06349,[32,32,255]],[.07937,[40,40,255]],[.09524,[48,48,255]],[.1111,[56,56,255]],[.127,[64,64,255]],[.1429,[72,72,255]],[.1587,[80,80,255]],[.1746,[89,89,255]],[.1905,[97,97,255]],[.2063,[105,105,255]],[.2222,[113,113,255]],[.2381,[121,121,255]],[.254,[129,129,255]],[.2698,[137,137,255]],[.2857,[145,145,255]],[.3016,[153,153,255]],[.3175,[161,161,255]],[.3333,[170,170,255]],[.3492,[178,178,255]],[.3651,[186,186,255]],[.381,[194,194,255]],[.3968,[202,202,255]],[.4127,[210,210,255]],[.4286,[218,218,255]],[.4444,[226,226,255]],[.4603,[234,234,255]],[.4762,[242,242,255]],[.4921,[250,250,255]],[.5079,[255,250,250]],[.5238,[254,242,242]],[.5397,[255,234,234]],[.5556,[255,226,226]],[.5714,[255,218,218]],[.5873,[254,210,210]],[.6032,[255,202,202]],[.619,[255,194,194]],[.6349,[255,186,186]],[.6508,[254,178,178]],[.6667,[255,170,170]],[.6825,[255,161,161]],[.6984,[255,153,153]],[.7143,[254,145,145]],[.7302,[255,137,137]],[.746,[255,129,129]],[.7619,[255,121,121]],[.7778,[255,113,113]],[.7937,[255,105,105]],[.8095,[255,97,97]],[.8254,[255,89,89]],[.8413,[255,80,80]],[.8571,[255,72,72]],[.873,[255,64,64]],[.8889,[255,56,56]],[.9048,[255,48,48]],[.9206,[255,40,40]],[.9365,[255,32,32]],[.9524,[255,24,24]],[.9683,[255,16,16]],[.9841,[255,8,8]],[1,[255,0,0]]]),rwg:G([[0,[200,0,0]],[.01587,[201,8,8]],[.03175,[203,16,16]],[.04762,[205,24,24]],[.06349,[206,32,32]],[.07937,[208,40,40]],[.09524,[210,48,48]],[.1111,[212,56,56]],[.127,[213,64,64]],[.1429,[215,72,72]],[.1587,[217,80,80]],[.1746,[219,89,89]],[.1905,[220,97,97]],[.2063,[222,105,105]],[.2222,[224,113,113]],[.2381,[226,121,121]],[.254,[227,129,129]],[.2698,[229,137,137]],[.2857,[231,145,145]],[.3016,[233,153,153]],[.3175,[234,161,161]],[.3333,[236,170,170]],[.3492,[238,178,178]],[.3651,[240,186,186]],[.381,[241,194,194]],[.3968,[243,202,202]],[.4127,[245,210,210]],[.4286,[247,218,218]],[.4444,[248,226,226]],[.4603,[250,234,234]],[.4762,[252,242,242]],[.4921,[254,250,250]],[.5079,[250,252,250]],[.5238,[242,248,242]],[.5397,[234,244,234]],[.5556,[226,240,226]],[.5714,[218,236,218]],[.5873,[210,232,210]],[.6032,[202,228,202]],[.619,[194,224,194]],[.6349,[186,220,186]],[.6508,[178,216,178]],[.6667,[170,212,170]],[.6825,[161,208,161]],[.6984,[153,204,153]],[.7143,[145,200,145]],[.7302,[137,196,137]],[.746,[129,192,129]],[.7619,[121,188,121]],[.7778,[113,184,113]],[.7937,[105,180,105]],[.8095,[97,176,97]],[.8254,[89,172,89]],[.8413,[80,168,80]],[.8571,[72,164,72]],[.873,[64,160,64]],[.8889,[56,156,56]],[.9048,[48,152,48]],[.9206,[40,148,40]],[.9365,[32,144,32]],[.9524,[24,140,24]],[.9683,[16,136,16]],[.9841,[8,132,8]],[1,[0,128,0]]]),"twilight (periodic)":G([[0,[225,216,226]],[.0159,[221,217,224]],[.0317,[214,214,220]],[.0476,[205,210,216]],[.0635,[194,205,211]],[.0794,[182,199,207]],[.0952,[170,193,203]],[.1111,[158,187,200]],[.127,[147,180,198]],[.1429,[137,172,196]],[.1587,[128,165,195]],[.1746,[119,156,193]],[.1905,[112,149,192]],[.2063,[107,141,191]],[.2222,[102,132,189]],[.2381,[99,124,187]],[.254,[97,115,185]],[.2698,[96,106,183]],[.2857,[95,97,180]],[.3016,[94,87,176]],[.3175,[94,78,171]],[.3333,[93,67,164]],[.3492,[92,57,157]],[.3651,[90,48,149]],[.381,[88,39,139]],[.3968,[84,31,127]],[.4127,[79,25,114]],[.4286,[73,21,100]],[.4444,[66,18,87]],[.4603,[59,17,75]],[.4762,[54,16,65]],[.4921,[50,17,58]],[.5079,[49,18,55]],[.5238,[55,17,56]],[.5397,[62,17,60]],[.5556,[70,18,64]],[.5714,[80,20,68]],[.5873,[90,22,72]],[.6032,[101,25,75]],[.619,[111,28,78]],[.6349,[122,32,79]],[.6508,[131,37,80]],[.6667,[141,44,80]],[.6825,[150,50,79]],[.6984,[157,58,79]],[.7143,[164,66,79]],[.7302,[170,75,80]],[.746,[176,84,81]],[.7619,[181,93,83]],[.7778,[186,102,87]],[.7937,[190,112,91]],[.8095,[193,121,96]],[.8254,[196,131,104]],[.8413,[199,142,113]],[.8571,[201,152,123]],[.873,[203,162,135]],[.8889,[206,171,148]],[.9048,[209,180,161]],[.9206,[212,189,175]],[.9365,[216,197,188]],[.9524,[219,205,201]],[.9683,[222,211,212]],[.9841,[224,215,220]],[1,[225,216,225]]]),"twilight dark (periodic)":G([[0,[47,19,55]],[.0159,[51,17,61]],[.0317,[56,16,70]],[.0476,[62,17,81]],[.0635,[69,19,93]],[.0794,[76,22,107]],[.0952,[82,27,120]],[.1111,[86,34,133]],[.127,[89,43,144]],[.1429,[91,52,153]],[.1587,[93,62,161]],[.1746,[93,73,168]],[.1905,[94,83,173]],[.2063,[94,92,178]],[.2222,[95,101,181]],[.2381,[96,110,184]],[.254,[98,119,186]],[.2698,[101,128,188]],[.2857,[104,136,190]],[.3016,[109,145,191]],[.3175,[115,153,193]],[.3333,[124,161,194]],[.3492,[132,169,195]],[.3651,[142,176,197]],[.381,[152,183,199]],[.3968,[164,190,202]],[.4127,[176,196,205]],[.4286,[188,202,209]],[.4444,[199,208,214]],[.4603,[210,213,218]],[.4762,[217,216,222]],[.4921,[223,217,225]],[.5079,[225,216,223]],[.5238,[223,213,216]],[.5397,[221,208,207]],[.5556,[217,201,195]],[.5714,[214,193,181]],[.5873,[210,185,168]],[.6032,[207,176,154]],[.619,[204,167,141]],[.6349,[202,157,129]],[.6508,[200,147,118]],[.6667,[197,136,108]],[.6825,[195,126,100]],[.6984,[192,116,93]],[.7143,[188,107,89]],[.7302,[184,97,85]],[.746,[179,88,82]],[.7619,[173,79,80]],[.7778,[167,70,79]],[.7937,[161,62,79]],[.8095,[154,54,79]],[.8254,[146,47,79]],[.8413,[136,40,80]],[.8571,[127,34,80]],[.873,[117,30,79]],[.8889,[106,26,77]],[.9048,[95,23,74]],[.9206,[85,21,70]],[.9365,[75,19,66]],[.9524,[66,17,61]],[.9683,[58,17,58]],[.9841,[52,17,55]],[1,[47,20,54]]]),"hsv (periodic)":G([[0,[165,38,38]],[.0159,[172,57,45]],[.0317,[179,76,52]],[.0476,[187,94,59]],[.0635,[194,113,66]],[.0794,[201,132,73]],[.0952,[208,151,80]],[.1111,[215,170,87]],[.127,[222,189,94]],[.1429,[229,208,102]],[.1587,[236,227,109]],[.1746,[237,239,113]],[.1905,[223,237,110]],[.2063,[208,234,106]],[.2222,[193,230,103]],[.2381,[177,227,99]],[.254,[158,222,95]],[.2698,[143,219,91]],[.2857,[127,215,88]],[.3016,[112,212,84]],[.3175,[97,208,81]],[.3333,[81,205,77]],[.3492,[77,204,85]],[.3651,[78,205,98]],[.381,[79,207,111]],[.3968,[80,208,124]],[.4127,[82,209,137]],[.4286,[83,210,150]],[.4444,[84,211,163]],[.4603,[85,213,176]],[.4762,[86,214,189]],[.4921,[87,215,202]],[.5079,[88,214,215]],[.5238,[81,195,208]],[.5397,[74,176,201]],[.5556,[67,157,194]],[.5714,[60,138,187]],[.5873,[52,120,180]],[.6032,[45,101,173]],[.619,[38,82,166]],[.6349,[31,63,159]],[.6508,[24,44,152]],[.6667,[17,25,145]],[.6825,[17,14,141]],[.6984,[33,17,144]],[.7143,[48,20,148]],[.7302,[63,24,152]],[.746,[79,28,155]],[.7619,[98,32,160]],[.7778,[113,36,163]],[.7937,[129,39,167]],[.8095,[144,43,170]],[.8254,[159,46,174]],[.8413,[173,49,176]],[.8571,[177,50,168]],[.873,[176,48,155]],[.8889,[175,47,142]],[.9048,[174,46,129]],[.9206,[172,45,116]],[.9365,[171,44,103]],[.9524,[170,42,90]],[.9683,[169,41,77]],[.9841,[168,40,64]],[1,[166,39,51]]]),tab10:G([[0,[31,119,180]],[.1,[31,119,180]],[.1,[255,127,14]],[.2,[255,127,14]],[.2,[44,160,44]],[.3,[44,160,44]],[.3,[214,39,40]],[.4,[214,39,40]],[.4,[148,103,189]],[.5,[148,103,189]],[.5,[140,86,75]],[.6,[140,86,75]],[.6,[227,119,194]],[.7,[227,119,194]],[.7,[127,127,127]],[.8,[127,127,127]],[.8,[188,189,34]],[.9,[188,189,34]],[.9,[23,190,207]],[1,[23,190,207]]]),tab20:G([[0,[31,119,180]],[.05,[31,119,180]],[.05,[174,199,232]],[.1,[174,199,232]],[.1,[255,127,14]],[.15,[255,127,14]],[.15,[255,187,120]],[.2,[255,187,120]],[.2,[44,160,44]],[.25,[44,160,44]],[.25,[152,223,138]],[.3,[152,223,138]],[.3,[214,39,40]],[.35,[214,39,40]],[.35,[255,152,150]],[.4,[255,152,150]],[.4,[148,103,189]],[.45,[148,103,189]],[.45,[197,176,213]],[.5,[197,176,213]],[.5,[140,86,75]],[.55,[140,86,75]],[.55,[196,156,148]],[.6,[196,156,148]],[.6,[227,119,194]],[.65,[227,119,194]],[.65,[247,182,210]],[.7,[247,182,210]],[.7,[127,127,127]],[.75,[127,127,127]],[.75,[199,199,199]],[.8,[199,199,199]],[.8,[188,189,34]],[.85,[188,189,34]],[.85,[219,219,141]],[.9,[219,219,141]],[.9,[23,190,207]],[.95,[23,190,207]],[.95,[158,218,229]],[1,[158,218,229]]]),tab20b:G([[0,[57,59,121]],[.05,[57,59,121]],[.05,[82,84,163]],[.1,[82,84,163]],[.1,[107,110,207]],[.15,[107,110,207]],[.15,[156,158,222]],[.2,[156,158,222]],[.2,[99,121,57]],[.25,[99,121,57]],[.25,[140,162,82]],[.3,[140,162,82]],[.3,[181,207,107]],[.35,[181,207,107]],[.35,[206,219,156]],[.4,[206,219,156]],[.4,[140,109,49]],[.45,[140,109,49]],[.45,[189,158,57]],[.5,[189,158,57]],[.5,[231,186,82]],[.55,[231,186,82]],[.55,[231,203,148]],[.6,[231,203,148]],[.6,[132,60,57]],[.65,[132,60,57]],[.65,[173,73,74]],[.7,[173,73,74]],[.7,[214,97,107]],[.75,[214,97,107]],[.75,[231,150,156]],[.8,[231,150,156]],[.8,[123,65,115]],[.85,[123,65,115]],[.85,[165,81,148]],[.9,[165,81,148]],[.9,[206,109,189]],[.95,[206,109,189]],[.95,[222,158,214]],[1,[222,158,214]]]),tab20c:G([[0,[49,130,189]],[.05,[49,130,189]],[.05,[107,174,214]],[.1,[107,174,214]],[.1,[158,202,225]],[.15,[158,202,225]],[.15,[198,219,239]],[.2,[198,219,239]],[.2,[230,85,13]],[.25,[230,85,13]],[.25,[253,141,60]],[.3,[253,141,60]],[.3,[253,174,107]],[.35,[253,174,107]],[.35,[253,208,162]],[.4,[253,208,162]],[.4,[49,163,84]],[.45,[49,163,84]],[.45,[116,196,118]],[.5,[116,196,118]],[.5,[161,217,155]],[.55,[161,217,155]],[.55,[199,233,192]],[.6,[199,233,192]],[.6,[117,107,177]],[.65,[117,107,177]],[.65,[158,154,200]],[.7,[158,154,200]],[.7,[188,189,220]],[.75,[188,189,220]],[.75,[218,218,235]],[.8,[218,218,235]],[.8,[99,99,99]],[.85,[99,99,99]],[.85,[150,150,150]],[.9,[150,150,150]],[.9,[189,189,189]],[.95,[189,189,189]],[.95,[217,217,217]],[1,[217,217,217]]])},W='<svg width="20" height="20" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg>\n',q=r(43531),$=Object.keys(q.default);function Y(t){return $[t%$.length]}class Z extends U{constructor(t,e){l()(t.length>0,"validProperties.length > 0"),super(e),this.max=new N("number",NaN),this.min=new N("number",NaN),this.property=new N("string",t[0]),this.scale=new N("string","linear"),this.property.validate=j(t,"axis"),this.scale.validate=j(["linear","log"],"axis scale")}disable(){this.max.disable(),this.min.disable(),this.scale.disable()}enable(){this.max.enable(),this.min.enable(),this.scale.enable()}}class X extends U{constructor(t,e,r,n={},i){super(i);const o=Object.keys(e);if(o.length<2)throw new Error("Cannot show a map because the dataset contains fewer than two properties.");this.x=new Z(o,this.warnings),this.y=new Z(o,this.warnings),this.z=new Z(o.concat([""]),this.warnings),this.symbol=new N("string","");const a=[""];for(const t in e)void 0!==e[t].string&&a.push(t);this.symbol.validate=j(a,"symbol"),this.color={mode:new N("string","linear"),property:new N("string",""),min:new N("number",NaN),max:new N("number",NaN),palette:new N("string","inferno"),opacity:new N("number",100),select:{mode:new N("string","all"),category:new N("string",""),min:new N("number",NaN),max:new N("number",NaN)}},this.color.property.validate=j(o.concat([""]),"color"),this.color.mode.validate=j(["linear","log","sqrt","inverse"],"mode"),this.color.palette.validate=j(Object.keys(H),"palette"),this.color.opacity.validate=t=>{if(t<1||t>100)throw Error(`opacity must be between 1 and 100, got ${t}`)},this.color.select.mode.validate=j(["all","range-gray","category-gray","range-hide","category-hide"],"selection mode"),this.size={factor:new N("number",50),mode:new N("string","linear"),property:new N("string","")},this.size.property.validate=j(o.concat([""]),"size"),this.size.factor.validate=t=>{if(t<1||t>100)throw Error(`size factor must be between 0 and 100, got ${t}`)},this.size.mode.validate=j(["linear","log","sqrt","inverse","flip-linear","proportional"],"mode"),this.markerOutline=new N("boolean",!0),this.joinPoints=new N("boolean",!1),this.useLOD=new N("boolean",!0),this.camera=new B(void 0),this.camera.equals=(t,e)=>{if(void 0===t&&void 0===e)return!0;if(void 0===t||void 0===e)return!1;const r=(t,e)=>t.x===e.x&&t.y===e.y&&t.z===e.z;return r(t.eye,e.eye)&&r(t.center,e.center)&&r(t.up,e.up)&&t.zoom===e.zoom},this.camera.validate=t=>{if(void 0!==t&&(z(t),t.zoom<=0))throw Error(`zoom factor must be greater than zero, got ${t.zoom}`)},this.x.property.value=o[0],this.y.property.value=o[1],this.z.property.value="",o.length>2?this.color.property.value=o[2]:this.color.property.value="",this._positionSettingsModal=r;const{openModal:s,modal:l}=this._createSettingsHTML();this._modal=l,this._openModal=s,t.appendChild(this._openModal),this._bind(e),this.color.select.mode.onchange.push((()=>{this.color.select.mode.value.startsWith("range")&&this.color.select.min.value>this.color.select.max.value&&(this.warnings.sendMessage("The selection min value is greater than the max value! Resetting the range."),this.color.select.min.reset(),this.color.select.max.reset())}));const c=t=>()=>{if(this.color.select.mode.value.startsWith("range")){const e=this.color.select.min.value,r=this.color.select.max.value;!isNaN(e)&&!isNaN(r)&&e>r&&(this.warnings.sendMessage(`The selection ${t} value makes min > max! Resetting it.`),"min"===t?this.color.select.min.reset():this.color.select.max.reset())}};this.color.select.min.onchange.push(c("min")),this.color.select.max.onchange.push(c("max")),this.color.property.onchange.push((()=>{this.color.select.min.value=NaN,this.color.select.max.value=NaN;const t=this.getModalElement("map-color-select-mode").querySelectorAll('option[value^="range"]');""===this.color.property.value?(this.color.select.mode.value.startsWith("range")&&(this.color.select.mode.value="all"),t.forEach((t=>t.disabled=!0))):t.forEach((t=>t.disabled=!1))})),this.applySettings(n)}getModalElement(t){return(0,d.VT)(t,this._modal.shadow)}applySettings(t){if("size"in t){const e=t.size;"mode"in e&&"constant"===e.mode&&(delete e.mode,e.property="")}if("color"in t){const e=t.color;if("scale"in e&&(e.mode=e.scale,delete e.scale),"select"in e){const t=e.select;"range"===t.mode?t.mode="range-gray":"category"===t.mode&&(t.mode="category-gray")}}"palette"in t&&("color"in t?t.color.palette=t.palette:t.color={palette:t.palete},delete t.palette),super.applySettings(t)}remove(){this._modal.remove(),this._openModal.remove()}is3D(){return""!==this.z.property.value}hasColors(){return""!==this.color.property.value}hovertemplate(){if(this.hasColors()){let t=this.color.property.value;switch(this.color.mode.value){case"inverse":t=`(${t})<sup>-1</sup>`;break;case"log":t=`log(${t})`;break;case"sqrt":t=`sqrt(${t})`}return t+": %{customdata:.2f}<extra></extra>"}return"%{x:.2f}, %{y:.2f}<extra></extra>"}calculateColors(t){let e=this.color.mode.value;const{min:r,max:n}=(0,d.GI)(t);return n===r&&(e="fixed"),t.map((t=>{let r=.5;switch(e){case"inverse":r=1/t;break;case"log":r=Math.log10(t);break;case"sqrt":r=Math.sqrt(t);break;case"linear":r=1*t;break;default:r=.5}return isNaN(r)?"#aaaaaa":r}))}calculateSizes(t){const e=(t=>{const e=Math.log(1/6),r=(Math.log(6)-e)/99;return Math.exp(e+r*(t-1))})(this.size.factor.value);let r=this.size.mode.value;const{min:n,max:i}=(0,d.GI)(t),o=this.is3D()?800:300,a=n>0?n:1e-6*(i-n),s=t.map((t=>{let s=.3;switch(i===n?r="fixed":s=(t-n)/(i-n),r){case"proportional":s=t/Math.abs(i);break;case"inverse":s=a/t;break;case"log":s=Math.log(t/a)/Math.log(i/a);break;case"sqrt":s=Math.sqrt(t/Math.abs(i));break;case"linear":s*=1;break;case"flip-linear":s=1-s;break;default:s=.3-.1}return s+=.1,o*s*e}));return s.some((t=>isNaN(t)||t<0))?(this.warnings.sendMessage(`After applying the selected scaling mode ${r}, some point sizes evaluated to invalid values. These points will be displayed at the minimum size.`),s.map((t=>isNaN(t)?.1*o*e:t))):s}getSymbols(t){l()(void 0!==t.string,"property.string !== undefined");const e=t.string.strings().length;return this.is3D()?(e>$.length&&this.warnings.sendMessage(`${e} symbols are required, but we only have ${$.length}. Some symbols will be repeated`),t.values.map(Y)):t.values}_createSettingsHTML(){const t=document.createElement("template");t.innerHTML=`<button\n            class="btn btn-light btn-sm chsp-viewer-button"\n            style="top: 4px; left: 5px; opacity: 1;">\n                <div>${W}</div>\n            </button>`;const e=t.content.firstChild;t.innerHTML='<div id="map-settings" class="modal chemiscope-modal fade" tabindex="-1">\n   <div class="modal-dialog modal-lg">\n      <div class="modal-content">\n         <div class="modal-header chsp-modal-header">\n            <h4 class="modal-title">Map settings</h4>\n            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n         </div>\n         <div class="modal-body">\n            <div class="chsp-map-options">\n               <h5 class="chsp-settings-section-title mb-0">Data</h5>\n\n               <button class="btn btn-sm btn-outline-secondary chsp-extra-options-btn" type="button" id="map-range-reset">\n                  reset ranges\n               </button>\n\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="map-x-property">x axis:</label>\n                  <select id="map-x-property" class="form-select"></select>\n               </div>\n\n               <button class="btn btn-sm btn-secondary chsp-extra-options-btn" type="button" data-bs-toggle="collapse" data-bs-target="#map-x-extra">\n                  more options\n               </button>\n\n               <div class="collapse chsp-map-extra-options" id="map-x-extra">\n                  <div class="input-group input-group-sm">\n                     <label class="input-group-text" for="map-x-scale">scale:</label>\n                     <select id="map-x-scale" class="form-select">\n                        <option value="linear">linear</option>\n                        <option value="log">log</option>\n                     </select>\n                  </div>\n\n                  <div class="input-group input-group-sm">\n                     <label id="map-x-min-label" class="input-group-text" for="map-x-min"> min: </label>\n                     <input id="map-x-min" class="form-control" type="number" step="any" />\n                  </div>\n\n                  <div class="input-group input-group-sm">\n                     <label id="map-x-max-label" class="input-group-text" for="map-x-max"> max: </label>\n                     <input id="map-x-max" class="form-control" type="number" step="any" />\n                  </div>\n               </div>\n\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="map-y-property">y axis:</label>\n                  <select id="map-y-property" class="form-select"></select>\n               </div>\n\n               <button class="btn btn-sm btn-secondary chsp-extra-options-btn" type="button" data-bs-toggle="collapse" data-bs-target="#map-y-extra">\n                  more options\n               </button>\n\n               <div class="collapse chsp-map-extra-options" id="map-y-extra">\n                  <div class="input-group input-group-sm">\n                     <label class="input-group-text" for="map-y-scale">scale:</label>\n                     <select id="map-y-scale" class="form-select">\n                        <option value="linear">linear</option>\n                        <option value="log">log</option>\n                     </select>\n                  </div>\n\n                  <div class="input-group input-group-sm">\n                     <label id="map-y-min-label" class="input-group-text" for="map-y-min"> min: </label>\n                     <input id="map-y-min" class="form-control" type="number" step="any" />\n                  </div>\n\n                  <div class="input-group input-group-sm">\n                     <label id="map-y-max-label" class="input-group-text" for="map-y-max"> max: </label>\n                     <input id="map-y-max" class="form-control" type="number" step="any" />\n                  </div>\n               </div>\n\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="map-z-property"> z axis: </label>\n                  <select id="map-z-property" class="form-select">\n                     <option value="">none</option>\n                  </select>\n               </div>\n\n               <button class="btn btn-sm btn-secondary chsp-extra-options-btn" type="button" data-bs-toggle="collapse" data-bs-target="#map-z-extra">\n                  more options\n               </button>\n\n               <div class="collapse chsp-map-extra-options" id="map-z-extra">\n                  <div class="input-group input-group-sm">\n                     <label class="input-group-text" for="map-z-scale"> scale: </label>\n                     <select id="map-z-scale" class="form-select" disabled>\n                        <option value="linear">linear</option>\n                        <option value="log">log</option>\n                     </select>\n                  </div>\n\n                  <div class="input-group input-group-sm">\n                     <label id="map-z-min-label" class="input-group-text" for="map-z-min"> min: </label>\n                     <input id="map-z-min" class="form-control" type="number" step="any" disabled />\n                  </div>\n\n                  <div class="input-group input-group-sm">\n                     <label id="map-z-max-label" class="input-group-text" for="map-z-max"> max: </label>\n                     <input id="map-z-max" class="form-control" type="number" step="any" disabled />\n                  </div>\n               </div>\n               \n               <div class="input-group chsp-map-extra-options" id="map-lod-div" style="grid-column: 1 / -1; display: none; margin-top: 1em;">\n                  <div class="form-check form-switch">\n                     <input class="form-check-input" id="map-lod" type="checkbox" checked />\n                     <label class="form-check-label" for="map-lod" title="Enable adaptive resolution (Level of Detail) for large datasets">adaptive resolution</label>\n                  </div>\n               </div>\n            </div>\n\n            <div style="margin-bottom: 1.5em"></div>\n            <h5 class="chsp-settings-section-title">Style</h5>\n\n            <div class="input-group chsp-map-extra-options" style="margin-bottom: 0.6em">\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="map-marker-outline" type="checkbox" />\n                  <label class="form-check-label" for="map-marker-outline" title="show point outlines">show outlines</label>\n               </div>\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="map-join-points" type="checkbox" />\n                  <label class="form-check-label" for="map-join-points" title="draw a line through the points, sequentially">link points</label>\n               </div>\n            </div>\n\n            <div class="chsp-map-options">\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="map-color-property">color:</label>\n                  <select id="map-color-property" class="form-select">\n                     <option value="">fixed</option>\n                  </select>\n               </div>\n\n               <button\n                  class="btn btn-sm btn-secondary chsp-extra-options-btn"\n                  type="button"\n                  data-bs-toggle="collapse"\n                  data-bs-target="#map-color-extra"\n               >\n                  more options\n               </button>\n\n               <div class="collapse chsp-map-extra-options" id="map-color-extra" style="grid-template-columns: repeat(6, 1fr);">\n                  <div class="input-group input-group-sm" style="grid-column: auto / span 2;">\n                     <label class="input-group-text" for="map-color-transform">scale:</label>\n                     <select id="map-color-transform" class="form-select" disabled>\n                        <option value="linear">linear</option>\n                        <option value="log">log10</option>\n                        <option value="sqrt">sqrt</option>\n                        <option value="inverse">inverse</option>\n                     </select>\n                  </div>\n\n                  <div class="input-group input-group-sm" style="grid-column: span 2;">\n                     <label id="map-color-min-label" class="input-group-text" for="map-color-min"> min: </label>\n                     <input id="map-color-min" class="form-control" type="number" step="any" />\n                  </div>\n\n                  <div class="input-group input-group-sm" style="grid-column: span 2;">\n                     <label id="map-color-max-label" class="input-group-text" for="map-color-max"> max: </label>\n                     <input id="map-color-max" class="form-control" type="number" step="any" />\n                  </div>\n\n                  <div class="input-group input-group-sm" style="grid-column: span 3;">\n                     <label class="input-group-text" for="map-color-palette"> palette: </label>\n                     <select id="map-color-palette" class="form-select"></select>\n                  </div>\n\n                  <button class="btn btn-sm btn-secondary" type="button" id="map-color-reset" style="width: 100%; grid-column: span 3;">reset min/max</button>\n\n                  <div class="input-group input-group-sm" id="map-color-select-container" style="grid-column: auto / span 3;">\n                     <label class="input-group-text" for="map-color-select-mode">mark:</label>\n                     <select id="map-color-select-mode" class="form-select">\n                        <option value="all">show all</option>\n                        <option value="range-gray">range (gray bg.)</option>\n                        <option value="category-gray">class (gray bg.)</option>\n                        <option value="range-hide">range (hide bg.)</option>\n                        <option value="category-hide">class (hide bg.)</option>\n                     </select>\n                  </div>\n\n                  <div class="input-group input-group-sm" id="map-color-select-category-container" style="display: none;">\n                     <select id="map-color-select-category" class="form-select"></select>\n                  </div>\n\n                  <div class="input-group input-group-sm" id="map-color-select-min-container" style="display: none;">\n                     <label class="input-group-text" for="map-color-select-min">min:</label>\n                     <input id="map-color-select-min" class="form-control" type="number" step="any" />\n                  </div>\n\n                  <div class="input-group input-group-sm" id="map-color-select-max-container" style="display: none;">\n                     <label class="input-group-text" for="map-color-select-max">max:</label>\n                     <input id="map-color-select-max" class="form-control" type="number" step="any" />\n                  </div>\n               \n                  <div class="input-group input-group-sm" style="grid-column: span 6">\n                     <label class="input-group-text" for="map-opacity" style="min-width: 6em"> opacity: </label>\n                     <input type="range" min="1" max="100" step="1" class="form-control form-range" id="map-opacity" style="height: 2rem" />\n                  </div>\n               </div>\n\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="map-size-property" title="Property mapping to marker area">size:</label>\n                  <select id="map-size-property" class="form-select">\n                     <option value="">fixed</option>\n                  </select>\n               </div>\n\n               <button\n                  class="btn btn-sm btn-secondary chsp-extra-options-btn"\n                  type="button"\n                  data-bs-toggle="collapse"\n                  data-bs-target="#map-size-extra"\n               >\n                  more options\n               </button>\n\n               <div class="collapse chsp-map-extra-options" id="map-size-extra" style="grid-template-columns: 1fr 1fr">\n                  <div class="input-group input-group-sm">\n                     <label class="input-group-text" for="map-size-transform">transform:</label>\n                     <select id="map-size-transform" class="form-select">\n                        <option value="linear" title="Linear mapping over the full range of values (large value -> large size)">linear</option>\n                        <option value="flip-linear" title="Linear reverse mapping over the full range of values (large value -> small size)">\n                           flipped linear\n                        </option>\n                        <option value="proportional" title="Proportional to actual value, breaks for negative values">proportional</option>\n                        <option value="log" title="Log-scale of actual value, breaks for negative values">log</option>\n                        <option value="sqrt" title="Square-root of actual value, breaks for negative values">sqrt</option>\n                        <option value="inverse" title="Inverse of actual value, breaks for negative values">inverse</option>\n                     </select>\n                  </div>\n                  <div class="input-group input-group-sm" style="grid-column: auto / span 2">\n                     <label class="input-group-text" for="map-size-factor" style="min-width: 6em"> factor: </label>\n                     <input type="range" min="1" max="100" step="1" class="form-control form-range" id="map-size-factor" style="height: 2rem" />\n                  </div>\n               </div>\n\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="map-symbol-property">symbol:</label>\n                  <select id="map-symbol-property" class="form-select">\n                     <option value="">fixed</option>\n                  </select>\n               </div>\n            </div>\n         </div>\n      </div>\n   </div>\n</div>\n';const r=t.content.querySelector(".modal");l()(null!==r&&r instanceof HTMLElement,"modalElement !== null && modalElement instanceof HTMLElement");const n=r.querySelector(".modal-dialog");l()(null!==n&&n instanceof HTMLElement,"modalDialog !== null && modalDialog instanceof HTMLElement"),(0,d.eB)(n,".modal-header");const i=new R(r);return i.shadow.adoptedStyleSheets=[k.A,A.A],m.initialize(r),e.addEventListener("click",(()=>{if(null===n.getAttribute("data-initial-modal-positions-set")){n.setAttribute("data-initial-modal-positions-set","true"),n.parentNode.style.display="block",n.style.width=n.offsetWidth/1.5+"px",n.style.minWidth="500px",n.style.margin="0",n.style.position="fixed";const{top:t,left:e}=this._positionSettingsModal(n.getBoundingClientRect());n.style.top=`${t}px`,n.style.left=`${e}px`}i.open()})),r.addEventListener("keydown",(t=>{t.stopPropagation()})),{openModal:e,modal:i}}_bind(t){const e=this.getModalElement("map-x-property");e.options.length=0;for(const r in t)e.options.add(new Option(r,r));this.x.property.bind(e,"value"),this.x.min.bind(this.getModalElement("map-x-min"),"value"),this.x.max.bind(this.getModalElement("map-x-max"),"value"),this.x.scale.bind(this.getModalElement("map-x-scale"),"value");const r=this.getModalElement("map-y-property");r.options.length=0;for(const e in t)r.options.add(new Option(e,e));this.y.property.bind(r,"value"),this.y.min.bind(this.getModalElement("map-y-min"),"value"),this.y.max.bind(this.getModalElement("map-y-max"),"value"),this.y.scale.bind(this.getModalElement("map-y-scale"),"value");const n=this.getModalElement("map-z-property");n.options.length=0,n.options.add(new Option("none",""));for(const e in t)n.options.add(new Option(e,e));this.z.property.bind(n,"value"),this.z.min.bind(this.getModalElement("map-z-min"),"value"),this.z.max.bind(this.getModalElement("map-z-max"),"value"),this.z.scale.bind(this.getModalElement("map-z-scale"),"value");const i=this.getModalElement("map-color-property");i.options.length=0,i.options.add(new Option("fixed",""));for(const e in t)i.options.add(new Option(e,e));this.color.property.bind(i,"value"),this.color.mode.bind(this.getModalElement("map-color-transform"),"value"),this.color.min.bind(this.getModalElement("map-color-min"),"value"),this.color.max.bind(this.getModalElement("map-color-max"),"value"),this.color.opacity.bind(this.getModalElement("map-opacity"),"value");const o=this.getModalElement("map-color-palette");o.length=0;for(const t in H)o.options.add(new Option(t,t));this.color.palette.bind(o,"value");const a=this.getModalElement("map-color-select-mode");this.color.select.mode.bind(a,"value");const s=this.getModalElement("map-color-select-category");s.length=0;let l=!1;for(const e in t){const r=t[e];if(void 0!==r.string){l=!0;const t=r.string.strings();for(const r of t){const t=`${e}/${r}`;s.add(new Option(t,t))}}}const c=a.querySelectorAll('option[value^="category"]');l||c.forEach((t=>t.disabled=!0));const d=a.querySelectorAll('option[value^="range"]');""===this.color.property.value&&d.forEach((t=>t.disabled=!0)),s.options.length>0&&(this.color.select.category.value=s.options[0].value),this.color.select.category.bind(s,"value"),this.color.select.min.bind(this.getModalElement("map-color-select-min"),"value"),this.color.select.max.bind(this.getModalElement("map-color-select-max"),"value");const u=()=>{const t=this.color.select.mode.value,e=this.getModalElement("map-color-select-container"),r=this.getModalElement("map-color-select-category-container"),n=this.getModalElement("map-color-select-min-container"),i=this.getModalElement("map-color-select-max-container");t.startsWith("range")?(e.style.gridColumn="auto / span 2",r.style.display="none",n.style.display="flex",n.style.gridColumn="span 2",i.style.display="flex",i.style.gridColumn="span 2"):t.startsWith("category")?(e.style.gridColumn="span 3",r.style.display="flex",r.style.gridColumn="span 3",n.style.display="none",i.style.display="none"):(e.style.gridColumn="span 3",r.style.display="none",n.style.display="none",i.style.display="none")};this.color.select.mode.onchange.push(u),setTimeout(u,0);const h=this.getModalElement("map-symbol-property");h.options.length=0,h.options.add(new Option("fixed",""));for(const e in t)void 0!==t[e].string&&h.options.add(new Option(e,e));this.symbol.bind(h,"value");const f=this.getModalElement("map-size-property");f.options.length=0,f.options.add(new Option("fixed",""));for(const e in t)f.options.add(new Option(e,e));this.size.property.bind(f,"value"),this.size.factor.bind(this.getModalElement("map-size-factor"),"value"),this.size.mode.bind(this.getModalElement("map-size-transform"),"value"),this.markerOutline.bind(this.getModalElement("map-marker-outline"),"checked"),this.joinPoints.bind(this.getModalElement("map-join-points"),"checked"),this.useLOD.bind(this.getModalElement("map-lod"),"checked")}colorScale(){return H[this.color.palette.value]}setLogLabel(t,e){const r=this.getModalElement(`map-${e}-min-label`),n=this.getModalElement(`map-${e}-max-label`);"log"===t.scale.value?(r.innerHTML="min: 10^",n.innerHTML="max: 10^"):(r.innerHTML="min:",n.innerHTML="max:")}showLODOption(t){this.getModalElement("map-lod-div").style.display=t?"flex":"none"}getCategorySelectionProperty(){if(!this.color.select.mode.value.startsWith("category"))return null;const t=this.color.select.category.value,e=t.indexOf("/");return-1===e?null:t.substring(0,e)}getFilterMask(t,e){const r=this.color.select.mode.value;if("all"===r)return new Array(t.length).fill(!0);if(r.startsWith("range")){const e=this.color.select.min.value,r=this.color.select.max.value;return t.map((t=>!(!isNaN(e)&&t<e||!isNaN(r)&&t>r)))}if(r.startsWith("category")){const r=this.color.select.category.value;if(!e)return new Array(t.length).fill(!0);const n=r.indexOf("/");if(-1===n)return new Array(t.length).fill(!0);const i=r.substring(n+1);return e.map((t=>t===i))}return new Array(t.length).fill(!0)}valueToColor(t,e,r){const n=H[this.color.palette.value];let i=(t-e)/(r-e);isNaN(i)&&(i=.5),i<0&&(i=0),i>1&&(i=1);let o=0;for(;o<n.length-1&&n[o+1][0]<i;)o++;const a=n[o],s=n[o+1]||a,l=a[0],c=s[0],d=a[1],u=s[1];if(c===l)return d;const h=(i-l)/(c-l),f=t=>{const e=t.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]:[0,0,0]},p=f(d),m=f(u);return`rgb(${Math.round(p[0]+h*(m[0]-p[0]))}, ${Math.round(p[1]+h*(m[1]-p[1]))}, ${Math.round(p[2]+h*(m[2]-p[2]))})`}}function J(t,e,r,n,i=5e4){const o=null!==r;let a,s,l,c,u=0,h=1;if(n)[a,s]=n.x,[l,c]=n.y,o&&n.z&&([u,h]=n.z);else{const n=(0,d.GI)(t);a=n.min,s=n.max;const i=(0,d.GI)(e);if(l=i.min,c=i.max,o&&r){const t=(0,d.GI)(r);u=t.min,h=t.max}}const f=[];for(let i=0;i<t.length;i++){const d=t[i],p=e[i];if(n){if(d<a||d>s||p<l||p>c)continue;if(o&&r){const t=r[i];if(t<u||t>h)continue}}f.push(i)}if(f.length<=i)return f;const p=s-a||1,m=c-l||1,g=h-u||1,b=o?Math.ceil(Math.cbrt(i)):Math.ceil(Math.sqrt(i)),v=new Int32Array(o?Math.pow(b,3):Math.pow(b,2)).fill(-1),y=b/p,x=b/m,w=b/g,_=(t,e)=>Math.max(0,Math.min(t,e-1)),k=[];for(const n of f){let i=_(Math.floor((t[n]-a)*y),b)+_(Math.floor((e[n]-l)*x),b)*b;o&&r&&(i+=_(Math.floor((r[n]-u)*w),b)*b*b),-1===v[i]&&(v[i]=n,k.push(n))}return k.sort(((t,e)=>t-e)),k}const Q='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   id="svg"\n   version="1.1"\n   width="100%"\n   height="100%"\n   viewBox="0, 0, 400,447.2727272727273"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs\n     id="defs7" />\n    <path\n       id="path1"\n       d="m 190.364,17.091 -98.546,0.182 -2.501,0.972 c -6.078,2.361 -9.866,6.442 -12.093,13.028 -0.646,1.91 -0.681,4.51 -0.776,57.909 l -0.1,55.909 h -19.28 c -22.138,0 -22.694,0.055 -28.341,2.82 -4.882,2.39 -8.642,6.14 -11.036,11.006 -2.976,6.051 -2.81,2.297 -2.699,60.719 l 0.099,51.819 1.027,2.909 c 2.834,8.031 8.033,13.229 16.064,16.064 l 2.909,1.027 20.617,0.107 20.618,0.108 0.126,27.529 c 0.121,26.576 0.152,27.613 0.875,29.969 1.955,6.366 6.999,11.282 13.63,13.282 1.99,0.601 45.31,1.194 48.162,0.659 2.111,-0.395 2.235,-0.673 3.796,-8.564 1.666,-8.418 3.536,-15.858 4.894,-19.466 0.505,-1.341 0.916,-2.951 0.913,-3.577 -0.012,-2.353 1.125,-2.212 -19.345,-2.411 l -18.65,-0.182 -0.094,-18.632 -0.094,-18.632 93.003,-0.095 c 89.445,-0.092 93.08,-0.121 95.003,-0.769 9.033,-3.044 15.279,-9.557 17.458,-18.203 0.97,-3.853 1.137,-103.084 0.181,-107.669 -1.487,-7.122 -6.759,-13.873 -13.299,-17.029 -6.271,-3.025 2.243,-2.789 -100.688,-2.789 H 110.545 V 98.182 51.273 h 75.077 75.077 L 260.812,81 c 0.129,33.88 -0.041,31.948 3.423,39 2.924,5.953 10.236,11.923 21.302,17.391 7.875,3.892 5.917,3.7 37.794,3.7 h 27.578 l -0.005,93.182 c -0.003,51.25 -0.104,93.55 -0.224,94 l -0.219,0.818 h -19.982 c -24.139,0 -22.886,-0.363 -20.682,5.999 1.702,4.911 3.137,10.566 4.751,18.728 1.805,9.125 1.628,8.562 2.852,9.068 1.889,0.783 51.02,0.346 53.509,-0.476 6.462,-2.133 11.116,-6.872 13.172,-13.413 l 0.828,-2.633 V 228.182 110 l -0.874,-1.818 c -1.574,-3.273 -86.465,-88.466 -89.67,-89.99 -2.942,-1.399 5.989,-1.304 -104.001,-1.101 m 157.167,92.936 c -0.582,0.441 -50.086,-0.56 -50.989,-1.031 -3.765,-1.965 -3.706,-1.52 -3.974,-29.905 l -0.231,-24.364 27.635,27.621 c 15.199,15.191 27.601,27.647 27.559,27.679 m -90.88,69.623 c 11.73,1.255 19.002,5.796 23.288,14.543 3.309,6.753 3.822,6.262 -8.881,8.499 -11.788,2.077 -10.793,2.1 -12.316,-0.28 -6.336,-9.906 -21.839,-8.399 -27.055,2.631 -2.283,4.827 -2.997,17.054 -1.352,23.139 3.222,11.915 14.101,16.013 27.57,10.384 4.263,-1.781 5.004,-2.631 5.004,-5.733 0,-3.813 0.271,-3.683 -7.939,-3.813 -6.467,-0.102 -7.071,-0.167 -7.545,-0.817 -0.785,-1.074 -0.743,-13.172 0.05,-14.304 l 0.566,-0.808 h 17.226 c 15.176,0 17.295,0.068 17.798,0.571 0.707,0.707 0.877,30.178 0.182,31.477 -1.559,2.913 -15.589,9.59 -23.568,11.216 -32.296,6.581 -53.949,-8.666 -53.953,-37.991 -0.004,-28.069 18.553,-42.176 50.925,-38.714 m -164.833,1.075 c 14.086,1.503 21.052,9.144 21.052,23.093 0,17.711 -9.579,24.502 -34.606,24.537 l -5.918,0.009 -0.355,0.932 c -0.206,0.541 -0.355,6.237 -0.355,13.564 0,9.339 -0.113,12.745 -0.436,13.067 -0.737,0.737 -21.883,0.611 -22.629,-0.135 -1.006,-1.006 -0.854,-73.69 0.156,-74.701 0.82,-0.82 36.032,-1.119 43.091,-0.366 m 52.517,0.099 c 0.517,0.264 6.389,8.461 14.257,19.903 9.275,13.49 13.577,19.455 14.029,19.455 0.616,0 0.662,-1.056 0.834,-19.393 0.175,-18.666 0.208,-19.413 0.887,-19.909 1.037,-0.758 19.734,-0.758 20.77,0 0.9,0.657 1.307,72.655 0.421,74.393 l -0.463,0.909 -10.432,0.096 -10.432,0.097 -1.074,-1.006 c -0.59,-0.553 -6.849,-9.41 -13.909,-19.683 -7.059,-10.273 -13.062,-18.765 -13.339,-18.872 -1.046,-0.401 -1.146,1.31 -1.151,19.81 -0.006,18.396 -0.028,18.998 -0.709,19.363 -1.258,0.673 -20.216,0.497 -20.907,-0.195 -0.512,-0.512 -0.572,-4.407 -0.572,-37.434 v -36.862 l 0.809,-0.566 c 1.064,-0.746 19.544,-0.84 20.981,-0.106 m -71.986,15.74 c -0.782,0.941 -0.778,14.663 0.004,15.605 0.841,1.013 9.989,0.659 12.552,-0.485 6.658,-2.974 6.66,-11.926 0.004,-14.824 -2.229,-0.971 -11.813,-1.197 -12.56,-0.296 M 203.75,318.468 c -1.119,0.711 -1.205,2.545 -1.205,25.737 v 23.431 h -17.809 -17.81 l -0.612,0.934 c -1.398,2.133 -2.157,1.34 30.777,32.176 16.9,15.823 31.135,28.931 31.632,29.127 2.15,0.848 1.919,1.045 33.822,-28.777 30.937,-28.917 31.622,-29.595 31.631,-31.312 0.013,-2.185 0.335,-2.148 -18.47,-2.148 h -17.145 l -0.099,-24.211 c -0.095,-23.487 -0.119,-24.227 -0.804,-24.727 -0.778,-0.568 -53.025,-0.792 -53.908,-0.23"\n       stroke="none"\n       fill="#040404"\n       fill-rule="evenodd" />\n</svg>\n\x3c!--Icon taken from www.uxwing.com and edited in Inkscape--\x3e\n\n';function K(t,e){const r=Math.max(t._fullLayout.width,600),n=t._fullLayout.height/t._fullLayout.width,i={filename:"chemiscope-map",format:e,width:r,height:"png"===e?r*n:Math.max(t._fullLayout.height,600)};"png"===e&&(i.scale=3),h().restyle(t,{visible:!1},[1]).then((()=>h().downloadImage(t,i))).then((()=>h().restyle(t,{visible:!0},[1]))).catch((e=>{h().restyle(t,{visible:!0},[1]),setTimeout((()=>{throw e}))}))}function tt(t){const e=document.createElement("div");return e.innerHTML=t,e.getElementsByTagName("path")[0].getAttribute("d")}function et(t,e,r,n){const i=!isNaN(t),o=!isNaN(e);if(i&&o){if(t<=e)return[t,e];n.sendMessage(`The inserted min and max values in ${r} are such that min > max!The default values will be used.`)}return[i?t:void 0,o?e:void 0]}function rt(t,e){const r=!isNaN(t),n=!isNaN(e);return!(r&&n)}const nt={coloraxis:{cmax:0,cmin:0,colorbar:{len:1,thickness:20,title:{text:"",side:"right",font:{size:15}},y:0,yanchor:"bottom"},colorscale:[],showscale:!0},hovermode:"closest",dragmode:"zoom",legend:{itemclick:!1,itemdoubleclick:!1,tracegroupgap:5,y:1,yanchor:"top"},margin:{b:50,l:50,r:50,t:50},scene:{camera:{projection:{type:"orthographic"}},xaxis:{showspikes:!1,autorange:!0,range:void 0,title:{text:""},type:"linear"},yaxis:{showspikes:!1,autorange:!0,range:void 0,title:{text:""},type:"linear"},zaxis:{showspikes:!1,autorange:!0,range:void 0,title:{text:""},type:"linear"}},showlegend:!0,xaxis:{range:void 0,title:{text:""},type:"linear",zeroline:!1},yaxis:{range:void 0,title:{text:""},type:"linear",zeroline:!1},zaxis:{range:void 0,title:{text:""},type:"linear",zeroline:!1}},it={displayModeBar:!0,displaylogo:!1,responsive:!0,doubleClick:"reset",doubleClickDelay:600,scrollZoom:!0,modeBarButtonsToRemove:["hoverClosestCartesian","hoverCompareCartesian","toggleSpikelines","autoScale2d","zoomIn2d","zoomOut2d","select2d","lasso2d","hoverClosest3d","zoom3d","tableRotation","resetCameraLastSave3d","toImage"],modeBarButtonsToAdd:[[{name:"Download PNG",icon:{width:400,height:447,path:tt(Q)},click:function(t){K(t,"png")}}],[{name:"Download SVG",icon:{width:400,height:447,path:tt('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   id="svg"\n   version="1.1"\n   width="100%"\n   height="100%"\n   viewBox="0, 0, 400,447.2727272727273"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:svg="http://www.w3.org/2000/svg">\n  <defs\n     id="defs7" />\n    <path\n       id="path1"\n       d="m 190.364,17.091 -98.546,0.182 -2.501,0.972 c -6.078,2.361 -9.866,6.442 -12.093,13.028 -0.646,1.91 -0.681,4.51 -0.776,57.909 l -0.1,55.909 h -19.28 c -22.138,0 -22.694,0.055 -28.341,2.82 -4.882,2.39 -8.642,6.14 -11.036,11.006 -2.976,6.051 -2.81,2.297 -2.699,60.719 l 0.099,51.819 1.027,2.909 c 2.834,8.031 8.033,13.229 16.064,16.064 l 2.909,1.027 20.617,0.107 20.618,0.108 0.125,27.529 c 0.114,24.967 0.185,27.731 0.765,29.708 1.874,6.39 7.028,11.547 13.511,13.52 3.044,0.926 49.24,1.035 50.154,0.118 0.32,-0.321 1.221,-3.911 2.19,-8.727 1.746,-8.676 3.78,-16.579 4.949,-19.221 0.902,-2.038 0.921,-4.109 0.046,-4.901 -0.592,-0.536 -2.572,-0.608 -19,-0.693 l -18.339,-0.094 -0.094,-18.632 -0.094,-18.632 93.003,-0.095 c 89.445,-0.092 93.08,-0.121 95.003,-0.769 9.033,-3.044 15.279,-9.557 17.458,-18.203 0.97,-3.853 1.137,-103.084 0.181,-107.669 -1.487,-7.122 -6.759,-13.873 -13.299,-17.029 -6.271,-3.025 2.243,-2.789 -100.688,-2.789 H 110.545 V 98.182 51.273 h 75.091 75.091 V 79.56 c 0,32.066 -0.171,29.999 3.042,36.622 6.716,13.842 13.93,20.611 25.322,23.759 l 3.454,0.954 29.182,0.112 29.182,0.112 -0.005,93.168 c -0.003,51.242 -0.104,93.536 -0.224,93.986 l -0.219,0.818 h -19.982 c -24.139,0 -22.886,-0.363 -20.682,5.999 1.702,4.911 3.137,10.566 4.751,18.728 1.805,9.125 1.628,8.562 2.852,9.068 1.889,0.783 51.02,0.346 53.509,-0.476 6.462,-2.133 11.116,-6.872 13.172,-13.413 l 0.828,-2.633 V 228.182 110 l -0.874,-1.818 c -1.574,-3.273 -86.465,-88.466 -89.67,-89.99 -2.942,-1.399 5.989,-1.304 -104.001,-1.101 m 129.865,64.746 c 13.374,14.511 24.644,26.761 25.044,27.224 l 0.727,0.842 -24.182,-0.155 c -26.493,-0.169 -25.181,-0.056 -27.33,-2.352 -1.727,-1.846 -1.757,-2.347 -1.759,-29.573 l -0.002,-25.632 1.593,1.632 c 0.876,0.897 12.535,13.504 25.909,28.014 M 91.504,179.66 c 13.104,1.461 20.792,7.289 23.442,17.769 1.198,4.737 1.717,4.498 -11.173,5.154 -10.327,0.526 -9.991,0.595 -11.032,-2.262 -3.065,-8.405 -17.748,-9.795 -18.823,-1.783 -0.478,3.57 1.422,4.7 12.539,7.456 24.408,6.052 31.725,11.999 31.725,25.784 0,18.346 -18.637,28.91 -44.364,25.149 -13.276,-1.94 -21.032,-8.412 -24.003,-20.029 -1.499,-5.863 -1.947,-5.582 10.102,-6.334 11.639,-0.726 10.916,-0.886 12.128,2.688 2.25,6.634 6.619,9.569 13.737,9.227 7.777,-0.374 11.801,-6.471 7.804,-11.825 -1.423,-1.907 -5.348,-3.534 -13.768,-5.709 C 60.417,219.934 53.362,214.628 51.94,203.98 49.702,187.231 66.547,176.877 91.504,179.66 m 164.419,-0.01 c 11.763,1.258 18.926,5.783 23.375,14.764 3.158,6.375 3.491,6.07 -9.044,8.297 -11.185,1.986 -10.814,1.995 -12.3,-0.28 -6.32,-9.673 -21.849,-8.463 -26.838,2.092 -3.397,7.188 -3.176,22.046 0.427,28.666 4.45,8.176 16.506,10.11 27.407,4.397 3.104,-1.626 4.123,-4.286 2.888,-7.534 l -0.344,-0.905 -7.141,-0.119 c -6.572,-0.109 -7.181,-0.175 -7.656,-0.825 -0.816,-1.118 -0.742,-13.531 0.087,-14.447 0.883,-0.976 34.385,-1.036 35.46,-0.063 0.788,0.713 1.049,30.002 0.28,31.438 -0.857,1.602 -11.434,7.502 -16.815,9.381 -13.991,4.884 -34.029,3.81 -44.302,-2.374 -10.902,-6.563 -17.58,-21.351 -16.479,-36.49 1.956,-26.9 19.601,-39.355 50.995,-35.998 m -110.35,1.053 c 1.146,0.436 0.683,-0.887 9.557,27.297 7.655,24.312 7.919,25.091 8.506,25.091 0.619,0 1.037,-1.244 8.889,-26.424 5.985,-19.193 7.988,-25.179 8.59,-25.667 0.705,-0.573 1.818,-0.636 11.131,-0.636 10.556,0 11.754,0.142 11.754,1.394 0,1.565 -27.326,73.82 -28.105,74.315 -0.794,0.504 -24.404,0.351 -25.086,-0.164 -0.503,-0.38 -27.803,-71.219 -28.469,-73.875 -0.156,-0.622 -0.028,-0.984 0.448,-1.26 0.842,-0.49 21.514,-0.554 22.785,-0.071 m 58.177,137.765 c -1.119,0.711 -1.205,2.545 -1.205,25.737 v 23.431 h -17.809 -17.81 l -0.612,0.934 c -1.398,2.133 -2.157,1.34 30.777,32.176 16.9,15.823 31.135,28.931 31.632,29.127 2.15,0.848 1.919,1.045 33.822,-28.777 30.937,-28.917 31.622,-29.595 31.631,-31.312 0.013,-2.185 0.335,-2.148 -18.47,-2.148 h -17.145 l -0.099,-24.211 c -0.095,-23.487 -0.119,-24.227 -0.804,-24.727 -0.778,-0.568 -53.025,-0.792 -53.908,-0.23"\n       stroke="none"\n       fill="#040404"\n       fill-rule="evenodd" />\n  </svg>\n\x3c!--Icon taken from www.uxwing.com and edited in Inkscape--\x3e\n\n')},click:function(t){K(t,"svg")}}]]};class ot{constructor(t,e,r,n,i,o){this._lodIndices=null,this._lodBusy=!1,this._afterplotRequest=null,this._isDragging3D=!1,this._lastRelayoutingEvent=null,this._indexer=r,this._target=n,this.onselect=()=>{},this.activeChanged=()=>{},this._selected=new Map,this.warnings=o;const a=(0,d.V6)(t),s=document.createElement("div");s.style.setProperty("height","100%"),a.appendChild(s),this._shadow=s.attachShadow({mode:"open"}),this._root=document.createElement("div"),this._root.style.setProperty("height","100%"),this._shadow.appendChild(this._root),""===this._root.style.position&&(this._root.style.position="relative"),this._plot=document.createElement("div"),this._plot.style.width="100%",this._plot.style.height="100%",this._root.appendChild(this._plot),this._data=new I(i,this.warnings);const l=this._getCurrentProperties();var c;this._options=new X(this._root,l,(t=>this.positionSettingsModal(t)),e,this.warnings),this._colorReset=this._options.getModalElement("map-color-reset"),Object.values(l)[0].values.length>ot.LOD_THRESHOLD&&this._options.showLODOption(!0),this._computeLOD(),this._connectSettings(),this.positionSettingsModal=t=>{const e=this._root.getBoundingClientRect();return{left:e.left+e.width/2-t.width/2,top:e.top+20}},this._createPlot(),this._shadow.adoptedStyleSheets=[k.A,A.A,f,(c=this._plot,p(c._fullLayout._modeBar._uid))]}remove(){var t;this._shadow.host.remove(),this._options.remove(),null===(t=document.getElementById("js-plotly-tester"))||void 0===t||t.remove(),void 0!==this._mouseupHandler&&window.removeEventListener("mouseup",this._mouseupHandler)}switchTarget(t){if(t!==this._target){if(this._target=t,this._lodIndices=null,this._handleMarkers(),void 0!==this._active){const t=this._selected.get(this._active);void 0!==t&&this.onselect(this._indexer.fromEnvironment(t.current,this._target))}return this._setupMapOptions(),this._computeLOD(),this._connectSettings(),this._react(this._getTraces(),this._getLayout(),this._getConfig())}return Promise.resolve()}select(t){if(void 0===this._active)throw Error("tries to update selected environment, but there is no active marker");if(void 0===t.environment){const e=this._indexer.fromStructureAtom(this._target,t.structure,t.atom);if(void 0===e){const e=void 0===t.atom?"":` / atom ${t.atom}`;throw Error(`can not find the environnement for structure ${t.structure}`+e)}t=e}const e=this._selected.get(this._active);l()(void 0!==e,"data !== undefined"),e.select(t)&&this._updateMarkers()}setActive(t){if(void 0!==this._active){const t=this._selected.get(this._active);l()(void 0!==t,"oldData !== undefined"),t.deactivate()}this._active=t;const e=this._selected.get(this._active);l()(void 0!==e,"data !== undefined"),e.activate(),this._is3D()&&this._restyle({"marker.size":this._sizes(1)},1)}addMarker(t,e,r){l()(!this._selected.has(t),"!this._selected.has(guid)");const n=new F(t,e,r.environment);this._root.appendChild(n.marker),n.marker.onclick=()=>{this.setActive(t),this.activeChanged(t,this._indexer.fromEnvironment(n.current,this._target))},this._selected.set(t,n),this._updateMarkers([n]),this.setActive(t)}removeMarker(t){this._active===t&&(1===this._selected.size?this._active=void 0:this.setActive((0,d.o)(this._selected,t)));const e=this._selected.get(t);l()(void 0!==e,"data !== undefined"),e.remove(),this._selected.delete(t),this._updateMarkers()}applySettings(t){this._options.applySettings(t)}saveSettings(){return this._options.saveSettings()}onSettingChange(t){this._options.onSettingChange(t)}exportPNG(){return t=this,e=void 0,n=function*(){const t=this._plot._fullLayout,e=Math.max(t.width,600),r={format:"png",width:e,height:e*(t.height/t.width),scale:3};try{yield h().restyle(this._plot,{visible:!1},[1]);const t=yield h().toImage(this._plot,r);return yield h().restyle(this._plot,{visible:!0},[1]),t}catch(t){throw h().restyle(this._plot,{visible:!0},[1]),t}},new((r=void 0)||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}));var t,e,r,n}_createPlot(){this._plot.innerHTML="";const t=this._getTraces(),e=this._getLayout(),r=this._getConfig();h().newPlot(this._plot,t,e,r).then((()=>{window.requestAnimationFrame((()=>{window.dispatchEvent(new Event("resize"))}))})).catch((t=>setTimeout((()=>{throw t})))),this._plot.classList.add("chsp-map"),this._plot.on("plotly_relayouting",(t=>{this._is3D()?(this._isDragging3D=!0,this._lastRelayoutingEvent=t):this._updateMarkers()})),void 0!==this._mouseupHandler&&window.removeEventListener("mouseup",this._mouseupHandler),this._mouseupHandler=()=>{if(this._isDragging3D&&(this._isDragging3D=!1,this._is3D()&&null!==this._lastRelayoutingEvent)){const t=this._plot._fullLayout.scene;if(void 0!==t){const e=this._lastRelayoutingEvent;e["scene.xaxis.range"]=t.xaxis.range,e["scene.yaxis.range"]=t.yaxis.range,e["scene.zaxis.range"]=t.zaxis.range}this._relayout(this._lastRelayoutingEvent)}},window.addEventListener("mouseup",this._mouseupHandler),this._plot.on("plotly_click",(t=>{const e=t;if(e.event&&2===e.event.detail)return;if(this._lodBusy)return;let r=e.points[0].pointNumber;if(null!==this._lodIndices&&0===e.points[0].curveNumber){if(r>=this._lodIndices.length)return;r=this._lodIndices[r]}if(this._is3D()&&"selected"===e.points[0].data.name)for(const[t,[n,i]]of(0,d.HL)(this._selected.entries()))if(e.points[0].pointNumber===t){r=i.current,this._active!==n&&(this.setActive(n),this.activeChanged(n,this._indexer.fromEnvironment(i.current,this._target)));break}const n=this._indexer.fromEnvironment(r,this._target);this.select(n),this.onselect(n)})),this._plot.on("plotly_afterplot",(()=>{this._isDragging3D=!1,this._lodBusy||(null!==this._afterplotRequest&&window.clearTimeout(this._afterplotRequest),this._afterplotRequest=window.setTimeout((()=>{this._afterplotRequest=null,this._afterplot()}),50))})),this._plot.on("plotly_relayout",(t=>{this._isDragging3D=!1,this._lastRelayoutingEvent=null,this._lodBusy||(null!==this._afterplotRequest&&window.clearTimeout(this._afterplotRequest),this._afterplotRequest=window.setTimeout((()=>{this._afterplotRequest=null,this._afterplot();const e=this._options.useLOD.value&&this._property(this._options.x.property.value).values.length>ot.LOD_THRESHOLD,r=Object.keys(t).some((t=>t.match(/^(xaxis|yaxis)\.range/)||t.match(/^scene\.(camera|aspectratio)/)||t.includes("autorange")));e&&r&&this._updateLOD(this._getBounds())}),50))})),this._plot.on("plotly_doubleclick",(()=>(this._resetToGlobalView(),!1))),this._updateMarkers();const n=this._getBounds();this._setScaleStep(n.x,"x"),this._setScaleStep(n.y,"y"),void 0!==n.z&&this._setScaleStep(n.z,"z"),this._plot.addEventListener("wheel",(()=>{})),setTimeout((()=>{if(void 0!==this._active){this.setActive(this._active);const t=this._selected.get(this._active);void 0!==t&&this.activeChanged(this._active,this._indexer.fromEnvironment(t.current,this._target))}}),1e3)}_connectSettings(){this._options.getModalElement("map-range-reset").onclick=()=>{this._resetToGlobalView()},this._connectAxisSettings(),this._connectColorSettings(),this._connectSymbolSettings(),this._connectSizeSettings(),this._options.markerOutline.onchange.push((()=>{const t=this._options.markerOutline.value?.5:0;this._restyle({"marker.line.width":t},0)})),this._options.joinPoints.onchange.push((()=>{const t=this._options.joinPoints.value?"lines+markers":"markers";this._restyle({mode:t},[0])})),this._options.useLOD.onchange.push((()=>{const t=this._getBounds();this._computeLOD(t),this._restyleFull()})),this._options.camera.onchange.push(((t,e)=>{if("JS"===e&&void 0!==t&&this._is3D()){const e=C(t);this._relayout({"scene.camera":e.camera,"scene.aspectratio":e.aspectratio})}}))}_connectAxisSettings(){const t=t=>{""!==t.property.value&&"log"===t.scale.value&&(0,d.GI)(this._coordinates(t,0)[0]).min<0&&t.min.value<=0&&this.warnings.sendMessage("This property contains negative values. Note that taking the log will discard them.")};this._options.x.property.onchange.push((()=>{t(this._options.x),this._handleAxisPropertyChange("x")})),this._options.x.scale.onchange.push((()=>{t(this._options.x),this._options.setLogLabel(this._options.x,"x"),this._is3D()?this._relayout({"scene.xaxis.type":this._options.x.scale.value}):this._relayout({"xaxis.type":this._options.x.scale.value})}));const e=(e,r,n)=>(i,o)=>{if("JS"===o)return;const a=r.min.value,s=r.max.value;if(a>s)return this.warnings.sendMessage(`The inserted min and max values in ${e} are such that min > max! The last inserted value was reset.`),void("min"===n?r.min.reset():r.max.reset());t(r),this._is3D()?this._relayout({[`scene.${e}.range`]:[a,s],[`scene.${e}.autorange`]:!1}):this._relayout({[`${e}.range`]:[a,s]})};this._options.x.min.onchange.push(e("xaxis",this._options.x,"min")),this._options.x.max.onchange.push(e("xaxis",this._options.x,"max")),this._options.y.property.onchange.push((()=>{t(this._options.y),this._handleAxisPropertyChange("y")})),this._options.y.scale.onchange.push((()=>{t(this._options.y),this._options.setLogLabel(this._options.y,"y"),this._is3D()?this._relayout({"scene.yaxis.type":this._options.y.scale.value}):this._relayout({"yaxis.type":this._options.y.scale.value})})),this._options.y.min.onchange.push(e("yaxis",this._options.y,"min")),this._options.y.max.onchange.push(e("yaxis",this._options.y,"max")),""===this._options.z.property.value?this._options.z.disable():this._options.z.enable(),this._options.z.property.onchange.push((()=>{this._options.z.min.value=NaN,this._options.z.max.value=NaN,t(this._options.z);const e="scatter3d"===this._plot._fullData[0].type;""!==this._options.z.property.value?(e||this._switch3D(),this._computeLOD(),h().relayout(this._plot,{"scene.zaxis.title.text":this._title(this._options.z.property.value),"scene.zaxis.autorange":!0}).then((()=>{const t=this._plot._fullLayout.scene.zaxis.range;this._options.z.min.value=t[0],this._options.z.max.value=t[1],this._is3D()&&this._setScaleStep(this._getBounds().z,"z"),this._updateLOD(this._getBounds())})).catch((t=>{setTimeout((()=>{throw t}))}))):e&&(this._switch2D(),this._updateLOD(this._getBounds()))})),this._options.z.scale.onchange.push((()=>{t(this._options.z),this._options.setLogLabel(this._options.z,"z"),""!==this._options.z.property.value&&this._relayout({"scene.zaxis.type":this._options.z.scale.value})})),this._options.z.min.onchange.push(e("zaxis",this._options.z,"min")),this._options.z.max.onchange.push(e("zaxis",this._options.z,"max"))}_connectColorSettings(){if(this._options.hasColors()){const t=(t,e)=>{const[r,n]=et(t,e,"map.color",this.warnings),i=void 0!==r,o=void 0!==n,a=()=>(0,d.GI)(this._getNumericColors());if(i||o){const{min:r,max:n}=a();return{min:i?t:r,max:o?e:n}}return a()},{min:e,max:r}=t(this._options.color.min.value,this._options.color.max.value);this._options.color.min.value=e,this._options.color.max.value=r,this._setScaleStep([e,r],"color")}else this._options.color.min.value=0,this._options.color.max.value=0;this._options.color.property.onchange.push((()=>{if(this._options.hasColors()){this._options.color.mode.enable(),this._options.color.min.enable(),this._options.color.max.enable(),this._colorReset.disabled=!1;const t=this._getNumericColors();if(e(t,"property")){const{min:e,max:r}=(0,d.GI)(t);this._options.color.min.value=Number.NEGATIVE_INFINITY,this._options.color.max.value=r,this._options.color.min.value=e,this._setScaleStep([e,r],"color"),this._relayout({"coloraxis.colorbar.title.text":(0,d.jY)(this._title(this._options.color.property.value),this._options.color.mode.value,!0),"coloraxis.showscale":!0})}}else this._options.color.mode.disable(),this._options.color.min.disable(),this._options.color.max.disable(),this._colorReset.disabled=!0,this._options.color.min.value=0,this._options.color.max.value=0,this._relayout({"coloraxis.colorbar.title.text":void 0,"coloraxis.showscale":!1});this._restyleFull()}));const t=t=>{const e=this._options.color.min.value,r=this._options.color.max.value;if(e>r)return this.warnings.sendMessage("The inserted min and max values in color are such that min > max! The last inserted value was reset."),void("min"===t?this._options.color.min.reset():this._options.color.max.reset());this._relayout({"coloraxis.cmax":r,"coloraxis.cmin":e,"coloraxis.colorscale":this._options.colorScale()})},e=(t,e)=>{const r=this._options.color.mode.value;let n="";"log"===r||"sqrt"===r?n="<= 0":"inverse"===r&&(n="== 0");const i=t.every((t=>isNaN(t))),o=t.some((t=>isNaN(t)));return i?(this.warnings.sendMessage(`The selected property contains only values ${n}. To display this property, select an appropriate color scale. The ${e} will be set to its last value.`),"property"===e?this._options.color.property.reset():this._options.color.mode.reset(),!1):!o||(this.warnings.sendMessage(`The selected property contains some values ${n}. These values will be colored in grey.`),!0)};this._options.color.mode.onchange.push((()=>{const t=this._getNumericColors();if(e(t,"color scale")){const{min:e,max:r}=(0,d.GI)(t);this._options.color.min.value=Number.NEGATIVE_INFINITY,this._options.color.max.value=r,this._options.color.min.value=e,this._setScaleStep([e,r],"color"),this._relayout({"coloraxis.colorbar.title.text":(0,d.jY)(this._title(this._options.color.property.value),this._options.color.mode.value,!0),"coloraxis.showscale":!0}),this._restyleFull()}})),this._options.color.min.onchange.push((()=>{t("min")})),this._options.color.max.onchange.push((()=>{t("max")})),this._colorReset.onclick=()=>{const t=this._getNumericColors(),{min:e,max:r}=(0,d.GI)(t);this._options.color.min.value=e,this._options.color.max.value=r,this._relayout({"coloraxis.cmax":r,"coloraxis.cmin":e,"coloraxis.colorscale":this._options.colorScale()})},this._options.color.property.enable(),this._options.hasColors()?(this._options.color.mode.enable(),this._options.color.min.enable(),this._options.color.max.enable(),this._options.color.opacity.enable(),this._colorReset.disabled=!1):(this._options.color.min.disable(),this._options.color.max.disable(),this._colorReset.disabled=!0),this._options.color.palette.onchange.push((()=>{this._relayout({"coloraxis.colorscale":this._options.colorScale()}),this._restyleFull()})),this._options.color.opacity.onchange.push((()=>{this._restyle({"marker.opacity":this._options.color.opacity.value/100})}));const r=()=>{this._restyleFull()};this._options.color.select.mode.onchange.push(r),this._options.color.select.category.onchange.push(r),this._options.color.select.min.onchange.push(r),this._options.color.select.max.onchange.push(r)}_connectSymbolSettings(){this._options.symbol.onchange.push((()=>{this._restyle({"marker.symbol":this._symbols()},[0,1]),this._restyle({name:this._legendNames(),showlegend:this._showlegend()}),this._relayout({"coloraxis.colorbar.len":this._colorbarLen()})}))}_connectSizeSettings(){""===this._options.size.property.value?this._options.size.mode.disable():this._options.size.mode.enable(),this._options.size.property.onchange.push((()=>{""!==this._options.size.property.value?this._options.size.mode.enable():this._options.size.mode.disable(),this._restyle({"marker.size":this._sizes(0)},0)})),this._options.size.factor.onchange.push((()=>{this._restyle({"marker.size":this._sizes(0)},0)})),this._options.size.mode.onchange.push((()=>{this._restyle({"marker.size":this._sizes(0)},0)}))}_setupMapOptions(){const t=t=>{t&&Object.keys(t).length>1&&(this._options.remove(),this._options=new X(this._root,this._getCurrentProperties(),(t=>this.positionSettingsModal(t)),{},this.warnings),this._colorReset=this._options.getModalElement("map-color-reset"),Object.values(t)[0].values.length>ot.LOD_THRESHOLD&&this._options.showLODOption(!0))};"atom"!==this._target?t(this._data.structure):t(this._data.atom)}_react(t,e,r){return h().react(this._plot,t,e,r).then((()=>{})).catch((t=>{setTimeout((()=>{throw t}))}))}_restyle(t,e){h().restyle(this._plot,t,e).catch((t=>setTimeout((()=>{throw t}))))}_restyleFull(t){const e={x:this._coordinates(this._options.x),y:this._coordinates(this._options.y),z:this._coordinates(this._options.z),"marker.color":this._colors(),"marker.size":this._sizes(),"marker.symbol":this._symbols(),"marker.line.color":this._lineColors(),hovertemplate:this._options.hovertemplate(),customdata:this._colorValues(),"marker.opacity":this._options.color.opacity.value/100,visible:this._selectTrace(!0,!0,this._options.hasColors())},r=t||{};if(t||this._is3D()){if(this._is3D()&&!("scene.camera"in r)){const t=this._plot._fullLayout;void 0!==t.scene&&(r["scene.camera"]=t.scene.camera)}h().update(this._plot,e,r,[0,1,2])}else h().restyle(this._plot,e,[0,1,2])}_relayout(t){h().relayout(this._plot,t).catch((t=>setTimeout((()=>{throw t}))))}_getTraces(){const t=this._is3D()?"scatter3d":"scattergl",e={name:"",type:t,x:this._coordinates(this._options.x,0)[0],y:this._coordinates(this._options.y,0)[0],z:this._coordinates(this._options.z,0)[0],hovertemplate:this._options.hovertemplate(),customdata:this._colorValues(0)[0],marker:{color:this._colors(0)[0],coloraxis:"coloraxis",showscale:!1,line:{color:this._lineColors(0)[0],width:this._options.markerOutline.value?.5:0},opacity:this._options.color.opacity.value/100,size:this._sizes(0)[0],sizemode:"area",symbol:this._symbols(0)[0]},line:{color:"black",width:.5,dash:"solid"},mode:this._options.joinPoints.value?"lines+markers":"markers",showlegend:!1},r={name:"selected",type:t,x:[],y:[],z:[],hoverinfo:"none",marker:{color:[],line:{color:[],width:2},opacity:1,size:[],sizemode:"area"},mode:"markers",showlegend:!1},n=this._getColorRange(),i=[e,r,{name:"colorbar-dummy",type:t,x:this._coordinates(this._options.x,2)[0],y:this._coordinates(this._options.y,2)[0],z:this._coordinates(this._options.z,2)[0],marker:{color:[n.min,n.max],coloraxis:"coloraxis",showscale:!0,opacity:0,size:0},visible:this._options.hasColors(),showlegend:!1,hoverinfo:"none"}],o=this._legendNames().slice(3),a=this._showlegend().slice(3);l()(o.length===a.length,"legendNames.length === showlegend.length");const s=o.length;this._data.maxSymbols>0&&(o.length=this._data.maxSymbols,o.fill("",s),a.length=this._data.maxSymbols,a.fill(!1,s));for(let e=0;e<this._data.maxSymbols;e++){const r={name:o[e],type:t,x:[NaN],y:[NaN],z:[NaN],marker:{color:"black",size:10,symbol:this._is3D()?Y(e):e},mode:"markers",showlegend:a[e]};i.push(r)}return i}_getLayout(){const t=JSON.parse(JSON.stringify(nt));if(t.xaxis.title.text=this._title(this._options.x.property.value),t.yaxis.title.text=this._title(this._options.y.property.value),t.xaxis.type=this._options.x.scale.value,t.yaxis.type=this._options.y.scale.value,t.scene.xaxis.title.text=this._title(this._options.x.property.value),t.scene.yaxis.title.text=this._title(this._options.y.property.value),t.scene.zaxis.title.text=this._title(this._options.z.property.value),t.scene.xaxis.type=this._options.x.scale.value,t.scene.yaxis.type=this._options.y.scale.value,t.scene.zaxis.type=this._options.z.scale.value,t.coloraxis.colorscale=this._options.colorScale(),t.coloraxis.cmin=this._options.color.min.value,t.coloraxis.cmax=this._options.color.max.value,t.coloraxis.colorbar.title.text=(0,d.jY)(this._title(this._options.color.property.value),this._options.color.mode.value,!0),t.coloraxis.colorbar.len=this._colorbarLen(),t.coloraxis.showscale=this._options.hasColors(),t.xaxis.range=et(this._options.x.min.value,this._options.x.max.value,"map.x",this.warnings),t.yaxis.range=et(this._options.y.min.value,this._options.y.max.value,"map.y",this.warnings),t.zaxis.range=et(this._options.z.min.value,this._options.z.max.value,"map.z",this.warnings),this._is3D()&&(t.scene.xaxis.range=et(this._options.x.min.value,this._options.x.max.value,"map.x",this.warnings),t.scene.xaxis.autorange=rt(this._options.x.min.value,this._options.x.max.value),t.scene.yaxis.range=et(this._options.y.min.value,this._options.y.max.value,"map.y",this.warnings),t.scene.yaxis.autorange=rt(this._options.y.min.value,this._options.y.max.value),t.scene.zaxis.range=et(this._options.z.min.value,this._options.z.max.value,"map.z",this.warnings),t.scene.zaxis.autorange=rt(this._options.z.min.value,this._options.z.max.value),t.dragmode="orbit",this._options.camera.value)){const e=C(this._options.camera.value),r=t.scene;Object.assign(r.camera,e.camera),Object.assign(r,{aspectratio:e.aspectratio})}return t}_getConfig(){const t=Object.assign({},it);return t.modeBarButtonsToRemove=[...it.modeBarButtonsToRemove],t.modeBarButtonsToAdd=[...it.modeBarButtonsToAdd],this._is3D()&&(t.modeBarButtonsToRemove.push("resetCameraDefault3d"),t.modeBarButtonsToAdd=[[{name:"Reset View",icon:h().Icons.home,click:()=>{this._resetToGlobalView()}}],...t.modeBarButtonsToAdd]),t}_coordinates(t,e){if(""===t.property.value)return this._selectTrace(void 0,void 0,void 0,e);const r=this._property(t.property.value).values;let n=r;if(this._options.color.select.mode.value.endsWith("hide")){const t=this._getSelectionMask();n=r.map(((e,r)=>t[r]?e:NaN))}0!==e&&void 0!==e||(n=this._applyLOD(n));const i=[];for(const t of this._selected.values())this._is3D()?i.push(r[t.current]):i.push(NaN);const o=r[0]||0,a=[o,o];return this._selectTrace(n,i,a,e)}_colors(t){let e;e=this._options.hasColors()?this._property(this._options.color.property.value).values:new Array(this._property(this._options.x.property.value).values.length).fill(.5);const r=this._getSelectionMask(),n=this._options.calculateColors(e);let i=n;if(r.some((t=>!t)))if(n.length>0&&"number"==typeof n[0]){const t=n,e=this._getColorRange(),o=e.min,a=e.max;i=t.map(((t,e)=>r[e]?this._options.valueToColor(t,o,a):"#d3d3d3"))}else i=n.map(((t,e)=>r[e]?t:"#d3d3d3"));const o=0===t||void 0===t?this._applyLOD(i):i,a=[];for(const t of this._selected.values())a.push(t.color);let s=[.5,.5];if(this._options.hasColors()){const t=this._getColorRange();s=[t.min,t.max]}return this._selectTrace(o,a,s,t)}_colorValues(t){if(this._options.hasColors()){const e=this._property(this._options.color.property.value);if(e.string){const r=e.string,n=e.values.map((t=>r.string(t))),i=0===t||void 0===t?this._applyLOD(n):n,o=[];for(const t of this._selected.values()){const n=e.values[t.current];o.push(r.string(n))}const a=n[0]||"",s=[a,a];return this._selectTrace(i,o,s,t)}{const r=e.values,n=this._options.calculateColors(r),i=0===t||void 0===t?this._applyLOD(n):n,o=[];for(const t of this._selected.values())o.push(n[t.current]);const a=this._getColorRange(),s=[a.min,a.max];return this._selectTrace(i,o,s,t)}}const e=new Array(this._property(this._options.x.property.value).values.length).fill(NaN),r=0===t||void 0===t?this._applyLOD(e):e;return this._selectTrace(r,[],[NaN,NaN],t)}_sizes(t){let e;e=""!==this._options.size.property.value?this._property(this._options.size.property.value).values:new Array(this._property(this._options.x.property.value).values.length).fill(1);let r=this._options.calculateSizes(e);const n=this._getSelectionMask();n.some((t=>!t))&&(r=r.map(((t,e)=>n[e]?t:.25*t)));const i=0===t||void 0===t?this._applyLOD(r):r,o=[];if(this._is3D())for(const t of this._selected.keys())t===this._active?o.push(1e3):o.push(500);return this._selectTrace(i,o,[0,0],t)}_lineColors(t){const e=this._property(this._options.x.property.value).values.length;let r=new Array(e).fill("black");const n=this._getSelectionMask();n.some((t=>!t))&&(r=r.map(((t,e)=>n[e]?t:"rgba(0,0,0,0)")));const i=0===t||void 0===t?this._applyLOD(r):r,o=new Array(this._selected.size).fill("black");return this._selectTrace(i,o,["rgba(0,0,0,0)","rgba(0,0,0,0)"],t)}_symbols(t){if(""===this._options.symbol.value)return this._selectTrace("circle","circle","circle",t);const e=this._property(this._options.symbol.value),r=this._options.getSymbols(e),n=0===t||void 0===t?this._applyLOD(r):r,i=[];for(const t of this._selected.values())i.push(r[t.current]);const o=r[0]||"circle",a=[o,o];return this._selectTrace(n,i,a,t)}_selectTrace(t,e,r,n){if(0===n)return[t];if(1===n)return[e];if(2===n)return[r];if(void 0===n)return[t,e,r];throw Error("internal error: invalid trace number")}_getNumericColors(){const t=this._property(this._options.color.property.value).values;return this._options.calculateColors(t).filter((t=>"number"==typeof t))}_getColorRange(){let t=this._options.color.min.value,e=this._options.color.max.value;if(isNaN(t)||isNaN(e)){const r=this._getNumericColors(),{min:n,max:i}=(0,d.GI)(r);isNaN(t)&&(t=n),isNaN(e)&&(e=i)}return{min:t,max:e}}_getSelectionMask(){const t=this._property(this._options.x.property.value).values.length;if("all"===this._options.color.select.mode.value)return new Array(t).fill(!0);let e,r;e=this._options.hasColors()?this._property(this._options.color.property.value).values:new Array(t).fill(.5);const n=this._options.getCategorySelectionProperty();if(n){const t=this._property(n);if(t.string){const e=t.string;r=t.values.map((t=>e.string(t)))}}return this._options.getFilterMask(e,r)}_colorbarLen(){return 1-.045*this._symbolsCount()-.025}_showlegend(){const t=[!1,!1,!1];if(""!==this._options.symbol.value){for(let e=0;e<this._symbolsCount();e++)t.push(!0);return t}for(let e=0;e<this._data.maxSymbols;e++)t.push(!1);return t}_legendNames(){const t=["","",""];if(""!==this._options.symbol.value){const e=this._property(this._options.symbol.value);l()(void 0!==e.string,"property.string !== undefined");for(const r of e.string.strings())t.push(r);return t}for(let e=0;e<this._data.maxSymbols;e++)t.push("");return t}_symbolsCount(){if(""!==this._options.symbol.value){const t=this._property(this._options.symbol.value);return l()(void 0!==t.string,"property.string !== undefined"),t.string.strings().length}return 0}_title(t){let e=t;if(""!==t){const r=this._property(t).units;void 0!==r&&(e=t+` / ${r}`)}return e}_handleAxisPropertyChange(t){const e=this._options[t];e.min.value=NaN,e.max.value=NaN,this._computeLOD(),this._restyleFull(),this._relayout({[`scene.${t}axis.title.text`]:this._title(e.property.value),[`${t}axis.title.text`]:this._title(e.property.value)}),this._is3D()?this._relayout({[`scene.${t}axis.autorange`]:!0}):this._relayout({[`${t}axis.autorange`]:!0});const r=this._getBounds();this._setScaleStep(r[t],t)}_updateAxisSettings(t){this._options.x.min.value=t.x[0],this._options.x.max.value=t.x[1],this._options.y.min.value=t.y[0],this._options.y.max.value=t.y[1],void 0!==t.z&&(this._options.z.min.value=t.z[0],this._options.z.max.value=t.z[1])}_setScaleStep(t,e){if(void 0!==t){const r=Math.round((t[1]-t[0])/20*Math.pow(10,10))/Math.pow(10,10),n=this._options.getModalElement(`map-${e}-min`),i=this._options.getModalElement(`map-${e}-max`);n.step=`${r}`,i.step=`${r}`}}_getBounds(){if(this._is3D()){const t=this._plot._fullLayout.scene;return{x:t.xaxis.range,y:t.yaxis.range,z:t.zaxis.range}}{const t=this._plot._fullLayout;return{x:t.xaxis.range,y:t.yaxis.range}}}_pixelCoordinate(t,e){let r;switch(l()(!this._is3D(),"!this._is3D()"),e){case"x":r=this._plot._fullLayout.xaxis;break;case"y":r=this._plot._fullLayout.yaxis}return r.l2p(t)+r._offset}_afterplot(){if(this._lodBusy)return;if(this._is3D()){const{camera:e,aspectratio:r}=this._plot._fullLayout.scene;this._options.camera.setValue({eye:(t={camera:e,aspectratio:r}).camera.eye,center:t.camera.center,up:t.camera.up,zoom:(t.aspectratio.x+t.aspectratio.y+t.aspectratio.z)/3},"DOM")}var t;const e=this._getBounds();this._updateAxisSettings(e),this._is3D()||this._updateMarkers()}_resetToGlobalView(){if(this._lodBusy)return;this._lodBusy=!0,this._options.x.min.value=NaN,this._options.x.max.value=NaN,this._options.y.min.value=NaN,this._options.y.max.value=NaN,this._options.z.min.value=NaN,this._options.z.max.value=NaN,this._computeLOD();const t={};this._is3D()?(t["scene.xaxis.autorange"]=!0,t["scene.yaxis.autorange"]=!0,t["scene.zaxis.autorange"]=!0,t["scene.aspectratio"]={x:1,y:1,z:1},t["scene.camera"]={center:{x:0,y:0,z:0},eye:{x:1.25,y:1.25,z:1.25},projection:{type:"orthographic"},up:{x:0,y:0,z:1}}):(t["xaxis.autorange"]=!0,t["yaxis.autorange"]=!0),this._restyleFull(t),this._is3D()||this._updateMarkers(),this._lodBusy=!1,this._afterplot()}_switch3D(){l()(this._is3D(),"this._is3D()"),this._options.z.enable();for(const t of this._selected.values())t.toggleVisible(!1);this._updateMarkers(),this._react(this._getTraces(),this._getLayout(),this._getConfig())}_switch2D(){l()(!this._is3D(),"!this._is3D()"),this._options.z.disable();for(const t of this._selected.values())t.toggleVisible(!0);this._react(this._getTraces(),this._getLayout(),this._getConfig())}_handleMarkers(){var t;for(const[e,r]of this._selected.entries()){if("structure"===this._target)r.current=this._indexer.fromEnvironment(r.current,"atom").structure;else{const e=null===(t=this._indexer.fromStructure(r.current,"atom"))||void 0===t?void 0:t.environment;l()(void 0!==e,"environment !== undefined"),r.current=e}this._selected.set(e,r)}}_updateMarkers(t){if(void 0===t&&(t=Array.from(this._selected.values())),this._is3D())t.forEach((t=>t.toggleVisible(!1))),this._restyle({"marker.color":this._colors(1),"marker.opacity":this._options.color.opacity.value/100,"marker.size":this._sizes(1),"marker.symbol":this._symbols(1),"marker.line.color":this._lineColors(1),x:this._coordinates(this._options.x,1),y:this._coordinates(this._options.y,1),z:this._coordinates(this._options.z,1)},1);else{const e=this._property(this._options.x.property.value).values,r=this._property(this._options.y.property.value).values,n=this._plot.getBoundingClientRect().width;for(const i of t){let t=e[i.current],o=r[i.current];"log"===this._options.x.scale.value&&(t=Math.log10(t)),"log"===this._options.y.scale.value&&(o=Math.log10(o)),t=n-this._pixelCoordinate(t,"x"),o=this._pixelCoordinate(o,"y");const a=this._getBounds(),s=n-this._pixelCoordinate(a.x[1],"x"),l=n-this._pixelCoordinate(a.x[0],"x"),c=this._pixelCoordinate(a.y[1],"y"),d=this._pixelCoordinate(a.y[0],"y"),u=(t,e,r)=>t+10>e&&t-10<r;u(t,s,l)&&u(o,c,d)?(i.toggleVisible(!0),i.update({x:t,y:o})):i.toggleVisible(!1)}}}_computeLOD(t){if(!this._options.useLOD.value)return void(this._lodIndices=null);const e=this._options.x.property.value,r=this._options.y.property.value,n=this._options.z.property.value,i=this._property(e).values;if(i.length<=ot.LOD_THRESHOLD)return void(this._lodIndices=null);const o=this._property(r).values,a=this._is3D()&&""!==n,s=a?this._property(n).values:null,c=new Set,u=J(i,o,s,void 0,ot.LOD_THRESHOLD/10);for(const t of u)c.add(t);const h=a&&s&&this._options.camera.value&&t?function(t,e,r,n,i,o=5e4,a=1){if(void 0===i){const n=(0,d.GI)(t),o=(0,d.GI)(e),a=(0,d.GI)(r);i={x:[n.min,n.max],y:[o.min,o.max],z:[a.min,a.max]}}const s=function(t,e,r,n,i){l()(void 0!==i.z,"bounds.z !== undefined");const o=function(t){const{eye:e,center:r,up:n}=t;let i=r.x-e.x,o=r.y-e.y,a=r.z-e.z,s=Math.sqrt(i*i+o*o+a*a);s>0&&(i/=s,o/=s,a/=s);let l=n.y*a-n.z*o,c=n.z*i-n.x*a,d=n.x*o-n.y*i;s=Math.sqrt(l*l+c*c+d*d),s>0&&(l/=s,c/=s,d/=s);const u=o*d-a*c,h=a*l-i*d,f=i*c-o*l;return[l,u,i,0,c,h,o,0,d,f,a,0,-(l*e.x+c*e.y+d*e.z),-(u*e.x+h*e.y+f*e.z),-(i*e.x+o*e.y+a*e.z),1]}(n),a=n.zoom,s=(i.x[0]+i.x[1])/2,c=(i.y[0]+i.y[1])/2,d=(i.z[0]+i.z[1])/2,u=(i.x[1]-i.x[0])/2/a,h=(i.y[1]-i.y[0])/2/a,f=(i.z[1]-i.z[0])/2/a,p=[],m=[];for(let i=0;i<t.length;i++){const a=(t[i]-s)/u-n.center.x,l=(e[i]-c)/h-n.center.y,g=(r[i]-d)/f-n.center.z,b=o[0]*a+o[4]*l+o[8]*g+o[12],v=o[1]*a+o[5]*l+o[9]*g+o[13];p.push(b),m.push(v)}return{x:p,y:m}}(t,e,r,n,i),c=2.2*Math.max(1,a),u=2.2*Math.max(1,1/a),h=[];for(let e=0;e<t.length;e++)Math.abs(s.x[e])<=c&&Math.abs(s.y[e])<=u&&h.push(e);if(h.length<=o)return h;const f=Math.ceil(Math.sqrt(o)),p=Math.ceil(f*Math.sqrt(a)),m=Math.ceil(f/Math.sqrt(a)),g=new Int32Array(p*m).fill(-1),b=p/(2*c),v=m/(2*u),y=[];for(const t of h){const e=Math.floor((s.x[t]+c)*b),r=Math.floor((s.y[t]+u)*v);if(e<0||e>=p||r<0||r>=m)continue;const n=e+r*p;-1===g[n]&&(g[n]=t,y.push(t))}return y.sort(((t,e)=>t-e)),y}(i,o,s,this._options.camera.value,t,ot.LOD_THRESHOLD/2,this._plot.clientWidth/this._plot.clientHeight||1):J(i,o,s,t,ot.LOD_THRESHOLD);for(const t of h)c.add(t);this._lodIndices=Array.from(c).sort(((t,e)=>t-e))}_updateLOD(t){this._lodBusy||(this._lodBusy=!0,this._computeLOD(t),this._restyleFull(),this._lodBusy=!1)}_applyLOD(t){if(null===this._lodIndices)return t;const e=new Array(this._lodIndices.length);for(let r=0;r<this._lodIndices.length;r++)e[r]=t[this._lodIndices[r]];return e}_property(t){const e=this._data[this._target][t];if(void 0===e)throw Error(`unknown property '${t}' requested in map`);return e}_getCurrentProperties(){const t=this._data[this._target],e=Object.keys(t);if(e.length<2){if("structure"===this._target&&Object.keys(this._data.atom).length>=2)throw Error('could not find enough structure properties to display, \n                        but there are atom properties. You could choose "atom" as \n                        target to display them.');let t="we need at least two properties to plot in the map";throw 0===e.length?t+=", we have none":t+=`, we have only one: '${e[0]}'`,Error(t)}return t}_is3D(){return this._options.is3D()}}ot.LOD_THRESHOLD=5e4;const at={};function st(t,e){"string"!=typeof e&&(e=st.defaultChars);const r=function(t){let e=at[t];if(e)return e;e=at[t]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);e.push(r)}for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);e[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let n=0,i=t.length;n<i;n+=3){const o=parseInt(t.slice(n+1,n+3),16);if(o<128)e+=r[o];else{if(192==(224&o)&&n+3<i){const r=parseInt(t.slice(n+4,n+6),16);if(128==(192&r)){const t=o<<6&1984|63&r;e+=t<128?"":String.fromCharCode(t),n+=3;continue}}if(224==(240&o)&&n+6<i){const r=parseInt(t.slice(n+4,n+6),16),i=parseInt(t.slice(n+7,n+9),16);if(128==(192&r)&&128==(192&i)){const t=o<<12&61440|r<<6&4032|63&i;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),n+=6;continue}}if(240==(248&o)&&n+9<i){const r=parseInt(t.slice(n+4,n+6),16),i=parseInt(t.slice(n+7,n+9),16),a=parseInt(t.slice(n+10,n+12),16);if(128==(192&r)&&128==(192&i)&&128==(192&a)){let t=o<<18&1835008|r<<12&258048|i<<6&4032|63&a;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),n+=9;continue}}e+=""}}return e}))}st.defaultChars=";/?:@&=+$,#",st.componentChars="";const lt=st,ct={};function dt(t,e,r){"string"!=typeof e&&(r=e,e=dt.defaultChars),void 0===r&&(r=!0);const n=function(t){let e=ct[t];if(e)return e;e=ct[t]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<t.length;r++)e[t.charCodeAt(r)]=t[r];return e}(e);let i="";for(let e=0,o=t.length;e<o;e++){const a=t.charCodeAt(e);if(r&&37===a&&e+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(e+1,e+3)))i+=t.slice(e,e+3),e+=2;else if(a<128)i+=n[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&e+1<o){const r=t.charCodeAt(e+1);if(r>=56320&&r<=57343){i+=encodeURIComponent(t[e]+t[e+1]),e++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(t[e])}return i}dt.defaultChars=";/?:@&=+$,-_.!~*'()#",dt.componentChars="-_.!~*'()";const ut=dt;function ht(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function ft(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const pt=/^([a-z0-9.+-]+:)/i,mt=/:[0-9]*$/,gt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,bt=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),vt=["'"].concat(bt),yt=["%","/","?",";","#"].concat(vt),xt=["/","?","#"],wt=/^[+a-z0-9A-Z_-]{0,63}$/,_t=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kt={javascript:!0,"javascript:":!0},At={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};ft.prototype.parse=function(t,e){let r,n,i,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=gt.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let a=pt.exec(o);if(a&&(a=a[0],r=a.toLowerCase(),this.protocol=a,o=o.substr(a.length)),(e||a||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||a&&kt[a]||(o=o.substr(2),this.slashes=!0)),!kt[a]&&(i||a&&!At[a])){let t,e,r=-1;for(let t=0;t<xt.length;t++)n=o.indexOf(xt[t]),-1!==n&&(-1===r||n<r)&&(r=n);e=-1===r?o.lastIndexOf("@"):o.lastIndexOf("@",r),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),r=-1;for(let t=0;t<yt.length;t++)n=o.indexOf(yt[t]),-1!==n&&(-1===r||n<r)&&(r=n);-1===r&&(r=o.length),":"===o[r-1]&&r--;const i=o.slice(0,r);o=o.slice(r),this.parseHost(i),this.hostname=this.hostname||"";const a="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!a){const t=this.hostname.split(/\./);for(let e=0,r=t.length;e<r;e++){const r=t[e];if(r&&!r.match(wt)){let n="";for(let t=0,e=r.length;t<e;t++)r.charCodeAt(t)>127?n+="x":n+=r[t];if(!n.match(wt)){const n=t.slice(0,e),i=t.slice(e+1),a=r.match(_t);a&&(n.push(a[1]),i.unshift(a[2])),i.length&&(o=i.join(".")+o),this.hostname=n.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),a&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=o.indexOf("#");-1!==s&&(this.hash=o.substr(s),o=o.slice(0,s));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),At[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this},ft.prototype.parseHost=function(t){let e=mt.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Tt=function(t,e){if(t&&t instanceof ft)return t;const r=new ft;return r.parse(t,e),r},Mt=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,St=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Et=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ct=/[\0-\x1F\x7F-\x9F]/,zt=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Lt=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Ot=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((t=>t.charCodeAt(0)))),Dt=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((t=>t.charCodeAt(0))));var It;const Ft=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Rt=null!==(It=String.fromCodePoint)&&void 0!==It?It:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var Pt,jt,Nt,Bt,Ut;function Vt(t){return t>=Pt.ZERO&&t<=Pt.NINE}!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(Pt||(Pt={})),function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(jt||(jt={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(Nt||(Nt={})),(Ut=Bt||(Bt={}))[Ut.Legacy=0]="Legacy",Ut[Ut.Strict=1]="Strict",Ut[Ut.Attribute=2]="Attribute";class Gt{constructor(t,e,r){this.decodeTree=t,this.emitCodePoint=e,this.errors=r,this.state=Nt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Bt.Strict}startEntity(t){this.decodeMode=t,this.state=Nt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case Nt.EntityStart:return t.charCodeAt(e)===Pt.NUM?(this.state=Nt.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=Nt.NamedEntity,this.stateNamedEntity(t,e));case Nt.NumericStart:return this.stateNumericStart(t,e);case Nt.NumericDecimal:return this.stateNumericDecimal(t,e);case Nt.NumericHex:return this.stateNumericHex(t,e);case Nt.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===Pt.LOWER_X?(this.state=Nt.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=Nt.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,r,n){if(e!==r){const i=r-e;this.result=this.result*Math.pow(n,i)+parseInt(t.substr(e,i),n),this.consumed+=i}}stateNumericHex(t,e){const r=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!(Vt(i)||(n=i,n>=Pt.UPPER_A&&n<=Pt.UPPER_F||n>=Pt.LOWER_A&&n<=Pt.LOWER_F)))return this.addToNumericResult(t,r,e,16),this.emitNumericEntity(i,3);e+=1}var n;return this.addToNumericResult(t,r,e,16),-1}stateNumericDecimal(t,e){const r=e;for(;e<t.length;){const n=t.charCodeAt(e);if(!Vt(n))return this.addToNumericResult(t,r,e,10),this.emitNumericEntity(n,2);e+=1}return this.addToNumericResult(t,r,e,10),-1}emitNumericEntity(t,e){var r;if(this.consumed<=e)return null===(r=this.errors)||void 0===r||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Pt.SEMI)this.consumed+=1;else if(this.decodeMode===Bt.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=Ft.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==Pt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:r}=this;let n=r[this.treeIndex],i=(n&jt.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const a=t.charCodeAt(e);if(this.treeIndex=Wt(r,n,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return 0===this.result||this.decodeMode===Bt.Attribute&&(0===i||((o=a)===Pt.EQUALS||function(t){return t>=Pt.UPPER_A&&t<=Pt.UPPER_Z||t>=Pt.LOWER_A&&t<=Pt.LOWER_Z||Vt(t)}(o)))?0:this.emitNotTerminatedNamedEntity();if(n=r[this.treeIndex],i=(n&jt.VALUE_LENGTH)>>14,0!==i){if(a===Pt.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Bt.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var o;return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:r}=this,n=(r[e]&jt.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,n,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,r){const{decodeTree:n}=this;return this.emitCodePoint(1===e?n[t]&~jt.VALUE_LENGTH:n[t+1],r),3===e&&this.emitCodePoint(n[t+2],r),r}end(){var t;switch(this.state){case Nt.NamedEntity:return 0===this.result||this.decodeMode===Bt.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Nt.NumericDecimal:return this.emitNumericEntity(0,2);case Nt.NumericHex:return this.emitNumericEntity(0,3);case Nt.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Nt.EntityStart:return 0}}}function Ht(t){let e="";const r=new Gt(t,(t=>e+=Rt(t)));return function(t,n){let i=0,o=0;for(;(o=t.indexOf("&",o))>=0;){e+=t.slice(i,o),r.startEntity(n);const a=r.write(t,o+1);if(a<0){i=o+r.end();break}i=o+a,o=0===a?i+1:i}const a=e+t.slice(i);return e="",a}}function Wt(t,e,r,n){const i=(e&jt.BRANCH_LENGTH)>>7,o=e&jt.JUMP_TABLE;if(0===i)return 0!==o&&n===o?r:-1;if(o){const e=n-o;return e<0||e>=i?-1:t[r+e]-1}let a=r,s=a+i-1;for(;a<=s;){const e=a+s>>>1,r=t[e];if(r<n)a=e+1;else{if(!(r>n))return t[e+i];s=e-1}}return-1}const qt=Ht(Ot);function $t(t,e=Bt.Legacy){return qt(t,e)}function Yt(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}Ht(Dt),new Map(Yt([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Yt([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Yt([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Yt([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const Zt=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function Xt(t,e){return function(r){let n,i=0,o="";for(;n=t.exec(r);)i!==n.index&&(o+=r.substring(i,n.index)),o+=e.get(n[0].charCodeAt(0)),i=n.index+1;return o+r.substring(i)}}var Jt,Qt;function Kt(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}String.prototype.codePointAt,Xt(/[&<>'"]/g,Zt),Xt(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Xt(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(Jt||(Jt={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(Qt||(Qt={}));const te=Object.prototype.hasOwnProperty;function ee(t,e){return te.call(t,e)}function re(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(r){t[r]=e[r]}))}})),t}function ne(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function ie(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||!(65535&~t&&65534!=(65535&t))||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function oe(t){if(t>65535){const e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}const ae=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,se=new RegExp(ae.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),le=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function ce(t){return t.indexOf("\\")<0?t:t.replace(ae,"$1")}function de(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(se,(function(t,e,r){return e||function(t,e){if(35===e.charCodeAt(0)&&le.test(e)){const r="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return ie(r)?oe(r):t}const r=$t(t);return r!==t?r:t}(t,r)}))}const ue=/[&<>"]/,he=/[&<>"]/g,fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function pe(t){return fe[t]}function me(t){return ue.test(t)?t.replace(he,pe):t}const ge=/[.?*+^$[\]\\(){}|-]/g;function be(t){return t.replace(ge,"\\$&")}function ve(t){switch(t){case 9:case 32:return!0}return!1}function ye(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function xe(t){return Mt.test(t)||St.test(t)}function we(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function _e(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const ke={mdurl:n,ucmicro:i};function Ae(t,e,r){let n,i,o,a;const s=t.posMax,l=t.pos;for(t.pos=e+1,n=1;t.pos<s;){if(o=t.src.charCodeAt(t.pos),93===o&&(n--,0===n)){i=!0;break}if(a=t.pos,t.md.inline.skipToken(t),91===o)if(a===t.pos-1)n++;else if(r)return t.pos=l,-1}let c=-1;return i&&(c=t.pos),t.pos=l,c}function Te(t,e,r){let n,i=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(i)){for(i++;i<r;){if(n=t.charCodeAt(i),10===n)return o;if(60===n)return o;if(62===n)return o.pos=i+1,o.str=de(t.slice(e+1,i)),o.ok=!0,o;92===n&&i+1<r?i+=2:i++}return o}let a=0;for(;i<r&&(n=t.charCodeAt(i),32!==n)&&!(n<32||127===n);)if(92===n&&i+1<r){if(32===t.charCodeAt(i+1))break;i+=2}else{if(40===n&&(a++,a>32))return o;if(41===n){if(0===a)break;a--}i++}return e===i||0!==a||(o.str=de(t.slice(e,i)),o.pos=i,o.ok=!0),o}function Me(t,e,r,n){let i,o=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)a.str=n.str,a.marker=n.marker;else{if(o>=r)return a;let n=t.charCodeAt(o);if(34!==n&&39!==n&&40!==n)return a;e++,o++,40===n&&(n=41),a.marker=n}for(;o<r;){if(i=t.charCodeAt(o),i===a.marker)return a.pos=o+1,a.str+=de(t.slice(e,o)),a.ok=!0,a;if(40===i&&41===a.marker)return a;92===i&&o+1<r&&o++,o++}return a.can_continue=!0,a.str+=de(t.slice(e,o)),a}const Se={};function Ee(){this.rules=re({},Se)}Se.code_inline=function(t,e,r,n,i){const o=t[e];return"<code"+i.renderAttrs(o)+">"+me(o.content)+"</code>"},Se.code_block=function(t,e,r,n,i){const o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+me(t[e].content)+"</code></pre>\n"},Se.fence=function(t,e,r,n,i){const o=t[e],a=o.info?de(o.info).trim():"";let s,l="",c="";if(a){const t=a.split(/(\s+)/g);l=t[0],c=t.slice(2).join("")}if(s=r.highlight&&r.highlight(o.content,l,c)||me(o.content),0===s.indexOf("<pre"))return s+"\n";if(a){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",r.langPrefix+l]):(e[t]=e[t].slice(),e[t][1]+=" "+r.langPrefix+l);const n={attrs:e};return`<pre><code${i.renderAttrs(n)}>${s}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${s}</code></pre>\n`},Se.image=function(t,e,r,n,i){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(t,e,r)},Se.hardbreak=function(t,e,r){return r.xhtmlOut?"<br />\n":"<br>\n"},Se.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},Se.text=function(t,e){return me(t[e].content)},Se.html_block=function(t,e){return t[e].content},Se.html_inline=function(t,e){return t[e].content},Ee.prototype.renderAttrs=function(t){let e,r,n;if(!t.attrs)return"";for(n="",e=0,r=t.attrs.length;e<r;e++)n+=" "+me(t.attrs[e][0])+'="'+me(t.attrs[e][1])+'"';return n},Ee.prototype.renderToken=function(t,e,r){const n=t[e];let i="";if(n.hidden)return"";n.block&&-1!==n.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===n.nesting?"</":"<")+n.tag,i+=this.renderAttrs(n),0===n.nesting&&r.xhtmlOut&&(i+=" /");let o=!1;if(n.block&&(o=!0,1===n.nesting&&e+1<t.length)){const r=t[e+1];("inline"===r.type||r.hidden||-1===r.nesting&&r.tag===n.tag)&&(o=!1)}return i+=o?">\n":">",i},Ee.prototype.renderInline=function(t,e,r){let n="";const i=this.rules;for(let o=0,a=t.length;o<a;o++){const a=t[o].type;void 0!==i[a]?n+=i[a](t,o,e,r,this):n+=this.renderToken(t,o,e)}return n},Ee.prototype.renderInlineAsText=function(t,e,r){let n="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":case"html_inline":case"html_block":n+=t[i].content;break;case"image":n+=this.renderInlineAsText(t[i].children,e,r);break;case"softbreak":case"hardbreak":n+="\n"}return n},Ee.prototype.render=function(t,e,r){let n="";const i=this.rules;for(let o=0,a=t.length;o<a;o++){const a=t[o].type;"inline"===a?n+=this.renderInline(t[o].children,e,r):void 0!==i[a]?n+=i[a](t,o,e,r,this):n+=this.renderToken(t,o,e,r)}return n};const Ce=Ee;function ze(){this.__rules__=[],this.__cache__=null}ze.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},ze.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(r){r.enabled&&(e&&r.alt.indexOf(e)<0||t.__cache__[e].push(r.fn))}))}))},ze.prototype.at=function(t,e,r){const n=this.__find__(t),i=r||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=i.alt||[],this.__cache__=null},ze.prototype.before=function(t,e,r,n){const i=this.__find__(t),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},ze.prototype.after=function(t,e,r,n){const i=this.__find__(t),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},ze.prototype.push=function(t,e,r){const n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null},ze.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach((function(t){const n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!0,r.push(t)}),this),this.__cache__=null,r},ze.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},ze.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach((function(t){const n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!1,r.push(t)}),this),this.__cache__=null,r},ze.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]};const Le=ze;function Oe(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Oe.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let r=0,n=e.length;r<n;r++)if(e[r][0]===t)return r;return-1},Oe.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},Oe.prototype.attrSet=function(t,e){const r=this.attrIndex(t),n=[t,e];r<0?this.attrPush(n):this.attrs[r]=n},Oe.prototype.attrGet=function(t){const e=this.attrIndex(t);let r=null;return e>=0&&(r=this.attrs[e][1]),r},Oe.prototype.attrJoin=function(t,e){const r=this.attrIndex(t);r<0?this.attrPush([t,e]):this.attrs[r][1]=this.attrs[r][1]+" "+e};const De=Oe;function Ie(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}Ie.prototype.Token=De;const Fe=Ie,Re=/\r\n?|\n/g,Pe=/\0/g;function je(t){return/^<\/a\s*>/i.test(t)}const Ne=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Be=/\((c|tm|r)\)/i,Ue=/\((c|tm|r)\)/gi,Ve={c:"",r:"",tm:""};function Ge(t,e){return Ve[e.toLowerCase()]}function He(t){let e=0;for(let r=t.length-1;r>=0;r--){const n=t[r];"text"!==n.type||e||(n.content=n.content.replace(Ue,Ge)),"link_open"===n.type&&"auto"===n.info&&e--,"link_close"===n.type&&"auto"===n.info&&e++}}function We(t){let e=0;for(let r=t.length-1;r>=0;r--){const n=t[r];"text"!==n.type||e||Ne.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===n.type&&"auto"===n.info&&e--,"link_close"===n.type&&"auto"===n.info&&e++}}const qe=/['"]/,$e=/['"]/g;function Ye(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function Ze(t,e){let r;const n=[];for(let i=0;i<t.length;i++){const o=t[i],a=t[i].level;for(r=n.length-1;r>=0&&!(n[r].level<=a);r--);if(n.length=r+1,"text"!==o.type)continue;let s=o.content,l=0,c=s.length;t:for(;l<c;){$e.lastIndex=l;const d=$e.exec(s);if(!d)break;let u=!0,h=!0;l=d.index+1;const f="'"===d[0];let p=32;if(d.index-1>=0)p=s.charCodeAt(d.index-1);else for(r=i-1;r>=0&&"softbreak"!==t[r].type&&"hardbreak"!==t[r].type;r--)if(t[r].content){p=t[r].content.charCodeAt(t[r].content.length-1);break}let m=32;if(l<c)m=s.charCodeAt(l);else for(r=i+1;r<t.length&&"softbreak"!==t[r].type&&"hardbreak"!==t[r].type;r++)if(t[r].content){m=t[r].content.charCodeAt(0);break}const g=we(p)||xe(String.fromCharCode(p)),b=we(m)||xe(String.fromCharCode(m)),v=ye(p),y=ye(m);if(y?u=!1:b&&(v||g||(u=!1)),v?h=!1:g&&(y||b||(h=!1)),34===m&&'"'===d[0]&&p>=48&&p<=57&&(h=u=!1),u&&h&&(u=g,h=b),u||h){if(h)for(r=n.length-1;r>=0;r--){let u=n[r];if(n[r].level<a)break;if(u.single===f&&n[r].level===a){let a,h;u=n[r],f?(a=e.md.options.quotes[2],h=e.md.options.quotes[3]):(a=e.md.options.quotes[0],h=e.md.options.quotes[1]),o.content=Ye(o.content,d.index,h),t[u.token].content=Ye(t[u.token].content,u.pos,a),l+=h.length-1,u.token===i&&(l+=a.length-1),s=o.content,c=s.length,n.length=r;continue t}}u?n.push({token:i,pos:d.index,single:f,level:a}):h&&f&&(o.content=Ye(o.content,d.index,""))}else f&&(o.content=Ye(o.content,d.index,""))}}}const Xe=[["normalize",function(t){let e;e=t.src.replace(Re,"\n"),e=e.replace(Pe,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let r=0,n=e.length;r<n;r++){const n=e[r];"inline"===n.type&&t.md.inline.parse(n.content,t.md,t.env,n.children)}}],["linkify",function(t){const e=t.tokens;var r;if(t.md.options.linkify)for(let n=0,i=e.length;n<i;n++){if("inline"!==e[n].type||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,o=0;for(let a=i.length-1;a>=0;a--){const s=i[a];if("link_close"!==s.type){if("html_inline"===s.type&&(r=s.content,/^<a[>\s]/i.test(r)&&o>0&&o--,je(s.content)&&o++),!(o>0)&&"text"===s.type&&t.md.linkify.test(s.content)){const r=s.content;let o=t.md.linkify.match(r);const l=[];let c=s.level,d=0;o.length>0&&0===o[0].index&&a>0&&"text_special"===i[a-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const n=o[e].url,i=t.md.normalizeLink(n);if(!t.md.validateLink(i))continue;let a=o[e].text;a=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(a)?t.md.normalizeLinkText(a):t.md.normalizeLinkText("mailto:"+a).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+a).replace(/^http:\/\//,"");const s=o[e].index;if(s>d){const e=new t.Token("text","",0);e.content=r.slice(d,s),e.level=c,l.push(e)}const u=new t.Token("link_open","a",1);u.attrs=[["href",i]],u.level=c++,u.markup="linkify",u.info="auto",l.push(u);const h=new t.Token("text","",0);h.content=a,h.level=c,l.push(h);const f=new t.Token("link_close","a",-1);f.level=--c,f.markup="linkify",f.info="auto",l.push(f),d=o[e].lastIndex}if(d<r.length){const e=new t.Token("text","",0);e.content=r.slice(d),e.level=c,l.push(e)}e[n].children=i=ne(i,a,l)}}else for(a--;i[a].level!==s.level&&"link_open"!==i[a].type;)a--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(Be.test(t.tokens[e].content)&&He(t.tokens[e].children),Ne.test(t.tokens[e].content)&&We(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&qe.test(t.tokens[e].content)&&Ze(t.tokens[e].children,t)}],["text_join",function(t){let e,r;const n=t.tokens,i=n.length;for(let t=0;t<i;t++){if("inline"!==n[t].type)continue;const i=n[t].children,o=i.length;for(e=0;e<o;e++)"text_special"===i[e].type&&(i[e].type="text");for(e=r=0;e<o;e++)"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==r&&(i[r]=i[e]),r++);e!==r&&(i.length=r)}}]];function Je(){this.ruler=new Le;for(let t=0;t<Xe.length;t++)this.ruler.push(Xe[t][0],Xe[t][1])}Je.prototype.process=function(t){const e=this.ruler.getRules("");for(let r=0,n=e.length;r<n;r++)e[r](t)},Je.prototype.State=Fe;const Qe=Je;function Ke(t,e,r,n){this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let t=0,e=0,r=0,n=0,o=i.length,a=!1;e<o;e++){const s=i.charCodeAt(e);if(!a){if(ve(s)){r++,9===s?n+=4-n%4:n++;continue}a=!0}10!==s&&e!==o-1||(10!==s&&e++,this.bMarks.push(t),this.eMarks.push(e),this.tShift.push(r),this.sCount.push(n),this.bsCount.push(0),a=!1,r=0,n=0,t=e+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ke.prototype.push=function(t,e,r){const n=new De(t,e,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n},Ke.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},Ke.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},Ke.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e&&ve(this.src.charCodeAt(t));t++);return t},Ke.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!ve(this.src.charCodeAt(--t)))return t+1;return t},Ke.prototype.skipChars=function(t,e){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===e;t++);return t},Ke.prototype.skipCharsBack=function(t,e,r){if(t<=r)return t;for(;t>r;)if(e!==this.src.charCodeAt(--t))return t+1;return t},Ke.prototype.getLines=function(t,e,r,n){if(t>=e)return"";const i=new Array(e-t);for(let o=0,a=t;a<e;a++,o++){let t=0;const s=this.bMarks[a];let l,c=s;for(l=a+1<e||n?this.eMarks[a]+1:this.eMarks[a];c<l&&t<r;){const e=this.src.charCodeAt(c);if(ve(e))9===e?t+=4-(t+this.bsCount[a])%4:t++;else{if(!(c-s<this.tShift[a]))break;t++}c++}i[o]=t>r?new Array(t-r+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return i.join("")},Ke.prototype.Token=De;const tr=Ke;function er(t,e){const r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.slice(r,n)}function rr(t){const e=[],r=t.length;let n=0,i=t.charCodeAt(n),o=!1,a=0,s="";for(;n<r;)124===i&&(o?(s+=t.substring(a,n-1),a=n):(e.push(s+t.substring(a,n)),s="",a=n+1)),o=92===i,n++,i=t.charCodeAt(n);return e.push(s+t.substring(a)),e}function nr(t,e){const r=t.eMarks[e];let n=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(n++);return 42!==i&&45!==i&&43!==i||n<r&&!ve(t.src.charCodeAt(n))?-1:n}function ir(t,e){const r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];let i=r;if(i+1>=n)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=n)return-1;if(o=t.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-r>=10)return-1}return i<n&&(o=t.src.charCodeAt(i),!ve(o))?-1:i}const or="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",ar="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",sr=new RegExp("^(?:"+or+"|"+ar+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),lr=new RegExp("^(?:"+or+"|"+ar+")"),cr=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(lr.source+"\\s*$"),/^$/,!1]],dr=[["table",function(t,e,r,n){if(e+2>r)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent)return!1;if(t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a)return!1;if(o>=t.eMarks[i])return!1;const s=t.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s&&!ve(s))return!1;if(45===a&&ve(s))return!1;for(;o<t.eMarks[i];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!ve(e))return!1;o++}let l=er(t,e+1),c=l.split("|");const d=[];for(let t=0;t<c.length;t++){const e=c[t].trim();if(!e){if(0===t||t===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?d.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?d.push("left"):d.push("")}if(l=er(t,e).trim(),-1===l.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;c=rr(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const u=c.length;if(0===u||u!==d.length)return!1;if(n)return!0;const h=t.parentType;t.parentType="table";const f=t.md.block.ruler.getRules("blockquote"),p=[e,0];t.push("table_open","table",1).map=p,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let e=0;e<c.length;e++){const r=t.push("th_open","th",1);d[e]&&(r.attrs=[["style","text-align:"+d[e]]]);const n=t.push("inline","",0);n.content=c[e].trim(),n.children=[],t.push("th_close","th",-1)}let m;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let g=0;for(i=e+2;i<r&&!(t.sCount[i]<t.blkIndent);i++){let n=!1;for(let e=0,o=f.length;e<o;e++)if(f[e](t,i,r,!0)){n=!0;break}if(n)break;if(l=er(t,i).trim(),!l)break;if(t.sCount[i]-t.blkIndent>=4)break;if(c=rr(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=u-c.length,g>65536)break;i===e+2&&(t.push("tbody_open","tbody",1).map=m=[e+2,0]),t.push("tr_open","tr",1).map=[i,i+1];for(let e=0;e<u;e++){const r=t.push("td_open","td",1);d[e]&&(r.attrs=[["style","text-align:"+d[e]]]);const n=t.push("inline","",0);n.content=c[e]?c[e].trim():"",n.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return m&&(t.push("tbody_close","tbody",-1),m[1]=i),t.push("table_close","table",-1),p[1]=i,t.parentType=h,t.line=i,!0},["paragraph","reference"]],["code",function(t,e,r){if(t.sCount[e]-t.blkIndent<4)return!1;let n=e+1,i=n;for(;n<r;)if(t.isEmpty(n))n++;else{if(!(t.sCount[n]-t.blkIndent>=4))break;n++,i=n}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(i+3>o)return!1;const a=t.src.charCodeAt(i);if(126!==a&&96!==a)return!1;let s=i;i=t.skipChars(i,a);let l=i-s;if(l<3)return!1;const c=t.src.slice(s,i),d=t.src.slice(i,o);if(96===a&&d.indexOf(String.fromCharCode(a))>=0)return!1;if(n)return!0;let u=e,h=!1;for(;!(u++,u>=r||(i=s=t.bMarks[u]+t.tShift[u],o=t.eMarks[u],i<o&&t.sCount[u]<t.blkIndent));)if(t.src.charCodeAt(i)===a&&!(t.sCount[u]-t.blkIndent>=4||(i=t.skipChars(i,a),i-s<l||(i=t.skipSpaces(i),i<o)))){h=!0;break}l=t.sCount[e],t.line=u+(h?1:0);const f=t.push("fence","code",0);return f.info=d,f.content=t.getLines(e+1,u,l,!0),f.markup=c,f.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(i))return!1;if(n)return!0;const s=[],l=[],c=[],d=[],u=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let f,p=!1;for(f=e;f<r;f++){const e=t.sCount[f]<t.blkIndent;if(i=t.bMarks[f]+t.tShift[f],o=t.eMarks[f],i>=o)break;if(62===t.src.charCodeAt(i++)&&!e){let e,r,n=t.sCount[f]+1;32===t.src.charCodeAt(i)?(i++,n++,r=!1,e=!0):9===t.src.charCodeAt(i)?(e=!0,(t.bsCount[f]+n)%4==3?(i++,n++,r=!1):r=!0):e=!1;let a=n;for(s.push(t.bMarks[f]),t.bMarks[f]=i;i<o;){const e=t.src.charCodeAt(i);if(!ve(e))break;9===e?a+=4-(a+t.bsCount[f]+(r?1:0))%4:a++,i++}p=i>=o,l.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(e?1:0),c.push(t.sCount[f]),t.sCount[f]=a-n,d.push(t.tShift[f]),t.tShift[f]=i-t.bMarks[f];continue}if(p)break;let n=!1;for(let e=0,i=u.length;e<i;e++)if(u[e](t,f,r,!0)){n=!0;break}if(n){t.lineMax=f,0!==t.blkIndent&&(s.push(t.bMarks[f]),l.push(t.bsCount[f]),d.push(t.tShift[f]),c.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}s.push(t.bMarks[f]),l.push(t.bsCount[f]),d.push(t.tShift[f]),c.push(t.sCount[f]),t.sCount[f]=-1}const m=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const b=[e,0];g.map=b,t.md.block.tokenize(t,e,f),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=a,t.parentType=h,b[1]=t.line;for(let r=0;r<d.length;r++)t.bMarks[r+e]=s[r],t.tShift[r+e]=d[r],t.sCount[r+e]=c[r],t.bsCount[r+e]=l[r];return t.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,r,n){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(o++);if(42!==a&&45!==a&&95!==a)return!1;let s=1;for(;o<i;){const e=t.src.charCodeAt(o++);if(e!==a&&!ve(e))return!1;e===a&&s++}if(s<3)return!1;if(n)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(s+1).join(String.fromCharCode(a)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,r,n){let i,o,a,s,l=e,c=!0;if(t.sCount[l]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let d,u,h,f=!1;if(n&&"paragraph"===t.parentType&&t.sCount[l]>=t.blkIndent&&(f=!0),(h=ir(t,l))>=0){if(d=!0,a=t.bMarks[l]+t.tShift[l],u=Number(t.src.slice(a,h-1)),f&&1!==u)return!1}else{if(!((h=nr(t,l))>=0))return!1;d=!1}if(f&&t.skipSpaces(h)>=t.eMarks[l])return!1;if(n)return!0;const p=t.src.charCodeAt(h-1),m=t.tokens.length;d?(s=t.push("ordered_list_open","ol",1),1!==u&&(s.attrs=[["start",u]])):s=t.push("bullet_list_open","ul",1);const g=[l,0];s.map=g,s.markup=String.fromCharCode(p);let b=!1;const v=t.md.block.ruler.getRules("list"),y=t.parentType;for(t.parentType="list";l<r;){o=h,i=t.eMarks[l];const e=t.sCount[l]+h-(t.bMarks[l]+t.tShift[l]);let n=e;for(;o<i;){const e=t.src.charCodeAt(o);if(9===e)n+=4-(n+t.bsCount[l])%4;else{if(32!==e)break;n++}o++}const u=o;let f;f=u>=i?1:n-e,f>4&&(f=1);const m=e+f;s=t.push("list_item_open","li",1),s.markup=String.fromCharCode(p);const g=[l,0];s.map=g,d&&(s.info=t.src.slice(a,h-1));const y=t.tight,x=t.tShift[l],w=t.sCount[l],_=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=m,t.tight=!0,t.tShift[l]=u-t.bMarks[l],t.sCount[l]=n,u>=i&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,l,r,!0),t.tight&&!b||(c=!1),b=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=_,t.tShift[l]=x,t.sCount[l]=w,t.tight=y,s=t.push("list_item_close","li",-1),s.markup=String.fromCharCode(p),l=t.line,g[1]=l,l>=r)break;if(t.sCount[l]<t.blkIndent)break;if(t.sCount[l]-t.blkIndent>=4)break;let k=!1;for(let e=0,n=v.length;e<n;e++)if(v[e](t,l,r,!0)){k=!0;break}if(k)break;if(d){if(h=ir(t,l),h<0)break;a=t.bMarks[l]+t.tShift[l]}else if(h=nr(t,l),h<0)break;if(p!==t.src.charCodeAt(h-1))break}return s=d?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(p),g[1]=l,t.line=l,t.parentType=y,c&&function(t,e){const r=t.level+2;for(let n=e+2,i=t.tokens.length-2;n<i;n++)t.tokens[n].level===r&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}(t,m),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(i))return!1;function s(e){const r=t.lineMax;if(e>=r||t.isEmpty(e))return null;let n=!1;if(t.sCount[e]-t.blkIndent>3&&(n=!0),t.sCount[e]<0&&(n=!0),!n){const n=t.md.block.ruler.getRules("reference"),i=t.parentType;t.parentType="reference";let o=!1;for(let i=0,a=n.length;i<a;i++)if(n[i](t,e,r,!0)){o=!0;break}if(t.parentType=i,o)return null}const i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(i,o+1)}let l=t.src.slice(i,o+1);o=l.length;let c=-1;for(i=1;i<o;i++){const t=l.charCodeAt(i);if(91===t)return!1;if(93===t){c=i;break}if(10===t){const t=s(a);null!==t&&(l+=t,o=l.length,a++)}else if(92===t&&(i++,i<o&&10===l.charCodeAt(i))){const t=s(a);null!==t&&(l+=t,o=l.length,a++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(i=c+2;i<o;i++){const t=l.charCodeAt(i);if(10===t){const t=s(a);null!==t&&(l+=t,o=l.length,a++)}else if(!ve(t))break}const d=t.md.helpers.parseLinkDestination(l,i,o);if(!d.ok)return!1;const u=t.md.normalizeLink(d.str);if(!t.md.validateLink(u))return!1;i=d.pos;const h=i,f=a,p=i;for(;i<o;i++){const t=l.charCodeAt(i);if(10===t){const t=s(a);null!==t&&(l+=t,o=l.length,a++)}else if(!ve(t))break}let m,g=t.md.helpers.parseLinkTitle(l,i,o);for(;g.can_continue;){const e=s(a);if(null===e)break;l+=e,i=o,o=l.length,a++,g=t.md.helpers.parseLinkTitle(l,i,o,g)}for(i<o&&p!==i&&g.ok?(m=g.str,i=g.pos):(m="",i=h,a=f);i<o&&ve(l.charCodeAt(i));)i++;if(i<o&&10!==l.charCodeAt(i)&&m)for(m="",i=h,a=f;i<o&&ve(l.charCodeAt(i));)i++;if(i<o&&10!==l.charCodeAt(i))return!1;const b=_e(l.slice(1,c));return!!b&&(n||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[b]&&(t.env.references[b]={title:m,href:u}),t.line=a),!0)}],["html_block",function(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(i))return!1;let a=t.src.slice(i,o),s=0;for(;s<cr.length&&!cr[s][0].test(a);s++);if(s===cr.length)return!1;if(n)return cr[s][2];let l=e+1;if(!cr[s][1].test(a))for(;l<r&&!(t.sCount[l]<t.blkIndent);l++)if(i=t.bMarks[l]+t.tShift[l],o=t.eMarks[l],a=t.src.slice(i,o),cr[s][1].test(a)){0!==a.length&&l++;break}t.line=l;const c=t.push("html_block","",0);return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(i);if(35!==a||i>=o)return!1;let s=1;for(a=t.src.charCodeAt(++i);35===a&&i<o&&s<=6;)s++,a=t.src.charCodeAt(++i);if(s>6||i<o&&!ve(a))return!1;if(n)return!0;o=t.skipSpacesBack(o,i);const l=t.skipCharsBack(o,35,i);l>i&&ve(t.src.charCodeAt(l-1))&&(o=l),t.line=e+1;const c=t.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[e,t.line];const d=t.push("inline","",0);return d.content=t.src.slice(i,o).trim(),d.map=[e,t.line],d.children=[],t.push("heading_close","h"+String(s),-1).markup="########".slice(0,s),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,r){const n=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o,a=0,s=e+1;for(;s<r&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3)continue;if(t.sCount[s]>=t.blkIndent){let e=t.bMarks[s]+t.tShift[s];const r=t.eMarks[s];if(e<r&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=r))){a=61===o?1:2;break}}if(t.sCount[s]<0)continue;let e=!1;for(let i=0,o=n.length;i<o;i++)if(n[i](t,s,r,!0)){e=!0;break}if(e)break}if(!a)return!1;const l=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s+1;const c=t.push("heading_open","h"+String(a),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const d=t.push("inline","",0);return d.content=l,d.map=[e,t.line-1],d.children=[],t.push("heading_close","h"+String(a),-1).markup=String.fromCharCode(o),t.parentType=i,!0}],["paragraph",function(t,e,r){const n=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=e+1;for(t.parentType="paragraph";o<r&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let i=0,a=n.length;i<a;i++)if(n[i](t,o,r,!0)){e=!0;break}if(e)break}const a=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const s=t.push("inline","",0);return s.content=a,s.map=[e,t.line],s.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}]];function ur(){this.ruler=new Le;for(let t=0;t<dr.length;t++)this.ruler.push(dr[t][0],dr[t][1],{alt:(dr[t][2]||[]).slice()})}ur.prototype.tokenize=function(t,e,r){const n=this.ruler.getRules(""),i=n.length,o=t.md.options.maxNesting;let a=e,s=!1;for(;a<r&&(t.line=a=t.skipEmptyLines(a),!(a>=r))&&!(t.sCount[a]<t.blkIndent);){if(t.level>=o){t.line=r;break}const e=t.line;let l=!1;for(let o=0;o<i;o++)if(l=n[o](t,a,r,!1),l){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),a=t.line,a<r&&t.isEmpty(a)&&(s=!0,a++,t.line=a)}},ur.prototype.parse=function(t,e,r,n){if(!t)return;const i=new this.State(t,e,r,n);this.tokenize(i,i.line,i.lineMax)},ur.prototype.State=tr;const hr=ur;function fr(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}fr.prototype.pushPending=function(){const t=new De("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},fr.prototype.push=function(t,e,r){this.pending&&this.pushPending();const n=new De(t,e,r);let i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n},fr.prototype.scanDelims=function(t,e){const r=this.posMax,n=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<r&&this.src.charCodeAt(o)===n;)o++;const a=o-t,s=o<r?this.src.charCodeAt(o):32,l=we(i)||xe(String.fromCharCode(i)),c=we(s)||xe(String.fromCharCode(s)),d=ye(i),u=ye(s),h=!u&&(!c||d||l),f=!d&&(!l||u||c);return{can_open:h&&(e||!f||l),can_close:f&&(e||!h||c),length:a}},fr.prototype.Token=De;const pr=fr;function mr(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}const gr=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,br=[];for(let t=0;t<256;t++)br.push(0);function vr(t,e){let r;const n=[],i=e.length;for(let o=0;o<i;o++){const i=e[o];if(126!==i.marker)continue;if(-1===i.end)continue;const a=e[i.end];r=t.tokens[i.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=t.tokens[a.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="","text"===t.tokens[a.token-1].type&&"~"===t.tokens[a.token-1].content&&n.push(a.token-1)}for(;n.length;){const e=n.pop();let i=e+1;for(;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;i--,e!==i&&(r=t.tokens[i],t.tokens[i]=t.tokens[e],t.tokens[e]=r)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){br[t.charCodeAt(0)]=1}));const yr={tokenize:function(t,e){const r=t.pos,n=t.src.charCodeAt(r);if(e)return!1;if(126!==n)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const a=String.fromCharCode(n);if(o<2)return!1;let s;o%2&&(s=t.push("text","",0),s.content=a,o--);for(let e=0;e<o;e+=2)s=t.push("text","",0),s.content=a+a,t.delimiters.push({marker:n,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,r=t.tokens_meta.length;vr(t,t.delimiters);for(let n=0;n<r;n++)e[n]&&e[n].delimiters&&vr(t,e[n].delimiters)}};function xr(t,e){for(let r=e.length-1;r>=0;r--){const n=e[r];if(95!==n.marker&&42!==n.marker)continue;if(-1===n.end)continue;const i=e[n.end],o=r>0&&e[r-1].end===n.end+1&&e[r-1].marker===n.marker&&e[r-1].token===n.token-1&&e[n.end+1].token===i.token+1,a=String.fromCharCode(n.marker),s=t.tokens[n.token];s.type=o?"strong_open":"em_open",s.tag=o?"strong":"em",s.nesting=1,s.markup=o?a+a:a,s.content="";const l=t.tokens[i.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?a+a:a,l.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[n.end+1].token].content="",r--)}}const wr={tokenize:function(t,e){const r=t.pos,n=t.src.charCodeAt(r);if(e)return!1;if(95!==n&&42!==n)return!1;const i=t.scanDelims(t.pos,42===n);for(let e=0;e<i.length;e++)t.push("text","",0).content=String.fromCharCode(n),t.delimiters.push({marker:n,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,r=t.tokens_meta.length;xr(t,t.delimiters);for(let n=0;n<r;n++)e[n]&&e[n].delimiters&&xr(t,e[n].delimiters)}},_r=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,kr=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,Ar=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Tr=/^&([a-z][a-z0-9]{1,31});/i;function Mr(t){const e={},r=t.length;if(!r)return;let n=0,i=-2;const o=[];for(let a=0;a<r;a++){const r=t[a];if(o.push(0),t[n].marker===r.marker&&i===r.token-1||(n=a),i=r.token,r.length=r.length||0,!r.close)continue;e.hasOwnProperty(r.marker)||(e[r.marker]=[-1,-1,-1,-1,-1,-1]);const s=e[r.marker][(r.open?3:0)+r.length%3];let l=n-o[n]-1,c=l;for(;l>s;l-=o[l]+1){const e=t[l];if(e.marker===r.marker&&e.open&&e.end<0){let n=!1;if((e.close||r.open)&&(e.length+r.length)%3==0&&(e.length%3==0&&r.length%3==0||(n=!0)),!n){const n=l>0&&!t[l-1].open?o[l-1]+1:0;o[a]=a-l+n,o[l]=n,r.open=!1,e.end=a,e.close=!1,c=-1,i=-2;break}}}-1!==c&&(e[r.marker][(r.open?3:0)+(r.length||0)%3]=c)}}const Sr=[["text",function(t,e){let r=t.pos;for(;r<t.posMax&&!mr(t.src.charCodeAt(r));)r++;return r!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const r=t.pos;if(r+3>t.posMax)return!1;if(58!==t.src.charCodeAt(r))return!1;if(47!==t.src.charCodeAt(r+1))return!1;if(47!==t.src.charCodeAt(r+2))return!1;const n=t.pending.match(gr);if(!n)return!1;const i=n[1],o=t.md.linkify.matchAtStart(t.src.slice(r-i.length));if(!o)return!1;let a=o.url;if(a.length<=i.length)return!1;a=a.replace(/\*+$/,"");const s=t.md.normalizeLink(a);if(!t.md.validateLink(s))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const e=t.push("link_open","a",1);e.attrs=[["href",s]],e.markup="linkify",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(a);const r=t.push("link_close","a",-1);r.markup="linkify",r.info="auto"}return t.pos+=a.length-i.length,!0}],["newline",function(t,e){let r=t.pos;if(10!==t.src.charCodeAt(r))return!1;const n=t.pending.length-1,i=t.posMax;if(!e)if(n>=0&&32===t.pending.charCodeAt(n))if(n>=1&&32===t.pending.charCodeAt(n-1)){let e=n-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(r++;r<i&&ve(t.src.charCodeAt(r));)r++;return t.pos=r,!0}],["escape",function(t,e){let r=t.pos;const n=t.posMax;if(92!==t.src.charCodeAt(r))return!1;if(r++,r>=n)return!1;let i=t.src.charCodeAt(r);if(10===i){for(e||t.push("hardbreak","br",0),r++;r<n&&(i=t.src.charCodeAt(r),ve(i));)r++;return t.pos=r,!0}let o=t.src[r];if(i>=55296&&i<=56319&&r+1<n){const e=t.src.charCodeAt(r+1);e>=56320&&e<=57343&&(o+=t.src[r+1],r++)}const a="\\"+o;if(!e){const e=t.push("text_special","",0);i<256&&0!==br[i]?e.content=o:e.content=a,e.markup=a,e.info="escape"}return t.pos=r+1,!0}],["backticks",function(t,e){let r=t.pos;if(96!==t.src.charCodeAt(r))return!1;const n=r;r++;const i=t.posMax;for(;r<i&&96===t.src.charCodeAt(r);)r++;const o=t.src.slice(n,r),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=n)return e||(t.pending+=o),t.pos+=a,!0;let s,l=r;for(;-1!==(s=t.src.indexOf("`",l));){for(l=s+1;l<i&&96===t.src.charCodeAt(l);)l++;const n=l-s;if(n===a){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(r,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[n]=s}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}],["strikethrough",yr.tokenize],["emphasis",wr.tokenize],["link",function(t,e){let r,n,i,o,a="",s="",l=t.pos,c=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const d=t.pos,u=t.posMax,h=t.pos+1,f=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(f<0)return!1;let p=f+1;if(p<u&&40===t.src.charCodeAt(p)){for(c=!1,p++;p<u&&(r=t.src.charCodeAt(p),ve(r)||10===r);p++);if(p>=u)return!1;if(l=p,i=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),i.ok){for(a=t.md.normalizeLink(i.str),t.md.validateLink(a)?p=i.pos:a="",l=p;p<u&&(r=t.src.charCodeAt(p),ve(r)||10===r);p++);if(i=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<u&&l!==p&&i.ok)for(s=i.str,p=i.pos;p<u&&(r=t.src.charCodeAt(p),ve(r)||10===r);p++);}(p>=u||41!==t.src.charCodeAt(p))&&(c=!0),p++}if(c){if(void 0===t.env.references)return!1;if(p<u&&91===t.src.charCodeAt(p)?(l=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?n=t.src.slice(l,p++):p=f+1):p=f+1,n||(n=t.src.slice(h,f)),o=t.env.references[_e(n)],!o)return t.pos=d,!1;a=o.href,s=o.title}if(!e){t.pos=h,t.posMax=f;const e=[["href",a]];t.push("link_open","a",1).attrs=e,s&&e.push(["title",s]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=u,!0}],["image",function(t,e){let r,n,i,o,a,s,l,c,d="";const u=t.pos,h=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const f=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(o=p+1,o<h&&40===t.src.charCodeAt(o)){for(o++;o<h&&(r=t.src.charCodeAt(o),ve(r)||10===r);o++);if(o>=h)return!1;for(c=o,s=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),s.ok&&(d=t.md.normalizeLink(s.str),t.md.validateLink(d)?o=s.pos:d=""),c=o;o<h&&(r=t.src.charCodeAt(o),ve(r)||10===r);o++);if(s=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<h&&c!==o&&s.ok)for(l=s.str,o=s.pos;o<h&&(r=t.src.charCodeAt(o),ve(r)||10===r);o++);else l="";if(o>=h||41!==t.src.charCodeAt(o))return t.pos=u,!1;o++}else{if(void 0===t.env.references)return!1;if(o<h&&91===t.src.charCodeAt(o)?(c=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(c,o++):o=p+1):o=p+1,i||(i=t.src.slice(f,p)),a=t.env.references[_e(i)],!a)return t.pos=u,!1;d=a.href,l=a.title}if(!e){n=t.src.slice(f,p);const e=[];t.md.inline.parse(n,t.md,t.env,e);const r=t.push("image","img",0),i=[["src",d],["alt",""]];r.attrs=i,r.children=e,r.content=n,l&&i.push(["title",l])}return t.pos=o,t.posMax=h,!0}],["autolink",function(t,e){let r=t.pos;if(60!==t.src.charCodeAt(r))return!1;const n=t.pos,i=t.posMax;for(;;){if(++r>=i)return!1;const e=t.src.charCodeAt(r);if(60===e)return!1;if(62===e)break}const o=t.src.slice(n+1,r);if(kr.test(o)){const r=t.md.normalizeLink(o);if(!t.md.validateLink(r))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",r]],e.markup="autolink",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const n=t.push("link_close","a",-1);n.markup="autolink",n.info="auto"}return t.pos+=o.length+2,!0}if(_r.test(o)){const r=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(r))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",r]],e.markup="autolink",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const n=t.push("link_close","a",-1);n.markup="autolink",n.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const r=t.posMax,n=t.pos;if(60!==t.src.charCodeAt(n)||n+2>=r)return!1;const i=t.src.charCodeAt(n+1);if(33!==i&&63!==i&&47!==i&&!function(t){const e=32|t;return e>=97&&e<=122}(i))return!1;const o=t.src.slice(n).match(sr);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],a=e.content,/^<a[>\s]/i.test(a)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var a;return t.pos+=o[0].length,!0}],["entity",function(t,e){const r=t.pos,n=t.posMax;if(38!==t.src.charCodeAt(r))return!1;if(r+1>=n)return!1;if(35===t.src.charCodeAt(r+1)){const n=t.src.slice(r).match(Ar);if(n){if(!e){const e="x"===n[1][0].toLowerCase()?parseInt(n[1].slice(1),16):parseInt(n[1],10),r=t.push("text_special","",0);r.content=ie(e)?oe(e):oe(65533),r.markup=n[0],r.info="entity"}return t.pos+=n[0].length,!0}}else{const n=t.src.slice(r).match(Tr);if(n){const r=$t(n[0]);if(r!==n[0]){if(!e){const e=t.push("text_special","",0);e.content=r,e.markup=n[0],e.info="entity"}return t.pos+=n[0].length,!0}}}return!1}]],Er=[["balance_pairs",function(t){const e=t.tokens_meta,r=t.tokens_meta.length;Mr(t.delimiters);for(let t=0;t<r;t++)e[t]&&e[t].delimiters&&Mr(e[t].delimiters)}],["strikethrough",yr.postProcess],["emphasis",wr.postProcess],["fragments_join",function(t){let e,r,n=0;const i=t.tokens,o=t.tokens.length;for(e=r=0;e<o;e++)i[e].nesting<0&&n--,i[e].level=n,i[e].nesting>0&&n++,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==r&&(i[r]=i[e]),r++);e!==r&&(i.length=r)}]];function Cr(){this.ruler=new Le;for(let t=0;t<Sr.length;t++)this.ruler.push(Sr[t][0],Sr[t][1]);this.ruler2=new Le;for(let t=0;t<Er.length;t++)this.ruler2.push(Er[t][0],Er[t][1])}Cr.prototype.skipToken=function(t){const e=t.pos,r=this.ruler.getRules(""),n=r.length,i=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let a=!1;if(t.level<i){for(let i=0;i<n;i++)if(t.level++,a=r[i](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,o[e]=t.pos},Cr.prototype.tokenize=function(t){const e=this.ruler.getRules(""),r=e.length,n=t.posMax,i=t.md.options.maxNesting;for(;t.pos<n;){const o=t.pos;let a=!1;if(t.level<i)for(let n=0;n<r;n++)if(a=e[n](t,!1),a){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(a){if(t.pos>=n)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},Cr.prototype.parse=function(t,e,r,n){const i=new this.State(t,e,r,n);this.tokenize(i);const o=this.ruler2.getRules(""),a=o.length;for(let t=0;t<a;t++)o[t](i)},Cr.prototype.State=pr;const zr=Cr;function Lr(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(r){t[r]=e[r]}))})),t}function Or(t){return Object.prototype.toString.call(t)}function Dr(t){return"[object Function]"===Or(t)}function Ir(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Fr={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},Rr={"http:":{validate:function(t,e,r){const n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){const n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){const n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},Pr="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function jr(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=Et.source,e.src_Cc=Ct.source,e.src_Z=Lt.source,e.src_P=Mt.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),r=t.__tlds__.slice();function n(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");const i=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const r=t.__schemas__[e];if(null===r)return;const n={validate:null,link:null};if(t.__compiled__[e]=n,"[object Object]"===Or(r))return"[object RegExp]"!==Or(r.validate)?Dr(r.validate)?n.validate=r.validate:o(e,r):n.validate=function(t){return function(e,r){const n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}(r.validate),void(Dr(r.normalize)?n.normalize=r.normalize:r.normalize?o(e,r):n.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===Or(t)}(r)?o(e,r):i.push(e)})),i.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const a=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(Ir).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function Nr(t,e){const r=t.__index__,n=t.__last_index__,i=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=i,this.text=i,this.url=i}function Br(t,e){const r=new Nr(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function Ur(t,e){if(!(this instanceof Ur))return new Ur(t,e);var r;e||(r=t,Object.keys(r||{}).reduce((function(t,e){return t||Fr.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=Lr({},Fr,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Lr({},Rr,t),this.__compiled__={},this.__tlds__=Pr,this.__tlds_replaced__=!1,this.re={},jr(this)}Ur.prototype.add=function(t,e){return this.__schemas__[t]=e,jr(this),this},Ur.prototype.set=function(t){return this.__opts__=Lr(this.__opts__,t),this},Ur.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,r,n,i,o,a,s,l,c;if(this.re.schema_test.test(t))for(s=this.re.schema_search,s.lastIndex=0;null!==(e=s.exec(t));)if(i=this.testSchemaAt(t,e[2],s.lastIndex),i){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0},Ur.prototype.pretest=function(t){return this.re.pretest.test(t)},Ur.prototype.testSchemaAt=function(t,e,r){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,r,this):0},Ur.prototype.match=function(t){const e=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(Br(this,r)),r=this.__last_index__);let n=r?t.slice(r):t;for(;this.test(n);)e.push(Br(this,r)),n=n.slice(this.__last_index__),r+=this.__last_index__;return e.length?e:null},Ur.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const r=this.testSchemaAt(t,e[2],e[0].length);return r?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+r,Br(this,0)):null},Ur.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,r){return t!==r[e-1]})).reverse(),jr(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,jr(this),this)},Ur.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},Ur.prototype.onCompile=function(){};const Vr=Ur,Gr=2147483647,Hr=36,Wr=/^xn--/,qr=/[^\0-\x7F]/,$r=/[\x2E\u3002\uFF0E\uFF61]/g,Yr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zr=Math.floor,Xr=String.fromCharCode;function Jr(t){throw new RangeError(Yr[t])}function Qr(t,e){const r=t.split("@");let n="";r.length>1&&(n=r[0]+"@",t=r[1]);const i=function(t,e){const r=[];let n=t.length;for(;n--;)r[n]=e(t[n]);return r}((t=t.replace($r,".")).split("."),e).join(".");return n+i}function Kr(t){const e=[];let r=0;const n=t.length;for(;r<n;){const i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const n=t.charCodeAt(r++);56320==(64512&n)?e.push(((1023&i)<<10)+(1023&n)+65536):(e.push(i),r--)}else e.push(i)}return e}const tn=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},en=function(t,e,r){let n=0;for(t=r?Zr(t/700):t>>1,t+=Zr(t/e);t>455;n+=Hr)t=Zr(t/35);return Zr(n+36*t/(t+38))},rn=function(t){const e=[],r=t.length;let n=0,i=128,o=72,a=t.lastIndexOf("-");a<0&&(a=0);for(let r=0;r<a;++r)t.charCodeAt(r)>=128&&Jr("not-basic"),e.push(t.charCodeAt(r));for(let l=a>0?a+1:0;l<r;){const a=n;for(let e=1,i=Hr;;i+=Hr){l>=r&&Jr("invalid-input");const a=(s=t.charCodeAt(l++))>=48&&s<58?s-48+26:s>=65&&s<91?s-65:s>=97&&s<123?s-97:Hr;a>=Hr&&Jr("invalid-input"),a>Zr((Gr-n)/e)&&Jr("overflow"),n+=a*e;const c=i<=o?1:i>=o+26?26:i-o;if(a<c)break;const d=Hr-c;e>Zr(Gr/d)&&Jr("overflow"),e*=d}const c=e.length+1;o=en(n-a,c,0==a),Zr(n/c)>Gr-i&&Jr("overflow"),i+=Zr(n/c),n%=c,e.splice(n++,0,i)}var s;return String.fromCodePoint(...e)},nn=function(t){const e=[],r=(t=Kr(t)).length;let n=128,i=0,o=72;for(const r of t)r<128&&e.push(Xr(r));const a=e.length;let s=a;for(a&&e.push("-");s<r;){let r=Gr;for(const e of t)e>=n&&e<r&&(r=e);const l=s+1;r-n>Zr((Gr-i)/l)&&Jr("overflow"),i+=(r-n)*l,n=r;for(const r of t)if(r<n&&++i>Gr&&Jr("overflow"),r===n){let t=i;for(let r=Hr;;r+=Hr){const n=r<=o?1:r>=o+26?26:r-o;if(t<n)break;const i=t-n,a=Hr-n;e.push(Xr(tn(n+i%a,0))),t=Zr(i/a)}e.push(Xr(tn(t,0))),o=en(i,l,s===a),i=0,++s}++i,++n}return e.join("")},on=function(t){return Qr(t,(function(t){return qr.test(t)?"xn--"+nn(t):t}))},an=function(t){return Qr(t,(function(t){return Wr.test(t)?rn(t.slice(4).toLowerCase()):t}))},sn={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},ln=/^(vbscript|javascript|file|data):/,cn=/^data:image\/(gif|png|jpeg|webp);/;function dn(t){const e=t.trim().toLowerCase();return!ln.test(e)||cn.test(e)}const un=["http:","https:","mailto:"];function hn(t){const e=Tt(t,!0);if(e.hostname&&(!e.protocol||un.indexOf(e.protocol)>=0))try{e.hostname=on(e.hostname)}catch(t){}return ut(ht(e))}function fn(t){const e=Tt(t,!0);if(e.hostname&&(!e.protocol||un.indexOf(e.protocol)>=0))try{e.hostname=an(e.hostname)}catch(t){}return lt(ht(e),lt.defaultChars+"%")}function pn(t,e){if(!(this instanceof pn))return new pn(t,e);e||Kt(t)||(e=t||{},t="default"),this.inline=new zr,this.block=new hr,this.core=new Qe,this.renderer=new Ce,this.linkify=new Vr,this.validateLink=dn,this.normalizeLink=hn,this.normalizeLinkText=fn,this.utils=o,this.helpers=re({},a),this.options={},this.configure(t),e&&this.set(e)}pn.prototype.set=function(t){return re(this.options,t),this},pn.prototype.configure=function(t){const e=this;if(Kt(t)){const e=t;if(!(t=sn[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)})),this},pn.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){r=r.concat(this[e].ruler.enable(t,!0))}),this),r=r.concat(this.inline.ruler2.enable(t,!0));const n=t.filter((function(t){return r.indexOf(t)<0}));if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},pn.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){r=r.concat(this[e].ruler.disable(t,!0))}),this),r=r.concat(this.inline.ruler2.disable(t,!0));const n=t.filter((function(t){return r.indexOf(t)<0}));if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},pn.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},pn.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const r=new this.core.State(t,this,e);return this.core.process(r),r.tokens},pn.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},pn.prototype.parseInline=function(t,e){const r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens},pn.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const mn=pn;class gn{constructor(t,e){e.name=e.name.replace(/</g,"&lt;"),e.name=e.name.replace(/>/g,"&gt;");const r=(0,d.V6)(t),n=document.createElement("div");n.style.setProperty("height","100%"),r.appendChild(n),this._shadow=n.attachShadow({mode:"open"}),this._shadow.adoptedStyleSheets=[k.A,A.A],this._name=document.createElement("div"),this._shadow.appendChild(this._name),this._name.innerHTML=`<div class="chsp-meta">\n            <span> ${e.name} </span>\n            <div class='chsp-info-icon'>${_}</div>\n        </div>`;const i=document.createElement("template");i.innerHTML=function(t){const e=mn({html:!1,linkify:!0,typographer:!0});let r="No description for this dataset.";void 0!==t.description&&(r=t.description);let n="No authors for this dataset.";if(void 0!==t.authors){n='<ul class="chsp-authors-list">';for(const r of t.authors)n+=`<li>${e.render(r).slice(3,-5)}</li>`;n+="</ul>"}let i="No references for this dataset.";if(void 0!==t.references){i="<ul>";for(const r of t.references)i+=`<li>${e.render(r)}</li>`;i+="</ul>"}return`<div class="modal chemiscope-modal fade" tabindex='-1'>\n        <div class="modal-dialog modal-lg">\n            <div class="modal-content">\n                <div class="modal-header chsp-modal-header">\n                    <h4 class="modal-title">${t.name}</h4>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div>${e.render(r)}</div>\n                    <h5 style="margin-top: 1em;">Authors</h5>\n                    ${n}\n                    <h5 style="margin-top: 1em;">References</h5>\n                    ${i}\n                </div>\n            </div>\n        </div>\n    </div>`}(e);const o=i.content.firstChild;this._modal=new R(o),this._modal.shadow.adoptedStyleSheets=[k.A,A.A],this._name.onclick=()=>this._modal.open(),o.addEventListener("keydown",(t=>{t.stopPropagation()}))}remove(){this._modal.remove(),this._shadow.host.remove()}}var bn=r(37821);function vn(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}}function yn(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}}function xn(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}}function wn(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}function _n(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}}function kn(t,e,r){const n=new bn.Quaternion(t.x,t.y,t.z,0);return n.multiplyQuaternions(e.clone(),n),n.multiply(e.clone().inverse()),vn({x:n.x,y:n.y,z:n.z},r)}function An(t,e){const r=[],n=[];for(let e=0;e<t.length;e++)r.push({x:0,y:0,z:0}),n.push(0);for(const i of e)for(const e of i)r[e]=vn(r[e],_n(yn(t[i[1]],t[i[0]]),yn(t[i[2]],t[i[0]]))),n[e]+=1;for(let e=0;e<t.length;e++)r[e].x/=n[e],r[e].y/=n[e],r[e].z/=n[e];return r}class Tn{constructor(t){const[e,r,n,i]=t.orientation||[0,0,0,1];this.orientation=new bn.Quaternion(e,r,n,i);const[o,a,s]=t.position||[0,0,0];this.position={x:o,y:a,z:s},this.scale=t.scale||1}static validateParams(t){return""}outputTo3Dmol(t){return{color:t}}}function Mn(t,e=20){const r=360/e,n=180/e,[i,o,a]=t,s=[],l=[];let c,d,u,h,f=0;for(c=-90;c<=90;c+=r)for(u=c*Math.PI/180,d=-180;d<=180;d+=n,f+=3){h=d*Math.PI/180;const t={x:i*Math.cos(u)*Math.cos(h),y:o*Math.cos(u)*Math.sin(h),z:a*Math.sin(u)};l.push(t)}const p=360/n,m=180/r;let g,b;for(g=0,f=0;g<m;g++)for(b=0;b<p;b++,f+=6)s[f]=g*p+g+b,s[f+1]=(g+1)*p+2+g+b,s[f+2]=(g+1)*p+1+g+b,s[f+3]=g*p+g+b,s[f+4]=g*p+1+g+b,s[f+5]=(g+1)*p+2+g+b;return{vertices:l,indices:s}}function Sn(t,e){if(!Array.isArray(t)||4!==t.length)return`"orientation" must be an array with 4 elements for "${e}" shapes`;const[r,n,i,o]=t;if("number"!=typeof r||"number"!=typeof n||"number"!=typeof i||"number"!=typeof o)return`"orientation" elements must be numbers for "${e}" shapes`;const a=r*r+n*n+i*i+o*o;if(Math.abs(a-1)>1e-6)throw Error(`orientation must be normalized to 1 for "${e}" shapes`);return""}function En(t){return"number"==typeof t&&Number.isInteger(t)&&t>=0}class Cn extends Tn{constructor(t){super(t),this.radius=(t.radius||1)*this.scale}static validateParameters(t){return"radius"in t?"orientation"in t?'"orientation" has no effect on a sphere shape':"number"!=typeof t.radius?'"radius" must be a number in "sphere" shape':"":'"radius" is required for "sphere" shapes'}outputTo3Dmol(t,e=20){const r=Mn([this.radius,this.radius,this.radius],e),n=r.vertices,i=r.indices,o=[],a=[];for(const t of n){const e=vn(t,this.position);o.push(e);const r={x:t.x/Math.pow(this.radius,2),y:t.y/Math.pow(this.radius,2),z:t.z/Math.pow(this.radius,2)};a.push(r)}return{vertexArr:o,normalArr:a,faceArr:i,color:t}}}class zn extends Tn{constructor(t){super(t),l()(t.semiaxes,"data.semiaxes"),this.semiaxes=[this.scale*t.semiaxes[0],this.scale*t.semiaxes[1],this.scale*t.semiaxes[2]]}static validateParameters(t){if(!("semiaxes"in t))return'"semiaxes" is required for "ellipsoid" shapes';if(!Array.isArray(t.semiaxes)||3!==t.semiaxes.length)return'"semiaxes" must be an array with 3 elements for "ellipsoid" shapes';const[e,r,n]=t.semiaxes;if("number"!=typeof e||"number"!=typeof r||"number"!=typeof n)return'"semiaxes" elements must be numbers for "ellipsoid" shapes';if("orientation"in t){const e=Sn(t.orientation,"ellipsoid");if(""!==e)return e}return""}outputTo3Dmol(t,e=20){const r=Mn(this.semiaxes,e),n=r.vertices,i=r.indices,o=[],a=[];for(const t of n){const e=kn(t,this.orientation,this.position);o.push(e);const r=kn({x:t.x/Math.pow(this.semiaxes[0],2),y:t.y/Math.pow(this.semiaxes[1],2),z:t.z/Math.pow(this.semiaxes[2],2)},this.orientation,{x:0,y:0,z:0});a.push(r)}return{vertexArr:o,normalArr:a,faceArr:i,color:t}}}class Ln extends Tn{constructor(t){super(t),l()(t.vector,"data.vector"),this.vector=[this.scale*t.vector[0],this.scale*t.vector[1],this.scale*t.vector[2]],this.baseRadius=this.scale*(t.baseRadius||.1),this.headRadius=this.scale*(t.headRadius||.15),this.headLength=this.scale*(t.headLength||.2)}static validateParameters(t){if(!("vector"in t))return'"vector" is required for "arrow" shapes';if(!Array.isArray(t.vector)||3!==t.vector.length)return'"vector" must be an array with 3 elements for "vector" shapes';const[e,r,n]=t.vector;return"number"!=typeof e||"number"!=typeof r||"number"!=typeof n?'"vector" elements must be numbers for "vector" shapes':"orientation"in t?'"orientation" cannot be used on "arrow" shapes. define "vector" instead':""}outputTo3Dmol(t,e=20){const r=function(t,e,r,n,i=20){const[o,a,s]=t,l={x:o,y:a,z:s},c=Math.sqrt(o*o+a*a+s*s);n>c&&(n=c);const d={x:l.x*(1-n/c),y:l.y*(1-n/c),z:l.z*(1-n/c)},u=xn(l,1/c);let h;h=0!==u.x||0!==u.y?{x:0,y:0,z:1}:{x:0,y:1,z:0};let f=vn(h,xn(u,-wn(h,u)));f=xn(f,1/Math.sqrt(wn(f,f)));const p=_n(f,u),m=[];for(let t=0;t<i;t++)m.push(vn(xn(f,Math.cos(2*t*Math.PI/i)),xn(p,Math.sin(2*t*Math.PI/i))));const g=[],b=[];b.push({x:0,y:0,z:0});for(let t=0;t<i;t++){b.push(xn(m[t],e)),b.push(xn(m[t],e)),b.push(vn(xn(m[t],e),d)),b.push(vn(xn(m[t],e),d)),b.push(vn(xn(m[t],r),d)),b.push(vn(xn(m[t],r),d)),b.push(l);const n=1+7*t,o=1+(t+1)%i*7;g.push(0,n,o,n+1,n+2,o+1,o+1,n+2,o+2,n+3,n+4,o+3,n+4,o+4,o+3,n+5,o+5,n+6)}return{vertices:b,indices:g}}(this.vector,this.baseRadius,this.headRadius,this.headLength,e),n=r.vertices,i=r.indices,o=[],a=[];for(const t of n){const e=vn(t,this.position);o.push(e)}for(let t=0;t<i.length/3;t++)a.push([i[3*t],i[3*t+1],i[3*t+2]]);return{vertexArr:o,normalArr:An(o,a),faceArr:i,color:t}}}class On extends Tn{constructor(t){super(t),l()(t.vector,"data.vector"),this.vector=[this.scale*t.vector[0],this.scale*t.vector[1],this.scale*t.vector[2]],this.radius=this.scale*(t.radius||.1)}static validateParameters(t){if(!("vector"in t))return'"vector" is required for "arrow" shapes';if(!Array.isArray(t.vector)||3!==t.vector.length)return'"vector" must be an array with 3 elements for "vector" shapes';const[e,r,n]=t.vector;return"number"!=typeof e||"number"!=typeof r||"number"!=typeof n?'"vector" elements must be numbers for "vector" shapes':"orientation"in t?'"orientation" cannot be used on "cylinder" shapes. define "vector" instead':""}outputTo3Dmol(t,e=20){const r=function(t,e,r=20){const[n,i,o]=t,a={x:n,y:i,z:o},s=xn(a,1/Math.sqrt(n*n+i*i+o*o));let l;l=0!==s.x||0!==s.y?{x:0,y:0,z:1}:{x:0,y:1,z:0};let c=vn(l,xn(s,-wn(l,s)));c=xn(c,e/Math.sqrt(wn(c,c)));const d=_n(c,s),u=[],h=[];h.push({x:0,y:0,z:0}),h.push(a);for(let t=0;t<r;t++){const e=vn(xn(c,Math.cos(2*t*Math.PI/r)),xn(d,Math.sin(2*t*Math.PI/r)));h.push(e),h.push(e);const n=vn(e,a);h.push(n),h.push(n);const i=2+4*t,o=2+(t+1)%r*4;u.push(0,i,o,i+1,i+2,o+1,o+1,i+2,o+2,i+3,1,o+3)}return{vertices:h,indices:u}}(this.vector,this.radius,e),n=r.vertices,i=r.indices,o=[],a=[];for(const t of n){const e=vn(t,this.position);o.push(e)}for(let t=0;t<i.length;t+=3)a.push(i.slice(t,t+3));return{vertexArr:o,normalArr:An(o,a),faceArr:i,color:t}}}class Dn extends Tn{constructor(t){super(t),l()(t.vertices,"data.vertices"),l()(t.simplices,"data.simplices"),this.vertices=[];for(const e of t.vertices)this.vertices.push({x:e[0]*this.scale,y:e[1]*this.scale,z:e[2]*this.scale});this.simplices=t.simplices}static validateParameters(t){if(!("vertices"in t))return'"vertices" is required for "custom" shapes';if(!Array.isArray(t.vertices))return'"vertices" must be an array for "custom" shapes';for(const e of t.vertices){if(!Array.isArray(e)||3!==e.length)return'each entry in "vertices" must be an array with 3 elements for "custom" shapes';const[t,r,n]=e;if("number"!=typeof t||"number"!=typeof r||"number"!=typeof n)return'each entry in "vertices" must be an array of numbers for "custom" shapes'}if("simplices"in t){if(!Array.isArray(t.simplices))return'"simplices" must be an array for "custom" shapes';for(const e of t.simplices){if(!Array.isArray(e)||3!==e.length)return'each entry in "simplices" must be an array with 3 elements for "custom" shapes';const[t,r,n]=e;if(!En(t)||!En(r)||!En(n))return'each entry in "simplices" must be an array of integers for "custom" shapes'}}if("orientation"in t){const e=Sn(t.orientation,"custom");if(""!==e)return e}return""}outputTo3Dmol(t){const e=[],r=[];for(const t of this.vertices)r.push(kn(t,this.orientation,this.position));for(const t of this.simplices)for(const r of t)e.push(r);return{vertexArr:r,normalArr:An(r,this.simplices),faceArr:e,color:t}}}function In(t,e,r){var n,i,o,a;if(t.vertexArr&&e.vertexArr&&t.vertexArr.length+e.vertexArr.length>=32768&&(r.addCustom(t),t.vertexArr.length=0,Array.isArray(t.normalArr)&&(t.normalArr.length=0),Array.isArray(t.faceArr)&&(t.faceArr.length=0),Array.isArray(t.color)&&(t.color.length=0)),t.faceArr&&e.faceArr&&t.vertexArr){const r=null!==(n=t.vertexArr.length)&&void 0!==n?n:0,i=e.faceArr.map((t=>t+r));t.faceArr.push(...i)}if(t.vertexArr&&e.vertexArr&&(null===(i=t.vertexArr)||void 0===i||i.push(...e.vertexArr)),t.normalArr&&e.normalArr&&(null===(o=t.normalArr)||void 0===o||o.push(...e.normalArr)),e.vertexArr&&Array.isArray(t.color)){const r=e.color&&!Array.isArray(e.color)?e.color:16777215,n=Array(null!==(a=e.vertexArr.length)&&void 0!==a?a:0).fill(r);t.color.push(...n)}}function Fn(t,e){return"sphere"===t?Cn.validateParameters(e):"ellipsoid"===t?zn.validateParameters(e):"arrow"===t?Ln.validateParameters(e):"cylinder"===t?On.validateParameters(e):"custom"===t?Dn.validateParameters(e):""}function Rn(t){if("object"!=typeof t||null===t)throw Error("the structure must be a JavaScript object");if(!("size"in t)||"number"!=typeof t.size||!Pn(t.size))return'missing "size"';for(const e of["names","x","y","z"]){if(!(e in t))return`missing "${e}"`;const r=t[e];if(!Array.isArray(r))return`"${e}" must be an array`;if(t.size>0&&r.length!==t.size)return`wrong size for "${e}", expected ${t.size}, got ${r.length}`}if("cell"in t&&(!Array.isArray(t.cell)||9!==t.cell.length))return'"cell" must be an array of size 9';let e=0;for(const r of["hetatom","chains","resnames","resids"])if(r in t){e++;const n=t[r];if(!Array.isArray(n))return`"${r}" must be an array`;if(t.size>0&&n.length!==t.size)return`wrong size for "${r}", expected ${t.size}, got ${n.length}`}return e>0&&4!==e?'found at least one of "hetatom", "chains", "resnames" and "resids", but not all of them':""}function Pn(t){return Number.isInteger(t)&&t>=0}function jn(t){let e=!0;for(const r of t)e=Array.isArray(r)&&e;return e}function Nn(t){const e=t[0];let r=!0;for(const n of t)r=n.length===e.length&&r;return r}function Bn(t){if(Array.isArray(t)){let e=!0;for(const r of t)e="string"==typeof r&&e;return e}return!1}const Un={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function Vn(t){return Un[t]||1.6}function Gn(t,e){if("X"===t.elem||"X"===e.elem)return!1;let r=Vn(t.elem)+Vn(e.elem);r+=.25,r*=r;let n=t.x-e.x;if(n*=n,n>r)return!1;let i=t.y-e.y;if(i*=i,i>r)return!1;let o=t.z-e.z;if(o*=o,o>r)return!1;const a=n+i+o;return!(isNaN(a)||a<.5||a>r)}function Hn(t,e){for(let r=0;r<t.length;r++){const n=t[r];for(let t=0;t<e.length;t++){const r=e[t];if(Gn(n,r)){const t=n.bonds.indexOf(r.index),e=r.bonds.indexOf(n.index);-1===t&&-1===e?(n.bonds.push(r.index),n.bondOrder.push(1),r.bonds.push(n.index),r.bondOrder.push(1)):-1===t?(n.bonds.push(r.index),n.bondOrder.push(r.bondOrder[e])):-1===e&&(r.bonds.push(n.index),r.bondOrder.push(n.bondOrder[t]))}}}}function Wn(t){for(let e=0,r=t.length;e<r;e++)t[e].index||(t[e].index=e),t[e].bonds=[],t[e].bondOrder=[];const e={},r=4.95;for(let n=0;n<t.length;n++){const i=t[n],o=Math.floor(i.x/r),a=Math.floor(i.y/r),s=Math.floor(i.z/r);e[o]||(e[o]={}),e[o][a]||(e[o][a]={}),e[o][a][s]||(e[o][a][s]=[]),e[o][a][s].push(i)}const n=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(const t in e){const r=parseInt(t,10);for(const t in e[r]){const i=parseInt(t,10);for(const t in e[r][i]){const o=parseInt(t,10),a=e[r][i][o];for(let t=0;t<a.length;t++){const e=a[t];for(let r=t+1;r<a.length;r++){const t=a[r];Gn(e,t)&&-1===e.bonds.indexOf(t.index)&&(e.bonds.push(t.index),e.bondOrder.push(1),t.bonds.push(e.index),t.bondOrder.push(1))}}for(let t=0;t<n.length;t++){const s=n[t];e[r+s.x]&&e[r+s.x][i+s.y]&&e[r+s.x][i+s.y][o+s.z]&&Hn(a,e[r+s.x][i+s.y][o+s.z])}}}}}class qn extends U{constructor(t,e,r=[],n=new d.eS){super(n),this.bonds=new N("boolean",!0),this.atoms=new N("boolean",!0),this.spaceFilling=new N("boolean",!1),this.atomLabels=new N("boolean",!1),this.shape=new N("string",""),this.unitCell=new N("boolean",!1),this.rotation=new N("boolean",!1),this.cartoon=new N("boolean",!1),this.supercell=[new N("int",1),new N("int",1),new N("int",1)];const i=t=>{if(!(Number.isInteger(t)&&t>0))throw Error("supercell count should be a positive integer")};this.supercell[0].validate=i,this.supercell[1].validate=i,this.supercell[2].validate=i,this.axes=new N("string","off"),this.axes.validate=j(["off","abc","xyz"],"axes"),this.keepOrientation=new N("boolean",!1),this.playbackDelay=new N("number",700),this.environments={activated:new N("boolean",!0),bgColor:new N("string","grey"),bgStyle:new N("string","ball-stick"),center:new N("boolean",!1),cutoff:new N("number",4)},this.color={property:new N("string","element"),min:new N("number",0),max:new N("number",0),transform:new N("string","linear"),palette:new N("string","bwr")},r.includes("element")?this.color.property.validate=j(r,"color"):this.color.property.validate=j(r.concat(["element"]),"color"),this.color.transform.validate=j(["linear","log","sqrt","inverse"],"transform"),this.color.palette.validate=j(Object.keys(H),"palette"),this.labelsProperty=new N("string","element"),this.camera=new B(void 0),this.camera.validate=t=>{void 0!==t&&z(t)},r.includes("element")?this.labelsProperty.validate=j(r,"labels"):this.labelsProperty.validate=j(r.concat(["element"]),"labels"),this.environments.bgColor.validate=j(["grey","CPK","property"],"background atoms coloring"),this.environments.bgStyle.validate=j(["ball-stick","licorice","cartoon","hide"],"background atoms style"),this.environments.cutoff.validate=t=>{if(t<0)throw Error("cutoff should be a positive number")},this._positionSettingsModal=e;const{openModal:o,modal:a}=this._createSettingsHTML();this._modal=a,this._modal.shadow.adoptedStyleSheets=t.getRootNode().adoptedStyleSheets,this._openModal=o,t.appendChild(this._openModal),this._bind(r)}getModalElement(t){return(0,d.VT)(t,this._modal.shadow)}get modal(){return this._modal}remove(){this._modal.remove(),this._openModal.remove()}applySettings(t){"packedCell"in t&&(!1!==t.packedCell&&this.warnings.sendMessage("packedCell option has been removed, but it is set to true in the settings"),delete t.packedCell),super.applySettings(t)}_createSettingsHTML(){const t=document.createElement("template");t.innerHTML=`<button\n            class="btn btn-light btn-sm chsp-viewer-button"\n            style="top: 4px; right: 4px; opacity: 1;">\n                <div>${W}</div>\n            </button>`;const e=t.content.firstChild;t.innerHTML='<div id="structure-settings" class="modal chemiscope-modal fade" tabindex="-1">\n   <div class="modal-dialog modal-lg">\n      <div class="modal-content">\n         <div class="modal-header chsp-modal-header">\n            <h4 class="modal-title">Visualizer settings</h4>\n            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n         </div>\n         <div class="modal-body">\n            <h5 class="chsp-settings-section-title">Representation</h5>\n            <div class="chsp-settings-representation" style="grid-template-columns: 1fr 1fr 1fr 1fr">\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="atoms" type="checkbox" />\n                  <label class="form-check-label" for="atoms" title="show atoms as spheres">atoms</label>\n               </div>\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="bonds" type="checkbox" />\n                  <label class="form-check-label" for="bonds" title="show bonds between atoms">bonds</label>\n               </div>\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="space-filling" type="checkbox" />\n                  <label class="form-check-label" for="space-filling" title="use space-filling spheres">filling</label>\n               </div>\n               <div class="form-check form-switch chsp-hide-if-not-biomol">\n                  <input class="form-check-input" id="cartoon" type="checkbox" />\n                  <label class="form-check-label" for="cartoon" title="render molecules as cartoons">cartoon</label>\n               </div>\n            </div>\n            <div class="chsp-settings-representation">\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="atom-labels" type="checkbox" />\n                  <label class="form-check-label" for="atom-labels" title="show element symbols">atom labels</label>\n               </div>\n               <div class="form-check form-switch chsp-hide-if-no-cell">\n                  <input class="form-check-input" id="unit-cell" type="checkbox" />\n                  <label class="form-check-label" for="unit-cell" title="show the unit cell">unit cell</label>\n               </div>\n            </div>\n            <div class="chsp-atom-labels-property chsp-hide-if-no-atom-properties chsp-hide-if-no-atom-labels">\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="atom-labels-property" style="width: 4em">labels:</label>\n                  <select id="atom-labels-property" class="form-select">\n                     <option value="element">element</option>\n                  </select>\n               </div>\n            </div>\n            <div class="chsp-atom-color-property chsp-hide-if-no-atom-properties">\n               <div class="input-group input-group-sm">\n                  <label class="input-group-text" for="atom-color-property" style="width: 4em">color:</label>\n                  <select id="atom-color-property" class="form-select">\n                     <option value="element">element (CPK)</option>\n                  </select>\n               </div>\n\n               <button\n                  id="atom-color-more-options"\n                  class="btn btn-sm btn-secondary chsp-extra-options-btn"\n                  type="button"\n                  data-bs-toggle="collapse"\n                  data-bs-target="#atom-color-extra"\n               >\n                  more options\n               </button>\n\n               <div class="collapse" id="atom-color-extra" style="grid-column: auto / span 2; margin-top: 0.3em">\n                  <div class="chsp-atom-extra-options">\n                     <div class="input-group input-group-sm">\n                        <label class="input-group-text" for="atom-color-transform">transform:</label>\n                        <select id="atom-color-transform" class="form-select" disabled>\n                           <option value="linear">linear</option>\n                           <option value="log">log10</option>\n                           <option value="sqrt">sqrt</option>\n                           <option value="inverse">inverse</option>\n                        </select>\n                     </div>\n\n                     <div class="input-group input-group-sm">\n                        <label id="atom-color-min-label" class="input-group-text" for="atom-color-min"> min: </label>\n                        <input id="atom-color-min" class="form-control" type="number" step="any" />\n                     </div>\n\n                     <div class="input-group input-group-sm">\n                        <label id="atom-color-max-label" class="input-group-text" for="atom-color-max"> max: </label>\n                        <input id="atom-color-max" class="form-control" type="number" step="any" />\n                     </div>\n                  </div>\n\n                  <div class="chsp-atom-extra-options" style="grid-template-columns: 1fr 1fr">\n                     <div class="input-group input-group-sm">\n                        <label class="input-group-text" for="atom-color-palette"> palette: </label>\n                        <select id="atom-color-palette" class="form-select"></select>\n                     </div>\n\n                     <button class="btn btn-sm btn-secondary" type="button" id="atom-color-reset" style="width: 100%">reset min/max</button>\n                  </div>\n               </div>\n            </div>\n            <div class="chsp-hide-if-no-shapes" style="margin-top: 1em">\n               <div class="input-group input-group-sm">\n                  <label\n                     class="input-group-text"\n                     for="shapes"\n                     style="width: 5em"\n                     title="which shapes to display; hold CTRL/CMD to select multiple shapes"\n                     >Shapes:</label\n                  >\n                  <select id="shapes" class="form-select" multiple></select>\n               </div>\n            </div>\n\n            <div class="chsp-hide-if-no-cell">\n               <div style="margin-bottom: 1.5em"></div>\n               <h5 class="chsp-settings-section-title">Supercell</h5>\n               <div class="chsp-settings-supercell">\n                  <span class="input-group input-group-sm">\n                     <label class="input-group-text" for="supercell-a">X:</label>\n                     <input class="form-control chsp-supercell-count" id="supercell-a" type="number" min="1" max="10" />\n                  </span>\n                  <span class="input-group input-group-sm">\n                     <label class="input-group-text" for="supercell-b">Y:</label>\n                     <input class="form-control chsp-supercell-count" id="supercell-b" type="number" min="1" max="10" />\n                  </span>\n                  <span class="input-group input-group-sm">\n                     <label class="input-group-text" for="supercell-c">Z:</label>\n                     <input class="form-control chsp-supercell-count" id="supercell-c" type="number" min="1" max="10" />\n                  </span>\n                  <button class="btn btn-primary btn-sm" id="reset-supercell">reset supercell</button>\n               </div>\n            </div>\n            <div style="margin-bottom: 0.8em"></div>\n            <div class="input-group input-group-sm">\n               <label class="input-group-text" for="axes" style="width: 5em">Axes:</label>\n               <select id="axes" class="form-select">\n                  <option value="off" selected>off</option>\n                  <option value="xyz">xyz</option>\n                  <option class="chsp-hide-if-no-cell" value="abc">abc</option>\n               </select>\n            </div>\n            <div style="margin-bottom: 0.8em"></div>\n            <div class="chsp-hide-if-no-environments">\n               <div style="margin-bottom: 1.5em"></div>\n               <h5 class="chsp-settings-section-title">Environments</h5>\n               <div class="chsp-settings-environments">\n                  <input type="checkbox" id="env-activated" class="btn-check" checked />\n                  <label class="btn btn-primary btn-sm active" for="env-activated">Disable</label>\n                  <div class="form-check form-switch">\n                     <input type="checkbox" class="form-check-input" id="env-center" />\n                     <label\n                        class="form-check-label"\n                        for="env-center"\n                        title="center automatically structure or environment in the viewport"\n                        style="cursor: help"\n                     >\n                        center\n                     </label>\n                  </div>\n                  <button\n                     class="btn btn-sm btn-secondary chsp-extra-options-btn"\n                     type="button"\n                     data-bs-toggle="collapse"\n                     data-bs-target="#chsp-extra-env"\n                     id="chsp-env-more"\n                  >\n                     more options\n                  </button>\n                  <div class="collapse chsp-settings-extra-options" id="chsp-extra-env">\n                     <div>\n                        <span style="vertical-align: middle">Highlight region</span>\n                     </div>\n                     <div class="input-group input-group-sm">\n                        <label class="input-group-text" for="env-cutoff">cutoff</label>\n                        <input class="form-control" id="env-cutoff" type="number" min="0" max="50" step="0.1" />\n                     </div>\n                     <button class="btn btn-sm btn-light" id="env-reset">reset</button>\n                     <div>\n                        <span style="vertical-align: middle">Background atoms</span>\n                     </div>\n                     <div class="input-group input-group-sm">\n                        <label class="input-group-text" for="env-bg-color">color</label>\n                        <select id="env-bg-color" class="form-select">\n                           <option value="property">property</option>\n                           <option value="CPK">CPK</option>\n                           <option value="grey">grey</option>\n                        </select>\n                     </div>\n                     <div class="input-group input-group-sm">\n                        <label class="input-group-text" for="env-bg-style">style</label>\n                        <select id="env-bg-style" class="form-select">\n                           <option value="licorice">licorice</option>\n                           <option value="ball-stick">ball and stick</option>\n                           <option class="chsp-hide-if-not-biomol" value="cartoon">cartoon</option>\n                           <option value="hide">hide</option>\n                        </select>\n                     </div>\n                  </div>\n               </div>\n               <div style="margin-bottom: 0.8em"></div>\n            </div>\n            <div style="margin-bottom: 1.5em"></div>\n            <h5 class="chsp-settings-section-title">Camera</h5>\n            <div class="chsp-settings-camera">\n               <button class="btn btn-secondary" id="align-x">x</button>\n               <button class="btn btn-secondary" id="align-y">y</button>\n               <button class="btn btn-secondary" id="align-z">z</button>\n               <span class="chsp-hide-if-no-cell"></span>\n               <button class="btn btn-secondary chsp-hide-if-no-cell" id="align-a">a</button>\n               <button class="btn btn-secondary chsp-hide-if-no-cell" id="align-b">b</button>\n               <button class="btn btn-secondary chsp-hide-if-no-cell" id="align-c">c</button>\n               <span></span>\n               <div class="form-check form-switch">\n                  <input class="form-check-input" id="rotation" type="checkbox" />\n                  <label class="form-check-label" for="rotation" title="rotate the camera continuously">rotation</label>\n               </div>\n            </div>\n            <div id="trajectory-settings-group">\n               <div style="margin-bottom: 1.5em"></div>\n               <h5 class="chsp-settings-section-title">Trajectory</h5>\n               <div class="chsp-settings-trajectory">\n                  <div class="input-group input-group-sm">\n                     <label class="input-group-text" for="playback-delay" title="playback delay in milliseconds per frame" style="cursor: help">\n                        frame delay\n                     </label>\n                     <input id="playback-delay" class="form-control" type="number" min="100" value="700" step="100" />\n                  </div>\n                  <div class="form-check form-switch">\n                     <input type="checkbox" class="form-check-input" id="keep-orientation" />\n                     <label\n                        class="form-check-label"\n                        for="keep-orientation"\n                        title="keep the camera orientation when loading a new molecule"\n                        style="cursor: help"\n                     >\n                        keep orientation\n                     </label>\n                  </div>\n               </div>\n            </div>\n         </div>\n      </div>\n   </div>\n</div>\n';const r=t.content.querySelector(".modal");l()(null!==r&&r instanceof HTMLElement,"modalElement !== null && modalElement instanceof HTMLElement");const n=r.querySelector(".modal-dialog");l()(null!==n&&n instanceof HTMLElement,"modalDialog !== null && modalDialog instanceof HTMLElement"),e.addEventListener("click",(()=>{if(null===n.getAttribute("data-initial-modal-positions-set")){n.setAttribute("data-initial-modal-positions-set","true"),n.parentNode.style.display="block";const{top:t,left:e}=this._positionSettingsModal(n.getBoundingClientRect());n.style.width=n.offsetWidth/1.5+"px",n.style.minWidth="500px",n.style.margin="0",n.style.position="fixed",n.style.top=`${t}px`,n.style.left=`${e}px`}i.open()})),(0,d.eB)(n,".modal-header"),r.addEventListener("keydown",(t=>t.stopPropagation()));const i=new R(r);return m.initialize(r),{modal:i,openModal:e}}_bind(t){this.atomLabels.bind(this.getModalElement("atom-labels"),"checked");const e=this.getModalElement("shapes");this.shape.bind(e,"multival"),this.spaceFilling.bind(this.getModalElement("space-filling"),"checked"),this.bonds.bind(this.getModalElement("bonds"),"checked"),this.atoms.bind(this.getModalElement("atoms"),"checked"),this.rotation.bind(this.getModalElement("rotation"),"checked"),this.unitCell.bind(this.getModalElement("unit-cell"),"checked"),this.cartoon.bind(this.getModalElement("cartoon"),"checked"),this.supercell[0].bind(this.getModalElement("supercell-a"),"value"),this.supercell[1].bind(this.getModalElement("supercell-b"),"value"),this.supercell[2].bind(this.getModalElement("supercell-c"),"value");const r=this.getModalElement("atom-color-property");r.options.length=0,t.includes("element")||r.options.add(new Option("element","element"));for(const e of t)r.options.add(new Option(e,e));this.color.property.bind(r,"value"),this.color.transform.bind(this.getModalElement("atom-color-transform"),"value"),this.color.min.bind(this.getModalElement("atom-color-min"),"value"),this.color.max.bind(this.getModalElement("atom-color-max"),"value");const n=this.getModalElement("atom-color-palette");n.options.length=0;for(const t in H)n.options.add(new Option(t,t));this.color.palette.bind(n,"value");const i=this.getModalElement("atom-labels-property");i.options.length=0,t.includes("element")||i.options.add(new Option("element","element"));for(const e of t)i.options.add(new Option(e,e));this.labelsProperty.bind(i,"value"),this.axes.bind(this.getModalElement("axes"),"value"),this.keepOrientation.bind(this.getModalElement("keep-orientation"),"checked"),this.playbackDelay.bind(this.getModalElement("playback-delay"),"value"),this.environments.activated.bind(this.getModalElement("env-activated"),"checked"),this.environments.bgColor.bind(this.getModalElement("env-bg-color"),"value"),this.environments.bgStyle.bind(this.getModalElement("env-bg-style"),"value"),this.environments.cutoff.bind(this.getModalElement("env-cutoff"),"value"),this.environments.center.bind(this.getModalElement("env-center"),"checked")}}function $n(t,e){const r=document.createElement("a");r.download=e,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),r.remove()}class Yn{constructor(t,e,r){this._settingChangeCallbacks=[],this._disableStyleUpdates=!1,this._nonStandardElemColors=new Map;const n=(0,d.V6)(t),i=document.createElement("div");n.appendChild(i),this.warnings=r||new d.eS,i.style.setProperty("height","100%"),this._shadow=i.attachShadow({mode:"open"}),this._root=document.createElement("div"),this._shadow.appendChild(this._root),this._root.style.position="relative",this._root.style.width="100%",this._root.style.height="100%";const o=bn.createViewer(this._root,{antialias:!0,defaultcolors:bn.elementColors.Jmol,backgroundColor:"0xffffff",backgroundAlpha:0,disableFog:!0,orthographic:!0,rows:1,cols:1,row:0,col:0});if(void 0===o)throw Error("unable to create WebGL canvas");this._viewer=o,this.onselect=()=>{},this._cellInfo=document.createElement("span"),this._cellInfo.classList.add("chsp-cell-info","chsp-hide-if-no-cell","badge","bg-light","text-dark"),this._root.appendChild(this._cellInfo),this._biomolOptions=document.createElement("span"),this._biomolOptions.classList.add("chsp-hide-if-not-biomol"),this._root.appendChild(this._biomolOptions);const a=new CSSStyleSheet,s=new CSSStyleSheet,c=new CSSStyleSheet,u=new CSSStyleSheet,h=new CSSStyleSheet,f=new CSSStyleSheet;this._styles={noCell:a,noResidue:s,noEnvs:c,noShape:u,noProperties:h,noLabels:f},this._shadow.adoptedStyleSheets=[...n.getRootNode().adoptedStyleSheets,a,s,c,u,h,f],this._options=new qn(this._root,(t=>this.positionSettingsModal(t)),e,this.warnings),this._options.modal.shadow.adoptedStyleSheets=[...this._options.modal.shadow.adoptedStyleSheets,a,s,c,u,h,f],this._colorReset=this._options.getModalElement("atom-color-reset"),this._colorMoreOptions=this._options.getModalElement("atom-color-more-options"),this._colorMoreOptions.disabled=!0,this._connectOptions(),this._trajectoryOptions=this._options.getModalElement("trajectory-settings-group"),this.positionSettingsModal=t=>{const e=this._root.getBoundingClientRect();return{left:e.left+e.width/2-t.width/2,top:e.top+20}};const p=()=>{const t=function(t){const e={x:t[0],y:t[1],z:t[2]},r=t[3],n=[t[4],t[5],t[6],t[7]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]+n[3]*n[3]);i>0?(n[0]/=i,n[1]/=i,n[2]/=i,n[3]/=i):n[3]=1;const o=E([0,1,0],n),a=E([0,0,1],n);return{center:Object.assign({},e),eye:{x:e.x+a[0]*r,y:e.y+a[1]*r,z:e.z+a[2]*r},up:{x:o[0],y:o[1],z:o[2]},zoom:r}}(this._viewer.getView());this._options.camera.setValue(t,"DOM")};this._root.addEventListener("mouseup",p),this._root.addEventListener("touchend",p),this._root.addEventListener("wheel",(t=>{if(t.isTrusted){t.preventDefault(),t.stopImmediatePropagation();const e=new Event("wheel");Object.assign(e,{ctrlKey:!0,detail:t.detail,wheelDelta:t.wheelDelta,pageX:t.pageX,pageY:t.pageY}),l()(t.target,"event.target"),t.target.dispatchEvent(e),p()}}),{capture:!0}),window.addEventListener("resize",(()=>this.resize())),window.requestAnimationFrame((()=>{window.dispatchEvent(new Event("resize"))})),this._resetView()}refreshOptions(t,e){const r=this._options.saveSettings(),n=this._options.modal.shadow.adoptedStyleSheets;this._options.remove(),this._options=new qn(this._root,(t=>this.positionSettingsModal(t)),e,this.warnings),this._options.modal.shadow.adoptedStyleSheets=n,this._colorReset=this._options.getModalElement("atom-color-reset"),this._colorMoreOptions=this._options.getModalElement("atom-color-more-options"),this._trajectoryOptions=this._options.getModalElement("trajectory-settings-group"),this._colorReset.disabled=!0,this._colorMoreOptions.disabled=!0,this._connectOptions();for(const t of this._settingChangeCallbacks)this._options.onSettingChange(t);t?this._options.environments.activated.enable():this._options.environments.activated.disable(),this._options.applySettings(r)}remove(){null!==this._root.parentElement&&(this._root.parentElement.innerHTML=""),this._options.remove()}resize(){this._viewer.resize(),this._disableStyleUpdates||this._updateColorBar()}natoms(){return void 0===this._current?void 0:this._current.structure.size}load(t,e,r={},n){let i,o,a,s,c;this._properties=e,void 0!==this._highlighted&&(i=this._defaultCutoff(this._highlighted.center)),this._environments=r.environments,o=void 0===r.keepOrientation?this._options.keepOrientation.value:r.keepOrientation,void 0===r.supercell?[a,s,c]=[this._options.supercell[0].value,this._options.supercell[1].value,this._options.supercell[2].value]:([a,s,c]=r.supercell,this._options.supercell[0].value=a,this._options.supercell[1].value=s,this._options.supercell[2].value=c),void 0===this._initialSupercell&&(this._initialSupercell=[a,s,c],this._resetSupercell.innerHTML=`reset ${a}x${s}x${c} supercell`),void 0===t.cell?this._styles.noCell.replaceSync(".chsp-hide-if-no-cell { display: none; }"):this._styles.noCell.replaceSync(""),this._showSupercellInfo(),void 0===t.resnames?this._styles.noResidue.replaceSync(".chsp-hide-if-not-biomol { display: none; }"):(this._styles.noResidue.replaceSync(""),this._options.cartoon.value=!0),void 0!==r.trajectory&&r.trajectory?this._trajectoryOptions.style.display="block":this._trajectoryOptions.style.display="none",this._viewer.removeAllModels(),void 0!==this._current&&(this._viewer.removeAllLabels(),this._viewer.removeAllShapes(),this._viewer.removeUnitCell(this._current.model),this._axes=void 0),void 0!==this._highlighted&&(this._viewer.removeModel(this._highlighted.model),this._highlighted=void 0),this._current={model:this._viewer.addModel(),structure:t,atomLabels:[]},function(t,e){if(void 0!==e.cell){const r=e.cell,n=new bn.Matrix3(r[0],r[3],r[6],r[1],r[4],r[7],r[2],r[5],r[8]);t.setCrystMatrix(n)}const r=[];for(let t=0;t<e.size;t++){const n=e.x[t],i=e.y[t],o=e.z[t],a={serial:t,elem:e.elements?e.elements[t]:e.names[t],atom:e.names[t],x:n,y:i,z:o,hetflag:!0,ss:"c"};void 0!==e.resnames&&(a.resn=e.resnames[t]),void 0!==e.chains&&(a.chain=e.chains[t]),void 0!==e.resids&&(a.resi=e.resids[t]),void 0!==e.hetatom&&(a.hetflag=e.hetatom[t]),r.push(a)}(function(t,e){!function(t,e){const r=e||3.2,n=r*r,i=[];for(let e=0,r=t.length;e<r;e++){t[e].index=e;const r=t[e];r.hetflag||"N"!==r.atom&&"O"!==r.atom||(i.push(r),r.hbondOther=null,r.hbondDistanceSq=Number.POSITIVE_INFINITY)}i.sort((function(t,e){return t.z-e.z}));for(let t=0,e=i.length;t<e;t++){const o=i[t];for(let a=t+1;a<e;a++){const t=i[a],e=t.z-o.z;if(e>r)break;if(t.atom===o.atom)continue;const s=Math.abs(t.y-o.y);if(s>r)continue;const l=Math.abs(t.x-o.x);if(l>r)continue;const c=l*l+s*s+e*e;c>n||t.chain===o.chain&&Math.abs(t.resi-o.resi)<4||(c<o.hbondDistanceSq&&(o.hbondOther=t,o.hbondDistanceSq=c),c<t.hbondDistanceSq&&(t.hbondOther=o,t.hbondDistanceSq=c))}}}(t,e);const r={};let n,i,o,a,s,l;for(n=0,i=t.length;n<i;n++)if(s=t[n],void 0===r[s.chain]&&(r[s.chain]=[]),isFinite(s.hbondDistanceSq)){const t=s.hbondOther;void 0===r[t.chain]&&(r[t.chain]=[]),4===Math.abs(t.resi-s.resi)&&(r[s.chain][s.resi]="h")}for(o in r)for(a=1;a<r[o].length-1;a++){const t=r[o][a-1],e=r[o][a+1];l=r[o][a],"h"===t&&t===e&&l!==t&&(r[o][a]=t)}for(n=0,i=t.length;n<i;n++)s=t[n],isFinite(s.hbondDistanceSq)&&"h"!==r[s.chain][s.resi]&&"h"!==s.ss&&(r[s.chain][s.resi]="maybesheet");for(let e=0,n=t.length;e<n;e++)if(s=t[e],isFinite(s.hbondDistanceSq)&&"maybesheet"===r[s.chain][s.resi]){const t=s.hbondOther,e=r[t.chain][t.resi];"maybesheet"!==e&&"s"!==e||(r[s.chain][s.resi]="s",r[t.chain][t.resi]="s")}for(const t in r){for(let e=1;e<r[t].length-1;e++){const n=r[t][e-1],i=r[t][e+1];l=r[t][e],"s"===n&&n===i&&l!==n&&(r[t][e]=n)}for(let e=0;e<r[t].length;e++){const n=r[t][e];"h"!==n&&"s"!==n||r[t][e-1]!==n&&r[t][e+1]!==n&&delete r[t][e]}}for(n=0,i=t.length;n<i;n++)s=t[n],l=r[s.chain][s.resi],delete s.hbondOther,delete s.hbondDistanceSq,void 0!==l&&"maybesheet"!==l&&(s.ss=l,r[s.chain][s.resi-1]!==l&&(s.ssbegin=!0),r[s.chain][s.resi+1]!==l&&(s.ssend=!0))})(r,3.2),t.addAtoms(r)}(this._current.model,t);const d=this._options.supercell[0].value,u=this._options.supercell[1].value,h=this._options.supercell[2].value;if(1===d&&1===u&&1===h||this._viewer.replicateUnitCell(this._options.supercell[0].value,this._options.supercell[1].value,this._options.supercell[2].value,this._current.model),this._options.unitCell.value&&this._viewer.addUnitCell(this._current.model,{box:{color:"black",linewidth:4},astyle:{hidden:!0},bstyle:{hidden:!0},cstyle:{hidden:!0}}),void 0===t.bonds)Wn(this._current.model.selectedAtoms({}));else{const e={},r={};for(let n=0,i=t.size;n<i;n++)e[n]=[],r[n]=[];for(let n=0,i=t.bonds.length;n<i;n++){const i=t.bonds[n][0],o=t.bonds[n][1],a=t.bonds[n][2];e[i].push(o),r[i].push(a),e[o].push(i),r[o].push(a)}const n=this._current.model.selectedAtoms({});for(let t=0,i=n.length;t<i;t++)n[t].index||(n[t].index=t),n[t].bonds=e[t],n[t].bondOrder=r[t]}if(void 0===this._environments||"structure"===r.target)this._styles.noEnvs.replaceSync(".chsp-hide-if-no-environments { display: none; }"),this._options.environments.activated.disable();else{this._styles.noEnvs.replaceSync(""),this._options.environments.activated.enable(),l()(this._environments.length===t.size,"this._environments.length === structure.size"),this._setEnvironmentInteractions();const e=r.highlight;this._changeHighlighted(e,i)}if(void 0===this._properties?this._styles.noProperties.replaceSync(".chsp-hide-if-no-atom-properties { display: none; }"):this._styles.noProperties.replaceSync(""),this._options.atomLabels.value?this._styles.noLabels.replaceSync(""):this._styles.noLabels.replaceSync(".chsp-hide-if-no-atom-labels { display: none; }"),void 0===t.shapes)this._styles.noShape.replaceSync(".chsp-hide-if-no-shapes { display: none; }");else{this._styles.noShape.replaceSync("");const e=this._options.getModalElement("shapes");e.options.length=0;for(const r of Object.keys(t.shapes))e.options.add(new Option(r,r));e.size=Math.min(Object.keys(t.shapes).length,3),this._options.shape.bind(e,"multival")}o||this._resetView(),this._options.environments.center.value&&this._centerView(),this._options.axes.changed("JS"),this.resize(),this._viewer.render((()=>{n&&n()}))}highlight(t){let e;void 0!==this._highlighted&&(e=this._defaultCutoff(this._highlighted.center)),this._changeHighlighted(t,e),this._updateStyle(),void 0!==this._highlighted&&this._options.environments.center.value&&this._options.environments.activated.value&&(this._options.keepOrientation.value||this._resetView(),this._centerView()),this._viewer.render()}applySettings(t){this._disableStyleUpdates=!0,this._options.applySettings(t),this._disableStyleUpdates=!1,this._updateStyle()}saveSettings(){return this._options.saveSettings()}onSettingChange(t){this._settingChangeCallbacks.push(t),this._options.onSettingChange(t)}exportPNG(){return this._viewer.render(),this._viewer.pngURI()}set environments(t){this._environments=t}_connectOptions(){this._connectRepresentationSettings(),this._connectSceneSettings(),this._connectEnvironmentSettings(),this._connectColorSettings(),this._connectGenericSettings()}_restyleAndRender(){this._disableStyleUpdates||(this._updateStyle(),this._updateColorBar(),this._viewer.render())}_connectRepresentationSettings(){this._options.cartoon.onchange.push((()=>this._restyleAndRender())),this._options.spaceFilling.onchange.push((()=>this._restyleAndRender())),this._options.bonds.onchange.push((()=>this._restyleAndRender())),this._options.atoms.onchange.push((()=>this._restyleAndRender())),this._options.atomLabels.onchange.push((t=>{this._restyleAndRender(),t?this._styles.noLabels.replaceSync(""):this._styles.noLabels.replaceSync(".chsp-hide-if-no-atom-labels { display: none; }")}))}_connectSceneSettings(){this._options.axes.onchange.push((t=>this._addAxes(t))),this._options.rotation.onchange.push((t=>{t?this._viewer.spin("vy"):this._viewer.spin(!1)})),this._options.unitCell.onchange.push((t=>{void 0!==this._current&&(t?this._viewer.addUnitCell(this._current.model,{box:{color:"black",linewidth:4},astyle:{hidden:!0},bstyle:{hidden:!0},cstyle:{hidden:!0}}):this._viewer.removeUnitCell(this._current.model),this._viewer.render())})),this._options.shape.onchange.push((()=>{void 0!==this._current&&(this._resetShapes(),this._restyleAndRender())}));const t=()=>{if(this._showSupercellInfo(),void 0===this._current)return;const t=this._current.model.selectedAtoms({});this._current.model.removeAtoms(t.splice(this._current.structure.size));const e=this._options.supercell[0].value,r=this._options.supercell[1].value,n=this._options.supercell[2].value;if(1===e&&1===r&&1===n||this._viewer.replicateUnitCell(this._options.supercell[0].value,this._options.supercell[1].value,this._options.supercell[2].value,this._current.model),Wn(this._current.model.selectedAtoms({})),void 0!==this._highlighted){const t=this._defaultCutoff(this._highlighted.center);this._changeHighlighted(this._highlighted.center,t)}this._environmentsEnabled()&&this._setEnvironmentInteractions(),this._restyleAndRender()};this._options.supercell[0].onchange.push(t),this._options.supercell[1].onchange.push(t),this._options.supercell[2].onchange.push(t),this._options.camera.onchange.push(((t,e)=>{"JS"===e&&void 0!==t&&this._viewer.setView(function(t){const e=t.center,r=t.eye,n=t.up,i=[r.x-e.x,r.y-e.y,r.z-e.z],o=S(i);o>0?(i[0]/=o,i[1]/=o,i[2]/=o):i[2]=1;let a=[n.x,n.y,n.z];const s=S(a);s>0?(a[0]/=s,a[1]/=s,a[2]/=s):a[1]=1;const l=[a[1]*i[2]-a[2]*i[1],a[2]*i[0]-a[0]*i[2],a[0]*i[1]-a[1]*i[0]];a=[i[1]*l[2]-i[2]*l[1],i[2]*l[0]-i[0]*l[2],i[0]*l[1]-i[1]*l[0]];const c=l[0],d=a[0],u=i[0],h=l[1],f=a[1],p=i[1],m=l[2],g=a[2],b=i[2],v=c+f+b;let y,x,w,_;if(v>0){const t=.5/Math.sqrt(v+1);y=.25/t,x=(g-p)*t,w=(u-m)*t,_=(h-d)*t}else if(c>f&&c>b){const t=2*Math.sqrt(1+c-f-b);y=(g-p)/t,x=.25*t,w=(d+h)/t,_=(u+m)/t}else if(f>b){const t=2*Math.sqrt(1+f-c-b);y=(u-m)/t,x=(d+h)/t,w=.25*t,_=(p+g)/t}else{const t=2*Math.sqrt(1+b-c-f);y=(h-d)/t,x=(u+m)/t,w=(p+g)/t,_=.25*t}return[e.x,e.y,e.z,t.zoom,x,w,_,y]}(t))}))}_connectEnvironmentSettings(){this._options.environments.bgColor.onchange.push((()=>this._restyleAndRender())),this._options.environments.bgStyle.onchange.push((()=>this._restyleAndRender())),this._options.environments.cutoff.onchange.push((()=>{if(void 0!==this._highlighted){const t=this._defaultCutoff(this._highlighted.center);this._changeHighlighted(this._highlighted.center,t)}this._restyleAndRender()})),this._options.environments.center.onchange.push((t=>{this._options.keepOrientation.value||this._resetView(),t&&this._centerView(),this._viewer.render()})),this._options.environments.activated.onchange.push((t=>{var e;if(this._enableEnvironmentSettings(t),t)if(void 0!==this._highlighted){const t=this._highlighted.center,e=this._options.environments.cutoff.value;this._viewer.removeModel(this._highlighted.model);const r={or:[{index:t},{within:{distance:e,sel:{index:t}}}]};this._highlighted={model:this._viewer.createModelFrom(r),center:t},this._highlighted.model.setStyle({},this._mainStyle())}else{let t=this._lastHighlighted;if(void 0===t){const r=null===(e=this._environments)||void 0===e?void 0:e.find((t=>void 0!==t));void 0!==r&&(t={center:r.center,cutoff:r.cutoff})}if(void 0!==t){this._options.environments.cutoff.value=t.cutoff;const e=t.center,r=this._defaultCutoff(e);this._changeHighlighted(e,r)}}else void 0!==this._highlighted&&(this._lastHighlighted={center:this._highlighted.center,cutoff:this._options.environments.cutoff.value});this._disableStyleUpdates||this._restyleAndRender()}))}_colorPropertyChanged(){if(void 0===this._properties)return;const t=this._options.color.property.value;if("element"!==t){this._options.color.transform.enable(),this._options.color.transform.value="linear",this._options.color.min.enable(),this._options.color.max.enable(),this._colorReset.disabled=!1,this._colorMoreOptions.disabled=!1,this._options.color.palette.enable();const e=this._transformValues(t,"linear");e.some((t=>null===t))&&this.warnings.sendMessage("The selected structure has undefined properties for some atoms, these atoms will be colored in light gray.");const{max:r,min:n}=(0,d.GI)(e);this._options.color.min.value=Number.NEGATIVE_INFINITY,this._options.color.max.value=r,this._options.color.min.value=n,this._setScaleStep([n,r])}else this._options.color.transform.disable(),this._options.color.min.disable(),this._options.color.max.disable(),this._options.getModalElement("atom-color-extra").classList.contains("show")&&this._colorMoreOptions.click(),this._colorReset.disabled=!0,this._colorMoreOptions.disabled=!0,this._options.color.palette.disable(),this._viewer.setColorByElement({},bn.elementColors.Jmol);this._restyleAndRender()}_colorRangeChange(t){const e=this._options.color.min.value,r=this._options.color.max.value;if(e>r)return this.warnings.sendMessage("The inserted min and max values in color are such that min > max! The last inserted value was reset."),void("min"===t?this._options.color.min.reset():this._options.color.max.reset());this._setScaleStep([e,r]),this._restyleAndRender()}_connectColorSettings(){this._options.color.property.onchange.push((()=>this._colorPropertyChanged())),this._options.color.transform.onchange.push((()=>{if(void 0===this._properties)return;const t=this._options.color.property.value;l()("element"!==t,"property !== 'element'");const e=this._options.color.transform.value,r=this._transformValues(t,e),{min:n,max:i}=(0,d.GI)(r);this._options.color.min.value=Number.NEGATIVE_INFINITY,this._options.color.max.value=i,this._options.color.min.value=n,this._setScaleStep([n,i]),this._disableStyleUpdates||this._updateColorBar(),this._restyleAndRender()})),this._options.color.min.onchange.push((()=>{this._colorRangeChange("min"),this._restyleAndRender()})),this._options.color.max.onchange.push((()=>{this._colorRangeChange("max"),this._restyleAndRender()})),this._colorReset.addEventListener("click",(()=>{if(void 0===this._properties)return;const t=JSON.parse(JSON.stringify(this._properties))[this._options.color.property.value].filter((t=>!isNaN(Number(t)))),[e,r]=[Math.min(...t),Math.max(...t)];this._options.color.min.value=e,this._options.color.max.value=r,this._setScaleStep([e,r]),this._restyleAndRender()})),this._options.color.palette.onchange.push((()=>{this._restyleAndRender()}))}_connectGenericSettings(){this._options.labelsProperty.onchange.push((()=>this._restyleAndRender())),this._resetEnvCutoff=this._options.getModalElement("env-reset"),this._resetEnvCutoff.onclick=()=>{l()(void 0!==this._highlighted,"this._highlighted !== undefined"),this._options.environments.cutoff.value=this._defaultCutoff(this._highlighted.center),this._restyleAndRender()},this._options.getModalElement("align-x").onclick=()=>this._viewAlong([1,0,0]),this._options.getModalElement("align-y").onclick=()=>this._viewAlong([0,1,0]),this._options.getModalElement("align-z").onclick=()=>this._viewAlong([0,0,1]),this._options.getModalElement("align-a").onclick=()=>{if(void 0===this._current||void 0===this._current.structure.cell)return;const t=this._current.structure.cell,e=[t[0],t[1],t[2]];this._viewAlong(e)},this._options.getModalElement("align-b").onclick=()=>{if(void 0===this._current||void 0===this._current.structure.cell)return;const t=this._current.structure.cell,e=[t[3],t[4],t[5]];this._viewAlong(e)},this._options.getModalElement("align-c").onclick=()=>{if(void 0===this._current||void 0===this._current.structure.cell)return;const t=this._current.structure.cell,e=[t[6],t[7],t[8]];this._viewAlong(e)},this._resetSupercell=this._options.getModalElement("reset-supercell"),this._resetSupercell.onclick=()=>{l()(void 0!==this._initialSupercell,"this._initialSupercell !== undefined"),this._options.supercell[0].value=this._initialSupercell[0],this._options.supercell[1].value=this._initialSupercell[1],this._options.supercell[2].value=this._initialSupercell[2]},this._root.ondblclick=()=>{this._resetView(),this._options.environments.center.value&&this._centerView(),this._viewer.render()}}_updateStyle(){void 0===this._current||this._disableStyleUpdates||(""!==this._options.shape.value&&this._addShapes(),this._environmentsEnabled()?(l()(void 0!==this._highlighted,"this._highlighted !== undefined"),this._current.model.setStyle({},this._hiddenStyle()),this._current.model.setStyle({index:this._highlighted.center},this._centralStyle(.4),!0),this._highlighted.model.setStyle({},this._mainStyle())):(this._current.model.setStyle({hetflag:!0},this._mainStyle(!1)),this._current.model.setStyle({hetflag:!1},this._mainStyle(!0)),void 0!==this._highlighted&&(this._highlighted.model.setStyle({},this._hiddenStyle()),this._highlighted.model.setStyle({serial:this._highlighted.center},this._centralStyle(.4)))),this._updateAtomLabels())}_addAxes(t){if(void 0!==this._axes&&(this._viewer.removeShape(this._axes[0].arrow),this._viewer.removeLabel(this._axes[0].label),this._viewer.removeShape(this._axes[1].arrow),this._viewer.removeLabel(this._axes[1].label),this._viewer.removeShape(this._axes[2].arrow),this._viewer.removeLabel(this._axes[2].label),this._axes=void 0),"off"===t);else if("xyz"===t)this._axes=[this._addLabeledArrow([2,0,0],"red","X"),this._addLabeledArrow([0,2,0],"green","Y"),this._addLabeledArrow([0,0,2],"blue","Z")];else if("abc"===t){if(void 0===this._current||void 0===this._current.structure.cell)return;const t=this._current.structure.cell,e=[t[0],t[1],t[2]],r=[t[3],t[4],t[5]],n=[t[6],t[7],t[8]];this._axes=[this._addLabeledArrow(e,"red","A"),this._addLabeledArrow(r,"green","B"),this._addLabeledArrow(n,"blue","C")]}this._viewer.render()}_resetShapes(){void 0!==this._current&&(this._viewer.removeAllShapes(),this._axes=void 0,this._options.unitCell.value&&this._viewer.addUnitCell(this._current.model,{box:{color:"black",linewidth:4},astyle:{hidden:!0},bstyle:{hidden:!0},cstyle:{hidden:!0}}),this._addAxes(this._options.axes.value))}_addShapes(){if(void 0===this._current)return;if(""===this._options.shape.value)return;this._resetShapes();const t=this._current.structure;l()(!(void 0===t.shapes),"!(structure.shapes === undefined)");const e=this._options.shape.value.split(","),r={vertexArr:[],normalArr:[],faceArr:[],color:[]},n=this._colorFunction(),i={};for(const o of e){if(""===o)continue;l()(o in t.shapes,"shape in structure.shapes");const e=t.shapes[o];let a=this._options.supercell[0].value,s=this._options.supercell[1].value,c=this._options.supercell[2].value,d=this._current.structure.cell;void 0===d&&(d=[1,0,0,0,1,0,0,0,1],(a>1||s>1||c>1)&&(a=1,s=1,c=1));for(let o=0;o<a;o++)for(let a=0;a<s;a++)for(let s=0;s<c;s++){let c=Object.assign({},e.parameters.global);if(c.position=[0,0,0],e.parameters.structure&&(c=Object.assign(Object.assign({},c),e.parameters.structure[0])),e.parameters.atom)for(let u=0;u<t.size;u++){const h=t.names[u];l()(u<e.parameters.atom.length,"i < currentShape.parameters.atom.length");const f=Object.assign(Object.assign({},c),e.parameters.atom[u]);let p=[t.x[u],t.y[u],t.z[u]];const m=e.parameters.atom[u].position;void 0!==m&&(p=m),p[0]+=o*d[0]+a*d[3]+s*d[6],p[1]+=o*d[1]+a*d[4]+s*d[7],p[2]+=o*d[2]+a*d[5]+s*d[8],f.position=p;const g=t.elements?t.elements[u]:h;f.color||(n?(i.serial=u,i.elem=g,f.color=n(i)):f.color=bn.elementColors.Jmol[g]||16777215),"sphere"===e.kind?In(r,new Cn(f).outputTo3Dmol(f.color||16777215),this._viewer):"ellipsoid"===e.kind?In(r,new zn(f).outputTo3Dmol(f.color||16777215),this._viewer):"cylinder"===e.kind?In(r,new On(f).outputTo3Dmol(f.color||16777215),this._viewer):"arrow"===e.kind?In(r,new Ln(f).outputTo3Dmol(f.color||16777215),this._viewer):(l()("custom"===e.kind,"currentShape.kind === 'custom'"),In(r,new Dn(f).outputTo3Dmol(f.color||16777215),this._viewer))}else"sphere"===e.kind?In(r,new Cn(c).outputTo3Dmol(c.color||16777215),this._viewer):"ellipsoid"===e.kind?In(r,new zn(c).outputTo3Dmol(c.color||16777215),this._viewer):"cylinder"===e.kind?In(r,new On(c).outputTo3Dmol(c.color||16777215),this._viewer):"arrow"===e.kind?In(r,new Ln(c).outputTo3Dmol(c.color||16777215),this._viewer):(l()("custom"===e.kind,"currentShape.kind === 'custom'"),In(r,new Dn(c).outputTo3Dmol(c.color||16777215),this._viewer))}}Array.isArray(r.faceArr)&&r.faceArr.length>0&&this._viewer.addCustom(r),this._viewer.render()}_updateAtomLabels(){if(void 0===this._current)return;if(this._current.atomLabels.length>0){const t=this._viewer,e=t.show;try{t.show=()=>{};for(const e of this._current.atomLabels)t.removeLabel(e)}finally{t.show=e}}if(this._current.atomLabels=[],!this._options.atomLabels.value)return void this._viewer.render();const t=this._current.structure,e=this._viewer.selectedAtoms({}),r=[];for(const t of e){const e=(t.style||{}).sphere;void 0!==e&&!0!==e.hidden&&(void 0===e.opacity||e.opacity>0)&&r.push(t)}if(r.length>1e3)return this.warnings.sendMessage("Atom labels are disabled when more than 1000 atoms are visible to avoid performance issues."),void this._viewer.render();for(const e of r){let r=e.serial;if(void 0===r&&void 0!==e.index){const n=t.size;r=e.index%n}l()(void 0!==r,"serial !== undefined");const n=t.names[r];let i=bn.elementColors.Jmol[n]||0;16777215!==i&&"white"!==i||(i=4473924);const o=new bn.Vector3(e.x,e.y,e.z);let a=n;"element"!==this._options.labelsProperty.value&&void 0!==this._properties&&(a=this._formatLabel(this._properties[this._options.labelsProperty.value][r]));const s=this._viewer.addLabel(a,{position:o,inFront:!0,fontColor:i,fontSize:14,showBackground:!1,alignment:"bottomLeft"},void 0,!0);this._current.atomLabels.push(s)}this._viewer.render()}_updateColorBar(){this._deleteColorBar(),"element"!==this._options.color.property.value&&(this._colorBar=this._addColorBar())}_deleteColorBar(){void 0!==this._colorBar&&(this._viewer.removeLabel(this._colorBar.min),this._viewer.removeLabel(this._colorBar.mid),this._viewer.removeLabel(this._colorBar.max),this._viewer.removeLabel(this._colorBar.property),this._viewer.removeLabel(this._colorBar.gradient),this._colorBar=void 0)}_addColorBar(){var t,e;const r=this._options.color.palette.value,n=(0,d.jY)(this._options.color.property.value,this._options.color.transform.value,!1),i=null===(t=this._viewer.container)||void 0===t?void 0:t.clientWidth,o=null===(e=this._viewer.container)||void 0===e?void 0:e.clientHeight;l()(void 0!==i&&void 0!==o,"viewerWidth !== undefined && viewerHeight !== undefined");const a=o-80,s=document.createElement("canvas");s.width=20,s.height=a;const c=H[r],u=s.getContext("2d");if(!u)throw new Error("Could not get 2D context from canvas");const h=u.createLinearGradient(0,a,0,0);for(let t=0;t<c.length;t++)h.addColorStop(c[t][0],c[t][1]);u.fillStyle=h,u.fillRect(0,0,20,a);const f=this._options.color.min.value,p=this._options.color.max.value,m=(f+p)/2;return{min:this._viewer.addLabel((0,d.JZ)(f)+"-",this._colorBarLabelsSpec({x:i-20,y:o-38,alignment:"centerRight",fontSize:14})),mid:this._viewer.addLabel((0,d.JZ)(m)+"-",this._colorBarLabelsSpec({x:i-20,y:o-(30+a/2),alignment:"centerRight",fontSize:14})),max:this._viewer.addLabel((0,d.JZ)(p)+"-",this._colorBarLabelsSpec({x:i-20,y:o-(30+a-8),alignment:"centerRight",fontSize:14})),property:this._viewer.addLabel(n,this._colorBarLabelsSpec({x:i-6,y:o-15,alignment:"centerRight",fontSize:16})),gradient:this._viewer.addLabel(".",{position:new bn.Vector3(i-25,o-(a+30),0),backgroundImage:s,borderColor:"black",borderOpacity:1,borderThickness:1,fontColor:"white",fontSize:2,fontOpacity:0,inFront:!0,useScreen:!0})}}_colorFunction(){const t=this._options.color.property.value;if(void 0===this._properties||"element"===t){const t=H.tab20;return e=>{if(void 0!==e.elem){const r=bn.elementColors.Jmol[e.elem];if(void 0!==r)return r;{let r=this._nonStandardElemColors.get(e.elem);return void 0===r&&(this._nonStandardElemColors.set(e.elem,t[this._nonStandardElemColors.size%(t.length/2)*2][1]),r=this._nonStandardElemColors.get(e.elem)),l()(void 0!==r,"value !== undefined"),r}}return 14540253}}const e=this._options.color.transform.value,r=this._transformValues(t,e),n=this._options.color.min.value,i=this._options.color.max.value,o=H[this._options.color.palette.value],a=[];for(let t=0;t<o.length;t++)a.push(o[t][1]);const s=new bn.Gradient.CustomLinear(n,i,a);return t=>{l()(void 0!==t.serial,"atom.serial !== undefined");const e=r[t.serial];return null===e?14540253:isNaN(e)?2236962:Number.isFinite(n)&&Number.isFinite(i)?s.valueToHex(e):2236962}}_transformValues(t,e){l()(void 0!==this._properties,"this._properties !== undefined"),l()(Object.keys(this._properties).includes(t),"Object.keys(this._properties).includes(property)");let r=JSON.parse(JSON.stringify(this._properties[t])),n=t=>t;return"log"===e?n=Math.log10:"sqrt"===e?n=Math.sqrt:"inverse"===e&&(n=t=>1/t),r=r.map((t=>null===t||isNaN(t)?t:n(t))),r}_mainStyle(t=!1){const e={},r=t&&!this._options.cartoon.value;return!this._options.atoms.value||t&&!r||(e.sphere={scale:this._options.spaceFilling.value?1:.22,colorfunc:this._colorFunction()}),!this._options.bonds.value||t&&!r||(e.stick={radius:.15,colorfunc:this._colorFunction()}),!r&&t&&(e.cartoon={color:"spectrum",arrows:!0,opacity:1}),e}_hiddenStyle(){const t={},e=this._options.environments.bgStyle.value;"hide"===e||("licorice"===e||"ball-stick"===e?(t.stick={radius:.149,opacity:.85,hidden:!this._options.bonds.value},"ball-stick"===e&&""===this._options.shape.value&&(t.sphere={scale:this._options.spaceFilling.value?.999:.219,opacity:.85})):"cartoon"===e?t.cartoon={opacity:.85,thickness:.3,arrows:!0}:(0,d.HB)());const r=this._options.environments.bgColor.value;return"CPK"===r||("grey"===r?(void 0!==t.stick&&(t.stick.color=8421504),void 0!==t.sphere&&(t.sphere.color=8421504),void 0!==t.cartoon&&(t.cartoon.color=8421504)):"property"===r?(void 0!==t.stick&&(t.stick={radius:.149,opacity:.85,hidden:!this._options.bonds.value,colorfunc:this._colorFunction()}),void 0!==t.sphere&&(t.sphere={scale:this._options.spaceFilling.value?.999:.219,opacity:.85,colorfunc:this._colorFunction()}),void 0!==t.cartoon&&(t.cartoon={opacity:.85,thickness:.3,arrows:!0,colorfunc:this._colorFunction()})):(0,d.HB)()),t}_centralStyle(t){return{sphere:{scale:t,color:"green",opacity:.85}}}_defaultCutoff(t){l()(void 0!==this._environments,"this._environments !== undefined");const e=this._environments[t];return l()(void 0!==e,"environment !== undefined"),e.cutoff}_formatLabel(t){if(void 0===t)return"";if("string"==typeof t)return t;if("number"==typeof t){if(!Number.isFinite(t))return t.toString();let e=t.toPrecision(3);return(Math.abs(t)<.01||Math.abs(t)>=1e3)&&(e=t.toExponential(2)),e}return String(t)}_colorBarLabelsSpec(t){return{alignment:t.alignment,position:new bn.Vector3(t.x,t.y,0),font:"sans",fontColor:"black",fontSize:t.fontSize,showBackground:!1,inFront:!0,useScreen:!0,backgroundColor:"red"}}_setScaleStep(t){if(void 0!==t){const e=Math.round((t[1]-t[0])/20*Math.pow(10,10))/Math.pow(10,10),r=this._options.getModalElement("atom-color-min"),n=this._options.getModalElement("atom-color-max");r.step=`${e}`,n.step=`${e}`}}_selectAtom(t){l()(void 0!==t.serial,"atom.serial !== undefined"),this.onselect(t.serial)}_resetView(){this._viewer.zoomTo(),this._viewer.zoom(2),this._viewer.setSlab(-1e3,1e3)}_centerView(){void 0!==this._highlighted&&void 0!==this._current&&this._options.environments.activated.value&&this._viewer.center({index:this._highlighted.center,model:this._current.model})}_viewAlong(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=Math.acos(t[2]/e),n=[t[1]/e*Math.sin(r/2),-t[0]/e*Math.sin(r/2),0,Math.cos(r/2)],i=this._viewer.getView();i[4]=n[0],i[5]=n[1],i[6]=n[2],i[7]=n[3],this._viewer.setView(i)}_addLabeledArrow(t,e,r){const n=new bn.Vector3(t[0],t[1],t[2]),i=this._viewer.addArrow({start:{x:0,y:0,z:0},end:n,color:e,radius:.1,mid:1,midpos:-1});return void 0!==i.lbl&&this._viewer.removeLabel(i.lbl),{arrow:i,label:this._viewer.addLabel(r,{position:n,inFront:!0,fontColor:"black",fontSize:14,showBackground:!1})}}_setEnvironmentInteractions(){if(void 0===this._environments)return;const t=this._environments.filter((t=>void 0!==t)).map((t=>t.center));for(const t of this._viewer.selectedAtoms({}))t.clickable=!1,t.hoverable=!1;l()(void 0!==this._current,"this._current !== undefined"),this._viewer.setClickable({model:this._current.model,index:t},!0,(t=>this._selectAtom(t))),this._setHoverable(t)}_setHoverable(t){l()(void 0!==this._current,"this._current !== undefined"),this._viewer.setHoverDuration(0);const e=this.natoms();l()(void 0!==e,"n_atoms !== undefined");const r=new Map;this._viewer.setHoverable({model:this._current.model,index:t},!0,(t=>{if(l()(void 0!==t.index,"atom.index !== undefined"),void 0!==r.get(t.index))return;const e=this._viewer.addModel();e.addAtoms([t]),e.setStyle({},this._centralStyle(.3));const n=e.selectedAtoms({});n[0].clickable=!1,n[0].hoverable=!1,r.set(t.index,e),this._viewer.render()}),(t=>{l()(void 0!==t.index,"atom.index !== undefined");const e=r.get(t.index);void 0!==e&&(this._viewer.removeModel(e),r.delete(t.index),this._viewer.render())}))}_environmentsEnabled(){return void 0!==this._highlighted&&!this._resetEnvCutoff.disabled}_enableEnvironmentSettings(t){const e=this._options.getModalElement("env-activated").nextElementSibling;l()(null!==e,"toggle !== null");const r=this._resetEnvCutoff,n=this._options.getModalElement("env-center").parentElement;l()(null!==n,"centerContainer !== null");const i=this._options.getModalElement("chsp-env-more");t?(r.disabled=!1,e.innerText="Disable",n.style.display="",i.style.display="",this._options.environments.cutoff.enable(),this._options.environments.bgStyle.enable(),this._options.environments.bgColor.enable(),this._options.environments.center.enable()):(r.disabled=!0,e.innerText="Enable",n.style.display="none",this._options.getModalElement("chsp-extra-env").classList.contains("show")&&i.click(),i.style.display="none",this._options.environments.cutoff.disable(),this._options.environments.bgStyle.disable(),this._options.environments.bgColor.disable(),this._options.environments.center.disable())}_changeHighlighted(t,e){if(void 0!==this._highlighted&&this._viewer.removeModel(this._highlighted.model),void 0===t)this._options.environments.cutoff.value=0,this._highlighted=void 0,this._options.environments.activated.value=!1,this._enableEnvironmentSettings(!1);else{if(void 0===this._environments)throw Error("cannot highlight an atom without having a list of environments");const r=this._environments[t];if(void 0===r)throw Error(`cannot highlight atom ${t}: it is not part of the list of environments`);const n=this._options.environments.cutoff.value;void 0!==e&&e!==n||(this._options.environments.cutoff.value=r.cutoff),this._enableEnvironmentSettings(this._options.environments.activated.value);const i={or:[{index:t},{within:{distance:this._options.environments.cutoff.value,sel:{index:t}}}]};this._highlighted={model:this._viewer.createModelFrom(i),center:t},this._highlighted.model.setStyle({},this._mainStyle())}}_showSupercellInfo(){const t=this._options.supercell[0].value,e=this._options.supercell[1].value,r=this._options.supercell[2].value;this._cellInfo.innerText=1!==t||1!==e||1!==r?`${t}x${e}x${r} supercell`:""}}var Zn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))};class Xn{constructor(t,e,r,n,i,o,a=9,s=new d.eS){if(this._target=n,this._structures=r,void 0===i)this._properties={};else{const t=T(i,(t=>Object.values(t.values).every((t=>"number"==typeof t)))),e=T(t,(t=>"atom"===t.target));this._properties=Object.fromEntries(Object.entries(e).map((([t,e])=>[t,e.values])))}if(this._resolvedStructures=new Array(r.length),this._indexer=e,this._calculatedEnvironments=function(t,e){if(void 0===e)return;const r=Array.from({length:t.length}).map(((e,r)=>Array.from({length:t[r].size})));for(let t=0;t<e.length;t++){const n=e[t];r[n.structure][n.center]=Object.assign({index:t},n)}return r}(this._structures,o),this._environments=this._calculatedEnvironments,this.loadStructure=(t,e)=>""!==Rn(e)?Promise.reject(new Error(`got custom data for this structure, but no custom loadStructure callback\nthe object was ${JSON.stringify(e)}`)):Promise.resolve(e),this.warnings=s,this._cellsData=new Map,this.onselect=()=>{},this.onremove=()=>{},this.oncreate=()=>{},this.activeChanged=()=>{},this.delayChanged=()=>{},this._onSettingChangeCallbacks=[],a>9)throw Error("chemiscope only supports up to 9 structure viewers in the grid");this._maxViewers=a;const l=(0,d.V6)(t),c=document.createElement("div");c.style.setProperty("height","100%"),l.appendChild(c),this._shadow=c.attachShadow({mode:"open"}),this._shadow.adoptedStyleSheets=[k.A,A.A],this._root=document.createElement("div"),this._root.id="grid-root",this._root.className="chsp-structure-viewer-grid",this._shadow.appendChild(this._root),this._setupGrid(1),this._active=(0,d.o)(this._cellsData),this.setActive(this._active)}_getById(t){return(0,d.VT)(t,this._shadow)}get active(){return this._active}get activeIndex(){return this._getCurrentPositionInGrid(this._active)}set activeIndex(t){let e=0;for(const r of this._cellsData.keys()){if(e===t)return void this.setActive(r);e++}throw Error(`invalid viewer index ${t}`)}exportActivePNG(){const t=this._cellsData.get(this._active);return l()(void 0!==t,"data !== undefined"),t.viewer.exportPNG()}pinned(){const t=[];for(const e of this._cellsData.values())t.push(e.current);return t}show(t){return Zn(this,void 0,void 0,(function*(){yield this._showInViewer(this.active,t).catch((t=>{throw t}))}))}addViewer(){const t=this._setupGrid(this._cellsData.size+1);if(0===t.length)return{guid:void 0,color:""};l()(1===t.length,"newGUIDs.length === 1");const e=t[0],r=this._cellsData.get(e);l()(void 0!==r,"newData !== undefined");for(const t of this._onSettingChangeCallbacks)r.viewer.onSettingChange(((r,n)=>{let i=0;for(const t of this._cellsData.keys()){if(e===t)break;i+=1}r.unshift(i.toString()),t(r,n)}));return{guid:e,color:r.color}}removeViewer(t){if(l()(this._cellsData.size>1,"this._cellsData.size > 1"),this._active===t){const e=(0,d.o)(this._cellsData,t);this.setActive(e);const r=this._cellsData.get(e);l()(void 0!==r,"data !== undefined"),this.activeChanged(e,r.current)}const e=this._cellsData.get(t);l()(void 0!==e,"data !== undefined"),e.viewer.remove(),this._getById(`gi-${t}`).remove(),this._cellsData.delete(t)}remove(){for(const t of this._cellsData.values())t.viewer.remove();this._shadow.host.remove()}setActive(t){const e=(t,e)=>{const r=this._getById(`chsp-activate-${t}`);r.classList.toggle("chsp-active-pin",e),l()(null!==r.parentElement,"button.parentElement !== null");const n=r.parentElement.querySelector(".chsp-tooltip");l()(null!==n,"tooltip !== null"),n.innerHTML=e?"Active viewer":"Choose as active",this._getById(`gi-${t}`).classList.toggle("chsp-structure-viewer-cell-active",e)},r=this._cellsData.get(this._active);l()(void 0!==r,"current !== undefined"),e(this._active,!1),this._active=t;const n=this._cellsData.get(this._active);l()(void 0!==n,"newData !== undefined"),this.delayChanged(n.viewer._options.playbackDelay.value),e(this._active,!0)}set positionSettingsModal(t){this._positionSettingsModal=t;for(const e of this._cellsData.values())e.viewer.positionSettingsModal=t}applySettings(t){if(0!==t.length)if(1!==t.length){if(t.length!==this._cellsData.size)throw Error(`The number of viewers (${this._cellsData.size}) is different from the structure settings specified (${t.length})`);for(const[e,r]of(0,d.HL)(this._cellsData.values()))r.viewer.applySettings(t[e])}else{const e=this._cellsData.get(this._active);void 0!==e&&e.viewer.applySettings(t[0])}}saveSettings(){const t=[];for(const e of this._cellsData.values())t.push(e.viewer.saveSettings());return t}onSettingChange(t){for(const e of this._cellsData.keys()){const r=this._cellsData.get(e);l()(void 0!==r,"data !== undefined"),r.viewer.onSettingChange(((r,n)=>{(r=JSON.parse(JSON.stringify(r))).unshift(this._getCurrentPositionInGrid(e).toString()),t(r,n)}))}this._onSettingChangeCallbacks.push(t)}switchTarget(t){return Zn(this,void 0,void 0,(function*(){this._target=t,this._updateEnvironments("atom"===this._target);const e=Array.from(this._cellsData.entries()).map((([t,e])=>this._refreshCell(t,e,"atom"===this._target)));yield Promise.all(e)}))}_updateEnvironments(t){if(this._environments=t?this._calculatedEnvironments:void 0,t){l()(void 0!==this._environments,"this._environments !== undefined");for(const t of this._cellsData.values())t.viewer.environments=this._environments[t.current.structure]}}_refreshCell(t,e,r){return Zn(this,void 0,void 0,(function*(){r&&e.current.environment>=0?e.current.atom=this._indexer.fromEnvironment(e.current.environment,this._target).atom:e.current.atom=void 0,this._cellsData.set(t,e);const n=this._properties?Object.keys(this._properties):[];e.viewer.refreshOptions(r,n),e.current.structure>=0&&(yield this._loadViewer(e.viewer,e.current.structure,e.current.atom)),e.viewer.highlight(r?e.current.atom:void 0)}))}_duplicate(t){return Zn(this,void 0,void 0,(function*(){const e=this._cellsData.get(t);l()(void 0!==e,"data !== undefined");const r=this.addViewer().guid;if(void 0===r)return;const n=this._cellsData.get(r);return l()(void 0!==n,"newData !== undefined"),yield this._showInViewer(r,e.current),n.viewer.applySettings(e.viewer.saveSettings()),this.setActive(r),n}))}_structure(t){return Zn(this,void 0,void 0,(function*(){if(void 0===this._resolvedStructures[t]){const e=yield this.loadStructure(t,this._structures[t]),r=Rn(e);if(""!==r)throw Error(`got invalid object as structure: ${r}\n    the object was ${JSON.stringify(e)}`);"shapes"in this._structures[t]&&(e.shapes=this._structures[t].shapes),this._resolvedStructures[t]=e}return this._resolvedStructures[t]}))}_propertiesForStructure(t){const e={};if(void 0!==this._calculatedEnvironments){const r=this._calculatedEnvironments[t];for(const t in this._properties){const n=this._properties[t];e[t]=[];for(const i of r)void 0!==i?e[t].push(n[i.index]):e[t].push(void 0)}return e}}_showInViewer(t,e){return Zn(this,void 0,void 0,(function*(){const r=this._cellsData.get(t);l()(void 0!==r,"data !== undefined");const n=r.viewer;r.current.structure!==e.structure&&(yield this._loadViewer(n,e.structure,e.atom),r.current=e),n.highlight("atom"===this._target?e.atom:void 0),r.current=e}))}_loadViewer(t,e,r){return Zn(this,void 0,void 0,(function*(){const n=this._propertiesForStructure(e),i={target:this._target,trajectory:!0};void 0!==this._environments&&(i.environments=this._environments[e],"atom"===this._target&&(i.highlight=r));const o=yield this._structure(e);yield new Promise((e=>{t.load(o,n,i,(()=>{e()}))}))}))}_getNextColor(){const t=[];for(const e of this._cellsData.values())t.push(e.color);return(0,d.Lz)(t)}_setupCell(t,e,r){const n=`gi-${t}`;let i=this._root.querySelector(`#${n}`),o="";if(null===i){i=document.createElement("div"),i.id=n,i.classList.add("chsp-structure-viewer-cell","grid-item"),i.style.gridColumn=`${e}`,i.style.gridRow=`${r}`,o=this._getNextColor();const a=document.createElement("template");a.innerHTML=`<div\n                class="chsp-has-tooltip chsp-viewer-button chsp-viewer-action-button"\n                style="position: absolute; top: 6px; left: 6px; display: flex">\n                    <div id="chsp-activate-${t}"\n                         class="chsp-pin-marker"\n                         style="background-color: ${o}; position: relative; margin: auto;"\n                    ></div>\n                    <span class="chsp-tooltip chsp-tooltip-right">WILL BE FILLED LATER</span>\n                </div>`;const s=a.content.firstChild;s.onclick=()=>{this.setActive(t);const e=this._cellsData.get(this._active);l()(void 0!==e,"data !== undefined"),this.activeChanged(t,e.current)},i.appendChild(s),a.innerHTML='<button\n                class="btn btn-light btn-sm chsp-has-tooltip chsp-viewer-button chsp-viewer-action-button"\n                style="top: 6px; right: 32px;">\n                    <span><svg width="24" height="24" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>\n</span>\n                    <span class="chsp-tooltip chsp-tooltip-below">Remove viewer</span>\n                </button>';const c=a.content.firstChild;c.onclick=()=>{1!==this._cellsData.size?(this.onremove(t),this.removeViewer(t),this._setupGrid(this._cellsData.size)):this.warnings.sendMessage("can not remove the last viewer from the grid")},i.appendChild(c),a.innerHTML='<button\n                class="btn btn-light btn-sm chsp-has-tooltip chsp-viewer-button chsp-viewer-action-button"\n                style="top: 6px; right: 60px;">\n                    <span style="position: absolute; top: 2px; right: 5px;"><svg width="16" height="16" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="clone" class="svg-inline--fa fa-clone fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"></path></svg>\n</span>\n                    <span class="chsp-tooltip chsp-tooltip-below">Duplicate viewer</span>\n                </button>';const d=a.content.firstChild;d.onclick=()=>Zn(this,void 0,void 0,(function*(){const e=yield this._duplicate(t);void 0!==e&&(this.oncreate(this.active,e.color,e.current),this.activeChanged(this.active,e.current))})),i.appendChild(d),a.innerHTML=`<button\n                class="btn btn-light btn-sm chsp-has-tooltip chsp-viewer-button chsp-viewer-action-button"\n                style="top: 6px; right: 90px;">\n                    <span>${Q}</span>\n                    <span class="chsp-tooltip chsp-tooltip-below">Download PNG</span>\n                </button>`;const u=a.content.firstChild;return u.onclick=()=>{const e=this._cellsData.get(t);l()(void 0!==e,"data !== undefined");const r=e.viewer,n=e.current.structure;if(void 0!==e.current.atom){const t=e.current.atom;$n(r.exportPNG(),`chemiscope-structure-${n}-atom-${t}.png`)}else $n(r.exportPNG(),`chemiscope-structure-${n}.png`)},i.appendChild(u),this._root.appendChild(i),o}return i.style.gridColumn=`${e}`,i.style.gridRow=`${r}`,""}_setupGrid(t){const e=[];if(t<1)return this.warnings.sendMessage("Cannot delete last molecular viewer."),e;if(t>this._maxViewers)return this.warnings.sendMessage(`Viewer grid cannot contain more than ${this._maxViewers} viewers.`),e;const r=this.bestGridArrangement(t);if(this._cellsData.size>t){this.warnings.sendMessage(`Eliminating last ${this._cellsData.size-t} viewers.`);let e=0;for(const r of this._cellsData.keys())e>=t&&this.removeViewer(r),e+=1}let n=1,i=1;const o=this._cellsData.keys();for(let a=0;a<t;a++){let t;t=a>=this._cellsData.size?(0,d.Nl)():o.next().value;let s=this._setupCell(t,i,n);if(""===s&&(s=this._getNextColor()),i++,i>r.columns&&(n++,i=1),!this._cellsData.has(t)){const r=this._properties?Object.keys(this._properties):[],n=new Yn(this._getById(`gi-${t}`),r,this.warnings);n.onSettingChange(((e,r)=>{"playbackDelay"===e[0]&&this._active===t&&this.delayChanged(r)})),n.onselect=e=>{if("atom"!==this._target||this._active!==t)return;const r=this._cellsData.get(this._active);l()(void 0!==r,"data !== undefined");const i=n.natoms();l()(void 0!==i,"natoms !== undefined");const o=this._indexer.fromStructureAtom(this._target,r.current.structure,e%i);void 0!==o&&(n.highlight(e),this.onselect(o))};const i={atom:void 0,structure:-1,environment:-1};this._cellsData.set(t,{color:s,current:i,viewer:n}),void 0!==this._positionSettingsModal&&(n.positionSettingsModal=this._positionSettingsModal),e.push(t)}}for(const t of this._cellsData.values())t.viewer.resize();return e}bestGridArrangement(t){switch(t){case 1:case 2:return{rows:t,columns:1};case 3:case 4:return{rows:2,columns:2};case 5:case 6:return{rows:3,columns:2};case 8:case 7:case 9:return{rows:3,columns:3};default:throw Error("reached unreachable code: too many viewers in the grid")}}_getCurrentPositionInGrid(t){let e=0;for(const r of this._cellsData.keys()){if(t===r)break;e+=1}return e}}class Jn{constructor(t,e){this._containerElement=(0,d.V6)(t);const r=document.createElement("div");this._containerElement.appendChild(r),this._shadow=r.attachShadow({mode:"open"}),this._shadow.adoptedStyleSheets=[k.A,A.A],this._toggleContainer=this._createToggleElement("atom"===e),this._shadow.appendChild(this._toggleContainer),this._containerElement.style.setProperty("height",`calc(100% - ${this._toggleContainer.offsetHeight}px)`),this.onchange=()=>{}}_createToggleElement(t){const e=document.createElement("div");return e.innerHTML=`\n            <div class="chsp-target-toggle" title="Toggles between structure and atom-centered data">\n                \x3c!-- Spinner --\x3e\n                <div id="chsp-target-spinner" class="chsp-target-spinner spinner-border text-secondary" role="status" style="display: none;">\n                    <span class="visually-hidden">Loading...</span>\n                </div>\n\n                \x3c!-- Buttons --\x3e\n                <div class="btn-group-sm" role="group" aria-label="Target toggle">\n                    <button type="button" class="btn btn-outline-secondary ${t?"":"active"}" id="structure-btn">structure</button>\n                    <button type="button" class="btn btn-outline-secondary ${t?"active":""}" id="atom-btn">atom</button>\n                </div>\n            </div>\n        `,e.querySelector("#structure-btn").onclick=()=>this._select("structure"),e.querySelector("#atom-btn").onclick=()=>this._select("atom"),e.firstElementChild}_select(t){const e="atom"===t;this._toggleContainer.querySelector("#structure-btn").classList.toggle("active",!e),this._toggleContainer.querySelector("#atom-btn").classList.toggle("active",e),this.onchange(t)}loader(t){this._toggleContainer.querySelector("#chsp-target-spinner").style.display=t?"inline-block":"none",this._toggleContainer.querySelectorAll(".btn-outline-secondary").forEach((e=>{t?e.setAttribute("disabled","true"):e.removeAttribute("disabled")}))}remove(){this._shadow.host.remove(),this._containerElement.style.setProperty("height","100%")}}var Qn=r(85072),Kn=r.n(Qn),ti=r(97825),ei=r.n(ti),ri=r(77659),ni=r.n(ri),ii=r(55056),oi=r.n(ii),ai=r(10540),si=r.n(ai),li=r(41113),ci=r.n(li),di=r(5018),ui={};ui.styleTagTransform=ci(),ui.setAttributes=oi(),ui.insert=ni().bind(null,"head"),ui.domAPI=ei(),ui.insertStyleElement=si(),Kn()(di.A,ui),di.A&&di.A.locals&&di.A.locals;var hi=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))};function fi(t){const e=(t,e)=>{if("object"!=typeof e||null===e)throw Error(`"settings.${t}" must be an object`)},r=(t,e)=>{if(!(Array.isArray(e)&&e.length>0))throw Error(`"settings.${t}" must be an array containing at least one element`)};for(const n in t)if("map"===n)e(n,t.map);else if("structure"===n){r(n,t.structure);for(const r of t.structure)e("structure entry",r)}else if("pinned"===n){r(n,t.pinned);for(const e of t.pinned)if(!(Number.isInteger(e)&&e>=0))throw Error('"settings.pinned" must be an array of numbers')}else{if("target"!==n)throw Error(`invalid key "${n}" in settings`);if(!["atom","structure"].includes(t.target))throw Error('"settings.target" should be either "atom" or "structure"')}}class pi{static load(t,e,r){return hi(this,void 0,void 0,(function*(){const n=new pi(t,e,r);return yield n._loadInitial(e),n}))}get indexer(){return this._indexer}constructor(t,e,r){this._target="structure",function(t,e){if("object"!=typeof t||null===t)throw Error("the configuration must be a JavaScript object");for(const r of e)if(!(r in t)||!("string"==typeof t[r]||t[r]instanceof HTMLElement))throw Error(`missing "${r}" key in chemiscope configuration`);if("settings"in t){if("object"!=typeof t.settings||null===t.settings)throw Error('"settings" must be an object in chemiscope configuration');fi(t.settings)}if("loadStructure"in t&&void 0!==t.loadStructure&&!((r=t.loadStructure)&&r.constructor&&r.call&&r.apply))throw Error('"loadStructure" should be a function in chemiscope config');var r;if("maxStructureViewers"in t&&"number"!=typeof t.maxStructureViewers)throw Error('"maxStructureViewers" should be a number in chemiscope config')}(t,["meta","map","info","structure"]),function(t){if("object"!=typeof t||null===t)throw Error("the dataset must be a JavaScript object");if(!("meta"in t))throw Error('missing "meta" key in the dataset');if("object"!=typeof t.meta||null===t.meta)throw Error('"meta" must be an object in the dataset');if(function(t){if(l()(null!==t,"o !== null"),!("name"in t))throw Error('missing "meta.name" key in the dataset');if("string"!=typeof t.name)throw Error('"meta.name" must be a string in the dataset');if("description"in t&&"string"!=typeof t.description)throw Error('"meta.description" should be a string in the dataset');if("authors"in t){if(!Array.isArray(t.authors))throw Error('"meta.authors" must be an array in the dataset');for(const e of t.authors)if("string"!=typeof e)throw Error('"meta.authors" must be an array of strings in the dataset')}if("references"in t){if(!Array.isArray(t.references))throw Error('"meta.references" must be an array in the dataset');for(const e of t.references)if("string"!=typeof e)throw Error('"meta.references" must be an array of strings in the dataset')}}(t.meta),!("structures"in t))throw Error('missing "structures" key in the dataset');if(!Array.isArray(t.structures))throw Error('"structures" must be an array in the dataset');const[e,r]=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];if(l()(null!==n,"structure !== null"),!("size"in n)||"number"!=typeof n.size||!Pn(n.size))throw Error(`missing 'size' for structure ${r}`);if(e+=n.size,"data"in n);else{const t=Rn(n);if(""!==t)throw Error(`error in structure ${r}: ${t}`)}}return[t.length,e]}(t.structures);let n=r;if("environments"in t){if(!Array.isArray(t.environments))throw Error('"environments" must be an array in the dataset');n=t.environments.length,function(t,e){for(let r=0;r<t.length;r++){const n=t[r];if(l()(null!==n,"env !== null"),!("structure"in n)||"number"!=typeof n.structure)throw Error(`missing 'structure' for environment ${r}`);if(!Pn(n.structure)||n.structure>=e.length)throw Error(`out of bounds 'structure' for environment ${r}: index is                 ${n.structure}, we have ${e.length} structures`);if(!("center"in n)||"number"!=typeof n.center)throw Error(`missing 'center' for environment ${r}`);const i=e[n.structure].size;if(!Pn(n.center)||n.center>=i)throw Error(`out of bounds 'center' for environment ${r}: index is                 ${n.center}, we have ${i} atoms in structure ${n.structure}`);if(!("cutoff"in n)||"number"!=typeof n.cutoff)throw Error(`missing 'cutoff' for environment ${r}`)}}(t.environments,t.structures)}if("shapes"in t){const n=function(t,e,r){if("object"!=typeof t||null===t)return"'shapes' must be an object";for(const[n,i]of Object.entries(t)){const t=i;if(!("kind"in t))return`missing "kind" in shape ${n}`;if("string"!=typeof t.kind)return`shapes 'kind' must be a string for shape ${n}`;if(!("parameters"in t))return`missing "parameters" in shape ${n}`;const o=t.parameters;if("structure"in o){const t=o.structure;if(!Array.isArray(t))return`'structure' parameters should be an array in shape ${n}`;if(t.length!==e)return`'structure' parameters in shape ${n} contain ${t.length}                          entries, but there are ${e} structures.`}if("atom"in o){const t=o.atom;if(!Array.isArray(t))return`'atom' parameters should be an array in shape ${n}`;if(t.length!==r)return`'atom' parameters in shape ${n} contain ${t.length} entries,                          but there are ${r} environments.`}}return""}(t.shapes,e,r);if(""!==n)throw Error("Error checking shape definitions: "+n);const i=function(t,e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];i.shapes={};for(const[e,o]of Object.entries(t)){const t={global:o.parameters.global,structure:o.parameters.structure,atom:o.parameters.atom};let a=o.parameters.global;if(t.structure&&(t.structure=[t.structure[n]],a=Object.assign(Object.assign({},a),t.structure[0])),t.atom){t.atom=t.atom.slice(r,r+i.size);for(const r of t.atom){const t=Object.assign(Object.assign({},a),r),n=Fn(o.kind,t);if(""!==n)return`Validation error for an atom in shape ${e}: ${n}`}}else{const t=Fn(o.kind,a);if(""!==t)return`Validation error for a structure in shape ${e}: ${t}`}i.shapes[e]={kind:o.kind,parameters:t}}r+=i.size}return""}(t.shapes,t.structures);if(""!==i)throw Error("Error assigning shapes to structures: "+i)}if(!("properties"in t))throw Error('missing "properties" key in the dataset');if("object"!=typeof t.properties||null===t.properties)throw Error('"properties" must be an object in the dataset');if("parameters"in t&&("object"!=typeof t.parameters||null===t.parameters))throw Error('"parameters" must be an object in the dataset');!function(t,e,r,n){for(const i in t){const o=t[i];if(l()(null!==o,"property !== null"),"target"in o&&"string"==typeof o.target||Error(`'properties['${i}'].target' should be a string`),"atom"!==o.target&&"structure"!==o.target)throw Error(`'properties['${i}'].target', should be 'atom' | 'structure'`);if(!("values"in o)||!Array.isArray(o.values))throw Error(`'properties["${i}"].values' should be an array`);let a=0;if("atom"===o.target?a=r:"structure"===o.target&&(a=e),a>0&&o.values.length!==a)throw Error(`wrong size for 'properties['${i}'].values': expected ${a}, got ${o.values.length}`);const s=typeof o.values[0];if("string"!==s&&"number"!==s&&!jn(o.values))throw Error(`'properties['${i}'].values' should contain string or number or an array of numbers`);for(const t of o.values)if(typeof t!==s)throw Error(`'properties['${i}'].values' should be of a single type`);if(jn(o.values)){if(!n)throw Error(`'parameters' should be provided for multidimensional properties '${i}'`);const t=o.parameters;if(!Bn(t))throw Error(`'properties['${i}'].parameters' should be an array of strings`);if(1!==t.length)throw Error(`'properties['${i}'].parameters' should contain a single parameter`);for(const e of t)if(!(e in n))throw Error(`parameter '${e}' of 'properties['${i}']' does not appear in the list provided parameters`);const e=o.values[0];for(const r of t){const t=n[r].values;if(e.length!==t.length)throw Error(`'properties['${i}'].values' and 'parameters['${r}'].values' should have the same length`)}if(!Nn(o.values))throw Error(`'properties['${i}].values' should contain arrays of the same length`)}if("description"in o&&"string"!=typeof o.description)throw Error(`'properties['${i}'].description' should contain a string`);if("units"in o&&"string"!=typeof o.units)throw Error(`'properties['${i}'].units' should be a string`)}}(t.properties,e,n,t.parameters)}(e),this._dataset=e,this._pinned=[],this._target=function(t){var e;const r=null===(e=t.settings)||void 0===e?void 0:e.target;if(void 0!==r){if("atom"===r&&void 0===t.environments)throw new Error('To use "atom" target, a list of environments should be provided');return r}const n=Object.values(t.properties).filter((t=>"atom"===t.target));return void 0!==t.environments&&n.length>0?"atom":"structure"}(e),this._indexer=new c(e.structures,e.environments),this.meta=new gn(t.meta,e.meta),this.warnings=r||new d.eS,this.structure=new Xn(t.structure,this._indexer,e.structures,this._target,e.properties,e.environments,t.maxStructureViewers,this.warnings),void 0!==t.loadStructure&&(this.structure.loadStructure=t.loadStructure),this.structure.activeChanged=(t,e)=>{this.map.setActive(t),this.info.show(e)},this.structure.onselect=t=>{this.map.select(t),this.info.show(t)},this.structure.onremove=t=>{this.map.removeMarker(t);const e=this._pinned.indexOf(t);l()(e>-1,"index > -1"),this._pinned.splice(e,1)},this.structure.oncreate=(t,e,r)=>{this.map.addMarker(t,e,r),this.info.show(r),this._pinned.push(t)},this.map=new ot(t.map,function(t){if(void 0===t)return{};if("map"in t){const e=t.map;if("object"==typeof e){if(null===e)throw Error("invalid settings for map, should not be null");return e}throw Error(`invalid type '${typeof e}' for map, should be an object`)}return{}}(e.settings),this._indexer,this._target,e.properties,this.warnings),this.map.onselect=t=>{this.info.show(t),this.structure.show(t).catch((t=>{this.warnings.sendMessage(`Could not update structure viewer: ${t}`)}))},this.map.activeChanged=(t,e)=>{this.info.show(e),this.structure.setActive(t)};const n="atom"===this._target?"structure":"atom",i=Object.values(e.properties).filter((t=>t.target===n));void 0!==e.environments&&i.length>1&&(this._toggle=new Jn(t.map,this._target),this._toggle.onchange=t=>this._switchTarget(t)),this.info=new M(t.info,e.properties,this._indexer,this._target,e.parameters,this.warnings),this.info.onchange=t=>{this.select(t)},this.structure.delayChanged=t=>{this.info.playbackDelay=t}}select(t){this.info.show(t),this.map.select(t),this.structure.show(t).catch((t=>{this.warnings.sendMessage(`Could not update structure viewer: ${t}`)}))}_loadInitial(t){return hi(this,void 0,void 0,(function*(){var e;let r={environment:0,structure:0,atom:0};if(void 0!==t.environments&&(r=this._indexer.fromEnvironment(0,this._target)),t.settings&&t.settings.pinned){if(!Array.isArray(t.settings.pinned)||"number"!=typeof t.settings.pinned[0])throw Error("settings.pinned must be an array of numbers");r=this._indexer.fromEnvironment(t.settings.pinned[0],this._target)}const n=this.structure.active;this.map.addMarker(n,(0,d.Lz)([]),r),this._pinned.push(n),yield this.structure.show(r),this.info.show(r),void 0!==t.settings&&(delete t.settings.map,this.applySettings(t.settings)),void 0!==this._toggle&&(null===(e=t.settings)||void 0===e?void 0:e.target)&&this._switchTarget(this._target,!0)}))}_switchTarget(t,e=!1){(e||this._target!==t)&&(l()(void 0!==this._toggle,"this._toggle !== undefined"),this._toggle.loader(!0),this._target=t,setTimeout((()=>hi(this,void 0,void 0,(function*(){var t;try{this.info.switchTarget(this._target),yield this.map.switchTarget(this._target),yield this.structure.switchTarget(this._target)}finally{null===(t=this._toggle)||void 0===t||t.loader(!1)}}))),0))}remove(){var t;this.map.remove(),this.meta.remove(),this.info.remove(),this.structure.remove(),null===(t=this._toggle)||void 0===t||t.remove()}saveSettings(){return{target:this._target,map:this.map.saveSettings(),pinned:this.structure.pinned().map((t=>"atom"===this._target?t.environment:t.structure)),structure:this.structure.saveSettings()}}applySettings(t){if(fi(t),void 0!==t.map&&this.map.applySettings(t.map),void 0!==t.pinned){if(!Array.isArray(t.pinned))throw Error("settings.pinned must be an array");for(const t of this._pinned.slice(1))this.map.removeMarker(t),this.structure.removeViewer(t);if(this._pinned=[this._pinned[0]],l()(t.pinned.length>0,"settings.pinned.length > 0"),"number"!=typeof t.pinned[0])throw Error("settings.pinned must be an array of numbers");const e=this._indexer.fromEnvironment(t.pinned[0],this._target);this.map.select(e),this.info.show(e),this.structure.show(e).catch((t=>{this.warnings.sendMessage(`Could not update structure viewer: ${t}`)}));for(const e of t.pinned.slice(1)){if("number"!=typeof e)throw Error("settings.pinned must be an array of numbers");const{guid:t,color:r}=this.structure.addViewer();if(void 0===t)throw Error("too many environments in 'pinned' setting");const n=this._indexer.fromEnvironment(e,this._target);this.map.addMarker(t,r,n),this.map.setActive(t),this._pinned.push(t),this.info.show(n),this.structure.setActive(t),this.structure.show(n).catch((t=>{this.warnings.sendMessage(`Could not update structure viewer: ${t}`)}))}}if(void 0!==t.structure){const e=this.structure.pinned().length,r=t.structure.slice(0,e);this.structure.applySettings(r)}}onSettingChange(t){this.map.onSettingChange(((e,r)=>{(e=JSON.parse(JSON.stringify(e))).unshift("map"),t(e,r)})),this.structure.onSettingChange(((e,r)=>{(e=JSON.parse(JSON.stringify(e))).unshift("structure"),t(e,r)}))}dataset(t=!1){const e=JSON.parse(JSON.stringify(this._dataset,((t,e)=>"number"==typeof e&&isNaN(e)?"***NaN***":e)),((t,e)=>"***NaN***"===e?NaN:e));if(t){e.structures=[];for(let t=0;t<this._dataset.structures.length;t++){const r=this.structure.loadStructure(t,this._dataset.structures[t]);Promise.resolve(r).then((r=>{e.structures[t]=r}),(e=>{throw Error(`could not load structure at index ${t}: ${e}`)}))}}return e}}function mi(){return"v1.0.0-4-g746a622"}},13490:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},13518:t=>{"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},13913:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},14274:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},14295:(t,e)=>{"use strict";e.selectMode=function(t){return"lasso"===t||"select"===t},e.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},e.openMode=function(t){return"drawline"===t||"drawopenpath"===t},e.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},e.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},e.selectingOrDrawing=function(t){return e.freeMode(t)||e.rectMode(t)}},15034:(t,e,r)=>{"use strict";var n=r(98479),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;t.exports=function(t){return!!n(t)&&!i.test(o.call(t))}},15305:(t,e,r)=>{"use strict";var n=r(23648);t.exports={isSize:function(t){return/^[\d\.]/.test(t)||-1!==t.indexOf("/")||-1!==n.indexOf(t)}}},15389:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822),o=i.dateTime2ms,a=i.incrementMonth,s=r(32994).ONEAVGMONTH;t.exports=function(t,e,r,i){if("date"!==e.type)return{vals:i};var l=t[r+"periodalignment"];if(!l)return{vals:i};var c,d=t[r+"period"];if(n(d)){if((d=+d)<=0)return{vals:i}}else if("string"==typeof d&&"M"===d.charAt(0)){var u=+d.substring(1);if(!(u>0&&Math.round(u)===u))return{vals:i};c=u}for(var h=e.calendar,f="start"===l,p="end"===l,m=t[r+"period0"],g=o(m,h)||0,b=[],v=[],y=[],x=i.length,w=0;w<x;w++){var _,k,A,T=i[w];if(c){for(_=Math.round((T-g)/(c*s)),A=a(g,c*_,h);A>T;)A=a(A,-c,h);for(;A<=T;)A=a(A,c,h);k=a(A,-c,h)}else{for(A=g+(_=Math.round((T-g)/d))*d;A>T;)A-=d;for(;A<=T;)A+=d;k=A-d}b[w]=f?k:p?A:(k+A)/2,v[w]=k,y[w]=A}return{vals:b,starts:v,ends:y}}},15498:(t,e,r)=>{"use strict";var n=r(54034),i=r(18021),o=r(2033);t.exports=function(t){var e=Object(o(t)),r=arguments[1],a=Object(arguments[2]);if(e!==t&&!r)return e;var s={};return r?n(r,(function(e){(a.ensure||e in t)&&(s[e]=t[e])})):i(s,t),s}},15524:(t,e,r)=>{"use strict";var n=r(75058),i=r(84226);t.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend",description:["Determines whether or not this legend is visible."].join(" ")},bgcolor:{valType:"color",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend",description:"Sets the color of the border enclosing the legend."},maxheight:{valType:"number",min:0,editType:"legend",description:["Sets the max height (in px) of the legend, or max height ratio (reference height * ratio) if less than or equal to 1.","Default value is: 0.5 for horizontal legends; 1 for vertical legends. The minimum allowed height is 30px.","For a ratio of 0.5, the legend will take up to 50% of the reference height before displaying a scrollbar.","The reference height is the full layout height with the following exception: vertically oriented legends with",'a `yref` of `"paper", located to the side of the plot. In this case, the reference height is the plot height.'].join(" ")},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:n({editType:"legend",description:"Sets the font used to text the legend items."}),grouptitlefont:n({editType:"legend",description:["Sets the font for group titles in legend.","Defaults to `legend.font` with its size increased about 10%."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},entrywidth:{valType:"number",min:0,editType:"legend",description:["Sets the width (in px or fraction) of the legend.","Use 0 to size the entry based on the text width,","when `entrywidthmode` is set to *pixels*."].join(" ")},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend",description:"Determines what entrywidth means."},indentation:{valType:"number",min:-15,dflt:0,editType:"legend",description:"Sets the indentation (in px) of the legend entries."},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend",description:"Sets the width (in px) of the legend item symbols (the part other than the title.text)."},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disables legend item double-click interactions."].join(" ")},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend",description:["Determines the behavior on legend group item click.","*toggleitem* toggles the visibility of the individual item clicked on the graph.","*togglegroup* toggles the visibility of all items in the same legendgroup as the item clicked on the graph."].join(" ")},x:{valType:"number",editType:"legend",description:["Sets the x position with respect to `xref` (in normalized coordinates) of the legend.","When `xref` is *paper*, defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends.","When `xref` is *container*, defaults to *1* for vertical legends and","defaults to *0* for horizontal legends.","Must be between *0* and *1* if `xref` is *container*.","and between *-2* and *3* if `xref` is *paper*."].join(" ")},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",editType:"legend",description:["Sets the y position with respect to `yref` (in normalized coordinates) of the legend.","When `yref` is *paper*, defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders.","When `yref` is *container*, defaults to *1*.","Must be between *0* and *1* if `yref` is *container*","and between *-2* and *3* if `yref` is *paper*."].join(" ")},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend",description:["Sets the legend's vertical position anchor.","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:n({editType:"legend",description:["Sets this legend's title font.","Defaults to `legend.font` with its size increased about 20%."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","top center and top right are for horizontal alignment","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"}},15541:(t,e,r)=>{"use strict";var n=r(93272);t.exports=function(){return n()&&!!Symbol.toStringTag}},15567:t=>{t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],d=e[9],u=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*n,t[5]=a*i+d*n,t[6]=s*i+u*n,t[7]=l*i+h*n,t[8]=c*i-o*n,t[9]=d*i-a*n,t[10]=u*i-s*n,t[11]=h*i-l*n,t}},15929:(t,e,r)=>{"use strict";var n,i=r(18918),o=r(18021),a=r(55366),s=r(2033),l=r(86142),c=r(39683),d=r(89791),u=Object.defineProperty,h=Object.defineProperties;t.exports=n=function(t,e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");h(this,{__list__:l("w",s(t)),__context__:l("w",e),__nextIndex__:l("w",0)}),e&&(a(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete n.prototype.constructor,h(n.prototype,o({_next:l((function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:l((function(){return this._createResult(this._next())})),_createResult:l((function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}})),_resolve:l((function(t){return this.__list__[t]})),_unBind:l((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:l((function(){return"[object "+(this[d.toStringTag]||"Object")+"]"}))},c({_onAdd:l((function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(e,r){e>=t&&(this.__redo__[r]=++e)}),this),this.__redo__.push(t)):u(this,"__redo__",l("c",[t])))})),_onDelete:l((function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach((function(e,r){e>t&&(this.__redo__[r]=--e)}),this)))})),_onClear:l((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),u(n.prototype,d.iterator,l((function(){return this})))},16677:(t,e,r)=>{"use strict";var n=r(86626).EventEmitter,i={init:function(t){if(t._ev instanceof n)return t;var e=new n,r=new n;return t._ev=e,t._internalEv=r,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=r.on.bind(r),t._internalOnce=r.once.bind(r),t._removeInternalListener=r.removeListener.bind(r),t._removeAllInternalListeners=r.removeAllListeners.bind(r),t.emit=function(t,n){e.emit(t,n),r.emit(t,n)},"function"==typeof t.addEventListener&&t.addEventListener("wheel",(()=>{}),{passive:!0}),t},triggerHandler:function(t,e,r){var n=t._ev;if(n){var i=n._events[e];if(i){var o;for(i=Array.isArray(i)?i:[i],o=0;o<i.length-1;o++)a(i[o]);return a(i[o])}}function a(t){return t.listener?(n.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(n,[r]))):t.apply(n,[r])}},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};t.exports=i},16822:(t,e,r)=>{"use strict";var n=r(27941),i=r(64347),o=r(75717),a=r(79538);function s(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function l(t,e,r){var n="plotly.js-style-"+t,o=document.getElementById(n);if(!o||!o.matches(".no-inline-styles")){o||((o=document.createElement("style")).setAttribute("id",n),o.appendChild(document.createTextNode("")),document.head.appendChild(o));var a=o.sheet;a?a.insertRule?a.insertRule(e+"{"+r+"}",0):a.addRule?a.addRule(e,r,0):i.warn("addStyleRule failed"):i.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function c(t){var e=window.getComputedStyle(t,null),r=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");return"none"===r?null:r.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(t){return+t}))}function d(t){for(var e=[];u(t);)e.push(t),t=t.parentNode,"function"==typeof ShadowRoot&&t instanceof ShadowRoot&&(t=t.host);return e}function u(t){return t&&(t instanceof Element||t instanceof HTMLElement)}t.exports={getGraphDiv:function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t},isPlotDiv:function(t){var e=n.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},removeElement:s,addStyleRule:function(t,e){l("global",t,e)},addRelatedStyleRule:l,deleteRelatedStyleRule:function(t){var e="plotly.js-style-"+t,r=document.getElementById(e);r&&s(r)},setStyleOnHover:function(t,e,r,n,i,o){var a=n.split(":"),s=i.split(":"),l="data-btn-style-event-added";o||(o=document),o.querySelectorAll(t).forEach((function(t){t.getAttribute(l)||(t.addEventListener("mouseenter",(function(){var t=this.querySelector(r);t&&(t.style[a[0]]=a[1])})),t.addEventListener("mouseleave",(function(){var t=this.querySelector(r);t&&(e&&this.matches(e)?t.style[a[0]]=a[1]:t.style[s[0]]=s[1])})),t.setAttribute(l,!0))}))},getFullTransformMatrix:function(t){var e=d(t),r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach((function(t){var e=c(t);if(e){var n=o.convertCssMatrix(e);r=a.multiply(r,r,n)}})),r},getElementTransformMatrix:c,getElementAndAncestors:d,equalDomRects:function(t,e){return t&&e&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}}},17235:(t,e,r)=>{"use strict";var n=r(34463);t.exports=function(t){return t?n(t):[0,0,0,1]}},17269:(t,e,r)=>{"use strict";var n=r(12822);function i(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}e.formatPiePercent=function(t,e){var r=i((100*t).toPrecision(3));return n.numSeparate(r,e)+"%"},e.formatPieValue=function(t,e){var r=i(t.toPrecision(10));return n.numSeparate(r,e)},e.getFirstFilled=function(t,e){if(n.isArrayOrTypedArray(t))for(var r=0;r<e.length;r++){var i=t[e[r]];if(i||0===i||""===i)return i}},e.castOption=function(t,r){return n.isArrayOrTypedArray(t)?e.getFirstFilled(t,r):t||void 0},e.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}},17399:t=>{t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,l=i+i,c=r*a,d=n*a,u=n*s,h=i*a,f=i*s,p=i*l,m=o*a,g=o*s,b=o*l;return t[0]=1-u-p,t[1]=d+b,t[2]=h-g,t[3]=0,t[4]=d-b,t[5]=1-c-p,t[6]=f+m,t[7]=0,t[8]=h+g,t[9]=f-m,t[10]=1-c-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},17478:(t,e,r)=>{"use strict";var n=r(85573),i=r(75208),o=r(61398),a=r(50459),s=r(55572),l=r(55573),c=a("Object.prototype.toString"),d=r(15541)(),u="undefined"==typeof globalThis?r.g:globalThis,h=i(),f=a("String.prototype.slice"),p=a("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},m={__proto__:null};n(h,d&&s&&l?function(t){var e=new u[t];if(Symbol.toStringTag in e&&l){var r=l(e),n=s(r,Symbol.toStringTag);if(!n&&r){var i=l(r);n=s(i,Symbol.toStringTag)}m["$"+t]=o(n.get)}}:function(t){var e=new u[t],r=e.slice||e.set;r&&(m["$"+t]=o(r))}),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!d){var e=f(c(t),8,-1);return p(h,e)>-1?e:"Object"===e&&function(t){var e=!1;return n(m,(function(r,n){if(!e)try{r(t),e=f(n,1)}catch(t){}})),e}(t)}return s?function(t){var e=!1;return n(m,(function(r,n){if(!e)try{"$"+r(t)===n&&(e=f(n,1))}catch(t){}})),e}(t):null}},17499:(t,e,r)=>{"use strict";var n=r(18106),i=r(7370),o=r(98507).isTypedArray,a=t.exports={},s=r(84226);a.defaults=s.defaults;var l=a.defaultLine=s.defaultLine;a.lightLine=s.lightLine;var c=a.background=s.background;function d(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var r=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return t;var n=r[1].trim().split(/\s*[\s,]\s*/),o="a"===e.charAt(3)&&4===n.length;if(!o&&3!==n.length)return t;for(var a=0;a<n.length;a++){if(!n[a].length)return t;if(n[a]=Number(n[a]),!(n[a]>=0))return t;if(3===a)n[a]>1&&(n[a]=1);else if(n[a]>=1)return t}var s=Math.round(255*n[0])+", "+Math.round(255*n[1])+", "+Math.round(255*n[2]);return o?"rgba("+s+", "+n[3]+")":"rgb("+s+")"}a.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},a.rgb=function(t){return a.tinyRGB(n(t))},a.opacity=function(t){return t?n(t).getAlpha():0},a.addOpacity=function(t,e){var r=n(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"},a.combine=function(t,e){var r=n(t).toRgb();if(1===r.a)return n(t).toRgbString();var i=n(e||c).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},a={r:o.r*(1-r.a)+r.r*r.a,g:o.g*(1-r.a)+r.g*r.a,b:o.b*(1-r.a)+r.b*r.a};return n(a).toRgbString()},a.interpolate=function(t,e,r){var i=n(t).toRgb(),o=n(e).toRgb(),a={r:r*i.r+(1-r)*o.r,g:r*i.g+(1-r)*o.g,b:r*i.b+(1-r)*o.b};return n(a).toRgbString()},a.contrast=function(t,e,r){var i=n(t);return 1!==i.getAlpha()&&(i=n(a.combine(t,c))),(i.isDark()?e?i.lighten(e):c:r?i.darken(r):l).toString()},a.stroke=function(t,e){var r=n(e);t.style({stroke:a.tinyRGB(r),"stroke-opacity":r.getAlpha()})},a.fill=function(t,e){var r=n(e);t.style({fill:a.tinyRGB(r),"fill-opacity":r.getAlpha()})},a.clean=function(t){if(t&&"object"==typeof t){var e,r,n,i,s=Object.keys(t);for(e=0;e<s.length;e++)if(i=t[n=s[e]],"color"===n.substr(n.length-5))if(Array.isArray(i))for(r=0;r<i.length;r++)i[r]=d(i[r]);else t[n]=d(i);else if("colorscale"===n.substr(n.length-10)&&Array.isArray(i))for(r=0;r<i.length;r++)Array.isArray(i[r])&&(i[r][1]=d(i[r][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(r=0;r<i.length;r++)a.clean(i[r])}else i&&"object"==typeof i&&!o(i)&&a.clean(i)}}},17507:(t,e)=>{"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=s(t),a=o[0],l=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,l)),d=0,u=l>0?a-4:a;for(r=0;r<u;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;return 2===l&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[d++]=255&e),1===l&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(t,s,s+a>c?c:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},17520:(t,e,r)=>{"use strict";var n=r(41888);t.exports=n&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},17821:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822),o=r(32994).BADNUM,a=i.isArrayOrTypedArray,s=i.isDateTime,l=i.cleanNumber,c=Math.round;function d(t,e){return e?n(t):"number"==typeof t}function u(t){return Math.max(1,(t-1)/1e3)}t.exports=function(t,e,r){var i=t,h=r.noMultiCategory;if(a(i)&&!i.length)return"-";if(!h&&function(t){return a(t[0])&&a(t[1])}(i))return"multicategory";if(h&&Array.isArray(i[0])){for(var f=[],p=0;p<i.length;p++)if(a(i[p]))for(var m=0;m<i[p].length;m++)f.push(i[p][m]);i=f}if(function(t,e){for(var r=t.length,i=u(r),o=0,a=0,l={},d=0;d<r;d+=i){var h=t[c(d)],f=String(h);l[f]||(l[f]=1,s(h,e)&&o++,n(h)&&a++)}return o>2*a}(i,e))return"date";var g="strict"!==r.autotypenumbers;return function(t,e){for(var r=t.length,n=u(r),i=0,a=0,s={},d=0;d<r;d+=n){var h=t[c(d)],f=String(h);if(!s[f]){s[f]=1;var p=typeof h;"boolean"===p?a++:(e?l(h)!==o:"number"===p)?i++:"string"===p&&a++}}return a>2*i}(i,g)?"category":function(t,e){for(var r=t.length,n=0;n<r;n++)if(d(t[n],e))return!0;return!1}(i,g)?"linear":"-"}},17914:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%280, 0, 0, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},17916:(t,e,r)=>{"use strict";t.exports=r(78826)("forEach")},18021:(t,e,r)=>{"use strict";t.exports=r(99484)()?Object.assign:r(28752)},18106:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=/^\s+/,r=/\s+$/;function n(i,o){if(o=o||{},(i=i||"")instanceof n)return i;if(!(this instanceof n))return new n(i,o);var a=function(n){var i={r:0,g:0,b:0},o=1,a=null,s=null,l=null,c=!1,d=!1;return"string"==typeof n&&(n=function(t){t=t.replace(e,"").replace(r,"").toLowerCase();var n,i=!1;if(x[t])t=x[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(n=D.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=D.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=D.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=D.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=D.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=D.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=D.hex8.exec(t))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),a:C(n[4]),format:i?"name":"hex8"}:(n=D.hex6.exec(t))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),format:i?"name":"hex"}:(n=D.hex4.exec(t))?{r:T(n[1]+""+n[1]),g:T(n[2]+""+n[2]),b:T(n[3]+""+n[3]),a:C(n[4]+""+n[4]),format:i?"name":"hex8"}:!!(n=D.hex3.exec(t))&&{r:T(n[1]+""+n[1]),g:T(n[2]+""+n[2]),b:T(n[3]+""+n[3]),format:i?"name":"hex"}}(n)),"object"==t(n)&&(I(n.r)&&I(n.g)&&I(n.b)?(u=n.r,h=n.g,f=n.b,i={r:255*k(u,255),g:255*k(h,255),b:255*k(f,255)},c=!0,d="%"===String(n.r).substr(-1)?"prgb":"rgb"):I(n.h)&&I(n.s)&&I(n.v)?(a=S(n.s),s=S(n.v),i=function(t,e,r){t=6*k(t,360),e=k(e,100),r=k(r,100);var n=Math.floor(t),i=t-n,o=r*(1-e),a=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6;return{r:255*[r,a,o,o,s,r][l],g:255*[s,r,r,a,o,o][l],b:255*[o,o,s,r,r,a][l]}}(n.h,a,s),c=!0,d="hsv"):I(n.h)&&I(n.s)&&I(n.l)&&(a=S(n.s),l=S(n.l),i=function(t,e,r){var n,i,o;function a(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=k(t,360),e=k(e,100),r=k(r,100),0===e)n=i=o=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*n,g:255*i,b:255*o}}(n.h,a,l),c=!0,d="hsl"),n.hasOwnProperty("a")&&(o=n.a)),o=_(o),{ok:c,format:n.format||d,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:o};var u,h,f}(i);this._originalInput=i,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=Math.round(100*this._a)/100,this._format=o.format||a.format,this._gradientType=o.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=a.ok}function i(t,e,r){t=k(t,255),e=k(e,255),r=k(r,255);var n,i,o=Math.max(t,e,r),a=Math.min(t,e,r),s=(o+a)/2;if(o==a)n=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return{h:n,s:i,l:s}}function o(t,e,r){t=k(t,255),e=k(e,255),r=k(r,255);var n,i,o=Math.max(t,e,r),a=Math.min(t,e,r),s=o,l=o-a;if(i=0===o?0:l/o,o==a)n=0;else{switch(o){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return{h:n,s:i,v:s}}function a(t,e,r,n){var i=[M(Math.round(t).toString(16)),M(Math.round(e).toString(16)),M(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function s(t,e,r,n){return[M(E(n)),M(Math.round(t).toString(16)),M(Math.round(e).toString(16)),M(Math.round(r).toString(16))].join("")}function l(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.s-=e/100,r.s=A(r.s),n(r)}function c(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.s+=e/100,r.s=A(r.s),n(r)}function d(t){return n(t).desaturate(100)}function u(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.l+=e/100,r.l=A(r.l),n(r)}function h(t,e){e=0===e?0:e||10;var r=n(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-e/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-e/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-e/100*255))),n(r)}function f(t,e){e=0===e?0:e||10;var r=n(t).toHsl();return r.l-=e/100,r.l=A(r.l),n(r)}function p(t,e){var r=n(t).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,n(r)}function m(t){var e=n(t).toHsl();return e.h=(e.h+180)%360,n(e)}function g(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=n(t).toHsl(),i=[n(t)],o=360/e,a=1;a<e;a++)i.push(n({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function b(t){var e=n(t).toHsl(),r=e.h;return[n(t),n({h:(r+72)%360,s:e.s,l:e.l}),n({h:(r+216)%360,s:e.s,l:e.l})]}function v(t,e,r){e=e||6,r=r||30;var i=n(t).toHsl(),o=360/r,a=[n(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,a.push(n(i));return a}function y(t,e){e=e||6;for(var r=n(t).toHsv(),i=r.h,o=r.s,a=r.v,s=[],l=1/e;e--;)s.push(n({h:i,s:o,v:a})),a=(a+l)%1;return s}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=_(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),n=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),n=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,n,i){var o=[M(Math.round(t).toString(16)),M(Math.round(e).toString(16)),M(Math.round(r).toString(16)),M(E(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*k(this._r,255))+"%",g:Math.round(100*k(this._g,255))+"%",b:Math.round(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%)":"rgba("+Math.round(100*k(this._r,255))+"%, "+Math.round(100*k(this._g,255))+"%, "+Math.round(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(w[a(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+s(this._r,this._g,this._b,this._a),r=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var o=n(t);r="#"+s(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(v,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(y,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(g,[3])},tetrad:function(){return this._applyCombination(g,[4])}},n.fromRatio=function(e,r){if("object"==t(e)){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]="a"===o?e[o]:S(e[o]));e=i}return n(e,r)},n.equals=function(t,e){return!(!t||!e)&&n(t).toRgbString()==n(e).toRgbString()},n.random=function(){return n.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},n.mix=function(t,e,r){r=0===r?0:r||50;var i=n(t).toRgb(),o=n(e).toRgb(),a=r/100;return n({r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a})},n.readability=function(t,e){var r=n(t),i=n(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)},n.isReadable=function(t,e,r){var i,o,a,s,l,c=n.readability(t,e);switch(o=!1,(a=r,"AA"!==(s=((a=a||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(l=(a.size||"small").toLowerCase())&&"large"!==l&&(l="small"),i={level:s,size:l}).level+i.size){case"AAsmall":case"AAAlarge":o=c>=4.5;break;case"AAlarge":o=c>=3;break;case"AAAsmall":o=c>=7}return o},n.mostReadable=function(t,e,r){var i,o,a,s,l=null,c=0;o=(r=r||{}).includeFallbackColors,a=r.level,s=r.size;for(var d=0;d<e.length;d++)(i=n.readability(t,e[d]))>c&&(c=i,l=n(e[d]));return n.isReadable(t,l,{level:a,size:s})||!o?l:(r.includeFallbackColors=!1,n.mostReadable(t,["#fff","#000"],r))};var x=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},w=n.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(x);function _(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function A(t){return Math.min(1,Math.max(0,t))}function T(t){return parseInt(t,16)}function M(t){return 1==t.length?"0"+t:""+t}function S(t){return t<=1&&(t=100*t+"%"),t}function E(t){return Math.round(255*parseFloat(t)).toString(16)}function C(t){return T(t)/255}var z,L,O,D=(L="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",O="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+O),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function I(t){return!!D.CSS_UNIT.exec(t)}return n}()},18360:(t,e,r)=>{"use strict";var n=r(62309).overrideAll,i=r(3520),o=r(75058),a=r(68057).T,s=r(98260).extendFlat;const{shapeTexttemplateAttrs:l,templatefallbackAttrs:c}=r(24131);var d=r(12086);t.exports=n({newshape:{visible:s({},i.visible,{description:["Determines whether or not new shape is visible.","If *legendonly*, the shape is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")}),showlegend:{valType:"boolean",dflt:!1,description:["Determines whether or not new","shape is shown in the legend."].join(" ")},legend:s({},i.legend,{description:["Sets the reference to a legend to show new shape in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")}),legendgroup:s({},i.legendgroup,{description:["Sets the legend group for new shape.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")}),legendgrouptitle:{text:s({},i.legendgrouptitle.text,{}),font:o({description:["Sets this legend group's title font."].join(" ")})},legendrank:s({},i.legendrank,{description:["Sets the legend rank for new shape.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items."].join(" ")}),legendwidth:s({},i.legendwidth,{description:"Sets the width (in px or fraction) of the legend for new shape."}),line:{color:{valType:"color",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:0,dflt:4,description:"Sets the line width (in px)."},dash:s({},a,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:["Sets the color filling new shapes' interior.","Please note that if using a fillcolor with alpha greater than half,","drag inside the active shape starts moving the shape underneath,","otherwise a new shape could be started over."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",description:["Determines the path's interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the opacity of new shapes."},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",description:["Specifies whether new shapes are drawn below gridlines (*below*),","between gridlines and traces (*between*) or above traces (*above*)."].join(" ")},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",description:["When `dragmode` is set to *drawrect*, *drawline* or *drawcircle*","this limits the drag to be horizontal, vertical or diagonal.","Using *diagonal* there is no limit e.g. in drawing lines in any direction.","*ortho* limits the draw to be either horizontal or vertical.","*horizontal* allows horizontal extend.","*vertical* allows vertical extend."].join(" ")},name:s({},i.name,{description:["Sets new shape name.","The name appears as the legend item."].join(" ")}),label:{text:{valType:"string",dflt:"",description:["Sets the text to display with the new shape.","It is also used for legend item if `name` is not provided."].join(" ")},texttemplate:l({newshape:!0},{keys:Object.keys(d)}),texttemplatefallback:c({editType:"arraydraw"}),font:o({description:"Sets the new shape label text font."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],description:["Sets the position of the label text relative to the new shape.","Supported values for rectangles, circles and paths are","*top left*, *top center*, *top right*, *middle left*,","*middle center*, *middle right*, *bottom left*, *bottom center*,","and *bottom right*.","Supported values for lines are *start*, *middle*, and *end*.","Default: *middle center* for rectangles, circles, and paths; *middle* for lines."].join(" ")},textangle:{valType:"angle",dflt:"auto",description:["Sets the angle at which the label text is drawn","with respect to the horizontal. For lines, angle *auto*","is the same angle as the line. For all other shapes,","angle *auto* is horizontal."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",description:["Sets the label's horizontal position anchor","This anchor binds the specified `textposition` to the *left*, *center*","or *right* of the label text.","For example, if `textposition` is set to *top right* and","`xanchor` to *right* then the right-most portion of the","label text lines up with the right-most edge of the","new shape."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets the label's vertical position anchor","This anchor binds the specified `textposition` to the *top*, *middle*","or *bottom* of the label text.","For example, if `textposition` is set to *top right* and","`yanchor` to *top* then the top-most portion of the","label text lines up with the top-most edge of the","new shape."].join(" ")},padding:{valType:"number",dflt:3,min:0,description:"Sets padding (in px) between edge of label and edge of new shape."}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,description:"Sets the opacity of the active shape."}}},"none","from-root")},18804:(t,e)=>{"use strict";e.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},e.isVertical=function(t){return"h"!==t.orientation},e.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},18918:(t,e,r)=>{"use strict";var n=r(2033);t.exports=function(){return n(this).length=0,this}},18948:(t,e,r)=>{"use strict";var n=r(23315);t.exports=function(t,e,r){var i=t.i;return"x"in t||(t.x=e._x[i]),"y"in t||(t.y=e._y[i]),n(t,e,r)}},19260:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(51137),a=r(12822),s=a.strTranslate,l=r(40666),c=r(17499),d=r(6883),u=r(29592),h=r(99246),f=r(19846),p=r(76292),m=r(92601);function g(t){return"number"==typeof t.clientX?t.clientX:t.touches&&t.touches.length>0?t.touches[0].clientX:0}function b(t,e,r,n){var i=a.ensureSingle(t,"rect",m.bgClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),o=n.borderwidth%2==0?n.borderwidth:n.borderwidth-1,d=-n._offsetShift,u=l.crispRound(e,n.borderwidth);i.attr({width:n._width+o,height:n._height+o,transform:s(d,d),"stroke-width":u}).call(c.stroke,n.bordercolor).call(c.fill,n.bgcolor)}function v(t,e,r,n){var i=e._fullLayout;a.ensureSingleById(i._topdefs,"clipPath",n._clipId,(function(t){t.append("rect").attr({x:0,y:0})})).select("rect").attr({width:n._width,height:n._height})}function y(t,e,r,i){var s,c=e.calcdata,d=t.selectAll("g."+m.rangePlotClassName).data(r._subplotsWith,a.identity);d.enter().append("g").attr("class",(function(t){return m.rangePlotClassName+" "+t})).call(l.setClipUrl,i._clipId,e),d.order(),d.exit().remove(),d.each((function(t,a){var l=n.select(this),d=0===a,f=h.getFromId(e,t,"y"),p=f._name,m=i[p],g={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:i.range.slice(),calendar:r.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};r.rangebreaks&&(g.layout.xaxis.rangebreaks=r.rangebreaks),g.layout[p]={type:f.type,domain:[0,1],range:"match"!==m.rangemode?m.range.slice():f.range.slice(),calendar:f.calendar},f.rangebreaks&&(g.layout[p].rangebreaks=f.rangebreaks),o.supplyDefaults(g);var b=g._fullLayout.xaxis,v=g._fullLayout[p];b.clearCalc(),b.setScale(),v.clearCalc(),v.setScale();var y={id:t,plotgroup:l,xaxis:b,yaxis:v,isRangePlot:!0};d?s=y:(y.mainplot="xy",y.mainplotinfo=s),u.rangePlot(e,y,function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],o=i[0].trace;o.xaxis+o.yaxis===e&&r.push(i)}return r}(c,t))}))}function x(t,e,r,n,i){a.ensureSingle(t,"rect",m.maskMinClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",n._height).call(c.fill,m.maskColor),a.ensureSingle(t,"rect",m.maskMaxClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",n._height).call(c.fill,m.maskColor),"match"!==i.rangemode&&(a.ensureSingle(t,"rect",m.maskMinOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",n._width).call(c.fill,m.maskOppAxisColor),a.ensureSingle(t,"rect",m.maskMaxOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",n._width).style("border-top",m.maskOppBorder).call(c.fill,m.maskOppAxisColor))}function w(t,e,r,n){e._context.staticPlot||a.ensureSingle(t,"rect",m.slideBoxClassName,(function(t){t.attr({y:0,cursor:m.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:n._height,fill:m.slideBoxFill})}function _(t,e,r,n){var i=a.ensureSingle(t,"g",m.grabberMinClassName),o=a.ensureSingle(t,"g",m.grabberMaxClassName),s={x:0,width:m.handleWidth,rx:m.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":m.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(n._height/4),height:Math.round(n._height/2)};a.ensureSingle(i,"rect",m.handleMinClassName,(function(t){t.attr(s)})).attr(l),a.ensureSingle(o,"rect",m.handleMaxClassName,(function(t){t.attr(s)})).attr(l);var d={width:m.grabAreaWidth,x:0,y:0,fill:m.grabAreaFill,cursor:e._context.staticPlot?void 0:m.grabAreaCursor};a.ensureSingle(i,"rect",m.grabAreaMinClassName,(function(t){t.attr(d)})).attr("height",n._height),a.ensureSingle(o,"rect",m.grabAreaMaxClassName,(function(t){t.attr(d)})).attr("height",n._height)}t.exports=function(t){for(var e=t._fullLayout,r=e._rangeSliderData,o=0;o<r.length;o++){var l=r[o][m.name];l._clipId=l._id+"-"+e._uid}var c=e._infolayer.selectAll("g."+m.containerClassName).data(r,(function(t){return t._name}));c.exit().each((function(t){var r=t[m.name];e._topdefs.select("#"+r._clipId).remove()})).remove(),0!==r.length&&(c.enter().append("g").classed(m.containerClassName,!0).attr("pointer-events","all"),c.each((function(r){var o=n.select(this),l=r[m.name],c=e[h.id2name(r.anchor)],u=l[h.id2name(r.anchor)];if(l.range){var k,A=a.simpleMap(l.range,r.r2l),T=a.simpleMap(r.range,r.r2l);k=T[0]<T[1]?[Math.min(A[0],T[0]),Math.max(A[1],T[1])]:[Math.max(A[0],T[0]),Math.min(A[1],T[1])],l.range=l._input.range=a.simpleMap(k,r.l2r)}r.cleanRange("rangeslider.range");var M=e._size,S=r.domain;l._width=M.w*(S[1]-S[0]);var E=Math.round(M.l+M.w*S[0]),C=Math.round(M.t+M.h*(1-r._counterDomainMin)+("bottom"===r.side?r._depth:0)+l._offsetShift+m.extraPad);o.attr("transform",s(E,C)),l._rl=a.simpleMap(l.range,r.r2l);var z=l._rl[0],L=l._rl[1],O=L-z;if(l.p2d=function(t){return t/l._width*O+z},l.d2p=function(t){return(t-z)/O*l._width},r.rangebreaks){var D=r.locateBreaks(z,L);if(D.length){var I,F,R=0;for(I=0;I<D.length;I++)R+=(F=D[I]).max-F.min;var P=l._width/(L-z-R),j=[-P*z];for(I=0;I<D.length;I++)F=D[I],j.push(j[j.length-1]-P*(F.max-F.min));for(l.d2p=function(t){for(var e=j[0],r=0;r<D.length;r++){var n=D[r];if(t>=n.max)e=j[r+1];else if(t<n.min)break}return e+P*t},I=0;I<D.length;I++)(F=D[I]).pmin=l.d2p(F.min),F.pmax=l.d2p(F.max);l.p2d=function(t){for(var e=j[0],r=0;r<D.length;r++){var n=D[r];if(t>=n.pmax)e=j[r+1];else if(t<n.pmin)break}return(t-e)/P}}}if("match"!==u.rangemode){var N=c.r2l(u.range[0]),B=c.r2l(u.range[1])-N;l.d2pOppAxis=function(t){return(t-N)/B*l._height}}o.call(b,t,r,l).call(v,t,r,l).call(y,t,r,l).call(x,t,r,l,u).call(w,t,r,l).call(_,t,r,l),function(t,e,r,o){if(!e._context.staticPlot){var s=t.select("rect."+m.slideBoxClassName).node(),l=t.select("rect."+m.grabAreaMinClassName).node(),c=t.select("rect."+m.grabAreaMaxClassName).node();t.on("mousedown",d),t.on("touchstart",d)}function d(){var d=n.event,u=d.target,h=g(d),m=h-t.node().getBoundingClientRect().left,b=o.d2p(r._rl[0]),v=o.d2p(r._rl[1]),y=f.coverSlip();function x(t){var d,f,x,w=+g(t)-h;switch(u){case s:if(x="ew-resize",b+w>r._length||v+w<0)return;d=b+w,f=v+w;break;case l:if(x="col-resize",b+w>r._length)return;d=b+w,f=v;break;case c:if(x="col-resize",v+w<0)return;d=b,f=v+w;break;default:x="ew-resize",d=m,f=m+w}if(f<d){var _=f;f=d,d=_}o._pixelMin=d,o._pixelMax=f,p(n.select(y),x),function(t,e,r,n){function o(t){return r.l2r(a.constrain(t,n._rl[0],n._rl[1]))}var s=o(n.p2d(n._pixelMin)),l=o(n.p2d(n._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",e,r._name+".range",[s,l])}))}(0,e,r,o)}function w(){y.removeEventListener("mousemove",x),y.removeEventListener("mouseup",w),this.removeEventListener("touchmove",x),this.removeEventListener("touchend",w),a.removeElement(y)}this.addEventListener("touchmove",x),this.addEventListener("touchend",w),y.addEventListener("mousemove",x),y.addEventListener("mouseup",w)}}(o,t,r,l),function(t,e,r,n,i,o){var l=m.handleWidth/2;function c(t){return a.constrain(t,0,n._width)}function d(t){return a.constrain(t,0,n._height)}function u(t){return a.constrain(t,-l,n._width+l)}var h=c(n.d2p(r._rl[0])),f=c(n.d2p(r._rl[1]));if(t.select("rect."+m.slideBoxClassName).attr("x",h).attr("width",f-h),t.select("rect."+m.maskMinClassName).attr("width",h),t.select("rect."+m.maskMaxClassName).attr("x",f).attr("width",n._width-f),"match"!==o.rangemode){var p=n._height-d(n.d2pOppAxis(i._rl[1])),g=n._height-d(n.d2pOppAxis(i._rl[0]));t.select("rect."+m.maskMinOppAxisClassName).attr("x",h).attr("height",p).attr("width",f-h),t.select("rect."+m.maskMaxOppAxisClassName).attr("x",h).attr("y",g).attr("height",n._height-g).attr("width",f-h),t.select("rect."+m.slideBoxClassName).attr("y",p).attr("height",g-p)}var b=.5,v=Math.round(u(h-l))-b,y=Math.round(u(f-l))+b;t.select("g."+m.grabberMinClassName).attr("transform",s(v,b)),t.select("g."+m.grabberMaxClassName).attr("transform",s(y,b))}(o,0,r,l,c,u),"bottom"===r.side&&d.draw(t,r._id+"title",{propContainer:r,propName:r._name+".title.text",placeholder:e._dfltTitle.x,attributes:{x:r._offset+r._length/2,y:C+l._height+l._offsetShift+10+1.5*r.title.font.size,"text-anchor":"middle"}})})))}},19496:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(12822),a=r(32994).FP_SAFE,s=r(25059),l=r(40666),c=r(99246),d=c.getFromId,u=c.isLinked;function h(t,e){var r,n,i=[],a=t._fullLayout,s=p(a,e,0),l=p(a,e,1),c=g(t,e),d=c.min,u=c.max;if(0===d.length||0===u.length)return o.simpleMap(e.range,e.r2l);var h=d[0].val,m=u[0].val;for(r=1;r<d.length&&h===m;r++)h=Math.min(h,d[r].val);for(r=1;r<u.length&&h===m;r++)m=Math.max(m,u[r].val);var b=e.autorange,v="reversed"===b||"min reversed"===b||"max reversed"===b;if(!v&&e.range){var y=o.simpleMap(e.range,e.r2l);v=y[1]<y[0]}"reversed"===e.autorange&&(e.autorange=!0);var x,w,_,k,T,M,S=e.rangemode,E="tozero"===S,C="nonnegative"===S,z=e._length,L=z/10,O=0;for(r=0;r<d.length;r++)for(x=d[r],n=0;n<u.length;n++)(M=(w=u[n]).val-x.val-f(e,x.val,w.val))>0&&((T=z-s(x)-l(w))>L?M/T>O&&(_=x,k=w,O=M/T):M/z>O&&(_={val:x.val,nopad:1},k={val:w.val,nopad:1},O=M/z));if(h===m){var D=h-1,I=h+1;if(E)if(0===h)i=[0,1];else{var F=(h>0?u:d).reduce((function(t,e){return Math.max(t,l(e))}),0),R=h/(1-Math.min(.5,F/z));i=h>0?[0,R]:[R,0]}else i=C?[Math.max(0,D),Math.max(1,I)]:[D,I]}else E?(_.val>=0&&(_={val:0,nopad:1}),k.val<=0&&(k={val:0,nopad:1})):C&&(_.val-O*s(_)<0&&(_={val:0,nopad:1}),k.val<=0&&(k={val:1,nopad:1})),O=(k.val-_.val-f(e,x.val,w.val))/(z-s(_)-l(k)),i=[_.val-O*s(_),k.val+O*l(k)];return i=A(i,e),e.limitRange&&e.limitRange(),v&&i.reverse(),o.simpleMap(i,e.l2r||Number)}function f(t,e,r){var n=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,r),o=0;o<i.length;o++){var a=i[o];n+=a.max-a.min}return n}function p(t,e,r){var i=.05*e._length,a=e._anchorAxis||{};if(-1!==(e.ticklabelposition||"").indexOf("inside")||-1!==(a.ticklabelposition||"").indexOf("inside")){var s=e.isReversed();if(!s){var c=o.simpleMap(e.range,e.r2l);s=c[1]<c[0]}s&&(r=!r)}var d=0;return u(t,e._id)||(d=function(t,e,r){var i=0,a="x"===e._id.charAt(0);for(var s in t._plots){var c=t._plots[s];if(e._id===c.xaxis._id||e._id===c.yaxis._id){var d=(a?c.yaxis:c.xaxis)||{};if(-1!==(d.ticklabelposition||"").indexOf("inside")&&(!r&&("left"===d.side||"bottom"===d.side)||r&&("top"===d.side||"right"===d.side))){if(d._vals){var u=o.deg2rad(d._tickAngles[d._id+"tick"]||0),h=Math.abs(Math.cos(u)),f=Math.abs(Math.sin(u));if(!d._vals[0].bb){var p=d._id+"tick";d._selections[p].each((function(t){var e=n.select(this);e.select(".text-math-group").empty()&&(t.bb=l.bBox(e.node()))}))}for(var g=0;g<d._vals.length;g++){var b=d._vals[g].bb;if(b){var v=2*m+b.width,y=2*m+b.height;i=Math.max(i,a?Math.max(v*h,y*f):Math.max(y*h,v*f))}}}"inside"===d.ticks&&"inside"===d.ticklabelposition&&(i+=d.ticklen||0)}}}return i}(t,e,r)),i=Math.max(d,i),"domain"===e.constrain&&e._inputDomain&&(i*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(t){return t.nopad?0:t.pad+(t.extrapad?i:d)}}t.exports={applyAutorangeOptions:A,getAutoRange:h,makePadFn:p,doAutoRange:function(t,e,r){if(e.setScale(),e.autorange){e.range=r?r.slice():h(t,e),e._r=e.range.slice(),e._rl=o.simpleMap(e._r,e.r2l);var n=e._input,i={};i[e._attr+".range"]=e.range,i[e._attr+".autorange"]=e.autorange,s.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,i),n.range=e.range.slice(),n.autorange=e.autorange}var a=e._anchorAxis;if(a&&a.rangeslider){var l=a.rangeslider[e._name];l&&"auto"===l.rangemode&&(l.range=h(t,e)),a._input.rangeslider[e._name]=o.extendFlat({},l)}},findExtremes:function(t,e,r){r||(r={}),t._m||t.setScale();var n,o,s,l,c,d,u,h,f,p=[],m=[],g=e.length,y=r.padded||!1,w=r.tozero&&("linear"===t.type||"-"===t.type),_="log"===t.type,k=!1,A=r.vpadLinearized||!1;function T(t){if(Array.isArray(t))return k=!0,function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}var M=T((t._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),S=T((t._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),E=T(r.vpadplus||r.vpad),C=T(r.vpadminus||r.vpad);if(!k){if(h=1/0,f=-1/0,_)for(n=0;n<g;n++)(o=e[n])<h&&o>0&&(h=o),o>f&&o<a&&(f=o);else for(n=0;n<g;n++)(o=e[n])<h&&o>-a&&(h=o),o>f&&o<a&&(f=o);e=[h,f],g=2}var z={tozero:w,extrapad:y};function L(r){s=e[r],i(s)&&(d=M(r),u=S(r),A?(l=t.c2l(s)-C(r),c=t.c2l(s)+E(r)):(h=s-C(r),f=s+E(r),_&&h<f/10&&(h=f/10),l=t.c2l(h),c=t.c2l(f)),w&&(l=Math.min(0,l),c=Math.max(0,c)),x(l)&&b(p,l,u,z),x(c)&&v(m,c,d,z))}var O=Math.min(6,g);for(n=0;n<O;n++)L(n);for(n=g-1;n>=O;n--)L(n);return{min:p,max:m,opts:r}},concatExtremes:g};var m=3;function g(t,e,r){var n,i,o,a=e._id,s=t._fullData,l=t._fullLayout,c=[],u=[];function h(t,e){for(n=0;n<e.length;n++){var r=t[e[n]],s=(r._extremes||{})[a];if(!0===r.visible&&s){for(i=0;i<s.min.length;i++)o=s.min[i],b(c,o.val,o.pad,{extrapad:o.extrapad});for(i=0;i<s.max.length;i++)o=s.max[i],v(u,o.val,o.pad,{extrapad:o.extrapad})}}}if(h(s,e._traceIndices),h(l.annotations||[],e._annIndices||[]),h(l.shapes||[],e._shapeIndices||[]),e._matchGroup&&!r)for(var f in e._matchGroup)if(f!==e._id){var p=d(t,f),m=g(t,p,!0),y=e._length/p._length;for(i=0;i<m.min.length;i++)o=m.min[i],b(c,o.val,o.pad*y,{extrapad:o.extrapad});for(i=0;i<m.max.length;i++)o=m.max[i],v(u,o.val,o.pad*y,{extrapad:o.extrapad})}return{min:c,max:u}}function b(t,e,r,n){y(t,e,r,n,w)}function v(t,e,r,n){y(t,e,r,n,_)}function y(t,e,r,n,i){for(var o=n.tozero,a=n.extrapad,s=!0,l=0;l<t.length&&s;l++){var c=t[l];if(i(c.val,e)&&c.pad>=r&&(c.extrapad||!a)){s=!1;break}i(e,c.val)&&c.pad<=r&&(a||!c.extrapad)&&(t.splice(l,1),l--)}if(s){var d=o&&0===e;t.push({val:e,pad:d?0:r,extrapad:!d&&a})}}function x(t){return i(t)&&Math.abs(t)<a}function w(t,e){return t<=e}function _(t,e){return t>=e}function k(t,e,r){return void 0===e||void 0===r||(e=t.d2l(e))<t.d2l(r)}function A(t,e){if(!e||!e.autorangeoptions)return t;var r=t[0],n=t[1],i=e.autorangeoptions.include;if(void 0!==i){var a=e.d2l(r),s=e.d2l(n);o.isArrayOrTypedArray(i)||(i=[i]);for(var l=0;l<i.length;l++){var c=e.d2l(i[l]);a>=c&&(a=c,r=c),s<=c&&(s=c,n=c)}}return r=function(t,e){var r=e.autorangeoptions;return r&&void 0!==r.minallowed&&k(e,r.minallowed,r.maxallowed)?r.minallowed:r&&void 0!==r.clipmin&&k(e,r.clipmin,r.clipmax)?Math.max(t,e.d2l(r.clipmin)):t}(r,e),n=function(t,e){var r=e.autorangeoptions;return r&&void 0!==r.maxallowed&&k(e,r.minallowed,r.maxallowed)?r.maxallowed:r&&void 0!==r.clipmax&&k(e,r.clipmin,r.clipmax)?Math.min(t,e.d2l(r.clipmax)):t}(n,e),[r,n]}},19846:(t,e,r)=>{"use strict";var n=r(10024),i=r(56885),o=r(17520),a=r(12822).removeElement,s=r(21197),l=t.exports={};l.align=r(45035),l.getCursor=r(29182);var c=r(99573);function d(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function u(t){return n(t.changedTouches?t.changedTouches[0]:t,document.body)}l.unhover=c.wrapped,l.unhoverRaw=c.raw,l.init=function(t){var e,r,n,c,h,f,p,m,g=t.gd,b=1,v=g._context.doubleClickDelay,y=t.element;g._mouseDownTime||(g._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=w,o?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=w,y.addEventListener("touchstart",w,{passive:!1})):y.ontouchstart=w;var x=t.clampFn||function(t,e,r){return Math.abs(t)<r&&(t=0),Math.abs(e)<r&&(e=0),[t,e]};function w(o){g._dragged=!1,g._dragging=!0;var a=u(o);e=a[0],r=a[1],p=o.target,f=o,m=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=e,o.clientY=r),(n=(new Date).getTime())-g._mouseDownTime<v?b+=1:(b=1,g._mouseDownTime=n),t.prepFn&&t.prepFn(o,e,r),i&&!m?(h=d()).style.cursor=window.getComputedStyle(y).cursor:i||(h=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==t.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",_),document.addEventListener("touchmove",_,{passive:!1}))}function _(n){n.preventDefault();var i=u(n),o=t.minDrag||s.MINDRAG,a=x(i[0]-e,i[1]-r,o),c=a[0],d=a[1];(c||d)&&(g._dragged=!0,l.unhover(g,n)),g._dragged&&t.moveFn&&!m&&(g._dragdata={element:y,dx:c,dy:d},t.moveFn(c,d))}function k(e){var r;(delete g._dragdata,!1!==t.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",_)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),i?a(h):c&&(h.documentElement.style.cursor=c,c=null),g._dragging)?(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>v&&(b=Math.max(b-1,1)),g._dragged?t.doneFn&&t.doneFn():(f.target===p?r=f:(r={target:p,srcElement:p,toElement:p},Object.keys(f).concat(Object.keys(f.__proto__)).forEach((t=>{var e=f[t];r[t]||"function"==typeof e||(r[t]=e)}))),t.clickFn&&t.clickFn(b,r),m||p.dispatchEvent(new MouseEvent("click",e))),g._dragging=!1,g._dragged=!1):g._dragged=!1}},l.coverSlip=d},19942:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(35366);t.exports=o.call(n,i)},20049:(t,e,r)=>{"use strict";var n=r(18106).mix,i=r(12822),o=r(46121),a=r(82854),s=r(25119),l=r(91200),c=["xaxis","yaxis","zaxis"],d=13600/187;t.exports=function(t,e,r){var u,h;function f(t,e){return i.coerce(u,h,a,t,e)}for(var p=0;p<c.length;p++){var m=c[p];u=t[m]||{},(h=o.newContainer(e,m))._id=m[0]+r.scene,h._name=m,s(u,h,f,r),l(u,h,f,{font:r.font,letter:m[0],data:r.data,showGrid:!0,noAutotickangles:!0,noMinorloglabels:!0,noTicklabelindex:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,noUnifiedhovertitle:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),f("gridcolor",n(h.color,r.bgColor,d).toRgbString()),f("title.text",m[0]),h.setScale=i.noop,f("showspikes")&&(f("spikesides"),f("spikethickness"),f("spikecolor",h.color)),f("showaxeslabels"),f("showbackground")&&f("backgroundcolor")}}},20266:t=>{"use strict";t.exports=Number.isNaN||function(t){return t!=t}},20419:(t,e,r)=>{"use strict";var n=r(38232),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},20450:t=>{"use strict";t.exports=function(){}},21197:(t,e,r)=>{"use strict";var n=r(46233).counter;t.exports={idRegex:{x:n("x","( domain)?"),y:n("y","( domain)?")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},21367:(t,e,r)=>{"use strict";var n=r(13078),i={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:r(5041),toSVG:r(48402),svgToImg:r(40241),toImage:r(91117),downloadImage:r(56787)};t.exports=i},21422:(t,e,r)=>{"use strict";var n=r(68057).T,i=r(98260).extendFlat;t.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none",description:["Describes how a new selection is created.","If `immediate`, a new selection is created after first mouse up.","If `gradual`, a new selection is not created after first mouse.","By adding to and subtracting from the initial selection,","this option allows declaring extra outlines of the selection."].join(" ")},line:{color:{valType:"color",editType:"none",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:1,dflt:1,editType:"none",description:"Sets the line width (in px)."},dash:i({},n,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none",description:"Sets the color filling the active selection' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none",description:"Sets the opacity of the active selection."},editType:"none"}}},21904:t=>{"use strict";var e=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;t.exports=function(t,n){for(;n;){var i=t.match(e);if(i)t=i[1];else{if(!t.match(r))throw new Error("bad relativeAttr call:"+[t,n]);t=""}if("^"!==n.charAt(0))break;n=n.slice(1)}return t&&"["!==n.charAt(0)?t+"."+n:t+n}},21905:(t,e,r)=>{"use strict";var n=r(27941),i=r(40666),o=r(25059);function a(t,e,r){i.pointStyle(t.selectAll("path.point"),e,r)}function s(t,e,r){i.textPointStyle(t.selectAll("text"),e,r)}t.exports={style:function(t){var e=n.select(t).selectAll("g.trace.scatter");e.style("opacity",(function(t){return t[0].trace.opacity})),e.selectAll("g.points").each((function(e){a(n.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.text").each((function(e){s(n.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.trace path.js-line").call(i.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(i.fillGroupStyle,t,!1),o.getComponentMethod("errorbars","style")(e)},stylePoints:a,styleText:s,styleOnSelect:function(t,e,r){var n=e[0].trace;n.selectedpoints?(i.selectedPointStyle(r.selectAll("path.point"),n),i.selectedTextStyle(r.selectAll("text"),n)):(a(r,n,t),s(r,n,t))}}},21906:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},22319:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},22366:t=>{t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},22470:(t,e,r)=>{"use strict";var n=r(7370),i=r(61814);t.exports=function(t,e,r,o){e=e||{};var a="log"===r&&"linear"===e.type,s="linear"===r&&"log"===e.type;if(a||s)for(var l,c,d=t._fullLayout.images,u=e._id.charAt(0),h=0;h<d.length;h++)if(c="images["+h+"].",(l=d[h])[u+"ref"]===e._id){var f=l[u],p=l["size"+u],m=null,g=null;if(a){m=i(f,e.range);var b=p/Math.pow(10,m)/2;g=2*Math.log(b+Math.sqrt(1+b*b))/Math.LN10}else g=(m=Math.pow(10,f))*(Math.pow(10,p/2)-Math.pow(10,-p/2));n(m)?n(g)||(g=null):(m=null,g=null),o(c+u,m),o(c+"size"+u,g)}}},22980:(t,e,r)=>{"use strict";var n=r(40666),i=r(32994),o=i.BADNUM,a=i.LOG_CLIP,s=a+.5,l=a-.5,c=r(12822),d=c.segmentsIntersect,u=c.constrain,h=r(32565);t.exports=function(t,e){var r,i,a,f,p,m,g,b,v,y,x,w,_,k,A,T,M,S,E=e.trace||{},C=e.xaxis,z=e.yaxis,L="log"===C.type,O="log"===z.type,D=C._length,I=z._length,F=e.backoff,R=E.marker,P=e.connectGaps,j=e.baseTolerance,N=e.shape,B="linear"===N,U=E.fill&&"none"!==E.fill,V=[],G=h.minTolerance,H=t.length,W=new Array(H),q=0;function $(r){var n=t[r];if(!n)return!1;var i=e.linearized?C.l2p(n.x):C.c2p(n.x),a=e.linearized?z.l2p(n.y):z.c2p(n.y);if(i===o){if(L&&(i=C.c2p(n.x,!0)),i===o)return!1;O&&a===o&&(i*=Math.abs(C._m*I*(C._m>0?s:l)/(z._m*D*(z._m>0?s:l)))),i*=1e3}if(a===o){if(O&&(a=z.c2p(n.y,!0)),a===o)return!1;a*=1e3}return[i,a]}function Y(t,e,r,n){var i=r-t,o=n-e,a=.5-t,s=.5-e,l=i*i+o*o,c=i*a+o*s;if(c>0&&c<l){var d=a*o-s*i;if(d*d<l)return!0}}function Z(t,e){var r=t[0]/D,n=t[1]/I,i=Math.max(0,-r,r-1,-n,n-1);return i&&void 0!==M&&Y(r,n,M,S)&&(i=0),i&&e&&Y(r,n,e[0]/D,e[1]/I)&&(i=0),(1+h.toleranceGrowth*i)*j}function X(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}var J,Q,K,tt,et,rt,nt,it=h.maxScreensAway,ot=-D*it,at=D*(1+it),st=-I*it,lt=I*(1+it),ct=[[ot,st,at,st],[at,st,at,lt],[at,lt,ot,lt],[ot,lt,ot,st]];function dt(t){if(t[0]<ot||t[0]>at||t[1]<st||t[1]>lt)return[u(t[0],ot,at),u(t[1],st,lt)]}function ut(t,e){return t[0]===e[0]&&(t[0]===ot||t[0]===at)||t[1]===e[1]&&(t[1]===st||t[1]===lt)||void 0}function ht(t,e,r){return function(n,i){var o=dt(n),a=dt(i),s=[];if(o&&a&&ut(o,a))return s;o&&s.push(o),a&&s.push(a);var l=2*c.constrain((n[t]+i[t])/2,e,r)-((o||n)[t]+(a||i)[t]);return l&&((o&&a?l>0==o[t]>a[t]?o:a:o||a)[t]+=l),s}}function ft(t){var e=t[0],r=t[1],n=e===W[q-1][0],i=r===W[q-1][1];if(!n||!i)if(q>1){var o=e===W[q-2][0],a=r===W[q-2][1];n&&(e===ot||e===at)&&o?a?q--:W[q-1]=t:i&&(r===st||r===lt)&&a?o?q--:W[q-1]=t:W[q++]=t}else W[q++]=t}function pt(t){W[q-1][0]!==t[0]&&W[q-1][1]!==t[1]&&ft([K,tt]),ft(t),et=null,K=tt=0}"linear"===N||"spline"===N?nt=function(t,e){for(var r=[],n=0,i=0;i<4;i++){var o=ct[i],a=d(t[0],t[1],e[0],e[1],o[0],o[1],o[2],o[3]);a&&(!n||Math.abs(a.x-r[0][0])>1||Math.abs(a.y-r[0][1])>1)&&(a=[a.x,a.y],n&&X(a,t)<X(r[0],t)?r.unshift(a):r.push(a),n++)}return r}:"hv"===N||"vh"===N?nt=function(t,e){var r=[],n=dt(t),i=dt(e);return n&&i&&ut(n,i)||(n&&r.push(n),i&&r.push(i)),r}:"hvh"===N?nt=ht(0,ot,at):"vhv"===N&&(nt=ht(1,st,lt));var mt=c.isArrayOrTypedArray(R);function gt(e){if(e&&F&&(e.i=r,e.d=t,e.trace=E,e.marker=mt?R[e.i]:R,e.backoff=F),M=e[0]/D,S=e[1]/I,J=e[0]<ot?ot:e[0]>at?at:0,Q=e[1]<st?st:e[1]>lt?lt:0,J||Q){if(q)if(et){var n=nt(et,e);n.length>1&&(pt(n[0]),W[q++]=n[1])}else rt=nt(W[q-1],e)[0],W[q++]=rt;else W[q++]=[J||e[0],Q||e[1]];var i=W[q-1];J&&Q&&(i[0]!==J||i[1]!==Q)?(et&&(K!==J&&tt!==Q?ft(K&&tt?(o=et,s=(a=e)[0]-o[0],l=(a[1]-o[1])/s,(o[1]*a[0]-a[1]*o[0])/s>0?[l>0?ot:at,lt]:[l>0?at:ot,st]):[K||J,tt||Q]):K&&tt&&ft([K,tt])),ft([J,Q])):K-J&&tt-Q&&ft([J||K,Q||tt]),et=e,K=J,tt=Q}else et&&pt(nt(et,e)[0]),W[q++]=e;var o,a,s,l}for(r=0;r<H;r++)if(i=$(r)){for(q=0,et=null,gt(i),r++;r<H;r++){if(!(f=$(r))){if(P)continue;break}if(B&&e.simplify){var bt=$(r+1);if(y=X(f,i),U&&(0===q||q===H-1)||!(y<Z(f,bt)*G)){for(b=[(f[0]-i[0])/y,(f[1]-i[1])/y],p=i,x=y,w=k=A=0,g=!1,a=f,r++;r<t.length;r++){if(m=bt,bt=$(r+1),!m){if(P)continue;break}if(T=(v=[m[0]-i[0],m[1]-i[1]])[0]*b[1]-v[1]*b[0],k=Math.min(k,T),(A=Math.max(A,T))-k>Z(m,bt))break;a=m,(_=v[0]*b[0]+v[1]*b[1])>x?(x=_,f=m,g=!1):_<w&&(w=_,p=m,g=!0)}if(g?(gt(f),a!==p&&gt(p)):(p!==i&&gt(p),a!==f&&gt(f)),gt(a),r>=t.length||!m)break;gt(m),i=m}}else gt(f)}et&&ft([K||et[0],tt||et[1]]),V.push(W.slice(0,q))}var vt=N.slice(N.length-1);if(F&&"h"!==vt&&"v"!==vt){for(var yt=!1,xt=-1,wt=[],_t=0;_t<V.length;_t++)for(var kt=0;kt<V[_t].length-1;kt++){var At=V[_t][kt],Tt=V[_t][kt+1],Mt=n.applyBackoff(Tt,At);Mt[0]===Tt[0]&&Mt[1]===Tt[1]||(yt=!0),wt[xt+1]||(wt[++xt]=[At,[Mt[0],Mt[1]]])}return yt?wt:V}return V}},23223:(t,e,r)=>{"use strict";var n=r(6583),i=r(12822),o=r(75815);function a(t,e){var r=0;return(e=e||0)&&t&&("category"===t.type||"multicategory"===t.type)&&(r=(t.r2p(1)-t.r2p(0))*e),r}e.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},e.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},e.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},e.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},e.extractPathCoords=function(t,e,r){var o=[];return t.match(n.segmentRE).forEach((function(t){var a=e[t.charAt(0)].drawn;if(void 0!==a){var s=t.substr(1).match(n.paramRE);if(s&&!(s.length<a)){var l=s[a],c=r?l:i.cleanNumber(l);o.push(c)}}})),o},e.getDataToPixel=function(t,r,n,i,o){var s,l=t._fullLayout._size;if(r)if("domain"===o)s=function(t){return r._length*(i?1-t:t)+r._offset};else{var c=e.shapePositionToRange(r);s=function(t){var e=a(r,n);return r._offset+r.r2p(c(t,!0))+e},"date"===r.type&&(s=e.decodeDate(s))}else s=i?function(t){return l.t+l.h*(1-t)}:function(t){return l.l+l.w*t};return s},e.getPixelToData=function(t,r,n,i){var o,a=t._fullLayout._size;if(r)if("domain"===i)o=function(t){var e=(t-r._offset)/r._length;return n?1-e:e};else{var s=e.rangeToShapePosition(r);o=function(t){return s(r.p2r(t-r._offset))}}else o=n?function(t){return 1-(t-a.t)/a.h}:function(t){return(t-a.l)/a.w};return o},e.roundPositionForSharpStrokeRendering=function(t,e){var r=1===Math.round(e%2),n=Math.round(t);return r?n+.5:n},e.makeShapesOptionsAndPlotinfo=function(t,e){var r=t._fullLayout.shapes[e]||{},n=t._fullLayout._plots[r.xref+r.yref];return n?n._hadPlotinfo=!0:(n={},r.xref&&"paper"!==r.xref&&(n.xaxis=t._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(n.yaxis=t._fullLayout[r.yref+"axis"])),n.xsizemode=r.xsizemode,n.ysizemode=r.ysizemode,n.xanchor=r.xanchor,n.yanchor=r.yanchor,{options:r,plotinfo:n}},e.makeSelectionsOptionsAndPlotinfo=function(t,e){var r=t._fullLayout.selections[e]||{},n=t._fullLayout._plots[r.xref+r.yref];return n?n._hadPlotinfo=!0:(n={},r.xref&&(n.xaxis=t._fullLayout[r.xref+"axis"]),r.yref&&(n.yaxis=t._fullLayout[r.yref+"axis"])),{options:r,plotinfo:n}},e.getPathString=function(t,r){var s,l,c,d,u,h,f,p,m=r.type,g=o.getRefType(r.xref),b=o.getRefType(r.yref),v=o.getFromId(t,r.xref),y=o.getFromId(t,r.yref),x=t._fullLayout._size,w=a(v,r.x0shift),_=a(v,r.x1shift),k=a(y,r.y0shift),A=a(y,r.y1shift);if(v?"domain"===g?l=function(t){return v._offset+v._length*t}:(s=e.shapePositionToRange(v),l=function(t){return v._offset+v.r2p(s(t,!0))}):l=function(t){return x.l+x.w*t},y?"domain"===b?d=function(t){return y._offset+y._length*(1-t)}:(c=e.shapePositionToRange(y),d=function(t){return y._offset+y.r2p(c(t,!0))}):d=function(t){return x.t+x.h*(1-t)},"path"===m)return v&&"date"===v.type&&(l=e.decodeDate(l)),y&&"date"===y.type&&(d=e.decodeDate(d)),function(t,e,r){var o=t.path,a=t.xsizemode,s=t.ysizemode,l=t.xanchor,c=t.yanchor;return o.replace(n.segmentRE,(function(t){var o=0,d=t.charAt(0),u=n.paramIsX[d],h=n.paramIsY[d],f=n.numParams[d],p=t.substr(1).replace(n.paramRE,(function(t){return u[o]?t="pixel"===a?e(l)+Number(t):e(t):h[o]&&(t="pixel"===s?r(c)-Number(t):r(t)),++o>f&&(t="X"),t}));return o>f&&(p=p.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+t)),d+p}))}(r,l,d);if("pixel"===r.xsizemode){var T=l(r.xanchor);u=T+r.x0+w,h=T+r.x1+_}else u=l(r.x0)+w,h=l(r.x1)+_;if("pixel"===r.ysizemode){var M=d(r.yanchor);f=M-r.y0+k,p=M-r.y1+A}else f=d(r.y0)+k,p=d(r.y1)+A;if("line"===m)return"M"+u+","+f+"L"+h+","+p;if("rect"===m)return"M"+u+","+f+"H"+h+"V"+p+"H"+u+"Z";var S=(u+h)/2,E=(f+p)/2,C=Math.abs(S-u),z=Math.abs(E-f),L="A"+C+","+z,O=S+C+","+E;return"M"+O+L+" 0 1,1 "+S+","+(E-z)+L+" 0 0,1 "+O+"Z"}},23266:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(93272);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},23315:(t,e,r)=>{"use strict";var n=r(75815);t.exports=function(t,e,r){var i={},o={_fullLayout:r},a=n.getFromTrace(o,e,"x"),s=n.getFromTrace(o,e,"y"),l=t.orig_x;void 0===l&&(l=t.x);var c=t.orig_y;return void 0===c&&(c=t.y),i.xLabel=n.tickText(a,a.c2l(l),!0).text,i.yLabel=n.tickText(s,s.c2l(c),!0).text,i}},23350:(t,e,r)=>{"use strict";var n=r(27941),i=r(51137),o=r(17499),a=r(40666),s=r(12822),l=s.strTranslate,c=r(80394),d=r(46121).arrayEditor,u=r(92911),h=r(89701),f=h.LINE_SPACING,p=h.FROM_TL,m=h.FROM_BR;function g(t){return u.autoMarginIdRoot+t._index}function b(t){return t._index}function v(t,e){var r=a.tester.selectAll("g."+u.labelGroupClass).data(e._visibleSteps);r.enter().append("g").classed(u.labelGroupClass,!0);var o=0,l=0;r.each((function(t){var r=w(n.select(this),{step:t},e).node();if(r){var i=a.bBox(r);l=Math.max(l,i.height),o=Math.max(o,i.width)}})),r.remove();var d=e._dims={};d.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var h=t._fullLayout._size;d.lx=h.l+h.w*e.x,d.ly=h.t+h.h*(1-e.y),"fraction"===e.lenmode?d.outerLength=Math.round(h.w*e.len):d.outerLength=e.len,d.inputAreaStart=0,d.inputAreaLength=Math.round(d.outerLength-e.pad.l-e.pad.r);var f=(d.inputAreaLength-2*u.stepInset)/(e._stepCount-1),b=o+u.labelPadding;if(d.labelStride=Math.max(1,Math.ceil(b/f)),d.labelHeight=l,d.currentValueMaxWidth=0,d.currentValueHeight=0,d.currentValueTotalHeight=0,d.currentValueMaxLines=1,e.currentvalue.visible){var v=a.tester.append("g");r.each((function(t){var r=y(v,e,t.label),n=r.node()&&a.bBox(r.node())||{width:0,height:0},i=c.lineCount(r);d.currentValueMaxWidth=Math.max(d.currentValueMaxWidth,Math.ceil(n.width)),d.currentValueHeight=Math.max(d.currentValueHeight,Math.ceil(n.height)),d.currentValueMaxLines=Math.max(d.currentValueMaxLines,i)})),d.currentValueTotalHeight=d.currentValueHeight+e.currentvalue.offset,v.remove()}d.height=d.currentValueTotalHeight+u.tickOffset+e.ticklen+u.labelOffset+d.labelHeight+e.pad.t+e.pad.b;var x="left";s.isRightAnchor(e)&&(d.lx-=d.outerLength,x="right"),s.isCenterAnchor(e)&&(d.lx-=d.outerLength/2,x="center");var _="top";s.isBottomAnchor(e)&&(d.ly-=d.height,_="bottom"),s.isMiddleAnchor(e)&&(d.ly-=d.height/2,_="middle"),d.outerLength=Math.ceil(d.outerLength),d.height=Math.ceil(d.height),d.lx=Math.round(d.lx),d.ly=Math.round(d.ly);var k={y:e.y,b:d.height*m[_],t:d.height*p[_]};"fraction"===e.lenmode?(k.l=0,k.xl=e.x-e.len*p[x],k.r=0,k.xr=e.x+e.len*m[x]):(k.x=e.x,k.l=d.outerLength*p[x],k.r=d.outerLength*m[x]),i.autoMargin(t,g(e),k)}function y(t,e,r){if(e.currentvalue.visible){var n,i,o=e._dims;switch(e.currentvalue.xanchor){case"right":n=o.inputAreaLength-u.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":n=.5*o.inputAreaLength,i="middle";break;default:n=u.currentValueInset,i="left"}var l=s.ensureSingle(t,"text",u.labelClass,(function(t){t.attr({"text-anchor":i,"data-notex":1})})),d=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof r)d+=r;else{var h=e.steps[e.active].label,p=e._gd._fullLayout._meta;p&&(h=s.templateString(h,p)),d+=h}e.currentvalue.suffix&&(d+=e.currentvalue.suffix),l.call(a.font,e.currentvalue.font).text(d).call(c.convertToTspans,e._gd);var m=c.lineCount(l),g=(o.currentValueMaxLines+1-m)*e.currentvalue.font.size*f;return c.positionText(l,n,g),l}}function x(t,e,r){s.ensureSingle(t,"rect",u.gripRectClass,(function(n){n.call(T,e,t,r).style("pointer-events","all")})).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(o.stroke,r.bordercolor).call(o.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function w(t,e,r){var n=s.ensureSingle(t,"text",u.labelClass,(function(t){t.attr({"text-anchor":"middle","data-notex":1})})),i=e.step.label,o=r._gd._fullLayout._meta;return o&&(i=s.templateString(i,o)),n.call(a.font,r.font).text(i).call(c.convertToTspans,r._gd),n}function _(t,e){var r=s.ensureSingle(t,"g",u.labelsClass),i=e._dims,o=r.selectAll("g."+u.labelGroupClass).data(i.labelSteps);o.enter().append("g").classed(u.labelGroupClass,!0),o.exit().remove(),o.each((function(t){var r=n.select(this);r.call(w,t,e),a.setTranslate(r,E(e,t.fraction),u.tickOffset+e.ticklen+e.font.size*f+u.labelOffset+i.currentValueTotalHeight)}))}function k(t,e,r,n,i){var o=Math.round(n*(r._stepCount-1)),a=r._visibleSteps[o]._index;a!==r.active&&A(t,e,r,a,!0,i)}function A(t,e,r,n,o,a){var s=r.active;r.active=n,d(t.layout,u.name,r).applyUpdate("active",n);var l=r.steps[r.active];e.call(S,r,a),e.call(y,r),t.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:o,previousActive:s}),l&&l.method&&o&&(e._nextMethod?(e._nextMethod.step=l,e._nextMethod.doCallback=o,e._nextMethod.doTransition=a):(e._nextMethod={step:l,doCallback:o,doTransition:a},e._nextMethodRaf=window.requestAnimationFrame((function(){var r=e._nextMethod.step;r.method&&(r.execute&&i.executeAPICommand(t,r.method,r.args),e._nextMethod=null,e._nextMethodRaf=null)}))))}function T(t,e,r){if(!e._context.staticPlot){var i=r.node(),a=n.select(e);t.on("mousedown",l),t.on("touchstart",l)}function s(){return r.data()[0]}function l(){var t=s();e.emit("plotly_sliderstart",{slider:t});var l=r.select("."+u.gripRectClass);n.event.stopPropagation(),n.event.preventDefault(),l.call(o.fill,t.activebgcolor);var c=C(t,n.mouse(i)[0]);function d(){var t=s(),o=C(t,n.mouse(i)[0]);k(e,r,t,o,!1)}function h(){var t=s();t._dragging=!1,l.call(o.fill,t.bgcolor),a.on("mouseup",null),a.on("mousemove",null),a.on("touchend",null),a.on("touchmove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})}k(e,r,t,c,!0),t._dragging=!0,a.on("mousemove",d),a.on("touchmove",d),a.on("mouseup",h),a.on("touchend",h)}}function M(t,e){var r=t.selectAll("rect."+u.tickRectClass).data(e._visibleSteps),i=e._dims;r.enter().append("rect").classed(u.tickRectClass,!0),r.exit().remove(),r.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),r.each((function(t,r){var s=r%i.labelStride==0,l=n.select(this);l.attr({height:s?e.ticklen:e.minorticklen}).call(o.fill,e.tickcolor),a.setTranslate(l,E(e,r/(e._stepCount-1))-.5*e.tickwidth,(s?u.tickOffset:u.minorTickOffset)+i.currentValueTotalHeight)}))}function S(t,e,r){for(var n=t.select("rect."+u.gripRectClass),i=0,o=0;o<e._stepCount;o++)if(e._visibleSteps[o]._index===e.active){i=o;break}var a=E(e,i/(e._stepCount-1));if(!e._invokingCommand){var s=n;r&&e.transition.duration>0&&(s=s.transition().duration(e.transition.duration).ease(e.transition.easing)),s.attr("transform",l(a-.5*u.gripWidth,e._dims.currentValueTotalHeight))}}function E(t,e){var r=t._dims;return r.inputAreaStart+u.stepInset+(r.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,e))}function C(t,e){var r=t._dims;return Math.min(1,Math.max(0,(e-u.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*u.stepInset-2*r.inputAreaStart)))}function z(t,e,r){var n=r._dims,i=s.ensureSingle(t,"rect",u.railTouchRectClass,(function(n){n.call(T,e,t,r).style("pointer-events","all")}));i.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,u.tickOffset+r.ticklen+n.labelHeight)}).call(o.fill,r.bgcolor).attr("opacity",0),a.setTranslate(i,0,n.currentValueTotalHeight)}function L(t,e){var r=e._dims,n=r.inputAreaLength-2*u.railInset,i=s.ensureSingle(t,"rect",u.railRectClass);i.attr({width:n,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),a.setTranslate(i,u.railInset,.5*(r.inputAreaWidth-u.railWidth)+r.currentValueTotalHeight)}t.exports=function(t){var e=t._context.staticPlot,r=t._fullLayout,o=function(t,e){for(var r=t[u.name],n=[],i=0;i<r.length;i++){var o=r[i];o.visible&&(o._gd=e,n.push(o))}return n}(r,t),s=r._infolayer.selectAll("g."+u.containerClassName).data(o.length>0?[0]:[]);function l(e){e._commandObserver&&(e._commandObserver.remove(),delete e._commandObserver),i.autoMargin(t,g(e))}if(s.enter().append("g").classed(u.containerClassName,!0).style("cursor",e?null:"ew-resize"),s.exit().each((function(){n.select(this).selectAll("g."+u.groupClassName).each(l)})).remove(),0!==o.length){var c=s.selectAll("g."+u.groupClassName).data(o,b);c.enter().append("g").classed(u.groupClassName,!0),c.exit().each(l).remove();for(var d=0;d<o.length;d++){var h=o[d];v(t,h)}c.each((function(e){var r=n.select(this);!function(t){var e=t._dims;e.labelSteps=[];for(var r=t._stepCount,n=0;n<r;n+=e.labelStride)e.labelSteps.push({fraction:n/(r-1),step:t._visibleSteps[n]})}(e),i.manageCommandObserver(t,e,e._visibleSteps,(function(e){var n=r.data()[0];n.active!==e.index&&(n._dragging||A(t,r,n,e.index,!1,!0))})),function(t,e,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index),e.call(y,r).call(L,r).call(_,r).call(M,r).call(z,t,r).call(x,t,r);var n=r._dims;a.setTranslate(e,n.lx+r.pad.l,n.ly+r.pad.t),e.call(S,r,!1),e.call(y,r)}(t,n.select(this),e)}))}}},23648:t=>{"use strict";t.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},23754:t=>{"use strict";t.exports=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}},23778:(t,e)=>{e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,d=-7,u=r?i-1:0,h=r?-1:1,f=t[e+u];for(u+=h,o=f&(1<<-d)-1,f>>=-d,d+=s;d>0;o=256*o+t[e+u],u+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=256*a+t[e+u],u+=h,d-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=c}return(f?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,l,c=8*o-i-1,d=(1<<c)-1,u=d>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(e*l-1)*Math.pow(2,i),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+f]=255&a,f+=p,a/=256,c-=8);t[r+f-p]|=128*m}},24131:(t,e,r)=>{"use strict";const{DATE_FORMAT_LINK:n,FORMAT_LINK:i}=r(77201),o=["Variables that can't be found will be replaced with the specifier.",'For example, a template of "data: %{x}, %{y}" will result in a value of "data: 1, %{y}" if x is 1 and y is missing.',"Variables with an undefined value will be replaced with the fallback value."].join(" ");function a({supportOther:t}={}){return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(t?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),'Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',i,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',n,"for details on the date formatting syntax.",o].join(" ")}function s({description:t,keys:e=[]}){let r=t?" ":"";if(e.length>0){const t=e.map((t=>`\`${t}\``));r+="Finally, the template string has access to ",1===e.length?r+=`variable ${t[0]}`:r+=`variables ${t.slice(0,-1).join(", ")} and ${t.slice(-1)}.`}return r}e.templateFormatStringDescription=a,e.hovertemplateAttrs=({editType:t="none",arrayOk:e}={},r={})=>({valType:"string",dflt:"",editType:t,description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",a({supportOther:!0}),"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, all attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",s(r),"Anything contained in tag `<extra>` is displayed in the secondary box, for example `<extra>%{fullData.name}</extra>`.","To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" "),...!1!==e?{arrayOk:!0}:{}}),e.texttemplateAttrs=({editType:t="calc",arrayOk:e}={},r={})=>({valType:"string",dflt:"",editType:t,description:["Template string used for rendering the information text that appears on points.","Note that this will override `textinfo`.",a(),"All attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",s(r)].join(" "),...!1!==e?{arrayOk:!0}:{}}),e.shapeTexttemplateAttrs=({editType:t="arraydraw",newshape:e}={},r={})=>({valType:"string",dflt:"",editType:t,description:[`Template string used for rendering the ${e?"new ":""}shape's label.`,"Note that this will override `text`.","Variables are inserted using %{variable},",'for example "x0: %{x0}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{x0:$.2f}". See',i,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{x0|%m %b %Y}". See',n,"for details on the date formatting syntax.","A single multiplication or division operation may be applied to numeric variables, and combined with",'d3 number formatting, for example "Length in cm: %{x0*2.54}", "%{slope*60:.1f} meters per second."',"For log axes, variable values are given in log units.","For date axes, x/y coordinate variables and center variables use datetimes, while all other variable values use values in ms.",s(r),o].join(" ")}),e.templatefallbackAttrs=({editType:t="none"}={})=>({valType:"any",dflt:"-",editType:t,description:["Fallback string that's displayed when a variable referenced in a template is missing.","If the boolean value 'false' is passed in, the specifier with the missing variable will be displayed."].join(" ")})},24134:t=>{"use strict";t.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},24310:(t,e,r)=>{"use strict";var n=r(59412),i=r(61398),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},24420:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},24815:(t,e,r)=>{"use strict";var n=r(17499),i=r(12822);t.exports=function(t,e,r){if(r("newshape.visible"),r("newshape.name"),r("newshape.showlegend"),r("newshape.legend"),r("newshape.legendwidth"),r("newshape.legendgroup"),r("newshape.legendgrouptitle.text"),i.coerceFont(r,"newshape.legendgrouptitle.font"),r("newshape.legendrank"),r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity"),r("newshape.line.width")){var o=(t||{}).plot_bgcolor||"#FFF";r("newshape.line.color",n.contrast(o)),r("newshape.line.dash")}var a="drawline"===t.dragmode,s=r("newshape.label.text"),l=r("newshape.label.texttemplate");if(r("newshape.label.texttemplatefallback"),s||l){r("newshape.label.textangle");var c=r("newshape.label.textposition",a?"middle":"middle center");r("newshape.label.xanchor"),r("newshape.label.yanchor",function(t,e){return t?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}(a,c)),r("newshape.label.padding"),i.coerceFont(r,"newshape.label.font",e.font)}r("activeshape.fillcolor"),r("activeshape.opacity")}},25052:(t,e,r)=>{"use strict";var n=r(86142),i=r(63844).Symbol;t.exports=function(t){return Object.defineProperties(t,{hasInstance:n("",i&&i.hasInstance||t("hasInstance")),isConcatSpreadable:n("",i&&i.isConcatSpreadable||t("isConcatSpreadable")),iterator:n("",i&&i.iterator||t("iterator")),match:n("",i&&i.match||t("match")),replace:n("",i&&i.replace||t("replace")),search:n("",i&&i.search||t("search")),species:n("",i&&i.species||t("species")),split:n("",i&&i.split||t("split")),toPrimitive:n("",i&&i.toPrimitive||t("toPrimitive")),toStringTag:n("",i&&i.toStringTag||t("toStringTag")),unscopables:n("",i&&i.unscopables||t("unscopables"))})}},25058:t=>{var e=Math.PI,r=s(120);function n(t,e,r,n){return["C",t,e,r,n,r,n]}function i(t,e,r,n,i,o){return["C",t/3+2/3*r,e/3+2/3*n,i/3+2/3*r,o/3+2/3*n,i,o]}function o(t,n,i,s,l,c,d,u,h,f){if(f)k=f[0],A=f[1],w=f[2],_=f[3];else{var p=a(t,n,-l);t=p.x,n=p.y;var m=(t-(u=(p=a(u,h,-l)).x))/2,g=(n-(h=p.y))/2,b=m*m/(i*i)+g*g/(s*s);b>1&&(i*=b=Math.sqrt(b),s*=b);var v=i*i,y=s*s,x=(c==d?-1:1)*Math.sqrt(Math.abs((v*y-v*g*g-y*m*m)/(v*g*g+y*m*m)));x==1/0&&(x=1);var w=x*i*g/s+(t+u)/2,_=x*-s*m/i+(n+h)/2,k=Math.asin(((n-_)/s).toFixed(9)),A=Math.asin(((h-_)/s).toFixed(9));(k=t<w?e-k:k)<0&&(k=2*e+k),(A=u<w?e-A:A)<0&&(A=2*e+A),d&&k>A&&(k-=2*e),!d&&A>k&&(A-=2*e)}if(Math.abs(A-k)>r){var T=A,M=u,S=h;A=k+r*(d&&A>k?1:-1);var E=o(u=w+i*Math.cos(A),h=_+s*Math.sin(A),i,s,l,0,d,M,S,[A,T,w,_])}var C=Math.tan((A-k)/4),z=4/3*i*C,L=4/3*s*C,O=[2*t-(t+z*Math.sin(k)),2*n-(n-L*Math.cos(k)),u+z*Math.sin(A),h-L*Math.cos(A),u,h];if(f)return O;E&&(O=O.concat(E));for(var D=0;D<O.length;){var I=a(O[D],O[D+1],l);O[D++]=I.x,O[D++]=I.y}return O}function a(t,e,r){return{x:t*Math.cos(r)-e*Math.sin(r),y:t*Math.sin(r)+e*Math.cos(r)}}function s(t){return t*(e/180)}t.exports=function(t){for(var e,r=[],a=0,l=0,c=0,d=0,u=null,h=null,f=0,p=0,m=0,g=t.length;m<g;m++){var b=t[m],v=b[0];switch(v){case"M":c=b[1],d=b[2];break;case"A":(b=o(f,p,b[1],b[2],s(b[3]),b[4],b[5],b[6],b[7])).unshift("C"),b.length>7&&(r.push(b.splice(0,7)),b.unshift("C"));break;case"S":var y=f,x=p;"C"!=e&&"S"!=e||(y+=y-a,x+=x-l),b=["C",y,x,b[1],b[2],b[3],b[4]];break;case"T":"Q"==e||"T"==e?(u=2*f-u,h=2*p-h):(u=f,h=p),b=i(f,p,u,h,b[1],b[2]);break;case"Q":u=b[1],h=b[2],b=i(f,p,b[1],b[2],b[3],b[4]);break;case"L":b=n(f,p,b[1],b[2]);break;case"H":b=n(f,p,b[1],p);break;case"V":b=n(f,p,f,b[1]);break;case"Z":b=n(f,p,c,d)}e=v,f=b[b.length-2],p=b[b.length-1],b.length>4?(a=b[b.length-4],l=b[b.length-3]):(a=f,l=p),r.push(b)}return r}},25059:(t,e,r)=>{"use strict";var n=r(64347),i=r(51648),o=r(65280),a=r(12517),s=r(16822).addStyleRule,l=r(98260),c=r(3520),d=r(13195),u=l.extendFlat,h=l.extendDeepAll;function f(t){var i=t.name,o=t.categories,a=t.meta;if(e.modules[i])n.log("Type "+i+" already registered");else{e.subplotsRegistry[t.basePlotModule.name]||function(t){var r=t.name;if(e.subplotsRegistry[r])n.log("Plot type "+r+" already registered.");else for(var i in b(t),e.subplotsRegistry[r]=t,e.componentsRegistry)y(i,t.name)}(t.basePlotModule);for(var l={},c=0;c<o.length;c++)l[o[c]]=!0,e.allCategories[o[c]]=!0;for(var d in e.modules[i]={_module:t,categories:l},a&&Object.keys(a).length&&(e.modules[i].meta=a),e.allTypes.push(i),e.componentsRegistry)v(d,i);t.layoutAttributes&&u(e.traceLayoutAttributes,t.layoutAttributes);var h=t.basePlotModule,f=h.name;if("mapbox"===f){var p=h.constants.styleRules;for(var m in p)s(".js-plotly-plot .plotly .mapboxgl-"+m,p[m])}"map"===f&&r(96144),"geo"!==f&&"mapbox"!==f&&"map"!==f||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function p(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");var r=t.name;for(var n in e.componentsRegistry[r]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&o(e.layoutArrayContainers,r),b(t)),e.modules)v(r,n);for(var i in e.subplotsRegistry)y(r,i);t.schema&&t.schema.layout&&h(d,t.schema.layout)}function m(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,r="function"==typeof t.transform,i="function"==typeof t.calcTransform;if(!r&&!i)throw new Error(e+" is missing a *transform* or *calcTransform* method.");r&&i&&n.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(t.attributes)||n.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&n.log(e+" registered without a *supplyDefaults* method.")}function g(t){var r=t.name,n=r.split("-")[0],i=t.dictionary,o=t.format,a=i&&Object.keys(i).length,s=o&&Object.keys(o).length,l=e.localeRegistry,c=l[r];if(c||(l[r]=c={}),n!==r){var d=l[n];d||(l[n]=d={}),a&&d.dictionary===c.dictionary&&(d.dictionary=i),s&&d.format===c.format&&(d.format=o)}a&&(c.dictionary=i),s&&(c.format=o)}function b(t){if(t.layoutAttributes){var r=t.layoutAttributes._arrayAttrRegexps;if(r)for(var n=0;n<r.length;n++)o(e.layoutArrayRegexes,r[n])}}function v(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.traces){var i=n.traces[r];i&&h(e.modules[r]._module.attributes,i)}}function y(t,r){var n=e.componentsRegistry[t].schema;if(n&&n.subplots){var i=e.subplotsRegistry[r],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var s=n.subplots[a];o&&s&&h(o,s)}}function x(t){return"object"==typeof t&&(t=t.type),t}e.modules={},e.allCategories={},e.allTypes=[],e.subplotsRegistry={},e.componentsRegistry={},e.layoutArrayContainers=[],e.layoutArrayRegexes=[],e.traceLayoutAttributes={},e.localeRegistry={},e.apiMethodRegistry={},e.collectableSubplotTypes=null,e.register=function(t){if(e.collectableSubplotTypes=null,!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var r=0;r<t.length;r++){var n=t[r];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":f(n);break;case"transform":m(n);break;case"component":p(n);break;case"locale":g(n);break;case"apiMethod":var i=n.name;e.apiMethodRegistry[i]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},e.getModule=function(t){var r=e.modules[x(t)];return!!r&&r._module},e.traceIs=function(t,r){if("various"===(t=x(t)))return!1;var i=e.modules[t];return i||(t&&n.log("Unrecognized trace type "+t+"."),i=e.modules[c.type.dflt]),!!i.categories[r]},e.getComponentMethod=function(t,r){var n=e.componentsRegistry[t];return n&&n[r]||i},e.call=function(){var t=arguments[0],r=[].slice.call(arguments,1);return e.apiMethodRegistry[t].apply(null,r)}},25069:(t,e,r)=>{"use strict";var n=r(7370),i=r(18106),o=r(34463),a=r(80755),s=r(84226).defaultLine,l=r(98507).isArrayOrTypedArray,c=o(s);function d(t,e){var r=t;return r[3]*=e,r}function u(t){if(n(t))return c;var e=o(t);return e.length?e:c}function h(t){return n(t)?t:1}t.exports={formatColor:function(t,e,r){var n=t.color;n&&n._inputArray&&(n=n._inputArray);var i,s,f,p,m,g=l(n),b=l(e),v=a.extractOpts(t),y=[];if(i=void 0!==v.colorscale?a.makeColorScaleFuncFromTrace(t):u,s=g?function(t,e){return void 0===t[e]?c:o(i(t[e]))}:u,f=b?function(t,e){return void 0===t[e]?1:h(t[e])}:h,g||b)for(var x=0;x<r;x++)p=s(n,x),m=f(e,x),y[x]=d(p,m);else y=d(o(n),e);return y},parseColorScale:function(t){var e=a.extractOpts(t),r=e.colorscale;return e.reversescale&&(r=a.flipScale(e.colorscale)),r.map((function(t){var e=t[0],r=i(t[1]).toRgb();return{index:e,rgb:[r.r,r.g,r.b,r.a]}}))}}},25119:(t,e,r)=>{"use strict";var n=r(25059).traceIs,i=r(17821);function o(t){return{v:"x",h:"y"}[t.orientation||"v"]}function a(t,e){var r=o(t),i=n(t,"box-violin"),a=n(t._fullInput||{},"candlestick");return i&&!a&&e===r&&void 0===t[r]&&void 0===t[r+"0"]}t.exports=function(t,e,r,s){r("autotypenumbers",s.autotypenumbersDflt),"-"===r("type",(s.splomStash||{}).type)&&(function(t,e){if("-"===t.type){var r,s=t._id,l=s.charAt(0);-1!==s.indexOf("scene")&&(s=l);var c=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if("splom"===i.type&&i._length>0&&(i["_"+r+"axes"]||{})[e])return i;if((i[r+"axis"]||r)===e){if(a(i,r))return i;if((i[r]||[]).length||i[r+"0"])return i}}}(e,s,l);if(c)if("histogram"!==c.type||l!=={v:"y",h:"x"}[c.orientation||"v"]){var d=l+"calendar",u=c[d],h={noMultiCategory:!n(c,"cartesian")||n(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(h.noMultiCategory=!0),h.autotypenumbers=t.autotypenumbers,a(c,l)){var f=o(c),p=[];for(r=0;r<e.length;r++){var m=e[r];n(m,"box-violin")&&(m[l+"axis"]||l)===s&&(void 0!==m[f]?p.push(m[f][0]):void 0!==m.name?p.push(m.name):p.push("text"),m[d]!==u&&(u=void 0))}t.type=i(p,u,h)}else if("splom"===c.type){var g=c.dimensions[c._axesDim[s]];g.visible&&(t.type=i(g.values,u,h))}else t.type=i(c[l]||[c[l+"0"]],u,h)}else t.type="linear"}}(e,s.data),"-"===e.type?e.type="linear":t.type=e.type)}},25229:(t,e,r)=>{"use strict";var n=r(12822),i=r(49114);t.exports=function(t,e){var r,o="group"===e.barmode;"group"===e.scattermode&&(r=o?e.bargap:.2,n.coerce(t,e,i,"scattergap",r))}},25359:t=>{"use strict";t.exports=function(t,e){if(!t||null==t.length)throw Error("Argument should be an array");e=null==e?1:Math.floor(e);for(var r=Array(2*e),n=0;n<e;n++){for(var i=-1/0,o=1/0,a=n,s=t.length;a<s;a+=e)t[a]>i&&(i=t[a]),t[a]<o&&(o=t[a]);r[n]=o,r[e+n]=i}return r}},25446:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2722%27 height=%2722%27 fill=%27%23333%27 viewBox=%270 0 22 22%27%3E%3Cpath d=%27m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0%27/%3E%3C/svg%3E"},25515:t=>{"use strict";t.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},25645:(t,e,r)=>{var n=r(68871);t.exports=function(t,e,r){function i(t,e,n){return{id:r?r.segmentId():-1,start:t,end:e,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var o=n.create();function a(t,r){o.insertBefore(t,(function(n){return i=t.isStart,o=t.pt,a=r,s=n.isStart,l=n.pt,c=n.other.pt,(0!==(d=e.pointsCompare(o,l))?d:e.pointsSame(a,c)?0:i!==s?i?1:-1:e.pointAboveOrOnLine(a,s?l:c,s?c:l)?1:-1)<0;var i,o,a,s,l,c,d}))}function s(t,e){var r=function(t,e){var r=n.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return a(r,t.end),r}(t,e);return function(t,e,r){var i=n.node({isStart:!1,pt:e.end,seg:e,primary:r,other:t,status:null});t.other=i,a(i,t.pt)}(r,t,e),r}function l(t,e){var n=i(e,t.seg.end,t.seg);return function(t,e){r&&r.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,a(t.other,t.pt)}(t,e),s(n,t.primary)}function c(i,a){var s=n.create();function c(t){return s.findTransition((function(r){var n,i,o,a,s,l;return n=t,i=r.ev,o=n.seg.start,a=n.seg.end,s=i.seg.start,l=i.seg.end,(e.pointsCollinear(o,s,l)?e.pointsCollinear(a,s,l)||e.pointAboveOrOnLine(a,s,l)?1:-1:e.pointAboveOrOnLine(o,s,l)?1:-1)>0}))}function d(t,n){var i=t.seg,o=n.seg,a=i.start,s=i.end,c=o.start,d=o.end;r&&r.checkIntersection(i,o);var u=e.linesIntersect(a,s,c,d);if(!1===u){if(!e.pointsCollinear(a,s,c))return!1;if(e.pointsSame(a,d)||e.pointsSame(s,c))return!1;var h=e.pointsSame(a,c),f=e.pointsSame(s,d);if(h&&f)return n;var p=!h&&e.pointBetween(a,c,d),m=!f&&e.pointBetween(s,c,d);if(h)return m?l(n,s):l(t,d),n;p&&(f||(m?l(n,s):l(t,d)),l(n,a))}else 0===u.alongA&&(-1===u.alongB?l(t,c):0===u.alongB?l(t,u.pt):1===u.alongB&&l(t,d)),0===u.alongB&&(-1===u.alongA?l(n,a):0===u.alongA?l(n,u.pt):1===u.alongA&&l(n,s));return!1}for(var u=[];!o.isEmpty();){var h=o.getHead();if(r&&r.vert(h.pt[0]),h.isStart){r&&r.segmentNew(h.seg,h.primary);var f=c(h),p=f.before?f.before.ev:null,m=f.after?f.after.ev:null;function g(){if(p){var t=d(h,p);if(t)return t}return!!m&&d(h,m)}r&&r.tempStatus(h.seg,!!p&&p.seg,!!m&&m.seg);var b,v,y=g();if(y)t?(v=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below)&&(y.seg.myFill.above=!y.seg.myFill.above):y.seg.otherFill=h.seg.myFill,r&&r.segmentUpdate(y.seg),h.other.remove(),h.remove();if(o.getHead()!==h){r&&r.rewind(h.seg);continue}t?(v=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below,h.seg.myFill.below=m?m.seg.myFill.above:i,h.seg.myFill.above=v?!h.seg.myFill.below:h.seg.myFill.below):null===h.seg.otherFill&&(b=m?h.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:h.primary?a:i,h.seg.otherFill={above:b,below:b}),r&&r.status(h.seg,!!p&&p.seg,!!m&&m.seg),h.other.status=f.insert(n.node({ev:h}))}else{var x=h.status;if(null===x)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(x.prev)&&s.exists(x.next)&&d(x.prev.ev,x.next.ev),r&&r.statusRemove(x.ev.seg),x.remove(),!h.primary){var w=h.seg.myFill;h.seg.myFill=h.seg.otherFill,h.seg.otherFill=w}u.push(h.seg)}o.getHead().remove()}return r&&r.done(),u}return t?{addRegion:function(t){for(var n,i,o,a=t[t.length-1],l=0;l<t.length;l++){n=a,a=t[l];var c=e.pointsCompare(n,a);0!==c&&s((i=c<0?n:a,o=c<0?a:n,{id:r?r.segmentId():-1,start:i,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(t){return c(t,!1)}}:{calculate:function(t,e,r,n){return t.forEach((function(t){s(i(t.start,t.end,t),!0)})),r.forEach((function(t){s(i(t.start,t.end,t),!1)})),c(e,n)}}}},25853:(t,e)=>{"use strict";e.xmlns="http://www.w3.org/2000/xmlns/",e.svg="http://www.w3.org/2000/svg",e.xlink="http://www.w3.org/1999/xlink",e.svgAttrs={xmlns:e.svg,"xmlns:xlink":e.xlink}},25875:t=>{"use strict";t.exports=function(t,n){n||(n={});var i,o,a,s,l,c,d,u,h,f,p,m=null==n.cutoff?.25:n.cutoff,g=null==n.radius?8:n.radius,b=n.channel||0;if(ArrayBuffer.isView(t)||Array.isArray(t)){if(!n.width||!n.height)throw Error("For raw data width and height should be provided by options");i=n.width,o=n.height,s=t,c=n.stride?n.stride:Math.floor(t.length/i/o)}else window.HTMLCanvasElement&&t instanceof window.HTMLCanvasElement?(d=(u=t).getContext("2d"),i=u.width,o=u.height,s=(h=d.getImageData(0,0,i,o)).data,c=4):window.CanvasRenderingContext2D&&t instanceof window.CanvasRenderingContext2D?(d=t,i=(u=t.canvas).width,o=u.height,s=(h=d.getImageData(0,0,i,o)).data,c=4):window.ImageData&&t instanceof window.ImageData&&(h=t,i=t.width,o=t.height,s=h.data,c=4);if(a=Math.max(i,o),window.Uint8ClampedArray&&s instanceof window.Uint8ClampedArray||window.Uint8Array&&s instanceof window.Uint8Array)for(l=s,s=Array(i*o),f=0,p=Math.floor(l.length/c);f<p;f++)s[f]=l[f*c+b]/255;else if(1!==c)throw Error("Raw data can have only 1 value per pixel");var v=Array(i*o),y=Array(i*o),x=Array(a),w=Array(a),_=Array(a+1),k=Array(a);for(f=0,p=i*o;f<p;f++){var A=s[f];v[f]=1===A?0:0===A?e:Math.pow(Math.max(0,.5-A),2),y[f]=1===A?e:0===A?0:Math.pow(Math.max(0,A-.5),2)}r(v,i,o,x,w,k,_),r(y,i,o,x,w,k,_);var T=window.Float32Array?new Float32Array(i*o):new Array(i*o);for(f=0,p=i*o;f<p;f++)T[f]=Math.min(Math.max(1-((v[f]-y[f])/g+m),0),1);return T};var e=1e20;function r(t,e,r,i,o,a,s){for(var l=0;l<e;l++){for(var c=0;c<r;c++)i[c]=t[c*e+l];for(n(i,o,a,s,r),c=0;c<r;c++)t[c*e+l]=o[c]}for(c=0;c<r;c++){for(l=0;l<e;l++)i[l]=t[c*e+l];for(n(i,o,a,s,e),l=0;l<e;l++)t[c*e+l]=Math.sqrt(o[l])}}function n(t,r,n,i,o){n[0]=0,i[0]=-e,i[1]=+e;for(var a=1,s=0;a<o;a++){for(var l=(t[a]+a*a-(t[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);l<=i[s];)s--,l=(t[a]+a*a-(t[n[s]]+n[s]*n[s]))/(2*a-2*n[s]);n[++s]=a,i[s]=l,i[s+1]=+e}for(a=0,s=0;a<o;a++){for(;i[s+1]<a;)s++;r[a]=(a-n[s])*(a-n[s])+t[n[s]]}}},26079:t=>{t.exports=function(t,e,r,n){var i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A,T,M,S,E=n[0],C=n[1],z=n[2],L=Math.sqrt(E*E+C*C+z*z);return Math.abs(L)<1e-6?null:(E*=L=1/L,C*=L,z*=L,i=Math.sin(r),a=1-(o=Math.cos(r)),s=e[0],l=e[1],c=e[2],d=e[3],u=e[4],h=e[5],f=e[6],p=e[7],m=e[8],g=e[9],b=e[10],v=e[11],y=E*E*a+o,x=C*E*a+z*i,w=z*E*a-C*i,_=E*C*a-z*i,k=C*C*a+o,A=z*C*a+E*i,T=E*z*a+C*i,M=C*z*a-E*i,S=z*z*a+o,t[0]=s*y+u*x+m*w,t[1]=l*y+h*x+g*w,t[2]=c*y+f*x+b*w,t[3]=d*y+p*x+v*w,t[4]=s*_+u*k+m*A,t[5]=l*_+h*k+g*A,t[6]=c*_+f*k+b*A,t[7]=d*_+p*k+v*A,t[8]=s*T+u*M+m*S,t[9]=l*T+h*M+g*S,t[10]=c*T+f*M+b*S,t[11]=d*T+p*M+v*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}},26117:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill-rule=%27evenodd%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},26194:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(35677),a=r(35486),s=r(77061);function l(t,e,r){function o(r,i){return n.coerce(t,e,s,r,i)}var l=o("visible"),c=o("clicktoshow");if(l||c){a(t,e,r,o);for(var d=e.showarrow,u=["x","y"],h=[-10,-30],f={_fullLayout:r},p=0;p<2;p++){var m=u[p],g=i.coerceRef(t,e,f,m,"","paper");if("paper"!==g&&i.getFromId(f,g)._annIndices.push(e._index),i.coercePosition(e,f,o,g,m,.5),d){var b="a"+m,v=i.coerceRef(t,e,f,b,"pixel",["pixel","paper"]);"pixel"!==v&&v!==g&&(v=e[b]="pixel");var y="pixel"===v?h[p]:.4;i.coercePosition(e,f,o,v,b,y)}o(m+"anchor"),o(m+"shift")}if(n.noneOrAll(t,e,["x","y"]),d&&n.noneOrAll(t,e,["ax","ay"]),c){var x=o("xclick"),w=o("yclick");e._xclick=void 0===x?e.x:i.cleanPosition(x,f,e.xref),e._yclick=void 0===w?e.y:i.cleanPosition(w,f,e.yref)}}}t.exports=function(t,e){o(t,e,{name:"annotations",handleItemDefaults:l})}},26271:(t,e,r)=>{"use strict";var n=r(12822),i=r(33369),o=r(53572);t.exports=function(t,e){i(t,e,(function(r,i){return n.coerce(t,e,o,r,i)}))}},26900:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},26972:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(12822),a=o.strTranslate,s=r(40666),l=r(17499),c=r(42226).extractOpts,d=r(677),u=r(62970),h=r(17269).castOption,f=r(4496);function p(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}function m(t){var e=t[0].trace,r=e.contours,n=d.hasLines(e),i=d.hasMarkers(e),o=e.visible&&e.fill&&"none"!==e.fill,a=!1,s=!1;if(r){var l=r.coloring;"lines"===l?a=!0:n="none"===l||"heatmap"===l||r.showlines,"constraint"===r.type?o="="!==r._operation:"fill"!==l&&"heatmap"!==l||(s=!0)}return{showMarker:i,showLine:n,showFill:o,showGradientLine:a,showGradientFill:s,anyLine:n||a,anyFill:o||s}}function g(t,e,r){return t&&o.isArrayOrTypedArray(t)?e:t>r?r:t}t.exports=function(t,e,r){var b=e._fullLayout;r||(r=b.legend);var v="constant"===r.itemsizing,y=r.itemwidth,x=(y+2*f.itemGap)/2,w=a(x,0),_=function(t,e,r,n){var i;if(t+1)i=t;else{if(!(e&&e.width>0))return 0;i=e.width}return v?n:Math.min(i,r)};function k(t,o,a){var d=t[0].trace,u=d.marker||{},h=u.line||{},f=u.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",p=a?d.visible&&d.type===a:i.traceIs(d,"bar"),m=n.select(o).select("g.legendpoints").selectAll("path.legend"+a).data(p?[t]:[]);m.enter().append("path").classed("legend"+a,!0).attr("d",f).attr("transform",w),m.exit().remove(),m.each((function(t){var i=n.select(this),o=t[0],a=_(o.mlw,u.line,5,2);i.style("stroke-width",a+"px");var f=o.mcc;if(!r._inHover&&"mc"in o){var p=c(u),m=p.mid;void 0===m&&(m=(p.max+p.min)/2),f=s.tryColorscale(u,"")(m)}var b=f||o.mc||u.color,v=u.pattern,y=s.getPatternAttr,x=v&&(y(v.shape,0,"")||y(v.path,0,""));if(x){var w=y(v.bgcolor,0,null),k=y(v.fgcolor,0,null),A=v.fgopacity,T=g(v.size,8,10),M=g(v.solidity,.5,1),S="legend-"+d.uid;i.call(s.pattern,"legend",e,S,x,T,M,f,v.fillmode,w,k,A)}else i.call(l.fill,b);a&&l.stroke(i,o.mlc||h.color)}))}function A(t,r,a){var s=t[0],l=s.trace,c=a?l.visible&&l.type===a:i.traceIs(l,a),d=n.select(r).select("g.legendpoints").selectAll("path.legend"+a).data(c?[t]:[]);if(d.enter().append("path").classed("legend"+a,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),d.exit().remove(),d.size()){var f=l.marker||{},p=_(h(f.line.width,s.pts),f.line,5,2),m="pieLike",g=o.minExtend(l,{marker:{line:{width:p}}},m),b=o.minExtend(s,{trace:g},m);u(d,b,g,e)}}t.each((function(t){var e=n.select(this),i=o.ensureSingle(e,"g","layers");i.style("opacity",t[0].trace.opacity);var s=r.indentation,l=r.valign,c=t[0].lineHeight,d=t[0].height;if("middle"===l&&0===s||!c||!d)i.attr("transform",null);else{var u={top:1,bottom:-1}[l]*(.5*(c-d+3))||0,h=r.indentation;i.attr("transform",a(h,u))}i.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var f=i.selectAll("g.legendsymbols").data([t]);f.enter().append("g").classed("legendsymbols",!0),f.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)})).each((function(t){var r,i=t[0].trace,a=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":a=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":a=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":case"densitymap":a=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":a=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":a=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":a=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":a=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var d=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(a);d.enter().append("path").classed("legend3dandfriends",!0).attr("transform",w).style("stroke-miterlimit",1),d.exit().remove(),d.each((function(t,a){var d,u=n.select(this),h=c(i),f=h.colorscale,m=h.reversescale;if(f){if(!r){var g=f.length;d=0===a?f[m?g-1:0][1]:1===a?f[m?0:g-1][1]:f[Math.floor((g-1)/2)][1]}}else{var b=i.vertexcolor||i.facecolor||i.color;d=o.isArrayOrTypedArray(b)?b[a]||b[0]:b}u.attr("d",t[0]),d?u.call(l.fill,d):u.call((function(t){if(t.size()){var n="legendfill-"+i.uid;s.gradient(t,e,n,p(m,"radial"===r),f,"fill")}}))}))})).each((function(t){var e=t[0].trace,r="waterfall"===e.type;if(t[0]._distinct&&r){var i=t[0].trace[t[0].dir].marker;return t[0].mc=i.color,t[0].mlw=i.line.width,t[0].mlc=i.line.color,k(t,this,"waterfall")}var o=[];e.visible&&r&&(o=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(o);a.enter().append("path").classed("legendwaterfall",!0).attr("transform",w).style("stroke-miterlimit",1),a.exit().remove(),a.each((function(t){var r=n.select(this),i=e[t[0]].marker,o=_(void 0,i.line,5,2);r.attr("d",t[1]).style("stroke-width",o+"px").call(l.fill,i.color),o&&r.call(l.stroke,i.line.color)}))})).each((function(t){k(t,this,"funnel")})).each((function(t){k(t,this)})).each((function(t){var r=t[0].trace,a=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&i.traceIs(r,"box-violin")?[t]:[]);a.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),a.exit().remove(),a.each((function(){var t=n.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==l.opacity(r.fillcolor)||0!==l.opacity((r.line||{}).color)){var i=_(void 0,r.line,5,2);t.style("stroke-width",i+"px").call(l.fill,r.fillcolor),i&&l.stroke(t,r.line.color)}else{var c=o.minExtend(r,{marker:{size:v?12:o.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});a.call(s.pointStyle,c,e)}}))})).each((function(t){A(t,this,"funnelarea")})).each((function(t){A(t,this,"pie")})).each((function(t){var r,i,a=m(t),l=a.showFill,u=a.showLine,h=a.showGradientLine,f=a.showGradientFill,g=a.anyFill,b=a.anyLine,v=t[0],x=v.trace,w=c(x),k=w.colorscale,A=w.reversescale,T=d.hasMarkers(x)||!g?"M5,0":b?"M5,-2":"M5,-3",M=n.select(this),S=M.select(".legendfill").selectAll("path").data(l||f?[t]:[]);if(S.enter().append("path").classed("js-fill",!0),S.exit().remove(),S.attr("d",T+"h"+y+"v6h-"+y+"z").call((function(t){if(t.size())if(l)s.fillGroupStyle(t,e,!0);else{var r="legendfill-"+x.uid;s.gradient(t,e,r,p(A),k,"fill")}})),u||h){var E=_(void 0,x.line,10,5);i=o.minExtend(x,{line:{width:E}}),r=[o.minExtend(v,{trace:i})]}var C=M.select(".legendlines").selectAll("path").data(u||h?[r]:[]);C.enter().append("path").classed("js-line",!0),C.exit().remove(),C.attr("d",T+(h?"l"+y+",0.0001":"h"+y)).call(u?s.lineGroupStyle:function(t){if(t.size()){var r="legendline-"+x.uid;s.lineGroupStyle(t),s.gradient(t,e,r,p(A),k,"stroke")}})})).each((function(t){var r,i,a=m(t),l=a.anyFill,c=a.anyLine,u=a.showLine,h=a.showMarker,f=t[0],p=f.trace,g=!h&&!c&&!l&&d.hasText(p);function b(t,e,r,n){var i=o.nestedProperty(p,t).get(),a=o.isArrayOrTypedArray(i)&&e?e(i):i;if(v&&a&&void 0!==n&&(a=n),r){if(a<r[0])return r[0];if(a>r[1])return r[1]}return a}function y(t){return f._distinct&&f.index&&t[f.index]?t[f.index]:t[0]}if(h||g||u){var x={},_={};if(h){x.mc=b("marker.color",y),x.mx=b("marker.symbol",y),x.mo=b("marker.opacity",o.mean,[.2,1]),x.mlc=b("marker.line.color",y),x.mlw=b("marker.line.width",o.mean,[0,5],2),_.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var k=b("marker.size",o.mean,[2,16],12);x.ms=k,_.marker.size=k}u&&(_.line={width:b("line.width",y,[0,10],5)}),g&&(x.tx="Aa",x.tp=b("textposition",y),x.ts=10,x.tc=b("textfont.color",y),x.tf=b("textfont.family",y),x.tw=b("textfont.weight",y),x.ty=b("textfont.style",y),x.tv=b("textfont.variant",y),x.tC=b("textfont.textcase",y),x.tE=b("textfont.lineposition",y),x.tS=b("textfont.shadow",y)),r=[o.minExtend(f,x)],(i=o.minExtend(p,_)).selectedpoints=null,i.texttemplate=null}var A=n.select(this).select("g.legendpoints"),T=A.selectAll("path.scatterpts").data(h?r:[]);T.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",w),T.exit().remove(),T.call(s.pointStyle,i,e),h&&(r[0].mrc=3);var M=A.selectAll("g.pointtext").data(g?r:[]);M.enter().append("g").classed("pointtext",!0).append("text").attr("transform",w),M.exit().remove(),M.selectAll("text").call(s.textPointStyle,i,e)})).each((function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(e.visible&&"candlestick"===e.type?[t,t]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",(function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",w).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(t,r){var i=n.select(this),o=e[r?"increasing":"decreasing"],a=_(void 0,o.line,5,2);i.style("stroke-width",a+"px").call(l.fill,o.fillcolor),a&&l.stroke(i,o.line.color)}))})).each((function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(e.visible&&"ohlc"===e.type?[t,t]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",(function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",w).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(t,r){var i=n.select(this),o=e[r?"increasing":"decreasing"],a=_(void 0,o.line,5,2);i.style("fill","none").call(s.dashLine,o.line.dash,a),a&&l.stroke(i,o.line.color)}))}))}},27089:t=>{t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],d=e[5],u=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*n,t[1]=a*i+d*n,t[2]=s*i+u*n,t[3]=l*i+h*n,t[4]=c*i-o*n,t[5]=d*i-a*n,t[6]=u*i-s*n,t[7]=h*i-l*n,t}},27375:(t,e,r)=>{"use strict";var n=r(93767),i={function:!0,object:!0};t.exports=function(t){return n(t)&&i[typeof t]||!1}},27512:t=>{"use strict";function e(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}t.exports=function(t){var r=t.type,n=t.symmetric;if("data"===r){var i=t.array||[];if(n)return function(t,e){var r=+i[e];return[r,r]};var o=t.arrayminus||[];return function(t,e){var r=+i[e],n=+o[e];return isNaN(r)&&isNaN(n)?[NaN,NaN]:[n||0,r||0]}}var a=e(r,t.value),s=e(r,t.valueminus);return n||void 0===t.valueminus?function(t){var e=a(t);return[e,e]}:function(t){return[s(t),a(t)]}}},27517:(t,e,r)=>{"use strict";var n=r(76292),i="data-savedcursor";t.exports=function(t,e){var r=t.attr(i);if(e){if(!r){for(var o=(t.attr("class")||"").split(" "),a=0;a<o.length;a++){var s=o[a];0===s.indexOf("cursor-")&&t.attr(i,s.substr(7)).classed(s,!1)}t.attr(i)||t.attr(i,"!!")}n(t,e)}else r&&(t.attr(i,null),"!!"===r?n(t):n(t,r))}},27608:t=>{t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],d=e[8],u=e[9],h=e[10],f=e[11],p=e[12],m=e[13],g=e[14],b=e[15],v=r*s-n*a,y=r*l-i*a,x=r*c-o*a,w=n*l-i*s,_=n*c-o*s,k=i*c-o*l,A=d*m-u*p,T=d*g-h*p,M=d*b-f*p,S=u*g-h*m,E=u*b-f*m,C=h*b-f*g,z=v*C-y*E+x*S+w*M-_*T+k*A;return z?(z=1/z,t[0]=(s*C-l*E+c*S)*z,t[1]=(i*E-n*C-o*S)*z,t[2]=(m*k-g*_+b*w)*z,t[3]=(h*_-u*k-f*w)*z,t[4]=(l*M-a*C-c*T)*z,t[5]=(r*C-i*M+o*T)*z,t[6]=(g*x-p*k-b*y)*z,t[7]=(d*k-h*x+f*y)*z,t[8]=(a*E-s*M+c*A)*z,t[9]=(n*M-r*E-o*A)*z,t[10]=(p*_-m*x+b*v)*z,t[11]=(u*x-d*_-f*v)*z,t[12]=(s*T-a*S-l*A)*z,t[13]=(r*S-n*T+i*A)*z,t[14]=(m*y-p*w-g*v)*z,t[15]=(d*w-u*y+h*v)*z,t):null}},27756:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(12822),a=r(50917),s=r(88566).version,l=new DOMParser;function c(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var d=c.prototype;d.update=function(t,e){this.graphInfo=t;var r=this.graphInfo._context,n=this.graphInfo._fullLayout,i="modebar-"+n._uid;this.element.setAttribute("id",i),this.element.setAttribute("role","toolbar"),this._uid=i,this.element.className="modebar modebar--custom","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===n.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var a=n.modebar,s="#"+i+" .modebar-group";document.querySelectorAll(s).forEach((function(t){t.style.backgroundColor=a.bgcolor}));var l=!this.hasButtons(e),c=this.hasLogo!==r.displaylogo,d=this.locale!==r.locale;if(this.locale=r.locale,(l||c||d)&&(this.removeAllButtons(),this.updateButtons(e),r.watermark||r.displaylogo)){var u=this.getLogo();r.watermark&&(u.className=u.className+" watermark"),"v"===n.modebar.orientation?this.element.insertBefore(u,this.element.childNodes[0]):this.element.appendChild(u),this.hasLogo=!0}this.updateActiveButton(),o.setStyleOnHover("#"+i+" .modebar-btn",".active",".icon path","fill: "+a.activecolor,"fill: "+a.color,this.element)},d.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(t){var r=e.createGroup();t.forEach((function(t){var n=t.name;if(!n)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(n))throw new Error("button name '"+n+"' is taken");e.buttonsNames.push(n);var i=e.createButton(t);e.buttonElements.push(i),r.appendChild(i)})),e.element.appendChild(r)}))},d.createGroup=function(){var t=document.createElement("div");t.className="modebar-group";var e=this.graphInfo._fullLayout.modebar;return t.style.backgroundColor=e.bgcolor,t},d.createButton=function(t){var e=this,r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("rel","tooltip"),r.className="modebar-btn";var i=t.title;void 0===i?i=t.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&(r.setAttribute("data-title",i),r.setAttribute("aria-label",i)),void 0!==t.attr&&r.setAttribute("data-attr",t.attr);var o=t.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),r.setAttribute("data-val",o)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",(function(r){t.click(e.graphInfo,r),e.updateActiveButton(r.currentTarget)})),r.setAttribute("data-toggle",t.toggle||!1),t.toggle&&n.select(r).classed("active",!0);var s=t.icon;return"function"==typeof s?r.appendChild(s()):r.appendChild(this.createIcon(s||a.question)),r.setAttribute("data-gravity",t.gravity||"n"),r},d.createIcon=function(t){var e,r=i(t.height)?Number(t.height):t.ascent-t.descent,n="http://www.w3.org/2000/svg";if(t.path){(e=document.createElementNS(n,"svg")).setAttribute("viewBox",[0,0,t.width,r].join(" ")),e.setAttribute("class","icon");var o=document.createElementNS(n,"path");o.setAttribute("d",t.path),t.transform?o.setAttribute("transform",t.transform):void 0!==t.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(o)}return t.svg&&(e=l.parseFromString(t.svg,"application/xml").childNodes[0]),e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},d.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,r=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach((function(t){var i=t.getAttribute("data-val")||!0,a=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=n.select(t),c=function(t,r){var n=e.modebar,i=t.querySelector(".icon path");i&&(r||t.matches(":hover")?i.style.fill=n.activecolor:i.style.fill=n.color)};if(s){if(a===r){var d=!l.classed("active");l.classed("active",d),c(t,d)}}else{var u=null===a?a:o.nestedProperty(e,a).get();l.classed("active",u===i),c(t,u===i)}}))},d.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;n++)if(t[r][n].name!==e[r][n].name)return!1}return!0},d.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly.js")+" (v"+s+")"),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(a.newplotlylogo)),t.appendChild(e),t},d.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},d.destroy=function(){o.removeElement(this.container.querySelector(".modebar"))},t.exports=function(t,e){var r=t._fullLayout,i=new c({graphInfo:t,container:r._modebardiv.node(),buttons:e});return r._privateplot&&n.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}},27941:(t,e,r)=>{var n,i;(function(){var o={version:"3.8.2"},a=[].slice,s=function(t){return a.call(t)},l=self.document;function c(t){return t&&(t.ownerDocument||t.document||t).documentElement}function d(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,r=new Array(e);e--;)r[e]=t[e];return r}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var u=this.Element.prototype,h=u.setAttribute,f=u.setAttributeNS,p=this.CSSStyleDeclaration.prototype,m=p.setProperty;u.setAttribute=function(t,e){h.call(this,t,e+"")},u.setAttributeNS=function(t,e,r){f.call(this,t,e,r+"")},p.setProperty=function(t,e,r){m.call(this,t,e+"",r)}}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function b(t){return null===t?NaN:+t}function v(t){return!isNaN(t)}function y(t){return{left:function(e,r,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)<0?n=o+1:i=o}return n},right:function(e,r,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var o=n+i>>>1;t(e[o],r)>0?i=o:n=o+1}return n}}}o.ascending=g,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var r,n,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(n=t[i])&&n>=n){r=n;break}for(;++i<o;)null!=(n=t[i])&&r>n&&(r=n)}else{for(;++i<o;)if(null!=(n=e.call(t,t[i],i))&&n>=n){r=n;break}for(;++i<o;)null!=(n=e.call(t,t[i],i))&&r>n&&(r=n)}return r},o.max=function(t,e){var r,n,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(n=t[i])&&n>=n){r=n;break}for(;++i<o;)null!=(n=t[i])&&n>r&&(r=n)}else{for(;++i<o;)if(null!=(n=e.call(t,t[i],i))&&n>=n){r=n;break}for(;++i<o;)null!=(n=e.call(t,t[i],i))&&n>r&&(r=n)}return r},o.extent=function(t,e){var r,n,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(n=t[o])&&n>=n){r=i=n;break}for(;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else{for(;++o<a;)if(null!=(n=e.call(t,t[o],o))&&n>=n){r=i=n;break}for(;++o<a;)null!=(n=e.call(t,t[o],o))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},o.sum=function(t,e){var r,n=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)v(r=+t[o])&&(n+=r);else for(;++o<i;)v(r=+e.call(t,t[o],o))&&(n+=r);return n},o.mean=function(t,e){var r,n=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)v(r=b(t[o]))?n+=r:--a;else for(;++o<i;)v(r=b(e.call(t,t[o],o)))?n+=r:--a;if(a)return n/a},o.quantile=function(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),i=+t[n-1],o=r-n;return o?i+o*(t[n]-i):i},o.median=function(t,e){var r,n=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)v(r=b(t[a]))&&n.push(r);else for(;++a<i;)v(r=b(e.call(t,t[a],a)))&&n.push(r);if(n.length)return o.quantile(n.sort(g),.5)},o.variance=function(t,e){var r,n,i=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)v(r=b(t[s]))&&(a+=(n=r-o)*(r-(o+=n/++l)));else for(;++s<i;)v(r=b(e.call(t,t[s],s)))&&(a+=(n=r-o)*(r-(o+=n/++l)));if(l>1)return a/(l-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var x=y(g);function w(t){return t.length}o.bisectLeft=x.left,o.bisect=o.bisectRight=x.right,o.bisector=function(t){return y(1===t.length?function(e,r){return g(t(e),r)}:t)},o.shuffle=function(t,e,r){(o=arguments.length)<3&&(r=t.length,o<2&&(e=0));for(var n,i,o=r-e;o;)i=Math.random()*o--|0,n=t[o+e],t[o+e]=t[i+e],t[i+e]=n;return t},o.permute=function(t,e){for(var r=e.length,n=new Array(r);r--;)n[r]=t[e[r]];return n},o.pairs=function(t){for(var e=0,r=t.length-1,n=t[0],i=new Array(r<0?0:r);e<r;)i[e]=[n,n=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,r=o.min(t,w),n=new Array(r);++e<r;)for(var i,a=-1,s=n[e]=new Array(i);++a<i;)s[a]=t[a][e];return n},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var r in t)e.push(r);return e},o.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},o.entries=function(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e},o.merge=function(t){for(var e,r,n,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(r=new Array(a);--i>=0;)for(e=(n=t[i]).length;--e>=0;)r[--a]=n[e];return r};var _=Math.abs;function k(t,e){for(var r in e)Object.defineProperty(t.prototype,r,{value:e[r],enumerable:!1})}function A(){this._=Object.create(null)}function T(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function M(t){return"\0"===(t+="")[0]?t.slice(1):t}function S(t){return T(t)in this._}function E(t){return(t=T(t))in this._&&delete this._[t]}function C(){var t=[];for(var e in this._)t.push(M(e));return t}function z(){var t=0;for(var e in this._)++t;return t}function L(){for(var t in this._)return!1;return!0}function O(){this._=Object.create(null)}function D(t){return t}function I(t,e,r){return function(){var n=r.apply(e,arguments);return n===e?t:n}}function F(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,n=R.length;r<n;++r){var i=R[r]+e;if(i in t)return i}}o.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r==1/0)throw new Error("infinite range");var n,i=[],o=function(t){for(var e=1;t*e%1;)e*=10;return e}(_(r)),a=-1;if(t*=o,e*=o,(r*=o)<0)for(;(n=t+r*++a)>e;)i.push(n/o);else for(;(n=t+r*++a)<e;)i.push(n/o);return i},o.map=function(t,e){var r=new A;if(t instanceof A)t.forEach((function(t,e){r.set(t,e)}));else if(Array.isArray(t)){var n,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)r.set(i,t[i]);else for(;++i<o;)r.set(e.call(t,n=t[i],i),n)}else for(var a in t)r.set(a,t[a]);return r},k(A,{has:S,get:function(t){return this._[T(t)]},set:function(t,e){return this._[T(t)]=e},remove:E,keys:C,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:M(e),value:this._[e]});return t},size:z,empty:L,forEach:function(t){for(var e in this._)t.call(this,M(e),this._[e])}}),o.nest=function(){var t,e,r={},n=[],i=[];function a(i,o,s){if(s>=n.length)return e?e.call(r,o):t?o.sort(t):o;for(var l,c,d,u,h=-1,f=o.length,p=n[s++],m=new A;++h<f;)(u=m.get(l=p(c=o[h])))?u.push(c):m.set(l,[c]);return i?(c=i(),d=function(t,e){c.set(t,a(i,e,s))}):(c={},d=function(t,e){c[t]=a(i,e,s)}),m.forEach(d),c}function s(t,e){if(e>=n.length)return t;var r=[],o=i[e++];return t.forEach((function(t,n){r.push({key:t,values:s(n,e)})})),o?r.sort((function(t,e){return o(t.key,e.key)})):r}return r.map=function(t,e){return a(e,t,0)},r.entries=function(t){return s(a(o.map,t,0),0)},r.key=function(t){return n.push(t),r},r.sortKeys=function(t){return i[n.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return e=t,r},r},o.set=function(t){var e=new O;if(t)for(var r=0,n=t.length;r<n;++r)e.add(t[r]);return e},k(O,{has:S,add:function(t){return this._[T(t+="")]=!0,t},remove:E,values:C,size:z,empty:L,forEach:function(t){for(var e in this._)t.call(this,M(e))}}),o.behavior={},o.rebind=function(t,e){for(var r,n=1,i=arguments.length;++n<i;)t[r=arguments[n]]=I(t,e,e[r]);return t};var R=["webkit","ms","moz","Moz","o","O"];function P(){}function j(){}function N(t){var e=[],r=new A;function n(){for(var r,n=e,i=-1,o=n.length;++i<o;)(r=n[i].on)&&r.apply(this,arguments);return t}return n.on=function(n,i){var o,a=r.get(n);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function B(){o.event.preventDefault()}function U(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function V(t){for(var e=new j,r=0,n=arguments.length;++r<n;)e[arguments[r]]=N(e);return e.of=function(r,n){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(r,n)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new j,e=-1,r=arguments.length;++e<r;)t[arguments[e]]=N(t);return t},j.prototype.on=function(t,e){var r=t.indexOf("."),n="";if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},o.event=null,o.requote=function(t){return t.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)t[r]=e[r]};function W(t){return H(t,Z),t}var q=function(t,e){return e.querySelector(t)},$=function(t,e){return e.querySelectorAll(t)},Y=function(t,e){var r=t.matches||t[F(t,"matchesSelector")];return Y=function(t,e){return r.call(t,e)},Y(t,e)};"function"==typeof Sizzle&&(q=function(t,e){return Sizzle(t,e)[0]||null},$=Sizzle,Y=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var Z=o.selection.prototype=[];function X(t){return"function"==typeof t?t:function(){return q(t,this)}}function J(t){return"function"==typeof t?t:function(){return $(t,this)}}Z.select=function(t){var e,r,n,i,o=[];t=X(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var l=-1,c=n.length;++l<c;)(i=n[l])?(e.push(r=t.call(i,i.__data__,l,a)),r&&"__data__"in i&&(r.__data__=i.__data__)):e.push(null)}return W(o)},Z.selectAll=function(t){var e,r,n=[];t=J(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],l=-1,c=a.length;++l<c;)(r=a[l])&&(n.push(e=s(t.call(r,r.__data__,l,i))),e.parentNode=r);return W(n)};var Q="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}:function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function et(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function nt(t){return(t+"").trim().split(/^|\s+/)}function it(t,e){var r=(t=nt(t).map(ot)).length;return"function"==typeof e?function(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}:function(){for(var n=-1;++n<r;)t[n](this,e)}}function ot(t){var e=rt(t);return function(r,n){if(i=r.classList)return n?i.add(t):i.remove(t);var i=r.getAttribute("class")||"";n?(e.lastIndex=0,e.test(i)||r.setAttribute("class",et(i+" "+t))):r.setAttribute("class",et(i.replace(e," ")))}}function at(t,e,r){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}:function(){this.style.setProperty(t,e,r)}}function st(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}:function(){this[t]=e}}function lt(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(r,t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t){return{__data__:t}}function ut(t){return function(){return Y(this,t)}}function ht(t){return arguments.length||(t=g),function(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}}function ft(t,e){for(var r=0,n=t.length;r<n;r++)for(var i,o=t[r],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,r);return t}function pt(t){return H(t,mt),t}o.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),r=t;return e>=0&&"xmlns"!==(r=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(r)?{space:K[r],local:t}:t}},Z.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=o.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},Z.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node(),n=(t=nt(t)).length,i=-1;if(e=r.classList){for(;++i<n;)if(!e.contains(t[i]))return!1}else for(e=r.getAttribute("class");++i<n;)if(!rt(t[i]).test(e))return!1;return!0}for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},Z.style=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=""),t)this.each(at(r,t[r],e));return this}if(n<2){var i=this.node();return d(i).getComputedStyle(i,null).getPropertyValue(t)}r=""}return this.each(at(t,e,r))},Z.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(st(e,t[e]));return this}return this.each(st(t,e))},Z.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Z.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Z.append=function(t){return t=lt(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Z.insert=function(t,e){return t=lt(t),e=X(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},Z.remove=function(){return this.each(ct)},Z.data=function(t,e){var r,n,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++i<o;)(n=r[i])&&(t[i]=n.__data__);return t}function a(t,r){var n,i,o,a=t.length,d=r.length,u=Math.min(a,d),h=new Array(d),f=new Array(d),p=new Array(a);if(e){var m,g=new A,b=new Array(a);for(n=-1;++n<a;)(i=t[n])&&(g.has(m=e.call(i,i.__data__,n))?p[n]=i:g.set(m,i),b[n]=m);for(n=-1;++n<d;)(i=g.get(m=e.call(r,o=r[n],n)))?!0!==i&&(h[n]=i,i.__data__=o):f[n]=dt(o),g.set(m,!0);for(n=-1;++n<a;)n in b&&!0!==g.get(b[n])&&(p[n]=t[n])}else{for(n=-1;++n<u;)i=t[n],o=r[n],i?(i.__data__=o,h[n]=i):f[n]=dt(o);for(;n<d;++n)f[n]=dt(r[n]);for(;n<a;++n)p[n]=t[n]}f.update=h,f.parentNode=h.parentNode=p.parentNode=t.parentNode,s.push(f),l.push(h),c.push(p)}var s=pt([]),l=W([]),c=W([]);if("function"==typeof t)for(;++i<o;)a(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<o;)a(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},Z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Z.filter=function(t){var e,r,n,i=[];"function"!=typeof t&&(t=ut(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var s=0,l=r.length;s<l;s++)(n=r[s])&&t.call(n,n.__data__,s,o)&&e.push(n)}return W(i)},Z.order=function(){for(var t=-1,e=this.length;++t<e;)for(var r,n=this[t],i=n.length-1,o=n[i];--i>=0;)(r=n[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},Z.sort=function(t){t=ht.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(t);return this.order()},Z.each=function(t){return ft(this,(function(e,r,n){t.call(e,e.__data__,r,n)}))},Z.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var t=0,e=this.length;t<e;t++)for(var r=this[t],n=0,i=r.length;n<i;n++){var o=r[n];if(o)return o}return null},Z.size=function(){var t=0;return ft(this,(function(){++t})),t};var mt=[];function gt(t,e,r){var n="__on"+t,i=t.indexOf("."),a=vt;i>0&&(t=t.slice(0,i));var l=bt.get(t);function c(){var e=this[n];e&&(this.removeEventListener(t,e,e.$),delete this[n])}return l&&(t=l,a=yt),i?e?function(){var i=a(e,s(arguments));c.call(this),this.addEventListener(t,this[n]=i,i.$=r),i._=e}:c:e?P:function(){var e,r=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var n in this)if(e=n.match(r)){var i=this[n];this.removeEventListener(e[1],i,i.$),delete this[n]}}}o.selection.enter=pt,o.selection.enter.prototype=mt,mt.append=Z.append,mt.empty=Z.empty,mt.node=Z.node,mt.call=Z.call,mt.size=Z.size,mt.select=function(t){for(var e,r,n,i,o,a=[],s=-1,l=this.length;++s<l;){n=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,d=i.length;++c<d;)(o=i[c])?(e.push(n[c]=r=t.call(i.parentNode,o.__data__,c,s)),r.__data__=o.__data__):e.push(null)}return W(a)},mt.insert=function(t,e){var r,n,i;return arguments.length<2&&(r=this,e=function(t,e,o){var a,s=r[o].update,l=s.length;for(o!=i&&(i=o,n=0),e>=n&&(n=e+1);!(a=s[n])&&++n<l;);return a}),Z.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[q(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=c(t),W([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=s($(t,l))).parentNode=l.documentElement:(e=s(t)).parentNode=null,W([e])},Z.on=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=!1),t)this.each(gt(r,t[r],e));return this}if(n<2)return(n=this.node()["__on"+t])&&n._;r=!1}return this.each(gt(t,e,r))};var bt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function vt(t,e){return function(r){var n=o.event;o.event=r,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=n}}}function yt(t,e){var r=vt(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}l&&bt.forEach((function(t){"on"+t in l&&bt.remove(t)}));var xt,wt=0;function _t(t){var e=".dragsuppress-"+ ++wt,r="click"+e,n=o.select(d(t)).on("touchmove"+e,B).on("dragstart"+e,B).on("selectstart"+e,B);if(null==xt&&(xt=!("onselectstart"in t)&&F(t.style,"userSelect")),xt){var i=c(t).style,a=i[xt];i[xt]="none"}return function(t){if(n.on(e,null),xt&&(i[xt]=a),t){var o=function(){n.on(r,null)};n.on(r,(function(){B(),o()}),!0),setTimeout(o,0)}}}o.mouse=function(t){return At(t,U())};var kt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function At(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();if(kt<0){var i=d(t);if(i.scrollX||i.scrollY){var a=(r=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();kt=!(a.f||a.e),r.remove()}}return kt?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Tt(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,r){if(arguments.length<3&&(r=e,e=U().changedTouches),e)for(var n,i=0,o=e.length;i<o;++i)if((n=e[i]).identifier===r)return At(t,n)},o.behavior.drag=function(){var t=V(i,"drag","dragstart","dragend"),e=null,r=a(P,o.mouse,d,"mousemove","mouseup"),n=a(Tt,o.touch,D,"touchmove","touchend");function i(){this.on("mousedown.drag",r).on("touchstart.drag",n)}function a(r,n,i,a,s){return function(){var l,c=this,d=o.event.target.correspondingElement||o.event.target,u=c.parentNode,h=t.of(c,arguments),f=0,p=r(),m=".drag"+(null==p?"":"-"+p),g=o.select(i(d)).on(a+m,(function(){var t,e,r=n(u,p);r&&(t=r[0]-v[0],e=r[1]-v[1],f|=t|e,v=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:e}))})).on(s+m,(function(){n(u,p)&&(g.on(a+m,null).on(s+m,null),b(f),h({type:"dragend"}))})),b=_t(d),v=n(u,p);l=e?[(l=e.apply(c,arguments)).x-v[0],l.y-v[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=U().touches),e?s(e).map((function(e){var r=At(t,e);return r.identifier=e.identifier,r})):[]};var Mt=1e-6,St=Mt*Mt,Et=Math.PI,Ct=2*Et,zt=Ct-Mt,Lt=Et/2,Ot=Et/180,Dt=180/Et;function It(t){return t>1?Lt:t<-1?-Lt:Math.asin(t)}function Ft(t){return((t=Math.exp(t))+1/t)/2}var Rt=Math.SQRT2;o.interpolateZoom=function(t,e){var r,n,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],d=s-i,u=l-o,h=d*d+u*u;if(h<St)n=Math.log(c/a)/Rt,r=function(t){return[i+t*d,o+t*u,a*Math.exp(Rt*t*n)]};else{var f=Math.sqrt(h),p=(c*c-a*a+4*h)/(2*a*2*f),m=(c*c-a*a-4*h)/(2*c*2*f),g=Math.log(Math.sqrt(p*p+1)-p),b=Math.log(Math.sqrt(m*m+1)-m);n=(b-g)/Rt,r=function(t){var e,r=t*n,s=Ft(g),l=a/(2*f)*(s*(e=Rt*r+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+l*d,o+l*u,a*s/Ft(Rt*r+g)]}}return r.duration=1e3*n,r},o.behavior.zoom=function(){var t,e,r,n,i,a,s,c,u,h={x:0,y:0,k:1},f=[960,500],p=Nt,m=250,g=0,b="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",x="touchstart.zoom",w=V(_,"zoomstart","zoom","zoomend");function _(t){t.on(b,L).on(jt+".zoom",D).on("dblclick.zoom",I).on(x,O)}function k(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function A(t){h.k=Math.max(p[0],Math.min(p[1],t))}function T(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function M(t,r,n,i){t.__chart__={x:h.x,y:h.y,k:h.k},A(Math.pow(2,i)),T(e=r,n),t=o.select(t),m>0&&(t=t.transition().duration(m)),t.call(_.event)}function S(){s&&s.domain(a.range().map((function(t){return(t-h.x)/h.k})).map(a.invert)),u&&u.domain(c.range().map((function(t){return(t-h.y)/h.k})).map(c.invert))}function E(t){g++||t({type:"zoomstart"})}function C(t){S(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function z(t){--g||(t({type:"zoomend"}),e=null)}function L(){var t=this,e=w.of(t,arguments),r=0,n=o.select(d(t)).on(v,(function(){r=1,T(o.mouse(t),i),C(e)})).on(y,(function(){n.on(v,null).on(y,null),a(r),z(e)})),i=k(o.mouse(t)),a=_t(t);Yi.call(t),E(e)}function O(){var t,e=this,r=w.of(e,arguments),n={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,d=[],u=o.select(e),f=_t(e);function p(){var r=o.touches(e);return t=h.k,r.forEach((function(t){t.identifier in n&&(n[t.identifier]=k(t))})),r}function m(){var t=o.event.target;o.select(t).on(l,g).on(c,v),d.push(t);for(var r=o.event.changedTouches,s=0,u=r.length;s<u;++s)n[r[s].identifier]=null;var f=p(),m=Date.now();if(1===f.length){if(m-i<500){var b=f[0];M(e,b,n[b.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),B()}i=m}else if(f.length>1){b=f[0];var y=f[1],x=b[0]-y[0],w=b[1]-y[1];a=x*x+w*w}}function g(){var s,l,c,d,u=o.touches(e);Yi.call(e);for(var h=0,f=u.length;h<f;++h,d=null)if(c=u[h],d=n[c.identifier]){if(l)break;s=c,l=d}if(d){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,m=a&&Math.sqrt(p/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+d[0])/2,(l[1]+d[1])/2],A(m*t)}i=null,T(s,l),C(r)}function v(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete n[t[e].identifier];for(var a in n)return void p()}o.selectAll(d).on(s,null),u.on(b,L).on(x,O),f(),z(r)}m(),E(r),u.on(b,null).on(x,m)}function D(){var i=w.of(this,arguments);n?clearTimeout(n):(Yi.call(this),t=k(e=r||o.mouse(this)),E(i)),n=setTimeout((function(){n=null,z(i)}),50),B(),A(Math.pow(2,.002*Pt())*h.k),T(e,t),C(i)}function I(){var t=o.mouse(this),e=Math.log(h.k)/Math.LN2;M(this,t,k(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return jt||(jt="onwheel"in l?(Pt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Pt=function(){return o.event.wheelDelta},"mousewheel"):(Pt=function(){return-o.event.detail},"MozMousePixelScroll")),_.event=function(t){t.each((function(){var t=w.of(this,arguments),r=h;Ji?o.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},E(t)})).tween("zoom:zoom",(function(){var n=f[0],i=f[1],a=e?e[0]:n/2,s=e?e[1]:i/2,l=o.interpolateZoom([(a-h.x)/h.k,(s-h.y)/h.k,n/h.k],[(a-r.x)/r.k,(s-r.y)/r.k,n/r.k]);return function(e){var r=l(e),i=n/r[2];this.__chart__=h={x:a-r[0]*i,y:s-r[1]*i,k:i},C(t)}})).each("interrupt.zoom",(function(){z(t)})).each("end.zoom",(function(){z(t)})):(this.__chart__=h,E(t),C(t),z(t))}))},_.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},S(),_):[h.x,h.y]},_.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},A(+t),S(),_):h.k},_.scaleExtent=function(t){return arguments.length?(p=null==t?Nt:[+t[0],+t[1]],_):p},_.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],_):r},_.size=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],_):f},_.duration=function(t){return arguments.length?(m=+t,_):m},_.x=function(t){return arguments.length?(s=t,a=t.copy(),h={x:0,y:0,k:1},_):s},_.y=function(t){return arguments.length?(u=t,c=t.copy(),h={x:0,y:0,k:1},_):u},o.rebind(_,w,"on")};var Pt,jt,Nt=[0,1/0];function Bt(){}function Ut(t,e,r){return this instanceof Ut?(this.h=+t,this.s=+e,void(this.l=+r)):arguments.length<2?t instanceof Ut?new Ut(t.h,t.s,t.l):le(""+t,ce,Ut):new Ut(t,e,r)}o.color=Bt,Bt.prototype.toString=function(){return this.rgb()+""},o.hsl=Ut;var Vt=Ut.prototype=new Bt;function Gt(t,e,r){var n,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,n=2*(r=r<0?0:r>1?1:r)-(i=r<=.5?r*(1+e):r+e-r*e),new ne(o(t+120),o(t),o(t-120))}function Ht(t,e,r){return this instanceof Ht?(this.h=+t,this.c=+e,void(this.l=+r)):arguments.length<2?t instanceof Ht?new Ht(t.h,t.c,t.l):function(t,e,r){return t>0?new Ht(Math.atan2(r,e)*Dt,Math.sqrt(e*e+r*r),t):new Ht(NaN,NaN,t)}(t instanceof $t?t.l:(t=de((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Ht(t,e,r)}Vt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,this.l/t)},Vt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,t*this.l)},Vt.rgb=function(){return Gt(this.h,this.s,this.l)},o.hcl=Ht;var Wt=Ht.prototype=new Bt;function qt(t,e,r){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new $t(r,Math.cos(t*=Ot)*e,Math.sin(t)*e)}function $t(t,e,r){return this instanceof $t?(this.l=+t,this.a=+e,void(this.b=+r)):arguments.length<2?t instanceof $t?new $t(t.l,t.a,t.b):t instanceof Ht?qt(t.h,t.c,t.l):de((t=ne(t)).r,t.g,t.b):new $t(t,e,r)}Wt.brighter=function(t){return new Ht(this.h,this.c,Math.min(100,this.l+Yt*(arguments.length?t:1)))},Wt.darker=function(t){return new Ht(this.h,this.c,Math.max(0,this.l-Yt*(arguments.length?t:1)))},Wt.rgb=function(){return qt(this.h,this.c,this.l).rgb()},o.lab=$t;var Yt=18,Zt=.95047,Xt=1,Jt=1.08883,Qt=$t.prototype=new Bt;function Kt(t,e,r){var n=(t+16)/116,i=n+e/500,o=n-r/200;return new ne(re(3.2404542*(i=te(i)*Zt)-1.5371385*(n=te(n)*Xt)-.4985314*(o=te(o)*Jt)),re(-.969266*i+1.8760108*n+.041556*o),re(.0556434*i-.2040259*n+1.0572252*o))}function te(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ee(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function re(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ne(t,e,r){return this instanceof ne?(this.r=~~t,this.g=~~e,void(this.b=~~r)):arguments.length<2?t instanceof ne?new ne(t.r,t.g,t.b):le(""+t,ne,Gt):new ne(t,e,r)}function ie(t){return new ne(t>>16,t>>8&255,255&t)}function oe(t){return ie(t)+""}Qt.brighter=function(t){return new $t(Math.min(100,this.l+Yt*(arguments.length?t:1)),this.a,this.b)},Qt.darker=function(t){return new $t(Math.max(0,this.l-Yt*(arguments.length?t:1)),this.a,this.b)},Qt.rgb=function(){return Kt(this.l,this.a,this.b)},o.rgb=ne;var ae=ne.prototype=new Bt;function se(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function le(t,e,r){var n,i,o,a=0,s=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=n[2].split(","),n[1]){case"hsl":return r(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(he(i[0]),he(i[1]),he(i[2]))}return(o=fe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ce(t,e,r){var n,i,o=Math.min(t/=255,e/=255,r/=255),a=Math.max(t,e,r),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),n=t==a?(e-r)/s+(e<r?6:0):e==a?(r-t)/s+2:(t-e)/s+4,n*=60):(n=NaN,i=l>0&&l<1?0:n),new Ut(n,i,l)}function de(t,e,r){var n=ee((.4124564*(t=ue(t))+.3575761*(e=ue(e))+.1804375*(r=ue(r)))/Zt),i=ee((.2126729*t+.7151522*e+.072175*r)/Xt);return $t(116*i-16,500*(n-i),200*(i-ee((.0193339*t+.119192*e+.9503041*r)/Jt)))}function ue(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ae.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,r=this.g,n=this.b,i=30;return e||r||n?(e&&e<i&&(e=i),r&&r<i&&(r=i),n&&n<i&&(n=i),new ne(Math.min(255,e/t),Math.min(255,r/t),Math.min(255,n/t))):new ne(i,i,i)},ae.darker=function(t){return new ne((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ae.hsl=function(){return ce(this.r,this.g,this.b)},ae.toString=function(){return"#"+se(this.r)+se(this.g)+se(this.b)};var fe=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function pe(t){return"function"==typeof t?t:function(){return t}}function me(t){return function(e,r,n){return 2===arguments.length&&"function"==typeof r&&(n=r,r=null),ge(e,r,t,n)}}function ge(t,e,r,n){var i={},a=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,d=null;function u(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=r.call(i,c)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,c)}return self.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,c)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(d=t,i):d},i.response=function(t){return r=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}})),i.send=function(r,n,o){if(2===arguments.length&&"function"==typeof n&&(o=n,n=null),c.open(r,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=d&&(c.responseType=d),null!=o&&i.on("error",o).on("load",(function(t){o(null,t)})),a.beforesend.call(i,c),c.send(null==n?null:n),i},i.abort=function(){return c.abort(),i},o.rebind(i,a,"on"),null==n?i:i.get(function(t){return 1===t.length?function(e,r){t(null==e?r:null)}:t}(n))}fe.forEach((function(t,e){fe.set(t,ie(e))})),o.functor=pe,o.xhr=me(D),o.dsv=function(t,e){var r=new RegExp('["'+t+"\n]"),n=t.charCodeAt(0);function i(t,r,n){arguments.length<3&&(n=r,r=null);var i=ge(t,e,null==r?o:a(r),n);return i.row=function(t){return arguments.length?i.response(null==(r=t)?o:a(t)):r},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return r.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var r;return i.parseRows(t,(function(t,n){if(r)return r(t,n-1);var i=function(e){for(var r={},n=t.length,i=0;i<n;++i)r[t[i]]=e[i];return r};r=e?function(t,r){return e(i(t),r)}:i}))},i.parseRows=function(t,e){var r,i,o={},a={},s=[],l=t.length,c=0,d=0;function u(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var r=e;r++<l;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return c=r+2,13===(s=t.charCodeAt(r+1))?(i=!0,10===t.charCodeAt(r+2)&&++c):10===s&&(i=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;c<l;){var s,d=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++d);else if(s!==n)continue;return t.slice(e,c-d)}return t.slice(e)}for(;(r=u())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=u();e&&null==(h=e(h,d++))||s.push(h)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var r=new O,n=[];return e.forEach((function(t){for(var e in t)r.has(e)||n.push(r.add(e))})),[n.map(l).join(t)].concat(e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var be,ve,ye,xe,we=this[F(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function _e(t,e,r){var n=arguments.length;n<2&&(e=0),n<3&&(r=Date.now());var i={c:t,t:r+e,n:null};return ve?ve.n=i:be=i,ve=i,ye||(xe=clearTimeout(xe),ye=1,we(ke)),i}function ke(){var t=Ae(),e=Te()-t;e>24?(isFinite(e)&&(clearTimeout(xe),xe=setTimeout(ke,e)),ye=0):(ye=1,we(ke))}function Ae(){for(var t=Date.now(),e=be;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Te(){for(var t,e=be,r=1/0;e;)e.c?(e.t<r&&(r=e.t),e=(t=e).n):e=t?t.n=e.n:be=e.n;return ve=t,r}function Me(t){return t[0]}function Se(t){return t[1]}function Ee(t){for(var e,r,n,i=t.length,o=[0,1],a=2,s=2;s<i;s++){for(;a>1&&(e=t[o[a-2]],r=t[o[a-1]],n=t[s],(r[0]-e[0])*(n[1]-e[1])-(r[1]-e[1])*(n[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}function Ce(t,e){return t[0]-e[0]||t[1]-e[1]}o.timer=function(){_e.apply(this,arguments)},o.timer.flush=function(){Ae(),Te()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},o.geom={},o.geom.hull=function(t){var e=Me,r=Se;if(arguments.length)return n(t);function n(t){if(t.length<3)return[];var n,i=pe(e),o=pe(r),a=t.length,s=[],l=[];for(n=0;n<a;n++)s.push([+i.call(this,t[n],n),+o.call(this,t[n],n),n]);for(s.sort(Ce),n=0;n<a;n++)l.push([s[n][0],-s[n][1]]);var c=Ee(s),d=Ee(l),u=d[0]===c[0],h=d[d.length-1]===c[c.length-1],f=[];for(n=c.length-1;n>=0;--n)f.push(t[s[c[n]][2]]);for(n=+u;n<d.length-h;++n)f.push(t[s[d[n]][2]]);return f}return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n},o.geom.polygon=function(t){return H(t,ze),t};var ze=o.geom.polygon.prototype=[];function Le(t,e,r){return(r[0]-e[0])*(t[1]-e[1])<(r[1]-e[1])*(t[0]-e[0])}function Oe(t,e,r,n){var i=t[0],o=r[0],a=e[0]-i,s=n[0]-o,l=t[1],c=r[1],d=e[1]-l,u=n[1]-c,h=(s*(l-c)-u*(i-o))/(u*a-s*d);return[i+h*a,l+h*d]}function De(t){var e=t[0],r=t[t.length-1];return!(e[0]-r[0]||e[1]-r[1])}ze.area=function(){for(var t,e=-1,r=this.length,n=this[r-1],i=0;++e<r;)t=n,n=this[e],i+=t[1]*n[0]-t[0]*n[1];return.5*i},ze.centroid=function(t){var e,r,n=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++n<i;)e=s,s=this[n],r=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*r,a+=(e[1]+s[1])*r;return[o*t,a*t]},ze.clip=function(t){for(var e,r,n,i,o,a,s=De(t),l=-1,c=this.length-De(this),d=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],o=e[(n=e.length-s)-1],r=-1;++r<n;)Le(a=e[r],d,i)?(Le(o,d,i)||t.push(Oe(o,a,d,i)),t.push(a)):Le(o,d,i)&&t.push(Oe(o,a,d,i)),o=a;s&&t.push(t[0]),d=i}return t};var Ie,Fe,Re,Pe,je,Ne=[],Be=[];function Ue(){or(this),this.edge=this.site=this.circle=null}function Ve(t){var e=Ne.pop()||new Ue;return e.site=t,e}function Ge(t){Qe(t),Re.remove(t),Ne.push(t),or(t)}function He(t){var e=t.circle,r=e.x,n=e.cy,i={x:r,y:n},o=t.P,a=t.N,s=[t];Ge(t);for(var l=o;l.circle&&_(r-l.circle.x)<Mt&&_(n-l.circle.cy)<Mt;)o=l.P,s.unshift(l),Ge(l),l=o;s.unshift(l),Qe(l);for(var c=a;c.circle&&_(r-c.circle.x)<Mt&&_(n-c.circle.cy)<Mt;)a=c.N,s.push(c),Ge(c),c=a;s.push(c),Qe(c);var d,u=s.length;for(d=1;d<u;++d)c=s[d],l=s[d-1],rr(c.edge,l.site,c.site,i);l=s[0],(c=s[u-1]).edge=er(l.site,c.site,null,i),Je(l),Je(c)}function We(t){for(var e,r,n,i,o=t.x,a=t.y,s=Re._;s;)if((n=qe(s,a)-o)>Mt)s=s.L;else{if(!((i=o-$e(s,a))>Mt)){n>-Mt?(e=s.P,r=s):i>-Mt?(e=s,r=s.N):e=r=s;break}if(!s.R){e=s;break}s=s.R}var l=Ve(t);if(Re.insert(e,l),e||r){if(e===r)return Qe(e),r=Ve(e.site),Re.insert(l,r),l.edge=r.edge=er(e.site,l.site),Je(e),void Je(r);if(r){Qe(e),Qe(r);var c=e.site,d=c.x,u=c.y,h=t.x-d,f=t.y-u,p=r.site,m=p.x-d,g=p.y-u,b=2*(h*g-f*m),v=h*h+f*f,y=m*m+g*g,x={x:(g*v-f*y)/b+d,y:(h*y-m*v)/b+u};rr(r.edge,c,p,x),l.edge=er(c,t,null,x),r.edge=er(t,p,null,x),Je(e),Je(r)}else l.edge=er(e.site,l.site)}}function qe(t,e){var r=t.site,n=r.x,i=r.y,o=i-e;if(!o)return n;var a=t.P;if(!a)return-1/0;var s=(r=a.site).x,l=r.y,c=l-e;if(!c)return s;var d=s-n,u=1/o-1/c,h=d/c;return u?(-h+Math.sqrt(h*h-2*u*(d*d/(-2*c)-l+c/2+i-o/2)))/u+n:(n+s)/2}function $e(t,e){var r=t.N;if(r)return qe(r,e);var n=t.site;return n.y===e?n.x:1/0}function Ye(t){this.site=t,this.edges=[]}function Ze(t,e){return e.angle-t.angle}function Xe(){or(this),this.x=this.y=this.arc=this.site=this.cy=null}function Je(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,i=t.site,o=r.site;if(n!==o){var a=i.x,s=i.y,l=n.x-a,c=n.y-s,d=o.x-a,u=2*(l*(g=o.y-s)-c*d);if(!(u>=-St)){var h=l*l+c*c,f=d*d+g*g,p=(g*h-c*f)/u,m=(l*f-d*h)/u,g=m+s,b=Be.pop()||new Xe;b.arc=t,b.site=i,b.x=p+a,b.y=g+Math.sqrt(p*p+m*m),b.cy=g,t.circle=b;for(var v=null,y=je._;y;)if(b.y<y.y||b.y===y.y&&b.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}je.insert(v,b),v||(Pe=b)}}}}function Qe(t){var e=t.circle;e&&(e.P||(Pe=e.N),je.remove(e),Be.push(e),or(e),t.circle=null)}function Ke(t,e){var r=t.b;if(r)return!0;var n,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],d=t.l,u=t.r,h=d.x,f=d.y,p=u.x,m=u.y,g=(h+p)/2,b=(f+m)/2;if(m===f){if(g<a||g>=s)return;if(h>p){if(o){if(o.y>=c)return}else o={x:g,y:l};r={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};r={x:g,y:l}}}else if(i=b-(n=(h-p)/(m-f))*g,n<-1||n>1)if(h>p){if(o){if(o.y>=c)return}else o={x:(l-i)/n,y:l};r={x:(c-i)/n,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-i)/n,y:c};r={x:(l-i)/n,y:l}}else if(f<m){if(o){if(o.x>=s)return}else o={x:a,y:n*a+i};r={x:s,y:n*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:n*s+i};r={x:a,y:n*a+i}}return t.a=o,t.b=r,!0}function tr(t,e){this.l=t,this.r=e,this.a=this.b=null}function er(t,e,r,n){var i=new tr(t,e);return Ie.push(i),r&&rr(i,t,e,r),n&&rr(i,e,t,n),Fe[t.i].edges.push(new nr(i,t,e)),Fe[e.i].edges.push(new nr(i,e,t)),i}function rr(t,e,r,n){t.a||t.b?t.l===r?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=r)}function nr(t,e,r){var n=t.a,i=t.b;this.edge=t,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):t.l===e?Math.atan2(i.x-n.x,n.y-i.y):Math.atan2(n.x-i.x,i.y-n.y)}function ir(){this._=null}function or(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ar(t,e){var r=e,n=e.R,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function sr(t,e){var r=e,n=e.L,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function lr(t){for(;t.L;)t=t.L;return t}function cr(t,e){var r,n,i,o=t.sort(dr).pop();for(Ie=[],Fe=new Array(t.length),Re=new ir,je=new ir;;)if(i=Pe,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===r&&o.y===n||(Fe[o.i]=new Ye(o),We(o),r=o.x,n=o.y),o=t.pop();else{if(!i)break;He(i.arc)}e&&(function(t){for(var e,r,n,i,o,a=Ie,s=(r=t[0][0],n=t[0][1],i=t[1][0],o=t[1][1],function(t){var e,a=t.a,s=t.b,l=a.x,c=a.y,d=0,u=1,h=s.x-l,f=s.y-c;if(e=r-l,h||!(e>0)){if(e/=h,h<0){if(e<d)return;e<u&&(u=e)}else if(h>0){if(e>u)return;e>d&&(d=e)}if(e=i-l,h||!(e<0)){if(e/=h,h<0){if(e>u)return;e>d&&(d=e)}else if(h>0){if(e<d)return;e<u&&(u=e)}if(e=n-c,f||!(e>0)){if(e/=f,f<0){if(e<d)return;e<u&&(u=e)}else if(f>0){if(e>u)return;e>d&&(d=e)}if(e=o-c,f||!(e<0)){if(e/=f,f<0){if(e>u)return;e>d&&(d=e)}else if(f>0){if(e<d)return;e<u&&(u=e)}return d>0&&(t.a={x:l+d*h,y:c+d*f}),u<1&&(t.b={x:l+u*h,y:c+u*f}),t}}}}}),l=a.length;l--;)(!Ke(e=a[l],t)||!s(e)||_(e.a.x-e.b.x)<Mt&&_(e.a.y-e.b.y)<Mt)&&(e.a=e.b=null,a.splice(l,1))}(e),function(t){for(var e,r,n,i,o,a,s,l,c,d,u=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],m=Fe,g=m.length;g--;)if((o=m[g])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)n=(d=s[a].end()).x,i=d.y,e=(c=s[++a%l].start()).x,r=c.y,(_(n-e)>Mt||_(i-r)>Mt)&&(s.splice(a,0,new nr((b=o.site,v=d,y=_(n-u)<Mt&&p-i>Mt?{x:u,y:_(e-u)<Mt?r:p}:_(i-p)<Mt&&h-n>Mt?{x:_(r-p)<Mt?e:h,y:p}:_(n-h)<Mt&&i-f>Mt?{x:h,y:_(e-h)<Mt?r:f}:_(i-f)<Mt&&n-u>Mt?{x:_(r-f)<Mt?e:u,y:f}:null,x=void 0,(x=new tr(b,null)).a=v,x.b=y,Ie.push(x),x),o.site,null)),++l);var b,v,y,x}(e));var a={cells:Fe,edges:Ie};return Re=je=Ie=Fe=null,a}function dr(t,e){return e.y-t.y||e.x-t.x}Ye.prototype.prepare=function(){for(var t,e=this.edges,r=e.length;r--;)(t=e[r].edge).b&&t.a||e.splice(r,1);return e.sort(Ze),e.length},nr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ir.prototype={insert:function(t,e){var r,n,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=lr(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)r===(n=r.U).L?(i=n.R)&&i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.R&&(ar(this,r),r=(t=r).U),r.C=!1,n.C=!0,sr(this,n)):(i=n.L)&&i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.L&&(sr(this,r),r=(t=r).U),r.C=!1,n.C=!0,ar(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,i=t.U,o=t.L,a=t.R;if(r=o?a?lr(a):o:a,i?i.L===t?i.L=r:i.R=r:this._=r,o&&a?(n=r.C,r.C=t.C,r.L=o,o.U=r,r!==a?(i=r.U,r.U=t.U,t=r.R,i.L=t,r.R=a,a.U=r):(r.U=i,i=r,t=r.R)):(n=t.C,t=r),t&&(t.U=i),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ar(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,sr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ar(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,sr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ar(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,sr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=Me,r=Se,n=e,i=r,o=ur;if(t)return a(t);function a(t){var e=new Array(t.length),r=o[0][0],n=o[0][1],i=o[1][0],a=o[1][1];return cr(s(t),o).cells.forEach((function(o,s){var l=o.edges,c=o.site;(e[s]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):c.x>=r&&c.x<=i&&c.y>=n&&c.y<=a?[[r,a],[i,a],[i,n],[r,n]]:[]).point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(n(t,e)/Mt)*Mt,y:Math.round(i(t,e)/Mt)*Mt,i:e}}))}return a.links=function(t){return cr(s(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},a.triangles=function(t){var e=[];return cr(s(t)).cells.forEach((function(r,n){for(var i,o,a,s,l=r.site,c=r.edges.sort(Ze),d=-1,u=c.length,h=c[u-1].edge,f=h.l===l?h.r:h.l;++d<u;)i=f,f=(h=c[d].edge).l===l?h.r:h.l,n<i.i&&n<f.i&&(a=i,s=f,((o=l).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&e.push([t[n],t[i.i],t[f.i]])})),e},a.x=function(t){return arguments.length?(n=pe(e=t),a):e},a.y=function(t){return arguments.length?(i=pe(r=t),a):r},a.clipExtent=function(t){return arguments.length?(o=null==t?ur:t,a):o===ur?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===ur?null:o&&o[1]},a};var ur=[[-1e6,-1e6],[1e6,1e6]];function hr(t){return t.x}function fr(t){return t.y}function pr(t,e,r,n,i,o){if(!t(e,r,n,i,o)){var a=.5*(r+i),s=.5*(n+o),l=e.nodes;l[0]&&pr(t,l[0],r,n,a,s),l[1]&&pr(t,l[1],a,n,i,s),l[2]&&pr(t,l[2],r,s,a,o),l[3]&&pr(t,l[3],a,s,i,o)}}function mr(t,e){t=o.rgb(t),e=o.rgb(e);var r=t.r,n=t.g,i=t.b,a=e.r-r,s=e.g-n,l=e.b-i;return function(t){return"#"+se(Math.round(r+a*t))+se(Math.round(n+s*t))+se(Math.round(i+l*t))}}function gr(t,e){var r,n={},i={};for(r in t)r in e?n[r]=wr(t[r],e[r]):i[r]=t[r];for(r in e)r in t||(i[r]=e[r]);return function(t){for(r in n)i[r]=n[r](t);return i}}function br(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vr(t,e){var r,n,i,o=yr.lastIndex=xr.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(r=yr.exec(t))&&(n=xr.exec(e));)(i=n.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:br(r,n)})),o=xr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var r,n=0;n<e;++n)s[(r=l[n]).i]=r.x(t);return s.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,r,n,i){var o,a=Me,s=Se;if(o=arguments.length)return a=hr,s=fr,3===o&&(i=r,n=e,r=e=0),l(t);function l(t){var l,c,d,u,h,f,p,m,g,b=pe(a),v=pe(s);if(null!=e)f=e,p=r,m=n,g=i;else if(m=g=-(f=p=1/0),c=[],d=[],h=t.length,o)for(u=0;u<h;++u)(l=t[u]).x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),c.push(l.x),d.push(l.y);else for(u=0;u<h;++u){var y=+b(l=t[u],u),x=+v(l,u);y<f&&(f=y),x<p&&(p=x),y>m&&(m=y),x>g&&(g=x),c.push(y),d.push(x)}var w=m-f,k=g-p;function A(t,e,r,n,i,o,a,s){if(!isNaN(r)&&!isNaN(n))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(_(l-r)+_(c-n)<.01)T(t,e,r,n,i,o,a,s);else{var d=t.point;t.x=t.y=t.point=null,T(t,d,l,c,i,o,a,s),T(t,e,r,n,i,o,a,s)}else t.x=r,t.y=n,t.point=e}else T(t,e,r,n,i,o,a,s)}function T(t,e,r,n,i,o,a,s){var l=.5*(i+a),c=.5*(o+s),d=r>=l,u=n>=c,h=u<<1|d;t.leaf=!1,d?i=l:a=l,u?o=c:s=c,A(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,r,n,i,o,a,s)}w>k?g=p+w:m=f+k;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){A(M,t,+b(t,++u),+v(t,u),f,p,m,g)}};if(M.visit=function(t){pr(t,M,f,p,m,g)},M.find=function(t){return function(t,e,r,n,i,o,a){var s,l=1/0;return function t(c,d,u,h,f){if(!(d>o||u>a||h<n||f<i)){if(p=c.point){var p,m=e-c.x,g=r-c.y,b=m*m+g*g;if(b<l){var v=Math.sqrt(l=b);n=e-v,i=r-v,o=e+v,a=r+v,s=p}}for(var y=c.nodes,x=.5*(d+h),w=.5*(u+f),_=(r>=w)<<1|e>=x,k=_+4;_<k;++_)if(c=y[3&_])switch(3&_){case 0:t(c,d,u,x,w);break;case 1:t(c,x,u,h,w);break;case 2:t(c,d,w,x,f);break;case 3:t(c,x,w,h,f)}}}(t,n,i,o,a),s}(M,t[0],t[1],f,p,m,g)},u=-1,null==e){for(;++u<h;)A(M,t[u],c[u],d[u],f,p,m,g);--u}else t.forEach(M.add);return c=d=t=l=null,M}return l.x=function(t){return arguments.length?(a=t,l):a},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=r=n=i=null:(e=+t[0][0],r=+t[0][1],n=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,r],[n,i]]},l.size=function(t){return arguments.length?(null==t?e=r=n=i=null:(e=r=0,n=+t[0],i=+t[1]),l):null==e?null:[n-e,i-r]},l},o.interpolateRgb=mr,o.interpolateObject=gr,o.interpolateNumber=br,o.interpolateString=vr;var yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xr=new RegExp(yr.source,"g");function wr(t,e){for(var r,n=o.interpolators.length;--n>=0&&!(r=o.interpolators[n](t,e)););return r}function _r(t,e){var r,n=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(r=0;r<s;++r)n.push(wr(t[r],e[r]));for(;r<o;++r)i[r]=t[r];for(;r<a;++r)i[r]=e[r];return function(t){for(r=0;r<s;++r)i[r]=n[r](t);return i}}o.interpolate=wr,o.interpolators=[function(t,e){var r=typeof e;return("string"===r?fe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?mr:vr:e instanceof Bt?mr:Array.isArray(e)?_r:"object"===r&&isNaN(e)?gr:br)(t,e)}],o.interpolateArray=_r;var kr=function(){return D},Ar=o.map({linear:kr,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Er},cubic:function(){return Cr},sin:function(){return Lr},exp:function(){return Or},circle:function(){return Dr},elastic:function(t,e){var r;return arguments.length<2&&(e=.45),arguments.length?r=e/Ct*Math.asin(1/t):(t=1,r=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-r)*Ct/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return Ir}}),Tr=o.map({in:D,out:Mr,"in-out":Sr,"out-in":function(t){return Sr(Mr(t))}});function Mr(t){return function(e){return 1-t(1-e)}}function Sr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Er(t){return t*t}function Cr(t){return t*t*t}function zr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function Lr(t){return 1-Math.cos(t*Lt)}function Or(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Ir(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,e){return e-=t,function(r){return Math.round(t+e*r)}}function Rr(t){var e,r,n,i=[t.a,t.b],o=[t.c,t.d],a=jr(i),s=Pr(i,o),l=jr(((e=o)[0]+=(n=-s)*(r=i)[0],e[1]+=n*r[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Dt,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Dt:0}function Pr(t,e){return t[0]*e[0]+t[1]*e[1]}function jr(t){var e=Math.sqrt(Pr(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e,r=t.indexOf("-"),n=r>=0?t.slice(0,r):t,i=r>=0?t.slice(r+1):"in";return n=Ar.get(n)||kr,i=Tr.get(i)||D,e=i(n.apply(null,a.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var r=t.h,n=t.c,i=t.l,a=e.h-r,s=e.c-n,l=e.l-i;return isNaN(s)&&(s=0,n=isNaN(n)?e.c:n),isNaN(a)?(a=0,r=isNaN(r)?e.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return qt(r+a*t,n+s*t,i+l*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var r=t.h,n=t.s,i=t.l,a=e.h-r,s=e.s-n,l=e.l-i;return isNaN(s)&&(s=0,n=isNaN(n)?e.s:n),isNaN(a)?(a=0,r=isNaN(r)?e.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return Gt(r+a*t,n+s*t,i+l*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var r=t.l,n=t.a,i=t.b,a=e.l-r,s=e.a-n,l=e.b-i;return function(t){return Kt(r+a*t,n+s*t,i+l*t)+""}},o.interpolateRound=Fr,o.transform=function(t){var e=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var r=e.transform.baseVal.consolidate()}return new Rr(r?r.matrix:Nr)})(t)},Rr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Nr={a:1,b:0,c:0,d:1,e:0,f:0};function Br(t){return t.length?t.pop()+",":""}function Ur(t,e){var r=[],n=[];return t=o.transform(t),e=o.transform(e),function(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var i=r.push("translate(",null,",",null,")");n.push({i:i-4,x:br(t[0],e[0])},{i:i-2,x:br(t[1],e[1])})}else(e[0]||e[1])&&r.push("translate("+e+")")}(t.translate,e.translate,r,n),function(t,e,r,n){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),n.push({i:r.push(Br(r)+"rotate(",null,")")-2,x:br(t,e)})):e&&r.push(Br(r)+"rotate("+e+")")}(t.rotate,e.rotate,r,n),function(t,e,r,n){t!==e?n.push({i:r.push(Br(r)+"skewX(",null,")")-2,x:br(t,e)}):e&&r.push(Br(r)+"skewX("+e+")")}(t.skew,e.skew,r,n),function(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var i=r.push(Br(r)+"scale(",null,",",null,")");n.push({i:i-4,x:br(t[0],e[0])},{i:i-2,x:br(t[1],e[1])})}else 1===e[0]&&1===e[1]||r.push(Br(r)+"scale("+e+")")}(t.scale,e.scale,r,n),t=e=null,function(t){for(var e,i=-1,o=n.length;++i<o;)r[(e=n[i]).i]=e.x(t);return r.join("")}}function Vr(t,e){return e=(e-=t=+t)||1/e,function(r){return(r-t)/e}}function Gr(t,e){return e=(e-=t=+t)||1/e,function(r){return Math.max(0,Math.min(1,(r-t)/e))}}function Hr(t){for(var e=t.source,r=t.target,n=function(t,e){if(t===e)return t;for(var r=Wr(t),n=Wr(e),i=r.pop(),o=n.pop(),a=null;i===o;)a=i,i=r.pop(),o=n.pop();return a}(e,r),i=[e];e!==n;)e=e.parent,i.push(e);for(var o=i.length;r!==n;)i.splice(o,0,r),r=r.parent;return i}function Wr(t){for(var e=[],r=t.parent;null!=r;)e.push(t),t=r,r=r.parent;return e.push(t),e}function qr(t){t.fixed|=2}function $r(t){t.fixed&=-7}function Yr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zr(t){t.fixed&=-5}function Xr(t,e,r){var n=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)null!=(o=a[l])&&(Xr(o,e,r),t.charge+=o.charge,n+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*r[t.point.index];t.charge+=t.pointCharge=c,n+=c*t.point.x,i+=c*t.point.y}t.cx=n/t.charge,t.cy=i/t.charge}o.interpolateTransform=Ur,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],r=-1,n=t.length;++r<n;)e.push(Hr(t[r]));return e}},o.layout.chord=function(){var t,e,r,n,i,a,s,l={},c=0;function d(){var l,d,h,f,p,m={},g=[],b=o.range(n),v=[];for(t=[],e=[],l=0,f=-1;++f<n;){for(d=0,p=-1;++p<n;)d+=r[f][p];g.push(d),v.push(o.range(n)),l+=d}for(i&&b.sort((function(t,e){return i(g[t],g[e])})),a&&v.forEach((function(t,e){t.sort((function(t,n){return a(r[e][t],r[e][n])}))})),l=(Ct-c*n)/l,d=0,f=-1;++f<n;){for(h=d,p=-1;++p<n;){var y=b[f],x=v[y][p],w=r[y][x],_=d,k=d+=w*l;m[y+"-"+x]={index:y,subindex:x,startAngle:_,endAngle:k,value:w}}e[y]={index:y,startAngle:h,endAngle:d,value:g[y]},d+=c}for(f=-1;++f<n;)for(p=f-1;++p<n;){var A=m[f+"-"+p],T=m[p+"-"+f];(A.value||T.value)&&t.push(A.value<T.value?{source:T,target:A}:{source:A,target:T})}s&&u()}function u(){t.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(i){return arguments.length?(n=(r=i)&&r.length,t=e=null,l):r},l.padding=function(r){return arguments.length?(c=r,t=e=null,l):c},l.sortGroups=function(r){return arguments.length?(i=r,t=e=null,l):i},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&u(),l):s},l.chords=function(){return t||d(),t},l.groups=function(){return e||d(),e},l},o.layout.force=function(){var t,e,r,n,i,a,s={},l=o.dispatch("start","tick","end"),c=[1,1],d=.9,u=Jr,h=Qr,f=-30,p=Kr,m=.1,g=.64,b=[],v=[];function y(t){return function(e,r,n,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-r,l=o*o+a*a;if(s*s/g<l){if(l<p){var c=e.charge/l;t.px-=o*c,t.py-=a*c}return!0}e.point&&l&&l<p&&(c=e.pointCharge/l,t.px-=o*c,t.py-=a*c)}return!e.charge}}function x(t){t.px=o.event.x,t.py=o.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var e,s,u,h,p,g,x,w,_,k=b.length,A=v.length;for(s=0;s<A;++s)h=(u=v[s]).source,(g=(w=(p=u.target).x-h.x)*w+(_=p.y-h.y)*_)&&(w*=g=r*i[s]*((g=Math.sqrt(g))-n[s])/g,_*=g,p.x-=w*(x=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=_*x,h.x+=w*(x=1-x),h.y+=_*x);if((x=r*m)&&(w=c[0]/2,_=c[1]/2,s=-1,x))for(;++s<k;)(u=b[s]).x+=(w-u.x)*x,u.y+=(_-u.y)*x;if(f)for(Xr(e=o.geom.quadtree(b),r,a),s=-1;++s<k;)(u=b[s]).fixed||e.visit(y(u));for(s=-1;++s<k;)(u=b[s]).fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*d,u.y-=(u.py-(u.py=u.y))*d);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(b=t,s):b},s.links=function(t){return arguments.length?(v=t,s):v},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,s):u},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(d=+t,s):d},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(m=+t,s):m},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=_e(s.tick)),s):r},s.start=function(){var t,e,r,o=b.length,l=v.length,d=c[0],p=c[1];for(t=0;t<o;++t)(r=b[t]).index=t,r.weight=0;for(t=0;t<l;++t)"number"==typeof(r=v[t]).source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<o;++t)r=b[t],isNaN(r.x)&&(r.x=m("x",d)),isNaN(r.y)&&(r.y=m("y",p)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(n=[],"function"==typeof u)for(t=0;t<l;++t)n[t]=+u.call(this,v[t],t);else for(t=0;t<l;++t)n[t]=u;if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,v[t],t);else for(t=0;t<l;++t)i[t]=h;if(a=[],"function"==typeof f)for(t=0;t<o;++t)a[t]=+f.call(this,b[t],t);else for(t=0;t<o;++t)a[t]=f;function m(r,n){if(!e){for(e=new Array(o),c=0;c<o;++c)e[c]=[];for(c=0;c<l;++c){var i=v[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,s=e[t],c=-1,d=s.length;++c<d;)if(!isNaN(a=s[c][r]))return a;return Math.random()*n}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=o.behavior.drag().origin(D).on("dragstart.force",qr).on("drag.force",x).on("dragend.force",$r)),!arguments.length)return e;this.on("mouseover.force",Yr).on("mouseout.force",Zr).call(e)},o.rebind(s,l,"on")};var Jr=20,Qr=1,Kr=1/0;function tn(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=sn,t}function en(t,e){for(var r=[t];null!=(t=r.pop());)if(e(t),(i=t.children)&&(n=i.length))for(var n,i;--n>=0;)r.push(i[n])}function rn(t,e){for(var r=[t],n=[];null!=(t=r.pop());)if(n.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)r.push(o[a]);for(;null!=(t=n.pop());)e(t)}function nn(t){return t.children}function on(t){return t.value}function an(t,e){return e.value-t.value}function sn(t){return o.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}o.layout.hierarchy=function(){var t=an,e=nn,r=on;function n(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(c=e.call(n,o,o.depth))&&(l=c.length)){for(var l,c,d;--l>=0;)a.push(d=c[l]),d.parent=o,d.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(n,o,o.depth)||0),delete o.children;return rn(i,(function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)})),s}return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(en(t,(function(t){t.children&&(t.value=0)})),rn(t,(function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},n},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function r(t,e,n,i){var o=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,o&&(a=o.length)){var a,s,l,c=-1;for(n=t.value?n/t.value:0;++c<a;)r(s=o[c],e,l=s.value*n,i),e+=l}}function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,n(e[o]));return 1+r}function i(i,o){var a=t.call(this,i,o);return r(a[0],0,e[0],e[1]/n(a[0])),a}return i.size=function(t){return arguments.length?(e=t,i):e},tn(i,t)},o.layout.pie=function(){var t=Number,e=ln,r=0,n=Ct,i=0;function a(s){var l,c=s.length,d=s.map((function(e,r){return+t.call(a,e,r)})),u=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof n?n.apply(this,arguments):n)-u,f=Math.min(Math.abs(h)/c,+("function"==typeof i?i.apply(this,arguments):i)),p=f*(h<0?-1:1),m=o.sum(d),g=m?(h-c*p)/m:0,b=o.range(c),v=[];return null!=e&&b.sort(e===ln?function(t,e){return d[e]-d[t]}:function(t,r){return e(s[t],s[r])}),b.forEach((function(t){v[t]={data:s[t],value:l=d[t],startAngle:u,endAngle:u+=l*g+p,padAngle:f}})),v}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(r=t,a):r},a.endAngle=function(t){return arguments.length?(n=t,a):n},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var ln={};function cn(t){return t.x}function dn(t){return t.y}function un(t,e,r){t.y0=e,t.y=r}o.layout.stack=function(){var t=D,e=pn,r=mn,n=un,i=cn,a=dn;function s(l,c){if(!(f=l.length))return l;var d=l.map((function(e,r){return t.call(s,e,r)})),u=d.map((function(t){return t.map((function(t,e){return[i.call(s,t,e),a.call(s,t,e)]}))})),h=e.call(s,u,c);d=o.permute(d,h),u=o.permute(u,h);var f,p,m,g,b=r.call(s,u,c),v=d[0].length;for(m=0;m<v;++m)for(n.call(s,d[0][m],g=b[m],u[0][m][1]),p=1;p<f;++p)n.call(s,d[p][m],g+=u[p-1][m][1],u[p][m][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:hn.get(t)||pn,s):e},s.offset=function(t){return arguments.length?(r="function"==typeof t?t:fn.get(t)||mn,s):r},s.x=function(t){return arguments.length?(i=t,s):i},s.y=function(t){return arguments.length?(a=t,s):a},s.out=function(t){return arguments.length?(n=t,s):n},s};var hn=o.map({"inside-out":function(t){var e,r,n=t.length,i=t.map(gn),a=t.map(bn),s=o.range(n).sort((function(t,e){return i[t]-i[e]})),l=0,c=0,d=[],u=[];for(e=0;e<n;++e)r=s[e],l<c?(l+=a[r],d.push(r)):(c+=a[r],u.push(r));return u.reverse().concat(d)},reverse:function(t){return o.range(t.length).reverse()},default:pn}),fn=o.map({silhouette:function(t){var e,r,n,i=t.length,o=t[0].length,a=[],s=0,l=[];for(r=0;r<o;++r){for(e=0,n=0;e<i;e++)n+=t[e][r][1];n>s&&(s=n),a.push(n)}for(r=0;r<o;++r)l[r]=(s-a[r])/2;return l},wiggle:function(t){var e,r,n,i,o,a,s,l,c,d=t.length,u=t[0],h=u.length,f=[];for(f[0]=l=c=0,r=1;r<h;++r){for(e=0,i=0;e<d;++e)i+=t[e][r][1];for(e=0,o=0,s=u[r][0]-u[r-1][0];e<d;++e){for(n=0,a=(t[e][r][1]-t[e][r-1][1])/(2*s);n<e;++n)a+=(t[n][r][1]-t[n][r-1][1])/s;o+=a*t[e][r][1]}f[r]=l-=i?o/i*s:0,l<c&&(c=l)}for(r=0;r<h;++r)f[r]-=c;return f},expand:function(t){var e,r,n,i=t.length,o=t[0].length,a=1/i,s=[];for(r=0;r<o;++r){for(e=0,n=0;e<i;e++)n+=t[e][r][1];if(n)for(e=0;e<i;e++)t[e][r][1]/=n;else for(e=0;e<i;e++)t[e][r][1]=a}for(r=0;r<o;++r)s[r]=0;return s},zero:mn});function pn(t){return o.range(t.length)}function mn(t){for(var e=-1,r=t[0].length,n=[];++e<r;)n[e]=0;return n}function gn(t){for(var e,r=1,n=0,i=t[0][1],o=t.length;r<o;++r)(e=t[r][1])>i&&(n=r,i=e);return n}function bn(t){return t.reduce(vn,0)}function vn(t,e){return t+e[1]}function yn(t,e){return xn(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function xn(t,e){for(var r=-1,n=+t[0],i=(t[1]-n)/e,o=[];++r<=e;)o[r]=i*r+n;return o}function wn(t){return[o.min(t),o.max(t)]}function _n(t,e){return t.value-e.value}function kn(t,e){var r=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=r,r._pack_prev=e}function An(t,e){t._pack_next=e,e._pack_prev=t}function Tn(t,e){var r=e.x-t.x,n=e.y-t.y,i=t.r+e.r;return.999*i*i>r*r+n*n}function Mn(t){if((e=t.children)&&(l=e.length)){var e,r,n,i,o,a,s,l,c=1/0,d=-1/0,u=1/0,h=-1/0;if(e.forEach(Sn),(r=e[0]).x=-r.r,r.y=0,y(r),l>1&&((n=e[1]).x=n.r,n.y=0,y(n),l>2))for(zn(r,n,i=e[2]),y(i),kn(r,i),r._pack_prev=i,kn(i,n),n=r._pack_next,o=3;o<l;o++){zn(r,n,i=e[o]);var f=0,p=1,m=1;for(a=n._pack_next;a!==n;a=a._pack_next,p++)if(Tn(a,i)){f=1;break}if(1==f)for(s=r._pack_prev;s!==a._pack_prev&&!Tn(s,i);s=s._pack_prev,m++);f?(p<m||p==m&&n.r<r.r?An(r,n=a):An(r=s,n),o--):(kn(r,i),n=i,y(i))}var g=(c+d)/2,b=(u+h)/2,v=0;for(o=0;o<l;o++)(i=e[o]).x-=g,i.y-=b,v=Math.max(v,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=v,e.forEach(En)}function y(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),u=Math.min(t.y-t.r,u),h=Math.max(t.y+t.r,h)}}function Sn(t){t._pack_next=t._pack_prev=t}function En(t){delete t._pack_next,delete t._pack_prev}function Cn(t,e,r,n){var i=t.children;if(t.x=e+=n*t.x,t.y=r+=n*t.y,t.r*=n,i)for(var o=-1,a=i.length;++o<a;)Cn(i[o],e,r,n)}function zn(t,e,r){var n=t.r+r.r,i=e.x-t.x,o=e.y-t.y;if(n&&(i||o)){var a=e.r+r.r,s=i*i+o*o,l=.5+((n*=n)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(n+s)-(n-=s)*n-a*a))/(2*s);r.x=t.x+l*i+c*o,r.y=t.y+l*o-c*i}else r.x=t.x+n,r.y=t.y}function Ln(t,e){return t.parent==e.parent?1:2}function On(t){var e=t.children;return e.length?e[0]:t.t}function Dn(t){var e,r=t.children;return(e=r.length)?r[e-1]:t.t}function In(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function Fn(t,e,r){return t.a.parent===e.parent?t.a:r}function Rn(t){var e=t.children;return e&&e.length?Rn(e[0]):t}function Pn(t){var e,r=t.children;return r&&(e=r.length)?Pn(r[e-1]):t}function jn(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Nn(t,e){var r=t.x+e[3],n=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(r+=i/2,i=0),o<0&&(n+=o/2,o=0),{x:r,y:n,dx:i,dy:o}}function Bn(t){var e=t[0],r=t[t.length-1];return e<r?[e,r]:[r,e]}function Un(t){return t.rangeExtent?t.rangeExtent():Bn(t.range())}function Vn(t,e,r,n){var i=r(t[0],t[1]),o=n(e[0],e[1]);return function(t){return o(i(t))}}function Gn(t,e){var r,n=0,i=t.length-1,o=t[n],a=t[i];return a<o&&(r=n,n=i,i=r,r=o,o=a,a=r),t[n]=e.floor(o),t[i]=e.ceil(a),t}function Hn(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Wn}o.layout.histogram=function(){var t=!0,e=Number,r=wn,n=yn;function i(i,a){for(var s,l,c=[],d=i.map(e,this),u=r.call(this,d,a),h=n.call(this,u,d,a),f=(a=-1,d.length),p=h.length-1,m=t?1:1/f;++a<p;)(s=c[a]=[]).dx=h[a+1]-(s.x=h[a]),s.y=0;if(p>0)for(a=-1;++a<f;)(l=d[a])>=u[0]&&l<=u[1]&&((s=c[o.bisect(h,l,1,p)-1]).y+=m,s.push(i[a]));return c}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(r=pe(t),i):r},i.bins=function(t){return arguments.length?(n="number"==typeof t?function(e){return xn(e,t)}:pe(t),i):n},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(_n),r=0,n=[1,1];function i(i,o){var a=e.call(this,i,o),s=a[0],l=n[0],c=n[1],d=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,rn(s,(function(t){t.r=+d(t.value)})),rn(s,Mn),r){var u=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;rn(s,(function(t){t.r+=u})),rn(s,Mn),rn(s,(function(t){t.r-=u}))}return Cn(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),a}return i.size=function(t){return arguments.length?(n=t,i):n},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(r=+t,i):r},tn(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=Ln,r=[1,1],n=null;function i(i,o){var c=t.call(this,i,o),d=c[0],u=function(t){for(var e,r={A:null,children:[t]},n=[r];null!=(e=n.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)n.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return r.children[0]}(d);if(rn(u,a),u.parent.m=-u.z,en(u,s),n)en(d,l);else{var h=d,f=d,p=d;en(d,(function(t){t.x<h.x&&(h=t),t.x>f.x&&(f=t),t.depth>p.depth&&(p=t)}));var m=e(h,f)/2-h.x,g=r[0]/(f.x+e(f,h)/2+m),b=r[1]/(p.depth||1);en(d,(function(t){t.x=(t.x+m)*g,t.y=t.depth*b}))}return c}function a(t){var r=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(r.length){!function(t){for(var e,r=0,n=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=r,e.m+=r,r+=e.s+(n+=e.c)}(t);var o=(r[0].z+r[r.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,r,n){if(r){for(var i,o=t,a=t,s=r,l=o.parent.children[0],c=o.m,d=a.m,u=s.m,h=l.m;s=Dn(s),o=On(o),s&&o;)l=On(l),(a=Dn(a)).a=t,(i=s.z+u-o.z-c+e(s._,o._))>0&&(In(Fn(s,t,n),t,i),c+=i,d+=i),u+=s.m,c+=o.m,h+=l.m,d+=a.m;s&&!Dn(a)&&(a.t=s,a.m+=u-d),o&&!On(l)&&(l.t=o,l.m+=c-h,n=t)}return n}(t,i,t.parent.A||n[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=r[0],t.y=t.depth*r[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(n=null==(r=t)?l:null,i):n?null:r},i.nodeSize=function(t){return arguments.length?(n=null==(r=t)?null:l,i):n?r:null},tn(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=Ln,r=[1,1],n=!1;function i(i,a){var s,l=t.call(this,i,a),c=l[0],d=0;rn(c,(function(t){var r=t.children;r&&r.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(r),t.y=function(t){return 1+o.max(t,(function(t){return t.y}))}(r)):(t.x=s?d+=e(t,s):0,t.y=0,s=t)}));var u=Rn(c),h=Pn(c),f=u.x-e(u,h)/2,p=h.x+e(h,u)/2;return rn(c,n?function(t){t.x=(t.x-c.x)*r[0],t.y=(c.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(p-f)*r[0],t.y=(1-(c.y?t.y/c.y:1))*r[1]}),l}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(n=null==(r=t),i):n?null:r},i.nodeSize=function(t){return arguments.length?(n=null!=(r=t),i):n?r:null},tn(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),r=Math.round,n=[1,1],i=null,a=jn,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function d(t,e){for(var r,n,i=-1,o=t.length;++i<o;)n=(r=t[i]).value*(e<0?0:e),r.area=isNaN(n)||n<=0?0:n}function u(t){var e=t.children;if(e&&e.length){var r,n,i,o=a(t),s=[],c=e.slice(),h=1/0,m="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(d(c,o.dx*o.dy/t.value),s.area=0;(i=c.length)>0;)s.push(r=c[i-1]),s.area+=r.area,"squarify"!==l||(n=f(s,m))<=h?(c.pop(),h=n):(s.area-=s.pop().area,p(s,m,o,!1),m=Math.min(o.dx,o.dy),s.length=s.area=0,h=1/0);s.length&&(p(s,m,o,!0),s.length=s.area=0),e.forEach(u)}}function h(t){var e=t.children;if(e&&e.length){var r,n=a(t),i=e.slice(),o=[];for(d(i,n.dx*n.dy/t.value),o.area=0;r=i.pop();)o.push(r),o.area+=r.area,null!=r.z&&(p(o,r.z?n.dx:n.dy,n,!i.length),o.length=o.area=0);e.forEach(h)}}function f(t,e){for(var r,n=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(r=t[a].area)&&(r<o&&(o=r),r>i&&(i=r));return e*=e,(n*=n)?Math.max(e*i*c/n,n/(e*o*c)):1/0}function p(t,e,n,i){var o,a=-1,s=t.length,l=n.x,c=n.y,d=e?r(t.area/e):0;if(e==n.dx){for((i||d>n.dy)&&(d=n.dy);++a<s;)(o=t[a]).x=l,o.y=c,o.dy=d,l+=o.dx=Math.min(n.x+n.dx-l,d?r(o.area/d):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=d,n.dy-=d}else{for((i||d>n.dx)&&(d=n.dx);++a<s;)(o=t[a]).x=l,o.y=c,o.dx=d,c+=o.dy=Math.min(n.y+n.dy-c,d?r(o.area/d):0);o.z=!1,o.dy+=n.y+n.dy-c,n.x+=d,n.dx-=d}}function m(r){var i=t||e(r),o=i[0];return o.x=o.y=0,o.value?(o.dx=n[0],o.dy=n[1]):o.dx=o.dy=0,t&&e.revalue(o),d([o],o.dx*o.dy/o.value),(t?h:u)(o),s&&(t=i),i}return m.size=function(t){return arguments.length?(n=t,m):n},m.padding=function(t){if(!arguments.length)return i;function e(e){return Nn(e,t)}var r;return a=null==(i=t)?jn:"function"==(r=typeof t)?function(e){var r=t.call(m,e,e.depth);return null==r?jn(e):Nn(e,"number"==typeof r?[r,r,r,r]:r)}:"number"===r?(t=[t,t,t,t],e):e,m},m.round=function(t){return arguments.length?(r=t?Math.round:Number,m):r!=Number},m.sticky=function(e){return arguments.length?(s=e,t=null,m):s},m.ratio=function(t){return arguments.length?(c=t,m):c},m.mode=function(t){return arguments.length?(l=t+"",m):l},tn(m,e)},o.random={normal:function(t,e){var r=arguments.length;return r<2&&(e=1),r<1&&(t=0),function(){var r,n,i;do{i=(r=2*Math.random()-1)*r+(n=2*Math.random()-1)*n}while(!i||i>1);return t+e*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,r=0;r<t;r++)e+=Math.random();return e}}},o.scale={};var Wn={floor:D,ceil:D};function qn(t,e,r,n){var i=[],a=[],s=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=l;)i.push(r(t[s-1],t[s])),a.push(n(e[s-1],e[s]));return function(e){var r=o.bisect(t,e,1,l)-1;return a[r](i[r](e))}}function $n(t,e,r,n){var i,o;function a(){var a=Math.min(t.length,e.length)>2?qn:Vn,l=n?Gr:Vr;return i=a(t,e,l,r),o=a(e,t,l,wr),s}function s(t){return i(t)}return s.invert=function(t){return o(t)},s.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},s.range=function(t){return arguments.length?(e=t,a()):e},s.rangeRound=function(t){return s.range(t).interpolate(Fr)},s.clamp=function(t){return arguments.length?(n=t,a()):n},s.interpolate=function(t){return arguments.length?(r=t,a()):r},s.ticks=function(e){return Jn(t,e)},s.tickFormat=function(e,r){return d3_scale_linearTickFormat(t,e,r)},s.nice=function(e){return Zn(t,e),a()},s.copy=function(){return $n(t,e,r,n)},a()}function Yn(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zn(t,e){return Gn(t,Hn(Xn(t,e)[2])),Gn(t,Hn(Xn(t,e)[2])),t}function Xn(t,e){null==e&&(e=10);var r=Bn(t),n=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),o=e/n*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function Jn(t,e){return o.range.apply(o,Xn(t,e))}function Qn(t,e,r,n){function i(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return r?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((n=e.map(Number)).map(i)),a):n},a.base=function(r){return arguments.length?(e=+r,t.domain(n.map(i)),a):e},a.nice=function(){var e=Gn(n.map(i),r?Math:Kn);return t.domain(e),n=e.map(o),a},a.ticks=function(){var t=Bn(n),a=[],s=t[0],l=t[1],c=Math.floor(i(s)),d=Math.ceil(i(l)),u=e%1?2:e;if(isFinite(d-c)){if(r){for(;c<d;c++)for(var h=1;h<u;h++)a.push(o(c)*h);a.push(o(c))}else for(a.push(o(c));c++<d;)for(h=u-1;h>0;h--)a.push(o(c)*h);for(c=0;a[c]<s;c++);for(d=a.length;a[d-1]>l;d--);a=a.slice(c,d)}return a},a.copy=function(){return Qn(t.copy(),e,r,n)},Yn(a,t)}o.scale.linear=function(){return $n([0,1],[0,1],wr,!1)},o.scale.log=function(){return Qn(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Kn={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function ti(t,e,r){var n=ei(e),i=ei(1/e);function o(e){return t(n(e))}return o.invert=function(e){return i(t.invert(e))},o.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(n)),o):r},o.ticks=function(t){return Jn(r,t)},o.tickFormat=function(t,e){return d3_scale_linearTickFormat(r,t,e)},o.nice=function(t){return o.domain(Zn(r,t))},o.exponent=function(a){return arguments.length?(n=ei(e=a),i=ei(1/e),t.domain(r.map(n)),o):e},o.copy=function(){return ti(t.copy(),e,r)},Yn(o,t)}function ei(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ri(t,e){var r,n,i;function a(i){return n[((r.get(i)||("range"===e.t?r.set(i,t.push(i)):NaN))-1)%n.length]}function s(e,r){return o.range(t.length).map((function(t){return e+r*t}))}return a.domain=function(n){if(!arguments.length)return t;t=[],r=new A;for(var i,o=-1,s=n.length;++o<s;)r.has(i=n[o])||r.set(i,t.push(i));return a[e.t].apply(a,e.a)},a.range=function(t){return arguments.length?(n=t,i=0,e={t:"range",a:arguments},a):n},a.rangePoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],c=r[1],d=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+o);return n=s(l+d*o/2,d),i=0,e={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(r,o){arguments.length<2&&(o=0);var l=r[0],c=r[1],d=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+o)|0;return n=s(l+Math.round(d*o/2+(c-l-(t.length-1+o)*d)/2),d),i=0,e={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],d=r[c-0],u=(r[1-c]-d)/(t.length-o+2*l);return n=s(d+u*l,u),c&&n.reverse(),i=u*(1-o),e={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(r,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=r[1]<r[0],d=r[c-0],u=r[1-c],h=Math.floor((u-d)/(t.length-o+2*l));return n=s(d+Math.round((u-d-(t.length-o)*h)/2),h),c&&n.reverse(),i=Math.round(h*(1-o)),e={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return i},a.rangeExtent=function(){return Bn(e.a[0])},a.copy=function(){return ri(t,e)},a.domain(t)}o.scale.pow=function(){return ti(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return ri([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(ni)},o.scale.category20=function(){return o.scale.ordinal().range(ii)},o.scale.category20b=function(){return o.scale.ordinal().range(oi)},o.scale.category20c=function(){return o.scale.ordinal().range(ai)};var ni=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(oe),ii=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(oe),oi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(oe),ai=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(oe);function si(t,e){var r;function n(){var n=0,a=e.length;for(r=[];++n<a;)r[n-1]=o.quantile(t,n/a);return i}function i(t){if(!isNaN(t=+t))return e[o.bisect(r,t)]}return i.domain=function(e){return arguments.length?(t=e.map(b).filter(v).sort(g),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.invertExtent=function(n){return(n=e.indexOf(n))<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},i.copy=function(){return si(t,e)},n()}function li(t,e,r){var n,i;function o(e){return r[Math.max(0,Math.min(i,Math.floor(n*(e-t))))]}function a(){return n=r.length/(e-t),i=r.length-1,o}return o.domain=function(r){return arguments.length?(t=+r[0],e=+r[r.length-1],a()):[t,e]},o.range=function(t){return arguments.length?(r=t,a()):r},o.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/n+t,e+1/n]},o.copy=function(){return li(t,e,r)},a()}function ci(t,e){function r(r){if(r<=r)return e[o.bisect(t,r)]}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(t){return arguments.length?(e=t,r):e},r.invertExtent=function(r){return r=e.indexOf(r),[t[r-1],t[r]]},r.copy=function(){return ci(t,e)},r}function di(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=r.map(e),e):t},e.ticks=function(e){return Jn(t,e)},e.tickFormat=function(e,r){return d3_scale_linearTickFormat(t,e,r)},e.copy=function(){return di(t)},e}function ui(){return 0}o.scale.quantile=function(){return si([],[])},o.scale.quantize=function(){return li(0,1,[0,1])},o.scale.threshold=function(){return ci([.5],[0,1])},o.scale.identity=function(){return di([0,1])},o.svg={},o.svg.arc=function(){var t=fi,e=pi,r=ui,n=hi,i=mi,o=gi,a=bi;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),d=i.apply(this,arguments)-Lt,u=o.apply(this,arguments)-Lt,h=Math.abs(u-d),f=d>u?0:1;if(c<s&&(p=c,c=s,s=p),h>=zt)return l(c,f)+(s?l(s,1-f):"")+"Z";var p,m,g,b,v,y,x,w,_,k,A,T,M=0,S=0,E=[];if((b=(+a.apply(this,arguments)||0)/2)&&(g=n===hi?Math.sqrt(s*s+c*c):+n.apply(this,arguments),f||(S*=-1),c&&(S=It(g/c*Math.sin(b))),s&&(M=It(g/s*Math.sin(b)))),c){v=c*Math.cos(d+S),y=c*Math.sin(d+S),x=c*Math.cos(u-S),w=c*Math.sin(u-S);var C=Math.abs(u-d-2*S)<=Et?0:1;if(S&&vi(v,y,x,w)===f^C){var z=(d+u)/2;v=c*Math.cos(z),y=c*Math.sin(z),x=w=null}}else v=y=0;if(s){_=s*Math.cos(u-M),k=s*Math.sin(u-M),A=s*Math.cos(d+M),T=s*Math.sin(d+M);var L=Math.abs(d-u+2*M)<=Et?0:1;if(M&&vi(_,k,A,T)===1-f^L){var O=(d+u)/2;_=s*Math.cos(O),k=s*Math.sin(O),A=T=null}}else _=k=0;if(h>Mt&&(p=Math.min(Math.abs(c-s)/2,+r.apply(this,arguments)))>.001){m=s<c^f?0:1;var D=p,I=p;if(h<Et){var F=null==A?[_,k]:null==x?[v,y]:Oe([v,y],[A,T],[x,w],[_,k]),R=v-F[0],P=y-F[1],j=x-F[0],N=w-F[1],B=1/Math.sin(Math.acos((R*j+P*N)/(Math.sqrt(R*R+P*P)*Math.sqrt(j*j+N*N)))/2),U=Math.sqrt(F[0]*F[0]+F[1]*F[1]);I=Math.min(p,(s-U)/(B-1)),D=Math.min(p,(c-U)/(B+1))}if(null!=x){var V=yi(null==A?[_,k]:[A,T],[v,y],c,D,f),G=yi([x,w],[_,k],c,D,f);p===D?E.push("M",V[0],"A",D,",",D," 0 0,",m," ",V[1],"A",c,",",c," 0 ",1-f^vi(V[1][0],V[1][1],G[1][0],G[1][1]),",",f," ",G[1],"A",D,",",D," 0 0,",m," ",G[0]):E.push("M",V[0],"A",D,",",D," 0 1,",m," ",G[0])}else E.push("M",v,",",y);if(null!=A){var H=yi([v,y],[A,T],s,-I,f),W=yi([_,k],null==x?[v,y]:[x,w],s,-I,f);p===I?E.push("L",W[0],"A",I,",",I," 0 0,",m," ",W[1],"A",s,",",s," 0 ",f^vi(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-f," ",H[1],"A",I,",",I," 0 0,",m," ",H[0]):E.push("L",W[0],"A",I,",",I," 0 0,",m," ",H[0])}else E.push("L",_,",",k)}else E.push("M",v,",",y),null!=x&&E.push("A",c,",",c," 0 ",C,",",f," ",x,",",w),E.push("L",_,",",k),null!=A&&E.push("A",s,",",s," 0 ",L,",",1-f," ",A,",",T);return E.push("Z"),E.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=pe(e),s):t},s.outerRadius=function(t){return arguments.length?(e=pe(t),s):e},s.cornerRadius=function(t){return arguments.length?(r=pe(t),s):r},s.padRadius=function(t){return arguments.length?(n=t==hi?hi:pe(t),s):n},s.startAngle=function(t){return arguments.length?(i=pe(t),s):i},s.endAngle=function(t){return arguments.length?(o=pe(t),s):o},s.padAngle=function(t){return arguments.length?(a=pe(t),s):a},s.centroid=function(){var r=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Lt;return[Math.cos(n)*r,Math.sin(n)*r]},s};var hi="auto";function fi(t){return t.innerRadius}function pi(t){return t.outerRadius}function mi(t){return t.startAngle}function gi(t){return t.endAngle}function bi(t){return t&&t.padAngle}function vi(t,e,r,n){return(t-r)*e-(e-n)*t>0?0:1}function yi(t,e,r,n,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?n:-n)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,d=t[0]+l,u=t[1]+c,h=e[0]+l,f=e[1]+c,p=(d+h)/2,m=(u+f)/2,g=h-d,b=f-u,v=g*g+b*b,y=r-n,x=d*f-h*u,w=(b<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-x*x)),_=(x*b-g*w)/v,k=(-x*g-b*w)/v,A=(x*b+g*w)/v,T=(-x*g+b*w)/v,M=_-p,S=k-m,E=A-p,C=T-m;return M*M+S*S>E*E+C*C&&(_=A,k=T),[[_-l,k-c],[_*r/y,k*r/y]]}function xi(){return!0}function wi(t){var e=Me,r=Se,n=xi,i=ki,o=i.key,a=.7;function s(o){var s,l=[],c=[],d=-1,u=o.length,h=pe(e),f=pe(r);function p(){l.push("M",i(t(c),a))}for(;++d<u;)n.call(this,s=o[d],d)?c.push([+h.call(this,s,d),+f.call(this,s,d)]):c.length&&(p(),c=[]);return c.length&&p(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(r=t,s):r},s.defined=function(t){return arguments.length?(n=t,s):n},s.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=_i.get(t)||ki).key,s):o},s.tension=function(t){return arguments.length?(a=t,s):a},s}o.svg.line=function(){return wi(D)};var _i=o.map({linear:ki,"linear-closed":Ai,step:function(t){for(var e=0,r=t.length,n=t[0],i=[n[0],",",n[1]];++e<r;)i.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return r>1&&i.push("H",n[0]),i.join("")},"step-before":Ti,"step-after":Mi,basis:Ci,"basis-open":function(t){if(t.length<4)return ki(t);for(var e,r=[],n=-1,i=t.length,o=[0],a=[0];++n<3;)e=t[n],o.push(e[0]),a.push(e[1]);for(r.push(zi(Di,o)+","+zi(Di,a)),--n;++n<i;)e=t[n],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ii(r,o,a);return r.join("")},"basis-closed":function(t){for(var e,r,n=-1,i=t.length,o=i+4,a=[],s=[];++n<4;)r=t[n%i],a.push(r[0]),s.push(r[1]);for(e=[zi(Di,a),",",zi(Di,s)],--n;++n<o;)r=t[n%i],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ii(e,a,s);return e.join("")},bundle:function(t,e){var r=t.length-1;if(r)for(var n,i,o=t[0][0],a=t[0][1],s=t[r][0]-o,l=t[r][1]-a,c=-1;++c<=r;)i=c/r,(n=t[c])[0]=e*n[0]+(1-e)*(o+i*s),n[1]=e*n[1]+(1-e)*(a+i*l);return Ci(t)},cardinal:function(t,e){return t.length<3?ki(t):t[0]+Si(t,Ei(t,e))},"cardinal-open":function(t,e){return t.length<4?ki(t):t[1]+Si(t.slice(1,-1),Ei(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ai(t):t[0]+Si((t.push(t[0]),t),Ei([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ki(t):t[0]+Si(t,function(t){for(var e,r,n,i,o=[],a=function(t){for(var e=0,r=t.length-1,n=[],i=t[0],o=t[1],a=n[0]=Fi(i,o);++e<r;)n[e]=(a+(a=Fi(i=o,o=t[e+1])))/2;return n[e]=a,n}(t),s=-1,l=t.length-1;++s<l;)e=Fi(t[s],t[s+1]),_(e)<Mt?a[s]=a[s+1]=0:(i=(r=a[s]/e)*r+(n=a[s+1]/e)*n)>9&&(i=3*e/Math.sqrt(i),a[s]=i*r,a[s+1]=i*n);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function ki(t){return t.length>1?t.join("L"):t+"Z"}function Ai(t){return t.join("L")+"Z"}function Ti(t){for(var e=0,r=t.length,n=t[0],i=[n[0],",",n[1]];++e<r;)i.push("V",(n=t[e])[1],"H",n[0]);return i.join("")}function Mi(t){for(var e=0,r=t.length,n=t[0],i=[n[0],",",n[1]];++e<r;)i.push("H",(n=t[e])[0],"V",n[1]);return i.join("")}function Si(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ki(t);var r=t.length!=e.length,n="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(r&&(n+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,n+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,l++)o=t[l],s=e[c],n+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(r){var d=t[l];n+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+d[0]+","+d[1]}return n}function Ei(t,e){for(var r,n=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)r=o,o=a,a=t[s],n.push([i*(a[0]-r[0]),i*(a[1]-r[1])]);return n}function Ci(t){if(t.length<3)return ki(t);var e=1,r=t.length,n=t[0],i=n[0],o=n[1],a=[i,i,i,(n=t[1])[0]],s=[o,o,o,n[1]],l=[i,",",o,"L",zi(Di,a),",",zi(Di,s)];for(t.push(t[r-1]);++e<=r;)n=t[e],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ii(l,a,s);return t.pop(),l.push("L",n),l.join("")}function zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}_i.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var Li=[0,2/3,1/3,0],Oi=[0,1/3,2/3,0],Di=[0,1/6,2/3,1/6];function Ii(t,e,r){t.push("C",zi(Li,e),",",zi(Li,r),",",zi(Oi,e),",",zi(Oi,r),",",zi(Di,e),",",zi(Di,r))}function Fi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ri(t){for(var e,r,n,i=-1,o=t.length;++i<o;)r=(e=t[i])[0],n=e[1]-Lt,e[0]=r*Math.cos(n),e[1]=r*Math.sin(n);return t}function Pi(t){var e=Me,r=Me,n=0,i=Se,o=xi,a=ki,s=a.key,l=a,c="L",d=.7;function u(s){var u,h,f,p=[],m=[],g=[],b=-1,v=s.length,y=pe(e),x=pe(n),w=e===r?function(){return h}:pe(r),_=n===i?function(){return f}:pe(i);function k(){p.push("M",a(t(g),d),c,l(t(m.reverse()),d),"Z")}for(;++b<v;)o.call(this,u=s[b],b)?(m.push([h=+y.call(this,u,b),f=+x.call(this,u,b)]),g.push([+w.call(this,u,b),+_.call(this,u,b)])):m.length&&(k(),m=[],g=[]);return m.length&&k(),p.length?p.join(""):null}return u.x=function(t){return arguments.length?(e=r=t,u):r},u.x0=function(t){return arguments.length?(e=t,u):e},u.x1=function(t){return arguments.length?(r=t,u):r},u.y=function(t){return arguments.length?(n=i=t,u):i},u.y0=function(t){return arguments.length?(n=t,u):n},u.y1=function(t){return arguments.length?(i=t,u):i},u.defined=function(t){return arguments.length?(o=t,u):o},u.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=_i.get(t)||ki).key,l=a.reverse||a,c=a.closed?"M":"L",u):s},u.tension=function(t){return arguments.length?(d=t,u):d},u}function ji(t){return t.source}function Ni(t){return t.target}function Bi(t){return t.radius}function Ui(t){return[t.x,t.y]}function Vi(){return 64}function Gi(){return"circle"}function Hi(t){var e=Math.sqrt(t/Et);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=wi(Ri);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ti.reverse=Mi,Mi.reverse=Ti,o.svg.area=function(){return Pi(D)},o.svg.area.radial=function(){var t=Pi(Ri);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=ji,e=Ni,r=Bi,n=mi,i=gi;function o(r,n){var i,o,c=a(this,t,r,n),d=a(this,e,r,n);return"M"+c.p0+s(c.r,c.p1,c.a1-c.a0)+(o=d,((i=c).a0==o.a0&&i.a1==o.a1?l(c.r,c.p1,c.r,c.p0):l(c.r,c.p1,d.r,d.p0)+s(d.r,d.p1,d.a1-d.a0)+l(d.r,d.p1,c.r,c.p0))+"Z")}function a(t,e,o,a){var s=e.call(t,o,a),l=r.call(t,s,a),c=n.call(t,s,a)-Lt,d=i.call(t,s,a)-Lt;return{r:l,a0:c,a1:d,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(d),l*Math.sin(d)]}}function s(t,e,r){return"A"+t+","+t+" 0 "+ +(r>Et)+",1 "+e}function l(t,e,r,n){return"Q 0,0 "+n}return o.radius=function(t){return arguments.length?(r=pe(t),o):r},o.source=function(e){return arguments.length?(t=pe(e),o):t},o.target=function(t){return arguments.length?(e=pe(t),o):e},o.startAngle=function(t){return arguments.length?(n=pe(t),o):n},o.endAngle=function(t){return arguments.length?(i=pe(t),o):i},o},o.svg.diagonal=function(){var t=ji,e=Ni,r=Ui;function n(n,i){var o=t.call(this,n,i),a=e.call(this,n,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(r))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return n.source=function(e){return arguments.length?(t=pe(e),n):t},n.target=function(t){return arguments.length?(e=pe(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=Ui,r=t.projection;return t.projection=function(t){return arguments.length?r(function(t){return function(){var e=t.apply(this,arguments),r=e[0],n=e[1]-Lt;return[r*Math.cos(n),r*Math.sin(n)]}}(e=t)):e},t},o.svg.symbol=function(){var t=Gi,e=Vi;function r(r,n){return(Wi.get(t.call(this,r,n))||Hi)(e.call(this,r,n))}return r.type=function(e){return arguments.length?(t=pe(e),r):t},r.size=function(t){return arguments.length?(e=pe(t),r):e},r};var Wi=o.map({circle:Hi,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*$i)),r=e*$i;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/qi),r=e*qi/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/qi),r=e*qi/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});o.svg.symbolTypes=Wi.keys();var qi=Math.sqrt(3),$i=Math.tan(30*Ot);Z.transition=function(t){for(var e,r,n=Ji||++to,i=no(t),o=[],a=Qi||{time:Date.now(),ease:zr,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],d=-1,u=c.length;++d<u;)(r=c[d])&&io(r,d,i,n,a),e.push(r)}return Xi(o,i,n)},Z.interrupt=function(t){return this.each(null==t?Yi:Zi(no(t)))};var Yi=Zi(no());function Zi(t){return function(){var e,r,n;(e=this[t])&&(n=e[r=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[r]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Xi(t,e,r){return H(t,Ki),t.namespace=e,t.id=r,t}var Ji,Qi,Ki=[],to=0;function eo(t,e,r,n){var i=t.id,o=t.namespace;return ft(t,"function"==typeof r?function(t,a,s){t[o][i].tween.set(e,n(r.call(t,t.__data__,a,s)))}:(r=n(r),function(t){t[o][i].tween.set(e,r)}))}function ro(t){return null==t&&(t=""),function(){this.textContent=t}}function no(t){return null==t?"__transition__":"__transition_"+t+"__"}function io(t,e,r,n,i){var o,a,s,l,c,d=t[r]||(t[r]={active:0,count:0}),u=d[n];function h(r){var i=d.active,h=d[i];for(var p in h&&(h.timer.c=null,h.timer.t=NaN,--d.count,delete d[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index)),d)if(+p<n){var m=d[p];m.timer.c=null,m.timer.t=NaN,--d.count,delete d[p]}a.c=f,_e((function(){return a.c&&f(r||1)&&(a.c=null,a.t=NaN),1}),0,o),d.active=n,u.event&&u.event.start.call(t,t.__data__,e),c=[],u.tween.forEach((function(r,n){(n=n.call(t,t.__data__,e))&&c.push(n)})),l=u.ease,s=u.duration}function f(i){for(var o=i/s,a=l(o),h=c.length;h>0;)c[--h].call(t,a);if(o>=1)return u.event&&u.event.end.call(t,t.__data__,e),--d.count?delete d[n]:delete t[r],1}u||(o=i.time,a=_e((function(t){var e=u.delay;if(a.t=e+o,e<=t)return h(t-e);a.c=h}),0,o),u=d[n]={tween:new A,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++d.count)}Ki.call=Z.call,Ki.empty=Z.empty,Ki.node=Z.node,Ki.size=Z.size,o.transition=function(t,e){return t&&t.transition?Ji?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=Ki,Ki.select=function(t){var e,r,n,i=this.id,o=this.namespace,a=[];t=X(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],d=-1,u=c.length;++d<u;)(n=c[d])&&(r=t.call(n,n.__data__,d,s))?("__data__"in n&&(r.__data__=n.__data__),io(r,d,o,i,n[o][i]),e.push(r)):e.push(null)}return Xi(a,o,i)},Ki.selectAll=function(t){var e,r,n,i,o,a=this.id,s=this.namespace,l=[];t=J(t);for(var c=-1,d=this.length;++c<d;)for(var u=this[c],h=-1,f=u.length;++h<f;)if(n=u[h]){o=n[s][a],r=t.call(n,n.__data__,h,c),l.push(e=[]);for(var p=-1,m=r.length;++p<m;)(i=r[p])&&io(i,p,s,a,o),e.push(i)}return Xi(l,s,a)},Ki.filter=function(t){var e,r,n=[];"function"!=typeof t&&(t=ut(t));for(var i=0,o=this.length;i<o;i++){n.push(e=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(r=a[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return Xi(n,this.namespace,this.id)},Ki.tween=function(t,e){var r=this.id,n=this.namespace;return arguments.length<2?this.node()[n][r].tween.get(t):ft(this,null==e?function(e){e[n][r].tween.remove(t)}:function(i){i[n][r].tween.set(t,e)})},Ki.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?Ur:wr,n=o.ns.qualify(t);function i(){this.removeAttribute(n)}function a(){this.removeAttributeNS(n.space,n.local)}return eo(this,"attr."+t,e,n.local?function(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(n.space,n.local);return i!==t&&(e=r(i,t),function(t){this.setAttributeNS(n.space,n.local,e(t))})})}:function(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(n);return i!==t&&(e=r(i,t),function(t){this.setAttribute(n,e(t))})})})},Ki.attrTween=function(t,e){var r=o.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},Ki.style=function(t,e,r){var n=arguments.length;if(n<3){if("string"!=typeof t){for(r in n<2&&(e=""),t)this.style(r,t[r],e);return this}r=""}function i(){this.style.removeProperty(t)}return eo(this,"style."+t,e,(function(e){return null==e?i:(e+="",function(){var n,i=d(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(n=wr(i,e),function(e){this.style.setProperty(t,n(e),r)})})}))},Ki.styleTween=function(t,e,r){return arguments.length<3&&(r=""),this.tween("style."+t,(function(n,i){var o=e.call(this,n,i,d(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),r)}}))},Ki.text=function(t){return eo(this,"text",t,ro)},Ki.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Ki.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),ft(this,(function(n){n[r][e].ease=t})))},Ki.delay=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].delay:ft(this,"function"==typeof t?function(n,i,o){n[r][e].delay=+t.call(n,n.__data__,i,o)}:(t=+t,function(n){n[r][e].delay=t}))},Ki.duration=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].duration:ft(this,"function"==typeof t?function(n,i,o){n[r][e].duration=Math.max(1,t.call(n,n.__data__,i,o))}:(t=Math.max(1,t),function(n){n[r][e].duration=t}))},Ki.each=function(t,e){var r=this.id,n=this.namespace;if(arguments.length<2){var i=Qi,a=Ji;try{Ji=r,ft(this,(function(e,i,o){Qi=e[n][r],t.call(e,e.__data__,i,o)}))}finally{Qi=i,Ji=a}}else ft(this,(function(i){var a=i[n][r];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)}));return this},Ki.transition=function(){for(var t,e,r,n=this.id,i=++to,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var c,d=0,u=(c=this[s]).length;d<u;d++)(e=c[d])&&io(e,d,o,i,{time:(r=e[o][n]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),t.push(e)}return Xi(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),r=oo,n=6,i=6,a=3,l=[10],c=null;function d(s){s.each((function(){var s,d=o.select(this),u=this.__chart__||e,h=this.__chart__=e.copy(),f=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==t?h.tickFormat?h.tickFormat.apply(h,l):D:t,m=d.selectAll(".tick").data(f,h),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Mt),b=o.transition(m.exit()).style("opacity",Mt).remove(),v=o.transition(m.order()).style("opacity",1),y=Math.max(n,0)+a,x=Un(h),w=d.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),o.transition(w));g.append("line"),g.append("text");var k,A,T,M,S=g.select("line"),E=v.select("line"),C=m.select("text").text(p),z=g.select("text"),L=v.select("text"),O="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(s=so,k="x",T="y",A="x2",M="y2",C.attr("dy",O<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+O*i+"V0H"+x[1]+"V"+O*i)):(s=lo,k="y",T="x",A="y2",M="x2",C.attr("dy",".32em").style("text-anchor",O<0?"end":"start"),_.attr("d","M"+O*i+","+x[0]+"H0V"+x[1]+"H"+O*i)),S.attr(M,O*n),z.attr(T,O*y),E.attr(A,0).attr(M,O*n),L.attr(k,0).attr(T,O*y),h.rangeBand){var I=h,F=I.rangeBand()/2;u=h=function(t){return I(t)+F}}else u.rangeBand?u=h:b.call(s,h,u);g.call(s,u,h),v.call(s,h,h)}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.orient=function(t){return arguments.length?(r=t in ao?t+"":oo,d):r},d.ticks=function(){return arguments.length?(l=s(arguments),d):l},d.tickValues=function(t){return arguments.length?(c=t,d):c},d.tickFormat=function(e){return arguments.length?(t=e,d):t},d.tickSize=function(t){var e=arguments.length;return e?(n=+t,i=+arguments[e-1],d):n},d.innerTickSize=function(t){return arguments.length?(n=+t,d):n},d.outerTickSize=function(t){return arguments.length?(i=+t,d):i},d.tickPadding=function(t){return arguments.length?(a=+t,d):a},d.tickSubdivide=function(){return arguments.length&&d},d};var oo="bottom",ao={top:1,right:1,bottom:1,left:1};function so(t,e,r){t.attr("transform",(function(t){var n=e(t);return"translate("+(isFinite(n)?n:r(t))+",0)"}))}function lo(t,e,r){t.attr("transform",(function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:r(t))+")"}))}o.svg.brush=function(){var t,e,r=V(h,"brushstart","brush","brushend"),n=null,i=null,a=[0,0],s=[0,0],l=!0,c=!0,u=uo[0];function h(t){t.each((function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(u,D);r.exit().remove(),r.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return co[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var a,s=o.transition(t),l=o.transition(e);n&&(a=Un(n),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),i&&(a=Un(i),l.attr("y",a[0]).attr("height",a[1]-a[0]),m(s)),f(s)}))}function f(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+a[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"}))}function p(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function m(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var u,g,b=this,v=o.select(o.event.target),y=r.of(b,arguments),x=o.select(b),w=v.datum(),_=!/^(n|s)$/.test(w)&&n,k=!/^(e|w)$/.test(w)&&i,A=v.classed("extent"),T=_t(b),M=o.mouse(b),S=o.select(d(b)).on("keydown.brush",(function(){32==o.event.keyCode&&(A||(u=null,M[0]-=a[1],M[1]-=s[1],A=2),B())})).on("keyup.brush",(function(){32==o.event.keyCode&&2==A&&(M[0]+=a[1],M[1]+=s[1],A=0,B())}));if(o.event.changedTouches?S.on("touchmove.brush",z).on("touchend.brush",O):S.on("mousemove.brush",z).on("mouseup.brush",O),x.interrupt().selectAll("*").interrupt(),A)M[0]=a[0]-M[0],M[1]=s[0]-M[1];else if(w){var E=+/w$/.test(w),C=+/^n/.test(w);g=[a[1-E]-M[0],s[1-C]-M[1]],M[0]=a[E],M[1]=s[C]}else o.event.altKey&&(u=M.slice());function z(){var t=o.mouse(b),e=!1;g&&(t[0]+=g[0],t[1]+=g[1]),A||(o.event.altKey?(u||(u=[(a[0]+a[1])/2,(s[0]+s[1])/2]),M[0]=a[+(t[0]<u[0])],M[1]=s[+(t[1]<u[1])]):u=null),_&&L(t,n,0)&&(p(x),e=!0),k&&L(t,i,1)&&(m(x),e=!0),e&&(f(x),y({type:"brush",mode:A?"move":"resize"}))}function L(r,n,i){var o,d,h=Un(n),f=h[0],p=h[1],m=M[i],g=i?s:a,b=g[1]-g[0];if(A&&(f-=m,p-=b+m),o=(i?c:l)?Math.max(f,Math.min(p,r[i])):r[i],A?d=(o+=m)+b:(u&&(m=Math.max(f,Math.min(p,2*u[i]-o))),m<o?(d=o,o=m):d=m),g[0]!=o||g[1]!=d)return i?e=null:t=null,g[0]=o,g[1]=d,!0}function O(){z(),x.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),y({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),z()}return h.event=function(n){n.each((function(){var n=r.of(this,arguments),i={x:a,y:s,i:t,j:e},l=this.__chart__||i;this.__chart__=i,Ji?o.select(this).transition().each("start.brush",(function(){t=l.i,e=l.j,a=l.x,s=l.y,n({type:"brushstart"})})).tween("brush:brush",(function(){var r=_r(a,i.x),o=_r(s,i.y);return t=e=null,function(t){a=i.x=r(t),s=i.y=o(t),n({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})})):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))}))},h.x=function(t){return arguments.length?(u=uo[!(n=t)<<1|!i],h):n},h.y=function(t){return arguments.length?(u=uo[!n<<1|!(i=t)],h):i},h.clamp=function(t){return arguments.length?(n&&i?(l=!!t[0],c=!!t[1]):n?l=!!t:i&&(c=!!t),h):n&&i?[l,c]:n?l:i?c:null},h.extent=function(r){var o,l,c,d,u;return arguments.length?(n&&(o=r[0],l=r[1],i&&(o=o[0],l=l[0]),t=[o,l],n.invert&&(o=n(o),l=n(l)),l<o&&(u=o,o=l,l=u),o==a[0]&&l==a[1]||(a=[o,l])),i&&(c=r[0],d=r[1],n&&(c=c[1],d=d[1]),e=[c,d],i.invert&&(c=i(c),d=i(d)),d<c&&(u=c,c=d,d=u),c==s[0]&&d==s[1]||(s=[c,d])),h):(n&&(t?(o=t[0],l=t[1]):(o=a[0],l=a[1],n.invert&&(o=n.invert(o),l=n.invert(l)),l<o&&(u=o,o=l,l=u))),i&&(e?(c=e[0],d=e[1]):(c=s[0],d=s[1],i.invert&&(c=i.invert(c),d=i.invert(d)),d<c&&(u=c,c=d,d=u))),n&&i?[[o,c],[l,d]]:n?[o,l]:i&&[c,d])},h.clear=function(){return h.empty()||(a=[0,0],s=[0,0],t=e=null),h},h.empty=function(){return!!n&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(h,r,"on")};var co={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},uo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ho(t){return JSON.parse(t.responseText)}function fo(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}o.text=me((function(t){return t.responseText})),o.json=function(t,e){return ge(t,"application/json",ho,e)},o.html=function(t,e){return ge(t,"text/html",fo,e)},o.xml=me((function(t){return t.responseXML})),void 0===(i="function"==typeof(n=o)?n.call(e,r,e,t):n)||(t.exports=i)}).apply(self)},28104:(t,e,r)=>{"use strict";var n=r(69352).getAxisGroup;t.exports=function(t,e,r,i,o){var a=e.orientation,s=e[{v:"x",h:"y"}[a]+"axis"],l=n(r,s)+a,c=r._alignmentOpts||{},d=i("alignmentgroup"),u=c[l];u||(u=c[l]={});var h=u[d];h?h.traces.push(e):h=u[d]={traces:[e],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var f=i("offsetgroup")||"",p=h.offsetGroups,m=p[f];e._offsetIndex=0,("group"!==o||f)&&(m||(m=p[f]={offsetIndex:Object.keys(p).length}),e._offsetIndex=m.offsetIndex)}},28371:(t,e,r)=>{"use strict";var n=r(55334),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?n(t)*o(i(t)):t}},28397:(t,e,r)=>{"use strict";r.d(e,{A:()=>o,V:()=>a});var n=r(94825),i=(0,n.A)((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?(0,n.A)((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,r){e.setFullYear(e.getFullYear()+r*t)})):null};const o=i;var a=i.range},28558:(t,e,r)=>{"use strict";var n=r(12822),i=r(46121),o=r(92425),a=r(94461);t.exports=function(t,e){function r(r,i){return n.coerce(t,e,o,r,i)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var s,l,c=e._colorAxes;function d(t,e){return n.coerce(s,l,o.coloraxis,t,e)}for(var u in c){var h=c[u];if(h[0])s=t[u]||{},(l=i.newContainer(e,u,"coloraxis"))._name=u,a(s,l,e,d,{prefix:"",cLetter:"c"});else{for(var f=0;f<h[2].length;f++)h[2][f]();delete e._colorAxes[u]}}}},28724:(t,e,r)=>{"use strict";var n=r(12822),i=r(25059),o=r(98387),a=r(32565),s=r(677),l=r(56666),c=r(45952),d=r(82349),u=r(86277),h=r(51725),f=r(32335),p=r(46574),m=r(12261),g=r(12822).coercePattern;t.exports=function(t,e,r,b){function v(r,i){return n.coerce(t,e,o,r,i)}var y=l(t,e,b,v);if(y||(e.visible=!1),e.visible){c(t,e,b,v),v("xhoverformat"),v("yhoverformat"),v("zorder");var x=d(t,e,b,v);"group"===b.scattermode&&void 0===e.orientation&&v("orientation","v");var w=!x&&y<a.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",w),s.hasMarkers(e)&&u(t,e,r,b,v,{gradient:!0}),s.hasLines(e)&&(h(t,e,r,b,v,{backoff:!0}),f(t,e,v),v("connectgaps"),v("line.simplify")),s.hasText(e)&&(v("texttemplate"),v("texttemplatefallback"),p(t,e,b,v));var _=[];(s.hasMarkers(e)||s.hasText(e))&&(v("cliponaxis"),v("marker.maxdisplayed"),_.push("points")),v("fill",x?x.fillDflt:"none"),"none"!==e.fill&&(m(t,e,r,v,{moduleHasFillgradient:!0}),s.hasLines(e)||f(t,e,v),g(v,"fillpattern",e.fillcolor,!1));var k=(e.line||{}).color,A=(e.marker||{}).color;"tonext"!==e.fill&&"toself"!==e.fill||_.push("fills"),v("hoveron",_.join("+")||"points"),"fills"!==e.hoveron&&(v("hovertemplate"),v("hovertemplatefallback"));var T=i.getComponentMethod("errorbars","supplyDefaults");T(t,e,k||A||r,{axis:"y"}),T(t,e,k||A||r,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(e,v)}}},28741:(t,e,r)=>{"use strict";var n=r(89791).iterator,i=r(40471),o=r(85875),a=r(60812),s=r(55366),l=r(2033),c=r(93767),d=r(54295),u=Array.isArray,h=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var e,r,m,g,b,v,y,x,w,_,k=arguments[1],A=arguments[2];if(t=Object(l(t)),c(k)&&s(k),this&&this!==Array&&o(this))e=this;else{if(!k){if(i(t))return 1!==(b=t.length)?Array.apply(null,t):((g=new Array(1))[0]=t[0],g);if(u(t)){for(g=new Array(b=t.length),r=0;r<b;++r)g[r]=t[r];return g}}g=[]}if(!u(t))if(void 0!==(w=t[n])){for(y=s(w).call(t),e&&(g=new e),x=y.next(),r=0;!x.done;)_=k?h.call(k,A,x.value,r):x.value,e?(f.value=_,p(g,r,f)):g[r]=_,x=y.next(),++r;b=r}else if(d(t)){for(b=t.length,e&&(g=new e),r=0,m=0;r<b;++r)_=t[r],r+1<b&&(v=_.charCodeAt(0))>=55296&&v<=56319&&(_+=t[++r]),_=k?h.call(k,A,_,m):_,e?(f.value=_,p(g,m,f)):g[m]=_,++m;b=m}if(void 0===b)for(b=a(t.length),e&&(g=new e(b)),r=0;r<b;++r)_=k?h.call(k,A,t[r],r):t[r],e?(f.value=_,p(g,r,f)):g[r]=_;return e&&(f.value=null,g.length=b),g}},28752:(t,e,r)=>{"use strict";var n=r(87984),i=r(2033),o=Math.max;t.exports=function(t,e){var r,a,s,l=o(arguments.length,2);for(t=Object(i(t)),s=function(n){try{t[n]=e[n]}catch(t){r||(r=t)}},a=1;a<l;++a)n(e=arguments[a]).forEach(s);if(void 0!==r)throw r;return t}},28753:(t,e,r)=>{"use strict";var n=r(40471),i=r(54295),o=r(46136),a=r(45408),s=r(86898),l=r(89791).iterator;t.exports=function(t){return"function"==typeof s(t)[l]?t[l]():n(t)?new o(t):i(t)?new a(t):new o(t)}},28869:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23e54e33%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3C/svg%3E"},29182:(t,e,r)=>{"use strict";var n=r(12822),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(t,e,r,o){return t="left"===r?0:"center"===r?1:"right"===r?2:n.constrain(Math.floor(3*t),0,2),e="bottom"===o?0:"middle"===o?1:"top"===o?2:n.constrain(Math.floor(3*e),0,2),i[e][t]}},29192:t=>{t.exports=function(t,e,r,n,i,o,a){var s=1/(r-e),l=1/(i-n),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*l,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}},29419:(t,e,r)=>{"use strict";var n=r(87266);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},29592:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(12822),a=r(51137),s=r(40666),l=r(47388).eV,c=r(99246),d=r(21197),u=r(25853),h=o.ensureSingle;function f(t,e,r){return o.ensureSingle(t,e,r,(function(t){t.datum(r)}))}var p=d.zindexSeparator;function m(t,e,r,o,a){for(var c,u,h,f=d.traceLayerClasses,p=t._fullLayout,m=p._zindices,g=p._modules,b=[],v=[],y=0;y<m.length;y++)for(var x=m[y],w=0;w<g.length;w++){var _=(c=g[w]).name,k=i.modules[_].categories;if(k.svg){var A=c.layerName||_+"layer",T=A+(y?Number(y)+1:""),M=c.plot;h=(u=l(r,M,x))[0],r=u[1],h.length&&b.push({i:f.indexOf(A),zindex:y,className:T,plotMethod:M,cdModule:h}),k.zoomScale&&v.push("."+T)}}b.sort((function(t,e){return(t.zindex||0)-(e.zindex||0)||t.i-e.i}));var S=e.plot.selectAll("g.mlayer").data(b,(function(t){return t.className}));if(S.enter().append("g").attr("class",(function(t){return t.className})).classed("mlayer",!0).classed("rangeplot",e.isRangePlot),S.exit().remove(),S.order(),S.each((function(r){var i=n.select(this),l=r.className;r.plotMethod(t,e,r.cdModule,i,o,a),-1===d.clipOnAxisFalseQuery.indexOf("."+l)&&s.setClipUrl(i,e.layerClipId,t)})),p._has("scattergl")&&(c=i.getModule("scattergl"),h=l(r,c)[0],c.plot(t,e,h)),!t._context.staticPlot&&(e._hasClipOnAxisFalse&&(e.clipOnAxisFalseTraces=e.plot.selectAll(d.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),v.length)){var E=e.plot.selectAll(v.join(",")).selectAll(".trace");e.zoomScalePts=E.selectAll("path.point"),e.zoomScaleTxt=E.selectAll(".textpoint")}}function g(t,e){var r=t._fullLayout,n=e.plotgroup,i=e.id,o=-1!==i.indexOf(p),a=d.layerValue2layerClass[e.xaxis.layer],s=d.layerValue2layerClass[e.yaxis.layer],l=r._hasOnlyLargeSploms,u=r._zindices.length>1,m=e.mainplotinfo;if(!e.mainplot||u)if(l)e.xlines=h(n,"path","xlines-above"),e.ylines=h(n,"path","ylines-above"),e.xaxislayer=h(n,"g","xaxislayer-above"),e.yaxislayer=h(n,"g","yaxislayer-above");else{if(!o){var g=h(n,"g","layer-subplot");e.shapelayer=h(g,"g","shapelayer"),e.imagelayer=h(g,"g","imagelayer"),m&&u?(e.minorGridlayer=m.minorGridlayer,e.gridlayer=m.gridlayer,e.zerolinelayer=m.zerolinelayer):(e.minorGridlayer=h(n,"g","minor-gridlayer"),e.gridlayer=h(n,"g","gridlayer"),e.zerolinelayer=h(n,"g","zerolinelayer"));var b=h(n,"g","layer-between");e.shapelayerBetween=h(b,"g","shapelayer"),e.imagelayerBetween=h(b,"g","imagelayer"),h(n,"path","xlines-below"),h(n,"path","ylines-below"),e.overlinesBelow=h(n,"g","overlines-below"),h(n,"g","xaxislayer-below"),h(n,"g","yaxislayer-below"),e.overaxesBelow=h(n,"g","overaxes-below")}e.overplot=h(n,"g","overplot"),e.plot=h(e.overplot,"g",i),e.zerolinelayerAbove=m&&u?m.zerolinelayerAbove:h(n,"g","zerolinelayer-above"),o||(e.xlines=h(n,"path","xlines-above"),e.ylines=h(n,"path","ylines-above"),e.overlinesAbove=h(n,"g","overlines-above"),h(n,"g","xaxislayer-above"),h(n,"g","yaxislayer-above"),e.overaxesAbove=h(n,"g","overaxes-above"),e.xlines=n.select(".xlines-"+a),e.ylines=n.select(".ylines-"+s),e.xaxislayer=n.select(".xaxislayer-"+a),e.yaxislayer=n.select(".yaxislayer-"+s))}else{var v=m.plotgroup,y=i+"-x",x=i+"-y";e.minorGridlayer=m.minorGridlayer,e.gridlayer=m.gridlayer,e.zerolinelayer=m.zerolinelayer,e.zerolinelayerAbove=m.zerolinelayerAbove,h(m.overlinesBelow,"path",y),h(m.overlinesBelow,"path",x),h(m.overaxesBelow,"g",y),h(m.overaxesBelow,"g",x),e.plot=h(m.overplot,"g",i),h(m.overlinesAbove,"path",y),h(m.overlinesAbove,"path",x),h(m.overaxesAbove,"g",y),h(m.overaxesAbove,"g",x),e.xlines=v.select(".overlines-"+a).select("."+y),e.ylines=v.select(".overlines-"+s).select("."+x),e.xaxislayer=v.select(".overaxes-"+a).select("."+y),e.yaxislayer=v.select(".overaxes-"+s).select("."+x)}o||(l||(f(e.minorGridlayer,"g",e.xaxis._id),f(e.minorGridlayer,"g",e.yaxis._id),e.minorGridlayer.selectAll("g").map((function(t){return t[0]})).sort(c.idSort),f(e.gridlayer,"g",e.xaxis._id),f(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map((function(t){return t[0]})).sort(c.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0))}function b(t,e){if(t){var r={};for(var i in t.each((function(t){var i=t[0];n.select(this).remove(),v(i,e),r[i]=!0})),e._plots)for(var o=e._plots[i].overlays||[],a=0;a<o.length;a++){var s=o[a];r[s.id]&&s.plot.selectAll(".trace").remove()}}}function v(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}e.name="cartesian",e.attr=["xaxis","yaxis"],e.idRoot=["x","y"],e.idRegex=d.idRegex,e.attrRegex=d.attrRegex,e.attributes=r(36187),e.layoutAttributes=r(86130),e.supplyLayoutDefaults=r(36741),e.transitionAxes=r(88313),e.finalizeSubplots=function(t,e){var r,n,i,a=e._subplots,s=a.xaxis,l=a.yaxis,u=a.cartesian,h=u,f={},p={};for(r=0;r<h.length;r++){var m=h[r].split("y");f[m[0]]=1,p["y"+m[1]]=1}for(r=0;r<s.length;r++)f[n=s[r]]||(i=(t[c.id2name(n)]||{}).anchor,d.idRegex.y.test(i)||(i="y"),u.push(n+i),h.push(n+i),p[i]||(p[i]=1,o.pushUnique(l,i)));for(r=0;r<l.length;r++)p[i=l[r]]||(n=(t[c.id2name(i)]||{}).anchor,d.idRegex.x.test(n)||(n="x"),u.push(n+i),h.push(n+i),f[n]||(f[n]=1,o.pushUnique(s,n)));if(!h.length){for(var g in n="",i="",t)d.attrRegex.test(g)&&("x"===g.charAt(0)?(!n||+g.substr(5)<+n.substr(5))&&(n=g):(!i||+g.substr(5)<+i.substr(5))&&(i=g));n=n?c.name2id(n):"x",i=i?c.name2id(i):"y",s.push(n),l.push(i),u.push(n+i)}},e.plot=function(t,e,r,n){var i,a=t._fullLayout,s=a._subplots.cartesian,l=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<l.length;i++)e.push(i);for(var c=a._zindices,d=0;d<c.length;d++){var u=c[d];for(i=0;i<s.length;i++){var h=s[i],f=a._plots[h];if(d>0){var g=f.id;if(-1!==g.indexOf(p))continue;g+=p+(d+1),f=o.extendFlat({},f,{id:g,plot:a._cartesianlayer.selectAll(".subplot").select("."+g)})}for(var b,v=[],y=0;y<l.length;y++){var x=l[y],w=x[0].trace;u===(w.zorder||0)&&w.xaxis+w.yaxis===h&&((-1!==e.indexOf(w.index)||w.carpet)&&(b&&b[0].trace.xaxis+b[0].trace.yaxis===h&&-1!==["tonextx","tonexty","tonext"].indexOf(w.fill)&&-1===v.indexOf(b)&&v.push(b),v.push(x)),b=x)}m(t,f,v,r,n)}}},e.clean=function(t,e,r,n){var i,o,a,s=n._plots||{},l=e._plots||{},d=n._subplots||{};if(n._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(a in s)(i=s[a]).plotgroup&&i.plotgroup.remove();var u=n._has&&n._has("gl"),h=e._has&&e._has("gl");if(u&&!h)for(a in s)(i=s[a])._scene&&i._scene.destroy();if(d.xaxis&&d.yaxis){var f=c.listIds({_fullLayout:n});for(o=0;o<f.length;o++){var m=f[o];e[c.id2name(m)]||n._infolayer.selectAll(".g-"+m+"title").remove()}}var g=n._has&&n._has("cartesian"),y=e._has&&e._has("cartesian");if(g&&!y)b(n._cartesianlayer.selectAll(".subplot"),n),n._defs.selectAll(".axesclip").remove(),delete n._axisConstraintGroups,delete n._axisMatchGroups;else if(d.cartesian)for(o=0;o<d.cartesian.length;o++){var x=d.cartesian[o];if(-1===x.indexOf(p)&&!l[x]){var w="."+x+",."+x+"-x,."+x+"-y";n._cartesianlayer.selectAll(w).remove(),v(x,n)}}},e.drawFramework=function(t){var e,r=t._fullLayout,i=t.calcdata,a={};for(e=0;e<i.length;e++){var s=i[e][0],l=s.trace.zorder||0;a[l]||(a[l]=[]),a[l].push(s)}var c=Object.keys(a).map(Number).sort(o.sorterAsc);c.length||(c=[0]),r._zindices=c;var d=function(t){var e,r,n,i,o,a,s=t._fullLayout,l=s._zindices.length,c=s._subplots.cartesian,d=c.length,u=[],h=[];for(e=0;e<d;e++){n=c[e],o=(i=s._plots[n]).xaxis,a=i.yaxis;var f=o._mainAxis,m=a._mainAxis,g=f._id+m._id,b=s._plots[g];i.overlays=[],g!==n&&b?(i.mainplot=g,i.mainplotinfo=b,h.push(n)):(i.mainplot=void 0,i.mainplotinfo=void 0,u.push(n))}for(e=0;e<h.length;e++)n=h[e],(i=s._plots[n]).mainplotinfo.overlays.push(i);var v=u.concat(h),y=[];for(e=0;e<d;e++){n=v[e],o=(i=s._plots[n]).xaxis,a=i.yaxis;for(var x=[],w=1;w<=l;w++){var _="";for(w>1&&(_+=p+w),x.push(n+_),r=0;r<i.overlays.length;r++)x.push(i.overlays[r].id+_)}x=x.concat([o.layer,a.layer,o.overlaying||"",a.overlaying||""]),y.push(x)}return y}(t),u=d.length,f=[];for(e=0;e<u;e++)f[e]=d[e].slice();for(var m=1;m<c.length;m++){var v=[];for(e=0;e<u;e++)v[e]=d[e].slice(),v[e][0]+=p+(m+1);f=f.concat(v)}var y=r._cartesianlayer.selectAll(".subplot").data(f,String);y.enter().append("g").attr("class",(function(t){return"subplot "+t[0]})),y.order(),y.exit().call(b,r),y.each((function(e){var i=e[0],a=i.indexOf(p),s=-1!==a,l=s?i.slice(0,a):i,c=r._plots[i];c||(c=o.extendFlat({},r._plots[l]))&&(c.id=i,r._plots[i]=c,r._subplots.cartesian.push(i)),c&&(c.plotgroup=n.select(this),g(t,c),s||(c.draglayer=h(r._draggers,"g",i)))}))},e.rangePlot=function(t,e,r){g(t,e),m(t,e,r),a.style(t)},e.toSVG=function(t){var e=t._fullLayout._glimages,r=n.select(t).selectAll(".svg-container");r.filter((function(t,e){return e===r.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var t=this,r=t.toDataURL("image/png");e.append("svg:image").attr({xmlns:u.svg,"xlink:href":r,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}))},e.updateFx=r(30977).updateFx},29648:(t,e,r)=>{"use strict";var n=r(27941),i=r(18106),o=r(51137),a=r(25059),s=r(75815),l=r(19846),c=r(12822),d=c.strTranslate,u=r(98260).extendFlat,h=r(76292),f=r(40666),p=r(17499),m=r(6883),g=r(80394),b=r(42226).flipScale,v=r(91200),y=r(52869),x=r(86130),w=r(89701),_=w.LINE_SPACING,k=w.FROM_TL,A=w.FROM_BR,T=r(30733).cn;t.exports={draw:function(t){var e=t._fullLayout._infolayer.selectAll("g."+T.colorbar).data(function(t){var e,r,n,i,o=t._fullLayout,a=t.calcdata,s=[];function l(t){return u(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof i.calc?i.calc(t,n,e):(e._fillgradient=r.reversescale?b(r.colorscale):r.colorscale,e._zrange=[r[i.min],r[i.max]])}for(var d=0;d<a.length;d++){var h=a[d];if((n=h[0].trace)._module){var f=n._module.colorbar;if(!0===n.visible&&f)for(var p=Array.isArray(f),m=p?f:[f],g=0;g<m.length;g++){var v=(i=m[g]).container;(r=v?n[v]:n)&&r.showscale&&((e=l(r.colorbar))._id="cb"+n.uid+(p&&v?"-"+v:""),e._traceIndex=n.index,e._propPrefix=(v?v+".":"")+"colorbar.",e._meta=n._meta,c(),s.push(e))}}}for(var y in o._colorAxes)if((r=o[y]).showscale){var x=o._colorAxes[y];(e=l(r.colorbar))._id="cb"+y,e._propPrefix=y+".colorbar.",e._meta=o._meta,i={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(n=x[1],i.calc=n._module.colorbar.calc),c(),s.push(e)}return s}(t),(function(t){return t._id}));e.enter().append("g").attr("class",(function(t){return t._id})).classed(T.colorbar,!0),e.each((function(e){var r=n.select(this);c.ensureSingle(r,"rect",T.cbbg),c.ensureSingle(r,"g",T.cbfills),c.ensureSingle(r,"g",T.cblines),c.ensureSingle(r,"g",T.cbaxis,(function(t){t.classed(T.crisp,!0)})),c.ensureSingle(r,"g",T.cbtitleunshift,(function(t){t.append("g").classed(T.cbtitle,!0)})),c.ensureSingle(r,"rect",T.cboutline);var b=function(t,e,r){var a="v"===e.orientation,l=e.len,h=e.lenmode,b=e.thickness,w=e.thicknessmode,M=e.outlinewidth,S=e.borderwidth,E=e.bgcolor,C=e.xanchor,z=e.yanchor,L=e.xpad,O=e.ypad,D=e.x,I=a?e.y:1-e.y,F="paper"===e.yref,R="paper"===e.xref,P=r._fullLayout,j=P._size,N=e._fillcolor,B=e._line,U=e.title,V=U.side,G=e._zrange||n.extent(("function"==typeof N?N:B.color).domain()),H="function"==typeof B.color?B.color:function(){return B.color},W="function"==typeof N?N:function(){return N},q=e._levels,$=function(t,e,r){var n,i,o=e._levels,a=[],s=[],l=o.end+o.size/100,c=o.size,d=1.001*r[0]-.001*r[1],u=1.001*r[1]-.001*r[0];for(i=0;i<1e5&&(n=o.start+i*c,!(c>0?n>=l:n<=l));i++)n>d&&n<u&&a.push(n);if(e._fillgradient)s=[0];else if("function"==typeof e._fillcolor){var h=e._filllevels;if(h)for(l=h.end+h.size/100,c=h.size,i=0;i<1e5&&(n=h.start+i*c,!(c>0?n>=l:n<=l));i++)n>r[0]&&n<r[1]&&s.push(n);else(s=a.map((function(t){return t-o.size/2}))).push(s[s.length-1]+o.size)}else e._fillcolor&&"string"==typeof e._fillcolor&&(s=[0]);return o.size<0&&(a.reverse(),s.reverse()),{line:a,fill:s}}(0,e,G),Y=$.fill,Z=$.line,X=Math.round(b*("fraction"===w?a?j.w:j.h:1)),J=X/(a?j.w:j.h),Q=Math.round(l*("fraction"===h?a?j.h:j.w:1)),K=Q/(a?j.h:j.w),tt=R?j.w:r._fullLayout.width,et=F?j.h:r._fullLayout.height,rt=Math.round(a?D*tt+L:I*et+O),nt={center:.5,right:1}[C]||0,it={top:1,middle:.5}[z]||0,ot=a?D-nt*J:I-it*J,at=a?I-it*K:D-nt*K,st=Math.round(a?et*(1-at):tt*at);e._lenFrac=K,e._thickFrac=J,e._uFrac=ot,e._vFrac=at;var lt=e._axis=function(t,e,r){var n=t._fullLayout,i="v"===e.orientation,o={type:"linear",range:r,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,labelalias:e.labelalias,ticklabelposition:e.ticklabelposition,ticklabeloverflow:e.ticklabeloverflow,ticklabelstep:e.ticklabelstep,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:i?"right":"bottom",position:1},a=i?"y":"x",s={type:"linear",_id:a+e._id},l={letter:a,font:n.font,noAutotickangles:"y"===a,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:n.calendar};function d(t,e){return c.coerce(o,s,x,t,e)}return v(o,s,d,l,n),y(o,s,d,l),s}(r,e,G);lt.position=J+(a?D+L/j.w:I+O/j.h);var ct=-1!==["top","bottom"].indexOf(V);if(a&&ct&&(lt.title.side=V,lt.titlex=D+L/j.w,lt.titley=at+("top"===U.side?K-O/j.h:O/j.h)),a||ct||(lt.title.side=V,lt.titley=I+O/j.h,lt.titlex=at+L/j.w),B.color&&"auto"===e.tickmode){lt.tickmode="linear",lt.tick0=q.start;var dt=q.size,ut=c.constrain(Q/50,4,15)+1,ht=(G[1]-G[0])/((e.nticks||ut)*dt);if(ht>1){var ft=Math.pow(10,Math.floor(Math.log(ht)/Math.LN10));dt*=ft*c.roundUp(ht/ft,[2,5,10]),(Math.abs(q.start)/q.size+1e-6)%1<2e-6&&(lt.tick0=0)}lt.dtick=dt}lt.domain=a?[at+O/j.h,at+K-O/j.h]:[at+L/j.w,at+K-L/j.w],lt.setScale(),t.attr("transform",d(Math.round(j.l),Math.round(j.t)));var pt,mt=t.select("."+T.cbtitleunshift).attr("transform",d(-Math.round(j.l),-Math.round(j.t))),gt=lt.ticklabelposition,bt=lt.title.font.size,vt=t.select("."+T.cbaxis),yt=0,xt=0;function wt(n,i){var o={propContainer:lt,propName:e._propPrefix+"title.text",traceIndex:e._traceIndex,_meta:e._meta,placeholder:P._dfltTitle.colorbar,containerGroup:t.select("."+T.cbtitle)},a="h"===n.charAt(0)?n.substr(1):"h"+n;t.selectAll("."+a+",."+a+"-math-group").remove(),m.draw(r,n,u(o,i||{}))}return c.syncOrAsync([o.previousPromises,function(){var t,e;(a&&ct||!a&&!ct)&&("top"===V&&(t=L+j.l+tt*D,e=O+j.t+et*(1-at-K)+3+.75*bt),"bottom"===V&&(t=L+j.l+tt*D,e=O+j.t+et*(1-at)-3-.25*bt),"right"===V&&(e=O+j.t+et*I+3+.75*bt,t=L+j.l+tt*at),wt(lt._id+"title",{attributes:{x:t,y:e,"text-anchor":a?"start":"middle"}}))},function(){if(!a&&!ct||a&&ct){var o,l=t.select("."+T.cbtitle),u=l.select("text"),h=[-M/2,M/2],p=l.select(".h"+lt._id+"title-math-group").node(),m=15.6;if(u.node()&&(m=parseInt(u.node().style.fontSize,10)*_),p?(o=f.bBox(p),xt=o.width,(yt=o.height)>m&&(h[1]-=(yt-m)/2)):u.node()&&!u.classed(T.jsPlaceholder)&&(o=f.bBox(u.node()),xt=o.width,yt=o.height),a){if(yt){if(yt+=5,"top"===V)lt.domain[1]-=yt/j.h,h[1]*=-1;else{lt.domain[0]+=yt/j.h;var b=g.lineCount(u);h[1]+=(1-b)*m}l.attr("transform",d(h[0],h[1])),lt.setScale()}}else xt&&("right"===V&&(lt.domain[0]+=(xt+bt/2)/j.w),l.attr("transform",d(h[0],h[1])),lt.setScale())}t.selectAll("."+T.cbfills+",."+T.cblines).attr("transform",a?d(0,Math.round(j.h*(1-lt.domain[1]))):d(Math.round(j.w*lt.domain[0]),0)),vt.attr("transform",a?d(0,Math.round(-j.t)):d(Math.round(-j.l),0));var v=t.select("."+T.cbfills).selectAll("rect."+T.cbfill).attr("style","").data(Y);v.enter().append("rect").classed(T.cbfill,!0).attr("style",""),v.exit().remove();var y=G.map(lt.c2p).map(Math.round).sort((function(t,e){return t-e}));v.each((function(t,o){var s=[0===o?G[0]:(Y[o]+Y[o-1])/2,o===Y.length-1?G[1]:(Y[o]+Y[o+1])/2].map(lt.c2p).map(Math.round);a&&(s[1]=c.constrain(s[1]+(s[1]>s[0])?1:-1,y[0],y[1]));var l=n.select(this).attr(a?"x":"y",rt).attr(a?"y":"x",n.min(s)).attr(a?"width":"height",Math.max(X,2)).attr(a?"height":"width",Math.max(n.max(s)-n.min(s),2));if(e._fillgradient)f.gradient(l,r,e._id,a?"vertical":"horizontalreversed",e._fillgradient,"fill");else{var d=W(t).replace("e-","");l.attr("fill",i(d).toHexString())}}));var x=t.select("."+T.cblines).selectAll("path."+T.cbline).data(B.color&&B.width?Z:[]);x.enter().append("path").classed(T.cbline,!0),x.exit().remove(),x.each((function(t){var e=rt,r=Math.round(lt.c2p(t))+B.width/2%1;n.select(this).attr("d","M"+(a?e+","+r:r+","+e)+(a?"h":"v")+X).call(f.lineGroupStyle,B.width,H(t),B.dash)})),vt.selectAll("g."+lt._id+"tick,path").remove();var w=rt+X+(M||0)/2-("outside"===e.ticks?1:0),k=s.calcTicks(lt),A=s.getTickSigns(lt)[2];return s.drawTicks(r,lt,{vals:"inside"===lt.ticks?s.clipEnds(lt,k):k,layer:vt,path:s.makeTickPath(lt,w,A),transFn:s.makeTransTickFn(lt)}),s.drawLabels(r,lt,{vals:k,layer:vt,transFn:s.makeTransTickLabelFn(lt),labelFns:s.makeLabelFns(lt,w)})},function(){if(a&&!ct||!a&&ct){var t,i,o=lt.position||0,s=lt._offset+lt._length/2;if("right"===V)i=s,t=j.l+tt*o+10+bt*(lt.showticklabels?1:.5);else if(t=s,"bottom"===V&&(i=j.t+et*o+10+(-1===gt.indexOf("inside")?lt.tickfont.size:0)+("inside"!==lt.ticks&&e.ticklen||0)),"top"===V){var l=U.text.split("<br>").length;i=j.t+et*o+10-X-_*bt*l}wt((a?"h":"v")+lt._id+"title",{avoid:{selection:n.select(r).selectAll("g."+lt._id+"tick"),side:V,offsetTop:a?0:j.t,offsetLeft:a?j.l:0,maxShift:a?P.width:P.height},attributes:{x:t,y:i,"text-anchor":"middle"},transform:{rotate:a?-90:0,offset:0}})}},o.previousPromises,function(){var n,s=X+M/2;-1===gt.indexOf("inside")&&(n=f.bBox(vt.node()),s+=a?n.width:n.height),pt=mt.select("text");var c=0,u=a&&"top"===V,m=!a&&"right"===V,g=0;if(pt.node()&&!pt.classed(T.jsPlaceholder)){var v,y=mt.select(".h"+lt._id+"title-math-group").node();y&&(a&&ct||!a&&!ct)?(c=(n=f.bBox(y)).width,v=n.height):(c=(n=f.bBox(mt.node())).right-j.l-(a?rt:st),v=n.bottom-j.t-(a?st:rt),a||"top"!==V||(s+=n.height,g=n.height)),m&&(pt.attr("transform",d(c/2+bt/2,0)),c*=2),s=Math.max(s,a?c:v)}var x=2*(a?L:O)+s+S+M/2,_=0;!a&&U.text&&"bottom"===z&&I<=0&&(x+=_=x/2,g+=_),P._hColorbarMoveTitle=_,P._hColorbarMoveCBTitle=g;var N=S+M,B=(a?rt:st)-N/2-(a?L:0),G=(a?st:rt)-(a?Q:O+g-_);t.select("."+T.cbbg).attr("x",B).attr("y",G).attr(a?"width":"height",Math.max(x-_,2)).attr(a?"height":"width",Math.max(Q+N,2)).call(p.fill,E).call(p.stroke,e.bordercolor).style("stroke-width",S);var H=m?Math.max(c-10,0):0;t.selectAll("."+T.cboutline).attr("x",(a?rt:st+L)+H).attr("y",(a?st+O-Q:rt)+(u?yt:0)).attr(a?"width":"height",Math.max(X,2)).attr(a?"height":"width",Math.max(Q-(a?2*O+yt:2*L+H),2)).call(p.stroke,e.outlinecolor).style({fill:"none","stroke-width":M});var W=a?nt*x:0,q=a?0:(1-it)*x-g;if(W=R?j.l-W:-W,q=F?j.t-q:-q,t.attr("transform",d(W,q)),!a&&(S||i(E).getAlpha()&&!i.equals(P.paper_bgcolor,E))){var $=vt.selectAll("text"),Y=$[0].length,Z=t.select("."+T.cbbg).node(),J=f.bBox(Z),K=f.getTranslate(t);$.each((function(t,e){var r=Y-1;if(0===e||e===r){var n,i=f.bBox(this),o=f.getTranslate(this);if(e===r){var a=i.right+o.x;(n=J.right+K.x+st-S-2+D-a)>0&&(n=0)}else if(0===e){var s=i.left+o.x;(n=J.left+K.x+st+S+2-s)<0&&(n=0)}n&&(Y<3?this.setAttribute("transform","translate("+n+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}}))}var tt={},et=k[C],ot=A[C],at=k[z],dt=A[z],ut=x-X;a?("pixels"===h?(tt.y=I,tt.t=Q*at,tt.b=Q*dt):(tt.t=tt.b=0,tt.yt=I+l*at,tt.yb=I-l*dt),"pixels"===w?(tt.x=D,tt.l=x*et,tt.r=x*ot):(tt.l=ut*et,tt.r=ut*ot,tt.xl=D-b*et,tt.xr=D+b*ot)):("pixels"===h?(tt.x=D,tt.l=Q*et,tt.r=Q*ot):(tt.l=tt.r=0,tt.xl=D+l*et,tt.xr=D-l*ot),"pixels"===w?(tt.y=1-I,tt.t=x*at,tt.b=x*dt):(tt.t=ut*at,tt.b=ut*dt,tt.yt=I-b*at,tt.yb=I+b*dt));var ht=e.y<.5?"b":"t",ft=e.x<.5?"l":"r";r._fullLayout._reservedMargin[e._id]={};var xt={r:P.width-B-W,l:B+tt.r,b:P.height-G-q,t:G+tt.b};R&&F?o.autoMargin(r,e._id,tt):R?r._fullLayout._reservedMargin[e._id][ht]=xt[ht]:F||a?r._fullLayout._reservedMargin[e._id][ft]=xt[ft]:r._fullLayout._reservedMargin[e._id][ht]=xt[ht]}],r)}(r,e,t);b&&b.then&&(t._promises||[]).push(b),t._context.edits.colorbarPosition&&function(t,e,r){var n,i,o,s="v"===e.orientation,c=r._fullLayout._size;l.init({element:t.node(),gd:r,prepFn:function(){n=t.attr("transform"),h(t)},moveFn:function(r,a){t.attr("transform",n+d(r,a)),i=l.align((s?e._uFrac:e._vFrac)+r/c.w,s?e._thickFrac:e._lenFrac,0,1,e.xanchor),o=l.align((s?e._vFrac:1-e._uFrac)-a/c.h,s?e._lenFrac:e._thickFrac,0,1,e.yanchor);var u=l.getCursor(i,o,e.xanchor,e.yanchor);h(t,u)},doneFn:function(){if(h(t),void 0!==i&&void 0!==o){var n={};n[e._propPrefix+"x"]=i,n[e._propPrefix+"y"]=o,void 0!==e._traceIndex?a.call("_guiRestyle",r,n,e._traceIndex):a.call("_guiRelayout",r,n)}}})}(r,e,t)})),e.exit().each((function(e){o.autoMargin(t,e._id)})).remove(),e.order()}}},30035:(t,e,r)=>{"use strict";var n=r(7370),i=r(32994).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(t){return"string"==typeof t&&(t=t.replace(o,"")),n(t)?Number(t):i}},30415:(t,e,r)=>{"use strict";var n=r(12822),i=r(28104),o=r(98387);t.exports=function(t,e){var r,a,s,l=e.scattermode;function c(t){return n.coerce(a._input,a,o,t)}if("group"===e.scattermode)for(s=0;s<t.length;s++)"scatter"===(a=t[s]).type&&(r=a._input,i(r,a,e,c,l));for(s=0;s<t.length;s++){var d=t[s];if("scatter"===d.type){var u=d.fill;if("none"!==u&&"toself"!==u&&(d.opacity=void 0,"tonexty"===u||"tonextx"===u))for(var h=s-1;h>=0;h--){var f=t[h];if("scatter"===f.type&&f.xaxis===d.xaxis&&f.yaxis===d.yaxis){f.opacity=void 0;break}}}}}},30557:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},30632:(t,e,r)=>{"use strict";var n=r(27941),i=r(79969).aL,o=r(12822),a=o.numberFormat,s=r(7370),l=o.cleanNumber,c=o.ms2DateTime,d=o.dateTime2ms,u=o.ensureNumber,h=o.isArrayOrTypedArray,f=r(32994),p=f.FP_SAFE,m=f.BADNUM,g=f.LOG_CLIP,b=f.ONEWEEK,v=f.ONEDAY,y=f.ONEHOUR,x=f.ONEMIN,w=f.ONESEC,_=r(99246),k=r(21197),A=k.HOUR_PATTERN,T=k.WEEKDAY_PATTERN;function M(t){return Math.pow(10,t)}function S(t){return null!=t}t.exports=function(t,e){e=e||{};var r=t._id||"x",f=r.charAt(0);function E(e,r){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&r&&t.range&&2===t.range.length){var n=t.range[0],i=t.range[1];return.5*(n+i-2*g*Math.abs(n-i))}return m}function C(e,r,n,i){if((i||{}).msUTC&&s(e))return+e;var a=d(e,n||t.calendar);if(a===m){if(!s(e))return m;e=+e;var l=Math.floor(10*o.mod(e+.05,1)),c=Math.round(e-l/10);a=d(new Date(c))+l/10}return a}function z(e,r,n){return c(e,r,n||t.calendar)}function L(e){return t._categories[Math.round(e)]}function O(e){if(S(e)){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push("number"==typeof e?String(e):e);var r=t._categories.length-1;return t._categoriesMap[e]=r,r}return m}function D(e){if(t._categoriesMap)return t._categoriesMap[e]}function I(t){var e=D(t);return void 0!==e?e:s(t)?+t:void 0}function F(t){return s(t)?+t:D(t)}function R(t,e,r){return n.round(r+e*t,2)}function P(t,e,r){return(t-r)/e}var j=function(e){return s(e)?R(e,t._m,t._b):m},N=function(e){return P(e,t._m,t._b)};if(t.rangebreaks){var B="y"===f;j=function(e){if(!s(e))return m;var r=t._rangebreaks.length;if(!r)return R(e,t._m,t._b);var n=B;t.range[0]>t.range[1]&&(n=!n);for(var i=n?-1:1,o=i*e,a=0,l=0;l<r;l++){var c=i*t._rangebreaks[l].min,d=i*t._rangebreaks[l].max;if(o<c)break;if(!(o>d)){a=o<(c+d)/2?l:l+1;break}a=l+1}var u=t._B[a]||0;return isFinite(u)?R(e,t._m2,u):0},N=function(e){var r=t._rangebreaks.length;if(!r)return P(e,t._m,t._b);for(var n=0,i=0;i<r&&!(e<t._rangebreaks[i].pmin);i++)e>t._rangebreaks[i].pmax&&(n=i+1);return P(e,t._m2,t._B[n])}}t.c2l="log"===t.type?E:u,t.l2c="log"===t.type?M:u,t.l2p=j,t.p2l=N,t.c2p="log"===t.type?function(t,e){return j(E(t,e))}:j,t.p2c="log"===t.type?function(t){return M(N(t))}:N,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=l,t.c2d=t.c2r=t.l2d=t.l2r=u,t.d2p=t.r2p=function(e){return t.l2p(l(e))},t.p2d=t.p2r=N,t.cleanPos=u):"log"===t.type?(t.d2r=t.d2l=function(t,e){return E(l(t),e)},t.r2d=t.r2c=function(t){return M(l(t))},t.d2c=t.r2l=l,t.c2d=t.l2r=u,t.c2r=E,t.l2d=M,t.d2p=function(e,r){return t.l2p(t.d2r(e,r))},t.p2d=function(t){return M(N(t))},t.r2p=function(e){return t.l2p(l(e))},t.p2r=N,t.cleanPos=u):"date"===t.type?(t.d2r=t.r2d=o.identity,t.d2c=t.r2c=t.d2l=t.r2l=C,t.c2d=t.c2r=t.l2d=t.l2r=z,t.d2p=t.r2p=function(e,r,n){return t.l2p(C(e,0,n))},t.p2d=t.p2r=function(t,e,r){return z(N(t),e,r)},t.cleanPos=function(e){return o.cleanDate(e,m,t.calendar)}):"category"===t.type?(t.d2c=t.d2l=O,t.r2d=t.c2d=t.l2d=L,t.d2r=t.d2l_noadd=I,t.r2c=function(e){var r=F(e);return void 0!==r?r:t.fraction2r(.5)},t.l2r=t.c2r=u,t.r2l=F,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return L(N(t))},t.r2p=t.d2p,t.p2r=N,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:u(t)}):"multicategory"===t.type&&(t.r2d=t.c2d=t.l2d=L,t.d2r=t.d2l_noadd=I,t.r2c=function(e){var r=I(e);return void 0!==r?r:t.fraction2r(.5)},t.r2c_just_indices=D,t.l2r=t.c2r=u,t.r2l=I,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return L(N(t))},t.r2p=t.d2p,t.p2r=N,t.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:u(t)},t.setupMultiCategory=function(n){var i,a,s=t._traceIndices,l=t._matchGroup;if(l&&0===t._categories.length)for(var c in l)if(c!==r){var d=e[_.id2name(c)];s=s.concat(d._traceIndices)}var u=[[0,{}],[0,{}]],p=[];for(i=0;i<s.length;i++){var m=n[s[i]];if(f in m){var g=m[f],b=m._length||o.minRowLength(g);if(h(g[0])&&h(g[1]))for(a=0;a<b;a++){var v=g[0][a],y=g[1][a];S(v)&&S(y)&&(p.push([v,y]),v in u[0][1]||(u[0][1][v]=u[0][0]++),y in u[1][1]||(u[1][1][y]=u[1][0]++))}}}for(p.sort((function(t,e){var r=u[0][1],n=r[t[0]]-r[e[0]];if(n)return n;var i=u[1][1];return i[t[1]]-i[e[1]]})),i=0;i<p.length;i++)O(p[i])}),t.fraction2r=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return t.l2r(r+e*(n-r))},t.r2fraction=function(e){var r=t.r2l(t.range[0]),n=t.r2l(t.range[1]);return(t.r2l(e)-r)/(n-r)},t.limitRange=function(e){var r=t.minallowed,n=t.maxallowed;if(void 0!==r||void 0!==n){e||(e="range");var i=o.nestedProperty(t,e).get(),a=o.simpleMap(i,t.r2l),s=a[1]<a[0];s&&a.reverse();var l=o.simpleMap([r,n],t.r2l);if(void 0!==r&&a[0]<l[0]&&(i[s?1:0]=r),void 0!==n&&a[1]>l[1]&&(i[s?0:1]=n),i[0]===i[1]){var c=t.l2r(r),d=t.l2r(n);if(void 0!==r){var u=c+1;void 0!==n&&(u=Math.min(u,d)),i[s?1:0]=u}if(void 0!==n){var h=d+1;void 0!==r&&(h=Math.max(h,c)),i[s?0:1]=h}}}},t.cleanRange=function(e,r){t._cleanRange(e,r),t.limitRange(e)},t._cleanRange=function(e,r){r||(r={}),e||(e="range");var n,i,a=o.nestedProperty(t,e).get();if(i=(i="date"===t.type?o.dfltRange(t.calendar):"y"===f?k.DFLTRANGEY:"realaxis"===t._name?[0,1]:r.dfltRange||k.DFLTRANGEX).slice(),"tozero"!==t.rangemode&&"nonnegative"!==t.rangemode||(i[0]=0),a&&2===a.length){var l=null===a[0],c=null===a[1];for("date"!==t.type||t.autorange||(a[0]=o.cleanDate(a[0],m,t.calendar),a[1]=o.cleanDate(a[1],m,t.calendar)),n=0;n<2;n++)if("date"===t.type){if(!o.isDateTime(a[n],t.calendar)){t[e]=i;break}if(t.r2l(a[0])===t.r2l(a[1])){var d=o.constrain(t.r2l(a[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);a[0]=t.l2r(d-1e3),a[1]=t.l2r(d+1e3);break}}else{if(!s(a[n])){if(l||c||!s(a[1-n])){t[e]=i;break}a[n]=a[1-n]*(n?10:.1)}if(a[n]<-p?a[n]=-p:a[n]>p&&(a[n]=p),a[0]===a[1]){var u=Math.max(1,Math.abs(1e-6*a[0]));a[0]-=u,a[1]+=u}}}else o.nestedProperty(t,e).set(i)},t.setScale=function(r){var n=e._size;if(t.overlaying){var i=_.getFromId({_fullLayout:e},t.overlaying);t.domain=i.domain}var o=r&&t._r?"_r":"range",a=t.calendar;t.cleanRange(o);var s,l,c=t.r2l(t[o][0],a),d=t.r2l(t[o][1],a),u="y"===f;if(u?(t._offset=n.t+(1-t.domain[1])*n.h,t._length=n.h*(t.domain[1]-t.domain[0]),t._m=t._length/(c-d),t._b=-t._m*d):(t._offset=n.l+t.domain[0]*n.w,t._length=n.w*(t.domain[1]-t.domain[0]),t._m=t._length/(d-c),t._b=-t._m*c),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks&&(t._rangebreaks=t.locateBreaks(Math.min(c,d),Math.max(c,d)),t._rangebreaks.length)){for(s=0;s<t._rangebreaks.length;s++)l=t._rangebreaks[s],t._lBreaks+=Math.abs(l.max-l.min);var h=u;c>d&&(h=!h),h&&t._rangebreaks.reverse();var p=h?-1:1;for(t._m2=p*t._length/(Math.abs(d-c)-t._lBreaks),t._B.push(-t._m2*(u?d:c)),s=0;s<t._rangebreaks.length;s++)l=t._rangebreaks[s],t._B.push(t._B[t._B.length-1]-p*t._m2*(l.max-l.min));for(s=0;s<t._rangebreaks.length;s++)(l=t._rangebreaks[s]).pmin=j(l.min),l.pmax=j(l.max)}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(e){var r,n,i,a,s,c=t.rangebreaks||[];c._cachedPatterns||(c._cachedPatterns=c.map((function(e){return e.enabled&&e.bounds?o.simpleMap(e.bounds,e.pattern?l:t.d2c):null}))),c._cachedValues||(c._cachedValues=c.map((function(e){return e.enabled&&e.values?o.simpleMap(e.values,t.d2c).sort(o.sorterAsc):null})));for(var d=0;d<c.length;d++){var u=c[d];if(u.enabled)if(u.bounds){var h=u.pattern;switch(n=(r=c._cachedPatterns[d])[0],i=r[1],h){case T:a=(s=new Date(e)).getUTCDay(),n>i&&(i+=7,a<n&&(a+=7));break;case A:a=(s=new Date(e)).getUTCHours()+(s.getUTCMinutes()/60+s.getUTCSeconds()/3600+s.getUTCMilliseconds()/36e5),n>i&&(i+=24,a<n&&(a+=24));break;case"":a=e}if(a>=n&&a<i)return m}else for(var f=c._cachedValues[d],p=0;p<f.length;p++)if(i=(n=f[p])+u.dvalue,e>=n&&e<i)return m}return e},t.locateBreaks=function(e,r){var n,i,a,s,c=[];if(!t.rangebreaks)return c;var d=t.rangebreaks.slice().sort((function(t,e){return t.pattern===T&&e.pattern===A?-1:e.pattern===T&&t.pattern===A?1:0})),u=function(t,n){if((t=o.constrain(t,e,r))!==(n=o.constrain(n,e,r))){for(var i=!0,a=0;a<c.length;a++){var s=c[a];t<s.max&&n>=s.min&&(t<s.min&&(s.min=t),n>s.max&&(s.max=n),i=!1)}i&&c.push({min:t,max:n})}};for(n=0;n<d.length;n++){var h=d[n];if(h.enabled)if(h.bounds){var f=e,p=r;h.pattern&&(f=Math.floor(f)),a=(i=o.simpleMap(h.bounds,h.pattern?l:t.r2l))[0],s=i[1];var m,g,_=new Date(f);switch(h.pattern){case T:g=b,m=(s-a+(s<a?7:0))*v,f+=a*v-(_.getUTCDay()*v+_.getUTCHours()*y+_.getUTCMinutes()*x+_.getUTCSeconds()*w+_.getUTCMilliseconds());break;case A:g=v,m=(s-a+(s<a?24:0))*y,f+=a*y-(_.getUTCHours()*y+_.getUTCMinutes()*x+_.getUTCSeconds()*w+_.getUTCMilliseconds());break;default:f=Math.min(i[0],i[1]),m=g=(p=Math.max(i[0],i[1]))-f}for(var k=f;k<p;k+=g)u(k,k+m)}else for(var M=o.simpleMap(h.values,t.d2c),S=0;S<M.length;S++)u(a=M[S],s=a+h.dvalue)}return c.sort((function(t,e){return t.min-e.min})),c},t.makeCalcdata=function(e,r,n){var i,a,s,l,c=t.type,d="date"===c&&e[r+"calendar"];if(r in e){if(i=e[r],l=e._length||o.minRowLength(i),o.isTypedArray(i)&&("linear"===c||"log"===c)){if(l===i.length)return i;if(i.subarray)return i.subarray(0,l)}if("multicategory"===c)return function(t,e){for(var r=new Array(e),n=0;n<e;n++){var i=(t[0]||[])[n],o=(t[1]||[])[n];r[n]=D([i,o])}return r}(i,l);for(a=new Array(l),s=0;s<l;s++)a[s]=t.d2c(i[s],0,d,n)}else{var u=r+"0"in e?t.d2c(e[r+"0"],0,d):0,h=e["d"+r]?Number(e["d"+r]):1;for(i=e[{x:"y",y:"x"}[r]],l=e._length||i.length,a=new Array(l),s=0;s<l;s++)a[s]=u+s*h}if(t.rangebreaks)for(s=0;s<l;s++)a[s]=t.maskBreaks(a[s]);return a},t.isValidRange=function(e,r){return Array.isArray(e)&&2===e.length&&(r&&null===e[0]||s(t.r2l(e[0])))&&(r&&null===e[1]||s(t.r2l(e[1])))},t.getAutorangeDflt=function(e,r){var n=!t.isValidRange(e,"nullOk");return n&&r&&r.reverseDflt?n="reversed":e&&(null===e[0]&&null===e[1]?n=!0:null===e[0]&&null!==e[1]?n="min":null!==e[0]&&null===e[1]&&(n="max")),n},t.isReversed=function(){var e=t.autorange;return"reversed"===e||"min reversed"===e||"max reversed"===e},t.isPtWithinRange=function(e,r){var n=t.c2l(e[f],null,r),i=t.r2l(t.range[0]),o=t.r2l(t.range[1]);return i<o?i<=n&&n<=o:o<=n&&n<=i},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var r=t._matchGroup;if(r){var n=null,i=null;for(var o in r){var a=e[_.id2name(o)];if(a._categories){n=a._categories,i=a._categoriesMap;break}}n&&i?(t._categories=n,t._categoriesMap=i):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var s=0;s<t._initialCategories.length;s++)O(t._initialCategories[s])},t.sortByInitialCategories=function(){var n=[];if(t._emptyCategories(),t._initialCategories)for(var i=0;i<t._initialCategories.length;i++)O(t._initialCategories[i]);n=n.concat(t._traceIndices);var o=t._matchGroup;for(var a in o)if(r!==a){var s=e[_.id2name(a)];s._categories=t._categories,s._categoriesMap=t._categoriesMap,n=n.concat(s._traceIndices)}return n};var U=e._d3locale;"date"===t.type&&(t._dateFormat=U?U.timeFormat:i,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=U?U.numberFormat:a,delete t._minDtick,delete t._forceTick0}},30733:t=>{"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},30829:(t,e,r)=>{"use strict";var n=r(55366),i=r(17916),o=Function.prototype.call;t.exports=function(t,e){var r={},a=arguments[2];return n(e),i(t,(function(t,n,i,s){r[n]=o.call(e,a,t,n,i,s)})),r}},30888:(t,e,r)=>{"use strict";var n=r(93459),i=r(77881).setGroupPositions;function o(t,e,r,n,i,o,a){i[n]=!0;var s={i:null,gap:!0,s:0};if(s[a]=r,t.splice(e,0,s),e&&r===t[e-1][a]){var l=t[e-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else o&&(s.s=function(t,e,r,n){var i=t[e-1],o=t[e+1];return o?i?i.s+(o.s-i.s)*(r-i[n])/(o[n]-i[n]):o.s:i.s}(t,e,r,a));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}t.exports=function(t,e){"group"===t._fullLayout.scattermode&&function(t,e){for(var r=e.xaxis,n=e.yaxis,o=t._fullLayout,a=t._fullData,s=t.calcdata,l=[],c=[],d=0;d<a.length;d++){var u=a[d];!0===u.visible&&"scatter"===u.type&&u.xaxis===r._id&&u.yaxis===n._id&&("h"===u.orientation?l.push(s[d]):"v"===u.orientation&&c.push(s[d]))}var h={mode:o.scattermode,gap:o.scattergap};i(t,r,n,c,h),i(t,n,r,l,h)}(t,e);var r=e.xaxis,a=e.yaxis,s=r._id+a._id,l=t._fullLayout._scatterStackOpts[s];if(l){var c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A=t.calcdata;for(var T in l){var M=(v=l[T]).traceIndices;if(M.length){for(y="interpolate"===v.stackgaps,x=v.groupnorm,"v"===v.orientation?(w="x",_="y"):(w="y",_="x"),k=new Array(M.length),c=0;c<k.length;c++)k[c]=!1;p=A[M[0]];var S=new Array(p.length);for(c=0;c<p.length;c++)S[c]=p[c][w];for(c=1;c<M.length;c++){for(f=A[M[c]],d=u=0;d<f.length;d++){for(m=f[d][w];m>S[u]&&u<S.length;u++)o(f,d,S[u],c,k,y,w),d++;if(m!==S[u]){for(h=0;h<c;h++)o(A[M[h]],u,m,h,k,y,w);S.splice(u,0,m)}u++}for(;u<S.length;u++)o(f,d,S[u],c,k,y,w),d++}var E=S.length;for(d=0;d<p.length;d++){for(g=p[d][_]=p[d].s,c=1;c<M.length;c++)(f=A[M[c]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=E,g+=f[d].s,f[d][_]=g;if(x)for(b=("fraction"===x?g:g/100)||1,c=0;c<M.length;c++){var C=A[M[c]][d];C[_]/=b,C.sNorm=C.s/b}}for(c=0;c<M.length;c++){var z=(f=A[M[c]])[0].trace,L=n.calcMarkerSize(z,z._rawLength),O=Array.isArray(L);if(L&&k[c]||O){var D=L;for(L=new Array(E),d=0;d<E;d++)L[d]=f[d].gap?0:O?D[f[d].i]:D}var I=new Array(E),F=new Array(E);for(d=0;d<E;d++)I[d]=f[d].x,F[d]=f[d].y;n.calcAxisExpansion(t,z,r,a,I,F,L),f[0].t.orientation=v.orientation}}}}}},30977:(t,e,r)=>{"use strict";var n=r(27941),i=r(70410),o=r(19846),a=r(76292),s=r(45731).makeDragBox,l=r(21197).DRAGGERSIZE;e.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot)n.select(t).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort((function(t,e){if((r._plots[t].mainplot&&!0)===(r._plots[e].mainplot&&!0)){var n=t.split("y"),i=e.split("y");return n[0]===i[0]?Number(n[1]||1)-Number(i[1]||1):Number(n[0]||1)-Number(i[0]||1)}return r._plots[t].mainplot?1:-1})).forEach((function(e){var n=r._plots[e],a=n.xaxis,c=n.yaxis;if(!n.mainplot){var d=s(t,n,a._offset,c._offset,a._length,c._length,"ns","ew");d.onmousemove=function(r){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===e&&t._fullLayout._plots[e]&&i.hover(t,r,e)},i.hover(t,r,e),t._fullLayout._lasthover=d,t._fullLayout._hoversubplot=e},d.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,o.unhover(t,e))},t._context.showAxisDragHandles&&(s(t,n,a._offset-l,c._offset-l,l,l,"n","w"),s(t,n,a._offset+a._length,c._offset-l,l,l,"n","e"),s(t,n,a._offset-l,c._offset+c._length,l,l,"s","w"),s(t,n,a._offset+a._length,c._offset+c._length,l,l,"s","e"))}if(t._context.showAxisDragHandles){if(e===a._mainSubplot){var u=a._mainLinePosition;"top"===a.side&&(u-=l),s(t,n,a._offset+.1*a._length,u,.8*a._length,l,"","ew"),s(t,n,a._offset,u,.1*a._length,l,"","w"),s(t,n,a._offset+.9*a._length,u,.1*a._length,l,"","e")}if(e===c._mainSubplot){var h=c._mainLinePosition;"right"!==c.side&&(h-=l),s(t,n,h,c._offset+.1*c._length,l,.8*c._length,"ns",""),s(t,n,h,c._offset+.9*c._length,l,.1*c._length,"s",""),s(t,n,h,c._offset,l,.1*c._length,"n","")}}}));var a=r._hoverlayer.node();a.onmousemove=function(e){e.target=t._fullLayout._lasthover,i.hover(t,e,r._hoversubplot)},a.onclick=function(e){e.target=t._fullLayout._lasthover,i.click(t,e)},a.onmousedown=function(e){t._fullLayout._lasthover.onmousedown(e)},e.updateFx(t)}},e.updateFx=function(t){var e=t._fullLayout,r="pan"===e.dragmode?"move":"crosshair";a(e._draggers,r)}},31338:t=>{"use strict";function e(t,r,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=r;else for(o=0;o<i;++o)a[o]=e(t,r,n+1);return a}t.exports=function(t,r){switch(void 0===r&&(r=0),typeof t){case"number":if(t>0)return function(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}},31406:(t,e,r)=>{"use strict";var n=r(7370),i=r(12431);t.exports=function(t){var e;if("string"!=typeof(e=t&&t.hasOwnProperty("userAgent")?t.userAgent:function(){var t;return"undefined"!=typeof navigator&&(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),t}()))return!0;var r=i({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!r)for(var o=e.split(" "),a=1;a<o.length;a++)if(-1!==o[a].indexOf("Safari"))for(var s=a-1;s>-1;s--){var l=o[s];if("Version/"===l.substr(0,8)){var c=l.substr(8).split(".")[0];if(n(c)&&(c=+c),c>=13)return!0}}return r}},31497:(t,e,r)=>{"use strict";var n=r(65837);t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,r,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[o=255*l,o,o];e=2*l-(r=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var c=0;c<3;c++)(n=a+1/3*-(c-1))<0?n++:n>1&&n--,o=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[c]=255*o;return i}},n.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(n,i,o),s=Math.max(n,i,o),l=s-a;return s===a?e=0:n===s?e=(i-o)/l:i===s?e=2+(o-n)/l:o===s&&(e=4+(n-i)/l),(e=Math.min(60*e,360))<0&&(e+=360),r=(a+s)/2,[e,100*(s===a?0:r<=.5?l/(s+a):l/(2-s-a)),100*r]}},31562:(t,e,r)=>{"use strict";var n=r(11211),i=r(31497),o=r(90897);t.exports=function(t){var e,r=n(t);return r.space?((e=Array(3))[0]=o(r.values[0],0,255),e[1]=o(r.values[1],0,255),e[2]=o(r.values[2],0,255),"h"===r.space[0]&&(e=i.rgb(e)),e.push(o(r.alpha,0,1)),e):[]}},31587:t=>{"use strict";function e(t,e,n){n=n||2;var o,a,s,l,u,h,p,m=e&&e.length,g=m?e[0]*n:t.length,b=r(t,0,g,n,!0),v=[];if(!b||b.next===b.prev)return v;if(m&&(b=function(t,e,n,i){var o,a,s,l=[];for(o=0,a=e.length;o<a;o++)(s=r(t,e[o]*i,o<a-1?e[o+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),l.push(f(s));for(l.sort(c),o=0;o<l.length;o++)n=d(l[o],n);return n}(t,e,b,n)),t.length>80*n){o=s=t[0],a=l=t[1];for(var y=n;y<g;y+=n)(u=t[y])<o&&(o=u),(h=t[y+1])<a&&(a=h),u>s&&(s=u),h>l&&(l=h);p=0!==(p=Math.max(s-o,l-a))?32767/p:0}return i(b,v,n,o,a,p,0),v}function r(t,e,r,n,i){var o,a;if(i===M(t,e,r,n)>0)for(o=e;o<r;o+=n)a=k(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=k(o,t[o],t[o+1],a);return a&&b(a,a.next)&&(A(a),a=a.next),a}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!b(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(A(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,c,d,u,f){if(t){!f&&u&&function(t,e,r,n){var i=t;do{0===i.z&&(i.z=h(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,l,c=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<c&&(s++,n=n.nextZ);e++);for(l=c;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1)}(i)}(t,c,d,u);for(var p,m,g=t;t.prev!==t.next;)if(p=t.prev,m=t.next,u?a(t,c,d,u):o(t))e.push(p.i/r|0),e.push(t.i/r|0),e.push(m.i/r|0),A(t),t=m.next,g=m.next;else if((t=m)===g){f?1===f?i(t=s(n(t),e,r),e,r,c,d,u,2):2===f&&l(t,e,r,c,d,u):i(n(t),e,r,c,d,u,1);break}}}function o(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=e.x,o=r.x,a=n.x,s=e.y,l=r.y,c=n.y,d=i<o?i<a?i:a:o<a?o:a,u=s<l?s<c?s:c:l<c?l:c,h=i>o?i>a?i:a:o>a?o:a,f=s>l?s>c?s:c:l>c?l:c,m=n.next;m!==e;){if(m.x>=d&&m.x<=h&&m.y>=u&&m.y<=f&&p(i,s,o,l,a,c,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function a(t,e,r,n){var i=t.prev,o=t,a=t.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,c=a.x,d=i.y,u=o.y,f=a.y,m=s<l?s<c?s:c:l<c?l:c,b=d<u?d<f?d:f:u<f?u:f,v=s>l?s>c?s:c:l>c?l:c,y=d>u?d>f?d:f:u>f?u:f,x=h(m,b,e,r,n),w=h(v,y,e,r,n),_=t.prevZ,k=t.nextZ;_&&_.z>=x&&k&&k.z<=w;){if(_.x>=m&&_.x<=v&&_.y>=b&&_.y<=y&&_!==i&&_!==a&&p(s,d,l,u,c,f,_.x,_.y)&&g(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,k.x>=m&&k.x<=v&&k.y>=b&&k.y<=y&&k!==i&&k!==a&&p(s,d,l,u,c,f,k.x,k.y)&&g(k.prev,k,k.next)>=0)return!1;k=k.nextZ}for(;_&&_.z>=x;){if(_.x>=m&&_.x<=v&&_.y>=b&&_.y<=y&&_!==i&&_!==a&&p(s,d,l,u,c,f,_.x,_.y)&&g(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;k&&k.z<=w;){if(k.x>=m&&k.x<=v&&k.y>=b&&k.y<=y&&k!==i&&k!==a&&p(s,d,l,u,c,f,k.x,k.y)&&g(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function s(t,e,r){var i=t;do{var o=i.prev,a=i.next.next;!b(o,a)&&v(o,i,i.next,a)&&w(o,a)&&w(a,o)&&(e.push(o.i/r|0),e.push(i.i/r|0),e.push(a.i/r|0),A(i),A(i.next),i=t=a),i=i.next}while(i!==t);return n(i)}function l(t,e,r,o,a,s){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&m(l,c)){var d=_(l,c);return l=n(l,l.next),d=n(d,d.next),i(l,e,r,o,a,s,0),void i(d,e,r,o,a,s,0)}c=c.next}l=l.next}while(l!==t)}function c(t,e){return t.x-e.x}function d(t,e){var r=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}n=n.next}while(n!==e);if(!r)return null;var l,c=r,d=r.x,h=r.y,f=1/0;n=r;do{i>=n.x&&n.x>=d&&i!==n.x&&p(o<h?i:a,o,d,h,o<h?a:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),w(n,t)&&(l<f||l===f&&(n.x>r.x||n.x===r.x&&u(r,n)))&&(r=n,f=l)),n=n.next}while(n!==c);return r}(t,e);if(!r)return e;var i=_(r,t);return n(i,i.next),n(r,r.next)}function u(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function h(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,n,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(n-s)>=(r-a)*(e-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||b(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,n){var i=x(g(t,e,r)),o=x(g(t,e,n)),a=x(g(r,n,t)),s=x(g(r,n,e));return i!==o&&a!==s||!(0!==i||!y(t,r,e))||!(0!==o||!y(t,n,e))||!(0!==a||!y(r,t,n))||!(0!==s||!y(r,e,n))}function y(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function x(t){return t>0?1:t<0?-1:0}function w(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function _(t,e){var r=new T(t.i,t.x,t.y),n=new T(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function k(t,e,r,n){var i=new T(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(M(t,0,o,r));if(i)for(var s=0,l=e.length;s<l;s++){var c=e[s]*r,d=s<l-1?e[s+1]*r:t.length;a-=Math.abs(M(t,c,d,r))}var u=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,f=n[s+1]*r,p=n[s+2]*r;u+=Math.abs((t[h]-t[p])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[p+1]-t[h+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},31830:(t,e,r)=>{"use strict";function n(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}r.d(e,{GP:()=>h,OE:()=>m});var i,o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(t){if(!(e=o.exec(t)))throw new Error("invalid format: "+t);var e;return new s({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function s(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function l(t,e){var r=n(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}a.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const c={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return l(100*t,e)},r:l,s:function(t,e){var r=n(t,e);if(!r)return t+"";var o=r[0],a=r[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=o.length;return s===l?o:s>l?o+new Array(s-l+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+n(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function d(t){return t}var u,h,f=Array.prototype.map,p=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function m(t){var e,r,o=void 0===t.grouping||void 0===t.thousands?d:(e=f.call(t.grouping,Number),r=t.thousands+"",function(t,n){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(r)}),s=void 0===t.currency?"":t.currency[0]+"",l=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",h=void 0===t.numerals?d:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(f.call(t.numerals,String)),m=void 0===t.percent?"%":t.percent+"",g=void 0===t.minus?"-":t.minus+"",b=void 0===t.nan?"NaN":t.nan+"";function v(t){var e=(t=a(t)).fill,r=t.align,n=t.sign,d=t.symbol,f=t.zero,v=t.width,y=t.comma,x=t.precision,w=t.trim,_=t.type;"n"===_?(y=!0,_="g"):c[_]||(void 0===x&&(x=12),w=!0,_="g"),(f||"0"===e&&"="===r)&&(f=!0,e="0",r="=");var k="$"===d?s:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A="$"===d?l:/[%p]/.test(_)?m:"",T=c[_],M=/[defgprs%]/.test(_);function S(t){var a,s,l,c=k,d=A;if("c"===_)d=T(t)+d,t="";else{var m=(t=+t)<0||1/t<0;if(t=isNaN(t)?b:T(Math.abs(t),x),w&&(t=function(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":0===i&&(i=n),e=n;break;default:if(!+t[n])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),m&&0==+t&&"+"!==n&&(m=!1),c=(m?"("===n?n:g:"-"===n||"("===n?"":n)+c,d=("s"===_?p[8+i/3]:"")+d+(m&&"("===n?")":""),M)for(a=-1,s=t.length;++a<s;)if(48>(l=t.charCodeAt(a))||l>57){d=(46===l?u+t.slice(a+1):t.slice(a))+d,t=t.slice(0,a);break}}y&&!f&&(t=o(t,1/0));var S=c.length+t.length+d.length,E=S<v?new Array(v-S+1).join(e):"";switch(y&&f&&(t=o(E+t,E.length?v-d.length:1/0),E=""),r){case"<":t=c+t+d+E;break;case"=":t=c+E+t+d;break;case"^":t=E.slice(0,S=E.length>>1)+c+t+d+E.slice(S);break;default:t=E+c+t+d}return h(t)}return x=void 0===x?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),S.toString=function(){return t+""},S}return{format:v,formatPrefix:function(t,e){var r,i=v(((t=a(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor((r=e,((r=n(Math.abs(r)))?r[1]:NaN)/3)))),s=Math.pow(10,-o),l=p[8+o/3];return function(t){return i(s*t)+l}}}}u=m({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),h=u.format,u.formatPrefix},31845:(t,e,r)=>{var n=r(39807);!function(){var e={24:function(t){var e={left:0,top:0};t.exports=function(t,r,n){r=r||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=t.clientX||0,a=t.clientY||0,s=(i=r)===window||i===document||i===document.body?e:i.getBoundingClientRect();return n[0]=o-s.left,n[1]=a-s.top,n}},109:function(t){t.exports=function(t,e,r,n){var i=r[0],o=r[2],a=e[0]-i,s=e[2]-o,l=Math.sin(n),c=Math.cos(n);return t[0]=i+s*l+a*c,t[1]=e[1],t[2]=o+s*c-a*l,t}},160:function(t){t.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}},216:function(t){"use strict";t.exports=function(t,e){for(var r={},n=0;n<t.length;++n)for(var i=t[n].name.split("."),o=r,a=0;a<i.length;++a){var s=i[a].split("[");if(s.length>1){s[0]in o||(o[s[0]]=[]),o=o[s[0]];for(var l=1;l<s.length;++l){var c=parseInt(s[l]);l<s.length-1||a<i.length-1?(c in o||(l<s.length-1?o[c]=[]:o[c]={}),o=o[c]):o[c]=e?n:t[n].type}}else a<i.length-1?(s[0]in o||(o[s[0]]={}),o=o[s[0]]):o[s[0]]=e?n:t[n].type}return r}},236:function(t,e,r){var n=r(8284);t.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:n(e,t)}}},244:function(t){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},264:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],l=r[2],c=r[3],d=c*n+s*o-l*i,u=c*i+l*n-a*o,h=c*o+a*i-s*n,f=-a*n-s*i-l*o;return t[0]=d*c+f*-a+u*-l-h*-s,t[1]=u*c+f*-s+h*-a-d*-l,t[2]=h*c+f*-l+d*-s-u*-a,t}},332:function(t,e,r){"use strict";t.exports=function(t,e,r){var n;if(r){n=e;for(var i=new Array(e.length),o=0;o<e.length;++o){var a=e[o];i[o]=[a[0],a[1],r[o]]}e=i}for(var s=function(t,e,r){var n=p(t,[],f(t));return b(e,n,r),!!n}(t,e,!!r);v(t,e,!!r);)s=!0;if(r&&s)for(n.length=0,r.length=0,o=0;o<e.length;++o)a=e[o],n.push([a[0],a[1]]),r.push(a[2]);return s};var n=r(1755),i=r(6867),o=r(1125),a=r(7842),s=r(1318),l=r(946),c=r(5838),d=r(1278),u=r(3637);function h(t){var e=l(t);return[d(e,-1/0),d(e,1/0)]}function f(t){for(var e=new Array(t.length),r=0;r<t.length;++r){var n=t[r];e[r]=[d(n[0],-1/0),d(n[1],-1/0),d(n[0],1/0),d(n[1],1/0)]}return e}function p(t,e,r){for(var o=e.length,a=new n(o),s=[],l=0;l<e.length;++l){var c=e[l],u=h(c[0]),f=h(c[1]);s.push([d(u[0],-1/0),d(f[0],-1/0),d(u[1],1/0),d(f[1],1/0)])}i(s,(function(t,e){a.link(t,e)}));var p=!0,m=new Array(o);for(l=0;l<o;++l)(b=a.find(l))!==l&&(p=!1,t[b]=[Math.min(t[l][0],t[b][0]),Math.min(t[l][1],t[b][1])]);if(p)return null;var g=0;for(l=0;l<o;++l){var b;(b=a.find(l))===l?(m[l]=g,t[g++]=t[l]):m[l]=-1}for(t.length=g,l=0;l<o;++l)m[l]<0&&(m[l]=m[a.find(l)]);return m}function m(t,e){return t[0]-e[0]||t[1]-e[1]}function g(t,e){return t[0]-e[0]||t[1]-e[1]||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function b(t,e,r){if(0!==t.length){if(e)for(var n=0;n<t.length;++n){var i=e[(a=t[n])[0]],o=e[a[1]];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}else for(n=0;n<t.length;++n){var a;i=(a=t[n])[0],o=a[1],a[0]=Math.min(i,o),a[1]=Math.max(i,o)}r?t.sort(g):t.sort(m);var s=1;for(n=1;n<t.length;++n){var l=t[n-1],c=t[n];(c[0]!==l[0]||c[1]!==l[1]||r&&c[2]!==l[2])&&(t[s++]=c)}t.length=s}}function v(t,e,r){var n=function(t,e){for(var r=new Array(e.length),n=0;n<e.length;++n){var i=e[n],o=t[i[0]],a=t[i[1]];r[n]=[d(Math.min(o[0],a[0]),-1/0),d(Math.min(o[1],a[1]),-1/0),d(Math.max(o[0],a[0]),1/0),d(Math.max(o[1],a[1]),1/0)]}return r}(t,e),h=function(t,e,r){var n=[];return i(r,(function(r,i){var a=e[r],s=e[i];if(a[0]!==s[0]&&a[0]!==s[1]&&a[1]!==s[0]&&a[1]!==s[1]){var l=t[a[0]],c=t[a[1]],d=t[s[0]],u=t[s[1]];o(l,c,d,u)&&n.push([r,i])}})),n}(t,e,n),m=function(t,e,r,n){var a=[];return i(r,n,(function(r,n){var i=e[r];if(i[0]!==n&&i[1]!==n){var s=t[n],l=t[i[0]],c=t[i[1]];o(l,c,s,s)&&a.push([r,n])}})),a}(t,e,n,f(t)),g=function(t,e,r,n,i){var o,d,h=t.map((function(t){return[a(t[0]),a(t[1])]}));for(o=0;o<r.length;++o){var f=r[o];d=f[0];var p=f[1],m=e[d],g=e[p],b=u(c(t[m[0]]),c(t[m[1]]),c(t[g[0]]),c(t[g[1]]));if(b){var v=t.length;t.push([l(b[0]),l(b[1])]),h.push(b),n.push([d,v],[p,v])}}for(n.sort((function(t,e){if(t[0]!==e[0])return t[0]-e[0];var r=h[t[1]],n=h[e[1]];return s(r[0],n[0])||s(r[1],n[1])})),o=n.length-1;o>=0;--o){var y=e[d=(S=n[o])[0]],x=y[0],w=y[1],_=t[x],k=t[w];if((_[0]-k[0]||_[1]-k[1])<0){var A=x;x=w,w=A}y[0]=x;var T,M=y[1]=S[1];for(i&&(T=y[2]);o>0&&n[o-1][0]===d;){var S,E=(S=n[--o])[1];i?e.push([M,E,T]):e.push([M,E]),M=E}i?e.push([M,w,T]):e.push([M,w])}return h}(t,e,h,m,r),v=p(t,g);return b(e,v,r),!!v||h.length>0||m.length>0}},351:function(t,e,r){"use strict";t.exports=function(t,e){e||(e=t,t=window);var r=0,i=0,o=0,a={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==a.alt,a.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==a.shift,a.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==a.control,a.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==a.meta,a.meta=!!t.metaKey),e}function c(t,s){var c=n.x(s),d=n.y(s);"buttons"in s&&(t=0|s.buttons),(t!==r||c!==i||d!==o||l(s))&&(r=0|t,i=c||0,o=d||0,e&&e(r,i,o,a))}function d(t){c(0,t)}function u(){(r||i||o||a.shift||a.alt||a.meta||a.control)&&(i=o=0,r=0,a.shift=a.alt=a.control=a.meta=!1,e&&e(0,0,0,a))}function h(t){l(t)&&e&&e(r,i,o,a)}function f(t){0===n.buttons(t)?c(0,t):c(r,t)}function p(t){c(r|n.buttons(t),t)}function m(t){c(r&~n.buttons(t),t)}function g(){s||(s=!0,t.addEventListener("mousemove",f),t.addEventListener("mousedown",p),t.addEventListener("mouseup",m),t.addEventListener("mouseleave",d),t.addEventListener("mouseenter",d),t.addEventListener("mouseout",d),t.addEventListener("mouseover",d),t.addEventListener("blur",u),t.addEventListener("keyup",h),t.addEventListener("keydown",h),t.addEventListener("keypress",h),t!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",h),window.addEventListener("keydown",h),window.addEventListener("keypress",h)))}g();var b={element:t};return Object.defineProperties(b,{enabled:{get:function(){return s},set:function(e){e?g():s&&(s=!1,t.removeEventListener("mousemove",f),t.removeEventListener("mousedown",p),t.removeEventListener("mouseup",m),t.removeEventListener("mouseleave",d),t.removeEventListener("mouseenter",d),t.removeEventListener("mouseout",d),t.removeEventListener("mouseover",d),t.removeEventListener("blur",u),t.removeEventListener("keyup",h),t.removeEventListener("keydown",h),t.removeEventListener("keypress",h),t!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",h),window.removeEventListener("keydown",h),window.removeEventListener("keypress",h)))},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),b};var n=r(4687)},395:function(t){t.exports=function(t,e,r){return t*(1-r)+e*r}},446:function(t,e,r){"use strict";var n=r(7640),i={};t.exports=function(t){var e=t.order,r=t.dtype,o=[e,r].join(":"),a=i[o];return a||(i[o]=a=n(e,r)),a(t),t}},483:function(t){t.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}},492:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}},501:function(t,e,r){"use strict";t.exports=function(t,e,r){var a=[],s=[0,0,0],l=[0,0,0],c=[0,0,0],d=[0,0,0];a.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var u=0;u<3;++u){for(var h=a.length/3|0,p=0;p<r[u].length;++p){var m=+r[u][p].x;a.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1)}var g=a.length/3|0;s[u]=h,l[u]=g-h,h=a.length/3|0;for(var b=0;b<r[u].length;++b)m=+r[u][b].x,a.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1);g=a.length/3|0,c[u]=h,d[u]=g-h}var v=n(t,new Float32Array(a)),y=i(t,[{buffer:v,type:t.FLOAT,size:3,stride:0,offset:0}]),x=o(t);return x.attributes.position.location=0,new f(t,v,y,x,l,s,d,c)};var n=r(2762),i=r(8116),o=r(1879).n,a=[0,0,0],s=[0,0,0],l=[0,0,0],c=[0,0,0],d=[1,1];function u(t){return t[0]=t[1]=t[2]=0,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function f(t,e,r,n,i,o,a,s){this.gl=t,this.vertBuffer=e,this.vao=r,this.shader=n,this.tickCount=i,this.tickOffset=o,this.gridCount=a,this.gridOffset=s}var p=f.prototype;p.bind=function(t,e,r){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=r,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=d,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(t,e,r,n,i){var o=u(s);this.shader.uniforms.majorAxis=s,o[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=o;var a,d=h(c,r);d[t]+=e[0][t],this.shader.uniforms.offset=d,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=n,(a=u(l))[(t+2)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6),(a=u(l))[(t+1)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(t,e,r,n,i){if(this.tickCount[t]){var o=u(a);o[t]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=r,this.shader.uniforms.color=n,this.shader.uniforms.lineWidth=i;var s=u(l);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},p.drawGrid=function(t,e,r,n,i,o){if(this.gridCount[t]){var d=u(s);d[e]=r[1][e]-r[0][e],this.shader.uniforms.minorAxis=d;var f=h(c,n);f[e]+=r[0][e],this.shader.uniforms.offset=f;var p=u(a);p[t]=1,this.shader.uniforms.majorAxis=p;var m=u(l);m[t]=1,this.shader.uniforms.screenAxis=m,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},p.drawZero=function(t,e,r,n,i,o){var a=u(s);this.shader.uniforms.majorAxis=a,a[t]=r[1][t]-r[0][t],this.shader.uniforms.minorAxis=a;var d=h(c,n);d[t]+=r[0][t],this.shader.uniforms.offset=d;var f=u(l);f[e]=1,this.shader.uniforms.screenAxis=f,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},544:function(t,e,r){"use strict";var n=r(5572);t.exports=function(t,e){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=n(t[o],e[o]);return i}},606:function(t,e,r){var n=r(236);t.exports=function(){var t=n();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},614:function(t,e,r){var n=r(3236),i=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * (view * conePosition);\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);e.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},e.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},620:function(t){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},665:function(t,e,r){"use strict";var n=r(3202);t.exports=a;var i=96;function o(t,e){var r=n(getComputedStyle(t).getPropertyValue(e));return r[0]*a(r[1],t)}function a(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var r=document.createElement("div");r.style["font-size"]="128"+t,e.appendChild(r);var n=o(r,"font-size")/128;return e.removeChild(r),n}(t,e);case"em":return o(e,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},727:function(t,e,r){"use strict";var n=r(2962);function i(t){return(2===t?o:3===t?a:4===t?s:5===t?l:c)(t<6?n[t]:n)}function o(t){return function(e,r){return[t([[+r[0],+e[0][1]],[+r[1],+e[1][1]]]),t([[+e[0][0],+r[0]],[+e[1][0],+r[1]]]),t(e)]}}function a(t){return function(e,r){return[t([[+r[0],+e[0][1],+e[0][2]],[+r[1],+e[1][1],+e[1][2]],[+r[2],+e[2][1],+e[2][2]]]),t([[+e[0][0],+r[0],+e[0][2]],[+e[1][0],+r[1],+e[1][2]],[+e[2][0],+r[2],+e[2][2]]]),t([[+e[0][0],+e[0][1],+r[0]],[+e[1][0],+e[1][1],+r[1]],[+e[2][0],+e[2][1],+r[2]]]),t(e)]}}function s(t){return function(e,r){return[t([[+r[0],+e[0][1],+e[0][2],+e[0][3]],[+r[1],+e[1][1],+e[1][2],+e[1][3]],[+r[2],+e[2][1],+e[2][2],+e[2][3]],[+r[3],+e[3][1],+e[3][2],+e[3][3]]]),t([[+e[0][0],+r[0],+e[0][2],+e[0][3]],[+e[1][0],+r[1],+e[1][2],+e[1][3]],[+e[2][0],+r[2],+e[2][2],+e[2][3]],[+e[3][0],+r[3],+e[3][2],+e[3][3]]]),t([[+e[0][0],+e[0][1],+r[0],+e[0][3]],[+e[1][0],+e[1][1],+r[1],+e[1][3]],[+e[2][0],+e[2][1],+r[2],+e[2][3]],[+e[3][0],+e[3][1],+r[3],+e[3][3]]]),t([[+e[0][0],+e[0][1],+e[0][2],+r[0]],[+e[1][0],+e[1][1],+e[1][2],+r[1]],[+e[2][0],+e[2][1],+e[2][2],+r[2]],[+e[3][0],+e[3][1],+e[3][2],+r[3]]]),t(e)]}}function l(t){return function(e,r){return[t([[+r[0],+e[0][1],+e[0][2],+e[0][3],+e[0][4]],[+r[1],+e[1][1],+e[1][2],+e[1][3],+e[1][4]],[+r[2],+e[2][1],+e[2][2],+e[2][3],+e[2][4]],[+r[3],+e[3][1],+e[3][2],+e[3][3],+e[3][4]],[+r[4],+e[4][1],+e[4][2],+e[4][3],+e[4][4]]]),t([[+e[0][0],+r[0],+e[0][2],+e[0][3],+e[0][4]],[+e[1][0],+r[1],+e[1][2],+e[1][3],+e[1][4]],[+e[2][0],+r[2],+e[2][2],+e[2][3],+e[2][4]],[+e[3][0],+r[3],+e[3][2],+e[3][3],+e[3][4]],[+e[4][0],+r[4],+e[4][2],+e[4][3],+e[4][4]]]),t([[+e[0][0],+e[0][1],+r[0],+e[0][3],+e[0][4]],[+e[1][0],+e[1][1],+r[1],+e[1][3],+e[1][4]],[+e[2][0],+e[2][1],+r[2],+e[2][3],+e[2][4]],[+e[3][0],+e[3][1],+r[3],+e[3][3],+e[3][4]],[+e[4][0],+e[4][1],+r[4],+e[4][3],+e[4][4]]]),t([[+e[0][0],+e[0][1],+e[0][2],+r[0],+e[0][4]],[+e[1][0],+e[1][1],+e[1][2],+r[1],+e[1][4]],[+e[2][0],+e[2][1],+e[2][2],+r[2],+e[2][4]],[+e[3][0],+e[3][1],+e[3][2],+r[3],+e[3][4]],[+e[4][0],+e[4][1],+e[4][2],+r[4],+e[4][4]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+r[0]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+r[1]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+r[2]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+r[3]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+r[4]]]),t(e)]}}function c(t){return function(e,r){return[t([[+r[0],+e[0][1],+e[0][2],+e[0][3],+e[0][4],+e[0][5]],[+r[1],+e[1][1],+e[1][2],+e[1][3],+e[1][4],+e[1][5]],[+r[2],+e[2][1],+e[2][2],+e[2][3],+e[2][4],+e[2][5]],[+r[3],+e[3][1],+e[3][2],+e[3][3],+e[3][4],+e[3][5]],[+r[4],+e[4][1],+e[4][2],+e[4][3],+e[4][4],+e[4][5]],[+r[5],+e[5][1],+e[5][2],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+r[0],+e[0][2],+e[0][3],+e[0][4],+e[0][5]],[+e[1][0],+r[1],+e[1][2],+e[1][3],+e[1][4],+e[1][5]],[+e[2][0],+r[2],+e[2][2],+e[2][3],+e[2][4],+e[2][5]],[+e[3][0],+r[3],+e[3][2],+e[3][3],+e[3][4],+e[3][5]],[+e[4][0],+r[4],+e[4][2],+e[4][3],+e[4][4],+e[4][5]],[+e[5][0],+r[5],+e[5][2],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+r[0],+e[0][3],+e[0][4],+e[0][5]],[+e[1][0],+e[1][1],+r[1],+e[1][3],+e[1][4],+e[1][5]],[+e[2][0],+e[2][1],+r[2],+e[2][3],+e[2][4],+e[2][5]],[+e[3][0],+e[3][1],+r[3],+e[3][3],+e[3][4],+e[3][5]],[+e[4][0],+e[4][1],+r[4],+e[4][3],+e[4][4],+e[4][5]],[+e[5][0],+e[5][1],+r[5],+e[5][3],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+r[0],+e[0][4],+e[0][5]],[+e[1][0],+e[1][1],+e[1][2],+r[1],+e[1][4],+e[1][5]],[+e[2][0],+e[2][1],+e[2][2],+r[2],+e[2][4],+e[2][5]],[+e[3][0],+e[3][1],+e[3][2],+r[3],+e[3][4],+e[3][5]],[+e[4][0],+e[4][1],+e[4][2],+r[4],+e[4][4],+e[4][5]],[+e[5][0],+e[5][1],+e[5][2],+r[5],+e[5][4],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+r[0],+e[0][5]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+r[1],+e[1][5]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+r[2],+e[2][5]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+r[3],+e[3][5]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+r[4],+e[4][5]],[+e[5][0],+e[5][1],+e[5][2],+e[5][3],+r[5],+e[5][5]]]),t([[+e[0][0],+e[0][1],+e[0][2],+e[0][3],+e[0][4],+r[0]],[+e[1][0],+e[1][1],+e[1][2],+e[1][3],+e[1][4],+r[1]],[+e[2][0],+e[2][1],+e[2][2],+e[2][3],+e[2][4],+r[2]],[+e[3][0],+e[3][1],+e[3][2],+e[3][3],+e[3][4],+r[3]],[+e[4][0],+e[4][1],+e[4][2],+e[4][3],+e[4][4],+r[4]],[+e[5][0],+e[5][1],+e[5][2],+e[5][3],+e[5][4],+r[5]]]),t(e)]}}var d=[function(){return[[0]]},function(t,e){return[[e[0]],[t[0][0]]]}];function u(t,e,r,n,i,o,a,s){return function(l,c){switch(l.length){case 0:return t(l,c);case 1:return e(l,c);case 2:return r(l,c);case 3:return n(l,c);case 4:return i(l,c);case 5:return o(l,c)}var d=a[l.length];return d||(d=a[l.length]=s(l.length)),d(l,c)}}!function(){for(;d.length<6;)d.push(i(d.length));t.exports=u.apply(void 0,d.concat([d,i]));for(var e=0;e<6;++e)t.exports[e]=d[e]}()},737:function(t){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},781:function(t,e,r){"use strict";t.exports=function(t,e){var r=[];return e=+e||0,n(t.hi(t.shape[0]-1),r,e),r};var n=r(3349)},783:function(t){t.exports=function(t,e,r,n){var i,o,a,s,l,c=e[0],d=e[1],u=e[2],h=e[3],f=r[0],p=r[1],m=r[2],g=r[3];return(o=c*f+d*p+u*m+h*g)<0&&(o=-o,f=-f,p=-p,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-n)*i)/a,l=Math.sin(n*i)/a):(s=1-n,l=n),t[0]=s*c+l*f,t[1]=s*d+l*p,t[2]=s*u+l*m,t[3]=s*h+l*g,t}},799:function(t,e,r){var n=r(3236),i=r(9405),o=n(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),a=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);t.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec2"}])}},811:function(t){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},840:function(t,e,r){var n=r(3236),i=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * (view * (model * vec4(p, 1.0)));\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),a=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * (view * (model * vec4(position, 1.0)));\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * (view * (model * vec4(position, 1.0)));\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),c=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),d=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * (view * (model * vec4(position, 1.0)));\n  f_id        = id;\n  f_position  = position;\n}"]),u=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),h=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * (view * (model * vec4(position, 1.0)));\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),f=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * (view * (model * vec4(position, 1.0)));\n}"]),p=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);e.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},e.wireShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},e.pointShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},e.pickShader={vertex:d,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},e.pointPickShader={vertex:h,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},e.contourShader={vertex:f,fragment:p,attributes:[{name:"position",type:"vec3"}]}},855:function(t,e,r){"use strict";t.exports={init:function(t){var e=i.nextPow2(t);l.length<e&&(n.free(l),l=n.mallocInt32(e)),c.length<e&&(n.free(c),c=n.mallocInt32(e)),d.length<e&&(n.free(d),d=n.mallocInt32(e)),u.length<e&&(n.free(u),u=n.mallocInt32(e)),h.length<e&&(n.free(h),h=n.mallocInt32(e)),f.length<e&&(n.free(f),f=n.mallocInt32(e));var r=8*e;p.length<r&&(n.free(p),p=n.mallocDouble(r))},sweepBipartite:function(t,e,r,n,i,s,h,f,b,v){for(var y=0,x=2*t,w=t-1,_=x-1,k=r;k<n;++k){var A=s[k],T=x*k;p[y++]=i[T+w],p[y++]=-(A+1),p[y++]=i[T+_],p[y++]=A}for(k=h;k<f;++k){A=v[k]+a;var M=x*k;p[y++]=b[M+w],p[y++]=-A,p[y++]=b[M+_],p[y++]=A}var S=y>>>1;o(p,S);var E=0,C=0;for(k=0;k<S;++k){var z=0|p[2*k+1];if(z>=a)m(d,u,C--,z=z-a|0);else if(z>=0)m(l,c,E--,z);else if(z<=-a){z=-z-a|0;for(var L=0;L<E;++L)if(void 0!==(O=e(l[L],z)))return O;g(d,u,C++,z)}else{for(z=-z-1|0,L=0;L<C;++L){var O;if(void 0!==(O=e(z,d[L])))return O}g(l,c,E++,z)}}},sweepComplete:function(t,e,r,n,i,a,s,b,v,y){for(var x=0,w=2*t,_=t-1,k=w-1,A=r;A<n;++A){var T=a[A]+1<<1,M=w*A;p[x++]=i[M+_],p[x++]=-T,p[x++]=i[M+k],p[x++]=T}for(A=s;A<b;++A){T=y[A]+1<<1;var S=w*A;p[x++]=v[S+_],p[x++]=1|-T,p[x++]=v[S+k],p[x++]=1|T}var E=x>>>1;o(p,E);var C=0,z=0,L=0;for(A=0;A<E;++A){var O=0|p[2*A+1],D=1&O;if(A<E-1&&O>>1==p[2*A+3]>>1&&(D=2,A+=1),O<0){for(var I=-(O>>1)-1,F=0;F<L;++F)if(void 0!==(R=e(h[F],I)))return R;if(0!==D)for(F=0;F<C;++F)if(void 0!==(R=e(l[F],I)))return R;if(1!==D)for(F=0;F<z;++F){var R;if(void 0!==(R=e(d[F],I)))return R}0===D?g(l,c,C++,I):1===D?g(d,u,z++,I):2===D&&g(h,f,L++,I)}else I=(O>>1)-1,0===D?m(l,c,C--,I):1===D?m(d,u,z--,I):2===D&&m(h,f,L--,I)}},scanBipartite:function(t,e,r,n,i,s,d,u,h,f,b,v){var y=0,x=2*t,w=e,_=e+t,k=1,A=1;n?A=a:k=a;for(var T=i;T<s;++T){var M=T+k,S=x*T;p[y++]=d[S+w],p[y++]=-M,p[y++]=d[S+_],p[y++]=M}for(T=h;T<f;++T){M=T+A;var E=x*T;p[y++]=b[E+w],p[y++]=-M}var C=y>>>1;o(p,C);var z=0;for(T=0;T<C;++T){var L=0|p[2*T+1];if(L<0){var O=!1;if((M=-L)>=a?(O=!n,M-=a):(O=!!n,M-=1),O)g(l,c,z++,M);else{var D=v[M],I=x*M,F=b[I+e+1],R=b[I+e+1+t];t:for(var P=0;P<z;++P){var j=l[P],N=x*j;if(!(R<d[N+e+1]||d[N+e+1+t]<F)){for(var B=e+2;B<t;++B)if(b[I+B+t]<d[N+B]||d[N+B+t]<b[I+B])continue t;var U,V=u[j];if(void 0!==(U=n?r(D,V):r(V,D)))return U}}}}else m(l,c,z--,L-k)}},scanComplete:function(t,e,r,n,i,s,c,d,u,h,f){for(var m=0,g=2*t,b=e,v=e+t,y=n;y<i;++y){var x=y+a,w=g*y;p[m++]=s[w+b],p[m++]=-x,p[m++]=s[w+v],p[m++]=x}for(y=d;y<u;++y){x=y+1;var _=g*y;p[m++]=h[_+b],p[m++]=-x}var k=m>>>1;o(p,k);var A=0;for(y=0;y<k;++y){var T=0|p[2*y+1];if(T<0)if((x=-T)>=a)l[A++]=x-a;else{var M=f[x-=1],S=g*x,E=h[S+e+1],C=h[S+e+1+t];t:for(var z=0;z<A;++z){var L=l[z],O=c[L];if(O===M)break;var D=g*L;if(!(C<s[D+e+1]||s[D+e+1+t]<E)){for(var I=e+2;I<t;++I)if(h[S+I+t]<s[D+I]||s[D+I+t]<h[S+I])continue t;var F=r(O,M);if(void 0!==F)return F}}}else{for(x=T-a,z=A-1;z>=0;--z)if(l[z]===x){for(I=z+1;I<A;++I)l[I-1]=l[I];break}--A}}}};var n=r(1888),i=r(8828),o=r(4192),a=1<<28,s=1024,l=n.mallocInt32(s),c=n.mallocInt32(s),d=n.mallocInt32(s),u=n.mallocInt32(s),h=n.mallocInt32(s),f=n.mallocInt32(s),p=n.mallocDouble(8192);function m(t,e,r,n){var i=e[n],o=t[r-1];t[i]=o,e[o]=i}function g(t,e,r,n){t[r]=n,e[n]=r}},868:function(t,e,r){t.exports=r(1387)},869:function(t,e,r){"use strict";var n=r(2651),i=r(5716);t.exports=function(t,e){var r=i(t),o=i(e);if(0===r)return[n(0),n(1)];if(0===o)return[n(0),n(0)];o<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);return a.cmpn(1)?[t.div(a),e.div(a)]:[t,e]}},870:function(t,e,r){"use strict";var n=r(1433);function i(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},i.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=function(t){return new i(t)}},946:function(t,e,r){"use strict";var n=r(1369),i=r(4025);t.exports=function(t){var e=t[0],r=t[1];if(0===e.cmpn(0))return 0;var o=e.abs().divmod(r.abs()),a=o.div,s=n(a),l=o.mod,c=e.negative!==r.negative?-1:1;if(0===l.cmpn(0))return c*s;if(s){var d=i(s)+4;return c*(s+(h=n(l.ushln(d).divRound(r)))*Math.pow(2,-d))}var u=r.bitLength()-l.bitLength()+53,h=n(l.ushln(u).divRound(r));return u<1023?c*h*Math.pow(2,-u):c*(h*=Math.pow(2,-1023))*Math.pow(2,1023-u)}},990:function(t,e,r){var n=r(9405),i=r(3236),o=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));\n  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);\n  vec4 clipPosition = projection * (view * worldPosition);\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color  in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));\n  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);\n\n  vec4 clipPosition = projection * (view * worldPosition);\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);e.createShader=function(t){var e=n(t,o,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createPickShader=function(t){var e=n(t,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createContourShader=function(t){var e=n(t,s,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},e.createPickContourShader=function(t){var e=n(t,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},1085:function(t,e,r){var n=r(1371);t.exports=function(t,e,r){e="number"==typeof e?e:1,r=r||": ";var i=t.split(/\r?\n/),o=String(i.length+e-1).length;return i.map((function(t,i){var a=i+e,s=String(a).length;return n(a,o-s)+r+t})).join("\n")}},1091:function(t){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},1125:function(t,e,r){"use strict";t.exports=function(t,e,r,i){var o=n(t,r,i),a=n(e,r,i);if(o>0&&a>0||o<0&&a<0)return!1;var s=n(r,t,e),l=n(i,t,e);return!(s>0&&l>0||s<0&&l<0)&&(0!==o||0!==a||0!==s||0!==l||function(t,e,r,n){for(var i=0;i<2;++i){var o=t[i],a=e[i],s=Math.min(o,a),l=Math.max(o,a),c=r[i],d=n[i],u=Math.min(c,d);if(Math.max(c,d)<s||l<u)return!1}return!0}(t,e,r,i))};var n=r(3250)[3]},1278:function(t,e,r){"use strict";var n=r(2361),i=Math.pow(2,-1074),o=-1>>>0;t.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-i:i;var r=n.hi(t),a=n.lo(t);return e>t==t>0?a===o?(r+=1,a=0):a+=1:0===a?(a=o,r-=1):a-=1,n.pack(a,r)}},1283:function(t,e,r){var n=r(9405),i=r(3236),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),c=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),d=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],u={vertex:o,fragment:l,attributes:d},h={vertex:a,fragment:l,attributes:d},f={vertex:s,fragment:l,attributes:d},p={vertex:o,fragment:c,attributes:d},m={vertex:a,fragment:c,attributes:d},g={vertex:s,fragment:c,attributes:d};function b(t,e){var r=n(t,e),i=r.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,r}e.createPerspective=function(t){return b(t,u)},e.createOrtho=function(t){return b(t,h)},e.createProject=function(t){return b(t,f)},e.createPickPerspective=function(t){return b(t,p)},e.createPickOrtho=function(t){return b(t,m)},e.createPickProject=function(t){return b(t,g)}},1303:function(t,e,r){"use strict";t.exports=function(t,e){var r,o,a,s;if(e[0][0]<e[1][0])r=e[0],o=e[1];else{if(!(e[0][0]>e[1][0]))return i(e,t);r=e[1],o=e[0]}if(t[0][0]<t[1][0])a=t[0],s=t[1];else{if(!(t[0][0]>t[1][0]))return-i(t,e);a=t[1],s=t[0]}var l=n(r,o,s),c=n(r,o,a);if(l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;if(l=n(s,a,o),c=n(s,a,r),l<0){if(c<=0)return l}else if(l>0){if(c>=0)return l}else if(c)return c;return o[0]-s[0]};var n=r(3250);function i(t,e){var r,i,o,a;if(e[0][0]<e[1][0])r=e[0],i=e[1];else{if(!(e[0][0]>e[1][0])){var s=Math.min(t[0][1],t[1][1]),l=Math.max(t[0][1],t[1][1]),c=Math.min(e[0][1],e[1][1]),d=Math.max(e[0][1],e[1][1]);return l<c?l-c:s>d?s-d:l-d}r=e[1],i=e[0]}t[0][1]<t[1][1]?(o=t[0],a=t[1]):(o=t[1],a=t[0]);var u=n(i,r,o);return u||(u=n(i,r,a))||a-i}},1318:function(t){"use strict";t.exports=function(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}},1338:function(t){"use strict";function e(t,r,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=r;else for(o=0;o<i;++o)a[o]=e(t,r,n+1);return a}t.exports=function(t,r){switch(void 0===r&&(r=0),typeof t){case"number":if(t>0)return function(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}},1369:function(t,e,r){"use strict";var n=r(5716);t.exports=function(t){var e=t.length,r=t.words,i=0;if(1===e)i=r[0];else if(2===e)i=r[0]+67108864*r[1];else for(var o=0;o<e;o++)i+=r[o]*Math.pow(67108864,o);return n(t)*i}},1371:function(t,e,r){"use strict";var n=r(3233);t.exports=function(t,e,r){return n(r=void 0!==r?r+"":" ",e)+t}},1373:function(t){t.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}},1387:function(t){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},1433:function(t){"use strict";t.exports=function(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var o=r[i];if(o.buffer){var a=o.buffer,s=o.size||4,l=o.type||t.FLOAT,c=!!o.normalized,d=o.stride||0,u=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,l,c,d,u)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else for(t.bindBuffer(t.ARRAY_BUFFER,null),i=0;i<n;++i)t.disableVertexAttribArray(i)}},1463:function(t){t.exports=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}},1493:function(t,e,r){"use strict";var n=r(3236),i=r(9405),o=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));\n  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),a=n(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);t.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},1498:function(t){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}},1533:function(t,e,r){"use strict";r(6859),t.exports=function(t){return t&&"object"==typeof t&&Boolean(t.words)}},1538:function(t){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=g);var e=!1;if("function"==typeof WeakMap){var r=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var n=new r,i=Object.freeze({});if(n.set(i,1),1===n.get(i))return void(t.exports=WeakMap);e=!0}}Object.prototype.hasOwnProperty;var o=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,l="weakmap:",c=l+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var d=new ArrayBuffer(25),u=new Uint8Array(d);crypto.getRandomValues(u),c=l+"rand:"+Array.prototype.map.call(u,(function(t){return(t%36).toString(36)})).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(t){return o(t).filter(b)}}),"getPropertyNames"in Object){var h=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(t){return h(t).filter(b)}})}!function(){var t=Object.freeze;a(Object,"freeze",{value:function(e){return v(e),t(e)}});var e=Object.seal;a(Object,"seal",{value:function(t){return v(t),e(t)}});var r=Object.preventExtensions;a(Object,"preventExtensions",{value:function(t){return v(t),r(t)}})}();var f=!1,p=0,m=function(){this instanceof m||x();var t=[],e=[],r=p++;return Object.create(m.prototype,{get___:{value:y((function(n,i){var o,a=v(n);return a?r in a?a[r]:i:(o=t.indexOf(n))>=0?e[o]:i}))},has___:{value:y((function(e){var n=v(e);return n?r in n:t.indexOf(e)>=0}))},set___:{value:y((function(n,i){var o,a=v(n);return a?a[r]=i:(o=t.indexOf(n))>=0?e[o]=i:(o=t.length,e[o]=i,t[o]=n),this}))},delete___:{value:y((function(n){var i,o,a=v(n);return a?r in a&&delete a[r]:!((i=t.indexOf(n))<0||(o=t.length-1,t[i]=void 0,e[i]=e[o],t[i]=t[o],t.length=o,e.length=o,0))}))}})};m.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof r?function(){function n(){this instanceof m||x();var t,n=new r,i=void 0,o=!1;return t=e?function(t,e){return n.set(t,e),n.has(t)||(i||(i=new m),i.set(t,e)),this}:function(t,e){if(o)try{n.set(t,e)}catch(r){i||(i=new m),i.set___(t,e)}else n.set(t,e);return this},Object.create(m.prototype,{get___:{value:y((function(t,e){return i?n.has(t)?n.get(t):i.get___(t,e):n.get(t,e)}))},has___:{value:y((function(t){return n.has(t)||!!i&&i.has___(t)}))},set___:{value:y(t)},delete___:{value:y((function(t){var e=!!n.delete(t);return i&&i.delete___(t)||e}))},permitHostObjects___:{value:y((function(t){if(t!==g)throw new Error("bogus call to permitHostObjects___");o=!0}))}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=m.prototype,t.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=m)}function g(t){t.permitHostObjects___&&t.permitHostObjects___(g)}function b(t){return!(t.substr(0,8)==l&&"___"===t.substr(t.length-3))}function v(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[c];if(e&&e.key===t)return e;if(s(t)){e={key:t};try{return a(t,c,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function y(t){return t.prototype=null,Object.freeze(t)}function x(){f||"undefined"==typeof console||(f=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},1570:function(t){"use strict";t.exports=function(t){return e[t]()};var e=[function(){return function(t,e,r,n){for(var i=t.length,o=0;o<i;++o)t[o].length;return[]}},function(){function t(t,e,r,n){for(var i=0|Math.min(r,n),o=0|Math.max(r,n),a=t[2*i],s=t[2*i+1];a<s;){var l=a+s>>1,c=e[2*l+1];if(c===o)return l;o<c?s=l:a=l+1}return a}return function(e,r,n,i){for(var o=e.length,a=[],s=0;s<o;++s){var l=e[s];if(2===l.length){var c=(0|i[l[0]])+(i[l[1]]<<1);if(0===c||3===c)continue;switch(c){case 0:case 3:break;case 1:a.push([t(n,r,l[0],l[1])]);break;case 2:a.push([t(n,r,l[1],l[0])])}}}return a}},function(){function t(t,e,r,n){for(var i=0|Math.min(r,n),o=0|Math.max(r,n),a=t[2*i],s=t[2*i+1];a<s;){var l=a+s>>1,c=e[2*l+1];if(c===o)return l;o<c?s=l:a=l+1}return a}return function(e,r,n,i){for(var o=e.length,a=[],s=0;s<o;++s){var l=e[s],c=l.length;if(3===c){if(0==(d=(0|i[l[0]])+(i[l[1]]<<1)+(i[l[2]]<<2))||7===d)continue;switch(d){case 0:case 7:break;case 1:a.push([t(n,r,l[0],l[2]),t(n,r,l[0],l[1])]);break;case 2:a.push([t(n,r,l[1],l[0]),t(n,r,l[1],l[2])]);break;case 3:a.push([t(n,r,l[0],l[2]),t(n,r,l[1],l[2])]);break;case 4:a.push([t(n,r,l[2],l[1]),t(n,r,l[2],l[0])]);break;case 5:a.push([t(n,r,l[2],l[1]),t(n,r,l[0],l[1])]);break;case 6:a.push([t(n,r,l[1],l[0]),t(n,r,l[2],l[0])])}}else if(2===c){var d;if(0==(d=(0|i[l[0]])+(i[l[1]]<<1))||3===d)continue;switch(d){case 0:case 3:break;case 1:a.push([t(n,r,l[0],l[1])]);break;case 2:a.push([t(n,r,l[1],l[0])])}}}return a}},function(){function t(t,e,r,n){for(var i=0|Math.min(r,n),o=0|Math.max(r,n),a=t[2*i],s=t[2*i+1];a<s;){var l=a+s>>1,c=e[2*l+1];if(c===o)return l;o<c?s=l:a=l+1}return a}return function(e,r,n,i){for(var o=e.length,a=[],s=0;s<o;++s){var l=e[s],c=l.length;if(4===c){if(0==(d=(0|i[l[0]])+(i[l[1]]<<1)+(i[l[2]]<<2)+(i[l[3]]<<3))||15===d)continue;switch(d){case 0:case 15:break;case 1:a.push([t(n,r,l[0],l[1]),t(n,r,l[0],l[2]),t(n,r,l[0],l[3])]);break;case 2:a.push([t(n,r,l[1],l[2]),t(n,r,l[1],l[0]),t(n,r,l[1],l[3])]);break;case 3:a.push([t(n,r,l[1],l[2]),t(n,r,l[0],l[2]),t(n,r,l[0],l[3])],[t(n,r,l[1],l[3]),t(n,r,l[1],l[2]),t(n,r,l[0],l[3])]);break;case 4:a.push([t(n,r,l[2],l[0]),t(n,r,l[2],l[1]),t(n,r,l[2],l[3])]);break;case 5:a.push([t(n,r,l[0],l[1]),t(n,r,l[2],l[1]),t(n,r,l[0],l[3])],[t(n,r,l[2],l[1]),t(n,r,l[2],l[3]),t(n,r,l[0],l[3])]);break;case 6:a.push([t(n,r,l[2],l[0]),t(n,r,l[1],l[0]),t(n,r,l[1],l[3])],[t(n,r,l[2],l[3]),t(n,r,l[2],l[0]),t(n,r,l[1],l[3])]);break;case 7:a.push([t(n,r,l[0],l[3]),t(n,r,l[1],l[3]),t(n,r,l[2],l[3])]);break;case 8:a.push([t(n,r,l[3],l[1]),t(n,r,l[3],l[0]),t(n,r,l[3],l[2])]);break;case 9:a.push([t(n,r,l[3],l[1]),t(n,r,l[0],l[1]),t(n,r,l[0],l[2])],[t(n,r,l[3],l[2]),t(n,r,l[3],l[1]),t(n,r,l[0],l[2])]);break;case 10:a.push([t(n,r,l[1],l[0]),t(n,r,l[3],l[0]),t(n,r,l[1],l[2])],[t(n,r,l[3],l[0]),t(n,r,l[3],l[2]),t(n,r,l[1],l[2])]);break;case 11:a.push([t(n,r,l[1],l[2]),t(n,r,l[0],l[2]),t(n,r,l[3],l[2])]);break;case 12:a.push([t(n,r,l[3],l[0]),t(n,r,l[2],l[0]),t(n,r,l[2],l[1])],[t(n,r,l[3],l[1]),t(n,r,l[3],l[0]),t(n,r,l[2],l[1])]);break;case 13:a.push([t(n,r,l[0],l[1]),t(n,r,l[2],l[1]),t(n,r,l[3],l[1])]);break;case 14:a.push([t(n,r,l[2],l[0]),t(n,r,l[1],l[0]),t(n,r,l[3],l[0])])}}else if(3===c){if(0==(d=(0|i[l[0]])+(i[l[1]]<<1)+(i[l[2]]<<2))||7===d)continue;switch(d){case 0:case 7:break;case 1:a.push([t(n,r,l[0],l[2]),t(n,r,l[0],l[1])]);break;case 2:a.push([t(n,r,l[1],l[0]),t(n,r,l[1],l[2])]);break;case 3:a.push([t(n,r,l[0],l[2]),t(n,r,l[1],l[2])]);break;case 4:a.push([t(n,r,l[2],l[1]),t(n,r,l[2],l[0])]);break;case 5:a.push([t(n,r,l[2],l[1]),t(n,r,l[0],l[1])]);break;case 6:a.push([t(n,r,l[1],l[0]),t(n,r,l[2],l[0])])}}else if(2===c){var d;if(0==(d=(0|i[l[0]])+(i[l[1]]<<1))||3===d)continue;switch(d){case 0:case 3:break;case 1:a.push([t(n,r,l[0],l[1])]);break;case 2:a.push([t(n,r,l[1],l[0])])}}}return a}}]},1682:function(t){"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],a=1;a<n;++a)if(o=i,e(i=t[a],o)){if(a===r){r++;continue}t[r++]=i}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;o<r;++o,i=n)if(i=n,(n=t[o])!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}(t))}},1755:function(t){"use strict";function e(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=e;var r=e.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var e=t,r=this.roots;r[t]!==t;)t=r[t];for(;r[e]!==t;){var n=r[e];r[e]=t,e=n}return t},r.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var i=this.ranks,o=this.roots,a=i[r],s=i[n];a<s?o[r]=n:s<a?o[n]=r:(o[n]=r,++i[r])}}},1811:function(t,e,r){"use strict";var n=r(2478),i=r(7442),o=r(7608),a=r(5567),s=r(2408),l=r(7089),c=r(6582),d=r(7656),u=(r(2504),r(3536)),h=[0,0,0];function f(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(t){return new f((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var p=f.prototype;p.recalcMatrix=function(t){var e=this._time,r=n.le(e,t),a=this.computedMatrix;if(!(r<0)){var s=this._components;if(r===e.length-1)for(var l=16*r,c=0;c<16;++c)a[c]=s[l++];else{var d=e[r+1]-e[r],h=(l=16*r,this.prevMatrix),f=!0;for(c=0;c<16;++c)h[c]=s[l++];var p=this.nextMatrix;for(c=0;c<16;++c)p[c]=s[l++],f=f&&h[c]===p[c];if(d<1e-6||f)for(c=0;c<16;++c)a[c]=h[c];else i(a,h,p,(t-e[r])/d)}var m=this.computedUp;m[0]=a[1],m[1]=a[5],m[2]=a[9],u(m,m);var g=this.computedInverse;o(g,a);var b=this.computedEye,v=g[15];b[0]=g[12]/v,b[1]=g[13]/v,b[2]=g[14]/v;var y=this.computedCenter,x=Math.exp(this.computedRadius[0]);for(c=0;c<3;++c)y[c]=b[c]-a[2+4*c]*x}},p.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,r=e.length-16,n=0;n<16;++n)e.push(e[r++]);this._time.push(t)}},p.flush=function(t){var e=n.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||h,n=n||this.computedUp,this.setMatrix(t,c(this.computedMatrix,e,r,n));for(var i=0,o=0;o<3;++o)i+=Math.pow(r[o]-e[o],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(t,e,r,n){this.recalcMatrix(t);var i=this.computedInverse;e&&s(i,i,e),r&&a(i,i,r),n&&l(i,i,n),this.setMatrix(t,o(this.computedMatrix,i))};var m=[0,0,0];p.pan=function(t,e,r,n){m[0]=-(e||0),m[1]=-(r||0),m[2]=-(n||0),this.recalcMatrix(t);var i=this.computedInverse;d(i,i,m),this.setMatrix(t,o(i,i))},p.translate=function(t,e,r,n){m[0]=e||0,m[1]=r||0,m[2]=n||0,this.recalcMatrix(t);var i=this.computedMatrix;d(i,i,m),this.setMatrix(t,i)},p.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var r=0;r<16;++r)this._components.push(e[r])}},p.setDistance=function(t,e){this.computedRadius[0]=e},p.setDistanceLimits=function(t,e){var r=this._limits;r[0]=t,r[1]=e},p.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},1848:function(t,e,r){var n=r(4905),i=r(6468);t.exports=function(t){for(var e=Array.isArray(t)?t:n(t),r=0;r<e.length;r++){var o=e[r];if("preprocessor"===o.type){var a=o.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?i(l):l).trim()}}}}},1879:function(t,e,r){"use strict";var n=r(3236),i=r(9405),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * (view * (model * vec4(p, 1.0)));\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),a=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.n=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"}])};var s=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * (view * (model * vec4(p, 1.0)));\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}\n"]),l=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.Q=function(t){return i(t,s,l,null,[{name:"position",type:"vec3"}])};var c=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}\n"]),d=n(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);e.bg=function(t){return i(t,c,d,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},1888:function(t,e,r){"use strict";var n=r(8828),i=r(1338),o=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,c=r.g.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var d=c.DATA,u=c.BUFFER;function h(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);d[r].push(t)}}function f(t){t=n.nextPow2(t);var e=n.log2(t),r=d[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(f(t),0,t)}function m(t){return new Uint16Array(f(2*t),0,t)}function g(t){return new Uint32Array(f(4*t),0,t)}function b(t){return new Int8Array(f(t),0,t)}function v(t){return new Int16Array(f(2*t),0,t)}function y(t){return new Int32Array(f(4*t),0,t)}function x(t){return new Float32Array(f(4*t),0,t)}function w(t){return new Float64Array(f(8*t),0,t)}function _(t){return a?new Uint8ClampedArray(f(t),0,t):p(t)}function k(t){return s?new BigUint64Array(f(8*t),0,t):null}function A(t){return l?new BigInt64Array(f(8*t),0,t):null}function T(t){return new DataView(f(t),0,t)}function M(t){t=n.nextPow2(t);var e=n.log2(t),r=u[e];return r.length>0?r.pop():new o(t)}e.free=function(t){if(o.isBuffer(t))u[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);d[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){h(t.buffer)},e.freeArrayBuffer=h,e.freeBuffer=function(t){u[n.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return f(t);switch(e){case"uint8":return p(t);case"uint16":return m(t);case"uint32":return g(t);case"int8":return b(t);case"int16":return v(t);case"int32":return y(t);case"float":case"float32":return x(t);case"double":case"float64":return w(t);case"uint8_clamped":return _(t);case"bigint64":return A(t);case"biguint64":return k(t);case"buffer":return M(t);case"data":case"dataview":return T(t);default:return null}return null},e.mallocArrayBuffer=f,e.mallocUint8=p,e.mallocUint16=m,e.mallocUint32=g,e.mallocInt8=b,e.mallocInt16=v,e.mallocInt32=y,e.mallocFloat32=e.mallocFloat=x,e.mallocFloat64=e.mallocDouble=w,e.mallocUint8Clamped=_,e.mallocBigUint64=k,e.mallocBigInt64=A,e.mallocDataView=T,e.mallocBuffer=M,e.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,d[t].length=0,u[t].length=0}},1903:function(t){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},1944:function(t,e,r){"use strict";var n=r(5250),i=r(8210);t.exports=function(t,e){for(var r=n(t[0],e[0]),o=1;o<t.length;++o)r=i(r,n(t[o],e[o]));return r}},1964:function(t,e,r){t.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot3d:r(4100),gl_scatter3d:r(8418),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},2014:function(t,e,r){"use strict";var n=r(3105),i=r(4623);function o(t,e){var r=t.length,n=t.length-e.length,i=Math.min;if(n)return n;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])||i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],a=e[0]+e[1];if(s=o+t[2]-(a+e[2]))return s;var s,l=i(t[0],t[1]),c=i(e[0],e[1]);return(s=i(l,t[2])-i(c,e[2]))||i(l+t[2],o)-i(c+e[2],a);default:var d=t.slice(0);d.sort();var u=e.slice(0);u.sort();for(var h=0;h<r;++h)if(n=d[h]-u[h])return n;return 0}}function a(t,e){return o(t[0],e[0])}function s(t,e){if(e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=[t[i],e[i]];for(n.sort(a),i=0;i<r;++i)t[i]=n[i][0],e[i]=n[i][1];return t}return t.sort(o),t}function l(t){if(0===t.length)return[];for(var e=1,r=t.length,n=1;n<r;++n){var i=t[n];if(o(i,t[n-1])){if(n===e){e++;continue}t[e++]=i}}return t.length=e,t}function c(t,e){for(var r=0,n=t.length-1,i=-1;r<=n;){var a=r+n>>1,s=o(t[a],e);s<=0?(0===s&&(i=a),r=a+1):s>0&&(n=a-1)}return i}function d(t,e){for(var r=new Array(t.length),i=0,a=r.length;i<a;++i)r[i]=[];for(var s=[],l=(i=0,e.length);i<l;++i)for(var d=e[i],u=d.length,h=1,f=1<<u;h<f;++h){s.length=n.popCount(h);for(var p=0,m=0;m<u;++m)h&1<<m&&(s[p++]=d[m]);var g=c(t,s);if(!(g<0))for(;r[g++].push(i),!(g>=t.length||0!==o(t[g],s)););}return r}function u(t,e){if(e<0)return[];for(var r=[],i=(1<<e+1)-1,o=0;o<t.length;++o)for(var a=t[o],l=i;l<1<<a.length;l=n.nextCombination(l)){for(var c=new Array(e+1),d=0,u=0;u<a.length;++u)l&1<<u&&(c[d++]=a[u]);r.push(c)}return s(r)}e.dimension=function(t){for(var e=0,r=Math.max,n=0,i=t.length;n<i;++n)e=r(e,t[n].length);return e-1},e.countVertices=function(t){for(var e=-1,r=Math.max,n=0,i=t.length;n<i;++n)for(var o=t[n],a=0,s=o.length;a<s;++a)e=r(e,o[a]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),r=0,n=t.length;r<n;++r)e[r]=t[r].slice(0);return e},e.compareCells=o,e.normalize=s,e.unique=l,e.findCell=c,e.incidence=d,e.dual=function(t,e){if(!e)return d(l(u(t,0)),t);for(var r=new Array(e),n=0;n<e;++n)r[n]=[];n=0;for(var i=t.length;n<i;++n)for(var o=t[n],a=0,s=o.length;a<s;++a)r[o[a]].push(n);return r},e.explode=function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0|i.length,a=1,l=1<<o;a<l;++a){for(var c=[],d=0;d<o;++d)a>>>d&1&&c.push(i[d]);e.push(c)}return s(e)},e.skeleton=u,e.boundary=function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;++o){for(var l=new Array(i.length-1),c=0,d=0;c<a;++c)c!==o&&(l[d++]=i[c]);e.push(l)}return s(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var r=new i(e),n=0;n<t.length;++n)for(var o=t[n],a=0;a<o.length;++a)for(var s=a+1;s<o.length;++s)r.link(o[a],o[s]);var l=[],c=r.ranks;for(n=0;n<c.length;++n)c[n]=-1;for(n=0;n<t.length;++n){var d=r.find(t[n][0]);c[d]<0?(c[d]=l.length,l.push([t[n].slice(0)])):l[c[d]].push(t[n].slice(0))}return l}(t,e):function(t){for(var e=l(s(u(t,0))),r=new i(e.length),n=0;n<t.length;++n)for(var o=t[n],a=0;a<o.length;++a)for(var d=c(e,[o[a]]),h=a+1;h<o.length;++h)r.link(d,c(e,[o[h]]));var f=[],p=r.ranks;for(n=0;n<p.length;++n)p[n]=-1;for(n=0;n<t.length;++n){var m=r.find(c(e,[t[n][0]]));p[m]<0?(p[m]=f.length,f.push([t[n].slice(0)])):f[p[m]].push(t[n].slice(0))}return f}(t)}},2095:function(t,e,r){"use strict";t.exports=function(t,e){var r=c(t,e);t=r[0];for(var u=(e=r[1]).length,h=(t.length,n(t,e.length)),f=0;f<u;++f)if(h[f].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var p=i(t,e),m=(p=p.filter((function(t){for(var r=t.length,n=[0],i=0;i<r;++i){var o=e[t[i]],l=e[t[(i+1)%r]],c=a(-o[0],o[1]),d=a(-o[0],l[1]),u=a(l[0],o[1]),h=a(l[0],l[1]);n=s(n,s(s(c,d),s(u,h)))}return n[n.length-1]>0}))).length,g=new Array(m),b=new Array(m);for(f=0;f<m;++f){g[f]=f;var v=new Array(m),y=p[f].map((function(t){return e[t]})),x=o([y]),w=0;t:for(var _=0;_<m;++_)if(v[_]=0,f!==_){for(var k=(G=p[_]).length,A=0;A<k;++A){var T=x(e[G[A]]);if(0!==T){T<0&&(v[_]=1,w+=1);continue t}}v[_]=1,w+=1}b[f]=[w,f,v]}for(b.sort((function(t,e){return e[0]-t[0]})),f=0;f<m;++f){var M=(v=b[f])[1],S=v[2];for(_=0;_<m;++_)S[_]&&(g[_]=M)}var E=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=[];return e}(m);for(f=0;f<m;++f)E[f].push(g[f]),E[g[f]].push(f);var C={},z=d(u,!1);for(f=0;f<m;++f)for(k=(G=p[f]).length,_=0;_<k;++_){var L=G[_],O=G[(_+1)%k],D=Math.min(L,O)+":"+Math.max(L,O);if(D in C){var I=C[D];E[I].push(f),E[f].push(I),z[L]=z[O]=!0}else C[D]=f}function F(t){for(var e=t.length,r=0;r<e;++r)if(!z[t[r]])return!1;return!0}var R=[],P=d(m,-1);for(f=0;f<m;++f)g[f]!==f||F(p[f])?P[f]=-1:(R.push(f),P[f]=0);for(r=[];R.length>0;){var j=R.pop(),N=E[j];l(N,(function(t,e){return t-e}));var B,U=N.length,V=P[j];for(0===V&&(B=[G=p[j]]),f=0;f<U;++f){var G,H=N[f];P[H]>=0||(P[H]=1^V,R.push(H),0===V&&(F(G=p[H])||(G.reverse(),B.push(G))))}0===V&&r.push(B)}return r};var n=r(3134),i=r(3088),o=r(5085),a=r(5250),s=r(8210),l=r(1682),c=r(5609);function d(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}},2145:function(t,e){"use strict";e.uniforms=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=[],o=0;o<r;++o){var a=t.getActiveUniform(e,o);if(a){var s=i(t,a.type);if(a.size>1)for(var l=0;l<a.size;++l)n.push({name:a.name.replace("[0]","["+l+"]"),type:s});else n.push({name:a.name,type:s})}}return n},e.attributes=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=[],o=0;o<r;++o){var a=t.getActiveAttrib(e,o);a&&n.push({name:a.name,type:i(t,a.type)})}return n};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},n=null;function i(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]}},2229:function(t,e,r){t.exports=r(6843)},2260:function(t,e,r){"use strict";var n=r(7766);t.exports=function(t,e,r,n){i||(i=t.FRAMEBUFFER_UNSUPPORTED,o=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var c=t.getExtension("WEBGL_draw_buffers");if(!l&&c&&function(t,e){var r=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(r+1);for(var n=0;n<=r;++n){for(var i=new Array(r),o=0;o<n;++o)i[o]=t.COLOR_ATTACHMENT0+o;for(o=n;o<r;++o)i[o]=t.NONE;l[n]=i}}(t,c),Array.isArray(e)&&(n=r,r=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var d=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>d||r<0||r>d)throw new Error("gl-fbo: Parameters are too large for FBO");var u=1;if("color"in(n=n||{})){if((u=Math.max(0|n.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(u>1){if(!c)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(u>t.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+u+" draw buffers")}}var h=t.UNSIGNED_BYTE,f=t.getExtension("OES_texture_float");if(n.float&&u>0){if(!f)throw new Error("gl-fbo: Context does not support floating point textures");h=t.FLOAT}else n.preferFloat&&u>0&&f&&(h=t.FLOAT);var m=!0;"depth"in n&&(m=!!n.depth);var g=!1;return"stencil"in n&&(g=!!n.stencil),new p(t,e,r,h,u,m,g,c)};var i,o,a,s,l=null;function c(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function d(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function u(t){switch(t){case i:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function h(t,e,r,i,o,a){if(!i)return null;var s=n(t,e,r,o,i);return s.magFilter=t.NEAREST,s.minFilter=t.NEAREST,s.mipSamples=1,s.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,a,t.TEXTURE_2D,s.handle,0),s}function f(t,e,r,n,i){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,n,e,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,o),o}function p(t,e,r,n,i,o,a,s){this.gl=t,this._shape=[0|e,0|r],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var p=0;p<i;++p)this.color[p]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=o,this._useStencil=a;var m=this,g=[0|e,0|r];Object.defineProperties(g,{0:{get:function(){return m._shape[0]},set:function(t){return m.width=t}},1:{get:function(){return m._shape[1]},set:function(t){return m.height=t}}}),this._shapeVector=g,function(t){var e=c(t.gl),r=t.gl,n=t.handle=r.createFramebuffer(),i=t._shape[0],o=t._shape[1],a=t.color.length,s=t._ext,p=t._useStencil,m=t._useDepth,g=t._colorType;r.bindFramebuffer(r.FRAMEBUFFER,n);for(var b=0;b<a;++b)t.color[b]=h(r,i,o,g,r.RGBA,r.COLOR_ATTACHMENT0+b);0===a?(t._color_rb=f(r,i,o,r.RGBA4,r.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):a>1&&s.drawBuffersWEBGL(l[a]);var v=r.getExtension("WEBGL_depth_texture");v?p?t.depth=h(r,i,o,v.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):m&&(t.depth=h(r,i,o,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):m&&p?t._depth_rb=f(r,i,o,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):m?t._depth_rb=f(r,i,o,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):p&&(t._depth_rb=f(r,i,o,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var y=r.checkFramebufferStatus(r.FRAMEBUFFER);if(y!==r.FRAMEBUFFER_COMPLETE){for(t._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(r.deleteRenderbuffer(t._depth_rb),t._depth_rb=null),b=0;b<t.color.length;++b)t.color[b].dispose(),t.color[b]=null;t._color_rb&&(r.deleteRenderbuffer(t._color_rb),t._color_rb=null),d(r,e),u(y)}d(r,e)}(this)}var m=p.prototype;function g(t,e,r){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==r){var n=t.gl,i=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=r;for(var o=c(n),a=0;a<t.color.length;++a)t.color[a].shape=t._shape;t._color_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,t._color_rb),n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX,t._shape[0],t._shape[1])),n.bindFramebuffer(n.FRAMEBUFFER,t.handle);var s=n.checkFramebufferStatus(n.FRAMEBUFFER);s!==n.FRAMEBUFFER_COMPLETE&&(t.dispose(),d(n,o),u(s)),d(n,o)}}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],r=0|t[1];return g(this,e,r),[e,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return g(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,g(this,this._shape[0],t),t},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2272:function(t,e,r){"use strict";var n=r(2646)[4];function i(t,e,r,i,o,a){var s=e.opposite(i,o);if(!(s<0)){if(o<i){var l=i;i=o,o=l,l=a,a=s,s=l}e.isConstraint(i,o)||n(t[i],t[o],t[a],t[s])<0&&r.push(i,o)}}r(2478),t.exports=function(t,e){for(var r=[],o=t.length,a=e.stars,s=0;s<o;++s)for(var l=a[s],c=1;c<l.length;c+=2)if(!((f=l[c])<s||e.isConstraint(s,f))){for(var d=l[c-1],u=-1,h=1;h<l.length;h+=2)if(l[h-1]===f){u=l[h];break}u<0||n(t[s],t[f],t[d],t[u])<0&&r.push(s,f)}for(;r.length>0;){for(var f=r.pop(),p=(d=-1,u=-1,l=a[s=r.pop()],1);p<l.length;p+=2){var m=l[p-1],g=l[p];m===f?u=g:g===f&&(d=m)}d<0||u<0||n(t[s],t[f],t[d],t[u])>=0||(e.flip(s,f),i(t,e,r,d,s,u),i(t,e,r,s,u,d),i(t,e,r,u,f,d),i(t,e,r,f,d,u))}}},2334:function(t){t.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}},2335:function(t){t.exports=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},2361:function(t){var e=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),n=new Uint32Array(r.buffer);r[0]=1,e=!0,1072693248===n[1]?(t.exports=function(t){return r[0]=t,[n[0],n[1]]},t.exports.pack=function(t,e){return n[0]=t,n[1]=e,r[0]},t.exports.lo=function(t){return r[0]=t,n[0]},t.exports.hi=function(t){return r[0]=t,n[1]}):1072693248===n[0]?(t.exports=function(t){return r[0]=t,[n[1],n[0]]},t.exports.pack=function(t,e){return n[1]=t,n[0]=e,r[0]},t.exports.lo=function(t){return r[0]=t,n[1]},t.exports.hi=function(t){return r[0]=t,n[0]}):e=!1}if(!e){var i=new Buffer(8);t.exports=function(t){return i.writeDoubleLE(t,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},t.exports.pack=function(t,e){return i.writeUInt32LE(t,0,!0),i.writeUInt32LE(e,4,!0),i.readDoubleLE(0,!0)},t.exports.lo=function(t){return i.writeDoubleLE(t,0,!0),i.readUInt32LE(0,!0)},t.exports.hi=function(t){return i.writeDoubleLE(t,0,!0),i.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var r=t.exports.lo(e),n=t.exports.hi(e),i=1048575&n;return 2146435072&n&&(i+=1<<20),[r,i]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}},2408:function(t){t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],d=e[9],u=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*n,t[1]=a*i-d*n,t[2]=s*i-u*n,t[3]=l*i-h*n,t[8]=o*n+c*i,t[9]=a*n+d*i,t[10]=s*n+u*i,t[11]=l*n+h*i,t}},2419:function(t){"use strict";t.exports=function(t){for(var e=1,r=1;r<t.length;++r)for(var n=0;n<r;++n)if(t[r]<t[n])e=-e;else if(t[n]===t[r])return 0;return e}},2447:function(t){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},2455:function(t,e){"use strict";function r(t){return t?function(t,e,r,n,i,o,a,s,l,c,d){return i-n>l-s?function(t,e,r,n,i,o,a,s,l,c,d){for(var u=2*t,h=n,f=u*n;h<i;++h,f+=u){var p=o[e+f],m=o[e+f+t],g=a[h];t:for(var b=s,v=u*s;b<l;++b,v+=u){var y=c[e+v],x=c[e+v+t],w=d[b];if(!(x<p||m<y)){for(var _=e+1;_<t;++_){var k=o[_+f],A=o[_+t+f],T=c[_+v],M=c[_+t+v];if(A<T||M<k)continue t}var S=r(g,w);if(void 0!==S)return S}}}}(t,e,r,n,i,o,a,s,l,c,d):function(t,e,r,n,i,o,a,s,l,c,d){for(var u=2*t,h=s,f=u*s;h<l;++h,f+=u){var p=c[e+f],m=c[e+f+t],g=d[h];t:for(var b=n,v=u*n;b<i;++b,v+=u){var y=o[e+v],x=o[e+v+t],w=a[b];if(!(m<y||x<p)){for(var _=e+1;_<t;++_){var k=o[_+v],A=o[_+t+v],T=c[_+f],M=c[_+t+f];if(A<T||M<k)continue t}var S=r(w,g);if(void 0!==S)return S}}}}(t,e,r,n,i,o,a,s,l,c,d)}:function(t,e,r,n,i,o,a,s,l,c,d,u){return o-i>c-l?n?function(t,e,r,n,i,o,a,s,l,c,d){for(var u=2*t,h=n,f=u*n;h<i;++h,f+=u){var p=o[e+f],m=o[e+f+t],g=a[h];t:for(var b=s,v=u*s;b<l;++b,v+=u){var y=c[e+v],x=d[b];if(!(y<=p||m<y)){for(var w=e+1;w<t;++w){var _=o[w+f],k=o[w+t+f],A=c[w+v],T=c[w+t+v];if(k<A||T<_)continue t}var M=r(x,g);if(void 0!==M)return M}}}}(t,e,r,i,o,a,s,l,c,d,u):function(t,e,r,n,i,o,a,s,l,c,d){for(var u=2*t,h=n,f=u*n;h<i;++h,f+=u){var p=o[e+f],m=o[e+f+t],g=a[h];t:for(var b=s,v=u*s;b<l;++b,v+=u){var y=c[e+v],x=d[b];if(!(y<p||m<y)){for(var w=e+1;w<t;++w){var _=o[w+f],k=o[w+t+f],A=c[w+v],T=c[w+t+v];if(k<A||T<_)continue t}var M=r(g,x);if(void 0!==M)return M}}}}(t,e,r,i,o,a,s,l,c,d,u):n?function(t,e,r,n,i,o,a,s,l,c,d){for(var u=2*t,h=s,f=u*s;h<l;++h,f+=u){var p=c[e+f],m=d[h];t:for(var g=n,b=u*n;g<i;++g,b+=u){var v=o[e+b],y=o[e+b+t],x=a[g];if(!(p<=v||y<p)){for(var w=e+1;w<t;++w){var _=o[w+b],k=o[w+t+b],A=c[w+f],T=c[w+t+f];if(k<A||T<_)continue t}var M=r(m,x);if(void 0!==M)return M}}}}(t,e,r,i,o,a,s,l,c,d,u):function(t,e,r,n,i,o,a,s,l,c,d){for(var u=2*t,h=s,f=u*s;h<l;++h,f+=u){var p=c[e+f],m=d[h];t:for(var g=n,b=u*n;g<i;++g,b+=u){var v=o[e+b],y=o[e+b+t],x=a[g];if(!(p<v||y<p)){for(var w=e+1;w<t;++w){var _=o[w+b],k=o[w+t+b],A=c[w+f],T=c[w+t+f];if(k<A||T<_)continue t}var M=r(x,m);if(void 0!==M)return M}}}}(t,e,r,i,o,a,s,l,c,d,u)}}e.partial=r(!1),e.full=r(!0)},2478:function(t){"use strict";function e(t,e,r,n,i){for(var o=i+1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)>=0?(o=a,i=a-1):n=a+1}return o}function r(t,e,r,n,i){for(var o=i+1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)>0?(o=a,i=a-1):n=a+1}return o}function n(t,e,r,n,i){for(var o=n-1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)<0?(o=a,n=a+1):i=a-1}return o}function i(t,e,r,n,i){for(var o=n-1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)<=0?(o=a,n=a+1):i=a-1}return o}function o(t,e,r,n,i){for(;n<=i;){var o=n+i>>>1,a=t[o],s=void 0!==r?r(a,e):a-e;if(0===s)return o;s<=0?n=o+1:i=o-1}return-1}function a(t,e,r,n,i,o){return"function"==typeof r?o(t,e,r,void 0===n?0:0|n,void 0===i?t.length-1:0|i):o(t,e,void 0,void 0===r?0:0|r,void 0===n?t.length-1:0|n)}t.exports={ge:function(t,r,n,i,o){return a(t,r,n,i,o,e)},gt:function(t,e,n,i,o){return a(t,e,n,i,o,r)},lt:function(t,e,r,i,o){return a(t,e,r,i,o,n)},le:function(t,e,r,n,o){return a(t,e,r,n,o,i)},eq:function(t,e,r,n,i){return a(t,e,r,n,i,o)}}},2504:function(t){t.exports=function(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},2538:function(t,e,r){"use strict";var n=r(8902),i=r(5542),o=r(2272),a=r(5023);function s(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function l(t,e){return t[0]-e[0]||t[1]-e[1]}function c(t,e,r){return e in t?t[e]:r}t.exports=function(t,e,r){Array.isArray(e)?(r=r||{},e=e||[]):(r=e||{},e=[]);var d=!!c(r,"delaunay",!0),u=!!c(r,"interior",!0),h=!!c(r,"exterior",!0),f=!!c(r,"infinity",!1);if(!u&&!h||0===t.length)return[];var p=n(t,e);if(d||u!==h||f){for(var m=i(t.length,function(t){return t.map(s).sort(l)}(e)),g=0;g<p.length;++g){var b=p[g];m.addTriangle(b[0],b[1],b[2])}return d&&o(t,m),h?u?f?a(m,0,f):m.cells():a(m,1,f):a(m,-1)}return p}},2573:function(t){t.exports=function(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t[3]=s+n*(r[3]-s),t}},2613:function(t){t.exports=1e-6},2640:function(t,e,r){"use strict";var n=r(1888);t.exports=function(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var r=t.order;Array.isArray(r)||e("Must specify order");var o=t.arrayArguments||1;o<1&&e("Must have at least one array argument"),(t.scalarArguments||0)<0&&e("Scalar arg count must be > 0"),"function"!=typeof t.vertex&&e("Must specify vertex creation function"),"function"!=typeof t.cell&&e("Must specify cell creation function"),"function"!=typeof t.phase&&e("Must specify phase function");for(var a=t.getters||[],s=new Array(o),l=0;l<o;++l)a.indexOf(l)>=0?s[l]=!0:s[l]=!1;return function(t,e,r,o,a,s){var l=[s,a].join(",");return(0,i[l])(t,e,r,n.mallocUint32,n.freeUint32)}(t.vertex,t.cell,t.phase,0,r,s)};var i={"false,0,1":function(t,e,r,n,i){return function(o,a,s,l){var c,d=0|o.shape[0],u=0|o.shape[1],h=o.data,f=0|o.offset,p=0|o.stride[0],m=0|o.stride[1],g=f,b=0|-p,v=0,y=0|-m,x=0,w=-p-m|0,_=0,k=0|p,A=m-p*d|0,T=0,M=0,S=0,E=2*d|0,C=n(E),z=n(E),L=0,O=0,D=-1,I=-1,F=0,R=0|-d,P=0|d,j=0,N=-d-1|0,B=d-1|0,U=0,V=0,G=0;for(T=0;T<d;++T)C[L++]=r(h[g],a,s,l),g+=k;if(g+=A,u>0){if(M=1,C[L++]=r(h[g],a,s,l),g+=k,d>0)for(T=1,c=h[g],O=C[L]=r(c,a,s,l),F=C[L+D],j=C[L+R],U=C[L+N],O===F&&O===j&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,F,j,U,a,s,l),V=z[L]=S++),L+=1,g+=k,T=2;T<d;++T)c=h[g],O=C[L]=r(c,a,s,l),F=C[L+D],j=C[L+R],U=C[L+N],O===F&&O===j&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,F,j,U,a,s,l),V=z[L]=S++,U!==F&&e(z[L+D],V,_,v,U,F,a,s,l)),L+=1,g+=k;for(g+=A,L=0,G=D,D=I,I=G,G=R,R=P,P=G,G=N,N=B,B=G,M=2;M<u;++M){if(C[L++]=r(h[g],a,s,l),g+=k,d>0)for(T=1,c=h[g],O=C[L]=r(c,a,s,l),F=C[L+D],j=C[L+R],U=C[L+N],O===F&&O===j&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,F,j,U,a,s,l),V=z[L]=S++,U!==j&&e(z[L+R],V,x,_,j,U,a,s,l)),L+=1,g+=k,T=2;T<d;++T)c=h[g],O=C[L]=r(c,a,s,l),F=C[L+D],j=C[L+R],U=C[L+N],O===F&&O===j&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,F,j,U,a,s,l),V=z[L]=S++,U!==j&&e(z[L+R],V,x,_,j,U,a,s,l),U!==F&&e(z[L+D],V,_,v,U,F,a,s,l)),L+=1,g+=k;1&M&&(L=0),G=D,D=I,I=G,G=R,R=P,P=G,G=N,N=B,B=G,g+=A}}i(z),i(C)}},"false,1,0":function(t,e,r,n,i){return function(o,a,s,l){var c,d=0|o.shape[0],u=0|o.shape[1],h=o.data,f=0|o.offset,p=0|o.stride[0],m=0|o.stride[1],g=f,b=0|-p,v=0,y=0|-m,x=0,w=-p-m|0,_=0,k=0|m,A=p-m*u|0,T=0,M=0,S=0,E=2*u|0,C=n(E),z=n(E),L=0,O=0,D=-1,I=-1,F=0,R=0|-u,P=0|u,j=0,N=-u-1|0,B=u-1|0,U=0,V=0,G=0;for(M=0;M<u;++M)C[L++]=r(h[g],a,s,l),g+=k;if(g+=A,d>0){if(T=1,C[L++]=r(h[g],a,s,l),g+=k,u>0)for(M=1,c=h[g],O=C[L]=r(c,a,s,l),j=C[L+R],F=C[L+D],U=C[L+N],O===j&&O===F&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,j,F,U,a,s,l),V=z[L]=S++),L+=1,g+=k,M=2;M<u;++M)c=h[g],O=C[L]=r(c,a,s,l),j=C[L+R],F=C[L+D],U=C[L+N],O===j&&O===F&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,j,F,U,a,s,l),V=z[L]=S++,U!==F&&e(z[L+D],V,x,_,F,U,a,s,l)),L+=1,g+=k;for(g+=A,L=0,G=R,R=P,P=G,G=D,D=I,I=G,G=N,N=B,B=G,T=2;T<d;++T){if(C[L++]=r(h[g],a,s,l),g+=k,u>0)for(M=1,c=h[g],O=C[L]=r(c,a,s,l),j=C[L+R],F=C[L+D],U=C[L+N],O===j&&O===F&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,j,F,U,a,s,l),V=z[L]=S++,U!==j&&e(z[L+R],V,_,v,U,j,a,s,l)),L+=1,g+=k,M=2;M<u;++M)c=h[g],O=C[L]=r(c,a,s,l),j=C[L+R],F=C[L+D],U=C[L+N],O===j&&O===F&&O===U||(v=h[g+b],x=h[g+y],_=h[g+w],t(T,M,c,v,x,_,O,j,F,U,a,s,l),V=z[L]=S++,U!==F&&e(z[L+D],V,x,_,F,U,a,s,l),U!==j&&e(z[L+R],V,_,v,U,j,a,s,l)),L+=1,g+=k;1&T&&(L=0),G=R,R=P,P=G,G=D,D=I,I=G,G=N,N=B,B=G,g+=A}}i(z),i(C)}}}},2642:function(t,e,r){"use strict";t.exports=function(t,e){for(var r=e.length,o=new Array(r+1),a=0;a<r;++a){for(var s=new Array(r+1),l=0;l<=r;++l)s[l]=t[l][a];o[a]=s}for(o[r]=new Array(r+1),a=0;a<=r;++a)o[r][a]=1;var c=new Array(r+1);for(a=0;a<r;++a)c[a]=e[a];c[r]=1;var d=n(o,c),u=i(d[r+1]);0===u&&(u=1);var h=new Array(r+1);for(a=0;a<=r;++a)h[a]=i(d[a])/u;return h};var n=r(727);function i(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return e}},2646:function(t,e,r){"use strict";var n=r(5250),i=r(8210),o=r(8545),a=r(3012);function s(t){return(3===t?l:4===t?c:5===t?d:u)(i,o,n,a)}function l(t,e,r,n){return function(i,o,a){var s=r(i[0],i[0]),l=n(s,o[0]),c=n(s,a[0]),d=r(o[0],o[0]),u=n(d,i[0]),h=n(d,a[0]),f=r(a[0],a[0]),p=n(f,i[0]),m=n(f,o[0]),g=t(e(m,h),e(u,l)),b=e(p,c),v=e(g,b);return v[v.length-1]}}function c(t,e,r,n){return function(i,o,a,s){var l=t(r(i[0],i[0]),r(i[1],i[1])),c=n(l,o[0]),d=n(l,a[0]),u=n(l,s[0]),h=t(r(o[0],o[0]),r(o[1],o[1])),f=n(h,i[0]),p=n(h,a[0]),m=n(h,s[0]),g=t(r(a[0],a[0]),r(a[1],a[1])),b=n(g,i[0]),v=n(g,o[0]),y=n(g,s[0]),x=t(r(s[0],s[0]),r(s[1],s[1])),w=n(x,i[0]),_=n(x,o[0]),k=n(x,a[0]),A=t(t(n(e(k,y),o[1]),t(n(e(_,m),-a[1]),n(e(v,p),s[1]))),t(n(e(_,m),i[1]),t(n(e(w,u),-o[1]),n(e(f,c),s[1])))),T=t(t(n(e(k,y),i[1]),t(n(e(w,u),-a[1]),n(e(b,d),s[1]))),t(n(e(v,p),i[1]),t(n(e(b,d),-o[1]),n(e(f,c),a[1])))),M=e(A,T);return M[M.length-1]}}function d(t,e,r,n){return function(i,o,a,s,l){var c=t(r(i[0],i[0]),t(r(i[1],i[1]),r(i[2],i[2]))),d=n(c,o[0]),u=n(c,a[0]),h=n(c,s[0]),f=n(c,l[0]),p=t(r(o[0],o[0]),t(r(o[1],o[1]),r(o[2],o[2]))),m=n(p,i[0]),g=n(p,a[0]),b=n(p,s[0]),v=n(p,l[0]),y=t(r(a[0],a[0]),t(r(a[1],a[1]),r(a[2],a[2]))),x=n(y,i[0]),w=n(y,o[0]),_=n(y,s[0]),k=n(y,l[0]),A=t(r(s[0],s[0]),t(r(s[1],s[1]),r(s[2],s[2]))),T=n(A,i[0]),M=n(A,o[0]),S=n(A,a[0]),E=n(A,l[0]),C=t(r(l[0],l[0]),t(r(l[1],l[1]),r(l[2],l[2]))),z=n(C,i[0]),L=n(C,o[0]),O=n(C,a[0]),D=n(C,s[0]),I=t(t(t(n(t(n(e(D,E),a[1]),t(n(e(O,k),-s[1]),n(e(S,_),l[1]))),o[2]),t(n(t(n(e(D,E),o[1]),t(n(e(L,v),-s[1]),n(e(M,b),l[1]))),-a[2]),n(t(n(e(O,k),o[1]),t(n(e(L,v),-a[1]),n(e(w,g),l[1]))),s[2]))),t(n(t(n(e(S,_),o[1]),t(n(e(M,b),-a[1]),n(e(w,g),s[1]))),-l[2]),t(n(t(n(e(D,E),o[1]),t(n(e(L,v),-s[1]),n(e(M,b),l[1]))),i[2]),n(t(n(e(D,E),i[1]),t(n(e(z,f),-s[1]),n(e(T,h),l[1]))),-o[2])))),t(t(n(t(n(e(L,v),i[1]),t(n(e(z,f),-o[1]),n(e(m,d),l[1]))),s[2]),t(n(t(n(e(M,b),i[1]),t(n(e(T,h),-o[1]),n(e(m,d),s[1]))),-l[2]),n(t(n(e(S,_),o[1]),t(n(e(M,b),-a[1]),n(e(w,g),s[1]))),i[2]))),t(n(t(n(e(S,_),i[1]),t(n(e(T,h),-a[1]),n(e(x,u),s[1]))),-o[2]),t(n(t(n(e(M,b),i[1]),t(n(e(T,h),-o[1]),n(e(m,d),s[1]))),a[2]),n(t(n(e(w,g),i[1]),t(n(e(x,u),-o[1]),n(e(m,d),a[1]))),-s[2]))))),F=t(t(t(n(t(n(e(D,E),a[1]),t(n(e(O,k),-s[1]),n(e(S,_),l[1]))),i[2]),n(t(n(e(D,E),i[1]),t(n(e(z,f),-s[1]),n(e(T,h),l[1]))),-a[2])),t(n(t(n(e(O,k),i[1]),t(n(e(z,f),-a[1]),n(e(x,u),l[1]))),s[2]),n(t(n(e(S,_),i[1]),t(n(e(T,h),-a[1]),n(e(x,u),s[1]))),-l[2]))),t(t(n(t(n(e(O,k),o[1]),t(n(e(L,v),-a[1]),n(e(w,g),l[1]))),i[2]),n(t(n(e(O,k),i[1]),t(n(e(z,f),-a[1]),n(e(x,u),l[1]))),-o[2])),t(n(t(n(e(L,v),i[1]),t(n(e(z,f),-o[1]),n(e(m,d),l[1]))),a[2]),n(t(n(e(w,g),i[1]),t(n(e(x,u),-o[1]),n(e(m,d),a[1]))),-l[2])))),R=e(I,F);return R[R.length-1]}}function u(t,e,r,n){return function(i,o,a,s,l,c){var d=t(t(r(i[0],i[0]),r(i[1],i[1])),t(r(i[2],i[2]),r(i[3],i[3]))),u=n(d,o[0]),h=n(d,a[0]),f=n(d,s[0]),p=n(d,l[0]),m=n(d,c[0]),g=t(t(r(o[0],o[0]),r(o[1],o[1])),t(r(o[2],o[2]),r(o[3],o[3]))),b=n(g,i[0]),v=n(g,a[0]),y=n(g,s[0]),x=n(g,l[0]),w=n(g,c[0]),_=t(t(r(a[0],a[0]),r(a[1],a[1])),t(r(a[2],a[2]),r(a[3],a[3]))),k=n(_,i[0]),A=n(_,o[0]),T=n(_,s[0]),M=n(_,l[0]),S=n(_,c[0]),E=t(t(r(s[0],s[0]),r(s[1],s[1])),t(r(s[2],s[2]),r(s[3],s[3]))),C=n(E,i[0]),z=n(E,o[0]),L=n(E,a[0]),O=n(E,l[0]),D=n(E,c[0]),I=t(t(r(l[0],l[0]),r(l[1],l[1])),t(r(l[2],l[2]),r(l[3],l[3]))),F=n(I,i[0]),R=n(I,o[0]),P=n(I,a[0]),j=n(I,s[0]),N=n(I,c[0]),B=t(t(r(c[0],c[0]),r(c[1],c[1])),t(r(c[2],c[2]),r(c[3],c[3]))),U=n(B,i[0]),V=n(B,o[0]),G=n(B,a[0]),H=n(B,s[0]),W=n(B,l[0]),q=t(t(t(n(t(t(n(t(n(e(W,N),s[1]),t(n(e(H,D),-l[1]),n(e(j,O),c[1]))),a[2]),n(t(n(e(W,N),a[1]),t(n(e(G,S),-l[1]),n(e(P,M),c[1]))),-s[2])),t(n(t(n(e(H,D),a[1]),t(n(e(G,S),-s[1]),n(e(L,T),c[1]))),l[2]),n(t(n(e(j,O),a[1]),t(n(e(P,M),-s[1]),n(e(L,T),l[1]))),-c[2]))),o[3]),t(n(t(t(n(t(n(e(W,N),s[1]),t(n(e(H,D),-l[1]),n(e(j,O),c[1]))),o[2]),n(t(n(e(W,N),o[1]),t(n(e(V,w),-l[1]),n(e(R,x),c[1]))),-s[2])),t(n(t(n(e(H,D),o[1]),t(n(e(V,w),-s[1]),n(e(z,y),c[1]))),l[2]),n(t(n(e(j,O),o[1]),t(n(e(R,x),-s[1]),n(e(z,y),l[1]))),-c[2]))),-a[3]),n(t(t(n(t(n(e(W,N),a[1]),t(n(e(G,S),-l[1]),n(e(P,M),c[1]))),o[2]),n(t(n(e(W,N),o[1]),t(n(e(V,w),-l[1]),n(e(R,x),c[1]))),-a[2])),t(n(t(n(e(G,S),o[1]),t(n(e(V,w),-a[1]),n(e(A,v),c[1]))),l[2]),n(t(n(e(P,M),o[1]),t(n(e(R,x),-a[1]),n(e(A,v),l[1]))),-c[2]))),s[3]))),t(t(n(t(t(n(t(n(e(H,D),a[1]),t(n(e(G,S),-s[1]),n(e(L,T),c[1]))),o[2]),n(t(n(e(H,D),o[1]),t(n(e(V,w),-s[1]),n(e(z,y),c[1]))),-a[2])),t(n(t(n(e(G,S),o[1]),t(n(e(V,w),-a[1]),n(e(A,v),c[1]))),s[2]),n(t(n(e(L,T),o[1]),t(n(e(z,y),-a[1]),n(e(A,v),s[1]))),-c[2]))),-l[3]),n(t(t(n(t(n(e(j,O),a[1]),t(n(e(P,M),-s[1]),n(e(L,T),l[1]))),o[2]),n(t(n(e(j,O),o[1]),t(n(e(R,x),-s[1]),n(e(z,y),l[1]))),-a[2])),t(n(t(n(e(P,M),o[1]),t(n(e(R,x),-a[1]),n(e(A,v),l[1]))),s[2]),n(t(n(e(L,T),o[1]),t(n(e(z,y),-a[1]),n(e(A,v),s[1]))),-l[2]))),c[3])),t(n(t(t(n(t(n(e(W,N),s[1]),t(n(e(H,D),-l[1]),n(e(j,O),c[1]))),o[2]),n(t(n(e(W,N),o[1]),t(n(e(V,w),-l[1]),n(e(R,x),c[1]))),-s[2])),t(n(t(n(e(H,D),o[1]),t(n(e(V,w),-s[1]),n(e(z,y),c[1]))),l[2]),n(t(n(e(j,O),o[1]),t(n(e(R,x),-s[1]),n(e(z,y),l[1]))),-c[2]))),i[3]),n(t(t(n(t(n(e(W,N),s[1]),t(n(e(H,D),-l[1]),n(e(j,O),c[1]))),i[2]),n(t(n(e(W,N),i[1]),t(n(e(U,m),-l[1]),n(e(F,p),c[1]))),-s[2])),t(n(t(n(e(H,D),i[1]),t(n(e(U,m),-s[1]),n(e(C,f),c[1]))),l[2]),n(t(n(e(j,O),i[1]),t(n(e(F,p),-s[1]),n(e(C,f),l[1]))),-c[2]))),-o[3])))),t(t(t(n(t(t(n(t(n(e(W,N),o[1]),t(n(e(V,w),-l[1]),n(e(R,x),c[1]))),i[2]),n(t(n(e(W,N),i[1]),t(n(e(U,m),-l[1]),n(e(F,p),c[1]))),-o[2])),t(n(t(n(e(V,w),i[1]),t(n(e(U,m),-o[1]),n(e(b,u),c[1]))),l[2]),n(t(n(e(R,x),i[1]),t(n(e(F,p),-o[1]),n(e(b,u),l[1]))),-c[2]))),s[3]),n(t(t(n(t(n(e(H,D),o[1]),t(n(e(V,w),-s[1]),n(e(z,y),c[1]))),i[2]),n(t(n(e(H,D),i[1]),t(n(e(U,m),-s[1]),n(e(C,f),c[1]))),-o[2])),t(n(t(n(e(V,w),i[1]),t(n(e(U,m),-o[1]),n(e(b,u),c[1]))),s[2]),n(t(n(e(z,y),i[1]),t(n(e(C,f),-o[1]),n(e(b,u),s[1]))),-c[2]))),-l[3])),t(n(t(t(n(t(n(e(j,O),o[1]),t(n(e(R,x),-s[1]),n(e(z,y),l[1]))),i[2]),n(t(n(e(j,O),i[1]),t(n(e(F,p),-s[1]),n(e(C,f),l[1]))),-o[2])),t(n(t(n(e(R,x),i[1]),t(n(e(F,p),-o[1]),n(e(b,u),l[1]))),s[2]),n(t(n(e(z,y),i[1]),t(n(e(C,f),-o[1]),n(e(b,u),s[1]))),-l[2]))),c[3]),n(t(t(n(t(n(e(H,D),a[1]),t(n(e(G,S),-s[1]),n(e(L,T),c[1]))),o[2]),n(t(n(e(H,D),o[1]),t(n(e(V,w),-s[1]),n(e(z,y),c[1]))),-a[2])),t(n(t(n(e(G,S),o[1]),t(n(e(V,w),-a[1]),n(e(A,v),c[1]))),s[2]),n(t(n(e(L,T),o[1]),t(n(e(z,y),-a[1]),n(e(A,v),s[1]))),-c[2]))),i[3]))),t(t(n(t(t(n(t(n(e(H,D),a[1]),t(n(e(G,S),-s[1]),n(e(L,T),c[1]))),i[2]),n(t(n(e(H,D),i[1]),t(n(e(U,m),-s[1]),n(e(C,f),c[1]))),-a[2])),t(n(t(n(e(G,S),i[1]),t(n(e(U,m),-a[1]),n(e(k,h),c[1]))),s[2]),n(t(n(e(L,T),i[1]),t(n(e(C,f),-a[1]),n(e(k,h),s[1]))),-c[2]))),-o[3]),n(t(t(n(t(n(e(H,D),o[1]),t(n(e(V,w),-s[1]),n(e(z,y),c[1]))),i[2]),n(t(n(e(H,D),i[1]),t(n(e(U,m),-s[1]),n(e(C,f),c[1]))),-o[2])),t(n(t(n(e(V,w),i[1]),t(n(e(U,m),-o[1]),n(e(b,u),c[1]))),s[2]),n(t(n(e(z,y),i[1]),t(n(e(C,f),-o[1]),n(e(b,u),s[1]))),-c[2]))),a[3])),t(n(t(t(n(t(n(e(G,S),o[1]),t(n(e(V,w),-a[1]),n(e(A,v),c[1]))),i[2]),n(t(n(e(G,S),i[1]),t(n(e(U,m),-a[1]),n(e(k,h),c[1]))),-o[2])),t(n(t(n(e(V,w),i[1]),t(n(e(U,m),-o[1]),n(e(b,u),c[1]))),a[2]),n(t(n(e(A,v),i[1]),t(n(e(k,h),-o[1]),n(e(b,u),a[1]))),-c[2]))),-s[3]),n(t(t(n(t(n(e(L,T),o[1]),t(n(e(z,y),-a[1]),n(e(A,v),s[1]))),i[2]),n(t(n(e(L,T),i[1]),t(n(e(C,f),-a[1]),n(e(k,h),s[1]))),-o[2])),t(n(t(n(e(z,y),i[1]),t(n(e(C,f),-o[1]),n(e(b,u),s[1]))),a[2]),n(t(n(e(A,v),i[1]),t(n(e(k,h),-o[1]),n(e(b,u),a[1]))),-s[2]))),c[3]))))),$=t(t(t(n(t(t(n(t(n(e(W,N),s[1]),t(n(e(H,D),-l[1]),n(e(j,O),c[1]))),a[2]),n(t(n(e(W,N),a[1]),t(n(e(G,S),-l[1]),n(e(P,M),c[1]))),-s[2])),t(n(t(n(e(H,D),a[1]),t(n(e(G,S),-s[1]),n(e(L,T),c[1]))),l[2]),n(t(n(e(j,O),a[1]),t(n(e(P,M),-s[1]),n(e(L,T),l[1]))),-c[2]))),i[3]),t(n(t(t(n(t(n(e(W,N),s[1]),t(n(e(H,D),-l[1]),n(e(j,O),c[1]))),i[2]),n(t(n(e(W,N),i[1]),t(n(e(U,m),-l[1]),n(e(F,p),c[1]))),-s[2])),t(n(t(n(e(H,D),i[1]),t(n(e(U,m),-s[1]),n(e(C,f),c[1]))),l[2]),n(t(n(e(j,O),i[1]),t(n(e(F,p),-s[1]),n(e(C,f),l[1]))),-c[2]))),-a[3]),n(t(t(n(t(n(e(W,N),a[1]),t(n(e(G,S),-l[1]),n(e(P,M),c[1]))),i[2]),n(t(n(e(W,N),i[1]),t(n(e(U,m),-l[1]),n(e(F,p),c[1]))),-a[2])),t(n(t(n(e(G,S),i[1]),t(n(e(U,m),-a[1]),n(e(k,h),c[1]))),l[2]),n(t(n(e(P,M),i[1]),t(n(e(F,p),-a[1]),n(e(k,h),l[1]))),-c[2]))),s[3]))),t(t(n(t(t(n(t(n(e(H,D),a[1]),t(n(e(G,S),-s[1]),n(e(L,T),c[1]))),i[2]),n(t(n(e(H,D),i[1]),t(n(e(U,m),-s[1]),n(e(C,f),c[1]))),-a[2])),t(n(t(n(e(G,S),i[1]),t(n(e(U,m),-a[1]),n(e(k,h),c[1]))),s[2]),n(t(n(e(L,T),i[1]),t(n(e(C,f),-a[1]),n(e(k,h),s[1]))),-c[2]))),-l[3]),n(t(t(n(t(n(e(j,O),a[1]),t(n(e(P,M),-s[1]),n(e(L,T),l[1]))),i[2]),n(t(n(e(j,O),i[1]),t(n(e(F,p),-s[1]),n(e(C,f),l[1]))),-a[2])),t(n(t(n(e(P,M),i[1]),t(n(e(F,p),-a[1]),n(e(k,h),l[1]))),s[2]),n(t(n(e(L,T),i[1]),t(n(e(C,f),-a[1]),n(e(k,h),s[1]))),-l[2]))),c[3])),t(n(t(t(n(t(n(e(W,N),a[1]),t(n(e(G,S),-l[1]),n(e(P,M),c[1]))),o[2]),n(t(n(e(W,N),o[1]),t(n(e(V,w),-l[1]),n(e(R,x),c[1]))),-a[2])),t(n(t(n(e(G,S),o[1]),t(n(e(V,w),-a[1]),n(e(A,v),c[1]))),l[2]),n(t(n(e(P,M),o[1]),t(n(e(R,x),-a[1]),n(e(A,v),l[1]))),-c[2]))),i[3]),n(t(t(n(t(n(e(W,N),a[1]),t(n(e(G,S),-l[1]),n(e(P,M),c[1]))),i[2]),n(t(n(e(W,N),i[1]),t(n(e(U,m),-l[1]),n(e(F,p),c[1]))),-a[2])),t(n(t(n(e(G,S),i[1]),t(n(e(U,m),-a[1]),n(e(k,h),c[1]))),l[2]),n(t(n(e(P,M),i[1]),t(n(e(F,p),-a[1]),n(e(k,h),l[1]))),-c[2]))),-o[3])))),t(t(t(n(t(t(n(t(n(e(W,N),o[1]),t(n(e(V,w),-l[1]),n(e(R,x),c[1]))),i[2]),n(t(n(e(W,N),i[1]),t(n(e(U,m),-l[1]),n(e(F,p),c[1]))),-o[2])),t(n(t(n(e(V,w),i[1]),t(n(e(U,m),-o[1]),n(e(b,u),c[1]))),l[2]),n(t(n(e(R,x),i[1]),t(n(e(F,p),-o[1]),n(e(b,u),l[1]))),-c[2]))),a[3]),n(t(t(n(t(n(e(G,S),o[1]),t(n(e(V,w),-a[1]),n(e(A,v),c[1]))),i[2]),n(t(n(e(G,S),i[1]),t(n(e(U,m),-a[1]),n(e(k,h),c[1]))),-o[2])),t(n(t(n(e(V,w),i[1]),t(n(e(U,m),-o[1]),n(e(b,u),c[1]))),a[2]),n(t(n(e(A,v),i[1]),t(n(e(k,h),-o[1]),n(e(b,u),a[1]))),-c[2]))),-l[3])),t(n(t(t(n(t(n(e(P,M),o[1]),t(n(e(R,x),-a[1]),n(e(A,v),l[1]))),i[2]),n(t(n(e(P,M),i[1]),t(n(e(F,p),-a[1]),n(e(k,h),l[1]))),-o[2])),t(n(t(n(e(R,x),i[1]),t(n(e(F,p),-o[1]),n(e(b,u),l[1]))),a[2]),n(t(n(e(A,v),i[1]),t(n(e(k,h),-o[1]),n(e(b,u),a[1]))),-l[2]))),c[3]),n(t(t(n(t(n(e(j,O),a[1]),t(n(e(P,M),-s[1]),n(e(L,T),l[1]))),o[2]),n(t(n(e(j,O),o[1]),t(n(e(R,x),-s[1]),n(e(z,y),l[1]))),-a[2])),t(n(t(n(e(P,M),o[1]),t(n(e(R,x),-a[1]),n(e(A,v),l[1]))),s[2]),n(t(n(e(L,T),o[1]),t(n(e(z,y),-a[1]),n(e(A,v),s[1]))),-l[2]))),i[3]))),t(t(n(t(t(n(t(n(e(j,O),a[1]),t(n(e(P,M),-s[1]),n(e(L,T),l[1]))),i[2]),n(t(n(e(j,O),i[1]),t(n(e(F,p),-s[1]),n(e(C,f),l[1]))),-a[2])),t(n(t(n(e(P,M),i[1]),t(n(e(F,p),-a[1]),n(e(k,h),l[1]))),s[2]),n(t(n(e(L,T),i[1]),t(n(e(C,f),-a[1]),n(e(k,h),s[1]))),-l[2]))),-o[3]),n(t(t(n(t(n(e(j,O),o[1]),t(n(e(R,x),-s[1]),n(e(z,y),l[1]))),i[2]),n(t(n(e(j,O),i[1]),t(n(e(F,p),-s[1]),n(e(C,f),l[1]))),-o[2])),t(n(t(n(e(R,x),i[1]),t(n(e(F,p),-o[1]),n(e(b,u),l[1]))),s[2]),n(t(n(e(z,y),i[1]),t(n(e(C,f),-o[1]),n(e(b,u),s[1]))),-l[2]))),a[3])),t(n(t(t(n(t(n(e(P,M),o[1]),t(n(e(R,x),-a[1]),n(e(A,v),l[1]))),i[2]),n(t(n(e(P,M),i[1]),t(n(e(F,p),-a[1]),n(e(k,h),l[1]))),-o[2])),t(n(t(n(e(R,x),i[1]),t(n(e(F,p),-o[1]),n(e(b,u),l[1]))),a[2]),n(t(n(e(A,v),i[1]),t(n(e(k,h),-o[1]),n(e(b,u),a[1]))),-l[2]))),-s[3]),n(t(t(n(t(n(e(L,T),o[1]),t(n(e(z,y),-a[1]),n(e(A,v),s[1]))),i[2]),n(t(n(e(L,T),i[1]),t(n(e(C,f),-a[1]),n(e(k,h),s[1]))),-o[2])),t(n(t(n(e(z,y),i[1]),t(n(e(C,f),-o[1]),n(e(b,u),s[1]))),a[2]),n(t(n(e(A,v),i[1]),t(n(e(k,h),-o[1]),n(e(b,u),a[1]))),-s[2]))),l[3]))))),Y=e(q,$);return Y[Y.length-1]}}var h=[function(){return 0},function(){return 0},function(){return 0}];function f(t){var e=h[t.length];return e||(e=h[t.length]=s(t.length)),e.apply(void 0,t)}function p(t,e,r,n,i,o,a,s){return function(e,r,l,c,d,u){switch(arguments.length){case 0:case 1:return 0;case 2:return n(e,r);case 3:return i(e,r,l);case 4:return o(e,r,l,c);case 5:return a(e,r,l,c,d);case 6:return s(e,r,l,c,d,u)}for(var h=new Array(arguments.length),f=0;f<arguments.length;++f)h[f]=arguments[f];return t(h)}}!function(){for(;h.length<=6;)h.push(s(h.length));t.exports=p.apply(void 0,[f].concat(h));for(var e=0;e<=6;++e)t.exports[e]=h[e]}()},2651:function(t,e,r){"use strict";var n=r(6859),i=r(2361);t.exports=function(t){var e=i.exponent(t);return e<52?new n(t):new n(t*Math.pow(2,52-e)).ushln(e-52)}},2652:function(t,e,r){var n=r(4335),i=r(6864),o=r(1903),a=r(9921),s=r(7608),l=r(5665),c={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},d=i(),u=i(),h=[0,0,0,0],f=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function m(t,e,r,n,i){t[0]=e[0]*n+r[0]*i,t[1]=e[1]*n+r[1]*i,t[2]=e[2]*n+r[2]*i}t.exports=function(t,e,r,i,g,b){if(e||(e=[0,0,0]),r||(r=[0,0,0]),i||(i=[0,0,0]),g||(g=[0,0,0,1]),b||(b=[0,0,0,1]),!n(d,t))return!1;if(o(u,d),u[3]=0,u[7]=0,u[11]=0,u[15]=1,Math.abs(a(u)<1e-8))return!1;var v,y,x,w,_,k,A,T=d[3],M=d[7],S=d[11],E=d[12],C=d[13],z=d[14],L=d[15];if(0!==T||0!==M||0!==S){if(h[0]=T,h[1]=M,h[2]=S,h[3]=L,!s(u,u))return!1;l(u,u),v=g,x=u,w=(y=h)[0],_=y[1],k=y[2],A=y[3],v[0]=x[0]*w+x[4]*_+x[8]*k+x[12]*A,v[1]=x[1]*w+x[5]*_+x[9]*k+x[13]*A,v[2]=x[2]*w+x[6]*_+x[10]*k+x[14]*A,v[3]=x[3]*w+x[7]*_+x[11]*k+x[15]*A}else g[0]=g[1]=g[2]=0,g[3]=1;if(e[0]=E,e[1]=C,e[2]=z,function(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}(f,d),r[0]=c.length(f[0]),c.normalize(f[0],f[0]),i[0]=c.dot(f[0],f[1]),m(f[1],f[1],f[0],1,-i[0]),r[1]=c.length(f[1]),c.normalize(f[1],f[1]),i[0]/=r[1],i[1]=c.dot(f[0],f[2]),m(f[2],f[2],f[0],1,-i[1]),i[2]=c.dot(f[1],f[2]),m(f[2],f[2],f[1],1,-i[2]),r[2]=c.length(f[2]),c.normalize(f[2],f[2]),i[1]/=r[2],i[2]/=r[2],c.cross(p,f[1],f[2]),c.dot(f[0],p)<0)for(var O=0;O<3;O++)r[O]*=-1,f[O][0]*=-1,f[O][1]*=-1,f[O][2]*=-1;return b[0]=.5*Math.sqrt(Math.max(1+f[0][0]-f[1][1]-f[2][2],0)),b[1]=.5*Math.sqrt(Math.max(1-f[0][0]+f[1][1]-f[2][2],0)),b[2]=.5*Math.sqrt(Math.max(1-f[0][0]-f[1][1]+f[2][2],0)),b[3]=.5*Math.sqrt(Math.max(1+f[0][0]+f[1][1]+f[2][2],0)),f[2][1]>f[1][2]&&(b[0]=-b[0]),f[0][2]>f[2][0]&&(b[1]=-b[1]),f[1][0]>f[0][1]&&(b[2]=-b[2]),!0}},2653:function(t,e,r){"use strict";var n=r(3865);t.exports=function(t,e){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=n(t[o],e[o]);return i}},2681:function(t){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},2690:function(t,e,r){"use strict";t.exports=function(t,e){try{return n(t,!0)}catch(a){var r=i(t);if(r.length<=e)return[];var o=function(t,e){for(var r=t.length,n=new Array(r),i=0;i<e.length;++i)n[i]=t[e[i]];var o=e.length;for(i=0;i<r;++i)e.indexOf(i)<0&&(n[o++]=t[i]);return n}(t,r);return function(t,e){for(var r=t.length,n=e.length,i=0;i<r;++i)for(var o=t[i],a=0;a<o.length;++a){var s=o[a];if(s<n)o[a]=e[s];else{s-=n;for(var l=0;l<n;++l)s>=e[l]&&(s+=1);o[a]=s}}return t}(n(o,!0),r)}};var n=r(8954),i=r(3952)},2762:function(t,e,r){"use strict";var n=r(1888),i=r(5298),o=r(9618),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}var l=s.prototype;function c(t,e,r,n,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,n),a;if(a+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),r}function d(t,e){for(var r=n.malloc(t.length,e),i=t.length,o=0;o<i;++o)r[o]=t[o];return r}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(a.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16"),r===t.dtype&&function(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=c(this.gl,this.type,this.length,this.usage,t.data,e):this.length=c(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=n.malloc(t.size,r),l=o(s,t.shape);i.assign(l,t),this.length=c(this.gl,this.type,this.length,this.usage,e<0?s:s.subarray(0,t.size),e),n.free(s)}}else if(Array.isArray(t)){var u;u=this.type===this.gl.ELEMENT_ARRAY_BUFFER?d(t,"uint16"):d(t,"float32"),this.length=c(this.gl,this.type,this.length,this.usage,e<0?u:u.subarray(0,t.length),e),n.free(u)}else if("object"==typeof t&&"number"==typeof t.length)this.length=c(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=function(t,e,r,n){if(r=r||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==t.DYNAMIC_DRAW&&n!==t.STATIC_DRAW&&n!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=t.createBuffer(),o=new s(t,r,i,0,n);return o.update(e),o}},2825:function(t){t.exports=function(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}},2931:function(t,e,r){t.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},2933:function(t){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},2953:function(t){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}},2962:function(t,e,r){"use strict";var n=r(5250),i=r(8210),o=r(3012),a=r(7004);function s(t,e,r,n){return function(e){return n(t(r(e[0][0],e[1][1]),r(-e[0][1],e[1][0])))}}function l(t,e,r,n){return function(i){return n(t(e(t(r(i[1][1],i[2][2]),r(-i[1][2],i[2][1])),i[0][0]),t(e(t(r(i[1][0],i[2][2]),r(-i[1][2],i[2][0])),-i[0][1]),e(t(r(i[1][0],i[2][1]),r(-i[1][1],i[2][0])),i[0][2]))))}}function c(t,e,r,n){return function(i){return n(t(t(e(t(e(t(r(i[2][2],i[3][3]),r(-i[2][3],i[3][2])),i[1][1]),t(e(t(r(i[2][1],i[3][3]),r(-i[2][3],i[3][1])),-i[1][2]),e(t(r(i[2][1],i[3][2]),r(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),e(t(e(t(r(i[2][2],i[3][3]),r(-i[2][3],i[3][2])),i[1][0]),t(e(t(r(i[2][0],i[3][3]),r(-i[2][3],i[3][0])),-i[1][2]),e(t(r(i[2][0],i[3][2]),r(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),t(e(t(e(t(r(i[2][1],i[3][3]),r(-i[2][3],i[3][1])),i[1][0]),t(e(t(r(i[2][0],i[3][3]),r(-i[2][3],i[3][0])),-i[1][1]),e(t(r(i[2][0],i[3][1]),r(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),e(t(e(t(r(i[2][1],i[3][2]),r(-i[2][2],i[3][1])),i[1][0]),t(e(t(r(i[2][0],i[3][2]),r(-i[2][2],i[3][0])),-i[1][1]),e(t(r(i[2][0],i[3][1]),r(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function d(t,e,r,n){return function(i){return n(t(t(e(t(t(e(t(e(t(r(i[3][3],i[4][4]),r(-i[3][4],i[4][3])),i[2][2]),t(e(t(r(i[3][2],i[4][4]),r(-i[3][4],i[4][2])),-i[2][3]),e(t(r(i[3][2],i[4][3]),r(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),e(t(e(t(r(i[3][3],i[4][4]),r(-i[3][4],i[4][3])),i[2][1]),t(e(t(r(i[3][1],i[4][4]),r(-i[3][4],i[4][1])),-i[2][3]),e(t(r(i[3][1],i[4][3]),r(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),t(e(t(e(t(r(i[3][2],i[4][4]),r(-i[3][4],i[4][2])),i[2][1]),t(e(t(r(i[3][1],i[4][4]),r(-i[3][4],i[4][1])),-i[2][2]),e(t(r(i[3][1],i[4][2]),r(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),e(t(e(t(r(i[3][2],i[4][3]),r(-i[3][3],i[4][2])),i[2][1]),t(e(t(r(i[3][1],i[4][3]),r(-i[3][3],i[4][1])),-i[2][2]),e(t(r(i[3][1],i[4][2]),r(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),e(t(t(e(t(e(t(r(i[3][3],i[4][4]),r(-i[3][4],i[4][3])),i[2][2]),t(e(t(r(i[3][2],i[4][4]),r(-i[3][4],i[4][2])),-i[2][3]),e(t(r(i[3][2],i[4][3]),r(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),e(t(e(t(r(i[3][3],i[4][4]),r(-i[3][4],i[4][3])),i[2][0]),t(e(t(r(i[3][0],i[4][4]),r(-i[3][4],i[4][0])),-i[2][3]),e(t(r(i[3][0],i[4][3]),r(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),t(e(t(e(t(r(i[3][2],i[4][4]),r(-i[3][4],i[4][2])),i[2][0]),t(e(t(r(i[3][0],i[4][4]),r(-i[3][4],i[4][0])),-i[2][2]),e(t(r(i[3][0],i[4][2]),r(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),e(t(e(t(r(i[3][2],i[4][3]),r(-i[3][3],i[4][2])),i[2][0]),t(e(t(r(i[3][0],i[4][3]),r(-i[3][3],i[4][0])),-i[2][2]),e(t(r(i[3][0],i[4][2]),r(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),t(e(t(t(e(t(e(t(r(i[3][3],i[4][4]),r(-i[3][4],i[4][3])),i[2][1]),t(e(t(r(i[3][1],i[4][4]),r(-i[3][4],i[4][1])),-i[2][3]),e(t(r(i[3][1],i[4][3]),r(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),e(t(e(t(r(i[3][3],i[4][4]),r(-i[3][4],i[4][3])),i[2][0]),t(e(t(r(i[3][0],i[4][4]),r(-i[3][4],i[4][0])),-i[2][3]),e(t(r(i[3][0],i[4][3]),r(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),t(e(t(e(t(r(i[3][1],i[4][4]),r(-i[3][4],i[4][1])),i[2][0]),t(e(t(r(i[3][0],i[4][4]),r(-i[3][4],i[4][0])),-i[2][1]),e(t(r(i[3][0],i[4][1]),r(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),e(t(e(t(r(i[3][1],i[4][3]),r(-i[3][3],i[4][1])),i[2][0]),t(e(t(r(i[3][0],i[4][3]),r(-i[3][3],i[4][0])),-i[2][1]),e(t(r(i[3][0],i[4][1]),r(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),t(e(t(t(e(t(e(t(r(i[3][2],i[4][4]),r(-i[3][4],i[4][2])),i[2][1]),t(e(t(r(i[3][1],i[4][4]),r(-i[3][4],i[4][1])),-i[2][2]),e(t(r(i[3][1],i[4][2]),r(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),e(t(e(t(r(i[3][2],i[4][4]),r(-i[3][4],i[4][2])),i[2][0]),t(e(t(r(i[3][0],i[4][4]),r(-i[3][4],i[4][0])),-i[2][2]),e(t(r(i[3][0],i[4][2]),r(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),t(e(t(e(t(r(i[3][1],i[4][4]),r(-i[3][4],i[4][1])),i[2][0]),t(e(t(r(i[3][0],i[4][4]),r(-i[3][4],i[4][0])),-i[2][1]),e(t(r(i[3][0],i[4][1]),r(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),e(t(e(t(r(i[3][1],i[4][2]),r(-i[3][2],i[4][1])),i[2][0]),t(e(t(r(i[3][0],i[4][2]),r(-i[3][2],i[4][0])),-i[2][1]),e(t(r(i[3][0],i[4][1]),r(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),e(t(t(e(t(e(t(r(i[3][2],i[4][3]),r(-i[3][3],i[4][2])),i[2][1]),t(e(t(r(i[3][1],i[4][3]),r(-i[3][3],i[4][1])),-i[2][2]),e(t(r(i[3][1],i[4][2]),r(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),e(t(e(t(r(i[3][2],i[4][3]),r(-i[3][3],i[4][2])),i[2][0]),t(e(t(r(i[3][0],i[4][3]),r(-i[3][3],i[4][0])),-i[2][2]),e(t(r(i[3][0],i[4][2]),r(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),t(e(t(e(t(r(i[3][1],i[4][3]),r(-i[3][3],i[4][1])),i[2][0]),t(e(t(r(i[3][0],i[4][3]),r(-i[3][3],i[4][0])),-i[2][1]),e(t(r(i[3][0],i[4][1]),r(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),e(t(e(t(r(i[3][1],i[4][2]),r(-i[3][2],i[4][1])),i[2][0]),t(e(t(r(i[3][0],i[4][2]),r(-i[3][2],i[4][0])),-i[2][1]),e(t(r(i[3][0],i[4][1]),r(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function u(t){return(2===t?s:3===t?l:4===t?c:5===t?d:void 0)(i,o,n,a)}var h=[function(){return[0]},function(t){return[t[0][0]]}];function f(t,e,r,n,i,o,a,s){return function(l){switch(l.length){case 0:return t(l);case 1:return e(l);case 2:return r(l);case 3:return n(l);case 4:return i(l);case 5:return o(l)}var c=a[l.length];return c||(c=a[l.length]=s(l.length)),c(l)}}!function(){for(;h.length<6;)h.push(u(h.length));t.exports=f.apply(void 0,h.concat([h,u]));for(var e=0;e<h.length;++e)t.exports[e]=h[e]}()},2992:function(t,e,r){var n=r(3387).sprintf,i=r(5171),o=r(1848),a=r(1085);t.exports=function(t,e,r){"use strict";var s=o(e)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==r&&(l=r===i.FRAGMENT_SHADER?"fragment":"vertex");for(var c=n("Error compiling %s shader %s:\n",l,s),d=n("%s%s",c,t),u=t.split("\n"),h={},f=0;f<u.length;f++){var p=u[f];if(""!==p&&"\0"!==p){var m=parseInt(p.split(":")[2]);if(isNaN(m))throw new Error(n("Could not parse error: %s",p));h[m]=p}}var g=a(e).split("\n");for(f=0;f<g.length;f++)if((h[f+3]||h[f+2]||h[f+1])&&(c+=g[f]+"\n",h[f+1])){var b=h[f+1];b=b.substr(b.split(":",3).join(":").length+1).trim(),c+=n("^^^ %s\n\n",b)}return{long:c.trim(),short:d.trim()}}},3012:function(t,e,r){"use strict";var n=r(5250),i=r(9362);t.exports=function(t,e){var r=t.length;if(1===r){var o=n(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*r),s=[.1,.1],l=[.1,.1],c=0;n(t[0],e,s),s[0]&&(a[c++]=s[0]);for(var d=1;d<r;++d){n(t[d],e,l);var u=s[1];i(u,l[0],s),s[0]&&(a[c++]=s[0]);var h=l[1],f=s[1],p=h+f,m=f-(p-h);s[1]=p,m&&(a[c++]=m)}return s[1]&&(a[c++]=s[1]),0===c&&(a[c++]=0),a.length=c,a}},3025:function(t,e,r){t.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},3066:function(t){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}},3088:function(t,e,r){"use strict";t.exports=function(t,e){for(var r=0|e.length,i=t.length,o=[new Array(r),new Array(r)],a=0;a<r;++a)o[0][a]=[],o[1][a]=[];for(a=0;a<i;++a){var s=t[a];o[0][s[0]].push(s),o[1][s[1]].push(s)}var l=[];for(a=0;a<r;++a)o[0][a].length+o[1][a].length===0&&l.push([a]);function c(t,e){var r=o[e][t[e]];r.splice(r.indexOf(t),1)}function d(t,r,i){for(var a,s,l,d=0;d<2;++d)if(o[d][r].length>0){a=o[d][r][0],l=d;break}s=a[1^l];for(var u=0;u<2;++u)for(var h=o[u][r],f=0;f<h.length;++f){var p=h[f],m=p[1^u];n(e[t],e[r],e[s],e[m])>0&&(a=p,s=m,l=u)}return i||a&&c(a,l),s}function u(t,r){var i=o[r][t][0],a=[t];c(i,r);for(var s=i[1^r];;){for(;s!==t;)a.push(s),s=d(a[a.length-2],s,!1);if(o[0][t].length+o[1][t].length===0)break;var l=a[a.length-1],u=t,h=a[1],f=d(l,u,!0);if(n(e[l],e[u],e[h],e[f])<0)break;a.push(t),s=d(l,u)}return a}function h(t,e){return e[1]===e[e.length-1]}for(a=0;a<r;++a)for(var f=0;f<2;++f){for(var p=[];o[f][a].length>0;){o[0][a].length;var m=u(a,f);h(0,m)?p.push.apply(p,m):(p.length>0&&l.push(p),p=m)}p.length>0&&l.push(p)}return l};var n=r(3140)},3090:function(t,e,r){"use strict";t.exports=function(t){var e=t.length;if(e<3){for(var r=new Array(e),i=0;i<e;++i)r[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:r}var o=new Array(e);for(i=0;i<e;++i)o[i]=i;o.sort((function(e,r){return t[e][0]-t[r][0]||t[e][1]-t[r][1]}));var a=[o[0],o[1]],s=[o[0],o[1]];for(i=2;i<e;++i){for(var l=o[i],c=t[l],d=a.length;d>1&&n(t[a[d-2]],t[a[d-1]],c)<=0;)d-=1,a.pop();for(a.push(l),d=s.length;d>1&&n(t[s[d-2]],t[s[d-1]],c)>=0;)d-=1,s.pop();s.push(l)}r=new Array(s.length+a.length-2);for(var u=0,h=(i=0,a.length);i<h;++i)r[u++]=a[i];for(var f=s.length-2;f>0;--f)r[u++]=s[f];return r};var n=r(3250)[3]},3105:function(t,e){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},3126:function(t){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},3134:function(t,e,r){"use strict";t.exports=function(t,e){var r=t.length;if("number"!=typeof e){e=0;for(var i=0;i<r;++i){var o=t[i];e=Math.max(e,o[0],o[1])}e=1+(0|e)}e|=0;var a=new Array(e);for(i=0;i<e;++i)a[i]=[];for(i=0;i<r;++i)a[(o=t[i])[0]].push(o[1]),a[o[1]].push(o[0]);for(var s=0;s<e;++s)n(a[s],(function(t,e){return t-e}));return a};var n=r(1682)},3140:function(t,e,r){"use strict";t.exports=function(t,e,r,o){var a=n(e,r,o);if(0===a){var s=i(n(t,e,r)),c=i(n(t,e,o));if(s===c){if(0===s){var d=l(t,e,r);return d===l(t,e,o)?0:d?1:-1}return 0}return 0===c?s>0||l(t,e,o)?-1:1:0===s?c>0||l(t,e,r)?1:-1:i(c-s)}var u=n(t,e,r);return u>0?a>0&&n(t,e,o)>0?1:-1:u<0?a>0||n(t,e,o)>0?1:-1:n(t,e,o)>0||l(t,e,r)?1:-1};var n=r(3250),i=r(8572),o=r(9362),a=r(5382),s=r(8210);function l(t,e,r){var n=o(t[0],-e[0]),i=o(t[1],-e[1]),l=o(r[0],-e[0]),c=o(r[1],-e[1]),d=s(a(n,l),a(i,c));return d[d.length-1]>=0}},3202:function(t){t.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},3233:function(t){"use strict";var e,r="";t.exports=function(t,n){if("string"!=typeof t)throw new TypeError("expected a string");if(1===n)return t;if(2===n)return t+t;var i=t.length*n;if(e!==t||void 0===e)e=t,r="";else if(r.length>=i)return r.substr(0,i);for(;i>r.length&&n>1;)1&n&&(r+=t),n>>=1,t+=t;return r=(r+=t).substr(0,i)}},3236:function(t){t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),r=[],n=0;n<t.length-1;n++)r.push(t[n],e[n]||"");return r.push(t[n]),r.join("")}},3250:function(t,e,r){"use strict";var n=r(5250),i=r(8210),o=r(3012),a=r(8545);function s(t,e,r,n){return function(r,i,o){var a=t(t(e(i[1],o[0]),e(-o[1],i[0])),t(e(r[1],i[0]),e(-i[1],r[0]))),s=t(e(r[1],o[0]),e(-o[1],r[0])),l=n(a,s);return l[l.length-1]}}function l(t,e,r,n){return function(i,o,a,s){var l=t(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2])))),c=t(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2])))),d=n(l,c);return d[d.length-1]}}function c(t,e,r,n){return function(i,o,a,s,l){var c=t(t(t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(r(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),r(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),o[3]),t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),r(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),-a[3]),r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),s[3]))),t(r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),-l[3]),t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-s[2]),r(t(e(o[1],s[0]),e(-s[1],o[0])),l[2]))),i[3]),r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-o[3])))),t(t(r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),s[3]),t(r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-l[3]),r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),o[2]),t(r(t(e(o[1],s[0]),e(-s[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),s[2]))),i[3]))),t(r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-o[3]),t(r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),a[3]),r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-s[3]))))),d=t(t(t(r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),a[2]),t(r(t(e(a[1],l[0]),e(-l[1],a[0])),-s[2]),r(t(e(a[1],s[0]),e(-s[1],a[0])),l[2]))),i[3]),r(t(r(t(e(s[1],l[0]),e(-l[1],s[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),l[2]))),-a[3])),t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),s[3]),r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-l[3]))),t(t(r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),o[2]),t(r(t(e(o[1],l[0]),e(-l[1],o[0])),-a[2]),r(t(e(o[1],a[0]),e(-a[1],o[0])),l[2]))),i[3]),r(t(r(t(e(a[1],l[0]),e(-l[1],a[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),l[2]))),-o[3])),t(r(t(r(t(e(o[1],l[0]),e(-l[1],o[0])),i[2]),t(r(t(e(i[1],l[0]),e(-l[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),l[2]))),a[3]),r(t(r(t(e(o[1],a[0]),e(-a[1],o[0])),i[2]),t(r(t(e(i[1],a[0]),e(-a[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),a[2]))),-l[3])))),u=n(c,d);return u[u.length-1]}}function d(t){return(3===t?s:4===t?l:c)(i,n,o,a)}var u=d(3),h=d(4),f=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),o=(t[0]-r[0])*(e[1]-r[1]),a=i-o;if(i>0){if(o<=0)return a;n=i+o}else{if(!(i<0))return a;if(o>=0)return a;n=-(i+o)}var s=33306690738754716e-32*n;return a>=s||a<=-s?a:u(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],o=e[0]-n[0],a=r[0]-n[0],s=t[1]-n[1],l=e[1]-n[1],c=r[1]-n[1],d=t[2]-n[2],u=e[2]-n[2],f=r[2]-n[2],p=o*c,m=a*l,g=a*s,b=i*c,v=i*l,y=o*s,x=d*(p-m)+u*(g-b)+f*(v-y),w=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(d)+(Math.abs(g)+Math.abs(b))*Math.abs(u)+(Math.abs(v)+Math.abs(y))*Math.abs(f));return x>w||-x>w?x:h(t,e,r,n)}];function p(t){var e=f[t.length];return e||(e=f[t.length]=d(t.length)),e.apply(void 0,t)}function m(t,e,r,n,i,o,a){return function(e,r,s,l,c){switch(arguments.length){case 0:case 1:return 0;case 2:return n(e,r);case 3:return i(e,r,s);case 4:return o(e,r,s,l);case 5:return a(e,r,s,l,c)}for(var d=new Array(arguments.length),u=0;u<arguments.length;++u)d[u]=arguments[u];return t(d)}}!function(){for(;f.length<=5;)f.push(d(f.length));t.exports=m.apply(void 0,[p].concat(f));for(var e=0;e<=5;++e)t.exports[e]=f[e]}()},3327:function(t,e,r){"use strict";var n=r(216),i=r(8866);function o(t){return function(){return t}}function a(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}t.exports=function(t,e,r,s){function l(e){return function(n){for(var o=c("",e),a=0;a<o.length;++a){var l=o[a],d=l[0],u=l[1];if(s[u]){var h=n;if("string"==typeof d&&(0===d.indexOf(".")||0===d.indexOf("["))){var f=d;if(0===d.indexOf(".")&&(f=d.slice(1)),f.indexOf("]")===f.length-1){var p=f.indexOf("["),m=f.slice(0,p),g=f.slice(p+1,f.length-1);h=m?n[m][g]:n[g]}else h=n[f]}var b,v=r[u].type;switch(v){case"bool":case"int":case"sampler2D":case"samplerCube":t.uniform1i(s[u],h);break;case"float":t.uniform1f(s[u],h);break;default:var y=v.indexOf("vec");if(!(0<=y&&y<=1&&v.length===4+y)){if(0===v.indexOf("mat")&&4===v.length){if((b=v.charCodeAt(v.length-1)-48)<2||b>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+v);t["uniformMatrix"+b+"fv"](s[u],!1,h);break}throw new i("","Unknown uniform data type for "+name+": "+v)}if((b=v.charCodeAt(v.length-1)-48)<2||b>4)throw new i("","Invalid data type");switch(v.charAt(0)){case"b":case"i":t["uniform"+b+"iv"](s[u],h);break;case"v":t["uniform"+b+"fv"](s[u],h);break;default:throw new i("","Unrecognized data type for vector "+name+": "+v)}}}}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],o=t;parseInt(n)+""===n?o+="["+n+"]":o+="."+n,"object"==typeof i?r.push.apply(r,c(o,i)):r.push([o,i])}return r}function d(t,e,n){if("object"==typeof n){var c=u(n);Object.defineProperty(t,e,{get:o(c),set:l(n),enumerable:!0,configurable:!1})}else s[n]?Object.defineProperty(t,e,{get:(d=n,function(t,e,r){return t.getUniform(e.program,r[d])}),set:l(n),enumerable:!0,configurable:!1}):t[e]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){if((r=t.charCodeAt(t.length-1)-48)<2||r>4)throw new i("","Invalid data type");return"b"===t.charAt(0)?a(r,!1):a(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r;if((r=t.charCodeAt(t.length-1)-48)<2||r>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+t);return a(r*r,0)}throw new i("","Unknown uniform data type for "+name+": "+t)}}(r[n].type);var d}function u(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)d(e,r,t[r])}else for(var n in e={},t)d(e,n,t[n]);return e}var h=n(r,!0);return{get:o(u(h)),set:l(h),enumerable:!0,configurable:!0}}},3349:function(t){"use strict";t.exports=function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=[o,a.join()].join(),l=e[s];return l||(e[s]=l=t([o,a])),l(r.shape.slice(0),r.data,r.stride,0|r.offset,n,i)}}(function(){return function(t,e,r,n,i,o){var a=t[0],s=r[0],l=[0],c=s;n|=0;var d=0,u=s;for(d=0;d<a;++d){var h=e[n]-o,f=e[n+c]-o;h>=0!=f>=0&&i.push(l[0]+.5+.5*(h+f)/(h-f)),n+=u,++l[0]}}}.bind(void 0,{funcName:"zeroCrossings"}))},3352:function(t,e,r){"use strict";var n=r(2478);function i(t,e,r,n,i){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=i,this.count=(e?e.count:0)+(r?r.count:0)+n.length}t.exports=function(t){return t&&0!==t.length?new b(g(t)):new b(null)};var o=i.prototype;function a(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function s(t,e){var r=g(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function l(t,e){var r=t.intervals([]);r.push(e),s(t,r)}function c(t,e){var r=t.intervals([]),n=r.indexOf(e);return n<0?0:(r.splice(n,1),s(t,r),1)}function d(t,e,r){for(var n=0;n<t.length&&t[n][0]<=e;++n){var i=r(t[n]);if(i)return i}}function u(t,e,r){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var i=r(t[n]);if(i)return i}}function h(t,e){for(var r=0;r<t.length;++r){var n=e(t[r]);if(n)return n}}function f(t,e){return t-e}function p(t,e){return t[0]-e[0]||t[1]-e[1]}function m(t,e){return t[1]-e[1]||t[0]-e[0]}function g(t){if(0===t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t[r][0],t[r][1]);e.sort(f);var n=e[e.length>>1],o=[],a=[],s=[];for(r=0;r<t.length;++r){var l=t[r];l[1]<n?o.push(l):n<l[0]?a.push(l):s.push(l)}var c=s,d=s.slice();return c.sort(p),d.sort(m),new i(n,g(o),g(a),c,d)}function b(t){this.root=t}o.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},o.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?l(this,t):this.left.insert(t):this.left=g([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?l(this,t):this.right.insert(t):this.right=g([t]);else{var r=n.ge(this.leftPoints,t,p),i=n.ge(this.rightPoints,t,m);this.leftPoints.splice(r,0,t),this.rightPoints.splice(i,0,t)}},o.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?c(this,t):2===(s=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===s&&(this.count-=1),s):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?c(this,t):2===(s=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===s&&(this.count-=1),s):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var r=this,i=this.left;i.right;)r=i,i=i.right;if(r===this)i.right=this.right;else{var o=this.left,s=this.right;r.count-=i.count,r.right=i.left,i.left=o,i.right=s}a(this,i),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?a(this,this.left):a(this,this.right);return 1}for(o=n.ge(this.leftPoints,t,p);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t)for(this.count-=1,this.leftPoints.splice(o,1),s=n.ge(this.rightPoints,t,m);s<this.rightPoints.length&&this.rightPoints[s][1]===t[1];++s)if(this.rightPoints[s]===t)return this.rightPoints.splice(s,1),1;return 0},o.queryPoint=function(t,e){return t<this.mid?this.left&&(r=this.left.queryPoint(t,e))?r:d(this.leftPoints,t,e):t>this.mid?this.right&&(r=this.right.queryPoint(t,e))?r:u(this.rightPoints,t,e):h(this.leftPoints,e);var r},o.queryInterval=function(t,e,r){var n;return t<this.mid&&this.left&&(n=this.left.queryInterval(t,e,r))||e>this.mid&&this.right&&(n=this.right.queryInterval(t,e,r))?n:e<this.mid?d(this.leftPoints,e,r):t>this.mid?u(this.rightPoints,t,r):h(this.leftPoints,r)};var v=b.prototype;v.insert=function(t){this.root?this.root.insert(t):this.root=new i(t[0],null,null,[t],[t])},v.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},v.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},v.queryInterval=function(t,e,r){if(t<=e&&this.root)return this.root.queryInterval(t,e,r)},Object.defineProperty(v,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(v,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},3387:function(t,e,r){var n;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(t){return function(t,e){var r,n,a,s,l,c,d,u,h,f=1,p=t.length,m="";for(n=0;n<p;n++)if("string"==typeof t[n])m+=t[n];else if("object"==typeof t[n]){if((s=t[n]).keys)for(r=e[f],a=0;a<s.keys.length;a++){if(null==r)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));r=r[s.keys[a]]}else r=s.param_no?e[s.param_no]:e[f++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),i.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(o("[sprintf] expecting number but found %T",r));switch(i.number.test(s.type)&&(u=r>=0),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?m+=r:(!i.number.test(s.type)||u&&!s.sign?h="":(h=u?"+":"-",r=r.toString().replace(i.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",d=s.width-(h+r).length,l=s.width&&d>0?c.repeat(d):"",m+=s.align?h+r+l:"0"===c?h+l+r:l+h+r)}return m}(function(t){if(s[t])return s[t];for(var e,r=t,n=[],o=0;r;){if(null!==(e=i.text.exec(r)))n.push(e[0]);else if(null!==(e=i.modulo.exec(r)))n.push("%");else{if(null===(e=i.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){o|=1;var a=[],l=e[2],c=[];if(null===(c=i.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=i.key_access.exec(l)))a.push(c[1]);else{if(null===(c=i.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(c[1])}e[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return s[t]=n}(t),arguments)}function a(t,e){return o.apply(null,[t].concat(e||[]))}var s=Object.create(null);e.sprintf=o,e.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(n=function(){return{sprintf:o,vsprintf:a}}.call(e,r,e,t))||(t.exports=n))}()},3390:function(t){t.exports=function(t,e,r,n){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}},3436:function(t,e,r){"use strict";var n=r(3236),i=r(9405),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * (view * worldPosition);\n  fragColor           = color;\n  fragPosition        = position;\n}"]),a=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);t.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},3502:function(t,e,r){t.exports=function(t,e){return i(n(t,e))};var n=r(5995),i=r(9127)},3508:function(t,e,r){var n=r(6852);n=n.slice().filter((function(t){return!/^(gl\_|texture)/.test(t)})),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},3536:function(t){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}},3545:function(t,e,r){"use strict";t.exports=function(t,e,r,a,s,l){if(a<=r+1)return r;for(var c=r,d=a,u=a+r>>>1,h=2*t,f=u,p=s[h*u+e];c<d;){if(d-c<i){o(t,e,c,d,s,l),p=s[h*u+e];break}var m=d-c,g=Math.random()*m+c|0,b=s[h*g+e],v=Math.random()*m+c|0,y=s[h*v+e],x=Math.random()*m+c|0,w=s[h*x+e];b<=y?w>=y?(f=v,p=y):b>=w?(f=g,p=b):(f=x,p=w):y>=w?(f=v,p=y):w>=b?(f=g,p=b):(f=x,p=w);for(var _=h*(d-1),k=h*f,A=0;A<h;++A,++_,++k){var T=s[_];s[_]=s[k],s[k]=T}var M=l[d-1];for(l[d-1]=l[f],l[f]=M,_=h*(d-1),k=h*(f=n(t,e,c,d-1,s,l,p)),A=0;A<h;++A,++_,++k)T=s[_],s[_]=s[k],s[k]=T;if(M=l[d-1],l[d-1]=l[f],l[f]=M,u<f){for(d=f-1;c<d&&s[h*(d-1)+e]===p;)d-=1;d+=1}else{if(!(f<u))break;for(c=f+1;c<d&&s[h*c+e]===p;)c+=1}}return n(t,e,r,u,s,l,s[h*u+e])};var n=r(8105)("lo<p0"),i=8;function o(t,e,r,n,i,o){for(var a=2*t,s=a*(r+1)+e,l=r+1;l<n;++l,s+=a)for(var c=i[s],d=l,u=a*(l-1);d>r&&i[u+e]>c;--d,u-=a){for(var h=u,f=u+a,p=0;p<a;++p,++h,++f){var m=i[h];i[h]=i[f],i[f]=m}var g=o[d];o[d]=o[d-1],o[d-1]=g}}},3576:function(t){t.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}},3589:function(t,e,r){"use strict";t.exports=function(t,e){var r=e[0],o=e[1];return new l(t,n(t,r,o,{}),i.mallocUint8(r*o*4))};var n=r(2260),i=r(1888),o=r(9618),a=r(8828).nextPow2;function s(t,e,r,n,i){this.coord=[t,e],this.id=r,this.value=n,this.distance=i}function l(t,e,r){this.gl=t,this.fbo=e,this.buffer=r,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}var c=l.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],r=this.fbo.shape[1];if(r*e*4>this.buffer.length){i.free(this.buffer);for(var n=this.buffer=i.mallocUint8(a(r*e*4)),o=0;o<r*e*4;++o)n[o]=255}return t}}}),c.begin=function(){var t=this.gl;this.shape,t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},c.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(t,e,r){if(!this.gl)return null;var n=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof r&&(r=1);var i=0|Math.min(Math.max(t-r,0),n[0]),a=0|Math.min(Math.max(t+r,0),n[0]),l=0|Math.min(Math.max(e-r,0),n[1]),c=0|Math.min(Math.max(e+r,0),n[1]);if(a<=i||c<=l)return null;var d=[a-i,c-l],u=o(this.buffer,[d[0],d[1],4],[4,4*n[0],1],4*(i+n[0]*l)),h=function(t,e,r){for(var n=1e8,i=-1,o=-1,a=t.shape[0],s=t.shape[1],l=0;l<a;l++)for(var c=0;c<s;c++){var d=t.get(l,c,0),u=t.get(l,c,1),h=t.get(l,c,2),f=t.get(l,c,3);if(d<255||u<255||h<255||f<255){var p=e-l,m=r-c,g=p*p+m*m;g<n&&(n=g,i=l,o=c)}}return[i,o,n]}(u.hi(d[0],d[1],1),r,r),f=h[0],p=h[1];return f<0||Math.pow(this.radius,2)<h[2]?null:new s(f+i|0,p+l|0,u.get(f,p,0),[u.get(f,p,1),u.get(f,p,2),u.get(f,p,3)],Math.sqrt(h[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},3628:function(t,e,r){"use strict";var n=r(1338),i=r(727);function o(t,e){for(var r=0,n=t.length,i=0;i<n;++i)r+=t[i]*e[i];return r}function a(t){var e=t.length;if(0===e)return[];t[0].length;var r=n([t.length+1,t.length+1],1),a=n([t.length+1],1);r[e][e]=0;for(var s=0;s<e;++s){for(var l=0;l<=s;++l)r[l][s]=r[s][l]=2*o(t[s],t[l]);a[s]=o(t[s],t[s])}var c=i(r,a),d=0,u=c[e+1];for(s=0;s<u.length;++s)d+=u[s];var h=new Array(e);for(s=0;s<e;++s){u=c[s];var f=0;for(l=0;l<u.length;++l)f+=u[l];h[s]=f/d}return h}function s(t){if(0===t.length)return[];for(var e=t[0].length,r=n([e]),i=a(t),o=0;o<t.length;++o)for(var s=0;s<e;++s)r[s]+=t[o][s]*i[o];return r}s.barycenetric=a,t.exports=s},3637:function(t,e,r){"use strict";t.exports=function(t,e,r,n){var o=s(e,t),u=s(n,r),h=d(o,u);if(0===a(h))return null;var f=d(u,s(t,r)),p=i(f,h),m=c(o,p);return l(t,m)};var n=r(6504),i=r(8697),o=r(5572),a=r(7721),s=r(544),l=r(2653),c=r(8987);function d(t,e){return o(n(t[0],e[1]),n(t[1],e[0]))}},3642:function(t){t.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},3711:function(t,e,r){"use strict";t.exports=function(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return function(t,e){for(var r=i(t,e),n=r.length,o=new Array(n),a=new Array(n),s=0;s<n;++s)o[s]=[r[s]],a[s]=[s];return{positions:o,cells:a}}(t,e);var r=t.order.join()+"-"+t.dtype,s=a[r];return e=+e||0,s||(s=a[r]=function(t,e){var r=t.length+"d",i=o[r];if(i)return i(n,t,e)}(t.order,t.dtype)),s(t,e)};var n=r(2640),i=r(781),o={"2d":function(t,e,r){var n=t({order:e,scalarArguments:3,getters:"generic"===r?[0]:void 0,phase:function(t,e,r,n){return t>n|0},vertex:function(t,e,r,n,i,o,a,s,l,c,d,u,h){var f=(0|a)+(s<<1)+(l<<2)+(c<<3)|0;if(0!==f&&15!==f)switch(f){case 0:case 15:d.push([t-.5,e-.5]);break;case 1:d.push([t-.25-.25*(n+r-2*h)/(r-n),e-.25-.25*(i+r-2*h)/(r-i)]);break;case 2:d.push([t-.75-.25*(-n-r+2*h)/(n-r),e-.25-.25*(o+n-2*h)/(n-o)]);break;case 3:d.push([t-.5,e-.5-.5*(i+r+o+n-4*h)/(r-i+n-o)]);break;case 4:d.push([t-.25-.25*(o+i-2*h)/(i-o),e-.75-.25*(-i-r+2*h)/(i-r)]);break;case 5:d.push([t-.5-.5*(n+r+o+i-4*h)/(r-n+i-o),e-.5]);break;case 6:d.push([t-.5-.25*(-n-r+o+i)/(n-r+i-o),e-.5-.25*(-i-r+o+n)/(i-r+n-o)]);break;case 7:d.push([t-.75-.25*(o+i-2*h)/(i-o),e-.75-.25*(o+n-2*h)/(n-o)]);break;case 8:d.push([t-.75-.25*(-o-i+2*h)/(o-i),e-.75-.25*(-o-n+2*h)/(o-n)]);break;case 9:d.push([t-.5-.25*(n+r+-o-i)/(r-n+o-i),e-.5-.25*(i+r+-o-n)/(r-i+o-n)]);break;case 10:d.push([t-.5-.5*(-n-r-o-i+4*h)/(n-r+o-i),e-.5]);break;case 11:d.push([t-.25-.25*(-o-i+2*h)/(o-i),e-.75-.25*(i+r-2*h)/(r-i)]);break;case 12:d.push([t-.5,e-.5-.5*(-i-r-o-n+4*h)/(i-r+o-n)]);break;case 13:d.push([t-.75-.25*(n+r-2*h)/(r-n),e-.25-.25*(-o-n+2*h)/(o-n)]);break;case 14:d.push([t-.25-.25*(-n-r+2*h)/(n-r),e-.25-.25*(-i-r+2*h)/(i-r)])}},cell:function(t,e,r,n,i,o,a,s,l){i?s.push([t,e]):s.push([e,t])}});return function(t,e){var r=[],i=[];return n(t,r,i,e),{positions:r,cells:i}}}},a={}},3750:function(t){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},3778:function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,d=-7,u=r?i-1:0,h=r?-1:1,f=t[e+u];for(u+=h,o=f&(1<<-d)-1,f>>=-d,d+=s;d>0;o=256*o+t[e+u],u+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=256*a+t[e+u],u+=h,d-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=c}return(f?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,l,c=8*o-i-1,d=(1<<c)-1,u=d>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(e*l-1)*Math.pow(2,i),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+f]=255&a,f+=p,a/=256,c-=8);t[r+f-p]|=128*m}},3788:function(t,e,r){"use strict";var n=r(8507),i=r(2419);t.exports=function(t,e){return n(t,e)||i(t)-i(e)}},3837:function(t,e,r){"use strict";t.exports=function(t,e){var r=new f(t);return r.update(e),r};var n=r(4935),i=r(501),o=r(5304),a=r(6429),s=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=ArrayBuffer,d=DataView;function u(t){return Array.isArray(t)||function(t){return c.isView(t)&&!(t instanceof d)}(t)}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function f(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(t)}var p=f.prototype;function m(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}p.update=function(t){function e(e,r,n){if(n in t){var i,o=t[n],a=this[n];(e?u(o)&&u(o[0]):u(o))?this[n]=i=[r(o[0]),r(o[1]),r(o[2])]:this[n]=i=[r(o),r(o),r(o)];for(var s=0;s<3;++s)if(i[s]!==a[s])return!0}return!1}t=t||{};var r,o=e.bind(this,!1,Number),a=e.bind(this,!1,Boolean),l=e.bind(this,!1,String),c=e.bind(this,!0,(function(t){if(u(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]})),d=!1,h=!1;if("bounds"in t)for(var f=t.bounds,p=0;p<2;++p)for(var m=0;m<3;++m)f[p][m]!==this.bounds[p][m]&&(h=!0),this.bounds[p][m]=f[p][m];if("ticks"in t)for(r=t.ticks,d=!0,this.autoTicks=!1,p=0;p<3;++p)this.tickSpacing[p]=0;else o("tickSpacing")&&(this.autoTicks=!0,h=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),h=!0,d=!0,this._firstInit=!1),h&&this.autoTicks&&(r=s.create(this.bounds,this.tickSpacing),d=!0),d){for(p=0;p<3;++p)r[p].sort((function(t,e){return t.x-e.x}));s.equal(r,this.ticks)?d=!1:this.ticks=r}a("tickEnable"),l("tickFont")&&(d=!0),l("tickFontStyle")&&(d=!0),l("tickFontWeight")&&(d=!0),l("tickFontVariant")&&(d=!0),o("tickSize"),o("tickAngle"),o("tickPad"),c("tickColor");var g=l("labels");l("labelFont")&&(g=!0),l("labelFontStyle")&&(g=!0),l("labelFontWeight")&&(g=!0),l("labelFontVariant")&&(g=!0),a("labelEnable"),o("labelSize"),o("labelPad"),c("labelColor"),a("lineEnable"),a("lineMirror"),o("lineWidth"),c("lineColor"),a("lineTickEnable"),a("lineTickMirror"),o("lineTickLength"),o("lineTickWidth"),c("lineTickColor"),a("gridEnable"),o("gridWidth"),c("gridColor"),a("zeroEnable"),c("zeroLineColor"),o("zeroLineWidth"),a("backgroundEnable"),c("backgroundColor");var b=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],v=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(g||d)&&this._text.update(this.bounds,this.labels,b,this.ticks,v):this._text=n(this.gl,this.bounds,this.labels,b,this.ticks,v),this._lines&&d&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var g=[new m,new m,new m];function b(t,e,r,n,i){for(var o=t.primalOffset,a=t.primalMinor,s=t.mirrorOffset,l=t.mirrorMinor,c=n[e],d=0;d<3;++d)if(e!==d){var u=o,h=s,f=a,p=l;c&1<<d&&(u=s,h=o,f=l,p=a),u[d]=r[0][d],h[d]=r[1][d],i[d]>0?(f[d]=-1,p[d]=0):(f[d]=0,p[d]=1)}}var v=[0,0,0],y={model:l,view:l,projection:l,_ortho:!1};p.isOpaque=function(){return!0},p.isTransparent=function(){return!1},p.drawTransparent=function(t){};var x=[0,0,0],w=[0,0,0],_=[0,0,0];p.draw=function(t){t=t||y;for(var e=this.gl,r=t.model||l,n=t.view||l,i=t.projection||l,o=this.bounds,s=t._ortho||!1,c=a(r,n,i,o,s),d=c.cubeEdges,u=c.axis,f=n[12],p=n[13],m=n[14],k=n[15],A=(s?2:1)*this.pixelRatio*(i[3]*f+i[7]*p+i[11]*m+i[15]*k)/e.drawingBufferHeight,T=0;T<3;++T)this.lastCubeProps.cubeEdges[T]=d[T],this.lastCubeProps.axis[T]=u[T];var M=g;for(T=0;T<3;++T)b(g[T],T,this.bounds,d,u);e=this.gl;var S,E,C,z=v;for(T=0;T<3;++T)this.backgroundEnable[T]?z[T]=u[T]:z[T]=0;for(this._background.draw(r,n,i,o,z,this.backgroundColor),this._lines.bind(r,n,i,this),T=0;T<3;++T){var L=[0,0,0];u[T]>0?L[T]=o[1][T]:L[T]=o[0][T];for(var O=0;O<2;++O){var D=(T+1+O)%3,I=(T+1+(1^O))%3;this.gridEnable[D]&&this._lines.drawGrid(D,I,this.bounds,L,this.gridColor[D],this.gridWidth[D]*this.pixelRatio)}for(O=0;O<2;++O)D=(T+1+O)%3,I=(T+1+(1^O))%3,this.zeroEnable[I]&&Math.min(o[0][I],o[1][I])<=0&&Math.max(o[0][I],o[1][I])>=0&&this._lines.drawZero(D,I,this.bounds,L,this.zeroLineColor[I],this.zeroLineWidth[I]*this.pixelRatio)}for(T=0;T<3;++T){this.lineEnable[T]&&this._lines.drawAxisLine(T,this.bounds,M[T].primalOffset,this.lineColor[T],this.lineWidth[T]*this.pixelRatio),this.lineMirror[T]&&this._lines.drawAxisLine(T,this.bounds,M[T].mirrorOffset,this.lineColor[T],this.lineWidth[T]*this.pixelRatio);var F=h(x,M[T].primalMinor),R=h(w,M[T].mirrorMinor),P=this.lineTickLength;for(O=0;O<3;++O){var j=A/r[5*O];F[O]*=P[O]*j,R[O]*=P[O]*j}this.lineTickEnable[T]&&this._lines.drawAxisTicks(T,M[T].primalOffset,F,this.lineTickColor[T],this.lineTickWidth[T]*this.pixelRatio),this.lineTickMirror[T]&&this._lines.drawAxisTicks(T,M[T].mirrorOffset,R,this.lineTickColor[T],this.lineTickWidth[T]*this.pixelRatio)}function N(t){(C=[0,0,0])[t]=1}function B(t,e,r){var n=(t+1)%3,i=(t+2)%3,o=e[n],a=e[i],s=r[n],l=r[i];o>0&&l>0||o>0&&l<0||o<0&&l>0||o<0&&l<0?N(n):(a>0&&s>0||a>0&&s<0||a<0&&s>0||a<0&&s<0)&&N(i)}for(this._lines.unbind(),this._text.bind(r,n,i,this.pixelRatio),T=0;T<3;++T){var U=M[T].primalMinor,V=M[T].mirrorMinor,G=h(_,M[T].primalOffset);for(O=0;O<3;++O)this.lineTickEnable[T]&&(G[O]+=A*U[O]*Math.max(this.lineTickLength[O],0)/r[5*O]);var H=[0,0,0];if(H[T]=1,this.tickEnable[T]){for(-3600===this.tickAngle[T]?(this.tickAngle[T]=0,this.tickAlign[T]="auto"):this.tickAlign[T]=-1,E=1,"auto"===(S=[this.tickAlign[T],.5,E])[0]?S[0]=0:S[0]=parseInt(""+S[0]),C=[0,0,0],B(T,U,V),O=0;O<3;++O)G[O]+=A*U[O]*this.tickPad[O]/r[5*O];this._text.drawTicks(T,this.tickSize[T],this.tickAngle[T],G,this.tickColor[T],H,C,S)}if(this.labelEnable[T]){for(E=0,C=[0,0,0],this.labels[T].length>4&&(N(T),E=1),"auto"===(S=[this.labelAlign[T],.5,E])[0]?S[0]=0:S[0]=parseInt(""+S[0]),O=0;O<3;++O)G[O]+=A*U[O]*this.labelPad[O]/r[5*O];G[T]+=.5*(o[0][T]+o[1][T]),this._text.drawLabel(T,this.labelSize[T],this.labelAngle[T],G,this.labelColor[T],[0,0,0],C,S)}}this._text.unbind()},p.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},3840:function(t){"use strict";function e(t,e,r,n,i,o){this._color=t,this.key=e,this.value=r,this.left=n,this.right=i,this._count=o}function r(t){return new e(t._color,t.key,t.value,t.left,t.right,t._count)}function n(t,r){return new e(t,r.key,r.value,r.left,r.right,r._count)}function i(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function o(t,e){this._compare=t,this.root=e}t.exports=function(t){return new o(t||f,null)};var a=o.prototype;function s(t,e){var r;return e.left&&(r=s(t,e.left))?r:(r=t(e.key,e.value))||(e.right?s(t,e.right):void 0)}function l(t,e,r,n){if(e(t,n.key)<=0){var i;if(n.left&&(i=l(t,e,r,n.left)))return i;if(i=r(n.key,n.value))return i}if(n.right)return l(t,e,r,n.right)}function c(t,e,r,n,i){var o,a=r(t,i.key),s=r(e,i.key);if(a<=0){if(i.left&&(o=c(t,e,r,n,i.left)))return o;if(s>0&&(o=n(i.key,i.value)))return o}if(s>0&&i.right)return c(t,e,r,n,i.right)}function d(t,e){this.tree=t,this._stack=e}Object.defineProperty(a,"keys",{get:function(){var t=[];return this.forEach((function(e,r){t.push(e)})),t}}),Object.defineProperty(a,"values",{get:function(){var t=[];return this.forEach((function(e,r){t.push(r)})),t}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(t,r){for(var a=this._compare,s=this.root,l=[],c=[];s;){var d=a(t,s.key);l.push(s),c.push(d),s=d<=0?s.left:s.right}l.push(new e(0,t,r,null,null,1));for(var u=l.length-2;u>=0;--u)s=l[u],c[u]<=0?l[u]=new e(s._color,s.key,s.value,l[u+1],s.right,s._count+1):l[u]=new e(s._color,s.key,s.value,s.left,l[u+1],s._count+1);for(u=l.length-1;u>1;--u){var h=l[u-1];if(s=l[u],1===h._color||1===s._color)break;var f=l[u-2];if(f.left===h)if(h.left===s){if(!(p=f.right)||0!==p._color){f._color=0,f.left=h.right,h._color=1,h.right=f,l[u-2]=h,l[u-1]=s,i(f),i(h),u>=3&&((m=l[u-3]).left===f?m.left=h:m.right=h);break}h._color=1,f.right=n(1,p),f._color=0,u-=1}else{if(!(p=f.right)||0!==p._color){h.right=s.left,f._color=0,f.left=s.right,s._color=1,s.left=h,s.right=f,l[u-2]=s,l[u-1]=h,i(f),i(h),i(s),u>=3&&((m=l[u-3]).left===f?m.left=s:m.right=s);break}h._color=1,f.right=n(1,p),f._color=0,u-=1}else if(h.right===s){if(!(p=f.left)||0!==p._color){f._color=0,f.right=h.left,h._color=1,h.left=f,l[u-2]=h,l[u-1]=s,i(f),i(h),u>=3&&((m=l[u-3]).right===f?m.right=h:m.left=h);break}h._color=1,f.left=n(1,p),f._color=0,u-=1}else{var p;if(!(p=f.left)||0!==p._color){var m;h.left=s.right,f._color=0,f.right=s.left,s._color=1,s.right=h,s.left=f,l[u-2]=s,l[u-1]=h,i(f),i(h),i(s),u>=3&&((m=l[u-3]).right===f?m.right=s:m.left=s);break}h._color=1,f.left=n(1,p),f._color=0,u-=1}}return l[0]._color=1,new o(a,l[0])},a.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return s(t,this.root);case 2:return l(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return c(e,r,this._compare,t,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new d(this,t)}}),Object.defineProperty(a,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new d(this,t)}}),a.at=function(t){if(t<0)return new d(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new d(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new d(this,[])},a.ge=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o<=0&&(i=n.length),r=o<=0?r.left:r.right}return n.length=i,new d(this,n)},a.gt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o<0&&(i=n.length),r=o<0?r.left:r.right}return n.length=i,new d(this,n)},a.lt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o>0&&(i=n.length),r=o<=0?r.left:r.right}return n.length=i,new d(this,n)},a.le=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o>=0&&(i=n.length),r=o<0?r.left:r.right}return n.length=i,new d(this,n)},a.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var i=e(t,r.key);if(n.push(r),0===i)return new d(this,n);r=i<=0?r.left:r.right}return new d(this,[])},a.remove=function(t){var e=this.find(t);return e?e.remove():this},a.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var u=d.prototype;function h(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function f(t,e){return t<e?-1:t>e?1:0}Object.defineProperty(u,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(u,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),u.clone=function(){return new d(this.tree,this._stack.slice())},u.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var a=new Array(t.length),s=t[t.length-1];a[a.length-1]=new e(s._color,s.key,s.value,s.left,s.right,s._count);for(var l=t.length-2;l>=0;--l)(s=t[l]).left===t[l+1]?a[l]=new e(s._color,s.key,s.value,a[l+1],s.right,s._count):a[l]=new e(s._color,s.key,s.value,s.left,a[l+1],s._count);if((s=a[a.length-1]).left&&s.right){var c=a.length;for(s=s.left;s.right;)a.push(s),s=s.right;var d=a[c-1];for(a.push(new e(s._color,d.key,d.value,s.left,s.right,s._count)),a[c-1].key=s.key,a[c-1].value=s.value,l=a.length-2;l>=c;--l)s=a[l],a[l]=new e(s._color,s.key,s.value,s.left,a[l+1],s._count);a[c-1].left=a[c]}if(0===(s=a[a.length-1])._color){var u=a[a.length-2];for(u.left===s?u.left=null:u.right===s&&(u.right=null),a.pop(),l=0;l<a.length;++l)a[l]._count--;return new o(this.tree._compare,a[0])}if(s.left||s.right){for(s.left?h(s,s.left):s.right&&h(s,s.right),s._color=1,l=0;l<a.length-1;++l)a[l]._count--;return new o(this.tree._compare,a[0])}if(1===a.length)return new o(this.tree._compare,null);for(l=0;l<a.length;++l)a[l]._count--;var f=a[a.length-2];return function(t){for(var e,o,a,s,l=t.length-1;l>=0;--l){if(e=t[l],0===l)return void(e._color=1);if((o=t[l-1]).left===e){if((a=o.right).right&&0===a.right._color)return s=(a=o.right=r(a)).right=r(a.right),o.right=a.left,a.left=o,a.right=s,a._color=o._color,e._color=1,o._color=1,s._color=1,i(o),i(a),l>1&&((c=t[l-2]).left===o?c.left=a:c.right=a),void(t[l-1]=a);if(a.left&&0===a.left._color)return s=(a=o.right=r(a)).left=r(a.left),o.right=s.left,a.left=s.right,s.left=o,s.right=a,s._color=o._color,o._color=1,a._color=1,e._color=1,i(o),i(a),i(s),l>1&&((c=t[l-2]).left===o?c.left=s:c.right=s),void(t[l-1]=s);if(1===a._color){if(0===o._color)return o._color=1,void(o.right=n(0,a));o.right=n(0,a);continue}a=r(a),o.right=a.left,a.left=o,a._color=o._color,o._color=0,i(o),i(a),l>1&&((c=t[l-2]).left===o?c.left=a:c.right=a),t[l-1]=a,t[l]=o,l+1<t.length?t[l+1]=e:t.push(e),l+=2}else{if((a=o.left).left&&0===a.left._color)return s=(a=o.left=r(a)).left=r(a.left),o.left=a.right,a.right=o,a.left=s,a._color=o._color,e._color=1,o._color=1,s._color=1,i(o),i(a),l>1&&((c=t[l-2]).right===o?c.right=a:c.left=a),void(t[l-1]=a);if(a.right&&0===a.right._color)return s=(a=o.left=r(a)).right=r(a.right),o.left=s.right,a.right=s.left,s.right=o,s.left=a,s._color=o._color,o._color=1,a._color=1,e._color=1,i(o),i(a),i(s),l>1&&((c=t[l-2]).right===o?c.right=s:c.left=s),void(t[l-1]=s);if(1===a._color){if(0===o._color)return o._color=1,void(o.left=n(0,a));o.left=n(0,a);continue}var c;a=r(a),o.left=a.right,a.right=o,a._color=o._color,o._color=0,i(o),i(a),l>1&&((c=t[l-2]).right===o?c.right=a:c.left=a),t[l-1]=a,t[l]=o,l+1<t.length?t[l+1]=e:t.push(e),l+=2}}}(a),f.left===s?f.left=null:f.right=null,new o(this.tree._compare,a[0])},Object.defineProperty(u,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(u,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(u,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var n=e.length-2;n>=0;--n)e[n+1]===e[n].right&&(++t,e[n].left&&(t+=e[n].left._count));return t},enumerable:!0}),u.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(u,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),u.update=function(t){var r=this._stack;if(0===r.length)throw new Error("Can't update empty node!");var n=new Array(r.length),i=r[r.length-1];n[n.length-1]=new e(i._color,i.key,t,i.left,i.right,i._count);for(var a=r.length-2;a>=0;--a)(i=r[a]).left===r[a+1]?n[a]=new e(i._color,i.key,i.value,n[a+1],i.right,i._count):n[a]=new e(i._color,i.key,i.value,i.left,n[a+1],i._count);return new o(this.tree._compare,n[0])},u.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(u,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},3865:function(t,e,r){"use strict";var n=r(869);t.exports=function(t,e){return n(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}},3952:function(t,e,r){"use strict";t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var r=t[0].length,n=[t[0]],o=[0],a=1;a<e;++a)if(n.push(t[a]),i(n,r)){if(o.push(a),o.length===r+1)return o}else n.pop();return o};var n=r(3250);function i(t,e){for(var r=new Array(e+1),i=0;i<t.length;++i)r[i]=t[i];for(i=0;i<=t.length;++i){for(var o=t.length;o<=e;++o){for(var a=new Array(e),s=0;s<e;++s)a[s]=Math.pow(o+1-i,s);r[o]=a}if(n.apply(void 0,r))return!0}return!1}},3990:function(t){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},4008:function(t,e,r){t.exports=r(6690)},4025:function(t,e,r){"use strict";var n=r(2361),i=r(8828).countTrailingZeros;t.exports=function(t){var e=i(n.lo(t));if(e<32)return e;var r=i(n.hi(t));return r>20?52:r+32}},4040:function(t){t.exports=function(t,e,r,n,i,o,a){var s=1/(e-r),l=1/(n-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*l,t[14]=(a+o)*c,t[15]=1,t}},4041:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],l=r[2],c=r[3],d=c*n+s*o-l*i,u=c*i+l*n-a*o,h=c*o+a*i-s*n,f=-a*n-s*i-l*o;return t[0]=d*c+f*-a+u*-l-h*-s,t[1]=u*c+f*-s+h*-a-d*-l,t[2]=h*c+f*-l+d*-s-u*-a,t[3]=e[3],t}},4081:function(t){"use strict";t.exports=function(t,e,r,n,i,o,a,s,l,c){var d=e+o+c;if(u>0){var u=Math.sqrt(d+1);t[0]=.5*(a-l)/u,t[1]=.5*(s-n)/u,t[2]=.5*(r-o)/u,t[3]=.5*u}else{var h=Math.max(e,o,c);u=Math.sqrt(2*h-d+1),e>=h?(t[0]=.5*u,t[1]=.5*(i+r)/u,t[2]=.5*(s+n)/u,t[3]=.5*(a-l)/u):o>=h?(t[0]=.5*(r+i)/u,t[1]=.5*u,t[2]=.5*(l+a)/u,t[3]=.5*(s-n)/u):(t[0]=.5*(n+s)/u,t[1]=.5*(a+l)/u,t[2]=.5*u,t[3]=.5*(r-i)/u)}return t}},4100:function(t,e,r){"use strict";var n=r(4437),i=r(3837),o=r(5445),a=r(4449),s=r(3589),l=r(2260),c=r(7169),d=r(351),u=r(4772),h=r(4040),f=r(799),p=r(9216)({tablet:!0,featureDetect:!0});function m(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function g(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var r=Math.round(Math.pow(10,-e));return Math.ceil(t*r)/r}return e>0?(r=Math.round(Math.pow(10,e)),Math.ceil(t/r)*r):Math.ceil(t)}function b(t){return"boolean"!=typeof t||t}t.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var e=t.canvas;e||(e=document.createElement("canvas"),t.container?t.container.appendChild(e):document.body.appendChild(e));var r=t.gl;if(r||(t.glOptions&&(p=!!t.glOptions.preserveDrawingBuffer),r=function(t,e){var r=null;try{(r=t.getContext("webgl",e))||(r=t.getContext("experimental-webgl",e))}catch(t){return null}return r}(e,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!r)throw new Error("webgl not supported");var v=t.bounds||[[-10,-10,-10],[10,10,10]],y=new m,x=l(r,r.drawingBufferWidth,r.drawingBufferHeight,{preferFloat:!p}),w=f(r),_=t.cameraObject&&!0===t.cameraObject._ortho||t.camera.projection&&"orthographic"===t.camera.projection.type||!1,k={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||"turntable",_ortho:_},A=t.axes||{},T=i(r,A);T.enable=!A.disable;var M=t.spikes||{},S=a(r,M),E=[],C=[],z=[],L=[],O=!0,D=!0,I={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},F=(D=!0,[r.drawingBufferWidth,r.drawingBufferHeight]),R=t.cameraObject||n(e,k),P={gl:r,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:e,selection:y,camera:R,axes:T,axesPixels:null,spikes:S,bounds:v,objects:E,shape:F,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:b(t.autoResize),autoBounds:b(t.autoBounds),autoScale:!!t.autoScale,autoCenter:b(t.autoCenter),clipToBounds:b(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:I,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,D=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},j=[r.drawingBufferWidth/P.pixelRatio|0,r.drawingBufferHeight/P.pixelRatio|0];function N(){if(!P._stopped&&P.autoResize){var t=e.parentNode,r=1,n=1;t&&t!==document.body?(r=t.clientWidth,n=t.clientHeight):(r=window.innerWidth,n=window.innerHeight);var i=0|Math.ceil(r*P.pixelRatio),o=0|Math.ceil(n*P.pixelRatio);if(i!==e.width||o!==e.height){e.width=i,e.height=o;var a=e.style;a.position=a.position||"absolute",a.left="0px",a.top="0px",a.width=r+"px",a.height=n+"px",O=!0}}}function B(){for(var t=E.length,e=L.length,n=0;n<e;++n)z[n]=0;t:for(n=0;n<t;++n){var i=E[n],o=i.pickSlots;if(o){for(var a=0;a<e;++a)if(z[a]+o<255){C[n]=a,i.setPickBase(z[a]+1),z[a]+=o;continue t}var l=s(r,F);C[n]=e,L.push(l),z.push(o),i.setPickBase(1),e+=1}else C[n]=-1}for(;e>0&&0===z[e-1];)z.pop(),L.pop().dispose()}function U(){if(P.contextLost)return!0;r.isContextLost()&&(P.contextLost=!0,P.mouseListener.enabled=!1,P.selection.object=null,P.oncontextloss&&P.oncontextloss())}P.autoResize&&N(),window.addEventListener("resize",N),P.update=function(t){P._stopped||(t=t||{},O=!0,D=!0)},P.add=function(t){P._stopped||(t.axes=T,E.push(t),C.push(-1),O=!0,D=!0,B())},P.remove=function(t){if(!P._stopped){var e=E.indexOf(t);e<0||(E.splice(e,1),C.pop(),O=!0,D=!0,B())}},P.dispose=function(){if(!P._stopped&&(P._stopped=!0,window.removeEventListener("resize",N),e.removeEventListener("webglcontextlost",U),P.mouseListener.enabled=!1,!P.contextLost)){T.dispose(),S.dispose();for(var t=0;t<E.length;++t)E[t].dispose();for(x.dispose(),t=0;t<L.length;++t)L[t].dispose();w.dispose(),r=null,T=null,S=null,E=[]}},P._mouseRotating=!1,P._prevButtons=0,P.enableMouseListeners=function(){P.mouseListener=d(e,(function(t,e,r){if(!P._stopped){var n=L.length,i=E.length,o=y.object;y.distance=1/0,y.mouse[0]=e,y.mouse[1]=r,y.object=null,y.screen=null,y.dataCoordinate=y.dataPosition=null;var a=!1;if(t&&P._prevButtons)P._mouseRotating=!0;else{P._mouseRotating&&(D=!0),P._mouseRotating=!1;for(var s=0;s<n;++s){var l=L[s].query(e,j[1]-r-1,P.pickRadius);if(l){if(l.distance>y.distance)continue;for(var c=0;c<i;++c){var d=E[c];if(C[c]===s){var u=d.pick(l);u&&(y.buttons=t,y.screen=l.coord,y.distance=l.distance,y.object=d,y.index=u.distance,y.dataPosition=u.position,y.dataCoordinate=u.dataCoordinate,y.data=u,a=!0)}}}}}o&&o!==y.object&&(o.highlight&&o.highlight(null),O=!0),y.object&&(y.object.highlight&&y.object.highlight(y.data),O=!0),(a=a||y.object!==o)&&P.onselect&&P.onselect(y),1&t&&!(1&P._prevButtons)&&P.onclick&&P.onclick(y),P._prevButtons=t}}))},e.addEventListener("webglcontextlost",U);var V=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=[V[0].slice(),V[1].slice()];function H(){if(!U()){N();var t=P.camera.tick();I.view=P.camera.matrix,O=O||t,D=D||t,T.pixelRatio=P.pixelRatio,S.pixelRatio=P.pixelRatio;var e=E.length,n=V[0],i=V[1];n[0]=n[1]=n[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var a=0;a<e;++a){(z=E[a]).pixelRatio=P.pixelRatio,z.axes=P.axes,O=O||!!z.dirty,D=D||!!z.dirty;var s=z.bounds;if(s)for(var l=s[0],d=s[1],f=0;f<3;++f)n[f]=Math.min(n[f],l[f]),i[f]=Math.max(i[f],d[f])}var p=P.bounds;if(P.autoBounds)for(f=0;f<3;++f){if(i[f]<n[f])n[f]=-1,i[f]=1;else{n[f]===i[f]&&(n[f]-=1,i[f]+=1);var m=.05*(i[f]-n[f]);n[f]=n[f]-m,i[f]=i[f]+m}p[0][f]=n[f],p[1][f]=i[f]}var b=!1;for(f=0;f<3;++f)b=b||G[0][f]!==p[0][f]||G[1][f]!==p[1][f],G[0][f]=p[0][f],G[1][f]=p[1][f];if(D=D||b,O=O||b){if(b){var v=[0,0,0];for(a=0;a<3;++a)v[a]=g((p[1][a]-p[0][a])/10);T.autoTicks?T.update({bounds:p,tickSpacing:v}):T.update({bounds:p})}var k=r.drawingBufferWidth,A=r.drawingBufferHeight;for(F[0]=k,F[1]=A,j[0]=0|Math.max(k/P.pixelRatio,1),j[1]=0|Math.max(A/P.pixelRatio,1),function(t,e){var r=t.bounds,n=t.cameraParams,i=n.projection,o=n.model,a=t.gl.drawingBufferWidth,s=t.gl.drawingBufferHeight,l=t.zNear,c=t.zFar,d=t.fovy,f=a/s;e?(h(i,-f,f,-1,1,l,c),n._ortho=!0):(u(i,d,f,l,c),n._ortho=!1);for(var p=0;p<16;++p)o[p]=0;o[15]=1;var m=0;for(p=0;p<3;++p)m=Math.max(m,r[1][p]-r[0][p]);for(p=0;p<3;++p)t.autoScale?o[5*p]=t.aspect[p]/(r[1][p]-r[0][p]):o[5*p]=1/m,t.autoCenter&&(o[12+p]=.5*-o[5*p]*(r[0][p]+r[1][p]))}(P,_),a=0;a<e;++a)(z=E[a]).axesBounds=p,P.clipToBounds&&(z.clipBounds=p);y.object&&(P.snapToData?S.position=y.dataCoordinate:S.position=y.dataPosition,S.bounds=p),D&&(D=!1,function(){if(!U()){r.colorMask(!0,!0,!0,!0),r.depthMask(!0),r.disable(r.BLEND),r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL);for(var t=E.length,e=L.length,n=0;n<e;++n){var i=L[n];i.shape=j,i.begin();for(var o=0;o<t;++o)if(C[o]===n){var a=E[o];a.drawPick&&(a.pixelRatio=1,a.drawPick(I))}i.end()}}}()),P.axesPixels=o(P.axes,I,k,A),P.onrender&&P.onrender(),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,k,A),P.clearRGBA(),r.depthMask(!0),r.colorMask(!0,!0,!0,!0),r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL),r.disable(r.BLEND),r.disable(r.CULL_FACE);var M=!1;for(T.enable&&(M=M||T.isTransparent(),T.draw(I)),S.axes=T,y.object&&S.draw(I),r.disable(r.CULL_FACE),a=0;a<e;++a)(z=E[a]).axes=T,z.pixelRatio=P.pixelRatio,z.isOpaque&&z.isOpaque()&&z.draw(I),z.isTransparent&&z.isTransparent()&&(M=!0);if(M){for(x.shape=F,x.bind(),r.clear(r.DEPTH_BUFFER_BIT),r.colorMask(!1,!1,!1,!1),r.depthMask(!0),r.depthFunc(r.LESS),T.enable&&T.isTransparent()&&T.drawTransparent(I),a=0;a<e;++a)(z=E[a]).isOpaque&&z.isOpaque()&&z.draw(I);for(r.enable(r.BLEND),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.colorMask(!0,!0,!0,!0),r.depthMask(!1),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),T.isTransparent()&&T.drawTransparent(I),a=0;a<e;++a){var z;(z=E[a]).isTransparent&&z.isTransparent()&&z.drawTransparent(I)}r.bindFramebuffer(r.FRAMEBUFFER,null),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.disable(r.DEPTH_TEST),w.bind(),x.color[0].bind(0),w.uniforms.accumBuffer=0,c(r),r.disable(r.BLEND)}for(O=!1,a=0;a<e;++a)E[a].dirty=!1}}}return P.enableMouseListeners(),function t(){P._stopped||P.contextLost||(H(),requestAnimationFrame(t))}(),P.redraw=function(){P._stopped||(O=!0,H())},P},createCamera:n}},4192:function(t){"use strict";t.exports=function(t,n){n<=4*e?r(0,n-1,t):c(0,n-1,t)};var e=32;function r(t,e,r){for(var n=2*(t+1),i=t+1;i<=e;++i){for(var o=r[n++],a=r[n++],s=i,l=n-2;s-- >t;){var c=r[l-2],d=r[l-1];if(c<o)break;if(c===o&&d<a)break;r[l]=c,r[l+1]=d,l-=2}r[l]=o,r[l+1]=a}}function n(t,e,r){e*=2;var n=r[t*=2],i=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=n,r[e+1]=i}function i(t,e,r){e*=2,r[t*=2]=r[e],r[t+1]=r[e+1]}function o(t,e,r,n){e*=2,r*=2;var i=n[t*=2],o=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=n[r],n[e+1]=n[r+1],n[r]=i,n[r+1]=o}function a(t,e,r,n,i){e*=2,i[t*=2]=i[e],i[e]=r,i[t+1]=i[e+1],i[e+1]=n}function s(t,e,r){e*=2;var n=r[t*=2],i=r[e];return!(n<i)&&(n!==i||r[t+1]>r[e+1])}function l(t,e,r,n){var i=n[t*=2];return i<e||i===e&&n[t+1]<r}function c(t,d,u){var h=(d-t+1)/6|0,f=t+h,p=d-h,m=t+d>>1,g=m-h,b=m+h,v=f,y=g,x=m,w=b,_=p,k=t+1,A=d-1,T=0;s(v,y,u)&&(T=v,v=y,y=T),s(w,_,u)&&(T=w,w=_,_=T),s(v,x,u)&&(T=v,v=x,x=T),s(y,x,u)&&(T=y,y=x,x=T),s(v,w,u)&&(T=v,v=w,w=T),s(x,w,u)&&(T=x,x=w,w=T),s(y,_,u)&&(T=y,y=_,_=T),s(y,x,u)&&(T=y,y=x,x=T),s(w,_,u)&&(T=w,w=_,_=T);for(var M=u[2*y],S=u[2*y+1],E=u[2*w],C=u[2*w+1],z=2*v,L=2*x,O=2*_,D=2*f,I=2*m,F=2*p,R=0;R<2;++R){var P=u[z+R],j=u[L+R],N=u[O+R];u[D+R]=P,u[I+R]=j,u[F+R]=N}i(g,t,u),i(b,d,u);for(var B=k;B<=A;++B)if(l(B,M,S,u))B!==k&&n(B,k,u),++k;else if(!l(B,E,C,u))for(;;){if(l(A,E,C,u)){l(A,M,S,u)?(o(B,k,A,u),++k,--A):(n(B,A,u),--A);break}if(--A<B)break}a(t,k-1,M,S,u),a(d,A+1,E,C,u),k-2-t<=e?r(t,k-2,u):c(t,k-2,u),d-(A+2)<=e?r(A+2,d,u):c(A+2,d,u),A-k<=e?r(k,A,u):c(k,A,u)}},4209:function(t,e,r){"use strict";t.exports=function(t){for(var e=t.length,r=2*e,n=new Array(r),o=0;o<e;++o){var l=t[o],c=l[0][0]<l[1][0];n[2*o]=new u(l[0][0],l,c,o),n[2*o+1]=new u(l[1][0],l,!c,o)}n.sort((function(t,e){var r=t.x-e.x;return r||(r=t.create-e.create)||Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1])}));var h=i(a),f=[],p=[],m=[];for(o=0;o<r;){for(var g=n[o].x,b=[];o<r;){var v=n[o];if(v.x!==g)break;o+=1,v.segment[0][0]===v.x&&v.segment[1][0]===v.x?v.create&&(v.segment[0][1]<v.segment[1][1]?(b.push(new d(v.segment[0][1],v.index,!0,!0)),b.push(new d(v.segment[1][1],v.index,!1,!1))):(b.push(new d(v.segment[1][1],v.index,!0,!1)),b.push(new d(v.segment[0][1],v.index,!1,!0)))):h=v.create?h.insert(v.segment,v.index):h.remove(v.segment)}f.push(h.root),p.push(g),m.push(b)}return new s(f,p,m)};var n=r(2478),i=r(3840),o=r(3250),a=r(1303);function s(t,e,r){this.slabs=t,this.coordinates=e,this.horizontal=r}function l(t,e){return t.y-e}function c(t,e){for(var r=null;t;){var n,i,a=t.key;a[0][0]<a[1][0]?(n=a[0],i=a[1]):(n=a[1],i=a[0]);var s=o(n,i,e);if(s<0)t=t.left;else if(s>0)if(e[0]!==a[1][0])r=t,t=t.right;else{if(l=c(t.right,e))return l;t=t.left}else{if(e[0]!==a[1][0])return t;var l;if(l=c(t.right,e))return l;t=t.left}}return r}function d(t,e,r,n){this.y=t,this.index=e,this.start=r,this.closed=n}function u(t,e,r,n){this.x=t,this.segment=e,this.create=r,this.index=n}s.prototype.castUp=function(t){var e=n.le(this.coordinates,t[0]);if(e<0)return-1;this.slabs[e];var r=c(this.slabs[e],t),i=-1;if(r&&(i=r.value),this.coordinates[e]===t[0]){var s=null;if(r&&(s=r.key),e>0){var d=c(this.slabs[e-1],t);d&&(s?a(d.key,s)>0&&(s=d.key,i=d.value):(i=d.value,s=d.key))}var u=this.horizontal[e];if(u.length>0){var h=n.ge(u,t[1],l);if(h<u.length){var f=u[h];if(t[1]===f.y){if(f.closed)return f.index;for(;h<u.length-1&&u[h+1].y===t[1];)if((f=u[h+=1]).closed)return f.index;if(f.y===t[1]&&!f.start){if((h+=1)>=u.length)return i;f=u[h]}}if(f.start)if(s){var p=o(s[0],s[1],[t[0],f.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(i=f.index)}else i=f.index;else f.y!==t[1]&&(i=f.index)}}}return i}},4317:function(t){"use strict";function e(t,e){var r=Math.floor(e),n=e-r,i=0<=r&&r<t.shape[0],o=0<=r+1&&r+1<t.shape[0];return(1-n)*(i?+t.get(r):0)+n*(o?+t.get(r+1):0)}function r(t,e,r){var n=Math.floor(e),i=e-n,o=0<=n&&n<t.shape[0],a=0<=n+1&&n+1<t.shape[0],s=Math.floor(r),l=r-s,c=0<=s&&s<t.shape[1],d=0<=s+1&&s+1<t.shape[1],u=o&&c?t.get(n,s):0,h=o&&d?t.get(n,s+1):0;return(1-l)*((1-i)*u+i*(a&&c?t.get(n+1,s):0))+l*((1-i)*h+i*(a&&d?t.get(n+1,s+1):0))}function n(t,e,r,n){var i=Math.floor(e),o=e-i,a=0<=i&&i<t.shape[0],s=0<=i+1&&i+1<t.shape[0],l=Math.floor(r),c=r-l,d=0<=l&&l<t.shape[1],u=0<=l+1&&l+1<t.shape[1],h=Math.floor(n),f=n-h,p=0<=h&&h<t.shape[2],m=0<=h+1&&h+1<t.shape[2],g=a&&d&&p?t.get(i,l,h):0,b=a&&u&&p?t.get(i,l+1,h):0,v=s&&d&&p?t.get(i+1,l,h):0,y=s&&u&&p?t.get(i+1,l+1,h):0,x=a&&d&&m?t.get(i,l,h+1):0,w=a&&u&&m?t.get(i,l+1,h+1):0;return(1-f)*((1-c)*((1-o)*g+o*v)+c*((1-o)*b+o*y))+f*((1-c)*((1-o)*x+o*(s&&d&&m?t.get(i+1,l,h+1):0))+c*((1-o)*w+o*(s&&u&&m?t.get(i+1,l+1,h+1):0)))}function i(t){var e,r,n=0|t.shape.length,i=new Array(n),o=new Array(n),a=new Array(n),s=new Array(n);for(e=0;e<n;++e)r=+arguments[e+1],i[e]=Math.floor(r),o[e]=r-i[e],a[e]=0<=i[e]&&i[e]<t.shape[e],s[e]=0<=i[e]+1&&i[e]+1<t.shape[e];var l,c,d,u=0;t:for(e=0;e<1<<n;++e){for(c=1,d=t.offset,l=0;l<n;++l)if(e&1<<l){if(!s[l])continue t;c*=o[l],d+=t.stride[l]*(i[l]+1)}else{if(!a[l])continue t;c*=1-o[l],d+=t.stride[l]*i[l]}u+=c*t.data[d]}return u}t.exports=function(t,o,a,s){switch(t.shape.length){case 0:return 0;case 1:return e(t,o);case 2:return r(t,o,a);case 3:return n(t,o,a,s);default:return i.apply(void 0,arguments)}},t.exports.d1=e,t.exports.d2=r,t.exports.d3=n},4335:function(t){t.exports=function(t,e){var r=e[15];if(0===r)return!1;for(var n=1/r,i=0;i<16;i++)t[i]=e[i]*n;return!0}},4359:function(t,e,r){"use strict";t.exports=function(t,e){return"object"==typeof e&&null!==e||(e={}),n(t,e.canvas||i,e.context||o,e)};var n=r(7718),i=null,o=null;"undefined"!=typeof document&&((i=document.createElement("canvas")).width=8192,i.height=1024,o=i.getContext("2d"))},4361:function(t){t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}},4437:function(t,e,r){"use strict";t.exports=function(t,e){t=t||document.body;var r=[.01,1/0];"distanceLimits"in(e=e||{})&&(r[0]=e.distanceLimits[0],r[1]=e.distanceLimits[1]),"zoomMin"in e&&(r[0]=e.zoomMin),"zoomMax"in e&&(r[1]=e.zoomMax);var c=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:r}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=0,h=t.clientWidth,f=t.clientHeight,p={keyBindingMode:"rotate",enableWheel:!0,view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,_ortho:e._ortho||e.projection&&"orthographic"===e.projection.type||!1,tick:function(){var e=n(),r=this.delay,i=e-2*r;c.idle(e-r),c.recalcMatrix(i),c.flush(e-(100+2*r));for(var o=!0,a=c.computedMatrix,s=0;s<16;++s)o=o&&d[s]===a[s],d[s]=a[s];var l=t.clientWidth===h&&t.clientHeight===f;return h=t.clientWidth,f=t.clientHeight,o?!l:(u=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,r){c.lookAt(c.lastT(),t,e,r)},rotate:function(t,e,r){c.rotate(c.lastT(),t,e,r)},pan:function(t,e,r){c.pan(c.lastT(),t,e,r)},translate:function(t,e,r){c.translate(c.lastT(),t,e,r)}};return Object.defineProperties(p,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){var e=c.computedUp.slice(),r=c.computedEye.slice(),i=c.computedCenter.slice();if(c.setMode(t),"turntable"===t){var o=n();c._active.lookAt(o,r,i,e),c._active.lookAt(o+500,r,i,[0,0,1]),c._active.flush(o)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return u},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(r)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),p._lastX=-1,p._lastY=-1,p._lastMods={shift:!1,control:!1,alt:!1,meta:!1},p.enableMouseListeners=function(){function e(e,r,i,o){var a=p.keyBindingMode;if(!1!==a){var s="rotate"===a,l="pan"===a,d="zoom"===a,h=!!o.control,f=!!o.alt,m=!!o.shift,g=!!(1&e),b=!!(2&e),v=!!(4&e),y=1/t.clientHeight,x=y*(r-p._lastX),w=y*(i-p._lastY),_=p.flipX?1:-1,k=p.flipY?1:-1,A=Math.PI*p.rotateSpeed,T=n();if(-1!==p._lastX&&-1!==p._lastY&&((s&&g&&!h&&!f&&!m||g&&!h&&!f&&m)&&c.rotate(T,_*A*x,-k*A*w,0),(l&&g&&!h&&!f&&!m||b||g&&h&&!f&&!m)&&c.pan(T,-p.translateSpeed*x*u,p.translateSpeed*w*u,0),d&&g&&!h&&!f&&!m||v||g&&!h&&f&&!m)){var M=-p.zoomSpeed*w/window.innerHeight*(T-c.lastT())*100;c.pan(T,0,0,u*(Math.exp(M)-1))}return p._lastX=r,p._lastY=i,p._lastMods=o,!0}}p.mouseListener=o(t,e),t.addEventListener("touchstart",(function(r){var n=s(r.changedTouches[0],t);e(0,n[0],n[1],p._lastMods),e(1,n[0],n[1],p._lastMods)}),!!l&&{passive:!0}),t.addEventListener("touchmove",(function(r){var n=s(r.changedTouches[0],t);e(1,n[0],n[1],p._lastMods),r.preventDefault()}),!!l&&{passive:!1}),t.addEventListener("touchend",(function(t){e(0,p._lastX,p._lastY,p._lastMods)}),!!l&&{passive:!0}),p.wheelListener=a(t,(function(t,e){if(!1!==p.keyBindingMode&&p.enableWheel){var r=p.flipX?1:-1,i=p.flipY?1:-1,o=n();if(Math.abs(t)>Math.abs(e))c.rotate(o,0,0,-t*r*Math.PI*p.rotateSpeed/window.innerWidth);else if(!p._ortho){var a=-p.zoomSpeed*i*e/window.innerHeight*(o-c.lastT())/20;c.pan(o,0,0,u*(Math.exp(a)-1))}}}),!0)},p.enableMouseListeners(),p};var n=r(3025),i=r(6296),o=r(351),a=r(8512),s=r(24),l=r(7520)},4449:function(t,e,r){"use strict";var n=r(2762),i=r(8116),o=r(1493);t.exports=function(t,e){var r=[];function a(t,e,n,i,o,a){var s=[t,e,n,0,0,0,1];s[i+3]=1,s[i]=o,r.push.apply(r,s),s[6]=-1,r.push.apply(r,s),s[i]=a,r.push.apply(r,s),r.push.apply(r,s),s[6]=1,r.push.apply(r,s),s[i]=o,r.push.apply(r,s)}a(0,0,0,0,0,1),a(0,0,0,1,0,1),a(0,0,0,2,0,1),a(1,0,0,1,-1,1),a(1,0,0,2,-1,1),a(0,1,0,0,-1,1),a(0,1,0,2,-1,1),a(0,0,1,0,-1,1),a(0,0,1,1,-1,1);var l=n(t,r),c=i(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),d=o(t);d.attributes.position.location=0,d.attributes.color.location=1,d.attributes.weight.location=2;var u=new s(t,l,c,d);return u.update(e),u};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,c=[0,0,0],d=[0,0,0],u=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(t){},l.draw=function(t){var e=this.gl,r=this.vao,n=this.shader;r.bind(),n.bind();var i,o=t.model||a,s=t.view||a,l=t.projection||a;this.axes&&(i=this.axes.lastCubeProps.axis);for(var h=c,f=d,p=0;p<3;++p)i&&i[p]<0?(h[p]=this.bounds[0][p],f[p]=this.bounds[1][p]):(h[p]=this.bounds[1][p],f[p]=this.bounds[0][p]);for(u[0]=e.drawingBufferWidth,u[1]=e.drawingBufferHeight,n.uniforms.model=o,n.uniforms.view=s,n.uniforms.projection=l,n.uniforms.coordinates=[this.position,h,f],n.uniforms.colors=this.colors,n.uniforms.screenShape=u,p=0;p<3;++p)n.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(r.draw(e.TRIANGLES,6,6*p),this.drawSides[p]&&r.draw(e.TRIANGLES,12,18+12*p));r.unbind()},l.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},4494:function(t){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}},4505:function(t,e,r){t.exports=r(5847)},4578:function(t){t.exports=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}},4623:function(t){"use strict";function e(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=e,e.prototype.length=function(){return this.roots.length},e.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},e.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var r=e[t];e[t]=e[r],t=r}return t},e.prototype.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var i=this.ranks,o=this.roots,a=i[r],s=i[n];a<s?o[r]=n:s<a?o[n]=r:(o[n]=r,++i[r])}}},4687:function(t,e){"use strict";function r(t){return t.target||t.srcElement||window}e.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},e.element=r,e.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=r(t).getBoundingClientRect();return t.clientX-e.left}return 0},e.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=r(t).getBoundingClientRect();return t.clientY-e.top}return 0}},4691:function(t){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+o*o)}},4750:function(t,e,r){"use strict";t.exports=function(t){var e=n(t),r=e.length;if(r<=2)return[];for(var i=new Array(r),o=e[r-1],a=0;a<r;++a){var s=e[a];i[a]=[o,s],o=s}return i};var n=r(3090)},4769:function(t){"use strict";t.exports=function(t,e,r,n,i,o){var a=i-1,s=i*i,l=a*a,c=(1+2*i)*l,d=i*l,u=s*(3-2*i),h=s*a;if(t.length){o||(o=new Array(t.length));for(var f=t.length-1;f>=0;--f)o[f]=c*t[f]+d*e[f]+u*r[f]+h*n[f];return o}return c*t+d*e+u*r+h*n},t.exports.derivative=function(t,e,r,n,i,o){var a=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,c=3*i*i-2*i;if(t.length){o||(o=new Array(t.length));for(var d=t.length-1;d>=0;--d)o[d]=a*t[d]+s*e[d]+l*r[d]+c*n[d];return o}return a*t+s*e+l*r[d]+c*n}},4772:function(t){t.exports=function(t,e,r,n,i){var o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}},4793:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(o=function(){return!!t})()}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}var c=r(7507),d=r(3778),u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=p,e.IS=50;var h=2147483647;function f(t){if(t>h)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,p.prototype),e}function p(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return b(t)}return m(t,e,r)}function m(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!p.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|w(t,e),n=f(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(et(t,Uint8Array)){var e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return v(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(t));if(et(t,ArrayBuffer)||t&&et(t.buffer,ArrayBuffer))return y(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(et(t,SharedArrayBuffer)||t&&et(t.buffer,SharedArrayBuffer)))return y(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return p.from(n,e,r);var i=function(t){if(p.isBuffer(t)){var e=0|x(t.length),r=f(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?f(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return p.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(t))}function g(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function b(t){return g(t),f(t<0?0:0|x(t))}function v(t){for(var e=t.length<0?0:0|x(t.length),r=f(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function y(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,p.prototype),n}function x(t){if(t>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|t}function w(t,e){if(p.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||et(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(t));var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(i)return n?-1:Q(t).length;e=(""+e).toLowerCase(),i=!0}}function _(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return F(this,e,r);case"base64":return L(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function k(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function A(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),rt(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=p.from(e,n)),p.isBuffer(e))return 0===e.length?-1:T(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):T(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function T(t,e,r,n,i){var o,a=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var d=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===l)return d*a}else-1!==d&&(o-=o-d),d=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var u=!0,h=0;h<l;h++)if(c(t,o+h)!==c(e,h)){u=!1;break}if(u)return o}return-1}function M(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o,a=e.length;for(n>a/2&&(n=a/2),o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(rt(s))return o;t[r+o]=s}return o}function S(t,e,r,n){return tt(Q(e,t.length-r),t,r,n)}function E(t,e,r,n){return tt(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function C(t,e,r,n){return tt(K(e),t,r,n)}function z(t,e,r,n){return tt(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function L(t,e,r){return 0===e&&r===t.length?c.fromByteArray(t):c.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var l=void 0,c=void 0,d=void 0,u=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(l=t[i+1]))&&(u=(31&o)<<6|63&l)>127&&(a=u);break;case 3:l=t[i+1],c=t[i+2],128==(192&l)&&128==(192&c)&&(u=(15&o)<<12|(63&l)<<6|63&c)>2047&&(u<55296||u>57343)&&(a=u);break;case 4:l=t[i+1],c=t[i+2],d=t[i+3],128==(192&l)&&128==(192&c)&&128==(192&d)&&(u=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&d)>65535&&u<1114112&&(a=u)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(t){var e=t.length;if(e<=D)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=D));return r}(n)}p.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),p.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(t,e,r){return m(t,e,r)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(t,e,r){return function(t,e,r){return g(t),t<=0?f(t):void 0!==e?"string"==typeof r?f(t).fill(e,r):f(t).fill(e):f(t)}(t,e,r)},p.allocUnsafe=function(t){return b(t)},p.allocUnsafeSlow=function(t){return b(t)},p.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==p.prototype},p.compare=function(t,e){if(et(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),et(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),!p.isBuffer(t)||!p.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},p.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return p.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=p.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(et(o,Uint8Array))i+o.length>n.length?(p.isBuffer(o)||(o=p.from(o)),o.copy(n,i)):Uint8Array.prototype.set.call(n,o,i);else{if(!p.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},p.byteLength=w,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)k(this,e,e+1);return this},p.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)k(this,e,e+3),k(this,e+1,e+2);return this},p.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)k(this,e,e+7),k(this,e+1,e+6),k(this,e+2,e+5),k(this,e+3,e+4);return this},p.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?O(this,0,t):_.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===p.compare(this,t)},p.prototype.inspect=function(){var t="",r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},u&&(p.prototype[u]=p.prototype.inspect),p.prototype.compare=function(t,e,r,n,i){if(et(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),!p.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(t));if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(n,i),d=t.slice(e,r),u=0;u<s;++u)if(c[u]!==d[u]){o=c[u],a=d[u];break}return o<a?-1:a<o?1:0},p.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},p.prototype.indexOf=function(t,e,r){return A(this,t,e,r,!0)},p.prototype.lastIndexOf=function(t,e,r){return A(this,t,e,r,!1)},p.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return M(this,t,e,r);case"utf8":case"utf-8":return S(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return C(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function F(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=nt[t[o]];return i}function P(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,r,n,i,o){if(!p.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,i){Y(e,n,i,t,r,7);var o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;var a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function U(t,e,r,n,i){Y(e,n,i,t,r,7);var o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;var a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function V(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(t,e,r,n,i){return e=+e,r>>>=0,i||V(t,0,r,4),d.write(t,e,r,n,23,4),r+4}function H(t,e,r,n,i){return e=+e,r>>>=0,i||V(t,0,r,8),d.write(t,e,r,n,52,8),r+8}p.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,p.prototype),n},p.prototype.readUintLE=p.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},p.prototype.readUintBE=p.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},p.prototype.readUint8=p.prototype.readUInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),this[t]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]|this[t+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(t,e){return t>>>=0,e||j(t,2,this.length),this[t]<<8|this[t+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},p.prototype.readBigUInt64LE=it((function(t){Z(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||X(t,this.length-8);var n=e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24),i=this[++t]+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),p.prototype.readBigUInt64BE=it((function(t){Z(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||X(t,this.length-8);var n=e*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t],i=this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),p.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},p.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||j(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},p.prototype.readInt8=function(t,e){return t>>>=0,e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},p.prototype.readInt16LE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},p.prototype.readInt16BE=function(t,e){t>>>=0,e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},p.prototype.readInt32LE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},p.prototype.readInt32BE=function(t,e){return t>>>=0,e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},p.prototype.readBigInt64LE=it((function(t){Z(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||X(t,this.length-8);var n=this[t+4]+this[t+5]*Math.pow(2,8)+this[t+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+this[++t]*Math.pow(2,8)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,24))})),p.prototype.readBigInt64BE=it((function(t){Z(t>>>=0,"offset");var e=this[t],r=this[t+7];void 0!==e&&void 0!==r||X(t,this.length-8);var n=(e<<24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*Math.pow(2,24)+this[++t]*Math.pow(2,16)+this[++t]*Math.pow(2,8)+r)})),p.prototype.readFloatLE=function(t,e){return t>>>=0,e||j(t,4,this.length),d.read(this,t,!0,23,4)},p.prototype.readFloatBE=function(t,e){return t>>>=0,e||j(t,4,this.length),d.read(this,t,!1,23,4)},p.prototype.readDoubleLE=function(t,e){return t>>>=0,e||j(t,8,this.length),d.read(this,t,!0,52,8)},p.prototype.readDoubleBE=function(t,e){return t>>>=0,e||j(t,8,this.length),d.read(this,t,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||N(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||N(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},p.prototype.writeUint8=p.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,1,255,0),this[e]=255&t,e+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},p.prototype.writeBigUInt64LE=it((function(t){return B(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),p.prototype.writeBigUInt64BE=it((function(t){return U(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),p.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+r},p.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+r},p.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},p.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},p.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},p.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},p.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},p.prototype.writeBigInt64LE=it((function(t){return B(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),p.prototype.writeBigInt64BE=it((function(t){return U(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),p.prototype.writeFloatLE=function(t,e,r){return G(this,t,e,!0,r)},p.prototype.writeFloatBE=function(t,e,r){return G(this,t,e,!1,r)},p.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},p.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},p.prototype.copy=function(t,e,r,n){if(!p.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},p.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!p.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=p.isBuffer(t)?t:p.from(t,n),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var W={};function q(t,e,r){W[t]=function(r){function i(){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=function(t,e,r){return e=a(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,o()?Reflect.construct(e,r||[],a(t).constructor):e.apply(t,r))}(this,i),Object.defineProperty(r,"message",{value:e.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(i,r),c=i,(d=[{key:"code",get:function(){return t},set:function(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)}}])&&n(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,d}(r)}function $(t){for(var e="",r=t.length,n="-"===t[0]?1:0;r>=n+4;r-=3)e="_".concat(t.slice(r-3,r)).concat(e);return"".concat(t.slice(0,r)).concat(e)}function Y(t,e,r,n,i,o){if(t>r||t<e){var a,s="bigint"==typeof e?"n":"";throw a=o>3?0===e||e===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(e).concat(s," and <= ").concat(r).concat(s),new W.ERR_OUT_OF_RANGE("value",a,t)}!function(t,e,r){Z(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||X(e,t.length-(r+1))}(n,i,o)}function Z(t,e){if("number"!=typeof t)throw new W.ERR_INVALID_ARG_TYPE(e,"number",t)}function X(t,e,r){if(Math.floor(t)!==t)throw Z(t,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(e),t)}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),q("ERR_INVALID_ARG_TYPE",(function(t,e){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(l(e))}),TypeError),q("ERR_OUT_OF_RANGE",(function(t,e,r){var n='The value of "'.concat(t,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=$(i)),i+="n"),n+" It must be ".concat(e,". Received ").concat(i)}),RangeError);var J=/[^+/0-9A-Za-z-_]/g;function Q(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(t){return c.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function tt(t,e,r,n){var i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function et(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function rt(t){return t!=t}var nt=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}();function it(t){return"undefined"==typeof BigInt?ot:t}function ot(){throw new Error("BigInt not supported")}},4844:function(t){t.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}},4905:function(t,e,r){var n=r(5874);t.exports=function(t,e){var r=n(e),i=[];return(i=i.concat(r(t))).concat(r(null))}},4935:function(t,e,r){"use strict";t.exports=function(t,e,r,n,a,l){var c=i(t),u=o(t,[{buffer:c,size:3}]),h=s(t);h.attributes.position.location=0;var f=new d(t,h,c,u);return f.update(e,r,n,a,l),f};var i=r(2762),o=r(8116),a=r(4359),s=r(1879).Q,l=window||n.global||{},c=l.__TEXT_CACHE||{};function d(t,e,r,n){this.gl=t,this.shader=e,this.buffer=r,this.vao=n,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var u=d.prototype,h=[0,0];u.bind=function(t,e,r,n){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=t,i.view=e,i.projection=r,i.pixelScale=n,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},u.unbind=function(){this.vao.unbind()},u.update=function(t,e,r,n,i){var o=[];function s(t,e,r,n,i,s){var l=[r.style,r.weight,r.variant,r.family].join("_"),d=c[l];d||(d=c[l]={});var u=d[e];u||(u=d[e]=function(t,e){try{return a(t,e)}catch(e){return console.warn('error vectorizing text:"'+t+'" error:',e),{cells:[],positions:[]}}}(e,{triangles:!0,font:r.family,fontStyle:r.style,fontWeight:r.weight,fontVariant:r.variant,textAlign:"center",textBaseline:"middle",lineSpacing:i,styletags:s}));for(var h=(n||12)/12,f=u.positions,p=u.cells,m=0,g=p.length;m<g;++m)for(var b=p[m],v=2;v>=0;--v){var y=f[b[v]];o.push(h*y[0],-h*y[1],t)}}for(var l=[0,0,0],d=[0,0,0],u=[0,0,0],h=[0,0,0],f={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},p=0;p<3;++p){u[p]=o.length/3|0,s(.5*(t[0][p]+t[1][p]),e[p],r[p],12,1.25,f),h[p]=(o.length/3|0)-u[p],l[p]=o.length/3|0;for(var m=0;m<n[p].length;++m)if(n[p][m].text){var g={family:n[p][m].font||i[p].family,style:i[p].fontStyle||i[p].style,weight:i[p].fontWeight||i[p].weight,variant:i[p].fontVariant||i[p].variant};s(n[p][m].x,n[p][m].text,g,n[p][m].fontSize||12,1.25,f)}d[p]=(o.length/3|0)-l[p]}this.buffer.update(o),this.tickOffset=l,this.tickCount=d,this.labelOffset=u,this.labelCount=h},u.drawTicks=function(t,e,r,n,i,o,a,s){this.tickCount[t]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},u.drawLabel=function(t,e,r,n,i,o,a,s){this.labelCount[t]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},u.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},5023:function(t,e,r){"use strict";var n,i=r(2478);function o(t,e,r,n,i,o,a){this.cells=t,this.neighbor=e,this.flags=n,this.constraint=r,this.active=i,this.next=o,this.boundary=a}function a(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}t.exports=function(t,e,r){var n=function(t,e){for(var r=t.cells(),n=r.length,i=0;i<n;++i){var s=(b=r[i])[0],l=b[1],c=b[2];l<c?l<s&&(b[0]=l,b[1]=c,b[2]=s):c<s&&(b[0]=c,b[1]=s,b[2]=l)}r.sort(a);var d=new Array(n);for(i=0;i<d.length;++i)d[i]=0;var u=[],h=[],f=new Array(3*n),p=new Array(3*n),m=null;e&&(m=[]);var g=new o(r,f,p,d,u,h,m);for(i=0;i<n;++i)for(var b=r[i],v=0;v<3;++v){s=b[v],l=b[(v+1)%3];var y=f[3*i+v]=g.locate(l,s,t.opposite(l,s)),x=p[3*i+v]=t.isConstraint(s,l);y<0&&(x?h.push(i):(u.push(i),d[i]=1),e&&m.push([l,s,-1]))}return g}(t,r);if(0===e)return r?n.cells.concat(n.boundary):n.cells;for(var i=1,s=n.active,l=n.next,c=n.flags,d=n.cells,u=n.constraint,h=n.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var f=s.pop();if(c[f]!==-i){c[f]=i,d[f];for(var p=0;p<3;++p){var m=h[3*f+p];m>=0&&0===c[m]&&(u[3*f+p]?l.push(m):(s.push(m),c[m]=i))}}}var g=l;l=s,s=g,l.length=0,i=-i}var b=function(t,e,r){for(var n=0,i=0;i<t.length;++i)e[i]===r&&(t[n++]=t[i]);return t.length=n,t}(d,c,e);return r?b.concat(n.boundary):b},o.prototype.locate=(n=[0,0,0],function(t,e,r){var o=t,s=e,l=r;return e<r?e<t&&(o=e,s=r,l=t):r<t&&(o=r,s=t,l=e),o<0?-1:(n[0]=o,n[1]=s,n[2]=l,i.eq(this.cells,n,a))})},5033:function(t){"use strict";t.exports=function(t,e,r){var n=e||0,i=r||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},5085:function(t,e,r){t.exports=function(t){for(var e=t.length,r=[],o=[],s=0;s<e;++s)for(var d=t[s],u=d.length,h=u-1,f=0;f<u;h=f++){var p=d[h],m=d[f];p[0]===m[0]?o.push([p,m]):r.push([p,m])}if(0===r.length)return 0===o.length?c:(g=l(o),function(t){return g(t[0],t[1])?0:1});var g,b=i(r),v=function(t,e){return function(r){var i=a.le(e,r[0]);if(i<0)return 1;var o=t[i];if(!o){if(!(i>0&&e[i]===r[0]))return 1;o=t[i-1]}for(var s=1;o;){var l=o.key,c=n(r,l[0],l[1]);if(l[0][0]<l[1][0])if(c<0)o=o.left;else{if(!(c>0))return 0;s=-1,o=o.right}else if(c>0)o=o.left;else{if(!(c<0))return 0;s=1,o=o.right}}return s}}(b.slabs,b.coordinates);return 0===o.length?v:function(t,e){return function(r){return t(r[0],r[1])?0:e(r)}}(l(o),v)};var n=r(3250)[3],i=r(4209),o=r(3352),a=r(2478);function s(){return!0}function l(t){for(var e={},r=0;r<t.length;++r){var n=t[r],i=n[0][0],a=n[0][1],l=n[1][1],c=[Math.min(a,l),Math.max(a,l)];i in e?e[i].push(c):e[i]=[c]}var d={},u=Object.keys(e);for(r=0;r<u.length;++r){var h=e[u[r]];d[u[r]]=o(h)}return function(t){return function(e,r){var n=t[e];return!!n&&!!n.queryPoint(r,s)}}(d)}function c(t){return 1}},5091:function(t,e,r){"use strict";e.shader=function(t,e,r){return d(t).getShaderReference(e,r)},e.program=function(t,e,r,n,i){return d(t).getProgram(e,r,n,i)};var n=r(8866),i=r(2992),o=new("undefined"==typeof WeakMap?r(606):WeakMap),a=0;function s(t,e,r,n,i,o,a){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=o,this.programs=[],this.cache=a}function l(t){this.gl=t,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;n<i;++n){var o=t.programs[r[n]];o&&(delete t.programs[n],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var c=l.prototype;function d(t){var e=o.get(t);return e||(e=new l(t),o.set(t,e)),e}c.getShaderReference=function(t,e){var r=this.gl,o=this.shaders[t===r.FRAGMENT_SHADER|0],l=o[e];if(l&&r.isShader(l.shader))l.count+=1;else{var c=function(t,e,r){var o=t.createShader(e);if(t.shaderSource(o,r),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(o);try{var s=i(a,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new n(a,"Error compiling shader:\n"+a)}throw new n(a,s.short,s.long)}return o}(r,t,e);l=o[e]=new s(a++,e,t,c,[],1,this)}return l},c.getProgram=function(t,e,r,i){var o=[t.id,e.id,r.join(":"),i.join(":")].join("@"),a=this.programs[o];return a&&this.gl.isProgram(a)||(this.programs[o]=a=function(t,e,r,i,o){var a=t.createProgram();t.attachShader(a,e),t.attachShader(a,r);for(var s=0;s<i.length;++s)t.bindAttribLocation(a,o[s],i[s]);if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS)){var l=t.getProgramInfoLog(a);throw new n(l,"Error linking program: "+l)}return a}(this.gl,t.shader,e.shader,r,i),t.programs.push(o),e.programs.push(o)),a}},5093:function(t){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},5137:function(t,e,r){t.exports=function(t,e,r,i,o,a){var s,l;for(e||(e=3),r||(r=0),l=i?Math.min(i*e+r,t.length):t.length,s=r;s<l;s+=e)n[0]=t[s],n[1]=t[s+1],n[2]=t[s+2],o(n,n,a),t[s]=n[0],t[s+1]=n[1],t[s+2]=n[2];return t};var n=r(1091)()},5171:function(t,e,r){var n=r(737);t.exports=function(t){return n[t]}},5177:function(t){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a),t}},5202:function(t,e,r){"use strict";var n=r(1944),i=r(8210);function o(t,e){var r=i(n(t,e),[e[e.length-1]]);return r[r.length-1]}function a(t,e,r,n){var i=-e/(n-e);i<0?i=0:i>1&&(i=1);for(var o=1-i,a=t.length,s=new Array(a),l=0;l<a;++l)s[l]=i*t[l]+o*r[l];return s}t.exports=function(t,e){for(var r=[],n=[],i=o(t[t.length-1],e),s=t[t.length-1],l=t[0],c=0;c<t.length;++c,s=l){var d=o(l=t[c],e);if(i<0&&d>0||i>0&&d<0){var u=a(s,d,l,i);r.push(u),n.push(u.slice())}d<0?n.push(l.slice()):d>0?r.push(l.slice()):(r.push(l.slice()),n.push(l.slice())),i=d}return{positive:r,negative:n}},t.exports.positive=function(t,e){for(var r=[],n=o(t[t.length-1],e),i=t[t.length-1],s=t[0],l=0;l<t.length;++l,i=s){var c=o(s=t[l],e);(n<0&&c>0||n>0&&c<0)&&r.push(a(i,c,s,n)),c>=0&&r.push(s.slice()),n=c}return r},t.exports.negative=function(t,e){for(var r=[],n=o(t[t.length-1],e),i=t[t.length-1],s=t[0],l=0;l<t.length;++l,i=s){var c=o(s=t[l],e);(n<0&&c>0||n>0&&c<0)&&r.push(a(i,c,s,n)),c<=0&&r.push(s.slice()),n=c}return r}},5219:function(t){"use strict";t.exports=function(t){for(var e,r=t.length,n=0;n<r;n++)if(((e=t.charCodeAt(n))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},5250:function(t){"use strict";t.exports=function(t,r,n){var i=t*r,o=e*t,a=o-(o-t),s=t-a,l=e*r,c=l-(l-r),d=r-c,u=s*d-(i-a*c-s*c-a*d);return n?(n[0]=u,n[1]=i,n):[u,i]};var e=+(Math.pow(2,27)+1)},5298:function(t,e){"use strict";var r={"float64,2,1,0":function(){return function(t,e,r,n,i){var o=t[0],a=t[1],s=t[2],l=r[0],c=r[1],d=r[2];n|=0;var u=0,h=0,f=0,p=d,m=c-s*d,g=l-a*c;for(f=0;f<o;++f){for(h=0;h<a;++h){for(u=0;u<s;++u)e[n]/=i,n+=p;n+=m}n+=g}}},"uint8,2,0,1,float64,2,1,0":function(){return function(t,e,r,n,i,o,a,s){for(var l=t[0],c=t[1],d=t[2],u=r[0],h=r[1],f=r[2],p=o[0],m=o[1],g=o[2],b=n|=0,v=a|=0,y=0|t[0];y>0;){y<64?(l=y,y=0):(l=64,y-=64);for(var x=0|t[1];x>0;){x<64?(c=x,x=0):(c=64,x-=64),n=b+y*u+x*h,a=v+y*p+x*m;var w=0,_=0,k=0,A=f,T=u-d*f,M=h-l*u,S=g,E=p-d*g,C=m-l*p;for(k=0;k<c;++k){for(_=0;_<l;++_){for(w=0;w<d;++w)e[n]=i[a]*s,n+=A,a+=S;n+=T,a+=E}n+=M,a+=C}}}}},"float32,1,0,float32,1,0":function(){return function(t,e,r,n,i,o,a){var s=t[0],l=t[1],c=r[0],d=r[1],u=o[0],h=o[1];n|=0,a|=0;var f=0,p=0,m=d,g=c-l*d,b=h,v=u-l*h;for(p=0;p<s;++p){for(f=0;f<l;++f)e[n]=i[a],n+=m,a+=b;n+=g,a+=v}}},"float32,1,0,float32,0,1":function(){return function(t,e,r,n,i,o,a){for(var s=t[0],l=t[1],c=r[0],d=r[1],u=o[0],h=o[1],f=n|=0,p=a|=0,m=0|t[1];m>0;){m<64?(l=m,m=0):(l=64,m-=64);for(var g=0|t[0];g>0;){g<64?(s=g,g=0):(s=64,g-=64),n=f+m*d+g*c,a=p+m*h+g*u;var b=0,v=0,y=d,x=c-l*d,w=h,_=u-l*h;for(v=0;v<s;++v){for(b=0;b<l;++b)e[n]=i[a],n+=y,a+=w;n+=x,a+=_}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(t,e,r,n,i,o,a){for(var s=t[0],l=t[1],c=t[2],d=r[0],u=r[1],h=r[2],f=o[0],p=o[1],m=o[2],g=n|=0,b=a|=0,v=0|t[2];v>0;){v<64?(c=v,v=0):(c=64,v-=64);for(var y=0|t[0];y>0;){y<64?(s=y,y=0):(s=64,y-=64);for(var x=0|t[1];x>0;){x<64?(l=x,x=0):(l=64,x-=64),n=g+v*h+y*d+x*u,a=b+v*m+y*f+x*p;var w=0,_=0,k=0,A=h,T=d-c*h,M=u-s*d,S=m,E=f-c*m,C=p-s*f;for(k=0;k<l;++k){for(_=0;_<s;++_){for(w=0;w<c;++w)e[n]=i[a],n+=A,a+=S;n+=T,a+=E}n+=M,a+=C}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(t,e,r,n,i,o,a){var s=t[0],l=t[1],c=t[2],d=r[0],u=r[1],h=r[2],f=o[0],p=o[1],m=o[2];n|=0,a|=0;var g=0,b=0,v=0,y=h,x=d-c*h,w=u-s*d,_=m,k=f-c*m,A=p-s*f;for(v=0;v<l;++v){for(b=0;b<s;++b){for(g=0;g<c;++g)e[n]=i[a],n+=y,a+=_;n+=x,a+=k}n+=w,a+=A}}}},n=function(t,e){var n=e.join(",");return(0,r[n])()},i={mul:function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=n.dtype,l=n.order,c=i.dtype,d=i.order,u=[o,a.join(),s,l.join(),c,d.join()].join(),h=e[u];return h||(e[u]=h=t([o,a,s,l,c,d])),h(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset,i.data,i.stride,0|i.offset)}},muls:function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=n.dtype,l=n.order,c=[o,a.join(),s,l.join()].join(),d=e[c];return d||(e[c]=d=t([o,a,s,l])),d(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset,i)}},mulseq:function(t){var e={};return function(r,n){var i=r.dtype,o=r.order,a=[i,o.join()].join(),s=e[a];return s||(e[a]=s=t([i,o])),s(r.shape.slice(0),r.data,r.stride,0|r.offset,n)}},div:function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=n.dtype,l=n.order,c=i.dtype,d=i.order,u=[o,a.join(),s,l.join(),c,d.join()].join(),h=e[u];return h||(e[u]=h=t([o,a,s,l,c,d])),h(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset,i.data,i.stride,0|i.offset)}},divs:function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=n.dtype,l=n.order,c=[o,a.join(),s,l.join()].join(),d=e[c];return d||(e[c]=d=t([o,a,s,l])),d(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset,i)}},divseq:function(t){var e={};return function(r,n){var i=r.dtype,o=r.order,a=[i,o.join()].join(),s=e[a];return s||(e[a]=s=t([i,o])),s(r.shape.slice(0),r.data,r.stride,0|r.offset,n)}},assign:function(t){var e={};return function(r,n){var i=r.dtype,o=r.order,a=n.dtype,s=n.order,l=[i,o.join(),a,s.join()].join(),c=e[l];return c||(e[l]=c=t([i,o,a,s])),c(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset)}}};function o(t){return e={funcName:t.funcName},(0,i[e.funcName])(n.bind(void 0,e));var e}var a={mul:"*",div:"/"};!function(){for(var t in a)e[t]=o({funcName:t}),e[t+"s"]=o({funcName:t+"s"}),e[t+"seq"]=o({funcName:t+"seq"})}(),e.assign=o({funcName:"assign"})},5304:function(t,e,r){"use strict";t.exports=function(t){for(var e=[],r=[],s=0,l=0;l<3;++l)for(var c=(l+1)%3,d=(l+2)%3,u=[0,0,0],h=[0,0,0],f=-1;f<=1;f+=2){r.push(s,s+2,s+1,s+1,s+2,s+3),u[l]=f,h[l]=f;for(var p=-1;p<=1;p+=2){u[c]=p;for(var m=-1;m<=1;m+=2)u[d]=m,e.push(u[0],u[1],u[2],h[0],h[1],h[2]),s+=1}var g=c;c=d,d=g}var b=n(t,new Float32Array(e)),v=n(t,new Uint16Array(r),t.ELEMENT_ARRAY_BUFFER),y=i(t,[{buffer:b,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:b,type:t.FLOAT,size:3,offset:12,stride:24}],v),x=o(t);return x.attributes.position.location=0,x.attributes.normal.location=1,new a(t,b,y,x)};var n=r(2762),i=r(8116),o=r(1879).bg;function a(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n}var s=a.prototype;s.draw=function(t,e,r,n,i,o){for(var a=!1,s=0;s<3;++s)a=a||i[s];if(a){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:r,bounds:n,enable:i,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},5352:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}},5382:function(t,e,r){"use strict";var n=r(8210),i=r(3012);t.exports=function(t,e){if(1===t.length)return i(e,t[0]);if(1===e.length)return i(t,e[0]);if(0===t.length||0===e.length)return[0];var r=[0];if(t.length<e.length)for(var o=0;o<t.length;++o)r=n(r,i(e,t[o]));else for(o=0;o<e.length;++o)r=n(r,i(t,e[o]));return r}},5445:function(t,e,r){"use strict";t.exports=function(t,e,r,l,u){var h=e.model||c,f=e.view||c,b=e.projection||c,v=e._ortho||!1,y=t.bounds,x=(u=u||o(h,f,b,y,v)).axis;a(d,f,h),a(d,b,d);for(var w=m,_=0;_<3;++_)w[_].lo=1/0,w[_].hi=-1/0,w[_].pixelsPerDataUnit=1/0;var k=n(s(d,d));s(d,d);for(var A=0;A<3;++A){var T=(A+1)%3,M=(A+2)%3,S=g;t:for(_=0;_<2;++_){var E=[];if(x[A]<0!=!!_){S[A]=y[_][A];for(var C=0;C<2;++C){S[T]=y[C^_][T];for(var z=0;z<2;++z)S[M]=y[z^C^_][M],E.push(S.slice())}var L=v?5:4;for(C=L;C===L;++C){if(0===E.length)continue t;E=i.positive(E,k[C])}for(C=0;C<E.length;++C){M=E[C];var O=p(g,d,M,r,l);for(z=0;z<3;++z)w[z].lo=Math.min(w[z].lo,M[z]),w[z].hi=Math.max(w[z].hi,M[z]),z!==A&&(w[z].pixelsPerDataUnit=Math.min(w[z].pixelsPerDataUnit,Math.abs(O[z])))}}}}return w};var n=r(5033),i=r(5202),o=r(6429),a=r(6760),s=r(5665),l=r(5352),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),d=new Float32Array(16);function u(t,e,r){this.lo=t,this.hi=e,this.pixelsPerDataUnit=r}var h=[0,0,0,1],f=[0,0,0,1];function p(t,e,r,n,i){for(var o=0;o<3;++o){for(var a=h,s=f,c=0;c<3;++c)s[c]=a[c]=r[c];s[3]=a[3]=1,s[o]+=1,l(s,s,e),s[3]<0&&(t[o]=1/0),a[o]-=1,l(a,a,e),a[3]<0&&(t[o]=1/0);var d=(a[0]/a[3]-s[0]/s[3])*n,u=(a[1]/a[3]-s[1]/s[3])*i;t[o]=.25*Math.sqrt(d*d+u*u)}return t}var m=[new u(1/0,-1/0,1/0),new u(1/0,-1/0,1/0),new u(1/0,-1/0,1/0)],g=[0,0,0]},5455:function(t,e,r){t.exports=r(7056)},5486:function(t,e,r){t.exports=r(3066)},5542:function(t,e,r){"use strict";var n=r(2478);function i(t,e){this.stars=t,this.edges=e}t.exports=function(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=[];return new i(r,e)};var o=i.prototype;function a(t,e,r){for(var n=1,i=t.length;n<i;n+=2)if(t[n-1]===e&&t[n]===r)return t[n-1]=t[i-2],t[n]=t[i-1],void(t.length=i-2)}o.isConstraint=function(){var t=[0,0];function e(t,e){return t[0]-e[0]||t[1]-e[1]}return function(r,i){return t[0]=Math.min(r,i),t[1]=Math.max(r,i),n.eq(this.edges,t,e)>=0}}(),o.removeTriangle=function(t,e,r){var n=this.stars;a(n[t],e,r),a(n[e],r,t),a(n[r],t,e)},o.addTriangle=function(t,e,r){var n=this.stars;n[t].push(e,r),n[e].push(r,t),n[r].push(t,e)},o.opposite=function(t,e){for(var r=this.stars[e],n=1,i=r.length;n<i;n+=2)if(r[n]===t)return r[n-1];return-1},o.flip=function(t,e){var r=this.opposite(t,e),n=this.opposite(e,t);this.removeTriangle(t,e,r),this.removeTriangle(e,t,n),this.addTriangle(t,n,r),this.addTriangle(e,r,n)},o.edges=function(){for(var t=this.stars,e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;o+=2)e.push([i[o],i[o+1]]);return e},o.cells=function(){for(var t=this.stars,e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1];r<Math.min(s,l)&&e.push([r,s,l])}return e}},5567:function(t){t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],d=e[9],u=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*n,t[5]=a*i+d*n,t[6]=s*i+u*n,t[7]=l*i+h*n,t[8]=c*i-o*n,t[9]=d*i-a*n,t[10]=u*i-s*n,t[11]=h*i-l*n,t}},5572:function(t,e,r){"use strict";var n=r(869);t.exports=function(t,e){return n(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}},5609:function(t,e,r){"use strict";t.exports=function(t,e){for(var r=n(t,e.length),i=new Array(e.length),o=new Array(e.length),a=[],s=0;s<e.length;++s){var l=r[s].length;o[s]=l,i[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){i[f=a.pop()]=!1;var c=r[f];for(s=0;s<c.length;++s){var d=c[s];0==--o[d]&&a.push(d)}}var u=new Array(e.length),h=[];for(s=0;s<e.length;++s)if(i[s]){var f=h.length;u[s]=f,h.push(e[s])}else u[s]=-1;var p=[];for(s=0;s<t.length;++s){var m=t[s];i[m[0]]&&i[m[1]]&&p.push([u[m[0]],u[m[1]]])}return[p,h]};var n=r(3134)},5632:function(t){t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}},5665:function(t){t.exports=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},5673:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t}},5714:function(t,e,r){"use strict";t.exports=function(t){var e=t.gl||t.scene&&t.scene.gl,r=u(e);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;var a=h(e);a.attributes.position.location=0,a.attributes.nextPosition.location=1,a.attributes.arcLength.location=2,a.attributes.lineWidth.location=3,a.attributes.color.location=4;for(var s=n(e),l=i(e,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),d=c(new Array(1024),[256,1,4]),f=0;f<1024;++f)d.data[f]=255;var p=o(e,d);p.wrap=e.REPEAT;var m=new b(e,r,a,s,l,p);return m.update(t),m};var n=r(2762),i=r(8116),o=r(7766),a=new Uint8Array(4),s=new Float32Array(a.buffer),l=r(2478),c=r(9618),d=r(7319),u=d.createShader,h=d.createPickShader,f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function p(t,e){for(var r=0,n=0;n<3;++n){var i=t[n]-e[n];r+=i*i}return Math.sqrt(r)}function m(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],r=0;r<3;++r)e[0][r]=Math.max(t[0][r],e[0][r]),e[1][r]=Math.min(t[1][r],e[1][r]);return e}function g(t,e,r,n){this.arcLength=t,this.position=e,this.index=r,this.dataCoordinate=n}function b(t,e,r,n,i,o){this.gl=t,this.shader=e,this.pickShader=r,this.buffer=n,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=o,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var v=b.prototype;v.isTransparent=function(){return this.hasAlpha},v.isOpaque=function(){return!this.hasAlpha},v.pickSlots=1,v.setPickBase=function(t){this.pickId=t},v.drawTransparent=v.draw=function(t){if(this.vertexCount){var e=this.gl,r=this.shader,n=this.vao;r.bind(),r.uniforms={model:t.model||f,view:t.view||f,projection:t.projection||f,clipBounds:m(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount),n.unbind()}},v.drawPick=function(t){if(this.vertexCount){var e=this.gl,r=this.pickShader,n=this.vao;r.bind(),r.uniforms={model:t.model||f,view:t.view||f,projection:t.projection||f,pickId:this.pickId,clipBounds:m(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount),n.unbind()}},v.update=function(t){var e,r;this.dirty=!0;var n=!!t.connectGaps;"dashScale"in t&&(this.dashScale=t.dashScale),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var i=[],o=[],a=[],s=0,d=0,u=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],h=t.position||t.positions;if(h){var f=t.color||t.colors||[0,0,0,1],m=t.lineWidth||1,g=!1;t:for(e=1;e<h.length;++e){var b,v,y,x=h[e-1],w=h[e];for(o.push(s),a.push(x.slice()),r=0;r<3;++r){if(isNaN(x[r])||isNaN(w[r])||!isFinite(x[r])||!isFinite(w[r])){if(!n&&i.length>0){for(var _=0;_<24;++_)i.push(i[i.length-12]);d+=2,g=!0}continue t}u[0][r]=Math.min(u[0][r],x[r],w[r]),u[1][r]=Math.max(u[1][r],x[r],w[r])}Array.isArray(f[0])?(b=f.length>e-1?f[e-1]:f.length>0?f[f.length-1]:[0,0,0,1],v=f.length>e?f[e]:f.length>0?f[f.length-1]:[0,0,0,1]):b=v=f,3===b.length&&(b=[b[0],b[1],b[2],1]),3===v.length&&(v=[v[0],v[1],v[2],1]),!this.hasAlpha&&b[3]<1&&(this.hasAlpha=!0),y=Array.isArray(m)?m.length>e-1?m[e-1]:m.length>0?m[m.length-1]:[0,0,0,1]:m;var k=s;if(s+=p(x,w),g){for(r=0;r<2;++r)i.push(x[0],x[1],x[2],w[0],w[1],w[2],k,y,b[0],b[1],b[2],b[3]);d+=2,g=!1}i.push(x[0],x[1],x[2],w[0],w[1],w[2],k,y,b[0],b[1],b[2],b[3],x[0],x[1],x[2],w[0],w[1],w[2],k,-y,b[0],b[1],b[2],b[3],w[0],w[1],w[2],x[0],x[1],x[2],s,-y,v[0],v[1],v[2],v[3],w[0],w[1],w[2],x[0],x[1],x[2],s,y,v[0],v[1],v[2],v[3]),d+=4}}if(this.buffer.update(i),o.push(s),a.push(h[h.length-1].slice()),this.bounds=u,this.vertexCount=d,this.points=a,this.arcLength=o,"dashes"in t){var A=t.dashes.slice();for(A.unshift(0),e=1;e<A.length;++e)A[e]=A[e-1]+A[e];var T=c(new Array(1024),[256,1,4]);for(e=0;e<256;++e){for(r=0;r<4;++r)T.set(e,0,r,0);1&l.le(A,A[A.length-1]*e/255)?T.set(e,0,0,0):T.set(e,0,0,255)}this.texture.setPixels(T)}},v.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},v.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=function(t,e,r){return a[0]=0,a[1]=r,a[2]=e,a[3]=t,s[0]}(t.value[0],t.value[1],t.value[2]),r=l.le(this.arcLength,e);if(r<0)return null;if(r===this.arcLength.length-1)return new g(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),r);for(var n=this.points[r],i=this.points[Math.min(r+1,this.points.length-1)],o=(e-this.arcLength[r])/(this.arcLength[r+1]-this.arcLength[r]),c=1-o,d=[0,0,0],u=0;u<3;++u)d[u]=c*n[u]+o*i[u];var h=Math.min(o<.5?r:r+1,this.points.length-1);return new g(e,d,h,this.points[h])}},5716:function(t,e,r){"use strict";var n=r(6859);t.exports=function(t){return t.cmp(new n(0))}},5721:function(t){"use strict";t.exports=function(t){for(var e=0,r=0,n=1;n<t.length;++n)t[n][0]<t[e][0]&&(e=n),t[n][0]>t[r][0]&&(r=n);return e<r?[[e],[r]]:e>r?[[r],[e]]:[[e]]}},5771:function(t,e,r){"use strict";var n=r(8507),i=r(3788),o=r(2419);t.exports=function(t){t.sort(i);for(var e=t.length,r=0,a=0;a<e;++a){var s=t[a],l=o(s);if(0!==l){if(r>0){var c=t[r-1];if(0===n(s,c)&&o(c)!==l){r-=1;continue}}t[r++]=s}}return t.length=r,t}},5838:function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=n(t[r]);return e};var n=r(7842)},5847:function(t){t.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}},5874:function(t,e,r){t.exports=function(t){var e,r,k,A=0,T=0,M=l,S=[],E=[],C=1,z=0,L=0,O=!1,D=!1,I="",F=o,R=n;"300 es"===(t=t||{}).version&&(F=s,R=a);var P={},j={};for(A=0;A<F.length;A++)P[F[A]]=!0;for(A=0;A<R.length;A++)j[R[A]]=!0;return function(t){return E=[],null!==t?function(t){var r;for(A=0,t.toString&&(t=t.toString()),I+=t.replace(/\r\n/g,"\n"),k=I.length;e=I[A],A<k;){switch(r=A,M){case d:A=G();break;case u:case h:A=V();break;case f:A=H();break;case p:A=$();break;case w:A=q();break;case m:A=Y();break;case c:A=Z();break;case y:A=U();break;case l:A=B()}r!==A&&("\n"===I[r]?(z=0,++C):++z)}return T+=A,I=I.slice(A),E}(t):(S.length&&N(S.join("")),M=x,N("(eof)"),E)};function N(t){t.length&&E.push({type:_[M],data:t,position:L,line:C,column:z})}function B(){return S=S.length?[]:S,"/"===r&&"*"===e?(L=T+A-1,M=d,r=e,A+1):"/"===r&&"/"===e?(L=T+A-1,M=u,r=e,A+1):"#"===e?(M=h,L=T+A,A):/\s/.test(e)?(M=y,L=T+A,A):(O=/\d/.test(e),D=/[^\w_]/.test(e),L=T+A,M=O?p:D?f:c,A)}function U(){return/[^\s]/g.test(e)?(N(S.join("")),M=l,A):(S.push(e),r=e,A+1)}function V(){return"\r"!==e&&"\n"!==e||"\\"===r?(S.push(e),r=e,A+1):(N(S.join("")),M=l,A)}function G(){return"/"===e&&"*"===r?(S.push(e),N(S.join("")),M=l,A+1):(S.push(e),r=e,A+1)}function H(){if("."===r&&/\d/.test(e))return M=m,A;if("/"===r&&"*"===e)return M=d,A;if("/"===r&&"/"===e)return M=u,A;if("."===e&&S.length){for(;W(S););return M=m,A}if(";"===e||")"===e||"("===e){if(S.length)for(;W(S););return N(e),M=l,A+1}var t=2===S.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;W(S););return M=l,A}return S.push(e),r=e,A+1}function W(t){for(var e,r,n=0;;){if(e=i.indexOf(t.slice(0,t.length+n).join("")),r=i[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return N(r),L+=r.length,(S=S.slice(r.length)).length}}function q(){return/[^a-fA-F0-9]/.test(e)?(N(S.join("")),M=l,A):(S.push(e),r=e,A+1)}function $(){return"."===e||/[eE]/.test(e)?(S.push(e),M=m,r=e,A+1):"x"===e&&1===S.length&&"0"===S[0]?(M=w,S.push(e),r=e,A+1):/[^\d]/.test(e)?(N(S.join("")),M=l,A):(S.push(e),r=e,A+1)}function Y(){return"f"===e&&(S.push(e),r=e,A+=1),/[eE]/.test(e)?(S.push(e),r=e,A+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(N(S.join("")),M=l,A):(S.push(e),r=e,A+1)}function Z(){if(/[^\d\w_]/.test(e)){var t=S.join("");return M=j[t]?v:P[t]?b:g,N(S.join("")),M=l,A}return S.push(e),r=e,A+1}};var n=r(620),i=r(7827),o=r(6852),a=r(7932),s=r(3508),l=999,c=9999,d=0,u=1,h=2,f=3,p=4,m=5,g=6,b=7,v=8,y=9,x=10,w=11,_=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},5878:function(t,e,r){"use strict";t.exports=function(t,e,r){for(var o=e.length,a=t.length,s=new Array(o),l=new Array(o),c=new Array(o),d=new Array(o),u=0;u<o;++u)s[u]=l[u]=-1,c[u]=1/0,d[u]=!1;for(u=0;u<a;++u){var h=t[u];if(2!==h.length)throw new Error("Input must be a graph");var f=h[1],p=h[0];-1!==l[p]?l[p]=-2:l[p]=f,-1!==s[f]?s[f]=-2:s[f]=p}function m(t){if(d[t])return 1/0;var r,i,o,a=s[t],c=l[t];return a<0||c<0?1/0:(r=e[t],i=e[a],o=e[c],Math.abs(n(r,i,o))/Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))}function g(t,e){var r=A[t],n=A[e];A[t]=n,A[e]=r,T[r]=e,T[n]=t}function b(t){return c[A[t]]}function v(t){return 1&t?t-1>>1:(t>>1)-1}function y(t){for(var e=b(t);;){var r=e,n=2*t+1,i=2*(t+1),o=t;if(n<M){var a=b(n);a<r&&(o=n,r=a)}if(i<M&&b(i)<r&&(o=i),o===t)return t;g(t,o),t=o}}function x(t){for(var e=b(t);t>0;){var r=v(t);if(!(r>=0&&e<b(r)))return t;g(t,r),t=r}}function w(){if(M>0){var t=A[0];return g(0,M-1),M-=1,y(0),t}return-1}function _(t,e){var r=A[t];return c[r]===e?t:(c[r]=-1/0,x(t),w(),c[r]=e,x((M+=1)-1))}function k(t){if(!d[t]){d[t]=!0;var e=s[t],r=l[t];s[r]>=0&&(s[r]=e),l[e]>=0&&(l[e]=r),T[e]>=0&&_(T[e],m(e)),T[r]>=0&&_(T[r],m(r))}}var A=[],T=new Array(o);for(u=0;u<o;++u)(c[u]=m(u))<1/0?(T[u]=A.length,A.push(u)):T[u]=-1;var M=A.length;for(u=M>>1;u>=0;--u)y(u);for(;;){var S=w();if(S<0||c[S]>r)break;k(S)}var E=[];for(u=0;u<o;++u)d[u]||(T[u]=E.length,E.push(e[u].slice()));function C(t,e){if(t[e]<0)return e;var r=e,n=e;do{var i=t[n];if(!d[n]||i<0||i===n)break;if(i=t[n=i],!d[n]||i<0||i===n)break;n=i,r=t[r]}while(r!==n);for(var o=e;o!==n;o=t[o])t[o]=n;return n}E.length;var z=[];return t.forEach((function(t){var e=C(s,t[0]),r=C(l,t[1]);if(e>=0&&r>=0&&e!==r){var n=T[e],i=T[r];n!==i&&z.push([n,i])}})),i.unique(i.normalize(z)),{positions:E,edges:z}};var n=r(3250),i=r(2014)},5911:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],l=r[2];return t[0]=i*l-o*s,t[1]=o*a-n*l,t[2]=n*s-i*a,t}},5964:function(t){"use strict";t.exports=function(t){return t||0===t?t.toString():""}},5995:function(t,e,r){"use strict";t.exports=function(t,e){return n(e).filter((function(r){for(var n=new Array(r.length),o=0;o<r.length;++o)n[o]=e[r[o]];return i(n)*t<1}))};var n=r(7642),i=r(6037)},6037:function(t,e,r){t.exports=function(t){for(var e=n(t),r=0,i=0;i<t.length;++i)for(var o=t[i],a=0;a<e.length;++a)r+=Math.pow(o[a]-e[a],2);return Math.sqrt(r/t.length)};var n=r(3628)},6079:function(t){t.exports=function(t,e,r,n){var i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A,T,M,S,E=n[0],C=n[1],z=n[2],L=Math.sqrt(E*E+C*C+z*z);return Math.abs(L)<1e-6?null:(E*=L=1/L,C*=L,z*=L,i=Math.sin(r),a=1-(o=Math.cos(r)),s=e[0],l=e[1],c=e[2],d=e[3],u=e[4],h=e[5],f=e[6],p=e[7],m=e[8],g=e[9],b=e[10],v=e[11],y=E*E*a+o,x=C*E*a+z*i,w=z*E*a-C*i,_=E*C*a-z*i,k=C*C*a+o,A=z*C*a+E*i,T=E*z*a+C*i,M=C*z*a-E*i,S=z*z*a+o,t[0]=s*y+u*x+m*w,t[1]=l*y+h*x+g*w,t[2]=c*y+f*x+b*w,t[3]=d*y+p*x+v*w,t[4]=s*_+u*k+m*A,t[5]=l*_+h*k+g*A,t[6]=c*_+f*k+b*A,t[7]=d*_+p*k+v*A,t[8]=s*T+u*M+m*S,t[9]=l*T+h*M+g*S,t[10]=c*T+f*M+b*S,t[11]=d*T+p*M+v*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}},6141:function(t,e,r){t.exports=r(2953)},6199:function(t,e,r){"use strict";var n=r(1338),i={zero:function(t,e,r,n){var i=t[0];n|=0;var o=0,a=r[0];for(o=0;o<i;++o)e[n]=0,n+=a},fdTemplate1:function(t,e,r,n,i,o,a){var s=t[0],l=r[0],c=-1*l,d=l;n|=0,a|=0;var u=0,h=l,f=o[0];for(u=0;u<s;++u)i[a]=.5*(e[n+c]-e[n+d]),n+=h,a+=f},fdTemplate2:function(t,e,r,n,i,o,a,s,l,c){var d=t[0],u=t[1],h=r[0],f=r[1],p=o[0],m=o[1],g=l[0],b=l[1],v=-1*h,y=h,x=-1*f,w=f;n|=0,a|=0,c|=0;var _=0,k=0,A=f,T=h-u*f,M=m,S=p-u*m,E=b,C=g-u*b;for(k=0;k<d;++k){for(_=0;_<u;++_)i[a]=.5*(e[n+v]-e[n+y]),s[c]=.5*(e[n+x]-e[n+w]),n+=A,a+=M,c+=E;n+=T,a+=S,c+=C}}},o={cdiff:function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=n.dtype,l=n.order,c=i.dtype,d=i.order,u=[o,a.join(),s,l.join(),c,d.join()].join(),h=e[u];return h||(e[u]=h=t([o,a,s,l,c,d])),h(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset,i.data,i.stride,0|i.offset)}},zero:function(t){var e={};return function(r){var n=r.dtype,i=r.order,o=[n,i.join()].join(),a=e[o];return a||(e[o]=a=t([n,i])),a(r.shape.slice(0),r.data,r.stride,0|r.offset)}},fdTemplate1:function(t){var e={};return function(r,n){var i=r.dtype,o=r.order,a=n.dtype,s=n.order,l=[i,o.join(),a,s.join()].join(),c=e[l];return c||(e[l]=c=t([i,o,a,s])),c(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset)}},fdTemplate2:function(t){var e={};return function(r,n,i){var o=r.dtype,a=r.order,s=n.dtype,l=n.order,c=i.dtype,d=i.order,u=[o,a.join(),s,l.join(),c,d.join()].join(),h=e[u];return h||(e[u]=h=t([o,a,s,l,c,d])),h(r.shape.slice(0),r.data,r.stride,0|r.offset,n.data,n.stride,0|n.offset,i.data,i.stride,0|i.offset)}}};function a(t){return(0,o[t.funcName])(s.bind(void 0,t))}function s(t){return i[t.funcName]}function l(t){return a({funcName:t.funcName})}var c={},d={},u=l({funcName:"cdiff"}),h=l({funcName:"zero"});function f(t){return t in c?c[t]:c[t]=l({funcName:"fdTemplate"+t})}function p(t,e,r,n){return function(t,i){var o=i.shape.slice();return o[0]>2&&o[1]>2&&n(i.pick(-1,-1).lo(1,1).hi(o[0]-2,o[1]-2),t.pick(-1,-1,0).lo(1,1).hi(o[0]-2,o[1]-2),t.pick(-1,-1,1).lo(1,1).hi(o[0]-2,o[1]-2)),o[1]>2&&(r(i.pick(0,-1).lo(1).hi(o[1]-2),t.pick(0,-1,1).lo(1).hi(o[1]-2)),e(t.pick(0,-1,0).lo(1).hi(o[1]-2))),o[1]>2&&(r(i.pick(o[0]-1,-1).lo(1).hi(o[1]-2),t.pick(o[0]-1,-1,1).lo(1).hi(o[1]-2)),e(t.pick(o[0]-1,-1,0).lo(1).hi(o[1]-2))),o[0]>2&&(r(i.pick(-1,0).lo(1).hi(o[0]-2),t.pick(-1,0,0).lo(1).hi(o[0]-2)),e(t.pick(-1,0,1).lo(1).hi(o[0]-2))),o[0]>2&&(r(i.pick(-1,o[1]-1).lo(1).hi(o[0]-2),t.pick(-1,o[1]-1,0).lo(1).hi(o[0]-2)),e(t.pick(-1,o[1]-1,1).lo(1).hi(o[0]-2))),t.set(0,0,0,0),t.set(0,0,1,0),t.set(o[0]-1,0,0,0),t.set(o[0]-1,0,1,0),t.set(0,o[1]-1,0,0),t.set(0,o[1]-1,1,0),t.set(o[0]-1,o[1]-1,0,0),t.set(o[0]-1,o[1]-1,1,0),t}}t.exports=function(t,e,r){return Array.isArray(r)||(r=n(e.dimension,"string"==typeof r?r:"clamp")),0===e.size?t:0===e.dimension?(t.set(0),t):function(t){var e=t.join();if(o=d[e])return o;for(var r=t.length,n=[u,h],i=1;i<=r;++i)n.push(f(i));var o=p.apply(void 0,n);return d[e]=o,o}(r)(t,e)}},6204:function(t){"use strict";t.exports=function(t){var e,r,n,i=t.length,o=0;for(e=0;e<i;++e)o+=t[e].length;var a=new Array(o),s=0;for(e=0;e<i;++e){var l=t[e],c=l.length;for(r=0;r<c;++r){var d=a[s++]=new Array(c-1),u=0;for(n=0;n<c;++n)n!==r&&(d[u++]=l[n]);if(1&r){var h=d[1];d[1]=d[0],d[0]=h}}}return a}},6296:function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).eye||[0,0,1],r=t.center||[0,0,0],s=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],c=t.mode||"turntable",d=n(),u=i(),h=o();return d.setDistanceLimits(l[0],l[1]),d.lookAt(0,e,r,s),u.setDistanceLimits(l[0],l[1]),u.lookAt(0,e,r,s),h.setDistanceLimits(l[0],l[1]),h.lookAt(0,e,r,s),new a({turntable:d,orbit:u,matrix:h},c)};var n=r(7261),i=r(9977),o=r(1811);function a(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=a.prototype;s.flush=function(t){for(var e=this._controllerList,r=0;r<e.length;++r)e[r].flush(t)},s.idle=function(t){for(var e=this._controllerList,r=0;r<e.length;++r)e[r].idle(t)},s.lookAt=function(t,e,r,n){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].lookAt(t,e,r,n)},s.rotate=function(t,e,r,n){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].rotate(t,e,r,n)},s.pan=function(t,e,r,n){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].pan(t,e,r,n)},s.translate=function(t,e,r,n){for(var i=this._controllerList,o=0;o<i.length;++o)i[o].translate(t,e,r,n)},s.setMatrix=function(t,e){for(var r=this._controllerList,n=0;n<r.length;++n)r[n].setMatrix(t,e)},s.setDistanceLimits=function(t,e){for(var r=this._controllerList,n=0;n<r.length;++n)r[n].setDistanceLimits(t,e)},s.setDistance=function(t,e){for(var r=this._controllerList,n=0;n<r.length;++n)r[n].setDistance(t,e)},s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var r=this._active,n=this._controllerList[e],i=Math.max(r.lastT(),n.lastT());r.recalcMatrix(i),n.setMatrix(i,r.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},6330:function(t,e,r){"use strict";var n=r(1533);t.exports=function(t){return Array.isArray(t)&&2===t.length&&n(t[0])&&n(t[1])}},6405:function(t,e,r){"use strict";var n=r(2931);t.exports=function(t,e){var r=t.positions,i=t.vectors,o={positions:[],vertexIntensity:[],vertexIntensityBounds:t.vertexIntensityBounds,vectors:[],cells:[],coneOffset:t.coneOffset,colormap:t.colormap};if(0===t.positions.length)return e&&(e[0]=[0,0,0],e[1]=[0,0,0]),o;for(var a=0,s=1/0,l=-1/0,c=1/0,d=-1/0,u=1/0,h=-1/0,f=null,p=null,m=[],g=1/0,b=!1,v="raw"===t.coneSizemode,y=0;y<r.length;y++){var x=r[y];s=Math.min(x[0],s),l=Math.max(x[0],l),c=Math.min(x[1],c),d=Math.max(x[1],d),u=Math.min(x[2],u),h=Math.max(x[2],h);var w=i[y];if(n.length(w)>a&&(a=n.length(w)),y&&!v){var _=2*n.distance(f,x)/(n.length(p)+n.length(w));_?(g=Math.min(g,_),b=!1):b=!0}b||(f=x,p=w),m.push(w)}var k=[s,c,u],A=[l,d,h];e&&(e[0]=k,e[1]=A),0===a&&(a=1);var T=1/a;isFinite(g)||(g=1),o.vectorScale=g;var M=t.coneSize||(v?1:.5);t.absoluteConeSize&&(M=t.absoluteConeSize*T),o.coneScale=M,y=0;for(var S=0;y<r.length;y++)for(var E=(x=r[y])[0],C=x[1],z=x[2],L=m[y],O=n.length(L)*T,D=0;D<8;D++){o.positions.push([E,C,z,S++]),o.positions.push([E,C,z,S++]),o.positions.push([E,C,z,S++]),o.positions.push([E,C,z,S++]),o.positions.push([E,C,z,S++]),o.positions.push([E,C,z,S++]),o.vectors.push(L),o.vectors.push(L),o.vectors.push(L),o.vectors.push(L),o.vectors.push(L),o.vectors.push(L),o.vertexIntensity.push(O,O,O),o.vertexIntensity.push(O,O,O);var I=o.positions.length;o.cells.push([I-6,I-5,I-4],[I-3,I-2,I-1])}return o};var i=r(614);t.exports.createMesh=r(9060),t.exports.createConeMesh=function(e,r){return t.exports.createMesh(e,r,{shaders:i,traceType:"cone"})}},6429:function(t,e,r){"use strict";t.exports=function(t,e,r,o,f){i(s,e,t),i(s,r,s);for(var v=0,y=0;y<2;++y){d[2]=o[y][2];for(var x=0;x<2;++x){d[1]=o[x][1];for(var w=0;w<2;++w)d[0]=o[w][0],h(l[v],d,s),v+=1}}var _=-1;for(y=0;y<8;++y){for(var k=l[y][3],A=0;A<3;++A)c[y][A]=l[y][A]/k;f&&(c[y][2]*=-1),k<0&&(_<0||c[y][2]<c[_][2])&&(_=y)}if(_<0){_=0;for(var T=0;T<3;++T){for(var M=(T+2)%3,S=(T+1)%3,E=-1,C=-1,z=0;z<2;++z){var L=(D=z<<T)+(z<<M)+(1-z<<S),O=D+(1-z<<M)+(z<<S);a(c[D],c[L],c[O],u)<0||(z?E=1:C=1)}if(E<0||C<0)C>E&&(_|=1<<T);else{for(z=0;z<2;++z){L=(D=z<<T)+(z<<M)+(1-z<<S),O=D+(1-z<<M)+(z<<S);var D,I=p([l[D],l[L],l[O],l[D+(1<<M)+(1<<S)]]);z?E=I:C=I}C>E&&(_|=1<<T)}}}var F=7^_,R=-1;for(y=0;y<8;++y)y!==_&&y!==F&&(R<0||c[R][1]>c[y][1])&&(R=y);var P=-1;for(y=0;y<3;++y)(N=R^1<<y)!==_&&N!==F&&(P<0&&(P=N),(S=c[N])[0]<c[P][0]&&(P=N));var j=-1;for(y=0;y<3;++y){var N;(N=R^1<<y)!==_&&N!==F&&N!==P&&(j<0&&(j=N),(S=c[N])[0]>c[j][0]&&(j=N))}var B=m;B[0]=B[1]=B[2]=0,B[n.log2(P^R)]=R&P,B[n.log2(R^j)]=R&j;var U=7^j;U===_||U===F?(U=7^P,B[n.log2(j^U)]=U&j):B[n.log2(P^U)]=U&P;var V=g,G=_;for(T=0;T<3;++T)V[T]=G&1<<T?-1:1;return b};var n=r(8828),i=r(6760),o=r(5202),a=r(3250),s=new Array(16),l=new Array(8),c=new Array(8),d=new Array(3),u=[0,0,0];function h(t,e,r){for(var n=0;n<4;++n){t[n]=r[12+n];for(var i=0;i<3;++i)t[n]+=e[i]*r[4*i+n]}}!function(){for(var t=0;t<8;++t)l[t]=[1,1,1,1],c[t]=[1,1,1]}();var f=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(t){for(var e=0;e<f.length;++e)if((t=o.positive(t,f[e])).length<3)return 0;var r=t[0],n=r[0]/r[3],i=r[1]/r[3],a=0;for(e=1;e+1<t.length;++e){var s=t[e],l=t[e+1],c=s[0]/s[3]-n,d=s[1]/s[3]-i,u=l[0]/l[3]-n,h=l[1]/l[3]-i;a+=Math.abs(c*h-d*u)}return a}var m=[1,1,1],g=[0,0,0],b={cubeEdges:m,axis:g}},6444:function(t,e){"use strict";function r(t,e){var r=t+"",n=r.indexOf("."),i=0;n>=0&&(i=r.length-n-1);var o=Math.pow(10,i),a=Math.round(t*e*o),s=a+"";if(s.indexOf("e")>=0)return s;var l=a/o,c=a%o;a<0?(l=0|-Math.ceil(l),c=0|-c):(l=0|Math.floor(l),c|=0);var d=""+l;if(a<0&&(d="-"+d),i){for(var u=""+c;u.length<i;)u="0"+u;return d+"."+u}return d}e.create=function(t,e){for(var n=[],i=0;i<3;++i){for(var o=[],a=(t[0][i],t[1][i],0);a*e[i]<=t[1][i];++a)o.push({x:a*e[i],text:r(e[i],a)});for(a=-1;a*e[i]>=t[0][i];--a)o.push({x:a*e[i],text:r(e[i],a)});n.push(o)}return n},e.equal=function(t,e){for(var r=0;r<3;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;++n){var i=t[r][n],o=e[r][n];if(i.x!==o.x||i.text!==o.text||i.font!==o.font||i.fontColor!==o.fontColor||i.fontSize!==o.fontSize||i.dx!==o.dx||i.dy!==o.dy)return!1}}return!0}},6468:function(t){t.exports=function(t){return atob(t)}},6504:function(t,e,r){"use strict";var n=r(869);t.exports=function(t,e){return n(t[0].mul(e[0]),t[1].mul(e[1]))}},6582:function(t,e,r){var n=r(7894);t.exports=function(t,e,r,i){var o,a,s,l,c,d,u,h,f,p,m=e[0],g=e[1],b=e[2],v=i[0],y=i[1],x=i[2],w=r[0],_=r[1],k=r[2];return Math.abs(m-w)<1e-6&&Math.abs(g-_)<1e-6&&Math.abs(b-k)<1e-6?n(t):(u=m-w,h=g-_,f=b-k,o=y*(f*=p=1/Math.sqrt(u*u+h*h+f*f))-x*(h*=p),a=x*(u*=p)-v*f,s=v*h-y*u,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),l=h*s-f*a,c=f*o-u*s,d=u*a-h*o,(p=Math.sqrt(l*l+c*c+d*d))?(l*=p=1/p,c*=p,d*=p):(l=0,c=0,d=0),t[0]=o,t[1]=l,t[2]=u,t[3]=0,t[4]=a,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=d,t[10]=f,t[11]=0,t[12]=-(o*m+a*g+s*b),t[13]=-(l*m+c*g+d*b),t[14]=-(u*m+h*g+f*b),t[15]=1,t)}},6621:function(t){t.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}},6658:function(t){t.exports=function(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t}},6690:function(t){t.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}},6729:function(t,e,r){"use strict";var n=r(3642),i=r(395);function o(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function a(t){for(var e,r="#",n=0;n<3;++n)r+=("00"+(e=(e=t[n]).toString(16))).substr(e.length);return r}function s(t){return"rgba("+t.join(",")+")"}t.exports=function(t){var e,r,l,c,d,u,h,f,p,m;if(t||(t={}),f=(t.nshades||72)-1,h=t.format||"hex",(u=t.colormap)||(u="jet"),"string"==typeof u){if(u=u.toLowerCase(),!n[u])throw Error(u+" not a supported colorscale");d=n[u]}else{if(!Array.isArray(u))throw Error("unsupported colormap option",u);d=u.slice()}if(d.length>f+1)throw new Error(u+" map requires nshades to be at least size "+d.length);p=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1],e=d.map((function(t){return Math.round(t.index*f)})),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var g=d.map((function(t,e){var r=d[e].index,n=d[e].rgb.slice();return 4===n.length&&n[3]>=0&&n[3]<=1||(n[3]=p[0]+(p[1]-p[0])*r),n})),b=[];for(m=0;m<e.length-1;++m){c=e[m+1]-e[m],r=g[m],l=g[m+1];for(var v=0;v<c;v++){var y=v/c;b.push([Math.round(i(r[0],l[0],y)),Math.round(i(r[1],l[1],y)),Math.round(i(r[2],l[2],y)),i(r[3],l[3],y)])}}return b.push(d[d.length-1].rgb.concat(p[1])),"hex"===h?b=b.map(a):"rgbaString"===h?b=b.map(s):"float"===h&&(b=b.map(o)),b}},6740:function(t,e,r){var n=r(3236),i=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=n(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=n(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * (view * tubePosition);\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);e.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},e.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},6743:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=n+n,l=i+i,c=o+o,d=n*s,u=n*l,h=n*c,f=i*l,p=i*c,m=o*c,g=a*s,b=a*l,v=a*c;return t[0]=1-(f+m),t[1]=u+v,t[2]=h-b,t[3]=0,t[4]=u-v,t[5]=1-(d+m),t[6]=p+g,t[7]=0,t[8]=h+b,t[9]=p-g,t[10]=1-(d+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},6760:function(t){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],f=e[10],p=e[11],m=e[12],g=e[13],b=e[14],v=e[15],y=r[0],x=r[1],w=r[2],_=r[3];return t[0]=y*n+x*s+w*u+_*m,t[1]=y*i+x*l+w*h+_*g,t[2]=y*o+x*c+w*f+_*b,t[3]=y*a+x*d+w*p+_*v,y=r[4],x=r[5],w=r[6],_=r[7],t[4]=y*n+x*s+w*u+_*m,t[5]=y*i+x*l+w*h+_*g,t[6]=y*o+x*c+w*f+_*b,t[7]=y*a+x*d+w*p+_*v,y=r[8],x=r[9],w=r[10],_=r[11],t[8]=y*n+x*s+w*u+_*m,t[9]=y*i+x*l+w*h+_*g,t[10]=y*o+x*c+w*f+_*b,t[11]=y*a+x*d+w*p+_*v,y=r[12],x=r[13],w=r[14],_=r[15],t[12]=y*n+x*s+w*u+_*m,t[13]=y*i+x*l+w*h+_*g,t[14]=y*o+x*c+w*f+_*b,t[15]=y*a+x*d+w*p+_*v,t}},6768:function(t,e,r){"use strict";var n=r(6859);t.exports=function(t){return new n(t)}},6803:function(t,e,r){"use strict";r(8828),r(1755);function n(t,e){var r=t.length,n=t.length-e.length,i=Math.min;if(n)return n;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])||i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],a=e[0]+e[1];if(s=o+t[2]-(a+e[2]))return s;var s,l=i(t[0],t[1]),c=i(e[0],e[1]);return(s=i(l,t[2])-i(c,e[2]))||i(l+t[2],o)-i(c+e[2],a);default:var d=t.slice(0);d.sort();var u=e.slice(0);u.sort();for(var h=0;h<r;++h)if(n=d[h]-u[h])return n;return 0}}e.Fw=n},6808:function(t){t.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)}},6843:function(t){t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}},6852:function(t){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},6859:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7790).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function l(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=l(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=l(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,l=0,d=r;d<s;d+=n)l=c(t,d,d+n,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var u=1;for(l=c(t,d,t.length,e),d=0;d<a;d++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,l=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var d=l>>>26,u=67108863&l,h=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=h;f++){var p=c-f|0;d+=(a=(i=0|t.words[p])*(o=0|e.words[f])+u)/67108864|0,u=67108863&a}r.words[c]=0|u,l=0|d}return 0!==l?r.words[c]=0|l:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<i|o)).toString(16);r=0!=(o=s>>>24-i&16777215)||a!==this.length-1?d[6-l.length]+l+r:l+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=u[t],f=h[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);r=(p=p.idivn(f)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===e,c=new t(o),d=this.clone();if(l){for(s=0;!d.isZero();s++)a=d.andln(255),d.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!d.isZero();s++)a=d.andln(255),d.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,a=t.words,s=e.words,l=r.words,c=0,d=0|a[0],u=8191&d,h=d>>>13,f=0|a[1],p=8191&f,m=f>>>13,g=0|a[2],b=8191&g,v=g>>>13,y=0|a[3],x=8191&y,w=y>>>13,_=0|a[4],k=8191&_,A=_>>>13,T=0|a[5],M=8191&T,S=T>>>13,E=0|a[6],C=8191&E,z=E>>>13,L=0|a[7],O=8191&L,D=L>>>13,I=0|a[8],F=8191&I,R=I>>>13,P=0|a[9],j=8191&P,N=P>>>13,B=0|s[0],U=8191&B,V=B>>>13,G=0|s[1],H=8191&G,W=G>>>13,q=0|s[2],$=8191&q,Y=q>>>13,Z=0|s[3],X=8191&Z,J=Z>>>13,Q=0|s[4],K=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],lt=8191&st,ct=st>>>13,dt=0|s[8],ut=8191&dt,ht=dt>>>13,ft=0|s[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(u,U))|0)+((8191&(i=(i=Math.imul(u,V))+Math.imul(h,U)|0))<<13)|0;c=((o=Math.imul(h,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(m,U)|0,o=Math.imul(m,V);var bt=(c+(n=n+Math.imul(u,H)|0)|0)+((8191&(i=(i=i+Math.imul(u,W)|0)+Math.imul(h,H)|0))<<13)|0;c=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(b,U),i=(i=Math.imul(b,V))+Math.imul(v,U)|0,o=Math.imul(v,V),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,W)|0;var vt=(c+(n=n+Math.imul(u,$)|0)|0)+((8191&(i=(i=i+Math.imul(u,Y)|0)+Math.imul(h,$)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,V))+Math.imul(w,U)|0,o=Math.imul(w,V),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,Y)|0;var yt=(c+(n=n+Math.imul(u,X)|0)|0)+((8191&(i=(i=i+Math.imul(u,J)|0)+Math.imul(h,X)|0))<<13)|0;c=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(k,U),i=(i=Math.imul(k,V))+Math.imul(A,U)|0,o=Math.imul(A,V),n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,J)|0;var xt=(c+(n=n+Math.imul(u,K)|0)|0)+((8191&(i=(i=i+Math.imul(u,tt)|0)+Math.imul(h,K)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,V))+Math.imul(S,U)|0,o=Math.imul(S,V),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,J)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,tt)|0;var wt=(c+(n=n+Math.imul(u,rt)|0)|0)+((8191&(i=(i=i+Math.imul(u,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(z,U)|0,o=Math.imul(z,V),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,W)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(v,K)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var _t=(c+(n=n+Math.imul(u,ot)|0)|0)+((8191&(i=(i=i+Math.imul(u,at)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,at)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,V))+Math.imul(D,U)|0,o=Math.imul(D,V),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(z,H)|0,o=o+Math.imul(z,W)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,Y)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var kt=(c+(n=n+Math.imul(u,lt)|0)|0)+((8191&(i=(i=i+Math.imul(u,ct)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(F,U),i=(i=Math.imul(F,V))+Math.imul(R,U)|0,o=Math.imul(R,V),n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(z,$)|0,o=o+Math.imul(z,Y)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ct)|0;var At=(c+(n=n+Math.imul(u,ut)|0)|0)+((8191&(i=(i=i+Math.imul(u,ht)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,U),i=(i=Math.imul(j,V))+Math.imul(N,U)|0,o=Math.imul(N,V),n=n+Math.imul(F,H)|0,i=(i=i+Math.imul(F,W)|0)+Math.imul(R,H)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,Y)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(z,X)|0,o=o+Math.imul(z,J)|0,n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(v,lt)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ht)|0;var Tt=(c+(n=n+Math.imul(u,pt)|0)|0)+((8191&(i=(i=i+Math.imul(u,mt)|0)+Math.imul(h,pt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(j,H),i=(i=Math.imul(j,W))+Math.imul(N,H)|0,o=Math.imul(N,W),n=n+Math.imul(F,$)|0,i=(i=i+Math.imul(F,Y)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(D,X)|0,o=o+Math.imul(D,J)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(z,K)|0,o=o+Math.imul(z,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,at)|0,n=n+Math.imul(x,lt)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ht)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ht)|0;var Mt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(j,$),i=(i=Math.imul(j,Y))+Math.imul(N,$)|0,o=Math.imul(N,Y),n=n+Math.imul(F,X)|0,i=(i=i+Math.imul(F,J)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(D,K)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(z,rt)|0,o=o+Math.imul(z,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,at)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ht)|0;var St=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(j,X),i=(i=Math.imul(j,J))+Math.imul(N,X)|0,o=Math.imul(N,J),n=n+Math.imul(F,K)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(z,ot)|0,o=o+Math.imul(z,at)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(S,lt)|0,o=o+Math.imul(S,ct)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ht)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ht)|0;var Et=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,tt))+Math.imul(N,K)|0,o=Math.imul(N,tt),n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(z,lt)|0,o=o+Math.imul(z,ct)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ht)|0)+Math.imul(S,ut)|0,o=o+Math.imul(S,ht)|0;var Ct=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(A,pt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(j,rt),i=(i=Math.imul(j,nt))+Math.imul(N,rt)|0,o=Math.imul(N,nt),n=n+Math.imul(F,ot)|0,i=(i=i+Math.imul(F,at)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,at)|0,n=n+Math.imul(O,lt)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(D,lt)|0,o=o+Math.imul(D,ct)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(z,ut)|0,o=o+Math.imul(z,ht)|0;var zt=(c+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(zt>>>26)|0,zt&=67108863,n=Math.imul(j,ot),i=(i=Math.imul(j,at))+Math.imul(N,ot)|0,o=Math.imul(N,at),n=n+Math.imul(F,lt)|0,i=(i=i+Math.imul(F,ct)|0)+Math.imul(R,lt)|0,o=o+Math.imul(R,ct)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ht)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,ht)|0;var Lt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(z,pt)|0))<<13)|0;c=((o=o+Math.imul(z,mt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(j,lt),i=(i=Math.imul(j,ct))+Math.imul(N,lt)|0,o=Math.imul(N,ct),n=n+Math.imul(F,ut)|0,i=(i=i+Math.imul(F,ht)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ht)|0;var Ot=(c+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(D,pt)|0))<<13)|0;c=((o=o+Math.imul(D,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(j,ut),i=(i=Math.imul(j,ht))+Math.imul(N,ut)|0,o=Math.imul(N,ht);var Dt=(c+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var It=(c+(n=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,mt))+Math.imul(N,pt)|0))<<13)|0;return c=((o=Math.imul(N,mt))+(i>>>13)|0)+(It>>>26)|0,It&=67108863,l[0]=gt,l[1]=bt,l[2]=vt,l[3]=yt,l[4]=xt,l[5]=wt,l[6]=_t,l[7]=kt,l[8]=At,l[9]=Tt,l[10]=Mt,l[11]=St,l[12]=Et,l[13]=Ct,l[14]=zt,l[15]=Lt,l[16]=Ot,l[17]=Dt,l[18]=It,0!==c&&(l[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var d=o-c,u=(0|t.words[d])*(0|e.words[c]),h=67108863&u;s=67108863&(h=h+s|0),i+=(a=(a=a+(u/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},g.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),d=0;d<i;d+=s)for(var u=l,h=c,f=0;f<a;f++){var p=r[d+f],m=n[d+f],g=r[d+f+a],b=n[d+f+a],v=u*g-h*b;b=u*b+h*g,g=v,r[d+f]=p+g,n[d+f]=m+b,r[d+f+a]=p-g,n[d+f+a]=m-b,f!==s&&(v=l*u-c*h,h=l*h+c*u,u=v)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),l=new Array(n),c=new Array(n),d=new Array(n),u=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,l,n,i),this.transform(c,o,d,u,n,i);for(var f=0;f<n;f++){var p=s[f]*d[f]-l[f]*u[f];l[f]=s[f]*u[f]+l[f]*d[f],s[f]=p}return this.conjugate(s,l,n),this.transform(s,l,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),m(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,l=(0|this.words[e])-s<<r;this.words[e]=l|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,l=r;if(i-=a,i=Math.max(0,i),l){for(var c=0;c<a;c++)l.words[c]=this.words[c];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var d=0;for(c=this.length-1;c>=0&&(0!==d||c>=i);c--){var u=0|this.words[c];this.words[c]=d<<26-o|u>>>o,d=u&s}return l&&0!==d&&(l.words[l.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var l=(0|t.words[i])*e;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!=(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,l=n.length-i.length;if("mod"!==e){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var d=n.clone()._ishlnsubmul(i,1,l);0===d.negative&&(n=d,s&&(s.words[l]=1));for(var u=l-1;u>=0;u--){var h=67108864*(0|n.words[i.length+u])+(0|n.words[i.length+u-1]);for(h=Math.min(h/a|0,67108863),n._ishlnsubmul(i,h,u);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,u),n.isZero()||(n.negative^=1);s&&(s.words[u]=h)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&t.negative?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var d=r.clone(),u=e.clone();!e.isZero();){for(var h=0,f=1;!(e.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(d),a.isub(u)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(d),l.isub(u)),s.iushrn(1),l.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(l)):(r.isub(e),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),l=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,d=1;!(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var u=0,h=1;!(r.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(r.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(x,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new x;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return b[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),l=s.redNeg(),c=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);0!==this.pow(d,c).cmp(l);)d.redIAdd(l);for(var u=this.pow(d,i),h=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();n(g<p);var b=this.pow(u,new o(1).iushln(p-g-1));h=h.redMul(b),u=b.redSqr(),f=f.redMul(u),p=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],d=l-1;d>=0;d--){var u=c>>d&1;i!==r[0]&&(i=this.sqr(i)),0!==u||0!==a?(a<<=1,a|=u,(4==++s||0===n&&0===d)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}l=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new A(t)},i(A,k),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6860:function(t){t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}},6864:function(t){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},6867:function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 1:return n=[],c(i=t,i,d,!0),n;case 2:return"function"==typeof e?c(t,t,e,!0):function(t,e){return n=[],c(t,e,d,!1),n}(t,e);case 3:return c(t,e,r,!1);default:throw new Error("box-intersect: Invalid arguments")}var i};var n,i=r(1888),o=r(855),a=r(7150);function s(t,e){for(var r=0;r<t;++r)if(!(e[r]<=e[r+t]))return!0;return!1}function l(t,e,r,n){for(var i=0,o=0,a=0,l=t.length;a<l;++a){var c=t[a];if(!s(e,c)){for(var d=0;d<2*e;++d)r[i++]=c[d];n[o++]=a}}return o}function c(t,e,r,n){var s=t.length,c=e.length;if(!(s<=0||c<=0)){var d=t[0].length>>>1;if(!(d<=0)){var u,h=i.mallocDouble(2*d*s),f=i.mallocInt32(s);if((s=l(t,d,h,f))>0){if(1===d&&n)o.init(s),u=o.sweepComplete(d,r,0,s,h,f,0,s,h,f);else{var p=i.mallocDouble(2*d*c),m=i.mallocInt32(c);(c=l(e,d,p,m))>0&&(o.init(s+c),u=1===d?o.sweepBipartite(d,r,0,s,h,f,0,c,p,m):a(d,r,n,s,h,f,c,p,m),i.free(p),i.free(m))}i.free(h),i.free(f)}return u}}}function d(t,e){n.push([t,e])}},6894:function(t){t.exports=function(t,e,r,n){var i=r[1],o=r[2],a=e[1]-i,s=e[2]-o,l=Math.sin(n),c=Math.cos(n);return t[0]=e[0],t[1]=i+a*c-s*l,t[2]=o+a*l+s*c,t}},7004:function(t){"use strict";t.exports=function(t){for(var e=t.length,r=t[t.length-1],n=e,i=e-2;i>=0;--i){var o=r;(l=(s=t[i])-((r=o+s)-o))&&(t[--n]=r,r=l)}var a=0;for(i=n;i<e;++i){var s,l;(l=(s=r)-((r=(o=t[i])+s)-o))&&(t[a++]=l)}return t[a++]=r,t.length=a,t}},7056:function(t){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}},7089:function(t){t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],d=e[5],u=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*n,t[1]=a*i+d*n,t[2]=s*i+u*n,t[3]=l*i+h*n,t[4]=c*i-o*n,t[5]=d*i-a*n,t[6]=u*i-s*n,t[7]=h*i-l*n,t}},7150:function(t,e,r){"use strict";t.exports=function(t,e,r,o,d,S,E,C,z){!function(t,e){var r=8*i.log2(e+1)*(t+1)|0,o=i.nextPow2(x*r);_.length<o&&(n.free(_),_=n.mallocInt32(o));var a=i.nextPow2(w*r);k.length<a&&(n.free(k),k=n.mallocDouble(a))}(t,o+E);var L,O=0,D=2*t;for(A(O++,0,0,o,0,E,r?16:0,-1/0,1/0),r||A(O++,0,0,E,0,o,1,-1/0,1/0);O>0;){var I=(O-=1)*x,F=_[I],R=_[I+1],P=_[I+2],j=_[I+3],N=_[I+4],B=_[I+5],U=O*w,V=k[U],G=k[U+1],H=1&B,W=!!(16&B),q=d,$=S,Y=C,Z=z;if(H&&(q=C,$=z,Y=d,Z=S),!(2&B&&R>=(P=g(t,F,R,P,q,$,G))||4&B&&(R=b(t,F,R,P,q,$,V))>=P)){var X=P-R,J=N-j;if(W){if(t*X*(X+J)<f){if(void 0!==(L=l.scanComplete(t,F,e,R,P,q,$,j,N,Y,Z)))return L;continue}}else{if(t*Math.min(X,J)<u){if(void 0!==(L=a(t,F,e,H,R,P,q,$,j,N,Y,Z)))return L;continue}if(t*X*J<h){if(void 0!==(L=l.scanBipartite(t,F,e,H,R,P,q,$,j,N,Y,Z)))return L;continue}}var Q=p(t,F,R,P,q,$,V,G);if(R<Q)if(t*(Q-R)<u){if(void 0!==(L=s(t,F+1,e,R,Q,q,$,j,N,Y,Z)))return L}else if(F===t-2){if(void 0!==(L=H?l.sweepBipartite(t,e,j,N,Y,Z,R,Q,q,$):l.sweepBipartite(t,e,R,Q,q,$,j,N,Y,Z)))return L}else A(O++,F+1,R,Q,j,N,H,-1/0,1/0),A(O++,F+1,j,N,R,Q,1^H,-1/0,1/0);if(Q<P){var K=c(t,F,j,N,Y,Z),tt=Y[D*K+F],et=m(t,F,K,N,Y,Z,tt);if(et<N&&A(O++,F,Q,P,et,N,(4|H)+(W?16:0),tt,G),j<K&&A(O++,F,Q,P,j,K,(2|H)+(W?16:0),V,tt),K+1===et){if(void 0!==(L=W?M(t,F,e,Q,P,q,$,K,Y,Z[K]):T(t,F,e,H,Q,P,q,$,K,Y,Z[K])))return L}else if(K<et){var rt;if(W){if(Q<(rt=v(t,F,Q,P,q,$,tt))){var nt=m(t,F,Q,rt,q,$,tt);if(F===t-2){if(Q<nt&&void 0!==(L=l.sweepComplete(t,e,Q,nt,q,$,K,et,Y,Z)))return L;if(nt<rt&&void 0!==(L=l.sweepBipartite(t,e,nt,rt,q,$,K,et,Y,Z)))return L}else Q<nt&&A(O++,F+1,Q,nt,K,et,16,-1/0,1/0),nt<rt&&(A(O++,F+1,nt,rt,K,et,0,-1/0,1/0),A(O++,F+1,K,et,nt,rt,1,-1/0,1/0))}}else Q<(rt=H?y(t,F,Q,P,q,$,tt):v(t,F,Q,P,q,$,tt))&&(F===t-2?L=H?l.sweepBipartite(t,e,K,et,Y,Z,Q,rt,q,$):l.sweepBipartite(t,e,Q,rt,q,$,K,et,Y,Z):(A(O++,F+1,Q,rt,K,et,H,-1/0,1/0),A(O++,F+1,K,et,Q,rt,1^H,-1/0,1/0)))}}}}};var n=r(1888),i=r(8828),o=r(2455),a=o.partial,s=o.full,l=r(855),c=r(3545),d=r(8105),u=128,h=1<<22,f=1<<22,p=d("!(lo>=p0)&&!(p1>=hi)"),m=d("lo===p0"),g=d("lo<p0"),b=d("hi<=p0"),v=d("lo<=p0&&p0<=hi"),y=d("lo<p0&&p0<=hi"),x=6,w=2,_=n.mallocInt32(1024),k=n.mallocDouble(1024);function A(t,e,r,n,i,o,a,s,l){var c=x*t;_[c]=e,_[c+1]=r,_[c+2]=n,_[c+3]=i,_[c+4]=o,_[c+5]=a;var d=w*t;k[d]=s,k[d+1]=l}function T(t,e,r,n,i,o,a,s,l,c,d){var u=2*t,h=l*u,f=c[h+e];t:for(var p=i,m=i*u;p<o;++p,m+=u){var g=a[m+e],b=a[m+e+t];if(!(f<g||b<f||n&&f===g)){for(var v,y=s[p],x=e+1;x<t;++x){g=a[m+x],b=a[m+x+t];var w=c[h+x],_=c[h+x+t];if(b<w||_<g)continue t}if(void 0!==(v=n?r(d,y):r(y,d)))return v}}}function M(t,e,r,n,i,o,a,s,l,c){var d=2*t,u=s*d,h=l[u+e];t:for(var f=n,p=n*d;f<i;++f,p+=d){var m=a[f];if(m!==c){var g=o[p+e],b=o[p+e+t];if(!(h<g||b<h)){for(var v=e+1;v<t;++v){g=o[p+v],b=o[p+v+t];var y=l[u+v],x=l[u+v+t];if(b<y||x<g)continue t}var w=r(m,c);if(void 0!==w)return w}}}}},7163:function(t){function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},7169:function(t,e,r){"use strict";var n="undefined"==typeof WeakMap?r(1538):WeakMap,i=r(2762),o=r(8116),a=new n;t.exports=function(t){var e=a.get(t),r=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!r||!t.isBuffer(r)){var n=i(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=o(t,[{buffer:n,type:t.FLOAT,size:2}]))._triangleBuffer=n,a.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},7182:function(t,e,r){var n={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)},i=(n.create(),n.create());t.exports=function(t,e,r,o,a,s){return n.identity(t),n.fromRotationTranslation(t,s,e),t[3]=a[0],t[7]=a[1],t[11]=a[2],t[15]=a[3],n.identity(i),0!==o[2]&&(i[9]=o[2],n.multiply(t,t,i)),0!==o[1]&&(i[9]=0,i[8]=o[1],n.multiply(t,t,i)),0!==o[0]&&(i[8]=0,i[4]=o[0],n.multiply(t,t,i)),n.scale(t,t,r),t}},7201:function(t,e,r){"use strict";var n=r(9405),i=r(2762),o=r(8116),a=r(7766),s=r(8406),l=r(6760),c=r(7608),d=r(9618),u=r(6729),h=r(7765),f=r(1888),p=r(840),m=r(7626),g=p.meshShader,b=p.wireShader,v=p.pointShader,y=p.pickShader,x=p.pointPickShader,w=p.contourShader,_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(t,e,r,n,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,k,A,T,M,S){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=r,this.lineShader=n,this.pointShader=i,this.pickShader=o,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=d,this.triangleNormals=h,this.triangleUVs=u,this.triangleIds=c,this.triangleVAO=f,this.triangleCount=0,this.lineWidth=1,this.edgePositions=p,this.edgeColors=g,this.edgeUVs=b,this.edgeIds=m,this.edgeVAO=v,this.edgeCount=0,this.pointPositions=y,this.pointColors=w,this.pointUVs=k,this.pointSizes=A,this.pointIds=x,this.pointVAO=T,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=M,this.contourVAO=S,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=_,this._view=_,this._projection=_,this._resolution=[1,1]}var A=k.prototype;function T(t,e){if(!e)return 1;if(!e.length)return 1;for(var r=0;r<e.length;++r){if(e.length<2)return 1;if(e[r][0]===t)return e[r][1];if(e[r][0]>t&&r>0){var n=(e[r][0]-t)/(e[r][0]-e[r-1][0]);return e[r][1]*(1-n)+n*e[r-1][1]}}return 1}function M(t){var e=n(t,v.vertex,v.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function S(t){var e=n(t,y.vertex,y.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e}function E(t){var e=n(t,x.vertex,x.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function C(t){var e=n(t,w.vertex,w.fragment);return e.attributes.position.location=0,e}A.isOpaque=function(){return!this.hasAlpha},A.isTransparent=function(){return this.hasAlpha},A.pickSlots=1,A.setPickBase=function(t){this.pickId=t},A.highlight=function(t){if(t&&this.contourEnable){for(var e=h(this.cells,this.intensity,t.intensity),r=e.cells,n=e.vertexIds,i=e.vertexWeights,o=r.length,a=f.mallocFloat32(6*o),s=0,l=0;l<o;++l)for(var c=r[l],d=0;d<2;++d){var u=c[0];2===c.length&&(u=c[d]);for(var p=n[u][0],m=n[u][1],g=i[u],b=1-g,v=this.positions[p],y=this.positions[m],x=0;x<3;++x)a[s++]=g*v[x]+b*y[x]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),f.free(a)}else this.contourCount=0},A.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"contourEnable"in t&&(this.contourEnable=t.contourEnable),"contourColor"in t&&(this.contourColor=t.contourColor),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"lightPosition"in t&&(this.lightPosition=t.lightPosition),this.hasAlpha=!1,"opacity"in t&&(this.opacity=t.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in t&&(this.opacityscale=t.opacityscale,this.hasAlpha=!0),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=a(e,t.texture)):t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t,e){for(var r=u({colormap:t,nshades:256,format:"rgba"}),n=new Uint8Array(1024),i=0;i<256;++i){for(var o=r[i],a=0;a<3;++a)n[4*i+a]=o[a];n[4*i+3]=e?255*T(i/255,e):255*o[3]}return d(n,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var r=t.cells,n=t.positions;if(n&&r){var i=[],o=[],l=[],c=[],h=[],f=[],p=[],m=[],g=[],b=[],v=[],y=[],x=[],w=[];this.cells=r,this.positions=n;var _=t.vertexNormals,k=t.cellNormals,A=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,M=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&&!k&&(k=s.faceNormals(r,n,M)),k||_||(_=s.vertexNormals(r,n,A));var S=t.vertexColors,E=t.cellColors,C=t.meshColor||[1,1,1,1],z=t.vertexUVs,L=t.vertexIntensity,O=t.cellUVs,D=t.cellIntensity,I=1/0,F=-1/0;if(!z&&!O)if(L)if(t.vertexIntensityBounds)I=+t.vertexIntensityBounds[0],F=+t.vertexIntensityBounds[1];else for(var R=0;R<L.length;++R){var P=L[R];I=Math.min(I,P),F=Math.max(F,P)}else if(D)if(t.cellIntensityBounds)I=+t.cellIntensityBounds[0],F=+t.cellIntensityBounds[1];else for(R=0;R<D.length;++R)P=D[R],I=Math.min(I,P),F=Math.max(F,P);else for(R=0;R<n.length;++R)P=n[R][2],I=Math.min(I,P),F=Math.max(F,P);this.intensity=L||D||function(t){for(var e=t.length,r=new Array(e),n=0;n<e;++n)r[n]=t[n][2];return r}(n),this.pickVertex=!(D||E);var j=t.pointSizes,N=t.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],R=0;R<n.length;++R)for(var B=n[R],U=0;U<3;++U)!isNaN(B[U])&&isFinite(B[U])&&(this.bounds[0][U]=Math.min(this.bounds[0][U],B[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],B[U]));var V=0,G=0,H=0;t:for(R=0;R<r.length;++R){var W=r[R];switch(W.length){case 1:for(B=n[$=W[0]],U=0;U<3;++U)if(isNaN(B[U])||!isFinite(B[U]))continue t;b.push(B[0],B[1],B[2]),Y=S?S[$]:E?E[R]:C,this.opacityscale&&L?o.push(Y[0],Y[1],Y[2],this.opacity*T((L[$]-I)/(F-I),this.opacityscale)):3===Y.length?v.push(Y[0],Y[1],Y[2],this.opacity):(v.push(Y[0],Y[1],Y[2],Y[3]*this.opacity),Y[3]<1&&(this.hasAlpha=!0)),Z=z?z[$]:L?[(L[$]-I)/(F-I),0]:O?O[R]:D?[(D[R]-I)/(F-I),0]:[(B[2]-I)/(F-I),0],y.push(Z[0],Z[1]),j?x.push(j[$]):x.push(N),w.push(R),H+=1;break;case 2:for(U=0;U<2;++U){B=n[$=W[U]];for(var q=0;q<3;++q)if(isNaN(B[q])||!isFinite(B[q]))continue t}for(U=0;U<2;++U)B=n[$=W[U]],f.push(B[0],B[1],B[2]),Y=S?S[$]:E?E[R]:C,this.opacityscale&&L?o.push(Y[0],Y[1],Y[2],this.opacity*T((L[$]-I)/(F-I),this.opacityscale)):3===Y.length?p.push(Y[0],Y[1],Y[2],this.opacity):(p.push(Y[0],Y[1],Y[2],Y[3]*this.opacity),Y[3]<1&&(this.hasAlpha=!0)),Z=z?z[$]:L?[(L[$]-I)/(F-I),0]:O?O[R]:D?[(D[R]-I)/(F-I),0]:[(B[2]-I)/(F-I),0],m.push(Z[0],Z[1]),g.push(R);G+=1;break;case 3:for(U=0;U<3;++U)for(B=n[$=W[U]],q=0;q<3;++q)if(isNaN(B[q])||!isFinite(B[q]))continue t;for(U=0;U<3;++U){var $,Y,Z,X;B=n[$=W[2-U]],i.push(B[0],B[1],B[2]),(Y=S?S[$]:E?E[R]:C)?this.opacityscale&&L?o.push(Y[0],Y[1],Y[2],this.opacity*T((L[$]-I)/(F-I),this.opacityscale)):3===Y.length?o.push(Y[0],Y[1],Y[2],this.opacity):(o.push(Y[0],Y[1],Y[2],Y[3]*this.opacity),Y[3]<1&&(this.hasAlpha=!0)):o.push(.5,.5,.5,1),Z=z?z[$]:L?[(L[$]-I)/(F-I),0]:O?O[R]:D?[(D[R]-I)/(F-I),0]:[(B[2]-I)/(F-I),0],c.push(Z[0],Z[1]),X=_?_[$]:k[R],l.push(X[0],X[1],X[2]),h.push(R)}V+=1}}this.pointCount=H,this.edgeCount=G,this.triangleCount=V,this.pointPositions.update(b),this.pointColors.update(v),this.pointUVs.update(y),this.pointSizes.update(x),this.pointIds.update(new Uint32Array(w)),this.edgePositions.update(f),this.edgeColors.update(p),this.edgeUVs.update(m),this.edgeIds.update(new Uint32Array(g)),this.trianglePositions.update(i),this.triangleColors.update(o),this.triangleUVs.update(c),this.triangleNormals.update(l),this.triangleIds.update(new Uint32Array(h))}},A.drawTransparent=A.draw=function(t){t=t||{};for(var e=this.gl,r=t.model||_,n=t.view||_,i=t.projection||_,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var s={model:r,view:n,projection:i,inverseModel:_.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=c(s.inverseModel,s.model),e.disable(e.CULL_FACE),this.texture.bind(0);var d=new Array(16);for(l(d,s.view,s.model),l(d,s.projection,d),c(d,d),a=0;a<3;++a)s.eyePosition[a]=d[12+a]/d[15];var u,h=d[15];for(a=0;a<3;++a)h+=this.lightPosition[a]*d[4*a+3];for(a=0;a<3;++a){for(var f=d[12+a],p=0;p<3;++p)f+=d[4*p+a]*this.lightPosition[p];s.lightPosition[a]=f/h}this.triangleCount>0&&((u=this.triShader).bind(),u.uniforms=s,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((u=this.lineShader).bind(),u.uniforms=s,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((u=this.pointShader).bind(),u.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((u=this.contourShader).bind(),u.uniforms=s,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},A.drawPick=function(t){t=t||{};for(var e=this.gl,r=t.model||_,n=t.view||_,i=t.projection||_,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(r),this._view=[].slice.call(n),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s,l={model:r,view:n,projection:i,clipBounds:o,pickId:this.pickId/255};(s=this.pickShader).bind(),s.uniforms=l,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((s=this.pointPickShader).bind(),s.uniforms=l,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},A.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],r=this.cells[e],n=this.positions,i=new Array(r.length),o=0;o<r.length;++o)i[o]=n[r[o]];var a=t.coord[0],s=t.coord[1];if(!this.pickVertex){var l=this.positions[r[0]],c=this.positions[r[1]],d=this.positions[r[2]],u=[(l[0]+c[0]+d[0])/3,(l[1]+c[1]+d[1])/3,(l[2]+c[2]+d[2])/3];return{_cellCenter:!0,position:[a,s],index:e,cell:r,cellId:e,intensity:this.intensity[e],dataCoordinate:u}}var h=m(i,[a*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!h)return null;var f=h[2],p=0;for(o=0;o<r.length;++o)p+=f[o]*this.intensity[r[o]];return{position:h[1],index:r[h[0]],cell:r,cellId:e,intensity:p,dataCoordinate:this.positions[r[h[0]]]}},A.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},t.exports=function(t,e){if(1===arguments.length&&(t=(e=t).gl),!(t.getExtension("OES_standard_derivatives")||t.getExtension("MOZ_OES_standard_derivatives")||t.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var r=function(t){var e=n(t,g.vertex,g.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}(t),s=function(t){var e=n(t,b.vertex,b.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}(t),l=M(t),c=S(t),u=E(t),h=C(t),f=a(t,d(new Uint8Array([255,255,255,255]),[1,1,4]));f.generateMipmap(),f.minFilter=t.LINEAR_MIPMAP_LINEAR,f.magFilter=t.LINEAR;var p=i(t),m=i(t),v=i(t),y=i(t),x=i(t),w=o(t,[{buffer:p,type:t.FLOAT,size:3},{buffer:x,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:t.FLOAT,size:4},{buffer:v,type:t.FLOAT,size:2},{buffer:y,type:t.FLOAT,size:3}]),_=i(t),A=i(t),T=i(t),z=i(t),L=o(t,[{buffer:_,type:t.FLOAT,size:3},{buffer:z,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:A,type:t.FLOAT,size:4},{buffer:T,type:t.FLOAT,size:2}]),O=i(t),D=i(t),I=i(t),F=i(t),R=i(t),P=o(t,[{buffer:O,type:t.FLOAT,size:3},{buffer:R,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:D,type:t.FLOAT,size:4},{buffer:I,type:t.FLOAT,size:2},{buffer:F,type:t.FLOAT,size:1}]),j=i(t),N=new k(t,f,r,s,l,c,u,h,p,x,m,v,y,w,_,z,A,T,L,O,R,D,I,F,P,j,o(t,[{buffer:j,type:t.FLOAT,size:3}]));return N.update(e),N}},7261:function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.up||[0,1,0],n=t.right||u(r),i=t.radius||1,o=t.theta||0,d=t.phi||0;if(e=[].slice.call(e,0,3),r=[].slice.call(r,0,3),s(r,r),n=[].slice.call(n,0,3),s(n,n),"eye"in t){var f=t.eye,p=[f[0]-e[0],f[1]-e[1],f[2]-e[2]];a(n,p,r),c(n[0],n[1],n[2])<1e-6?n=u(r):s(n,n),i=c(p[0],p[1],p[2]);var m=l(r,p)/i,g=l(n,p)/i;d=Math.acos(m),o=Math.acos(g)}return i=Math.log(i),new h(t.zoomMin,t.zoomMax,e,r,n,i,o,d)};var n=r(9215),i=r(7608),o=r(6079),a=r(5911),s=r(3536),l=r(244);function c(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function d(t){return Math.min(1,Math.max(-1,t))}function u(t){var e=Math.abs(t[0]),r=Math.abs(t[1]),n=Math.abs(t[2]),i=[0,0,0];e>Math.max(r,n)?i[2]=1:r>Math.max(e,n)?i[0]=1:i[1]=1;for(var o=0,a=0,l=0;l<3;++l)o+=t[l]*t[l],a+=i[l]*t[l];for(l=0;l<3;++l)i[l]-=a/o*t[l];return s(i,i),i}function h(t,e,r,i,o,a,s,l){this.center=n(r),this.up=n(i),this.right=n(o),this.radius=n([a]),this.angle=n([s,l]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var c=0;c<16;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}var f=h.prototype;f.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},f.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},f.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,r=this.computedRight,n=0,i=0,o=0;o<3;++o)i+=e[o]*r[o],n+=e[o]*e[o];var l=Math.sqrt(n),d=0;for(o=0;o<3;++o)r[o]-=e[o]*i/n,d+=r[o]*r[o],e[o]/=l;var u=Math.sqrt(d);for(o=0;o<3;++o)r[o]/=u;var h=this.computedToward;a(h,e,r),s(h,h);var f=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],m=this.computedAngle[1],g=Math.cos(p),b=Math.sin(p),v=Math.cos(m),y=Math.sin(m),x=this.computedCenter,w=g*v,_=b*v,k=y,A=-g*y,T=-b*y,M=v,S=this.computedEye,E=this.computedMatrix;for(o=0;o<3;++o){var C=w*r[o]+_*h[o]+k*e[o];E[4*o+1]=A*r[o]+T*h[o]+M*e[o],E[4*o+2]=C,E[4*o+3]=0}var z=E[1],L=E[5],O=E[9],D=E[2],I=E[6],F=E[10],R=L*F-O*I,P=O*D-z*F,j=z*I-L*D,N=c(R,P,j);for(R/=N,P/=N,j/=N,E[0]=R,E[4]=P,E[8]=j,o=0;o<3;++o)S[o]=x[o]+E[2+4*o]*f;for(o=0;o<3;++o){d=0;for(var B=0;B<3;++B)d+=E[o+4*B]*S[B];E[12+o]=-d}E[15]=1},f.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r};var p=[0,0,0];f.rotate=function(t,e,r,n){if(this.angle.move(t,e,r),n){this.recalcMatrix(t);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var a=this.computedUp,s=this.computedRight,l=this.computedToward,c=0;c<3;++c)i[4*c]=a[c],i[4*c+1]=s[c],i[4*c+2]=l[c];for(o(i,i,n,p),c=0;c<3;++c)a[c]=i[4*c],s[c]=i[4*c+1];this.up.set(t,a[0],a[1],a[2]),this.right.set(t,s[0],s[1],s[2])}},f.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var i=this.computedMatrix,o=(Math.exp(this.computedRadius[0]),i[1]),a=i[5],s=i[9],l=c(o,a,s);o/=l,a/=l,s/=l;var d=i[0],u=i[4],h=i[8],f=d*o+u*a+h*s,p=c(d-=o*f,u-=a*f,h-=s*f),m=(d/=p)*e+o*r,g=(u/=p)*e+a*r,b=(h/=p)*e+s*r;this.center.move(t,m,g,b);var v=Math.exp(this.computedRadius[0]);v=Math.max(1e-4,v+n),this.radius.set(t,Math.log(v))},f.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},f.setMatrix=function(t,e,r,n){var o=1;"number"==typeof r&&(o=0|r),(o<0||o>3)&&(o=1);var a=(o+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var s=e[o],l=e[o+4],u=e[o+8];if(n){var h=Math.abs(s),f=Math.abs(l),p=Math.abs(u),m=Math.max(h,f,p);h===m?(s=s<0?-1:1,l=u=0):p===m?(u=u<0?-1:1,s=l=0):(l=l<0?-1:1,s=u=0)}else{var g=c(s,l,u);s/=g,l/=g,u/=g}var b,v,y=e[a],x=e[a+4],w=e[a+8],_=y*s+x*l+w*u,k=c(y-=s*_,x-=l*_,w-=u*_),A=l*(w/=k)-u*(x/=k),T=u*(y/=k)-s*w,M=s*x-l*y,S=c(A,T,M);if(A/=S,T/=S,M/=S,this.center.jump(t,H,W,q),this.radius.idle(t),this.up.jump(t,s,l,u),this.right.jump(t,y,x,w),2===o){var E=e[1],C=e[5],z=e[9],L=E*y+C*x+z*w,O=E*A+C*T+z*M;b=R<0?-Math.PI/2:Math.PI/2,v=Math.atan2(O,L)}else{var D=e[2],I=e[6],F=e[10],R=D*s+I*l+F*u,P=D*y+I*x+F*w,j=D*A+I*T+F*M;b=Math.asin(d(R)),v=Math.atan2(j,P)}this.angle.jump(t,v,b),this.recalcMatrix(t);var N=e[2],B=e[6],U=e[10],V=this.computedMatrix;i(V,e);var G=V[15],H=V[12]/G,W=V[13]/G,q=V[14]/G,$=Math.exp(this.computedRadius[0]);this.center.jump(t,H-N*$,W-B*$,q-U*$)},f.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},f.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},f.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},f.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},f.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||this.computedCenter;var i=(n=n||this.computedUp)[0],o=n[1],a=n[2],s=c(i,o,a);if(!(s<1e-6)){i/=s,o/=s,a/=s;var l=e[0]-r[0],u=e[1]-r[1],h=e[2]-r[2],f=c(l,u,h);if(!(f<1e-6)){l/=f,u/=f,h/=f;var p=this.computedRight,m=p[0],g=p[1],b=p[2],v=i*m+o*g+a*b,y=c(m-=v*i,g-=v*o,b-=v*a);if(!(y<.01&&(y=c(m=o*h-a*u,g=a*l-i*h,b=i*u-o*l))<1e-6)){m/=y,g/=y,b/=y,this.up.set(t,i,o,a),this.right.set(t,m,g,b),this.center.set(t,r[0],r[1],r[2]),this.radius.set(t,Math.log(f));var x=o*b-a*g,w=a*m-i*b,_=i*g-o*m,k=c(x,w,_),A=i*l+o*u+a*h,T=m*l+g*u+b*h,M=(x/=k)*l+(w/=k)*u+(_/=k)*h,S=Math.asin(d(A)),E=Math.atan2(M,T),C=this.angle._state,z=C[C.length-1],L=C[C.length-2];z%=2*Math.PI;var O=Math.abs(z+2*Math.PI-E),D=Math.abs(z-E),I=Math.abs(z-2*Math.PI-E);O<D&&(z+=2*Math.PI),I<D&&(z-=2*Math.PI),this.angle.jump(this.angle.lastT(),z,L),this.angle.set(t,E,S)}}}}},7319:function(t,e,r){var n=r(3236),i=r(9405),o=n(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * (view * (model * vec4(p, 1.0)));\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),a=n(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=n(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];e.createShader=function(t){return i(t,o,a,null,l)},e.createPickShader=function(t){return i(t,o,s,null,l)}},7352:function(t,e,r){"use strict";var n=r(5721),i=r(4750),o=r(2690);t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var r=t[0].length;return 0===r?[]:1===r?n(t):2===r?i(t):o(t,r)}},7399:function(t){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,l=i+i,c=r*a,d=n*a,u=n*s,h=i*a,f=i*s,p=i*l,m=o*a,g=o*s,b=o*l;return t[0]=1-u-p,t[1]=d+b,t[2]=h-g,t[3]=0,t[4]=d-b,t[5]=1-c-p,t[6]=f+m,t[7]=0,t[8]=h+g,t[9]=f-m,t[10]=1-c-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7417:function(t){t.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}},7442:function(t,e,r){var n=r(6658),i=r(7182),o=r(2652),a=r(9921),s=r(8648),l=u(),c=u(),d=u();function u(){return{translate:h(),scale:h(1),skew:h(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function h(t){return[t||0,t||0,t||0]}t.exports=function(t,e,r,u){if(0===a(e)||0===a(r))return!1;var h=o(e,l.translate,l.scale,l.skew,l.perspective,l.quaternion),f=o(r,c.translate,c.scale,c.skew,c.perspective,c.quaternion);return!(!h||!f||(n(d.translate,l.translate,c.translate,u),n(d.skew,l.skew,c.skew,u),n(d.scale,l.scale,c.scale,u),n(d.perspective,l.perspective,c.perspective,u),s(d.quaternion,l.quaternion,c.quaternion,u),i(t,d.translate,d.scale,d.skew,d.perspective,d.quaternion),0))}},7507:function(t,e){"use strict";e.byteLength=function(t){var e=s(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=s(t),a=o[0],l=o[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,l)),d=0,u=l>0?a-4:a;for(r=0;r<u;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[d++]=e>>16&255,c[d++]=e>>8&255,c[d++]=255&e;return 2===l&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[d++]=255&e),1===l&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[d++]=e>>8&255,c[d++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(l(t,s,s+a>c?c:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7518:function(t,e,r){"use strict";var n=r(1433);function i(t,e,r,n,i,o){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=i,this.d=o}function o(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(t,e,r){if(this.bind(),n(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var o=0;o<t.length;++o){var a=t[o];"number"==typeof a?this._attribs.push(new i(o,1,a)):Array.isArray(a)&&this._attribs.push(new i(o,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=function(t,e){return new o(t,e,e.createVertexArrayOES())}},7520:function(t,e,r){"use strict";var n=r(9507);t.exports=n&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},7536:function(t){t.exports=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},7608:function(t){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],d=e[8],u=e[9],h=e[10],f=e[11],p=e[12],m=e[13],g=e[14],b=e[15],v=r*s-n*a,y=r*l-i*a,x=r*c-o*a,w=n*l-i*s,_=n*c-o*s,k=i*c-o*l,A=d*m-u*p,T=d*g-h*p,M=d*b-f*p,S=u*g-h*m,E=u*b-f*m,C=h*b-f*g,z=v*C-y*E+x*S+w*M-_*T+k*A;return z?(z=1/z,t[0]=(s*C-l*E+c*S)*z,t[1]=(i*E-n*C-o*S)*z,t[2]=(m*k-g*_+b*w)*z,t[3]=(h*_-u*k-f*w)*z,t[4]=(l*M-a*C-c*T)*z,t[5]=(r*C-i*M+o*T)*z,t[6]=(g*x-p*k-b*y)*z,t[7]=(d*k-h*x+f*y)*z,t[8]=(a*E-s*M+c*A)*z,t[9]=(n*M-r*E-o*A)*z,t[10]=(p*_-m*x+b*v)*z,t[11]=(u*x-d*_-f*v)*z,t[12]=(s*T-a*S-l*A)*z,t[13]=(r*S-n*T+i*A)*z,t[14]=(m*y-p*w-g*v)*z,t[15]=(d*w-u*y+h*v)*z,t):null}},7626:function(t,e,r){"use strict";var n=r(2642),i=r(9346);function o(t,e){for(var r=[0,0,0,0],n=0;n<4;++n)for(var i=0;i<4;++i)r[i]+=t[4*n+i]*e[n];return r}function a(t,e,r,n,i){for(var a=o(n,o(r,o(e,[t[0],t[1],t[2],1]))),s=0;s<3;++s)a[s]/=a[3];return[.5*i[0]*(1+a[0]),.5*i[1]*(1-a[1])]}function s(t,e){for(var r=[0,0,0],n=0;n<t.length;++n)for(var i=t[n],o=e[n],a=0;a<3;++a)r[a]+=o*i[a];return r}t.exports=function(t,e,r,o,l,c){if(1===t.length)return[0,t[0].slice()];for(var d=new Array(t.length),u=0;u<t.length;++u)d[u]=a(t[u],r,o,l,c);var h=0,f=1/0;for(u=0;u<d.length;++u){for(var p=0,m=0;m<2;++m)p+=Math.pow(d[u][m]-e[m],2);p<f&&(f=p,h=u)}var g=function(t,e){if(2===t.length){for(var r=0,o=0,a=0;a<2;++a)r+=Math.pow(e[a]-t[0][a],2),o+=Math.pow(e[a]-t[1][a],2);return(r=Math.sqrt(r))+(o=Math.sqrt(o))<1e-6?[1,0]:[o/(r+o),r/(o+r)]}if(3===t.length){var s=[0,0];return i(t[0],t[1],t[2],e,s),n(t,s)}return[]}(d,e),b=0;for(u=0;u<3;++u){if(g[u]<-.001||g[u]>1.0001)return null;b+=g[u]}return Math.abs(b-1)>.001?null:[h,s(t,g),g]}},7636:function(t){t.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI,n=2*Math.random()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}},7640:function(t,e,r){"use strict";var n=r(1888);function i(t){return"uint32"===t?[n.mallocUint32,n.freeUint32]:null}var o={"uint32,1,0":function(t,e){return function(r,n,i,o,a,s,l,c,d,u,h){var f,p,m,g,b,v,y,x,w=r*a+o,_=t(c);for(f=r+1;f<=n;++f){for(p=f,m=w+=a,b=0,v=w,g=0;g<c;++g)_[b++]=i[v],v+=d;t:for(;p-- >r;){b=0,v=m-a;e:for(g=0;g<c;++g){if((y=i[v])<(x=_[b]))break t;if(y>x)break e;v+=u,b+=h}for(b=m,v=m-a,g=0;g<c;++g)i[b]=i[v],b+=d,v+=d;m-=a}for(b=m,v=0,g=0;g<c;++g)i[b]=_[v++],b+=d}e(_)}}},a={"uint32,1,0":function(t,e,r){return function n(i,o,a,s,l,c,d,u,h,f,p){var m,g,b,v,y,x,w,_,k,A,T,M,S,E,C,z,L,O,D,I,F,R,P,j,N,B=(o-i+1)/6|0,U=i+B,V=o-B,G=i+o>>1,H=G-B,W=G+B,q=U,$=H,Y=G,Z=W,X=V,J=i+1,Q=o-1,K=!0,tt=0,et=0,rt=0,nt=u,it=e(nt),ot=e(nt);T=l*q,M=l*$,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=q,q=$,$=g;break t}if(rt<0)break t;N+=f}T=l*Z,M=l*X,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=Z,Z=X,X=g;break t}if(rt<0)break t;N+=f}T=l*q,M=l*Y,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=q,q=Y,Y=g;break t}if(rt<0)break t;N+=f}T=l*$,M=l*Y,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=$,$=Y,Y=g;break t}if(rt<0)break t;N+=f}T=l*q,M=l*Z,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=q,q=Z,Z=g;break t}if(rt<0)break t;N+=f}T=l*Y,M=l*Z,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=Y,Y=Z,Z=g;break t}if(rt<0)break t;N+=f}T=l*$,M=l*X,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=$,$=X,X=g;break t}if(rt<0)break t;N+=f}T=l*$,M=l*Y,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=$,$=Y,Y=g;break t}if(rt<0)break t;N+=f}T=l*Z,M=l*X,N=s;t:for(A=0;A<u;++A){if(_=M+N,(rt=a[w=T+N]-a[_])>0){g=Z,Z=X,X=g;break t}if(rt<0)break t;N+=f}for(T=l*q,M=l*$,S=l*Y,E=l*Z,C=l*X,z=l*U,L=l*G,O=l*V,j=0,N=s,A=0;A<u;++A)w=T+N,_=M+N,k=S+N,D=E+N,I=C+N,F=z+N,R=L+N,P=O+N,it[j]=a[_],ot[j]=a[D],K=K&&it[j]===ot[j],b=a[w],v=a[k],y=a[I],a[F]=b,a[R]=v,a[P]=y,++j,N+=h;for(T=l*H,M=l*i,N=s,A=0;A<u;++A)_=M+N,a[w=T+N]=a[_],N+=h;for(T=l*W,M=l*o,N=s,A=0;A<u;++A)_=M+N,a[w=T+N]=a[_],N+=h;if(K)for(x=J;x<=Q;++x){for(w=s+x*l,j=0,A=0;A<u&&0==(rt=a[w]-it[j]);++A)j+=p,w+=f;if(0!==rt)if(rt<0){if(x!==J)for(T=l*x,M=l*J,N=s,A=0;A<u;++A)_=M+N,m=a[w=T+N],a[w]=a[_],a[_]=m,N+=h;++J}else for(;;){for(w=s+Q*l,j=0,A=0;A<u&&0==(rt=a[w]-it[j]);++A)j+=p,w+=f;if(!(rt>0)){if(rt<0){for(T=l*x,M=l*J,S=l*Q,N=s,A=0;A<u;++A)_=M+N,k=S+N,m=a[w=T+N],a[w]=a[_],a[_]=a[k],a[k]=m,N+=h;++J,--Q;break}for(T=l*x,M=l*Q,N=s,A=0;A<u;++A)_=M+N,m=a[w=T+N],a[w]=a[_],a[_]=m,N+=h;--Q;break}Q--}}else for(x=J;x<=Q;++x){for(w=s+x*l,j=0,A=0;A<u&&0==(tt=a[w]-it[j]);++A)j+=p,w+=f;if(tt<0){if(x!==J)for(T=l*x,M=l*J,N=s,A=0;A<u;++A)_=M+N,m=a[w=T+N],a[w]=a[_],a[_]=m,N+=h;++J}else{for(w=s+x*l,j=0,A=0;A<u&&0==(et=a[w]-ot[j]);++A)j+=p,w+=f;if(et>0)for(;;){for(w=s+Q*l,j=0,A=0;A<u&&0==(rt=a[w]-ot[j]);++A)j+=p,w+=f;if(!(rt>0)){for(w=s+Q*l,j=0,A=0;A<u&&0==(rt=a[w]-it[j]);++A)j+=p,w+=f;if(rt<0){for(T=l*x,M=l*J,S=l*Q,N=s,A=0;A<u;++A)_=M+N,k=S+N,m=a[w=T+N],a[w]=a[_],a[_]=a[k],a[k]=m,N+=h;++J,--Q}else{for(T=l*x,M=l*Q,N=s,A=0;A<u;++A)_=M+N,m=a[w=T+N],a[w]=a[_],a[_]=m,N+=h;--Q}break}if(--Q<x)break}}}for(T=l*i,M=l*(J-1),j=0,N=s,A=0;A<u;++A)_=M+N,a[w=T+N]=a[_],a[_]=it[j],++j,N+=h;for(T=l*o,M=l*(Q+1),j=0,N=s,A=0;A<u;++A)_=M+N,a[w=T+N]=a[_],a[_]=ot[j],++j,N+=h;if(J-2-i<=32?t(i,J-2,a,s,l,c,d,u,h,f,p):n(i,J-2,a,s,l,c,d,u,h,f,p),o-(Q+2)<=32?t(Q+2,o,a,s,l,c,d,u,h,f,p):n(Q+2,o,a,s,l,c,d,u,h,f,p),K)return r(it),void r(ot);if(J<U&&Q>V){t:for(;;){for(w=s+J*l,j=0,N=s,A=0;A<u;++A){if(a[w]!==it[j])break t;++j,w+=h}++J}t:for(;;){for(w=s+Q*l,j=0,N=s,A=0;A<u;++A){if(a[w]!==ot[j])break t;++j,w+=h}--Q}for(x=J;x<=Q;++x){for(w=s+x*l,j=0,A=0;A<u&&0==(tt=a[w]-it[j]);++A)j+=p,w+=f;if(0===tt){if(x!==J)for(T=l*x,M=l*J,N=s,A=0;A<u;++A)_=M+N,m=a[w=T+N],a[w]=a[_],a[_]=m,N+=h;++J}else{for(w=s+x*l,j=0,A=0;A<u&&0==(et=a[w]-ot[j]);++A)j+=p,w+=f;if(0===et)for(;;){for(w=s+Q*l,j=0,A=0;A<u&&0==(rt=a[w]-ot[j]);++A)j+=p,w+=f;if(0!==rt){for(w=s+Q*l,j=0,A=0;A<u&&0==(rt=a[w]-it[j]);++A)j+=p,w+=f;if(rt<0){for(T=l*x,M=l*J,S=l*Q,N=s,A=0;A<u;++A)_=M+N,k=S+N,m=a[w=T+N],a[w]=a[_],a[_]=a[k],a[k]=m,N+=h;++J,--Q}else{for(T=l*x,M=l*Q,N=s,A=0;A<u;++A)_=M+N,m=a[w=T+N],a[w]=a[_],a[_]=m,N+=h;--Q}break}if(--Q<x)break}}}}r(it),r(ot),Q-J<=32?t(J,Q,a,s,l,c,d,u,h,f,p):n(J,Q,a,s,l,c,d,u,h,f,p)}}},s={"uint32,1,0":function(t,e){return function(r){var n=r.data,i=0|r.offset,o=r.shape,a=r.stride,s=0|a[0],l=0|o[0],c=0|a[1],d=0|o[1],u=c,h=c;l<=32?t(0,l-1,n,i,s,c,l,d,u,h,1):e(0,l-1,n,i,s,c,l,d,u,h,1)}}};t.exports=function(t,e){var r=[e,t].join(","),n=s[r],l=function(t,e){var r=i(e),n=[e,t].join(","),a=o[n];return r?a(r[0],r[1]):a()}(t,e),c=function(t,e,r){var n=i(e),o=[e,t].join(","),s=a[o];return t.length>1&&n?s(r,n[0],n[1]):s(r)}(t,e,l);return n(l,c)}},7642:function(t,e,r){"use strict";var n=r(8954),i=r(1682);function o(t,e){this.point=t,this.index=e}function a(t,e){for(var r=t.point,n=e.point,i=r.length,o=0;o<i;++o){var a=n[o]-r[o];if(a)return a}return 0}t.exports=function(t,e){var r=t.length;if(0===r)return[];var s=t[0].length;if(s<1)return[];if(1===s)return function(t,e,r){if(1===t)return r?[[-1,0]]:[];var n=e.map((function(t,e){return[t[0],e]}));n.sort((function(t,e){return t[0]-e[0]}));for(var i=new Array(t-1),o=1;o<t;++o){var a=n[o-1],s=n[o];i[o-1]=[a[1],s[1]]}return r&&i.push([-1,i[0][1]],[i[t-1][1],-1]),i}(r,t,e);for(var l=new Array(r),c=1,d=0;d<r;++d){for(var u=t[d],h=new Array(s+1),f=0,p=0;p<s;++p){var m=u[p];h[p]=m,f+=m*m}h[s]=f,l[d]=new o(h,d),c=Math.max(f,c)}i(l,a),r=l.length;var g=new Array(r+s+1),b=new Array(r+s+1),v=(s+1)*(s+1)*c,y=new Array(s+1);for(d=0;d<=s;++d)y[d]=0;for(y[s]=v,g[0]=y.slice(),b[0]=-1,d=0;d<=s;++d)(h=y.slice())[d]=1,g[d+1]=h,b[d+1]=-1;for(d=0;d<r;++d){var x=l[d];g[d+s+1]=x.point,b[d+s+1]=x.index}var w=n(g,!1);if(w=e?w.filter((function(t){for(var e=0,r=0;r<=s;++r){var n=b[t[r]];if(n<0&&++e>=2)return!1;t[r]=n}return!0})):w.filter((function(t){for(var e=0;e<=s;++e){var r=b[t[e]];if(r<0)return!1;t[e]=r}return!0})),1&s)for(d=0;d<w.length;++d)h=(x=w[d])[0],x[0]=x[1],x[1]=h;return w}},7656:function(t){t.exports=function(t,e,r){var n,i,o,a,s,l,c,d,u,h,f,p,m=r[0],g=r[1],b=r[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*b+e[12],t[13]=e[1]*m+e[5]*g+e[9]*b+e[13],t[14]=e[2]*m+e[6]*g+e[10]*b+e[14],t[15]=e[3]*m+e[7]*g+e[11]*b+e[15]):(n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],f=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=h,t[10]=f,t[11]=p,t[12]=n*m+s*g+u*b+e[12],t[13]=i*m+l*g+h*b+e[13],t[14]=o*m+c*g+f*b+e[14],t[15]=a*m+d*g+p*b+e[15]),t}},7718:function(t,e,r){t.exports=function(t,e,r,n){var o=64,a=1.25,s={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return n&&(n.size&&n.size>0&&(o=n.size),n.lineSpacing&&n.lineSpacing>0&&(a=n.lineSpacing),n.styletags&&n.styletags.breaklines&&(s.breaklines=!!n.styletags.breaklines),n.styletags&&n.styletags.bolds&&(s.bolds=!!n.styletags.bolds),n.styletags&&n.styletags.italics&&(s.italics=!!n.styletags.italics),n.styletags&&n.styletags.subscripts&&(s.subscripts=!!n.styletags.subscripts),n.styletags&&n.styletags.superscripts&&(s.superscripts=!!n.styletags.superscripts)),r.font=[n.fontStyle,n.fontVariant,n.fontWeight,o+"px",n.font].filter((function(t){return t})).join(" "),r.textAlign="start",r.textBaseline="alphabetic",r.direction="ltr",_(function(t,e,r,n,o,a){r=r.replace(/\n/g,""),r=!0===a.breaklines?r.replace(/\<br\>/g,"\n"):r.replace(/\<br\>/g," ");var s="",l=[];for(k=0;k<r.length;++k)l[k]=s;!0===a.bolds&&(l=y(c,d,r,l)),!0===a.italics&&(l=y(u,h,r,l)),!0===a.superscripts&&(l=y(f,m,r,l)),!0===a.subscripts&&(l=y(g,v,r,l));var x=[],w="";for(k=0;k<r.length;++k)null!==l[k]&&(w+=r[k],x.push(l[k]));var _,k,A,T,M,S=w.split("\n"),E=S.length,C=Math.round(o*n),z=n,L=2*n,O=0,D=E*C+L;t.height<D&&(t.height=D),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff";var I=0,F="";function R(){if(""!==F){var t=e.measureText(F).width;e.fillText(F,z+A,L+T),A+=t}}function P(){return Math.round(M)+"px "}function j(t,r){var n=""+e.font;if(!0===a.subscripts){var i=t.indexOf(b),o=r.indexOf(b),s=i>-1?parseInt(t[1+i]):0,l=o>-1?parseInt(r[1+o]):0;s!==l&&(n=n.replace(P(),"?px "),M*=Math.pow(.75,l-s),n=n.replace("?px ",P())),T+=.25*C*(l-s)}if(!0===a.superscripts){var c=t.indexOf(p),u=r.indexOf(p),f=c>-1?parseInt(t[1+c]):0,m=u>-1?parseInt(r[1+u]):0;f!==m&&(n=n.replace(P(),"?px "),M*=Math.pow(.75,m-f),n=n.replace("?px ",P())),T-=.25*C*(m-f)}if(!0===a.bolds){var g=t.indexOf(d)>-1,v=r.indexOf(d)>-1;!g&&v&&(n=y?n.replace("italic ","italic bold "):"bold "+n),g&&!v&&(n=n.replace("bold ",""))}if(!0===a.italics){var y=t.indexOf(h)>-1,x=r.indexOf(h)>-1;!y&&x&&(n="italic "+n),y&&!x&&(n=n.replace("italic ",""))}e.font=n}for(_=0;_<E;++_){var N=S[_]+"\n";for(A=0,T=_*C,M=n,F="",k=0;k<N.length;++k){var B=k+I<x.length?x[k+I]:x[x.length-1];s===B?F+=N[k]:(R(),F=N[k],void 0!==B&&(j(s,B),s=B))}R(),I+=N.length;var U=0|Math.round(A+2*z);O<U&&(O=U)}var V=O,G=L+C*E;return i(e.getImageData(0,0,V,G).data,[G,V,4]).pick(-1,-1,0).transpose(1,0)}(e,r,t,o,a,s),n,o)},t.exports.processPixels=_;var n=r(3711),i=r(9618),o=r(5878),a=r(332),s=r(2538),l=r(2095),c="b",d="b|",u="i",h="i|",f="sup",p="+",m="+1",g="sub",b="-",v="-1";function y(t,e,r,n){for(var i="<"+t+">",o="</"+t+">",a=i.length,s=o.length,l=e[0]===p||e[0]===b,c=0,d=-s;c>-1&&-1!==(c=r.indexOf(i,c))&&-1!==(d=r.indexOf(o,c+a))&&!(d<=c);){for(var u=c;u<d+s;++u)if(u<c+a||u>=d)n[u]=null,r=r.substr(0,u)+" "+r.substr(u+1);else if(null!==n[u]){var h=n[u].indexOf(e[0]);-1===h?n[u]+=e:l&&(n[u]=n[u].substr(0,h+1)+(1+parseInt(n[u][h+1]))+n[u].substr(h+2))}var f=c+a,m=r.substr(f,d-f).indexOf(i);c=-1!==m?m:d+s}return n}function x(t,e){var r=n(t,128);return e?o(r.cells,r.positions,.25):{edges:r.cells,positions:r.positions}}function w(t,e,r,n){var i=x(t,n),o=function(t,e,r){for(var n=e.textAlign||"start",i=e.textBaseline||"alphabetic",o=[1<<30,1<<30],a=[0,0],s=t.length,l=0;l<s;++l)for(var c=t[l],d=0;d<2;++d)o[d]=0|Math.min(o[d],c[d]),a[d]=0|Math.max(a[d],c[d]);var u=0;switch(n){case"center":u=-.5*(o[0]+a[0]);break;case"right":case"end":u=-a[0];break;case"left":case"start":u=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+n+"'")}var h=0;switch(i){case"hanging":case"top":h=-o[1];break;case"middle":h=-.5*(o[1]+a[1]);break;case"alphabetic":case"ideographic":h=-3*r;break;case"bottom":h=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var f=1/r;return"lineHeight"in e?f*=+e.lineHeight:"width"in e?f=e.width/(a[0]-o[0]):"height"in e&&(f=e.height/(a[1]-o[1])),t.map((function(t){return[f*(t[0]+u),f*(t[1]+h)]}))}(i.positions,e,r),c=i.edges,d="ccw"===e.orientation;if(a(o,c),e.polygons||e.polygon||e.polyline){for(var u=l(c,o),h=new Array(u.length),f=0;f<u.length;++f){for(var p=u[f],m=new Array(p.length),g=0;g<p.length;++g){for(var b=p[g],v=new Array(b.length),y=0;y<b.length;++y)v[y]=o[b[y]].slice();d&&v.reverse(),m[g]=v}h[f]=m}return h}return e.triangles||e.triangulate||e.triangle?{cells:s(o,c,{delaunay:!1,exterior:!1,interior:!0}),positions:o}:{edges:c,positions:o}}function _(t,e,r){try{return w(t,e,r,!0)}catch(t){}try{return w(t,e,r,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},7721:function(t,e,r){"use strict";var n=r(5716);t.exports=function(t){return n(t[0])*n(t[1])}},7765:function(t,e,r){"use strict";t.exports=function(t,e,r,s){if(r=r||0,void 0===s&&(s=function(t){for(var e=t.length,r=0,n=0;n<e;++n)r=0|Math.max(r,t[n].length);return r-1}(t)),0===t.length||s<1)return{cells:[],vertexIds:[],vertexWeights:[]};var l=function(t,e){for(var r=t.length,n=i.mallocUint8(r),o=0;o<r;++o)n[o]=t[o]<e|0;return n}(e,+r),c=function(t,e){for(var r=t.length,a=e*(e+1)/2*r|0,s=i.mallocUint32(2*a),l=0,c=0;c<r;++c)for(var d=t[c],u=(e=d.length,0);u<e;++u)for(var h=0;h<u;++h){var f=d[h],p=d[u];s[l++]=0|Math.min(f,p),s[l++]=0|Math.max(f,p)}o(n(s,[l/2|0,2]));var m=2;for(c=2;c<l;c+=2)s[c-2]===s[c]&&s[c-1]===s[c+1]||(s[m++]=s[c],s[m++]=s[c+1]);return n(s,[m/2|0,2])}(t,s),d=function(t,e,r,o){for(var a=t.data,s=t.shape[0],l=i.mallocDouble(s),c=0,d=0;d<s;++d){var u=a[2*d],h=a[2*d+1];if(r[u]!==r[h]){var f=e[u],p=e[h];a[2*c]=u,a[2*c+1]=h,l[c++]=(p-o)/(p-f)}}return t.shape[0]=c,n(l,[c])}(c,e,l,+r),u=function(t,e){var r=i.mallocInt32(2*e),n=t.shape[0],o=t.data;r[0]=0;for(var a=0,s=0;s<n;++s){var l=o[2*s];if(l!==a){for(r[2*a+1]=s;++a<l;)r[2*a]=s,r[2*a+1]=s;r[2*a]=s}}for(r[2*a+1]=n;++a<e;)r[2*a]=r[2*a+1]=n;return r}(c,0|e.length),h=a(s)(t,c.data,u,l),f=function(t){for(var e=0|t.shape[0],r=t.data,n=new Array(e),i=0;i<e;++i)n[i]=[r[2*i],r[2*i+1]];return n}(c),p=[].slice.call(d.data,0,d.shape[0]);return i.free(l),i.free(c.data),i.free(d.data),i.free(u),{cells:h,vertexIds:f,vertexWeights:p}};var n=r(9618),i=r(1888),o=r(446),a=r(1570)},7766:function(t,e,r){"use strict";var n=r(9618),i=r(5298),o=r(1888);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||function(t){a=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],s=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],l=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}(t),"number"==typeof arguments[1])return g(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=c(e)?e:e.raw;if(r)return function(t,e,r,n,i,o){var a=m(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new h(t,a,r,n,i,o)}(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return function(t,e){var r=e.dtype,a=e.shape.slice(),s=t.getParameter(t.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>s||a[1]<0||a[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=p(a,e.stride.slice()),c=0;"float32"===r?c=t.FLOAT:"float64"===r?(c=t.FLOAT,l=!1,r="float32"):"uint8"===r?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,l=!1,r="uint8");var u,f,g=0;if(2===a.length)g=t.LUMINANCE,a=[a[0],a[1],1],e=n(e.data,a,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])g=t.ALPHA;else if(2===a[2])g=t.LUMINANCE_ALPHA;else if(3===a[2])g=t.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,l=!1);var b=e.size;if(l)u=0===e.offset&&e.data.length===b?e.data:e.data.subarray(e.offset,e.offset+b);else{var v=[a[2],a[2]*a[0],1];f=o.malloc(b,r);var y=n(f,a,v,0);"float32"!==r&&"float64"!==r||c!==t.UNSIGNED_BYTE?i.assign(y,e):d(y,e),u=f.subarray(0,b)}var x=m(t);return t.texImage2D(t.TEXTURE_2D,0,g,a[0],a[1],0,g,c,u),l||o.free(f),new h(t,x,a[0],a[1],g,c)}(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,s=null,l=null;function c(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var d=function(t,e){i.muls(t,e,255)};function u(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function h(t,e,r,n,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=l}var f=h.prototype;function p(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function m(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function g(t,e,r,n,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=m(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new h(t,a,e,r,n,i)}Object.defineProperties(f,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&a.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&a.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),l.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(l.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return u(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return u(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,u(this,this._shape[0],t),t}}}),f.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},f.dispose=function(){this.gl.deleteTexture(this.handle)},f.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},f.setPixels=function(t,e,r,a){var s=this.gl;this.bind(),Array.isArray(e)?(a=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),a=a||0;var l=c(t)?t:t.raw;if(l)this._mipLevels.indexOf(a)<0?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(a)):s.texSubImage2D(s.TEXTURE_2D,a,e,r,this.format,this.type,l);else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>a||r+t.shape[0]>this._shape[0]>>>a||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,r,a,s,l,c,u){var h=u.dtype,f=u.shape.slice();if(f.length<2||f.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var m=0,g=0,b=p(f,u.stride.slice());if("float32"===h?m=t.FLOAT:"float64"===h?(m=t.FLOAT,b=!1,h="float32"):"uint8"===h?m=t.UNSIGNED_BYTE:(m=t.UNSIGNED_BYTE,b=!1,h="uint8"),2===f.length)g=t.LUMINANCE,f=[f[0],f[1],1],u=n(u.data,f,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==f.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===f[2])g=t.ALPHA;else if(2===f[2])g=t.LUMINANCE_ALPHA;else if(3===f[2])g=t.RGB;else{if(4!==f[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=t.RGBA}f[2]}if(g!==t.LUMINANCE&&g!==t.ALPHA||s!==t.LUMINANCE&&s!==t.ALPHA||(g=s),g!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var v=u.size,y=c.indexOf(a)<0;if(y&&c.push(a),m===l&&b)0===u.offset&&u.data.length===v?y?t.texImage2D(t.TEXTURE_2D,a,s,f[0],f[1],0,s,l,u.data):t.texSubImage2D(t.TEXTURE_2D,a,e,r,f[0],f[1],s,l,u.data):y?t.texImage2D(t.TEXTURE_2D,a,s,f[0],f[1],0,s,l,u.data.subarray(u.offset,u.offset+v)):t.texSubImage2D(t.TEXTURE_2D,a,e,r,f[0],f[1],s,l,u.data.subarray(u.offset,u.offset+v));else{var x;x=l===t.FLOAT?o.mallocFloat32(v):o.mallocUint8(v);var w=n(x,f,[f[2],f[2]*f[0],1]);m===t.FLOAT&&l===t.UNSIGNED_BYTE?d(w,u):i.assign(w,u),y?t.texImage2D(t.TEXTURE_2D,a,s,f[0],f[1],0,s,l,x.subarray(0,v)):t.texSubImage2D(t.TEXTURE_2D,a,e,r,f[0],f[1],s,l,x.subarray(0,v)),l===t.FLOAT?o.freeFloat32(x):o.freeUint8(x)}}(s,e,r,a,this.format,this.type,this._mipLevels,t)}}},7790:function(){},7815:function(t,e,r){"use strict";var n=r(2931),i=r(9970),o=["xyz","xzy","yxz","yzx","zxy","zyx"],a=function(t,e){var r,n=t.length;for(r=0;r<n;r++){var i=t[r];if(i===e)return r;if(i>e)return r-1}return r},s=function(t,e,r){return t<e?e:t>r?r:t},l=function(t){var e=1/0;t.sort((function(t,e){return t-e}));for(var r=t.length,n=1;n<r;n++){var i=Math.abs(t[n]-t[n-1]);i<e&&(e=i)}return e};t.exports=function(t,e){var r=t.startingPositions,c=t.maxLength||1e3,d=t.tubeSize||1,u=t.absoluteTubeSize,h=t.gridFill||"+x+y+z",f={};-1!==h.indexOf("-x")&&(f.reversedX=!0),-1!==h.indexOf("-y")&&(f.reversedY=!0),-1!==h.indexOf("-z")&&(f.reversedZ=!0),f.filled=o.indexOf(h.replace(/-/g,"").replace(/\+/g,""));var p=t.getVelocity||function(e){return function(t,e,r){var i=e.vectors,o=e.meshgrid,l=t[0],c=t[1],d=t[2],u=o[0].length,h=o[1].length,f=o[2].length,p=a(o[0],l),m=a(o[1],c),g=a(o[2],d),b=p+1,v=m+1,y=g+1;if(p=s(p,0,u-1),b=s(b,0,u-1),m=s(m,0,h-1),v=s(v,0,h-1),g=s(g,0,f-1),y=s(y,0,f-1),p<0||m<0||g<0||b>u-1||v>h-1||y>f-1)return n.create();var x,w,_,k,A,T,M=o[0][p],S=o[0][b],E=o[1][m],C=o[1][v],z=o[2][g],L=(l-M)/(S-M),O=(c-E)/(C-E),D=(d-z)/(o[2][y]-z);switch(isFinite(L)||(L=.5),isFinite(O)||(O=.5),isFinite(D)||(D=.5),r.reversedX&&(p=u-1-p,b=u-1-b),r.reversedY&&(m=h-1-m,v=h-1-v),r.reversedZ&&(g=f-1-g,y=f-1-y),r.filled){case 5:A=g,T=y,_=m*f,k=v*f,x=p*f*h,w=b*f*h;break;case 4:A=g,T=y,x=p*f,w=b*f,_=m*f*u,k=v*f*u;break;case 3:_=m,k=v,A=g*h,T=y*h,x=p*h*f,w=b*h*f;break;case 2:_=m,k=v,x=p*h,w=b*h,A=g*h*u,T=y*h*u;break;case 1:x=p,w=b,A=g*u,T=y*u,_=m*u*f,k=v*u*f;break;default:x=p,w=b,_=m*u,k=v*u,A=g*u*h,T=y*u*h}var I=i[x+_+A],F=i[x+_+T],R=i[x+k+A],P=i[x+k+T],j=i[w+_+A],N=i[w+_+T],B=i[w+k+A],U=i[w+k+T],V=n.create(),G=n.create(),H=n.create(),W=n.create();n.lerp(V,I,j,L),n.lerp(G,F,N,L),n.lerp(H,R,B,L),n.lerp(W,P,U,L);var q=n.create(),$=n.create();n.lerp(q,V,H,O),n.lerp($,G,W,O);var Y=n.create();return n.lerp(Y,q,$,D),Y}(e,t,f)},m=t.getDivergence||function(t,e){var r=n.create(),i=1e-4;n.add(r,t,[i,0,0]);var o=p(r);n.subtract(o,o,e),n.scale(o,o,1/i),n.add(r,t,[0,i,0]);var a=p(r);n.subtract(a,a,e),n.scale(a,a,1/i),n.add(r,t,[0,0,i]);var s=p(r);return n.subtract(s,s,e),n.scale(s,s,1/i),n.add(r,o,a),n.add(r,r,s),r},g=[],b=e[0][0],v=e[0][1],y=e[0][2],x=e[1][0],w=e[1][1],_=e[1][2],k=function(t){var e=t[0],r=t[1],n=t[2];return!(e<b||e>x||r<v||r>w||n<y||n>_)},A=10*n.distance(e[0],e[1])/c,T=A*A,M=1,S=0,E=r.length;E>1&&(M=function(t){for(var e=[],r=[],n=[],i={},o={},a={},s=t.length,c=0;c<s;c++){var d=t[c],u=d[0],h=d[1],f=d[2];i[u]||(e.push(u),i[u]=!0),o[h]||(r.push(h),o[h]=!0),a[f]||(n.push(f),a[f]=!0)}var p=l(e),m=l(r),g=l(n),b=Math.min(p,m,g);return isFinite(b)?b:1}(r));for(var C=0;C<E;C++){var z=n.create();n.copy(z,r[C]);var L=[z],O=[],D=p(z),I=z;O.push(D);var F=[],R=m(z,D),P=n.length(R);isFinite(P)&&P>S&&(S=P),F.push(P),g.push({points:L,velocities:O,divergences:F});for(var j=0;j<100*c&&L.length<c&&k(z);){j++;var N=n.clone(D),B=n.squaredLength(N);if(0===B)break;B>T&&n.scale(N,N,A/Math.sqrt(B)),n.add(N,N,z),D=p(N),n.squaredDistance(I,N)-T>-1e-4*T&&(L.push(N),I=N,O.push(D),R=m(N,D),P=n.length(R),isFinite(P)&&P>S&&(S=P),F.push(P)),z=N}}var U=function(t,e,r,o){for(var a=0,s=0;s<t.length;s++)for(var l=t[s].velocities,c=0;c<l.length;c++)a=Math.max(a,n.length(l[c]));var d=t.map((function(t){return function(t,e,r,o){for(var a=t.points,s=t.velocities,l=t.divergences,c=[],d=[],u=[],h=[],f=[],p=[],m=0,g=0,b=i.create(),v=i.create(),y=0;y<a.length;y++){var x=a[y],w=s[y],_=l[y];0===e&&(_=.05*r),g=n.length(w)/o,b=i.create(),n.copy(b,w),b[3]=_;for(var k=0;k<8;k++)f[k]=[x[0],x[1],x[2],k];if(h.length>0)for(k=0;k<8;k++){var A=(k+1)%8;c.push(h[k],f[k],f[A],f[A],h[A],h[k]),u.push(v,b,b,b,v,v),p.push(m,g,g,g,m,m);var T=c.length;d.push([T-6,T-5,T-4],[T-3,T-2,T-1])}var M=h;h=f,f=M;var S=v;v=b,b=S;var E=m;m=g,g=E}return{positions:c,cells:d,vectors:u,vertexIntensity:p}}(t,r,o,a)})),u=[],h=[],f=[],p=[];for(s=0;s<d.length;s++){var m=d[s],g=u.length;for(u=u.concat(m.positions),f=f.concat(m.vectors),p=p.concat(m.vertexIntensity),c=0;c<m.cells.length;c++){var b=m.cells[c],v=[];h.push(v);for(var y=0;y<b.length;y++)v.push(b[y]+g)}}return{positions:u,cells:h,vectors:f,vertexIntensity:p,colormap:e}}(g,t.colormap,S,M);return u?U.tubeScale=u:(0===S&&(S=1),U.tubeScale=.5*d*M/S),U};var c=r(6740),d=r(6405).createMesh;t.exports.createTubeMesh=function(t,e){return d(t,e,{shaders:c,traceType:"streamtube"})}},7827:function(t){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},7842:function(t,e,r){"use strict";var n=r(6330),i=r(1533),o=r(2651),a=r(6768),s=r(869),l=r(8697);t.exports=function t(e,r){if(n(e))return r?l(e,t(r)):[e[0].clone(),e[1].clone()];var c,d,u=0;if(i(e))c=e.clone();else if("string"==typeof e)c=a(e);else{if(0===e)return[o(0),o(1)];if(e===Math.floor(e))c=o(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),u-=256;c=o(e)}}if(n(r))c.mul(r[1]),d=r[0].clone();else if(i(r))d=r.clone();else if("string"==typeof r)d=a(r);else if(r)if(r===Math.floor(r))d=o(r);else{for(;r!==Math.floor(r);)r*=Math.pow(2,256),u+=256;d=o(r)}else d=o(1);return u>0?c=c.ushln(u):u<0&&(d=d.ushln(-u)),s(c,d)}},7894:function(t){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7932:function(t,e,r){var n=r(620);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},7960:function(t){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+i*i+o*o}},8105:function(t){"use strict";t.exports=function(t){return e[t]};var e={"lo===p0":function(t,e,r,n,i,o,a){for(var s=2*t,l=s*r,c=l,d=r,u=e,h=r;n>h;++h,l+=s)if(i[l+u]===a)if(d===h)d+=1,c+=s;else{for(var f=0;s>f;++f){var p=i[l+f];i[l+f]=i[c],i[c++]=p}var m=o[h];o[h]=o[d],o[d++]=m}return d},"lo<p0":function(t,e,r,n,i,o,a){for(var s=2*t,l=s*r,c=l,d=r,u=e,h=r;n>h;++h,l+=s)if(i[l+u]<a)if(d===h)d+=1,c+=s;else{for(var f=0;s>f;++f){var p=i[l+f];i[l+f]=i[c],i[c++]=p}var m=o[h];o[h]=o[d],o[d++]=m}return d},"lo<=p0":function(t,e,r,n,i,o,a){for(var s=2*t,l=s*r,c=l,d=r,u=t+e,h=r;n>h;++h,l+=s)if(i[l+u]<=a)if(d===h)d+=1,c+=s;else{for(var f=0;s>f;++f){var p=i[l+f];i[l+f]=i[c],i[c++]=p}var m=o[h];o[h]=o[d],o[d++]=m}return d},"hi<=p0":function(t,e,r,n,i,o,a){for(var s=2*t,l=s*r,c=l,d=r,u=t+e,h=r;n>h;++h,l+=s)if(i[l+u]<=a)if(d===h)d+=1,c+=s;else{for(var f=0;s>f;++f){var p=i[l+f];i[l+f]=i[c],i[c++]=p}var m=o[h];o[h]=o[d],o[d++]=m}return d},"lo<p0&&p0<=hi":function(t,e,r,n,i,o,a){for(var s=2*t,l=s*r,c=l,d=r,u=e,h=t+e,f=r;n>f;++f,l+=s){var p=i[l+u],m=i[l+h];if(p<a&&a<=m)if(d===f)d+=1,c+=s;else{for(var g=0;s>g;++g){var b=i[l+g];i[l+g]=i[c],i[c++]=b}var v=o[f];o[f]=o[d],o[d++]=v}}return d},"lo<=p0&&p0<=hi":function(t,e,r,n,i,o,a){for(var s=2*t,l=s*r,c=l,d=r,u=e,h=t+e,f=r;n>f;++f,l+=s){var p=i[l+u],m=i[l+h];if(p<=a&&a<=m)if(d===f)d+=1,c+=s;else{for(var g=0;s>g;++g){var b=i[l+g];i[l+g]=i[c],i[c++]=b}var v=o[f];o[f]=o[d],o[d++]=v}}return d},"!(lo>=p0)&&!(p1>=hi)":function(t,e,r,n,i,o,a,s){for(var l=2*t,c=l*r,d=c,u=r,h=e,f=t+e,p=r;n>p;++p,c+=l){var m=i[c+h],g=i[c+f];if(!(m>=a||s>=g))if(u===p)u+=1,d+=l;else{for(var b=0;l>b;++b){var v=i[c+b];i[c+b]=i[d],i[d++]=v}var y=o[p];o[p]=o[u],o[u++]=y}}return u}}},8107:function(t){t.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}},8116:function(t,e,r){"use strict";var n=r(7518),i=r(870);function o(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}t.exports=function(t,e,r,a){var s,l=t.createVertexArray?new o(t):t.getExtension("OES_vertex_array_object");return(s=l?n(t,l):i(t)).update(e,r,a),s}},8192:function(t,e,r){t.exports=function(t,e){var r=n(t[0],t[1],t[2]),a=n(e[0],e[1],e[2]);i(r,r),i(a,a);var s=o(r,a);return s>1?0:Math.acos(s)};var n=r(2825),i=r(3536),o=r(244)},8210:function(t){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);return i?[i,r]:[r]}(t[0],e[0]);var i,o,a=new Array(r+n),s=0,l=0,c=0,d=Math.abs,u=t[l],h=d(u),f=e[c],p=d(f);h<p?(o=u,(l+=1)<r&&(h=d(u=t[l]))):(o=f,(c+=1)<n&&(p=d(f=e[c]))),l<r&&h<p||c>=n?(i=u,(l+=1)<r&&(h=d(u=t[l]))):(i=f,(c+=1)<n&&(p=d(f=e[c])));for(var m,g,b=i+o,v=b-i,y=o-v,x=y,w=b;l<r&&c<n;)h<p?(i=u,(l+=1)<r&&(h=d(u=t[l]))):(i=f,(c+=1)<n&&(p=d(f=e[c]))),(y=(o=x)-(v=(b=i+o)-i))&&(a[s++]=y),x=w-((m=w+b)-(g=m-w))+(b-g),w=m;for(;l<r;)(y=(o=x)-(v=(b=(i=u)+o)-i))&&(a[s++]=y),x=w-((m=w+b)-(g=m-w))+(b-g),w=m,(l+=1)<r&&(u=t[l]);for(;c<n;)(y=(o=x)-(v=(b=(i=f)+o)-i))&&(a[s++]=y),x=w-((m=w+b)-(g=m-w))+(b-g),w=m,(c+=1)<n&&(f=e[c]);return x&&(a[s++]=x),w&&(a[s++]=w),s||(a[s++]=0),a.length=s,a}},8277:function(t){"use strict";t.exports=function(t){var e={};return function(r,n){var i=r.dtype,o=r.order,a=[i,o.join()].join(),s=e[a];return s||(e[a]=s=t([i,o])),s(r.shape.slice(0),r.data,r.stride,0|r.offset,n)}}(function(){return function(t,e,r,n,i){var o=t[0],a=t[1],s=t[2],l=r[0],c=r[1],d=r[2],u=[0,0,0];n|=0;var h=0,f=0,p=0,m=d,g=c-s*d,b=l-a*c;for(p=0;p<o;++p){for(f=0;f<a;++f){for(h=0;h<s;++h){var v,y=i;for(v=0;v<u.length-1;++v)y=y[u[v]];e[n]=y[u[u.length-1]],n+=m,++u[2]}n+=g,u[2]-=s,++u[1]}n+=b,u[1]-=a,++u[0]}}}.bind(void 0,{funcName:"convert"}))},8284:function(t){t.exports=function(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}},8406:function(t,e){e.vertexNormals=function(t,e,r){for(var n=e.length,i=new Array(n),o=void 0===r?1e-6:r,a=0;a<n;++a)i[a]=[0,0,0];for(a=0;a<t.length;++a)for(var s=t[a],l=0,c=s[s.length-1],d=s[0],u=0;u<s.length;++u){l=c,c=d,d=s[(u+1)%s.length];for(var h=e[l],f=e[c],p=e[d],m=new Array(3),g=0,b=new Array(3),v=0,y=0;y<3;++y)m[y]=h[y]-f[y],g+=m[y]*m[y],b[y]=p[y]-f[y],v+=b[y]*b[y];if(g*v>o){var x=i[c],w=1/Math.sqrt(g*v);for(y=0;y<3;++y){var _=(y+1)%3,k=(y+2)%3;x[y]+=w*(b[_]*m[k]-b[k]*m[_])}}}for(a=0;a<n;++a){x=i[a];var A=0;for(y=0;y<3;++y)A+=x[y]*x[y];if(A>o)for(w=1/Math.sqrt(A),y=0;y<3;++y)x[y]*=w;else for(y=0;y<3;++y)x[y]=0}return i},e.faceNormals=function(t,e,r){for(var n=t.length,i=new Array(n),o=void 0===r?1e-6:r,a=0;a<n;++a){for(var s=t[a],l=new Array(3),c=0;c<3;++c)l[c]=e[s[c]];var d=new Array(3),u=new Array(3);for(c=0;c<3;++c)d[c]=l[1][c]-l[0][c],u[c]=l[2][c]-l[0][c];var h=new Array(3),f=0;for(c=0;c<3;++c){var p=(c+1)%3,m=(c+2)%3;h[c]=d[p]*u[m]-d[m]*u[p],f+=h[c]*h[c]}for(f=f>o?1/Math.sqrt(f):0,c=0;c<3;++c)h[c]*=f;i[a]=h}return i}},8418:function(t,e,r){"use strict";var n=r(5219),i=r(2762),o=r(8116),a=r(1888),s=r(6760),l=r(1283),c=r(9366),d=r(5964),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h=ArrayBuffer,f=DataView;function p(t){return Array.isArray(t)||function(t){return h.isView(t)&&!(t instanceof f)}(t)}function m(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];return t[0]=e[0]*r+e[4]*n+e[8]*i+e[12]*o,t[1]=e[1]*r+e[5]*n+e[9]*i+e[13]*o,t[2]=e[2]*r+e[6]*n+e[10]*i+e[14]*o,t[3]=e[3]*r+e[7]*n+e[11]*i+e[15]*o,t}function g(t,e,r,n){return m(n,n),m(n,n),m(n,n)}function b(t,e){this.index=t,this.dataCoordinate=this.position=e}function v(t){return!0===t||t>1?1:t}function y(t,e,r,n,i,o,a,s,l,c,d,u){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=r,this.projectShader=n,this.pointBuffer=i,this.colorBuffer=o,this.glyphBuffer=a,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=d,this.pickProjectShader=u,this.points=[],this._selectResult=new b(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}t.exports=function(t){var e=t.gl,r=l.createPerspective(e),n=l.createOrtho(e),a=l.createProject(e),s=l.createPickPerspective(e),c=l.createPickOrtho(e),d=l.createPickProject(e),u=i(e),h=i(e),f=i(e),p=i(e),m=new y(e,r,n,a,u,h,f,p,o(e,[{buffer:u,size:3,type:e.FLOAT},{buffer:h,size:4,type:e.FLOAT},{buffer:f,size:2,type:e.FLOAT},{buffer:p,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),s,c,d);return m.update(t),m};var x=y.prototype;x.pickSlots=1,x.setPickBase=function(t){this.pickId=t},x.isTransparent=function(){if(this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&this.projectHasAlpha)return!0;return!1},x.isOpaque=function(){if(!this.hasAlpha)return!0;for(var t=0;t<3;++t)if(this.axesProject[t]&&!this.projectHasAlpha)return!0;return!1};var w=[0,0],_=[0,0,0],k=[0,0,0],A=[0,0,0,1],T=[0,0,0,1],M=u.slice(),S=[0,0,0],E=[[0,0,0],[0,0,0]];function C(t){return t[0]=t[1]=t[2]=0,t}function z(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function L(t,e,r,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[r]=n,t}var O=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function D(t,e,r,n,i,o,a){var l=r.gl;if((o===r.projectHasAlpha||a)&&function(t,e,r,n){var i,o=e.axesProject,a=e.gl,l=t.uniforms,c=r.model||u,d=r.view||u,h=r.projection||u,f=e.axesBounds,p=function(t){for(var e=E,r=0;r<2;++r)for(var n=0;n<3;++n)e[r][n]=Math.max(Math.min(t[r][n],1e8),-1e8);return e}(e.clipBounds);i=e.axes&&e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1],w[0]=2/a.drawingBufferWidth,w[1]=2/a.drawingBufferHeight,t.bind(),l.view=d,l.projection=h,l.screenSize=w,l.highlightId=e.highlightId,l.highlightScale=e.highlightScale,l.clipBounds=p,l.pickGroup=e.pickId/255,l.pixelRatio=n;for(var m=0;m<3;++m)if(o[m]){l.scale=e.projectScale[m],l.opacity=e.projectOpacity[m];for(var b=M,v=0;v<16;++v)b[v]=0;for(v=0;v<4;++v)b[5*v]=1;b[5*m]=0,i[m]<0?b[12+m]=f[0][m]:b[12+m]=f[1][m],s(b,c,b),l.model=b;var y=(m+1)%3,x=(m+2)%3,O=C(_),D=C(k);O[y]=1,D[x]=1;var I=g(0,0,0,z(A,O)),F=g(0,0,0,z(T,D));if(Math.abs(I[1])>Math.abs(F[1])){var R=I;I=F,F=R,R=O,O=D,D=R;var P=y;y=x,x=P}I[0]<0&&(O[y]=-1),F[1]>0&&(D[x]=-1);var j=0,N=0;for(v=0;v<4;++v)j+=Math.pow(c[4*y+v],2),N+=Math.pow(c[4*x+v],2);O[y]/=Math.sqrt(j),D[x]/=Math.sqrt(N),l.axes[0]=O,l.axes[1]=D,l.fragClipBounds[0]=L(S,p[0],m,-1e8),l.fragClipBounds[1]=L(S,p[1],m,1e8),e.vao.bind(),e.vao.draw(a.TRIANGLES,e.vertexCount),e.lineWidth>0&&(a.lineWidth(e.lineWidth*n),e.vao.draw(a.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}(e,r,n,i),o===r.hasAlpha||a){t.bind();var c=t.uniforms;c.model=n.model||u,c.view=n.view||u,c.projection=n.projection||u,w[0]=2/l.drawingBufferWidth,w[1]=2/l.drawingBufferHeight,c.screenSize=w,c.highlightId=r.highlightId,c.highlightScale=r.highlightScale,c.fragClipBounds=O,c.clipBounds=r.axes.bounds,c.opacity=r.opacity,c.pickGroup=r.pickId/255,c.pixelRatio=i,r.vao.bind(),r.vao.draw(l.TRIANGLES,r.vertexCount),r.lineWidth>0&&(l.lineWidth(r.lineWidth*i),r.vao.draw(l.LINES,r.lineVertexCount,r.vertexCount)),r.vao.unbind()}}function I(t,e,r,i){var o;o=p(t)?e<t.length?t[e]:void 0:t,o=d(o);var a=!0;n(o)&&(o="",a=!1),r||(r={});var s=r.family;p(s)&&(s=s[e]),s||(s="normal");var l=r.weight;p(l)&&(l=l[e]),l||(l="normal");var u=r.style;p(u)&&(u=u[e]),u||(u="normal");var h=r.variant;p(h)&&(h=h[e]),h||(h="normal");var f=c(o,{family:s,weight:l,style:u,variant:h},i);return{mesh:(f=c(o,r,i))[0],lines:f[1],bounds:f[2],visible:a}}x.draw=function(t){D(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},x.drawTransparent=function(t){D(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},x.drawPick=function(t){D(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},x.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]<<8)+(t.value[0]<<16);if(e>=this.pointCount||e<0)return null;var r=this.points[e],n=this._selectResult;n.index=e;for(var i=0;i<3;++i)n.position[i]=n.dataCoordinate[i]=r[i];return n},x.highlight=function(t){if(t){var e=t.index,r=255&e,n=e>>8&255,i=e>>16&255;this.highlightId=[r/255,n/255,i/255,0]}else this.highlightId=[1,1,1,1]},x.update=function(t){if("perspective"in(t=t||{})&&(this.useOrtho=!t.perspective),"orthographic"in t&&(this.useOrtho=!!t.orthographic),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"project"in t)if(p(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if("projectScale"in t)if(p(t.projectScale))this.projectScale=t.projectScale.slice();else{var r=+t.projectScale;this.projectScale=[r,r,r]}if(this.projectHasAlpha=!1,"projectOpacity"in t){p(t.projectOpacity)?this.projectOpacity=t.projectOpacity.slice():(r=+t.projectOpacity,this.projectOpacity=[r,r,r]);for(var n=0;n<3;++n)this.projectOpacity[n]=v(this.projectOpacity[n]),this.projectOpacity[n]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in t&&(this.opacity=v(t.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i,o,s=t.position,l={family:t.font||"normal",style:t.fontStyle||"normal",weight:t.fontWeight||"normal",variant:t.fontVariant||"normal"},c=t.alignment||[0,0];if(2===c.length)i=c[0],o=c[1];else for(i=[],o=[],n=0;n<c.length;++n)i[n]=c[n][0],o[n]=c[n][1];var d=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0],h=t.glyph,f=t.color,m=t.size,g=t.angle,b=t.lineColor,y=-1,x=0,w=0,_=0;if(s.length){_=s.length;t:for(n=0;n<_;++n){for(var k=s[n],A=0;A<3;++A)if(isNaN(k[A])||!isFinite(k[A]))continue t;var T=(B=I(h,n,l,this.pixelRatio)).mesh,M=B.lines,S=B.bounds;x+=3*T.cells.length,w+=2*M.edges.length}}var E=x+w,C=a.mallocFloat(3*E),z=a.mallocFloat(4*E),L=a.mallocFloat(2*E),O=a.mallocUint32(E);if(E>0){var D=0,F=x,R=[0,0,0,1],P=[0,0,0,1],j=p(f)&&p(f[0]),N=p(b)&&p(b[0]);t:for(n=0;n<_;++n){for(y+=1,k=s[n],A=0;A<3;++A){if(isNaN(k[A])||!isFinite(k[A]))continue t;u[A]=Math.max(u[A],k[A]),d[A]=Math.min(d[A],k[A])}T=(B=I(h,n,l,this.pixelRatio)).mesh,M=B.lines,S=B.bounds;var B,U=B.visible;if(U)if(p(f)){if(3===(V=j?n<f.length?f[n]:[0,0,0,0]:f).length){for(A=0;A<3;++A)R[A]=V[A];R[3]=1}else if(4===V.length){for(A=0;A<4;++A)R[A]=V[A];!this.hasAlpha&&V[3]<1&&(this.hasAlpha=!0)}}else R[0]=R[1]=R[2]=0,R[3]=1;else R=[1,1,1,0];if(U)if(p(b)){var V;if(3===(V=N?n<b.length?b[n]:[0,0,0,0]:b).length){for(A=0;A<3;++A)P[A]=V[A];P[A]=1}else if(4===V.length){for(A=0;A<4;++A)P[A]=V[A];!this.hasAlpha&&V[3]<1&&(this.hasAlpha=!0)}}else P[0]=P[1]=P[2]=0,P[3]=1;else P=[1,1,1,0];var G=.5;U?p(m)?G=n<m.length?+m[n]:12:m?G=+m:this.useOrtho&&(G=12):G=0;var H=0;p(g)?H=n<g.length?+g[n]:0:g&&(H=+g);var W=Math.cos(H),q=Math.sin(H);for(k=s[n],A=0;A<3;++A)u[A]=Math.max(u[A],k[A]),d[A]=Math.min(d[A],k[A]);var $=i,Y=o;$=0,p(i)?$=n<i.length?i[n]:0:i&&($=i),Y=0,p(o)?Y=n<o.length?o[n]:0:o&&(Y=o);var Z=[$*=$>0?1-S[0][0]:$<0?1+S[1][0]:1,Y*=Y>0?1-S[0][1]:Y<0?1+S[1][1]:1],X=T.cells||[],J=T.positions||[];for(A=0;A<X.length;++A)for(var Q=X[A],K=0;K<3;++K){for(var tt=0;tt<3;++tt)C[3*D+tt]=k[tt];for(tt=0;tt<4;++tt)z[4*D+tt]=R[tt];O[D]=y;var et=J[Q[K]];L[2*D]=G*(W*et[0]-q*et[1]+Z[0]),L[2*D+1]=G*(q*et[0]+W*et[1]+Z[1]),D+=1}for(X=M.edges,J=M.positions,A=0;A<X.length;++A)for(Q=X[A],K=0;K<2;++K){for(tt=0;tt<3;++tt)C[3*F+tt]=k[tt];for(tt=0;tt<4;++tt)z[4*F+tt]=P[tt];O[F]=y,et=J[Q[K]],L[2*F]=G*(W*et[0]-q*et[1]+Z[0]),L[2*F+1]=G*(q*et[0]+W*et[1]+Z[1]),F+=1}}}this.bounds=[d,u],this.points=s,this.pointCount=s.length,this.vertexCount=x,this.lineVertexCount=w,this.pointBuffer.update(C),this.colorBuffer.update(z),this.glyphBuffer.update(L),this.idBuffer.update(O),a.free(C),a.free(z),a.free(L),a.free(O)},x.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},8489:function(t){t.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}},8507:function(t){t.exports=function(t,n){var i=t.length,o=t.length-n.length;if(o)return o;switch(i){case 0:return 0;case 1:return t[0]-n[0];case 2:return t[0]+t[1]-n[0]-n[1]||e(t[0],t[1])-e(n[0],n[1]);case 3:var a=t[0]+t[1],s=n[0]+n[1];if(o=a+t[2]-(s+n[2]))return o;var l=e(t[0],t[1]),c=e(n[0],n[1]);return e(l,t[2])-e(c,n[2])||e(l+t[2],a)-e(c+n[2],s);case 4:var d=t[0],u=t[1],h=t[2],f=t[3],p=n[0],m=n[1],g=n[2],b=n[3];return d+u+h+f-(p+m+g+b)||e(d,u,h,f)-e(p,m,g,b,p)||e(d+u,d+h,d+f,u+h,u+f,h+f)-e(p+m,p+g,p+b,m+g,m+b,g+b)||e(d+u+h,d+u+f,d+h+f,u+h+f)-e(p+m+g,p+m+b,p+g+b,m+g+b);default:for(var v=t.slice().sort(r),y=n.slice().sort(r),x=0;x<i;++x)if(o=v[x]-y[x])return o;return 0}};var e=Math.min;function r(t,e){return t-e}},8512:function(t,e,r){"use strict";var n=r(665);t.exports=function(t,e,r){"function"==typeof t&&(r=!!e,e=t,t=window);var i=n("ex",t),o=function(t){r&&t.preventDefault();var n=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0,s=1;switch(t.deltaMode){case 1:s=i;break;case 2:s=window.innerHeight}if(o*=s,a*=s,(n*=s)||o||a)return e(n,o,a,t)};return t.addEventListener("wheel",o),o}},8545:function(t){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);return i?[i,r]:[r]}(t[0],-e[0]);var i,o,a=new Array(r+n),s=0,l=0,c=0,d=Math.abs,u=t[l],h=d(u),f=-e[c],p=d(f);h<p?(o=u,(l+=1)<r&&(h=d(u=t[l]))):(o=f,(c+=1)<n&&(p=d(f=-e[c]))),l<r&&h<p||c>=n?(i=u,(l+=1)<r&&(h=d(u=t[l]))):(i=f,(c+=1)<n&&(p=d(f=-e[c])));for(var m,g,b=i+o,v=b-i,y=o-v,x=y,w=b;l<r&&c<n;)h<p?(i=u,(l+=1)<r&&(h=d(u=t[l]))):(i=f,(c+=1)<n&&(p=d(f=-e[c]))),(y=(o=x)-(v=(b=i+o)-i))&&(a[s++]=y),x=w-((m=w+b)-(g=m-w))+(b-g),w=m;for(;l<r;)(y=(o=x)-(v=(b=(i=u)+o)-i))&&(a[s++]=y),x=w-((m=w+b)-(g=m-w))+(b-g),w=m,(l+=1)<r&&(u=t[l]);for(;c<n;)(y=(o=x)-(v=(b=(i=f)+o)-i))&&(a[s++]=y),x=w-((m=w+b)-(g=m-w))+(b-g),w=m,(c+=1)<n&&(f=-e[c]);return x&&(a[s++]=x),w&&(a[s++]=w),s||(a[s++]=0),a.length=s,a}},8572:function(t){"use strict";t.exports=function(t){return t<0?-1:t>0?1:0}},8648:function(t,e,r){t.exports=r(783)},8692:function(t){t.exports=function(t,e,r,n){var i=r[0],o=r[1],a=e[0]-i,s=e[1]-o,l=Math.sin(n),c=Math.cos(n);return t[0]=i+a*c-s*l,t[1]=o+a*l+s*c,t[2]=e[2],t}},8697:function(t,e,r){"use strict";var n=r(869);t.exports=function(t,e){return n(t[0].mul(e[1]),t[1].mul(e[0]))}},8731:function(t,e,r){"use strict";t.exports=function(t,e,r,i){for(var o={},a=0,c=r.length;a<c;++a){var d=r[a],u=d.name,h=d.type,f=d.locations;switch(h){case"bool":case"int":case"float":s(t,e,f[0],i,1,o,u);break;default:if(h.indexOf("vec")>=0){if((p=h.charCodeAt(h.length-1)-48)<2||p>4)throw new n("","Invalid data type for attribute "+u+": "+h);s(t,e,f[0],i,p,o,u)}else{if(!(h.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+u+": "+h);var p;if((p=h.charCodeAt(h.length-1)-48)<2||p>4)throw new n("","Invalid data type for attribute "+u+": "+h);l(t,e,f,i,p,o,u)}}}return o};var n=r(8866);function i(t,e,r,n,i,o){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=o}var o=i.prototype;o.pointer=function(t,e,r,n){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,t||o.FLOAT,!!e,r||0,n||0),o.enableVertexAttribArray(a)},o.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}});var a=[function(t,e,r){return void 0===r.length?t.vertexAttrib1f(e,r):t.vertexAttrib1fv(e,r)},function(t,e,r,n){return void 0===r.length?t.vertexAttrib2f(e,r,n):t.vertexAttrib2fv(e,r)},function(t,e,r,n,i){return void 0===r.length?t.vertexAttrib3f(e,r,n,i):t.vertexAttrib3fv(e,r)},function(t,e,r,n,i,o){return void 0===r.length?t.vertexAttrib4f(e,r,n,i,o):t.vertexAttrib4fv(e,r)}];function s(t,e,r,n,o,s,l){var c=a[o],d=new i(t,e,r,n,o,c);Object.defineProperty(s,l,{set:function(e){return t.disableVertexAttribArray(n[r]),c(t,n[r],e),e},get:function(){return d},enumerable:!0})}function l(t,e,r,n,i,o,a){for(var l=new Array(i),c=new Array(i),d=0;d<i;++d)s(t,e,r[d],n,i,l,d),c[d]=l[d];Object.defineProperty(l,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)c[e].location=t[e];else for(e=0;e<i;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=n[r[e]];return t},enumerable:!0}),l.pointer=function(e,o,a,s){e=e||t.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var l=0;l<i;++l){var c=n[r[l]];t.vertexAttribPointer(c,i,e,o,a,s+l*i),t.enableVertexAttribArray(c)}};var u=new Array(i),h=t["vertexAttrib"+i+"fv"];Object.defineProperty(o,a,{set:function(e){for(var o=0;o<i;++o){var a=n[r[o]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))h.call(t,a,e[o]);else{for(var s=0;s<i;++s)u[s]=e[i*o+s];h.call(t,a,u)}}return e},get:function(){return l},enumerable:!0})}},8828:function(t,e){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},8866:function(t){function e(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}e.prototype=new Error,e.prototype.name="GLError",e.prototype.constructor=e,t.exports=e},8902:function(t,e,r){"use strict";var n=r(2478),i=r(3250)[3];function o(t,e,r,n,i){this.a=t,this.b=e,this.idx=r,this.lowerIds=n,this.upperIds=i}function a(t,e,r,n){this.a=t,this.b=e,this.type=r,this.idx=n}function s(t,e){var r=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return r||(0!==t.type&&(r=i(t.a,t.b,e.b))?r:t.idx-e.idx)}function l(t,e){return i(t.a,t.b,e)}function c(t,e,r,o,a){for(var s=n.lt(e,o,l),c=n.gt(e,o,l),d=s;d<c;++d){for(var u=e[d],h=u.lowerIds,f=h.length;f>1&&i(r[h[f-2]],r[h[f-1]],o)>0;)t.push([h[f-1],h[f-2],a]),f-=1;h.length=f,h.push(a);var p=u.upperIds;for(f=p.length;f>1&&i(r[p[f-2]],r[p[f-1]],o)<0;)t.push([p[f-2],p[f-1],a]),f-=1;p.length=f,p.push(a)}}function d(t,e){var r;return(r=t.a[0]<e.a[0]?i(t.a,t.b,e.a):i(e.b,e.a,t.a))?r:(r=e.b[0]<t.b[0]?i(t.a,t.b,e.b):i(e.b,e.a,t.b))||t.idx-e.idx}function u(t,e,r){var i=n.le(t,r,d),a=t[i],s=a.upperIds,l=s[s.length-1];a.upperIds=[l],t.splice(i+1,0,new o(r.a,r.b,r.idx,[l],s))}function h(t,e,r){var i=r.a;r.a=r.b,r.b=i;var o=n.eq(t,r,d),a=t[o];t[o-1].upperIds=a.upperIds,t.splice(o,1)}t.exports=function(t,e){for(var r=t.length,n=e.length,i=[],l=0;l<r;++l)i.push(new a(t[l],null,0,l));for(l=0;l<n;++l){var d=e[l],f=t[d[0]],p=t[d[1]];f[0]<p[0]?i.push(new a(f,p,2,l),new a(p,f,1,l)):f[0]>p[0]&&i.push(new a(p,f,2,l),new a(f,p,1,l))}i.sort(s);for(var m=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),g=[new o([m,1],[m,0],-1,[],[],[],[])],b=[],v=(l=0,i.length);l<v;++l){var y=i[l],x=y.type;0===x?c(b,g,t,y.a,y.idx):2===x?u(g,0,y):h(g,0,y)}return b}},8954:function(t,e,r){"use strict";t.exports=function(t,e){var r=t.length;if(0===r)throw new Error("Must have at least d+1 points");var i=t[0].length;if(r<=i)throw new Error("Must input at least d+1 points");var a=t.slice(0,i+1),s=n.apply(void 0,a);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),d=0;d<=i;++d)l[d]=d;s<0&&(l[0]=1,l[1]=0);var u=new o(l,new Array(i+1),!1),h=u.adjacent,f=new Array(i+2);for(d=0;d<=i;++d){for(var p=l.slice(),m=0;m<=i;++m)m===d&&(p[m]=-1);var g=p[0];p[0]=p[1],p[1]=g;var b=new o(p,new Array(i+1),!0);h[d]=b,f[d]=b}for(f[i+1]=u,d=0;d<=i;++d){p=h[d].vertices;var v=h[d].adjacent;for(m=0;m<=i;++m){var y=p[m];if(y<0)v[m]=u;else for(var x=0;x<=i;++x)h[x].vertices.indexOf(y)<0&&(v[m]=h[x])}}var w=new c(i,a,f),_=!!e;for(d=i+1;d<r;++d)w.insert(t[d],_);return w.boundary()};var n=r(3250),i=r(6803).Fw;function o(t,e,r){this.vertices=t,this.adjacent=e,this.boundary=r,this.lastVisited=-1}function a(t,e,r){this.vertices=t,this.cell=e,this.index=r}function s(t,e){return i(t.vertices,e.vertices)}o.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var l=[];function c(t,e,r){this.dimension=t,this.vertices=e,this.simplices=r,this.interior=r.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var i=0;i<=t;++i)this.tuple[i]=this.vertices[i];var o,a=l[t];a||(a=l[t]=((o=n[t+1])||(o=n),function(t){return function(){var e=this.tuple;return t.apply(this,e)}}(o))),this.orient=a}var d=c.prototype;d.handleBoundaryDegeneracy=function(t,e){var r=this.dimension,n=this.vertices.length-1,i=this.tuple,o=this.vertices,a=[t];for(t.lastVisited=-n;a.length>0;)for(var s=(t=a.pop()).adjacent,l=0;l<=r;++l){var c=s[l];if(c.boundary&&!(c.lastVisited<=-n)){for(var d=c.vertices,u=0;u<=r;++u){var h=d[u];i[u]=h<0?e:o[h]}var f=this.orient();if(f>0)return c;c.lastVisited=-n,0===f&&a.push(c)}}return null},d.walk=function(t,e){var r=this.vertices.length-1,n=this.dimension,i=this.vertices,o=this.tuple,a=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];t:for(;!s.boundary;){for(var l=s.vertices,c=s.adjacent,d=0;d<=n;++d)o[d]=i[l[d]];for(s.lastVisited=r,d=0;d<=n;++d){var u=c[d];if(!(u.lastVisited>=r)){var h=o[d];o[d]=t;var f=this.orient();if(o[d]=h,f<0){s=u;continue t}u.boundary?u.lastVisited=-r:u.lastVisited=r}}return}return s},d.addPeaks=function(t,e){var r=this.vertices.length-1,n=this.dimension,i=this.vertices,l=this.tuple,c=this.interior,d=this.simplices,u=[e];e.lastVisited=r,e.vertices[e.vertices.indexOf(-1)]=r,e.boundary=!1,c.push(e);for(var h=[];u.length>0;){var f=(e=u.pop()).vertices,p=e.adjacent,m=f.indexOf(r);if(!(m<0))for(var g=0;g<=n;++g)if(g!==m){var b=p[g];if(b.boundary&&!(b.lastVisited>=r)){var v=b.vertices;if(b.lastVisited!==-r){for(var y=0,x=0;x<=n;++x)v[x]<0?(y=x,l[x]=t):l[x]=i[v[x]];if(this.orient()>0){v[y]=r,b.boundary=!1,c.push(b),u.push(b),b.lastVisited=r;continue}b.lastVisited=-r}var w=b.adjacent,_=f.slice(),k=p.slice(),A=new o(_,k,!0);d.push(A);var T=w.indexOf(e);if(!(T<0))for(w[T]=A,k[m]=b,_[g]=-1,k[g]=e,p[g]=A,A.flip(),x=0;x<=n;++x){var M=_[x];if(!(M<0||M===r)){for(var S=new Array(n-1),E=0,C=0;C<=n;++C){var z=_[C];z<0||C===x||(S[E++]=z)}h.push(new a(S,A,x))}}}}}for(h.sort(s),g=0;g+1<h.length;g+=2){var L=h[g],O=h[g+1],D=L.index,I=O.index;D<0||I<0||(L.cell.adjacent[L.index]=O.cell,O.cell.adjacent[O.index]=L.cell)}},d.insert=function(t,e){var r=this.vertices;r.push(t);var n=this.walk(t,e);if(n){for(var i=this.dimension,o=this.tuple,a=0;a<=i;++a){var s=n.vertices[a];o[a]=s<0?t:r[s]}var l=this.orient(o);l<0||(0!==l||(n=this.handleBoundaryDegeneracy(n,t)))&&this.addPeaks(t,n)}},d.boundary=function(){for(var t=this.dimension,e=[],r=this.simplices,n=r.length,i=0;i<n;++i){var o=r[i];if(o.boundary){for(var a=new Array(t),s=o.vertices,l=0,c=0,d=0;d<=t;++d)s[d]>=0?a[l++]=s[d]:c=1&d;if(c===(1&t)){var u=a[0];a[0]=a[1],a[1]=u}e.push(a)}}return e}},8987:function(t,e,r){"use strict";var n=r(7842),i=r(6504);t.exports=function(t,e){for(var r=n(e),o=t.length,a=new Array(o),s=0;s<o;++s)a[s]=i(t[s],r);return a}},9060:function(t,e,r){"use strict";var n=r(9405),i=r(2762),o=r(8116),a=r(7766),s=r(6760),l=r(7608),c=r(9618),d=r(6729),u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(t,e,r,n,i,o,a,s,l,c,d){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=r,this.pickShader=n,this.trianglePositions=i,this.triangleVectors=o,this.triangleColors=s,this.triangleUVs=l,this.triangleIds=a,this.triangleVAO=c,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=d,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=u,this._view=u,this._projection=u,this._resolution=[1,1]}var f=h.prototype;f.isOpaque=function(){return this.opacity>=1},f.isTransparent=function(){return this.opacity<1},f.pickSlots=1,f.setPickBase=function(t){this.pickId=t},f.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,"lightPosition"in t&&(this.lightPosition=t.lightPosition),"opacity"in t&&(this.opacity=t.opacity),"ambient"in t&&(this.ambientLight=t.ambient),"diffuse"in t&&(this.diffuseLight=t.diffuse),"specular"in t&&(this.specularLight=t.specular),"roughness"in t&&(this.roughness=t.roughness),"fresnel"in t&&(this.fresnel=t.fresnel),void 0!==t.tubeScale&&(this.tubeScale=t.tubeScale),void 0!==t.vectorScale&&(this.vectorScale=t.vectorScale),void 0!==t.coneScale&&(this.coneScale=t.coneScale),void 0!==t.coneOffset&&(this.coneOffset=t.coneOffset),t.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t){for(var e=d({colormap:t,nshades:256,format:"rgba"}),r=new Uint8Array(1024),n=0;n<256;++n){for(var i=e[n],o=0;o<3;++o)r[4*n+o]=i[o];r[4*n+3]=255*i[3]}return c(r,[256,256,4],[4,0,1])}(t.colormap)),this.texture.generateMipmap());var r=t.cells,n=t.positions,i=t.vectors;if(n&&r&&i){var o=[],a=[],s=[],l=[],u=[];this.cells=r,this.positions=n,this.vectors=i;var h=t.meshColor||[1,1,1,1],f=t.vertexIntensity,p=1/0,m=-1/0;if(f)if(t.vertexIntensityBounds)p=+t.vertexIntensityBounds[0],m=+t.vertexIntensityBounds[1];else for(var g=0;g<f.length;++g){var b=f[g];p=Math.min(p,b),m=Math.max(m,b)}else for(g=0;g<n.length;++g)b=n[g][2],p=Math.min(p,b),m=Math.max(m,b);for(this.intensity=f||function(t){for(var e=t.length,r=new Array(e),n=0;n<e;++n)r[n]=t[n][2];return r}(n),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],g=0;g<n.length;++g)for(var v=n[g],y=0;y<3;++y)!isNaN(v[y])&&isFinite(v[y])&&(this.bounds[0][y]=Math.min(this.bounds[0][y],v[y]),this.bounds[1][y]=Math.max(this.bounds[1][y],v[y]));var x=0;t:for(g=0;g<r.length;++g){var w=r[g];if(3===w.length){for(y=0;y<3;++y){v=n[k=w[y]];for(var _=0;_<3;++_)if(isNaN(v[_])||!isFinite(v[_]))continue t}for(y=0;y<3;++y){var k;v=n[k=w[2-y]],o.push(v[0],v[1],v[2],v[3]);var A=i[k];a.push(A[0],A[1],A[2],A[3]||0);var T,M=h;3===M.length?s.push(M[0],M[1],M[2],1):s.push(M[0],M[1],M[2],M[3]),T=f?[(f[k]-p)/(m-p),0]:[(v[2]-p)/(m-p),0],l.push(T[0],T[1]),u.push(g)}x+=1}}this.triangleCount=x,this.trianglePositions.update(o),this.triangleVectors.update(a),this.triangleColors.update(s),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(u))}},f.drawTransparent=f.draw=function(t){t=t||{};for(var e=this.gl,r=t.model||u,n=t.view||u,i=t.projection||u,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var c={model:r,view:n,projection:i,inverseModel:u.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};c.inverseModel=l(c.inverseModel,c.model),e.disable(e.CULL_FACE),this.texture.bind(0);var d=new Array(16);for(s(d,c.view,c.model),s(d,c.projection,d),l(d,d),a=0;a<3;++a)c.eyePosition[a]=d[12+a]/d[15];var h=d[15];for(a=0;a<3;++a)h+=this.lightPosition[a]*d[4*a+3];for(a=0;a<3;++a){for(var f=d[12+a],p=0;p<3;++p)f+=d[4*p+a]*this.lightPosition[p];c.lightPosition[a]=f/h}if(this.triangleCount>0){var m=this.triShader;m.bind(),m.uniforms=c,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},f.drawPick=function(t){t=t||{};for(var e=this.gl,r=t.model||u,n=t.view||u,i=t.projection||u,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(r),this._view=[].slice.call(n),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s={model:r,view:n,projection:i,clipBounds:o,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},f.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[0]+256*t.value[1]+65536*t.value[2],r=this.cells[e],n=this.positions[r[1]].slice(0,3),i={position:n,dataCoordinate:n,index:Math.floor(r[1]/48)};return"cone"===this.traceType?i.index=Math.floor(r[1]/48):"streamtube"===this.traceType&&(i.intensity=this.intensity[r[1]],i.velocity=this.vectors[r[1]].slice(0,3),i.divergence=this.vectors[r[1]][3],i.index=e),i},f.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},t.exports=function(t,e,r){var s=r.shaders;1===arguments.length&&(t=(e=t).gl);var l=function(t,e){var r=n(t,e.meshShader.vertex,e.meshShader.fragment,null,e.meshShader.attributes);return r.attributes.position.location=0,r.attributes.color.location=2,r.attributes.uv.location=3,r.attributes.vector.location=4,r}(t,s),d=function(t,e){var r=n(t,e.pickShader.vertex,e.pickShader.fragment,null,e.pickShader.attributes);return r.attributes.position.location=0,r.attributes.id.location=1,r.attributes.vector.location=4,r}(t,s),u=a(t,c(new Uint8Array([255,255,255,255]),[1,1,4]));u.generateMipmap(),u.minFilter=t.LINEAR_MIPMAP_LINEAR,u.magFilter=t.LINEAR;var f=i(t),p=i(t),m=i(t),g=i(t),b=i(t),v=new h(t,u,l,d,f,p,b,m,g,o(t,[{buffer:f,type:t.FLOAT,size:4},{buffer:b,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:t.FLOAT,size:4},{buffer:g,type:t.FLOAT,size:2},{buffer:p,type:t.FLOAT,size:4}]),r.traceType||"cone");return v.update(e),v}},9127:function(t,e,r){"use strict";t.exports=function(t){return i(n(t))};var n=r(6204),i=r(5771)},9131:function(t,e,r){var n=r(5177),i=r(9288);t.exports=function(t,e){return e=e||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),n(t,t),i(t,t,e),t}},9165:function(t,e,r){"use strict";t.exports=function(t){var e=t.gl,r=n(e),a=i(e,[{buffer:r,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:r,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:r,type:e.FLOAT,size:3,offset:28,stride:40}]),l=o(e);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var c=new s(e,r,a,l);return c.update(t),c};var n=r(2762),i=r(8116),o=r(3436),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,r,n){this.gl=t,this.shader=n,this.buffer=e,this.vao=r,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;function c(t,e){for(var r=0;r<3;++r)t[0][r]=Math.min(t[0][r],e[r]),t[1][r]=Math.max(t[1][r],e[r])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(t){var e=this.gl,r=this.shader.uniforms;this.shader.bind();var n=r.view=t.view||a,i=r.projection=t.projection||a;r.model=t.model||a,r.clipBounds=this.clipBounds,r.opacity=this.opacity;var o=n[12],s=n[13],l=n[14],c=n[15],d=(t._ortho?2:1)*this.pixelRatio*(i[3]*o+i[7]*s+i[11]*l+i[15]*c)/e.drawingBufferHeight;this.vao.bind();for(var u=0;u<3;++u)e.lineWidth(this.lineWidth[u]*this.pixelRatio),r.capSize=this.capSize[u]*d,this.lineCount[u]&&e.drawArrays(e.LINES,this.lineOffset[u],this.lineCount[u]);this.vao.unbind()};var d=function(){for(var t=new Array(3),e=0;e<3;++e){for(var r=[],n=1;n<=2;++n)for(var i=-1;i<=1;i+=2){var o=[0,0,0];o[(n+e)%3]=i,r.push(o)}t[e]=r}return t}();function u(t,e,r,n){for(var i=d[n],o=0;o<i.length;++o){var a=i[o];t.push(e[0],e[1],e[2],r[0],r[1],r[2],r[3],a[0],a[1],a[2])}return i.length}l.update=function(t){"lineWidth"in(t=t||{})&&(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in t&&(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in t&&(this.opacity=+t.opacity,this.opacity<1&&(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],r=t.position,n=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),r&&n){var i=[],o=r.length,a=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=a;t:for(var l=0;l<o;++l){for(var d=r[l],h=0;h<3;++h)if(isNaN(d[h])||!isFinite(d[h]))continue t;var f,p=n[l],m=e[s];if(Array.isArray(m[0])&&(m=e[l]),3===m.length?m=[m[0],m[1],m[2],1]:4===m.length&&(m=[m[0],m[1],m[2],m[3]],!this.hasAlpha&&m[3]<1&&(this.hasAlpha=!0)),!isNaN(p[0][s])&&!isNaN(p[1][s]))p[0][s]<0&&((f=d.slice())[s]+=p[0][s],i.push(d[0],d[1],d[2],m[0],m[1],m[2],m[3],0,0,0,f[0],f[1],f[2],m[0],m[1],m[2],m[3],0,0,0),c(this.bounds,f),a+=2+u(i,f,m,s)),p[1][s]>0&&((f=d.slice())[s]+=p[1][s],i.push(d[0],d[1],d[2],m[0],m[1],m[2],m[3],0,0,0,f[0],f[1],f[2],m[0],m[1],m[2],m[3],0,0,0),c(this.bounds,f),a+=2+u(i,f,m,s))}this.lineCount[s]=a-this.lineOffset[s]}this.buffer.update(i)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},9215:function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return"number"==typeof t?new a(n=l(t),n,0):new a(t,l(t.length),0);case 2:var n;if("number"==typeof e)return new a(t,n=l(t.length),+e);r=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new a(t,e,r)}};var n=r(4769),i=r(2478);function o(t,e,r){return Math.min(e,Math.max(t,r))}function a(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n<this.dimension;++n)this.bounds[0][n]=-1/0,this.bounds[1][n]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=a.prototype;function l(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=0;return e}s.flush=function(t){var e=i.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,r=e.length,a=i.le(e,t),s=this._scratch[0],l=this._state,c=this._velocity,d=this.dimension,u=this.bounds;if(a<0)for(var h=d-1,f=0;f<d;++f,--h)s[f]=l[h];else if(a>=r-1){h=l.length-1;var p=t-e[r-1];for(f=0;f<d;++f,--h)s[f]=l[h]+p*c[h]}else{h=d*(a+1)-1;var m=e[a],g=e[a+1]-m||1,b=this._scratch[1],v=this._scratch[2],y=this._scratch[3],x=this._scratch[4],w=!0;for(f=0;f<d;++f,--h)b[f]=l[h],y[f]=c[h]*g,v[f]=l[h+d],x[f]=c[h+d]*g,w=w&&b[f]===v[f]&&y[f]===x[f]&&0===y[f];if(w)for(f=0;f<d;++f)s[f]=b[f];else n(b,y,v,x,(t-m)/g,s)}var _=u[0],k=u[1];for(f=0;f<d;++f)s[f]=o(_[f],k[f],s[f]);return s},s.dcurve=function(t){var e=this._time,r=e.length,o=i.le(e,t),a=this._scratch[0],s=this._state,l=this._velocity,c=this.dimension;if(o>=r-1)for(var d=s.length-1,u=(e[r-1],0);u<c;++u,--d)a[u]=l[d];else{d=c*(o+1)-1;var h=e[o],f=e[o+1]-h||1,p=this._scratch[1],m=this._scratch[2],g=this._scratch[3],b=this._scratch[4],v=!0;for(u=0;u<c;++u,--d)p[u]=s[d],g[u]=l[d]*f,m[u]=s[d+c],b[u]=l[d+c]*f,v=v&&p[u]===m[u]&&g[u]===b[u]&&0===g[u];if(v)for(u=0;u<c;++u)a[u]=0;else for(n.derivative(p,g,m,b,(t-h)/f,a),u=0;u<c;++u)a[u]/=f}return a},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,r=this.dimension-1;r>=0;--r)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,i=this._velocity,a=n.length-this.dimension,s=this.bounds,l=s[0],c=s[1];this._time.push(e,t);for(var d=0;d<2;++d)for(var u=0;u<r;++u)n.push(n[a++]),i.push(0);for(this._time.push(t),u=r;u>0;--u)n.push(o(l[u-1],c[u-1],arguments[u])),i.push(0)}},s.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,i=this._velocity,a=n.length-this.dimension,s=t-e,l=this.bounds,c=l[0],d=l[1],u=s>1e-6?1/s:0;this._time.push(t);for(var h=r;h>0;--h){var f=o(c[h-1],d[h-1],arguments[h]);n.push(f),i.push((f-n[a++])*u)}}},s.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var r=this._state,n=this._velocity,i=this.bounds,a=i[0],s=i[1];this._time.push(t);for(var l=e;l>0;--l)r.push(o(a[l-1],s[l-1],arguments[l])),n.push(0)}},s.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t<=e||arguments.length!==r+1)){var n=this._state,i=this._velocity,a=n.length-this.dimension,s=this.bounds,l=s[0],c=s[1],d=t-e,u=d>1e-6?1/d:0;this._time.push(t);for(var h=r;h>0;--h){var f=arguments[h];n.push(o(l[h-1],c[h-1],n[a++]+f)),i.push(f*u)}}},s.idle=function(t){var e=this.lastT();if(!(t<e)){var r=this.dimension,n=this._state,i=this._velocity,a=n.length-r,s=this.bounds,l=s[0],c=s[1],d=t-e;this._time.push(t);for(var u=r-1;u>=0;--u)n.push(o(l[u],c[u],n[a]+d*i[a])),i.push(0),a+=1}}},9216:function(t){"use strict";t.exports=i,t.exports.isMobile=i,t.exports.default=i;var e=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,n=/android|ipad|playbook|silk/i;function i(t){t||(t={});var i=t.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;var o=e.test(i)&&!r.test(i)||!!t.tablet&&n.test(i);return!o&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(o=!0),o}},9226:function(t){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},9265:function(t){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},9288:function(t){t.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}},9346:function(t){"use strict";var e=new Float64Array(4),r=new Float64Array(4),n=new Float64Array(4);t.exports=function(t,i,o,a,s){e.length<a.length&&(e=new Float64Array(a.length),r=new Float64Array(a.length),n=new Float64Array(a.length));for(var l=0;l<a.length;++l)e[l]=t[l]-a[l],r[l]=i[l]-t[l],n[l]=o[l]-t[l];var c=0,d=0,u=0,h=0,f=0,p=0;for(l=0;l<a.length;++l){var m=r[l],g=n[l],b=e[l];c+=m*m,d+=m*g,u+=g*g,h+=b*m,f+=b*g,p+=b*b}var v,y,x,w,_,k=Math.abs(c*u-d*d),A=d*f-u*h,T=d*h-c*f;if(A+T<=k)if(A<0)T<0&&h<0?(T=0,-h>=c?(A=1,v=c+2*h+p):v=h*(A=-h/c)+p):(A=0,f>=0?(T=0,v=p):-f>=u?(T=1,v=u+2*f+p):v=f*(T=-f/u)+p);else if(T<0)T=0,h>=0?(A=0,v=p):-h>=c?(A=1,v=c+2*h+p):v=h*(A=-h/c)+p;else{var M=1/k;v=(A*=M)*(c*A+d*(T*=M)+2*h)+T*(d*A+u*T+2*f)+p}else A<0?(x=u+f)>(y=d+h)?(w=x-y)>=(_=c-2*d+u)?(A=1,T=0,v=c+2*h+p):v=(A=w/_)*(c*A+d*(T=1-A)+2*h)+T*(d*A+u*T+2*f)+p:(A=0,x<=0?(T=1,v=u+2*f+p):f>=0?(T=0,v=p):v=f*(T=-f/u)+p):T<0?(x=c+h)>(y=d+f)?(w=x-y)>=(_=c-2*d+u)?(T=1,A=0,v=u+2*f+p):v=(A=1-(T=w/_))*(c*A+d*T+2*h)+T*(d*A+u*T+2*f)+p:(T=0,x<=0?(A=1,v=c+2*h+p):h>=0?(A=0,v=p):v=h*(A=-h/c)+p):(w=u+f-d-h)<=0?(A=0,T=1,v=u+2*f+p):w>=(_=c-2*d+u)?(A=1,T=0,v=c+2*h+p):v=(A=w/_)*(c*A+d*(T=1-A)+2*h)+T*(d*A+u*T+2*f)+p;var S=1-A-T;for(l=0;l<a.length;++l)s[l]=S*t[l]+A*i[l]+T*o[l];return v<0?0:v}},9362:function(t){"use strict";t.exports=function(t,e,r){var n=t+e,i=n-t,o=e-i,a=t-(n-i);return r?(r[0]=a+o,r[1]=n,r):[a+o,n]}},9366:function(t,e,r){"use strict";var n=r(4359);t.exports=function(t,e,r){var o=[e.style,e.weight,e.variant,e.family].join("_"),a=i[o];if(a||(a=i[o]={}),t in a)return a[t];var s={textAlign:"center",textBaseline:"middle",lineHeight:1,font:e.family,fontStyle:e.style,fontWeight:e.weight,fontVariant:e.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},l=n(t,s);s.triangles=!1;var c,d,u=n(t,s);if(r&&1!==r){for(c=0;c<l.positions.length;++c)for(d=0;d<l.positions[c].length;++d)l.positions[c][d]/=r;for(c=0;c<u.positions.length;++c)for(d=0;d<u.positions[c].length;++d)u.positions[c][d]/=r}var h=[[1/0,1/0],[-1/0,-1/0]],f=u.positions.length;for(c=0;c<f;++c){var p=u.positions[c];for(d=0;d<2;++d)h[0][d]=Math.min(h[0][d],p[d]),h[1][d]=Math.max(h[1][d],p[d])}return a[t]=[l,u,h]};var i={}},9405:function(t,e,r){"use strict";var n=r(3327),i=r(8731),o=r(216),a=r(5091),s=r(2145),l=r(8866);function c(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var d=c.prototype;function u(t,e){return t.name<e.name?-1:1}d.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},d.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},d.update=function(t,e,r,c){if(!e||1===arguments.length){var d=t;t=d.vertex,e=d.fragment,r=d.uniforms,c=d.attributes}var h=this,f=h.gl,p=h._vref;h._vref=a.shader(f,f.VERTEX_SHADER,t),p&&p.dispose(),h.vertShader=h._vref.shader;var m=this._fref;if(h._fref=a.shader(f,f.FRAGMENT_SHADER,e),m&&m.dispose(),h.fragShader=h._fref.shader,!r||!c){var g=f.createProgram();if(f.attachShader(g,h.fragShader),f.attachShader(g,h.vertShader),f.linkProgram(g),!f.getProgramParameter(g,f.LINK_STATUS)){var b=f.getProgramInfoLog(g);throw new l(b,"Error linking program:"+b)}r=r||s.uniforms(f,g),c=c||s.attributes(f,g),f.deleteProgram(g)}(c=c.slice()).sort(u);var v,y=[],x=[],w=[];for(v=0;v<c.length;++v){var _=c[v];if(_.type.indexOf("mat")>=0){for(var k=0|_.type.charAt(_.type.length-1),A=new Array(k),T=0;T<k;++T)A[T]=w.length,x.push(_.name+"["+T+"]"),"number"==typeof _.location?w.push(_.location+T):Array.isArray(_.location)&&_.location.length===k&&"number"==typeof _.location[T]?w.push(0|_.location[T]):w.push(-1);y.push({name:_.name,type:_.type,locations:A})}else y.push({name:_.name,type:_.type,locations:[w.length]}),x.push(_.name),"number"==typeof _.location?w.push(0|_.location):w.push(-1)}var M=0;for(v=0;v<w.length;++v)if(w[v]<0){for(;w.indexOf(M)>=0;)M+=1;w[v]=M}var S=new Array(r.length);function E(){h.program=a.program(f,h._vref,h._fref,x,w);for(var t=0;t<r.length;++t)S[t]=f.getUniformLocation(h.program,r[t].name)}E(),h._relink=E,h.types={uniforms:o(r),attributes:o(c)},h.attributes=i(f,h,y,w),Object.defineProperty(h,"uniforms",n(f,h,r,S))},t.exports=function(t,e,r,n,i){var o=new c(t);return o.update(e,r,n,i),o}},9499:function(t,e,r){"use strict";t.exports=function(t){var e=t.gl,r=v(e),n=x(e),s=y(e),l=w(e),c=i(e),d=o(e,[{buffer:c,size:4,stride:_,offset:0},{buffer:c,size:3,stride:_,offset:16},{buffer:c,size:3,stride:_,offset:28}]),u=i(e),h=o(e,[{buffer:u,size:4,stride:20,offset:0},{buffer:u,size:1,stride:20,offset:16}]),f=i(e),p=o(e,[{buffer:f,size:2,type:e.FLOAT}]),m=a(e,1,S,e.RGBA,e.UNSIGNED_BYTE);m.minFilter=e.LINEAR,m.magFilter=e.LINEAR;var g=new E(e,[0,0],[[0,0,0],[0,0,0]],r,n,c,d,m,s,l,u,h,f,p,[0,0,0]),b={levels:[[],[],[]]};for(var k in t)b[k]=t[k];return b.colormap=b.colormap||"jet",g.update(b),g};var n=r(8828),i=r(2762),o=r(8116),a=r(7766),s=r(1888),l=r(6729),c=r(5298),d=r(9994),u=r(9618),h=r(3711),f=r(6760),p=r(7608),m=r(2478),g=r(6199),b=r(990),v=b.createShader,y=b.createContourShader,x=b.createPickShader,w=b.createPickContourShader,_=40,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],T=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function M(t,e,r,n,i){this.position=t,this.index=e,this.uv=r,this.level=n,this.dataCoordinate=i}!function(){for(var t=0;t<3;++t){var e=T[t],r=(t+2)%3;e[(t+1)%3+0]=1,e[r+3]=1,e[t+6]=1}}();var S=256;function E(t,e,r,n,i,o,a,l,c,d,h,f,p,m,g){this.gl=t,this.shape=e,this.bounds=r,this.objectOffset=g,this.intensityBounds=[],this._shader=n,this._pickShader=i,this._coordinateBuffer=o,this._vao=a,this._colorMap=l,this._contourShader=c,this._contourPickShader=d,this._contourBuffer=h,this._contourVAO=f,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new M([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=p,this._dynamicVAO=m,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[u(s.mallocFloat(1024),[0,0]),u(s.mallocFloat(1024),[0,0]),u(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var C=E.prototype;C.genColormap=function(t,e){var r=!1,n=d([l({colormap:t,nshades:S,format:"rgba"}).map((function(t,n){var i=e?function(t,e){if(!e)return 1;if(!e.length)return 1;for(var r=0;r<e.length;++r){if(e.length<2)return 1;if(e[r][0]===t)return e[r][1];if(e[r][0]>t&&r>0){var n=(e[r][0]-t)/(e[r][0]-e[r-1][0]);return e[r][1]*(1-n)+n*e[r-1][1]}}return 1}(n/255,e):t[3];return i<1&&(r=!0),[t[0],t[1],t[2],255*i]}))]);return c.divseq(n,255),this.hasAlphaScale=r,n},C.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},C.isOpaque=function(){return!this.isTransparent()},C.pickSlots=1,C.setPickBase=function(t){this.pickId=t};var z=[0,0,0],L={showSurface:!1,showContour:!1,projections:[k.slice(),k.slice(),k.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function O(t,e){var r,n,i,o=e.axes&&e.axes.lastCubeProps.axis||z,a=e.showSurface,s=e.showContour;for(r=0;r<3;++r)for(a=a||e.surfaceProject[r],n=0;n<3;++n)s=s||e.contourProject[r][n];for(r=0;r<3;++r){var l=L.projections[r];for(n=0;n<16;++n)l[n]=0;for(n=0;n<4;++n)l[5*n]=1;l[5*r]=0,l[12+r]=e.axesBounds[+(o[r]>0)][r],f(l,t.model,l);var c=L.clipBounds[r];for(i=0;i<2;++i)for(n=0;n<3;++n)c[i][n]=t.clipBounds[i][n];c[0][r]=-1e8,c[1][r]=1e8}return L.showSurface=a,L.showContour=s,L}var D={model:k,view:k,projection:k,inverseModel:k.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},I=k.slice(),F=[1,0,0,0,1,0,0,0,1];function R(t,e){t=t||{};var r=this.gl;r.disable(r.CULL_FACE),this._colorMap.bind(0);var n=D;n.model=t.model||k,n.view=t.view||k,n.projection=t.projection||k,n.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],n.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],n.objectOffset=this.objectOffset,n.contourColor=this.contourColor[0],n.inverseModel=p(n.inverseModel,n.model);for(var i=0;i<2;++i)for(var o=n.clipBounds[i],a=0;a<3;++a)o[a]=Math.min(Math.max(this.clipBounds[i][a],-1e8),1e8);n.kambient=this.ambientLight,n.kdiffuse=this.diffuseLight,n.kspecular=this.specularLight,n.roughness=this.roughness,n.fresnel=this.fresnel,n.opacity=this.opacity,n.height=0,n.permutation=F,n.vertexColor=this.vertexColor;var s=I;for(f(s,n.view,n.model),f(s,n.projection,s),p(s,s),i=0;i<3;++i)n.eyePosition[i]=s[12+i]/s[15];var l=s[15];for(i=0;i<3;++i)l+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var c=s[12+i];for(a=0;a<3;++a)c+=s[4*a+i]*this.lightPosition[a];n.lightPosition[i]=c/l}var d=O(n,this);if(d.showSurface){for(this._shader.bind(),this._shader.uniforms=n,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(r.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=d.projections[i],this._shader.uniforms.clipBounds=d.clipBounds[i],this._vao.draw(r.TRIANGLES,this._vertexCount));this._vao.unbind()}if(d.showContour){var u=this._contourShader;n.kambient=1,n.kdiffuse=0,n.kspecular=0,n.opacity=1,u.bind(),u.uniforms=n;var h=this._contourVAO;for(h.bind(),i=0;i<3;++i)for(u.uniforms.permutation=T[i],r.lineWidth(this.contourWidth[i]*this.pixelRatio),a=0;a<this.contourLevels[i].length;++a)a===this.highlightLevel[i]?(u.uniforms.contourColor=this.highlightColor[i],u.uniforms.contourTint=this.highlightTint[i]):0!==a&&a-1!==this.highlightLevel[i]||(u.uniforms.contourColor=this.contourColor[i],u.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][a]&&(u.uniforms.height=this.contourLevels[i][a],h.draw(r.LINES,this._contourCounts[i][a],this._contourOffsets[i][a]));for(i=0;i<3;++i)for(u.uniforms.model=d.projections[i],u.uniforms.clipBounds=d.clipBounds[i],a=0;a<3;++a)if(this.contourProject[i][a]){u.uniforms.permutation=T[a],r.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var m=0;m<this.contourLevels[a].length;++m)m===this.highlightLevel[a]?(u.uniforms.contourColor=this.highlightColor[a],u.uniforms.contourTint=this.highlightTint[a]):0!==m&&m-1!==this.highlightLevel[a]||(u.uniforms.contourColor=this.contourColor[a],u.uniforms.contourTint=this.contourTint[a]),this._contourCounts[a][m]&&(u.uniforms.height=this.contourLevels[a][m],h.draw(r.LINES,this._contourCounts[a][m],this._contourOffsets[a][m]))}for(h.unbind(),(h=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(u.uniforms.model=n.model,u.uniforms.clipBounds=n.clipBounds,u.uniforms.permutation=T[i],r.lineWidth(this.dynamicWidth[i]*this.pixelRatio),u.uniforms.contourColor=this.dynamicColor[i],u.uniforms.contourTint=this.dynamicTint[i],u.uniforms.height=this.dynamicLevel[i],h.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),a=0;a<3;++a)this.contourProject[a][i]&&(u.uniforms.model=d.projections[a],u.uniforms.clipBounds=d.clipBounds[a],h.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));h.unbind()}}C.draw=function(t){return R.call(this,t,!1)},C.drawTransparent=function(t){return R.call(this,t,!0)};var P={model:k,view:k,projection:k,inverseModel:k,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function j(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function N(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function B(t){if(Array.isArray(t)){if(Array.isArray(t))return[N(t[0]),N(t[1]),N(t[2])];var e=N(t);return[e.slice(),e.slice(),e.slice()]}}C.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var r=P;r.model=t.model||k,r.view=t.view||k,r.projection=t.projection||k,r.shape=this._field[2].shape,r.pickId=this.pickId/255,r.lowerBound=this.bounds[0],r.upperBound=this.bounds[1],r.objectOffset=this.objectOffset,r.permutation=F;for(var n=0;n<2;++n)for(var i=r.clipBounds[n],o=0;o<3;++o)i[o]=Math.min(Math.max(this.clipBounds[n][o],-1e8),1e8);var a=O(r,this);if(a.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=r,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),n=0;n<3;++n)this.surfaceProject[n]&&(this._pickShader.uniforms.model=a.projections[n],this._pickShader.uniforms.clipBounds=a.clipBounds[n],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(a.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=r;var l=this._contourVAO;for(l.bind(),o=0;o<3;++o)for(e.lineWidth(this.contourWidth[o]*this.pixelRatio),s.uniforms.permutation=T[o],n=0;n<this.contourLevels[o].length;++n)this._contourCounts[o][n]&&(s.uniforms.height=this.contourLevels[o][n],l.draw(e.LINES,this._contourCounts[o][n],this._contourOffsets[o][n]));for(n=0;n<3;++n)for(s.uniforms.model=a.projections[n],s.uniforms.clipBounds=a.clipBounds[n],o=0;o<3;++o)if(this.contourProject[n][o]){s.uniforms.permutation=T[o],e.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var c=0;c<this.contourLevels[o].length;++c)this._contourCounts[o][c]&&(s.uniforms.height=this.contourLevels[o][c],l.draw(e.LINES,this._contourCounts[o][c],this._contourOffsets[o][c]))}l.unbind()}},C.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,r=this._pickResult,n=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,i=Math.floor(n),o=n-i,a=e[1]*(t.value[1]+(15&t.value[2])/16)/255,s=Math.floor(a),l=a-s;i+=1,s+=1;var c=r.position;c[0]=c[1]=c[2]=0;for(var d=0;d<2;++d)for(var u=d?o:1-o,h=0;h<2;++h)for(var f=i+d,p=s+h,g=u*(h?l:1-l),b=0;b<3;++b)c[b]+=this._field[b].get(f,p)*g;for(var v=this._pickResult.level,y=0;y<3;++y)if(v[y]=m.le(this.contourLevels[y],c[y]),v[y]<0)this.contourLevels[y].length>0&&(v[y]=0);else if(v[y]<this.contourLevels[y].length-1){var x=this.contourLevels[y][v[y]],w=this.contourLevels[y][v[y]+1];Math.abs(x-c[y])>Math.abs(w-c[y])&&(v[y]+=1)}for(r.index[0]=o<.5?i:i+1,r.index[1]=l<.5?s:s+1,r.uv[0]=n/e[0],r.uv[1]=a/e[1],b=0;b<3;++b)r.dataCoordinate[b]=this._field[b].get(r.index[0],r.index[1]);return r},C.padField=function(t,e){var r=e.shape.slice(),n=t.shape.slice();c.assign(t.lo(1,1).hi(r[0],r[1]),e),c.assign(t.lo(1).hi(r[0],1),e.hi(r[0],1)),c.assign(t.lo(1,n[1]-1).hi(r[0],1),e.lo(0,r[1]-1).hi(r[0],1)),c.assign(t.lo(0,1).hi(1,r[1]),e.hi(1)),c.assign(t.lo(n[0]-1,1).hi(1,r[1]),e.lo(r[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,n[1]-1,e.get(0,r[1]-1)),t.set(n[0]-1,0,e.get(r[0]-1,0)),t.set(n[0]-1,n[1]-1,e.get(r[0]-1,r[1]-1))},C.update=function(t){t=t||{},this.objectOffset=t.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in t&&(this.contourWidth=j(t.contourWidth,Number)),"showContour"in t&&(this.showContour=j(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=j(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=B(t.contourColor)),"contourProject"in t&&(this.contourProject=j(t.contourProject,(function(t){return j(t,Boolean)}))),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=B(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=j(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=j(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"opacityscale"in t&&(this.opacityscale=t.opacityscale),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0),"colormap"in t&&this._colorMap.setPixels(this.genColormap(t.colormap,this.opacityscale));var e=t.field||t.coords&&t.coords[2]||null,r=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var i=(e.shape[0]+2)*(e.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(n.nextPow2(i))),this._field[2]=u(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),this.padField(this._field[2],e),this.shape=e.shape.slice();for(var o=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(s.freeFloat(this._field[a].data),this._field[a].data=s.mallocFloat(this._field[2].size)),this._field[a]=u(this._field[a].data,[o[0]+2,o[1]+2]);if(t.coords){var l=t.coords;if(!Array.isArray(l)||3!==l.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var c=l[a];for(b=0;b<2;++b)if(c.shape[b]!==o[b])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[a],c)}}else if(t.ticks){var d=t.ticks;if(!Array.isArray(d)||2!==d.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var f=d[a];if((Array.isArray(f)||f.length)&&(f=u(f)),f.shape[0]!==o[a])throw new Error("gl-surface: invalid tick length");var p=u(f.data,o);p.stride[a]=f.stride[0],p.stride[1^a]=0,this.padField(this._field[a],p)}}else{for(a=0;a<2;++a){var m=[0,0];m[a]=1,this._field[a]=u(this._field[a].data,[o[0]+2,o[1]+2],m,0)}this._field[0].set(0,0,0);for(var b=0;b<o[0];++b)this._field[0].set(b+1,0,b);for(this._field[0].set(o[0]+1,0,o[0]-1),this._field[1].set(0,0,0),b=0;b<o[1];++b)this._field[1].set(0,b+1,b);this._field[1].set(0,o[1]+1,o[1]-1)}var v=this._field,y=u(s.mallocFloat(3*v[2].size*2),[3,o[0]+2,o[1]+2,2]);for(a=0;a<3;++a)g(y.pick(a),v[a],"mirror");var x=u(s.mallocFloat(3*v[2].size),[o[0]+2,o[1]+2,3]);for(a=0;a<o[0]+2;++a)for(b=0;b<o[1]+2;++b){var w=y.get(0,a,b,0),_=y.get(0,a,b,1),k=y.get(1,a,b,0),T=y.get(1,a,b,1),M=y.get(2,a,b,0),S=y.get(2,a,b,1),E=k*S-T*M,C=M*_-S*w,z=w*T-_*k,L=Math.sqrt(E*E+C*C+z*z);L<1e-8?(L=Math.max(Math.abs(E),Math.abs(C),Math.abs(z)))<1e-8?(z=1,C=E=0,L=1):L=1/L:L=1/Math.sqrt(L),x.set(a,b,0,E*L),x.set(a,b,1,C*L),x.set(a,b,2,z*L)}s.free(y.data);var O=[1/0,1/0,1/0],D=[-1/0,-1/0,-1/0],I=1/0,F=-1/0,R=(o[0]-1)*(o[1]-1)*6,P=s.mallocFloat(n.nextPow2(10*R)),N=0,U=0;for(a=0;a<o[0]-1;++a)t:for(b=0;b<o[1]-1;++b){for(var V=0;V<2;++V)for(var G=0;G<2;++G)for(var H=0;H<3;++H){var W=this._field[H].get(1+a+V,1+b+G);if(isNaN(W)||!isFinite(W))continue t}for(H=0;H<6;++H){var q=a+A[H][0],$=b+A[H][1],Y=this._field[0].get(q+1,$+1),Z=this._field[1].get(q+1,$+1);W=this._field[2].get(q+1,$+1),E=x.get(q+1,$+1,0),C=x.get(q+1,$+1,1),z=x.get(q+1,$+1,2),t.intensity&&(X=t.intensity.get(q,$));var X=t.intensity?t.intensity.get(q,$):W+this.objectOffset[2];P[N++]=q,P[N++]=$,P[N++]=Y,P[N++]=Z,P[N++]=W,P[N++]=0,P[N++]=X,P[N++]=E,P[N++]=C,P[N++]=z,O[0]=Math.min(O[0],Y+this.objectOffset[0]),O[1]=Math.min(O[1],Z+this.objectOffset[1]),O[2]=Math.min(O[2],W+this.objectOffset[2]),I=Math.min(I,X),D[0]=Math.max(D[0],Y+this.objectOffset[0]),D[1]=Math.max(D[1],Z+this.objectOffset[1]),D[2]=Math.max(D[2],W+this.objectOffset[2]),F=Math.max(F,X),U+=1}}for(t.intensityBounds&&(I=+t.intensityBounds[0],F=+t.intensityBounds[1]),a=6;a<N;a+=10)P[a]=(P[a]-I)/(F-I);this._vertexCount=U,this._coordinateBuffer.update(P.subarray(0,N)),s.freeFloat(P),s.free(x.data),this.bounds=[O,D],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===I&&this.intensityBounds[1]===F||(r=!0),this.intensityBounds=[I,F]}if("levels"in t){var J=t.levels;for(J=Array.isArray(J[0])?J.slice():[[],[],J],a=0;a<3;++a)J[a]=J[a].slice(),J[a].sort((function(t,e){return t-e}));for(a=0;a<3;++a)for(b=0;b<J[a].length;++b)J[a][b]-=this.objectOffset[a];t:for(a=0;a<3;++a){if(J[a].length!==this.contourLevels[a].length){r=!0;break}for(b=0;b<J[a].length;++b)if(J[a][b]!==this.contourLevels[a][b]){r=!0;break t}}this.contourLevels=J}if(r){v=this._field,o=this.shape;for(var Q=[],K=0;K<3;++K){var tt=this.contourLevels[K],et=[],rt=[],nt=[0,0,0];for(a=0;a<tt.length;++a){var it=h(this._field[K],tt[a]);et.push(Q.length/5|0),U=0;t:for(b=0;b<it.cells.length;++b){var ot=it.cells[b];for(H=0;H<2;++H){var at=it.positions[ot[H]],st=at[0],lt=0|Math.floor(st),ct=st-lt,dt=at[1],ut=0|Math.floor(dt),ht=dt-ut,ft=!1;e:for(var pt=0;pt<3;++pt){nt[pt]=0;var mt=(K+pt+1)%3;for(V=0;V<2;++V){var gt=V?ct:1-ct;for(q=0|Math.min(Math.max(lt+V,0),o[0]),G=0;G<2;++G){var bt=G?ht:1-ht;if($=0|Math.min(Math.max(ut+G,0),o[1]),W=pt<2?this._field[mt].get(q,$):(this.intensity.get(q,$)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(W)||isNaN(W)){ft=!0;break e}var vt=gt*bt;nt[pt]+=vt*W}}}if(ft){if(H>0){for(var yt=0;yt<5;++yt)Q.pop();U-=1}continue t}Q.push(nt[0],nt[1],at[0],at[1],nt[2]),U+=1}}rt.push(U)}this._contourOffsets[K]=et,this._contourCounts[K]=rt}var xt=s.mallocFloat(Q.length);for(a=0;a<Q.length;++a)xt[a]=Q[a];this._contourBuffer.update(xt),s.freeFloat(xt)}},C.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)s.freeFloat(this._field[t].data)},C.highlight=function(t){var e,r;if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;for(r=this.snapToData?t.dataCoordinate:t.position,e=0;e<3;++e)r[e]-=this.objectOffset[e];if(this.enableDynamic[0]&&r[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&r[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&r[2]!==this.dynamicLevel[2]){for(var n=0,i=this.shape,o=s.mallocFloat(12*i[0]*i[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=r[a];var l=(a+1)%3,c=(a+2)%3,d=this._field[a],u=this._field[l],f=this._field[c],p=h(d,r[a]),m=p.cells,g=p.positions;for(this._dynamicOffsets[a]=n,e=0;e<m.length;++e)for(var b=m[e],v=0;v<2;++v){var y=g[b[v]],x=+y[0],w=0|x,_=0|Math.min(w+1,i[0]),k=x-w,A=1-k,T=+y[1],M=0|T,S=0|Math.min(M+1,i[1]),E=T-M,C=1-E,z=A*C,L=A*E,O=k*C,D=k*E,I=z*u.get(w,M)+L*u.get(w,S)+O*u.get(_,M)+D*u.get(_,S),F=z*f.get(w,M)+L*f.get(w,S)+O*f.get(_,M)+D*f.get(_,S);if(isNaN(I)||isNaN(F)){v&&(n-=1);break}o[2*n+0]=I,o[2*n+1]=F,n+=1}this._dynamicCounts[a]=n-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(o.subarray(0,2*n)),s.freeFloat(o)}}},9507:function(t){t.exports=!0},9618:function(t,e,r){var n=r(7163),i="undefined"!=typeof Float64Array;function o(t,e){return t[0]-e[0]}function a(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(o);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}var s={T:function(t){function e(t){this.data=t}var r=e.prototype;return r.dtype=t,r.index=function(){return-1},r.size=0,r.dimension=-1,r.shape=r.stride=r.order=[],r.lo=r.hi=r.transpose=r.step=function(){return new e(this.data)},r.get=r.set=function(){},r.pick=function(){return null},function(t){return new e(t)}},0:function(t,e){function r(t,e){this.data=t,this.offset=e}var n=r.prototype;return n.dtype=t,n.index=function(){return this.offset},n.dimension=0,n.size=1,n.shape=n.stride=n.order=[],n.lo=n.hi=n.transpose=n.step=function(){return new r(this.data,this.offset)},n.pick=function(){return e(this.data)},n.valueOf=n.get=function(){return"generic"===t?this.data.get(this.offset):this.data[this.offset]},n.set=function(e){return"generic"===t?this.data.set(this.offset,e):this.data[this.offset]=e},function(t,e,n,i){return new r(t,i)}},1:function(t,e,r){function n(t,e,r,n){this.data=t,this.shape=[e],this.stride=[r],this.offset=0|n}var i=n.prototype;return i.dtype=t,i.dimension=1,Object.defineProperty(i,"size",{get:function(){return this.shape[0]}}),i.order=[0],i.set=function(e,r){return"generic"===t?this.data.set(this.offset+this.stride[0]*e,r):this.data[this.offset+this.stride[0]*e]=r},i.get=function(e){return"generic"===t?this.data.get(this.offset+this.stride[0]*e):this.data[this.offset+this.stride[0]*e]},i.index=function(t){return this.offset+this.stride[0]*t},i.hi=function(t){return new n(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,this.stride[0],this.offset)},i.lo=function(t){var e=this.offset,r=0,i=this.shape[0],o=this.stride[0];return"number"==typeof t&&t>=0&&(e+=o*(r=0|t),i-=r),new n(this.data,i,o,e)},i.step=function(t){var e=this.shape[0],r=this.stride[0],i=this.offset,o=0,a=Math.ceil;return"number"==typeof t&&((o=0|t)<0?(i+=r*(e-1),e=a(-e/o)):e=a(e/o),r*=o),new n(this.data,e,r,i)},i.transpose=function(t){t=void 0===t?0:0|t;var e=this.shape,r=this.stride;return new n(this.data,e[t],r[t],this.offset)},i.pick=function(t){var r=[],n=[],i=this.offset;return"number"==typeof t&&t>=0?i=i+this.stride[0]*t|0:(r.push(this.shape[0]),n.push(this.stride[0])),(0,e[r.length+1])(this.data,r,n,i)},function(t,e,r,i){return new n(t,e[0],r[0],i)}},2:function(t,e,r){function n(t,e,r,n,i,o){this.data=t,this.shape=[e,r],this.stride=[n,i],this.offset=0|o}var i=n.prototype;return i.dtype=t,i.dimension=2,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(i,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),i.set=function(e,r,n){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*r,n):this.data[this.offset+this.stride[0]*e+this.stride[1]*r]=n},i.get=function(e,r){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*r):this.data[this.offset+this.stride[0]*e+this.stride[1]*r]},i.index=function(t,e){return this.offset+this.stride[0]*t+this.stride[1]*e},i.hi=function(t,e){return new n(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,this.stride[0],this.stride[1],this.offset)},i.lo=function(t,e){var r=this.offset,i=0,o=this.shape[0],a=this.shape[1],s=this.stride[0],l=this.stride[1];return"number"==typeof t&&t>=0&&(r+=s*(i=0|t),o-=i),"number"==typeof e&&e>=0&&(r+=l*(i=0|e),a-=i),new n(this.data,o,a,s,l,r)},i.step=function(t,e){var r=this.shape[0],i=this.shape[1],o=this.stride[0],a=this.stride[1],s=this.offset,l=0,c=Math.ceil;return"number"==typeof t&&((l=0|t)<0?(s+=o*(r-1),r=c(-r/l)):r=c(r/l),o*=l),"number"==typeof e&&((l=0|e)<0?(s+=a*(i-1),i=c(-i/l)):i=c(i/l),a*=l),new n(this.data,r,i,o,a,s)},i.transpose=function(t,e){t=void 0===t?0:0|t,e=void 0===e?1:0|e;var r=this.shape,i=this.stride;return new n(this.data,r[t],r[e],i[t],i[e],this.offset)},i.pick=function(t,r){var n=[],i=[],o=this.offset;return"number"==typeof t&&t>=0?o=o+this.stride[0]*t|0:(n.push(this.shape[0]),i.push(this.stride[0])),"number"==typeof r&&r>=0?o=o+this.stride[1]*r|0:(n.push(this.shape[1]),i.push(this.stride[1])),(0,e[n.length+1])(this.data,n,i,o)},function(t,e,r,i){return new n(t,e[0],e[1],r[0],r[1],i)}},3:function(t,e,r){function n(t,e,r,n,i,o,a,s){this.data=t,this.shape=[e,r,n],this.stride=[i,o,a],this.offset=0|s}var i=n.prototype;return i.dtype=t,i.dimension=3,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(i,"order",{get:function(){var t=Math.abs(this.stride[0]),e=Math.abs(this.stride[1]),r=Math.abs(this.stride[2]);return t>e?e>r?[2,1,0]:t>r?[1,2,0]:[1,0,2]:t>r?[2,0,1]:r>e?[0,1,2]:[0,2,1]}}),i.set=function(e,r,n,i){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n,i):this.data[this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n]=i},i.get=function(e,r,n){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n):this.data[this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n]},i.index=function(t,e,r){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*r},i.hi=function(t,e,r){return new n(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof r||r<0?this.shape[2]:0|r,this.stride[0],this.stride[1],this.stride[2],this.offset)},i.lo=function(t,e,r){var i=this.offset,o=0,a=this.shape[0],s=this.shape[1],l=this.shape[2],c=this.stride[0],d=this.stride[1],u=this.stride[2];return"number"==typeof t&&t>=0&&(i+=c*(o=0|t),a-=o),"number"==typeof e&&e>=0&&(i+=d*(o=0|e),s-=o),"number"==typeof r&&r>=0&&(i+=u*(o=0|r),l-=o),new n(this.data,a,s,l,c,d,u,i)},i.step=function(t,e,r){var i=this.shape[0],o=this.shape[1],a=this.shape[2],s=this.stride[0],l=this.stride[1],c=this.stride[2],d=this.offset,u=0,h=Math.ceil;return"number"==typeof t&&((u=0|t)<0?(d+=s*(i-1),i=h(-i/u)):i=h(i/u),s*=u),"number"==typeof e&&((u=0|e)<0?(d+=l*(o-1),o=h(-o/u)):o=h(o/u),l*=u),"number"==typeof r&&((u=0|r)<0?(d+=c*(a-1),a=h(-a/u)):a=h(a/u),c*=u),new n(this.data,i,o,a,s,l,c,d)},i.transpose=function(t,e,r){t=void 0===t?0:0|t,e=void 0===e?1:0|e,r=void 0===r?2:0|r;var i=this.shape,o=this.stride;return new n(this.data,i[t],i[e],i[r],o[t],o[e],o[r],this.offset)},i.pick=function(t,r,n){var i=[],o=[],a=this.offset;return"number"==typeof t&&t>=0?a=a+this.stride[0]*t|0:(i.push(this.shape[0]),o.push(this.stride[0])),"number"==typeof r&&r>=0?a=a+this.stride[1]*r|0:(i.push(this.shape[1]),o.push(this.stride[1])),"number"==typeof n&&n>=0?a=a+this.stride[2]*n|0:(i.push(this.shape[2]),o.push(this.stride[2])),(0,e[i.length+1])(this.data,i,o,a)},function(t,e,r,i){return new n(t,e[0],e[1],e[2],r[0],r[1],r[2],i)}},4:function(t,e,r){function n(t,e,r,n,i,o,a,s,l,c){this.data=t,this.shape=[e,r,n,i],this.stride=[o,a,s,l],this.offset=0|c}var i=n.prototype;return i.dtype=t,i.dimension=4,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(i,"order",{get:r}),i.set=function(e,r,n,i,o){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i,o):this.data[this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i]=o},i.get=function(e,r,n,i){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i):this.data[this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i]},i.index=function(t,e,r,n){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*r+this.stride[3]*n},i.hi=function(t,e,r,i){return new n(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof r||r<0?this.shape[2]:0|r,"number"!=typeof i||i<0?this.shape[3]:0|i,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},i.lo=function(t,e,r,i){var o=this.offset,a=0,s=this.shape[0],l=this.shape[1],c=this.shape[2],d=this.shape[3],u=this.stride[0],h=this.stride[1],f=this.stride[2],p=this.stride[3];return"number"==typeof t&&t>=0&&(o+=u*(a=0|t),s-=a),"number"==typeof e&&e>=0&&(o+=h*(a=0|e),l-=a),"number"==typeof r&&r>=0&&(o+=f*(a=0|r),c-=a),"number"==typeof i&&i>=0&&(o+=p*(a=0|i),d-=a),new n(this.data,s,l,c,d,u,h,f,p,o)},i.step=function(t,e,r,i){var o=this.shape[0],a=this.shape[1],s=this.shape[2],l=this.shape[3],c=this.stride[0],d=this.stride[1],u=this.stride[2],h=this.stride[3],f=this.offset,p=0,m=Math.ceil;return"number"==typeof t&&((p=0|t)<0?(f+=c*(o-1),o=m(-o/p)):o=m(o/p),c*=p),"number"==typeof e&&((p=0|e)<0?(f+=d*(a-1),a=m(-a/p)):a=m(a/p),d*=p),"number"==typeof r&&((p=0|r)<0?(f+=u*(s-1),s=m(-s/p)):s=m(s/p),u*=p),"number"==typeof i&&((p=0|i)<0?(f+=h*(l-1),l=m(-l/p)):l=m(l/p),h*=p),new n(this.data,o,a,s,l,c,d,u,h,f)},i.transpose=function(t,e,r,i){t=void 0===t?0:0|t,e=void 0===e?1:0|e,r=void 0===r?2:0|r,i=void 0===i?3:0|i;var o=this.shape,a=this.stride;return new n(this.data,o[t],o[e],o[r],o[i],a[t],a[e],a[r],a[i],this.offset)},i.pick=function(t,r,n,i){var o=[],a=[],s=this.offset;return"number"==typeof t&&t>=0?s=s+this.stride[0]*t|0:(o.push(this.shape[0]),a.push(this.stride[0])),"number"==typeof r&&r>=0?s=s+this.stride[1]*r|0:(o.push(this.shape[1]),a.push(this.stride[1])),"number"==typeof n&&n>=0?s=s+this.stride[2]*n|0:(o.push(this.shape[2]),a.push(this.stride[2])),"number"==typeof i&&i>=0?s=s+this.stride[3]*i|0:(o.push(this.shape[3]),a.push(this.stride[3])),(0,e[o.length+1])(this.data,o,a,s)},function(t,e,r,i){return new n(t,e[0],e[1],e[2],e[3],r[0],r[1],r[2],r[3],i)}},5:function(t,e,r){function n(t,e,r,n,i,o,a,s,l,c,d,u){this.data=t,this.shape=[e,r,n,i,o],this.stride=[a,s,l,c,d],this.offset=0|u}var i=n.prototype;return i.dtype=t,i.dimension=5,Object.defineProperty(i,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(i,"order",{get:r}),i.set=function(e,r,n,i,o,a){return"generic"===t?this.data.set(this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i+this.stride[4]*o,a):this.data[this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i+this.stride[4]*o]=a},i.get=function(e,r,n,i,o){return"generic"===t?this.data.get(this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i+this.stride[4]*o):this.data[this.offset+this.stride[0]*e+this.stride[1]*r+this.stride[2]*n+this.stride[3]*i+this.stride[4]*o]},i.index=function(t,e,r,n,i){return this.offset+this.stride[0]*t+this.stride[1]*e+this.stride[2]*r+this.stride[3]*n+this.stride[4]*i},i.hi=function(t,e,r,i,o){return new n(this.data,"number"!=typeof t||t<0?this.shape[0]:0|t,"number"!=typeof e||e<0?this.shape[1]:0|e,"number"!=typeof r||r<0?this.shape[2]:0|r,"number"!=typeof i||i<0?this.shape[3]:0|i,"number"!=typeof o||o<0?this.shape[4]:0|o,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},i.lo=function(t,e,r,i,o){var a=this.offset,s=0,l=this.shape[0],c=this.shape[1],d=this.shape[2],u=this.shape[3],h=this.shape[4],f=this.stride[0],p=this.stride[1],m=this.stride[2],g=this.stride[3],b=this.stride[4];return"number"==typeof t&&t>=0&&(a+=f*(s=0|t),l-=s),"number"==typeof e&&e>=0&&(a+=p*(s=0|e),c-=s),"number"==typeof r&&r>=0&&(a+=m*(s=0|r),d-=s),"number"==typeof i&&i>=0&&(a+=g*(s=0|i),u-=s),"number"==typeof o&&o>=0&&(a+=b*(s=0|o),h-=s),new n(this.data,l,c,d,u,h,f,p,m,g,b,a)},i.step=function(t,e,r,i,o){var a=this.shape[0],s=this.shape[1],l=this.shape[2],c=this.shape[3],d=this.shape[4],u=this.stride[0],h=this.stride[1],f=this.stride[2],p=this.stride[3],m=this.stride[4],g=this.offset,b=0,v=Math.ceil;return"number"==typeof t&&((b=0|t)<0?(g+=u*(a-1),a=v(-a/b)):a=v(a/b),u*=b),"number"==typeof e&&((b=0|e)<0?(g+=h*(s-1),s=v(-s/b)):s=v(s/b),h*=b),"number"==typeof r&&((b=0|r)<0?(g+=f*(l-1),l=v(-l/b)):l=v(l/b),f*=b),"number"==typeof i&&((b=0|i)<0?(g+=p*(c-1),c=v(-c/b)):c=v(c/b),p*=b),"number"==typeof o&&((b=0|o)<0?(g+=m*(d-1),d=v(-d/b)):d=v(d/b),m*=b),new n(this.data,a,s,l,c,d,u,h,f,p,m,g)},i.transpose=function(t,e,r,i,o){t=void 0===t?0:0|t,e=void 0===e?1:0|e,r=void 0===r?2:0|r,i=void 0===i?3:0|i,o=void 0===o?4:0|o;var a=this.shape,s=this.stride;return new n(this.data,a[t],a[e],a[r],a[i],a[o],s[t],s[e],s[r],s[i],s[o],this.offset)},i.pick=function(t,r,n,i,o){var a=[],s=[],l=this.offset;return"number"==typeof t&&t>=0?l=l+this.stride[0]*t|0:(a.push(this.shape[0]),s.push(this.stride[0])),"number"==typeof r&&r>=0?l=l+this.stride[1]*r|0:(a.push(this.shape[1]),s.push(this.stride[1])),"number"==typeof n&&n>=0?l=l+this.stride[2]*n|0:(a.push(this.shape[2]),s.push(this.stride[2])),"number"==typeof i&&i>=0?l=l+this.stride[3]*i|0:(a.push(this.shape[3]),s.push(this.stride[3])),"number"==typeof o&&o>=0?l=l+this.stride[4]*o|0:(a.push(this.shape[4]),s.push(this.stride[4])),(0,e[a.length+1])(this.data,a,s,l)},function(t,e,r,i){return new n(t,e[0],e[1],e[2],e[3],e[4],r[0],r[1],r[2],r[3],r[4],i)}}};function l(t,e){var r=-1===e?"T":String(e),n=s[r];return-1===e?n(t):0===e?n(t,c[t][0]):n(t,c[t],a)}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};t.exports=function(t,e,r,o){if(void 0===t)return(0,c.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===r){r=new Array(a);for(var s=a-1,d=1;s>=0;--s)r[s]=d,d*=e[s]}if(void 0===o)for(o=0,s=0;s<a;++s)r[s]<0&&(o-=(e[s]-1)*r[s]);for(var u=function(t){if(n(t))return"buffer";if(i)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}(t),h=c[u];h.length<=a+1;)h.push(l(u,h.length-1));return(0,h[a+1])(t,e,r,o)}},9921:function(t){t.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],d=t[9],u=t[10],h=t[11],f=t[12],p=t[13],m=t[14],g=t[15];return(e*a-r*o)*(u*g-h*m)-(e*s-n*o)*(d*g-h*p)+(e*l-i*o)*(d*m-u*p)+(r*s-n*a)*(c*g-h*f)-(r*l-i*a)*(c*m-u*f)+(n*l-i*s)*(c*p-d*f)}},9922:function(t,e,r){t.exports=function(t,e){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(r-a)<=n*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=n*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=n*Math.max(1,Math.abs(o),Math.abs(l))};var n=r(2613)},9970:function(t,e,r){t.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},9977:function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.rotation||[0,0,0,1],n=t.radius||1;e=[].slice.call(e,0,3),d(r=[].slice.call(r,0,4),r);var i=new u(r,e,Math.log(n));return i.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&i.lookAt(0,t.eye,t.center,t.up),i};var n=r(9215),i=r(6582),o=r(7399),a=r(7608),s=r(4081);function l(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function c(t,e,r,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2)+Math.pow(n,2))}function d(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=c(r,n,i,o);a>1e-6?(t[0]=r/a,t[1]=n/a,t[2]=i/a,t[3]=o/a):(t[0]=t[1]=t[2]=0,t[3]=1)}function u(t,e,r){this.radius=n([r]),this.center=n(e),this.rotation=n(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=u.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;d(e,e);var r=this.computedMatrix;o(r,e);var n=this.computedCenter,i=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=n[0]+s*r[2],i[1]=n[1]+s*r[6],i[2]=n[2]+s*r[10],a[0]=r[1],a[1]=r[5],a[2]=r[9];for(var l=0;l<3;++l){for(var c=0,u=0;u<3;++u)c+=r[l+4*u]*i[u];r[12+l]=-c}},h.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r},h.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},h.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},h.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var i=this.computedMatrix,o=i[1],a=i[5],s=i[9],c=l(o,a,s);o/=c,a/=c,s/=c;var d=i[0],u=i[4],h=i[8],f=d*o+u*a+h*s,p=l(d-=o*f,u-=a*f,h-=s*f);d/=p,u/=p,h/=p;var m=i[2],g=i[6],b=i[10],v=m*o+g*a+b*s,y=m*d+g*u+b*h,x=l(m-=v*o+y*d,g-=v*a+y*u,b-=v*s+y*h);m/=x,g/=x,b/=x;var w=d*e+o*r,_=u*e+a*r,k=h*e+s*r;this.center.move(t,w,_,k);var A=Math.exp(this.computedRadius[0]);A=Math.max(1e-4,A+n),this.radius.set(t,Math.log(A))},h.rotate=function(t,e,r,n){this.recalcMatrix(t),e=e||0,r=r||0;var i=this.computedMatrix,o=i[0],a=i[4],s=i[8],d=i[1],u=i[5],h=i[9],f=i[2],p=i[6],m=i[10],g=e*o+r*d,b=e*a+r*u,v=e*s+r*h,y=-(p*v-m*b),x=-(m*g-f*v),w=-(f*b-p*g),_=Math.sqrt(Math.max(0,1-Math.pow(y,2)-Math.pow(x,2)-Math.pow(w,2))),k=c(y,x,w,_);k>1e-6?(y/=k,x/=k,w/=k,_/=k):(y=x=w=0,_=1);var A=this.computedRotation,T=A[0],M=A[1],S=A[2],E=A[3],C=T*_+E*y+M*w-S*x,z=M*_+E*x+S*y-T*w,L=S*_+E*w+T*x-M*y,O=E*_-T*y-M*x-S*w;if(n){y=f,x=p,w=m;var D=Math.sin(n)/l(y,x,w);y*=D,x*=D,w*=D,O=O*(_=Math.cos(e))-(C=C*_+O*y+z*w-L*x)*y-(z=z*_+O*x+L*y-C*w)*x-(L=L*_+O*w+C*x-z*y)*w}var I=c(C,z,L,O);I>1e-6?(C/=I,z/=I,L/=I,O/=I):(C=z=L=0,O=1),this.rotation.set(t,C,z,L,O)},h.lookAt=function(t,e,r,n){this.recalcMatrix(t),r=r||this.computedCenter,e=e||this.computedEye,n=n||this.computedUp;var o=this.computedMatrix;i(o,e,r,n);var a=this.computedRotation;s(a,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),d(a,a),this.rotation.set(t,a[0],a[1],a[2],a[3]);for(var l=0,c=0;c<3;++c)l+=Math.pow(r[c]-e[c],2);this.radius.set(t,.5*Math.log(Math.max(l,1e-6))),this.center.set(t,r[0],r[1],r[2])},h.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},h.setMatrix=function(t,e){var r=this.computedRotation;s(r,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),d(r,r),this.rotation.set(t,r[0],r[1],r[2],r[3]);var n=this.computedMatrix;a(n,e);var i=n[15];if(Math.abs(i)>1e-6){var o=n[12]/i,l=n[13]/i,c=n[14]/i;this.recalcMatrix(t);var u=Math.exp(this.computedRadius[0]);this.center.set(t,o-n[2]*u,l-n[6]*u,c-n[10]*u),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},h.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},h.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},h.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(t){var e=this.lastT(),r=t.center;r&&this.center.set(e,r[0],r[1],r[2]);var n=t.rotation;n&&this.rotation.set(e,n[0],n[1],n[2],n[3]);var i=t.distance;i&&i>0&&this.radius.set(e,Math.log(i)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},9994:function(t,e,r){"use strict";var n=r(9618),i=r(8277);t.exports=function(t,e){for(var r=[],o=t,a=1;Array.isArray(o);)r.push(o.length),a*=o.length,o=o[0];return 0===r.length?n():(e||(e=n(new Float64Array(a),r)),i(e,t),e)}}},r={};function i(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var o=i(1964);t.exports=o}()},31888:(t,e,r)=>{"use strict";var n=r(88828),i=r(31338),o=r(65500).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,c=r.g.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=i([32,0])),c.BIGUINT64||(c.BIGUINT64=i([32,0])),c.BIGINT64||(c.BIGINT64=i([32,0])),c.BUFFER||(c.BUFFER=i([32,0]));var d=c.DATA,u=c.BUFFER;function h(t){if(t){var e=t.length||t.byteLength,r=n.log2(e);d[r].push(t)}}function f(t){t=n.nextPow2(t);var e=n.log2(t),r=d[e];return r.length>0?r.pop():new ArrayBuffer(t)}function p(t){return new Uint8Array(f(t),0,t)}function m(t){return new Uint16Array(f(2*t),0,t)}function g(t){return new Uint32Array(f(4*t),0,t)}function b(t){return new Int8Array(f(t),0,t)}function v(t){return new Int16Array(f(2*t),0,t)}function y(t){return new Int32Array(f(4*t),0,t)}function x(t){return new Float32Array(f(4*t),0,t)}function w(t){return new Float64Array(f(8*t),0,t)}function _(t){return a?new Uint8ClampedArray(f(t),0,t):p(t)}function k(t){return s?new BigUint64Array(f(8*t),0,t):null}function A(t){return l?new BigInt64Array(f(8*t),0,t):null}function T(t){return new DataView(f(t),0,t)}function M(t){t=n.nextPow2(t);var e=n.log2(t),r=u[e];return r.length>0?r.pop():new o(t)}e.free=function(t){if(o.isBuffer(t))u[n.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|n.log2(e);d[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){h(t.buffer)},e.freeArrayBuffer=h,e.freeBuffer=function(t){u[n.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return f(t);switch(e){case"uint8":return p(t);case"uint16":return m(t);case"uint32":return g(t);case"int8":return b(t);case"int16":return v(t);case"int32":return y(t);case"float":case"float32":return x(t);case"double":case"float64":return w(t);case"uint8_clamped":return _(t);case"bigint64":return A(t);case"biguint64":return k(t);case"buffer":return M(t);case"data":case"dataview":return T(t);default:return null}return null},e.mallocArrayBuffer=f,e.mallocUint8=p,e.mallocUint16=m,e.mallocUint32=g,e.mallocInt8=b,e.mallocInt16=v,e.mallocInt32=y,e.mallocFloat32=e.mallocFloat=x,e.mallocFloat64=e.mallocDouble=w,e.mallocUint8Clamped=_,e.mallocBigUint64=k,e.mallocBigInt64=A,e.mallocDataView=T,e.mallocBuffer=M,e.clearCache=function(){for(var t=0;t<32;++t)c.UINT8[t].length=0,c.UINT16[t].length=0,c.UINT32[t].length=0,c.INT8[t].length=0,c.INT16[t].length=0,c.INT32[t].length=0,c.FLOAT[t].length=0,c.DOUBLE[t].length=0,c.BIGUINT64[t].length=0,c.BIGINT64[t].length=0,c.UINT8C[t].length=0,d[t].length=0,u[t].length=0}},31918:t=>{"use strict";t.exports={mod:function(t,e){var r=t%e;return r<0?r+e:r},modHalf:function(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}}},31997:t=>{t.exports=function(t,e,r){var n=[],i=[];return t.forEach((function(t){var o=t.start,a=t.end;if(e.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(t);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=s,d=0;d<n.length;d++){var u=(g=n[d])[0],h=(g[1],g[g.length-1]);if(g[g.length-2],e.pointsSame(u,o)){if(A(d,!0,!0))break}else if(e.pointsSame(u,a)){if(A(d,!0,!1))break}else if(e.pointsSame(h,o)){if(A(d,!1,!0))break}else if(e.pointsSame(h,a)&&A(d,!1,!1))break}if(c===s)return n.push([o,a]),void(r&&r.chainNew(o,a));if(c===l){r&&r.chainMatch(s.index);var f=s.index,p=s.matches_pt1?a:o,m=s.matches_head,g=n[f],b=m?g[0]:g[g.length-1],v=m?g[1]:g[g.length-2],y=m?g[g.length-1]:g[0],x=m?g[g.length-2]:g[1];return e.pointsCollinear(v,b,p)&&(m?(r&&r.chainRemoveHead(s.index,p),g.shift()):(r&&r.chainRemoveTail(s.index,p),g.pop()),b=v),e.pointsSame(y,p)?(n.splice(f,1),e.pointsCollinear(x,y,b)&&(m?(r&&r.chainRemoveTail(s.index,b),g.pop()):(r&&r.chainRemoveHead(s.index,b),g.shift())),r&&r.chainClose(s.index),void i.push(g)):void(m?(r&&r.chainAddHead(s.index,p),g.unshift(p)):(r&&r.chainAddTail(s.index,p),g.push(p)))}var w=s.index,_=l.index;r&&r.chainConnect(w,_);var k=n[w].length<n[_].length;s.matches_head?l.matches_head?k?(T(w),M(w,_)):(T(_),M(_,w)):M(_,w):l.matches_head?M(w,_):k?(T(w),M(_,w)):(T(_),M(w,_))}function A(t,e,r){return c.index=t,c.matches_head=e,c.matches_pt1=r,c===s?(c=l,!1):(c=null,!0)}function T(t){r&&r.chainReverse(t),n[t].reverse()}function M(t,i){var o=n[t],a=n[i],s=o[o.length-1],l=o[o.length-2],c=a[0],d=a[1];e.pointsCollinear(l,s,c)&&(r&&r.chainRemoveTail(t,s),o.pop(),s=l),e.pointsCollinear(s,c,d)&&(r&&r.chainRemoveHead(i,c),a.shift()),r&&r.chainJoin(t,i),n[t]=o.concat(a),n.splice(i,1)}})),i}},32335:t=>{"use strict";t.exports=function(t,e,r){"spline"===r("line.shape")&&r("line.smoothing")}},32565:t=>{"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},32688:(t,e,r)=>{"use strict";const n=r(43531),i=r(72010);for(const[t,e]of Object.entries(n.default))i.markerSymbols[t]=e;const o=r(12028);o.register([r(94646),i]),t.exports=o},32862:(t,e,r)=>{"use strict";var n=r(7370),i=r(25059),o=r(12822),a=r(51137),s=r(99246),l=r(17499),c=s.cleanId,d=s.getFromTrace,u=i.traceIs;const h=["x","y","z"];function f(t,e){var r=t[e],n=e.charAt(0);r&&"paper"!==r&&(t[e]=c(r,n,!0))}function p(t){if(!o.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function m(t,e,r,n){if(r&&!n)return t;if(n&&!r)return e;if(!t.trim())return e;if(!e.trim())return t;var i,o=Math.min(t.length,e.length);for(i=0;i<o&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}function g(t){var e="middle",r="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?r="left":-1!==t.indexOf("right")&&(r="right")),e+" "+r}function b(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}e.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&o.log("Clearing previous rejected promises from queue."),t._promises=[]},e.cleanLayout=function(t){var r;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var n=(a.subplotsRegistry.cartesian||{}).attrRegex,i=((a.subplotsRegistry.polar||{}).attrRegex,(a.subplotsRegistry.ternary||{}).attrRegex,(a.subplotsRegistry.gl3d||{}).attrRegex,Object.keys(t));for(r=0;r<i.length;r++){var s=i[r];if(n&&n.test(s)){var d=t[s];d.anchor&&"free"!==d.anchor&&(d.anchor=c(d.anchor)),d.overlaying&&(d.overlaying=c(d.overlaying)),d.type||(d.isdate?d.type="date":d.islog?d.type="log":!1===d.isdate&&!1===d.islog&&(d.type="linear")),"withzero"!==d.autorange&&"tozero"!==d.autorange||(d.autorange=!0,d.rangemode="tozero"),d.insiderange&&delete d.range,delete d.islog,delete d.isdate,delete d.categories,b(d,"domain")&&delete d.domain}}var u=Array.isArray(t.annotations)?t.annotations.length:0;for(r=0;r<u;r++){var h=t.annotations[r];o.isPlainObject(h)&&(f(h,"xref"),f(h,"yref"))}var p=Array.isArray(t.shapes)?t.shapes.length:0;for(r=0;r<p;r++){var m=t.shapes[r];o.isPlainObject(m)&&(f(m,"xref"),f(m,"yref"))}var g=Array.isArray(t.images)?t.images.length:0;for(r=0;r<g;r++){var v=t.images[r];o.isPlainObject(v)&&(f(v,"xref"),f(v,"yref"))}var y=t.legend;return y&&(y.x>3?(y.x=1.02,y.xanchor="left"):y.x<-2&&(y.x=-.02,y.xanchor="right"),y.y>3?(y.y=1.02,y.yanchor="bottom"):y.y<-2&&(y.y=-.02,y.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),l.clean(t),t.template&&t.template.layout&&e.cleanLayout(t.template.layout),t},e.cleanData=function(t){for(var r=0;r<t.length;r++){var n,s=t[r];if("histogramy"===s.type&&"xbins"in s&&!("ybins"in s)&&(s.ybins=s.xbins,delete s.xbins),"histogramy"===s.type&&e.swapXYData(s),"histogramx"!==s.type&&"histogramy"!==s.type||(s.type="histogram"),"scl"in s&&!("colorscale"in s)&&(s.colorscale=s.scl,delete s.scl),"reversescl"in s&&!("reversescale"in s)&&(s.reversescale=s.reversescl,delete s.reversescl),s.xaxis&&(s.xaxis=c(s.xaxis,"x")),s.yaxis&&(s.yaxis=c(s.yaxis,"y")),u(s,"gl3d")&&s.scene&&(s.scene=a.subplotsRegistry.gl3d.cleanId(s.scene)),!u(s,"pie-like")&&!u(s,"bar-like"))if(Array.isArray(s.textposition))for(n=0;n<s.textposition.length;n++)s.textposition[n]=g(s.textposition[n]);else s.textposition&&(s.textposition=g(s.textposition));var d=i.getModule(s);if(d&&d.colorbar){var h=d.colorbar.container,f=h?s[h]:s;f&&f.colorscale&&("YIGnBu"===f.colorscale&&(f.colorscale="YlGnBu"),"YIOrRd"===f.colorscale&&(f.colorscale="YlOrRd"))}if("surface"===s.type&&o.isPlainObject(s.contours)){var v=["x","y","z"];for(n=0;n<v.length;n++){var y=s.contours[v[n]];o.isPlainObject(y)&&(y.highlightColor&&(y.highlightcolor=y.highlightColor,delete y.highlightColor),y.highlightWidth&&(y.highlightwidth=y.highlightWidth,delete y.highlightWidth))}}if("candlestick"===s.type||"ohlc"===s.type){var x=!1!==(s.increasing||{}).showlegend,w=!1!==(s.decreasing||{}).showlegend,_=p(s.increasing),k=p(s.decreasing);if(!1!==_&&!1!==k){var A=m(_,k,x,w);A&&(s.name=A)}else!_&&!k||s.name||(s.name=_||k)}b(s,"line")&&delete s.line,"marker"in s&&(b(s.marker,"line")&&delete s.marker.line,b(s,"marker")&&delete s.marker),l.clean(s),s.autobinx&&(delete s.autobinx,delete s.xbins),s.autobiny&&(delete s.autobiny,delete s.ybins)}},e.swapXYData=function(t){var e;if(o.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var r=t.error_y,n="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);o.swapAttrs(t,["error_?.copy_ystyle"]),n&&o.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var i=t.hoverinfo.split("+");for(e=0;e<i.length;e++)"x"===i[e]?i[e]="y":"y"===i[e]&&(i[e]="x");t.hoverinfo=i.join("+")}},e.coerceTraceIndices=function(t,e){if(n(e))return[e];if(!Array.isArray(e)||!e.length)return t.data.map((function(t,e){return e}));if(Array.isArray(e)){for(var r=[],i=0;i<e.length;i++)o.isIndex(e[i],t.data.length)?r.push(e[i]):o.warn("trace index (",e[i],") is not a number or is out of bounds");return r}return e},e.manageArrayContainers=function(t,e,r){var i=t.obj,a=t.parts,s=a.length,l=a[s-1],c=n(l);if(c&&null===e){var d=a.slice(0,s-1).join(".");o.nestedProperty(i,d).get().splice(l,1)}else c&&void 0===t.get()?(void 0===t.get()&&(r[t.astr]=null),t.set(e)):t.set(e)};var v=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function y(t){var e=t.search(v);if(e>0)return t.substr(0,e)}e.hasParent=function(t,e){for(var r=y(e);r;){if(r in t)return!0;r=y(r)}return!1},e.clearAxisTypes=function(t,e,r){for(var n=0;n<e.length;n++)for(var i=t._fullData[n],a=0;a<3;a++){var s=d(t,i,h[a]);if(s&&"log"!==s.type){var l=s._name,c=s._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==r[c])continue;l=c+"."+l}var u=l+".type";void 0===r[l]&&void 0===r[u]&&o.nestedProperty(t.layout,u).set(null)}}};const x=(t,e)=>{const r=(...t)=>t.every((t=>o.isPlainObject(t)))||t.every((t=>Array.isArray(t)));if([t,e].every((t=>Array.isArray(t)))){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const i=t[n],o=e[n];if(!(i===o||r(i,o)&&x(i,o)))return!1}return!0}if([t,e].every((t=>o.isPlainObject(t)))){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){if(n.startsWith("_"))continue;const i=t[n],o=e[n];if(!(i===o||r(i,o)&&x(i,o)))return!1}return!0}return!1};e.collectionsAreEqual=x},32994:t=>{"use strict";t.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},33322:(t,e,r)=>{"use strict";var n=r(98507).isTypedArraySpec;t.exports=function(t,e,r,i){if("category"===e.type){var o,a=t.categoryarray,s=Array.isArray(a)&&a.length>0||n(a);s&&(o="array");var l,c=r("categoryorder",o);"array"===c&&(l=r("categoryarray")),s||"array"!==c||(c=e.categoryorder="trace"),"trace"===c?e._initialCategories=[]:"array"===c?e._initialCategories=l.slice():(l=function(t,e){var r,n,i,o=e.dataAttr||t._id.charAt(0),a={};if(e.axData)r=e.axData;else for(r=[],n=0;n<e.data.length;n++){var s=e.data[n];s[o+"axis"]===t._id&&r.push(s)}for(n=0;n<r.length;n++){var l=r[n][o];for(i=0;i<l.length;i++){var c=l[i];null!=c&&(a[c]=1)}}return Object.keys(a)}(e,i).sort(),"category ascending"===c?e._initialCategories=l:"category descending"===c&&(e._initialCategories=l.reverse()))}}},33369:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499),o=r(66811).isUnifiedHover;t.exports=function(t,e,r,a){a=a||{};var s=e.legend;function l(t){a.font[t]||(a.font[t]=s?e.legend.font[t]:e.font[t])}e&&o(e.hovermode)&&(a.font||(a.font={}),l("size"),l("family"),l("color"),l("weight"),l("style"),l("variant"),s?(a.bgcolor||(a.bgcolor=i.combine(e.legend.bgcolor,e.paper_bgcolor)),a.bordercolor||(a.bordercolor=e.legend.bordercolor)):a.bgcolor||(a.bgcolor=e.paper_bgcolor)),r("hoverlabel.bgcolor",a.bgcolor),r("hoverlabel.bordercolor",a.bordercolor),r("hoverlabel.namelength",a.namelength),r("hoverlabel.showarrow",a.showarrow),n.coerceFont(r,"hoverlabel.font",a.font),r("hoverlabel.align",a.align)}},33674:t=>{"use strict";t.exports=EvalError},34045:(t,e,r)=>{"use strict";r.d(e,{A:()=>o,j:()=>a});var n=r(94825),i=(0,n.A)((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?(0,n.A)((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})):null};const o=i;var a=i.range},34463:(t,e,r)=>{"use strict";var n=r(31562),i=r(90897),o=r(22366);t.exports=function(t,e){"float"!==e&&e||(e="array"),"uint"===e&&(e="uint8"),"uint_clamped"===e&&(e="uint8_clamped");var r=new(o(e))(4),a="uint8"!==e&&"uint8_clamped"!==e;return t.length&&"string"!=typeof t||((t=n(t))[0]/=255,t[1]/=255,t[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||0===t[0])&&(t[1]>1||0===t[1])&&(t[2]>1||0===t[2])&&(!t[3]||t[3]>1))}(t)?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=null!=t[3]?t[3]:255,a&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(a?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=null!=t[3]?t[3]:1):(r[0]=i(Math.floor(255*t[0]),0,255),r[1]=i(Math.floor(255*t[1]),0,255),r[2]=i(Math.floor(255*t[2]),0,255),r[3]=null==t[3]?255:i(Math.floor(255*t[3]),0,255)),r)}},34597:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var o,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(s[c]=o[c]);if(e){a=e(o);for(var d=0;d<a.length;d++)n.call(o,a[d])&&(s[a[d]]=o[a[d]])}}return s}},34670:(t,e,r)=>{"use strict";var n=r(55508),i=r(45065);t.exports=function(t,e){var r=[{x:!1,y:!1,trace:e,t:{}}];return n(r,e),i(t,e),r}},34961:(t,e,r)=>{"use strict";var n=r(39807);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t){if("object"!==i(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===i(o)?o:String(o)),n)}var o}function a(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var s,l,c=r(81146).codes,d=c.ERR_AMBIGUOUS_ARGUMENT,u=c.ERR_INVALID_ARG_TYPE,h=c.ERR_INVALID_ARG_VALUE,f=c.ERR_INVALID_RETURN_VALUE,p=c.ERR_MISSING_ARGS,m=r(87317),g=r(11276).inspect,b=r(11276).types,v=b.isPromise,y=b.isRegExp,x=r(81309)(),w=r(43765)(),_=r(24310)("RegExp.prototype.test");function k(){var t=r(88884);s=t.isDeepEqual,l=t.isDeepStrictEqual}new Map;var A=!1,T=t.exports=C,M={};function S(t){if(t.message instanceof Error)throw t.message;throw new m(t)}function E(t,e,r,n){if(!r){var i=!1;if(0===e)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new m({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function C(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];E.apply(void 0,[C,e.length].concat(e))}T.fail=function t(e,r,i,o,a){var s,l=arguments.length;if(0===l?s="Failed":1===l?(i=e,e=void 0):(!1===A&&(A=!0,(n.emitWarning?n.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===l&&(o="!=")),i instanceof Error)throw i;var c={actual:e,expected:r,operator:void 0===o?"fail":o,stackStartFn:a||t};void 0!==i&&(c.message=i);var d=new m(c);throw s&&(d.message=s,d.generatedMessage=!0),d},T.AssertionError=m,T.ok=C,T.equal=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");e!=r&&S({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},T.notEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");e==r&&S({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},T.deepEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&k(),s(e,r)||S({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},T.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&k(),s(e,r)&&S({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},T.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&k(),l(e,r)||S({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},T.notDeepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&k(),l(e,r)&&S({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},T.strictEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");w(e,r)||S({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},T.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new p("actual","expected");w(e,r)&&S({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var z=a((function t(e,r,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.forEach((function(t){t in e&&(void 0!==n&&"string"==typeof n[t]&&y(e[t])&&_(e[t],n[t])?i[t]=n[t]:i[t]=e[t])}))}));function L(t,e,r,n){if("function"!=typeof e){if(y(e))return _(e,t);if(2===arguments.length)throw new u("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var o=new m({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new h("error",e,"may not be an empty object");return void 0===s&&k(),a.forEach((function(i){"string"==typeof t[i]&&y(e[i])&&_(e[i],t[i])||function(t,e,r,n,i,o){if(!(r in t)||!l(t[r],e[r])){if(!n){var a=new z(t,i),s=new z(e,i,t),c=new m({actual:a,expected:s,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=t,c.expected=e,c.operator=o.name,c}S({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}(t,e,i,r,a,n)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function O(t){if("function"!=typeof t)throw new u("fn","Function",t);try{t()}catch(t){return t}return M}function D(t){return v(t)||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function I(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!D(e=t()))throw new f("instance of Promise","promiseFn",e)}else{if(!D(t))throw new u("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return M})).catch((function(t){return t}))}))}function F(t,e,r,n){if("string"==typeof r){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],r);if("object"===i(e)&&null!==e){if(e.message===r)throw new d("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new d("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==i(r)&&"function"!=typeof r)throw new u("error",["Object","Error","Function","RegExp"],r);if(e===M){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var a="rejects"===t.name?"rejection":"exception";S({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(a).concat(o),stackStartFn:t})}if(r&&!L(e,r,n,t))throw e}function R(t,e,r,n){if(e!==M){if("string"==typeof r&&(n=r,r=void 0),!r||L(e,r)){var i=n?": ".concat(n):".",o="doesNotReject"===t.name?"rejection":"exception";S({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function P(t,e,r,n,o){if(!y(e))throw new u("regexp","RegExp",e);var a="match"===o;if("string"!=typeof t||_(e,t)!==a){if(r instanceof Error)throw r;var s=!r;r=r||("string"!=typeof t?'The "string" argument must be of type string. Received type '+"".concat(i(t)," (").concat(g(t),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(g(e),". Input:\n\n").concat(g(t),"\n"));var l=new m({actual:t,expected:e,message:r,operator:o,stackStartFn:n});throw l.generatedMessage=s,l}}function j(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];E.apply(void 0,[j,e.length].concat(e))}T.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];F.apply(void 0,[t,O(e)].concat(n))},T.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I(e).then((function(e){return F.apply(void 0,[t,e].concat(n))}))},T.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];R.apply(void 0,[t,O(e)].concat(n))},T.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return I(e).then((function(e){return R.apply(void 0,[t,e].concat(n))}))},T.ifError=function t(e){if(null!=e){var r="ifError got unwanted exception: ";"object"===i(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=g(e);var n=new m({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if("string"==typeof o){var a=o.split("\n");a.shift();for(var s=n.stack.split("\n"),l=0;l<a.length;l++){var c=s.indexOf(a[l]);if(-1!==c){s=s.slice(0,c);break}}n.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw n}},T.match=function t(e,r,n){P(e,r,n,t,"match")},T.doesNotMatch=function t(e,r,n){P(e,r,n,t,"doesNotMatch")},T.strict=x(j,T,{equal:T.strictEqual,deepEqual:T.deepStrictEqual,notEqual:T.notStrictEqual,notDeepEqual:T.notDeepStrictEqual}),T.strict.strict=T.strict},35366:(t,e,r)=>{"use strict";var n=r(5438);t.exports=Function.prototype.bind||n},35372:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},35486:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499);t.exports=function(t,e,r,o){o("opacity");var a=o("bgcolor"),s=o("bordercolor"),l=i.opacity(s);o("borderpad");var c=o("borderwidth"),d=o("showarrow");if(o("text",d?" ":r._dfltTitle.annotation),o("textangle"),n.coerceFont(o,"font",r.font),o("width"),o("align"),o("height")&&o("valign"),d){var u,h,f=o("arrowside");-1!==f.indexOf("end")&&(u=o("arrowhead"),h=o("arrowsize")),-1!==f.indexOf("start")&&(o("startarrowhead",u),o("startarrowsize",h)),o("arrowcolor",l?e.bordercolor:i.defaultLine),o("arrowwidth",2*(l&&c||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),m=r.hoverlabel||{};if(p){var g=o("hoverlabel.bgcolor",m.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),b=o("hoverlabel.bordercolor",m.bordercolor||i.contrast(g)),v=n.extendFlat({},m.font);v.color||(v.color=b),n.coerceFont(o,"hoverlabel.font",v)}o("captureevents",!!p)}},35531:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},35650:(t,e,r)=>{"use strict";var n=r(25059);function i(t,e,r,i){if(!e||!e.visible)return null;for(var o=n.getComponentMethod("errorbars","makeComputeError")(e),a=new Array(t.length),s=0;s<t.length;s++){var l=o(+t[s],s);if("log"===i.type){var c=i.c2l(t[s]),d=t[s]-l[0],u=t[s]+l[1];if(a[s]=[(i.c2l(d,!0)-c)*r,(i.c2l(u,!0)-c)*r],d>0){var h=i.c2l(d);i._lowerLogErrorBound||(i._lowerLogErrorBound=h),i._lowerErrorBound=Math.min(i._lowerLogErrorBound,h)}}else a[s]=[-l[0]*r,l[1]*r]}return a}t.exports=function(t,e,r){var n=[i(t.x,t.error_x,e[0],r.xaxis),i(t.y,t.error_y,e[1],r.yaxis),i(t.z,t.error_z,e[2],r.zaxis)],o=function(t){for(var e=0;e<t.length;e++)if(t[e])return t[e].length;return 0}(n);if(0===o)return null;for(var a=new Array(o),s=0;s<o;s++){for(var l=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(n[c])for(var d=0;d<2;d++)l[d][c]=n[c][s][d];a[s]=l}return a}},35677:(t,e,r)=>{"use strict";var n=r(12822),i=r(46121);t.exports=function(t,e,r){var o,a,s=r.name,l=r.inclusionAttr||"visible",c=e[s],d=n.isArrayOrTypedArray(t[s])?t[s]:[],u=e[s]=[],h=i.arrayTemplater(e,s,l);for(o=0;o<d.length;o++){var f=d[o];n.isPlainObject(f)?a=h.newItem(f):(a=h.newItem({}))[l]=!1,a._index=o,!1!==a[l]&&r.handleItemDefaults(f,a,e,r),u.push(a)}var p=h.defaultItems();for(o=0;o<p.length;o++)(a=p[o])._index=u.length,r.handleItemDefaults({},a,e,r,{}),u.push(a);if(n.isArrayOrTypedArray(c)){var m=Math.min(c.length,u.length);for(o=0;o<m;o++)n.relinkPrivateKeys(u[o],c[o])}return u}},35782:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},35852:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=r(3520),a=r(13195),s=r(53874),l=r(46367),c=r(58389).configAttributes,d=r(62309),u=i.extendDeepAll,h=i.isPlainObject,f=i.isArrayOrTypedArray,p=i.nestedProperty,m=i.valObjectMeta,g="_isSubplotObj",b="_isLinkedToArray",v="_deprecated",y=[g,b,"_arrayAttrRegexps",v];function x(t,e,r){if(!t)return!1;if(t._isLinkedToArray)if(w(e[r]))r++;else if(r<e.length)return!1;for(;r<e.length;r++){var n=t[e[r]];if(!h(n))break;if(t=n,r===e.length-1)break;if(t._isLinkedToArray){if(!w(e[++r]))return!1}else if("info_array"===t.valType){var i=e[++r];if(!w(i))return!1;var o=t.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===t.dimensions){if(r++,e.length===r)return t;var a=e[r];if(!w(a))return!1;t=o[i][a]}else t=o[i]}else t=o}}return t}function w(t){return t===Math.round(t)&&t>=0}function _(){var t,e,r,i,o,s,l={};for(t in u(l,a),n.subplotsRegistry)if((e=n.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(e.attr))for(var c=0;c<e.attr.length;c++)A(l,e,e.attr[c]);else A(l,e,"subplot"===e.attr?e.name:e.attr);for(t in n.componentsRegistry){var d=(e=n.componentsRegistry[t]).schema;if(d&&(d.subplots||d.layout)){var h=d.subplots;if(h&&h.xaxis&&!h.yaxis)for(var f in h.xaxis)delete l.yaxis[f];delete l.xaxis.shift,delete l.xaxis.autoshift}else"colorscale"===e.name?u(l,e.layoutAttributes):e.layoutAttributes&&(r=l,i=e.layoutAttributes,o=e.name,s=void 0,(s=p(r,o)).set(u(s.get()||{},i)))}return{layoutAttributes:k(l)}}function k(t){return function(t){e.crawl(t,(function(t,r,n){e.isValObject(t)?!0!==t.arrayOk&&"data_array"!==t.valType||(n[r+"src"]=function(t){return{valType:"string",description:"Sets the source reference on Chart Studio Cloud for `"+t+"`.",editType:"none"}}(r)):h(t)&&(t.role="object")}))}(t),function(t){e.crawl(t,(function(t,e,r){if(t){var n=t[b];n&&(delete t[b],r[e]={items:{}},r[e].items[n]=t,r[e].role="object")}}))}(t),function(t){!function t(e){for(var r in e)if(h(e[r]))t(e[r]);else if(Array.isArray(e[r]))for(var n=0;n<e[r].length;n++)t(e[r][n]);else e[r]instanceof RegExp&&(e[r]=e[r].toString())}(t)}(t),t}function A(t,e,r){var n=p(t,r),i=u({},e.layoutAttributes);i[g]=!0,n.set(i)}e.IS_SUBPLOT_OBJ=g,e.IS_LINKED_TO_ARRAY=b,e.DEPRECATED=v,e.UNDERSCORE_ATTRS=y,e.get=function(){var t,r={};return n.allTypes.forEach((function(t){r[t]=function(t){var r,i;i=(r=n.modules[t]._module).basePlotModule;var a={type:null},s=u({},o),l=u({},r.attributes);e.crawl(l,(function(t,e,r,n,i){p(s,i).set(void 0),void 0===t&&p(l,i).set(void 0)})),u(a,s),n.traceIs(t,"noOpacity")&&delete a.opacity,n.traceIs(t,"showLegend")||(delete a.showlegend,delete a.legendgroup),n.traceIs(t,"noHover")&&(delete a.hoverinfo,delete a.hoverlabel),r.selectPoints||delete a.selectedpoints,u(a,l),i.attributes&&u(a,i.attributes),a.type=t;var c={meta:r.meta||{},categories:r.categories||{},animatable:Boolean(r.animatable),type:t,attributes:k(a)};if(r.layoutAttributes){var d={};u(d,r.layoutAttributes),c.layoutAttributes=k(d)}return r.animatable||e.crawl(c,(function(t){e.isValObject(t)&&"anim"in t&&delete t.anim})),c}(t)})),{defs:{valObjects:m,metaKeys:y.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:r,layout:_(),frames:(t={frames:u({},s)},k(t),t.frames),animation:k(l),config:k(c)}},e.crawl=function(t,r,n,i){var o=n||0;i=i||"",Object.keys(t).forEach((function(n){var a=t[n];if(-1===y.indexOf(n)){var s=(i?i+".":"")+n;r(a,n,t,o,s),e.isValObject(a)||h(a)&&"impliedEdits"!==n&&e.crawl(a,r,o+1,s)}}))},e.isValObject=function(t){return t&&void 0!==t.valType},e.findArrayAttributes=function(t){var r,n,i=[],a=[],s=[];function l(t,e,n,i){a=a.slice(0,i).concat([e]),s=s.slice(0,i).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&("colorbar"!==a[i-1]||"ticktext"!==e&&"tickvals"!==e)&&c(r,0,"")}function c(t,e,r){var o=t[a[e]],l=r+a[e];if(e===a.length-1)f(o)&&i.push(n+l);else if(s[e]){if(Array.isArray(o))for(var d=0;d<o.length;d++)h(o[d])&&c(o[d],e+1,l+"["+d+"].")}else h(o)&&c(o,e+1,l+".")}return r=t,n="",e.crawl(o,l),t._module&&t._module.attributes&&e.crawl(t._module.attributes,l),i},e.getTraceValObject=function(t,e){var r,i,a=e[0],s=t._module;if(s||(s=(n.modules[t.type||o.type.dflt]||{})._module),!s)return!1;if(!(i=(r=s.attributes)&&r[a])){var l=s.basePlotModule;l&&l.attributes&&(i=l.attributes[a])}return i||(i=o[a]),x(i,e,1)},e.getLayoutValObject=function(t,e){var r=function(t,e){var r,i,o,s,l=t._basePlotModules;if(l){var c;for(r=0;r<l.length;r++){if((o=l[r]).attrRegex&&o.attrRegex.test(e)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!c&&o.layoutAttributes&&(c=o.layoutAttributes)}var d=o.baseLayoutAttrOverrides;if(d&&e in d)return d[e]}if(c)return c}var u=t._modules;if(u)for(r=0;r<u.length;r++)if((s=u[r].layoutAttributes)&&e in s)return s[e];for(i in n.componentsRegistry){if("colorscale"===(o=n.componentsRegistry[i]).name&&0===e.indexOf("coloraxis"))return o.layoutAttributes[e];if(!o.schema&&e===o.name)return o.layoutAttributes}return e in a&&a[e]}(t,e[0]);return x(r,e,1)}},35867:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r;return"[object Object]"===e.call(t)&&(null===(r=Object.getPrototypeOf(t))||r===Object.getPrototypeOf({}))}},36181:(t,e,r)=>{"use strict";var n=r(59738),i=r(10818),o=Object.prototype.toString;t.exports=function(t){if(!n(t))return null;if(i(t)){var e=t.toString;if("function"!=typeof e)return null;if(e===o)return null}try{return""+t}catch(t){return null}}},36187:t=>{"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}}},36275:t=>{"use strict";t.exports=Math.abs},36366:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},36404:(t,e,r)=>{"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(76927)}}},layoutAttributes:r(76927),handleDefaults:r(4088),draw:r(58204)}},36434:t=>{"use strict";var e=Object.create(null),r=Math.random;t.exports=function(){var t;do{t=r().toString(36).slice(2)}while(e[t]);return t}},36560:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},36741:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499),o=r(66811).isUnifiedHover,a=r(85400),s=r(46121),l=r(13195),c=r(86130),d=r(25119),u=r(91200),h=r(69352),f=r(52869),p=r(99246),m=p.id2name,g=p.name2id,b=r(21197).AX_ID_PATTERN,v=r(25059),y=v.traceIs,x=v.getComponentMethod;function w(t,e,r){Array.isArray(t[e])?t[e].push(r):t[e]=[r]}t.exports=function(t,e,r){var v,_,k=e.autotypenumbers,A={},T={},M={},S={},E={},C={},z={},L={},O={},D={};for(v=0;v<r.length;v++){var I=r[v];if(y(I,"cartesian")){var F,R;if(I.xaxis)F=m(I.xaxis),w(A,F,I);else if(I.xaxes)for(_=0;_<I.xaxes.length;_++)w(A,m(I.xaxes[_]),I);if(I.yaxis)R=m(I.yaxis),w(A,R,I);else if(I.yaxes)for(_=0;_<I.yaxes.length;_++)w(A,m(I.yaxes[_]),I);"funnel"===I.type?"h"===I.orientation?(F&&(T[F]=!0),R&&(z[R]=!0)):R&&(M[R]=!0):"image"===I.type?(R&&(L[R]=!0),F&&(L[F]=!0)):(R&&(E[R]=!0,C[R]=!0),y(I,"carpet")&&("carpet"!==I.type||I._cheater)||F&&(S[F]=!0)),"carpet"===I.type&&I._cheater&&F&&(T[F]=!0),y(I,"2dMap")&&(O[F]=!0,O[R]=!0),y(I,"oriented")&&(D["h"===I.orientation?R:F]=!0)}}var P=e._subplots,j=P.xaxis,N=P.yaxis,B=n.simpleMap(j,m),U=n.simpleMap(N,m),V=B.concat(U),G=i.background;j.length&&N.length&&(G=n.coerce(t,e,l,"plot_bgcolor"));var H,W,q,$,Y,Z=i.combine(G,e.paper_bgcolor);function X(){var t=A[H]||[];Y._traceIndices=t.map((function(t){return t.index})),Y._annIndices=[],Y._shapeIndices=[],Y._selectionIndices=[],Y._imgIndices=[],Y._subplotsWith=[],Y._counterAxes=[],Y._name=Y._attr=H,Y._id=W}function J(t,e){return n.coerce($,Y,c,t,e)}function Q(t,e){return n.coerce2($,Y,c,t,e)}function K(t){return"x"===t?N:j}function tt(e,r){for(var n="x"===e?B:U,i=[],o=0;o<n.length;o++){var a=n[o];a===r||(t[a]||{}).overlaying||i.push(g(a))}return i}var et={x:K("x"),y:K("y")},rt=et.x.concat(et.y),nt={},it=[];function ot(){var t=$.matches;b.test(t)&&-1===rt.indexOf(t)&&(nt[t]=$.type,it=Object.keys(nt))}var at=a(t,e),st=o(at);for(v=0;v<V.length;v++){H=V[v],W=g(H),q=H.charAt(0),n.isPlainObject(t[H])||(t[H]={}),$=t[H],Y=s.newContainer(e,H,q+"axis"),X();var lt="x"===q&&!S[H]&&T[H]||"y"===q&&!E[H]&&M[H],ct="y"===q&&(!C[H]&&z[H]||L[H]),dt={hasMinor:!0,letter:q,font:e.font,outerTicks:O[H],showGrid:!D[H],data:A[H]||[],bgColor:Z,calendar:e.calendar,automargin:!0,visibleDflt:lt,reverseDflt:ct,autotypenumbersDflt:k,splomStash:((e._splomAxes||{})[q]||{})[W],noAutotickangles:"y"===q};J("uirevision",e.uirevision),d($,Y,J,dt),u($,Y,J,dt,e);var ut=st&&q===at.charAt(0),ht=Q("spikecolor",st?Y.color:void 0),ft=Q("spikethickness",st?1.5:void 0),pt=Q("spikedash",st?"dot":void 0),mt=Q("spikemode",st?"across":void 0),gt=Q("spikesnap");J("showspikes",!!(ut||ht||ft||pt||mt||gt))||(delete Y.spikecolor,delete Y.spikethickness,delete Y.spikedash,delete Y.spikemode,delete Y.spikesnap);var bt=m($.overlaying),vt=[0,1];if(void 0!==e[bt]){var yt=m(e[bt].anchor);void 0!==e[yt]&&(vt=e[yt].domain)}f($,Y,J,{letter:q,counterAxes:et[q],overlayableAxes:tt(q,H),grid:e.grid,overlayingDomain:vt}),J("title.standoff"),ot(),Y._input=$}for(v=0;v<it.length;){W=it[v++],q=(H=m(W)).charAt(0),n.isPlainObject(t[H])||(t[H]={}),$=t[H],Y=s.newContainer(e,H,q+"axis"),X();var xt={letter:q,font:e.font,outerTicks:O[H],showGrid:!D[H],data:[],bgColor:Z,calendar:e.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((e._splomAxes||{})[q]||{})[W]};J("uirevision",e.uirevision),Y.type=nt[W]||"linear",u($,Y,J,xt,e),f($,Y,J,{letter:q,counterAxes:et[q],overlayableAxes:tt(q,H),grid:e.grid}),J("fixedrange"),J("modebardisable"),ot(),Y._input=$}var wt=x("rangeslider","handleDefaults"),_t=x("rangeselector","handleDefaults");for(v=0;v<B.length;v++)H=B[v],$=t[H],Y=e[H],wt(t,e,H),"date"===Y.type&&_t($,Y,e,U,Y.calendar),J("fixedrange"),J("modebardisable");for(v=0;v<U.length;v++){H=U[v],$=t[H],Y=e[H];var kt=e[m(Y.anchor)];J("fixedrange",x("rangeslider","isVisible")(kt)),J("modebardisable")}h.handleDefaults(t,e,{axIds:rt.concat(it).sort(p.idSort),axHasImage:L})}},37031:(t,e,r)=>{"use strict";var n=r(31845).gl_line3d,i=r(31845).gl_scatter3d,o=r(31845).gl_error3d,a=r(31845).gl_mesh3d,s=r(31845).delaunay_triangulate,l=r(12822),c=r(17235),d=r(25069).formatColor,u=r(43710),h=r(55697),f=r(24134),p=r(75815),m=r(66811).appendArrayPointValue,g=r(35650);function b(t,e){this.scene=t,this.uid=e,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var v=b.prototype;function y(t){return null==t?0:t.indexOf("left")>-1?-1:t.indexOf("right")>-1?1:0}function x(t){return null==t?0:t.indexOf("top")>-1?-1:t.indexOf("bottom")>-1?1:0}function w(t,e){return e(4*t)}function _(t){return f[t]}function k(t,e,r,n,i){var o=null;if(l.isArrayOrTypedArray(t)){o=[];for(var a=0;a<e;a++)void 0===t[a]?o[a]=n:o[a]=r(t[a],i)}else o=r(t,l.identity);return o}function A(t){if(l.isArrayOrTypedArray(t)){var e=t[0];return l.isArrayOrTypedArray(e)&&(t=e),"rgb("+t.slice(0,3).map((function(t){return Math.round(255*t)}))+")"}return null}function T(t){return l.isArrayOrTypedArray(t)?4===t.length&&"number"==typeof t[0]?A(t):t.map(A):null}v.handlePick=function(t){if(t.object&&(t.object===this.linePlot||t.object===this.delaunayMesh||t.object===this.textMarkers||t.object===this.scatterPlot)){var e=t.index=t.data.index;return t.object.highlight&&t.object.highlight(null),this.scatterPlot&&(t.object=this.scatterPlot,this.scatterPlot.highlight(t.data)),t.textLabel="",this.textLabels&&(l.isArrayOrTypedArray(this.textLabels)?(this.textLabels[e]||0===this.textLabels[e])&&(t.textLabel=this.textLabels[e]):t.textLabel=this.textLabels),t.traceCoordinate=[this.data.x[e],this.data.y[e],this.data.z[e]],!0}},v.update=function(t){var e,r,f,b,v=this.scene.glplot.gl,A=h.solid;this.data=t;var M=function(t,e){var r,n,i,o,a,s,h=[],f=t.fullSceneLayout,b=t.dataScale,v=f.xaxis,A=f.yaxis,T=f.zaxis,M=e.marker,S=e.line,E=e.x||[],C=e.y||[],z=e.z||[],L=E.length,O=e.xcalendar,D=e.ycalendar,I=e.zcalendar;for(a=0;a<L;a++)r=v.d2l(E[a],0,O)*b[0],n=A.d2l(C[a],0,D)*b[1],i=T.d2l(z[a],0,I)*b[2],h[a]=[r,n,i];if(Array.isArray(e.text))s=e.text;else if(l.isTypedArray(e.text))s=Array.from(e.text);else if(void 0!==e.text)for(s=new Array(L),a=0;a<L;a++)s[a]=e.text;function F(t,e){var r=f[t];return p.tickText(r,r.d2l(e),!0).text}var R=e.texttemplate;if(R){var P=t.fullLayout._d3locale,j=Array.isArray(R),N=j?Math.min(R.length,L):L,B=j?function(t){return R[t]}:function(){return R};for(s=new Array(N),a=0;a<N;a++){var U={x:E[a],y:C[a],z:z[a]},V={xLabel:F("xaxis",E[a]),yLabel:F("yaxis",C[a]),zLabel:F("zaxis",z[a])},G={};m(G,e,a),s[a]=l.texttemplateString({data:[G,U,e._meta],fallback:e.texttemplatefallback,labels:V,locale:P,template:B(a)})}}if(o={position:h,mode:e.mode,text:s},"line"in e&&(o.lineColor=d(S,1,L),o.lineWidth=S.width,o.lineDashes=S.dash),"marker"in e){var H=u(e);o.scatterColor=d(M,1,L),o.scatterSize=k(M.size,L,w,20,H),o.scatterMarker=k(M.symbol,L,_,""),o.scatterLineWidth=M.line.width,o.scatterLineColor=d(M.line,1,L),o.scatterAngle=0}"textposition"in e&&(o.textOffset=function(t){var e=[0,0];if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=[0,0],t[r]&&(e[r][0]=y(t[r]),e[r][1]=x(t[r]));else e[0]=y(t),e[1]=x(t);return e}(e.textposition),o.textColor=d(e.textfont,1,L),o.textSize=k(e.textfont.size,L,l.identity,12),o.textFontFamily=e.textfont.family,o.textFontWeight=e.textfont.weight,o.textFontStyle=e.textfont.style,o.textFontVariant=e.textfont.variant,o.textAngle=0);var W=["x","y","z"];for(o.project=[!1,!1,!1],o.projectScale=[1,1,1],o.projectOpacity=[1,1,1],a=0;a<3;++a){var q=e.projection[W[a]];(o.project[a]=q.show)&&(o.projectOpacity[a]=q.opacity,o.projectScale[a]=q.scale)}o.errorBounds=g(e,b,f);var $=function(t){for(var e=[0,0,0],r=[[0,0,0],[0,0,0],[0,0,0]],n=[1,1,1],i=0;i<3;i++){var o=t[i];o&&!1!==o.copy_zstyle&&!1!==t[2].visible&&(o=t[2]),o&&o.visible&&(e[i]=o.width/2,r[i]=c(o.color),n[i]=o.thickness)}return{capSize:e,color:r,lineWidth:n}}([e.error_x,e.error_y,e.error_z]);return o.errorColor=$.color,o.errorLineWidth=$.lineWidth,o.errorCapSize=$.capSize,o.delaunayAxis=e.surfaceaxis,o.delaunayColor=c(e.surfacecolor),o}(this.scene,t);"mode"in M&&(this.mode=M.mode),"lineDashes"in M&&M.lineDashes in h&&(A=h[M.lineDashes]),this.color=T(M.scatterColor)||T(M.lineColor),this.dataPoints=M.position,e={gl:this.scene.glplot.gl,position:M.position,color:M.lineColor,lineWidth:M.lineWidth||1,dashes:A[0],dashScale:A[1],opacity:t.opacity,connectGaps:t.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(e):(this.linePlot=n(e),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var S=t.opacity;if(t.marker&&void 0!==t.marker.opacity&&(S*=t.marker.opacity),r={gl:this.scene.glplot.gl,position:M.position,color:M.scatterColor,size:M.scatterSize,glyph:M.scatterMarker,opacity:S,orthographic:!0,lineWidth:M.scatterLineWidth,lineColor:M.scatterLineColor,project:M.project,projectScale:M.projectScale,projectOpacity:M.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(r):(this.scatterPlot=i(r),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),b={gl:this.scene.glplot.gl,position:M.position,glyph:M.text,color:M.textColor,size:M.textSize,angle:M.textAngle,alignment:M.textOffset,font:M.textFontFamily,fontWeight:M.textFontWeight,fontStyle:M.textFontStyle,fontVariant:M.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:t.opacity},this.textLabels=t.hovertext||t.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(b):(this.textMarkers=i(b),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),f={gl:this.scene.glplot.gl,position:M.position,color:M.errorColor,error:M.errorBounds,lineWidth:M.errorLineWidth,capSize:M.errorCapSize,opacity:t.opacity},this.errorBars?M.errorBounds?this.errorBars.update(f):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):M.errorBounds&&(this.errorBars=o(f),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),M.delaunayAxis>=0){var E=function(t,e,r){var n,i=(r+1)%3,o=(r+2)%3,a=[],l=[];for(n=0;n<t.length;++n){var c=t[n];!isNaN(c[i])&&isFinite(c[i])&&!isNaN(c[o])&&isFinite(c[o])&&(a.push([c[i],c[o]]),l.push(n))}var d=s(a);for(n=0;n<d.length;++n)for(var u=d[n],h=0;h<u.length;++h)u[h]=l[u[h]];return{positions:t,cells:d,meshColor:e}}(M.position,M.delaunayColor,M.delaunayAxis);E.opacity=t.opacity,this.delaunayMesh?this.delaunayMesh.update(E):(E.gl=v,this.delaunayMesh=a(E),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},v.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},t.exports=function(t,e){var r=new b(t,e.uid);return r.update(e),r}},37358:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(6583),a=r(23223);function s(t){return c(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function l(t){return c(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function c(t,e,r,i,s,l){var c=t/2,d=l;if("pixel"===e){var u=s?a.extractPathCoords(s,l?o.paramIsY:o.paramIsX):[r,i],h=n.aggNums(Math.max,null,u),f=n.aggNums(Math.min,null,u),p=f<0?Math.abs(f)+c:c,m=h>0?h+c:c;return{ppad:c,ppadplus:d?p:m,ppadminus:d?m:p}}return{ppad:c}}function d(t,e,r){var n,i,s="x"===t._id.charAt(0)?"x":"y",l="category"===t.type||"multicategory"===t.type,c=0,d=0,u=l?t.r2c:t.d2c;if("scaled"===e[s+"sizemode"]?(n=e[s+"0"],i=e[s+"1"],l&&(c=e[s+"0shift"],d=e[s+"1shift"])):(n=e[s+"anchor"],i=e[s+"anchor"]),void 0!==n)return[u(n)+c,u(i)+d];if(e.path){var h,f,p,m,g=1/0,b=-1/0,v=e.path.match(o.segmentRE);for("date"===t.type&&(u=a.decodeDate(u)),h=0;h<v.length;h++)void 0!==(f=r[v[h].charAt(0)].drawn)&&(!(p=v[h].substr(1).match(o.paramRE))||p.length<f||((m=u(p[f]))<g&&(g=m),m>b&&(b=m)));return b>=g?[g,b]:void 0}}t.exports=function(t){var e=t._fullLayout,r=n.filterVisible(e.shapes);if(r.length&&t._fullData.length)for(var a=0;a<r.length;a++){var c,u,h=r[a];h._extremes={};var f=i.getRefType(h.xref),p=i.getRefType(h.yref);"paper"!==h.xref&&"domain"!==f&&(u=d(c=i.getFromId(t,h.xref),h,o.paramIsX))&&(h._extremes[c._id]=i.findExtremes(c,u,s(h))),"paper"!==h.yref&&"domain"!==p&&(u=d(c=i.getFromId(t,h.yref),h,o.paramIsY))&&(h._extremes[c._id]=i.findExtremes(c,u,l(h)))}}},37779:(t,e,r)=>{"use strict";var n,i=r(11491),o=r(55572);try{n=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var a=!!n&&o&&o(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;t.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof l&&function(t){return l(null==t?t:s(t))}},37821:function(module,__unused_webpack_exports,__webpack_require__){var process=__webpack_require__(39807),factory;factory=()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{IOBuffer:()=>a});var n=r("./node_modules/iobuffer/lib-esm/text.browser.js");const i=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),o={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class a{constructor(t=8192,e={}){let r=!1;"number"==typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let o=n;(ArrayBuffer.isView(t)||t instanceof a)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=o[e].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,a=this.buffer.slice(n,n+r);if(this.littleEndian===i&&"uint8"!==e&&"int8"!==e){const t=new Uint8Array(this.buffer.slice(n,n+r));t.reverse();const i=new o[e](t.buffer);return this.offset+=r,i.reverse(),i}const s=new o[e](a);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return(0,n.decode)(this.readBytes(t))}decodeText(t=1,e="utf-8"){return(0,n.decode)(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes((0,n.encode)(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){"use strict";!function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(t="utf-8"){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${t}') is invalid.`)}function r(t="utf-8",e={fatal:!1}){if("utf-8"!==t)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${t}') is invalid.`);if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e={stream:!1}){if(e.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let r=0;const n=t.length;let i=0,o=Math.max(32,n+(n>>1)+7),a=new Uint8Array(o>>3<<3);for(;r<n;){let e=t.charCodeAt(r++);if(e>=55296&&e<=56319){if(r<n){const n=t.charCodeAt(r);56320==(64512&n)&&(++r,e=((1023&e)<<10)+(1023&n)+65536)}if(e>=55296&&e<=56319)continue}if(i+4>a.length){o+=8,o*=1+r/t.length*2,o=o>>3<<3;const e=new Uint8Array(o);e.set(a),a=e}if(4294967168&e){if(4294965248&e)if(4294901760&e){if(4292870144&e)continue;a[i++]=e>>18&7|240,a[i++]=e>>12&63|128,a[i++]=e>>6&63|128}else a[i++]=e>>12&15|224,a[i++]=e>>6&63|128;else a[i++]=e>>6&31|192;a[i++]=63&e|128}else a[i++]=e}return a.slice(0,i)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t,e={stream:!1}){if(e.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const r=new Uint8Array(t);let n=0;const i=r.length,o=[];for(;n<i;){const t=r[n++];if(0===t)break;if(128&t){if(192==(224&t)){const e=63&r[n++];o.push((31&t)<<6|e)}else if(224==(240&t)){const e=63&r[n++],i=63&r[n++];o.push((31&t)<<12|e<<6|i)}else if(240==(248&t)){let e=(7&t)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++];e>65535&&(e-=65536,o.push(e>>>10&1023|55296),e=56320|1023&e),o.push(e)}}else o.push(t)}return String.fromCharCode.apply(null,o)},t.TextEncoder=e,t.TextDecoder=r}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(t,e,r)=>{"use strict";function n(t,e="utf8"){return new TextDecoder(e).decode(t)}r.r(e),r.d(e,{decode:()=>n,encode:()=>o}),r("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js");const i=new TextEncoder;function o(t){return i.encode(t)}},"./node_modules/netcdfjs/lib-esm/data.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{nonRecord:()=>i,record:()=>o});var n=r("./node_modules/netcdfjs/lib-esm/types.js");function i(t,e){const r=(0,n.str2num)(e.type),i=e.size/(0,n.num2bytes)(r),o=new Array(i);for(let e=0;e<i;e++)o[e]=(0,n.readType)(t,r,1);return o}function o(t,e,r){const i=(0,n.str2num)(e.type),o=e.size?e.size/(0,n.num2bytes)(i):1,a=r.length,s=new Array(a),l=r.recordStep;if(!l)throw new Error("recordDimension.recordStep is undefined");for(let e=0;e<a;e++){const r=t.offset;s[e]=(0,n.readType)(t,i,o),t.seek(r+l)}return s}},"./node_modules/netcdfjs/lib-esm/header.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{header:()=>d});var n=r("./node_modules/netcdfjs/lib-esm/types.js"),i=r("./node_modules/netcdfjs/lib-esm/utils.js");const o=0,a=10,s=11,l=12,c=0;function d(t,e){const r={version:e},l={length:t.readUint32()},d=function(t){const e={};let r,n;const s=t.readUint32();let l;if(s===o)return(0,i.notNetcdf)(t.readUint32()!==o,"wrong empty tag for list of dimensions"),[];{(0,i.notNetcdf)(s!==a,"wrong tag for list of dimensions");const e=t.readUint32();l=new Array(e);for(let o=0;o<e;o++){const e=(0,i.readName)(t),a=t.readUint32();a===c&&(r=o,n=e),l[o]={name:e,size:a}}}return void 0!==r&&(e.recordId=r),void 0!==n&&(e.recordName=n),e.dimensions=l,e}(t);Array.isArray(d)||(l.id=d.recordId,l.name=d.recordName,r.dimensions=d.dimensions),r.globalAttributes=u(t);const h=function(t,e,r){const a=t.readUint32();let l,c=0;if(a===o)return(0,i.notNetcdf)(t.readUint32()!==o,"wrong empty tag for list of variables"),[];{(0,i.notNetcdf)(a!==s,"wrong tag for list of variables");const o=t.readUint32();l=new Array(o);for(let a=0;a<o;a++){const o=(0,i.readName)(t),s=t.readUint32(),d=new Array(s);for(let e=0;e<s;e++)d[e]=t.readUint32();const h=u(t),f=t.readUint32();(0,i.notNetcdf)(f<1&&f>6,`non valid type ${f}`);const p=t.readUint32();let m=t.readUint32();2===r&&((0,i.notNetcdf)(m>0,"offsets larger than 4GB not supported"),m=t.readUint32());let g=!1;void 0!==e&&d[0]===e&&(c+=p,g=!0),l[a]={name:o,dimensions:d,attributes:h,type:(0,n.num2str)(f),size:p,offset:m,record:g}}}return{variables:l,recordStep:c}}(t,l?.id,e);return Array.isArray(h)||(r.variables=h.variables,l.recordStep=h.recordStep),r.recordDimension=l,r}function u(t){const e=t.readUint32();let r;if(e===o)return(0,i.notNetcdf)(t.readUint32()!==o,"wrong empty tag for list of attributes"),[];{(0,i.notNetcdf)(e!==l,"wrong tag for list of attributes");const o=t.readUint32();r=new Array(o);for(let e=0;e<o;e++){const o=(0,i.readName)(t),a=t.readUint32();(0,i.notNetcdf)(a<1||a>6,`non valid type ${a}`);const s=t.readUint32(),l=(0,n.readType)(t,a,s);(0,i.padding)(t),r[e]={name:o,type:(0,n.num2str)(a),value:l}}}return r}},"./node_modules/netcdfjs/lib-esm/index.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{NetCDFReader:()=>n.NetCDFReader});var n=r("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{NetCDFReader:()=>l});var n=r("./node_modules/iobuffer/lib-esm/IOBuffer.js"),i=r("./node_modules/netcdfjs/lib-esm/data.js"),o=r("./node_modules/netcdfjs/lib-esm/header.js"),a=r("./node_modules/netcdfjs/lib-esm/toString.js"),s=r("./node_modules/netcdfjs/lib-esm/utils.js");class l{constructor(t){this.toString=a.toString;const e=new n.IOBuffer(t);e.setBigEndian(),(0,s.notNetcdf)("CDF"!==e.readChars(3),"should start with CDF");const r=e.readByte();(0,s.notNetcdf)(r>2,"unknown version"),this.header=(0,o.header)(e,r),this.buffer=e}get version(){return 1===this.header.version?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(t){const e=this.globalAttributes.find((e=>e.name===t));return e?e.value:null}getDataVariableAsString(t){const e=this.getDataVariable(t);return e?e.join(""):null}get variables(){return this.header.variables}getDataVariable(t){let e;if(e="string"==typeof t?this.header.variables.find((e=>e.name===t)):t,void 0===e)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(e.offset),e.record?(0,i.record)(this.buffer,e,this.header.recordDimension):(0,i.nonRecord)(this.buffer,e)}dataVariableExists(t){return void 0!==this.header.variables.find((e=>e.name===t))}attributeExists(t){return void 0!==this.globalAttributes.find((e=>e.name===t))}}},"./node_modules/netcdfjs/lib-esm/toString.js":(t,e,r)=>{"use strict";function n(){const t=[];t.push("DIMENSIONS");for(const e of this.dimensions)t.push(`  ${e.name.padEnd(30)} = size: ${e.size}`);t.push(""),t.push("GLOBAL ATTRIBUTES");for(const e of this.globalAttributes)t.push(`  ${e.name.padEnd(30)} = ${e.value}`);const e=JSON.parse(JSON.stringify(this.variables));t.push(""),t.push("VARIABLES:");for(const r of e){r.value=this.getDataVariable(r);let e=JSON.stringify(r.value);e.length>50&&(e=e.substring(0,50)),isNaN(r.value.length)||(e+=` (length: ${r.value.length})`),t.push(`  ${r.name.padEnd(30)} = ${e}`)}return t.join("\n")}r.r(e),r.d(e,{toString:()=>n})},"./node_modules/netcdfjs/lib-esm/types.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{num2bytes:()=>o,num2str:()=>i,readType:()=>l,str2num:()=>a});const n={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function i(t){switch(Number(t)){case n.BYTE:return"byte";case n.CHAR:return"char";case n.SHORT:return"short";case n.INT:return"int";case n.FLOAT:return"float";case n.DOUBLE:return"double";default:return"undefined"}}function o(t){switch(Number(t)){case n.BYTE:case n.CHAR:return 1;case n.SHORT:return 2;case n.INT:case n.FLOAT:return 4;case n.DOUBLE:return 8;default:return-1}}function a(t){switch(String(t)){case"byte":return n.BYTE;case"char":return n.CHAR;case"short":return n.SHORT;case"int":return n.INT;case"float":return n.FLOAT;case"double":return n.DOUBLE;default:return-1}}function s(t,e){if(1!==t){const r=new Array(t);for(let n=0;n<t;n++)r[n]=e();return r}return e()}function l(t,e,r){switch(e){case n.BYTE:return Array.from(t.readBytes(r));case n.CHAR:return 0===(i=t.readChars(r)).charCodeAt(i.length-1)?i.substring(0,i.length-1):i;case n.SHORT:return s(r,t.readInt16.bind(t));case n.INT:return s(r,t.readInt32.bind(t));case n.FLOAT:return s(r,t.readFloat32.bind(t));case n.DOUBLE:return s(r,t.readFloat64.bind(t));default:throw new Error(`non valid type ${e}`)}var i}},"./node_modules/netcdfjs/lib-esm/utils.js":(t,e,r)=>{"use strict";function n(t,e){if(t)throw new TypeError(`Not a valid NetCDF v3.x file: ${e}`)}function i(t){t.offset%4!=0&&t.skip(4-t.offset%4)}function o(t){const e=t.readUint32(),r=t.readChars(e);return i(t),r}r.r(e),r.d(e,{notNetcdf:()=>n,padding:()=>i,readName:()=>o})},"./src/WebGL/shaders/lib/basic/basic.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"},"./src/WebGL/shaders/lib/basic/basic.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nattribute vec3 position;\nattribute vec3 color;\n\nvarying vec3 vColor;\n\nvoid main() {\n\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n\n}"},"./src/WebGL/shaders/lib/blur/blur.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;\nuniform highp sampler2D inTex;\nvarying highp vec2 vTexCoords;\n    \nvoid main() {\n \n vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));\n float blurred_visibility_factor = 0.0f;\n for (int t = -1; t <= 1; ++t) {\n  for (int s = -1; s <= 1; ++s) {\n   vec2 offset = vec2(float(s), float(t)) * texelSize;\n   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;\n  }\n }\n    \n gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;\n \n}"},"./src/WebGL/shaders/lib/blur/blur.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="attribute vec2 vertexPosition;\nvarying highp vec2 vTexCoords;\nconst vec2 scale = vec2(0.5, 0.5);\n\nvoid main() {\n   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range\n   gl_Position = vec4(vertexPosition, 0.0, 1.0);\n}\n        "},"./src/WebGL/shaders/lib/instanced/instanced.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform mat4 viewMatrix;\nuniform float opacity;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n#ifdef SHADED\nuniform highp sampler2D shading;\n#endif\nvarying vec3 vLightFront;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\n\nvoid main() {\n\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n\n#ifdef SHADED\n    ivec2 dim = textureSize(shading,0);\n    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;\n    vColor *= shadowFactor;\n#endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n}\n\n\n"},"./src/WebGL/shaders/lib/instanced/instanced.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\n\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\n\nvarying vec3 vColor;\nvarying vec3 vLightFront;\n\nvoid main() {\n\n    vColor = color;\n\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n\n    vLightFront = vec3( 0.0 );\n\n    transformedNormal = normalize( transformedNormal );\n\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n\n    gl_Position = projectionMatrix * mvPosition;\n}\n\n"},"./src/WebGL/shaders/lib/lambert/lambert.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform mat4 viewMatrix;\nuniform float opacity;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n#ifdef SHADED\nuniform highp sampler2D shading;\n#endif\nvarying vec3 vLightFront;\nvarying vec3 vColor;\n//DEFINEFRAGCOLOR\n\nvoid main() {\n\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n#ifdef SHADED\n    ivec2 dim = textureSize(shading,0);\n    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;\n    vColor *= shadowFactor;\n#endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n}"},"./src/WebGL/shaders/lib/lambert/lambert.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\n\nvarying vec3 vColor;\nvarying vec3 vLightFront;\n\nvoid main() {\n\n    vColor = color;\n\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    vLightFront = vec3( 0.0 );\n\n    transformedNormal = normalize( transformedNormal );\n\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n\n    gl_Position = projectionMatrix * mvPosition;\n}"},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n#ifdef SHADED\nuniform highp sampler2D shading;\n#endif\n\nuniform mat4 viewMatrix;\nuniform float opacity;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\n\nvarying vec3 vColor;\n\n\n//DEFINEFRAGCOLOR\n\nvoid main() {\n\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n\n    vec3 color = vColor;\n#ifdef SHADED\n    ivec2 dim = textureSize(shading,0);\n    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;\n    color *= shadowFactor;\n#endif\n    gl_FragColor = gl_FragColor * vec4( color, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n}\n\n\n"},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\n\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\n\nvoid main() {\n\n    vColor = color;\n\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n\n    transformedNormal = normalize( transformedNormal );\n\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n\n    gl_Position = projectionMatrix * mvPosition;\n}\n\n"},"./src/WebGL/shaders/lib/outline/outline.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n//DEFINEFRAGCOLOR\n\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );    \n}\n\n\n"},"./src/WebGL/shaders/lib/outline/outline.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nuniform float vWidth;\nuniform float vHeight;\nuniform float outlineMaxPixels;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\n\nvoid main() {\n\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    vec4 outpos = projectionMatrix * mvPosition;\n\n    if(outlineMaxPixels > 0.0) {\n        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );\n        float w = outpos.w;\n        //normalize homogeneous coords\n        unadjusted /= unadjusted.w;\n        outpos /= outpos.w;\n        vec2 diff = outpos.xy-unadjusted.xy;\n        //put into pixels\n        diff.x *= vWidth;\n        diff.y *= vHeight;\n        if ( length(diff) > outlineMaxPixels) {\n            vec2 ndiff = normalize(diff)*outlineMaxPixels;\n            ndiff.x /= vWidth;\n            ndiff.y /= vHeight;\n            outpos.xy = unadjusted.xy;\n            outpos.xy += ndiff;\n        }\n        outpos *= w; //if I don't do this things blow up\n    }\n    gl_Position = outpos;\n    mvPosition.z -= outlinePushback; //go backwards in model space\n    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}\n\n"},"./src/WebGL/shaders/lib/screen/screen.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform sampler2D colormap;\nvarying highp vec2 vTexCoords;\nuniform vec2 dimensions;\n//DEFINEFRAGCOLOR\nvoid main (void) {\n   gl_FragColor = texture2D(colormap, vTexCoords);\n\n   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading \n}\n        "},"./src/WebGL/shaders/lib/screen/screen.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="attribute vec2 vertexPosition;\nvarying highp vec2 vTexCoords;\nconst vec2 scale = vec2(0.5, 0.5);\n\nvoid main() {\n   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range\n   gl_Position = vec4(vertexPosition, 0.0, 1.0);\n}\n        "},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform highp sampler2D colormap;\nvarying highp vec2 vTexCoords;\n\n\n// Basic FXAA implementation based on the code on geeks3d.com \n#define FXAA_REDUCE_MIN (1.0/ 128.0)\n#define FXAA_REDUCE_MUL (1.0 / 8.0)\n#define FXAA_SPAN_MAX 8.0\n\n\nvec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)\n{\n    vec4 color;\n    ivec2 dim = textureSize(tex,0);\n    vec2 dimensions = vec2(float(dim.x),float(dim.y));\n    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);\n    vec4 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP);\n    vec4 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP);\n    vec4 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP);\n    vec4 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP);\n    vec4 rgbM  = texture2D(tex, fragCoord );\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW.xyz, luma);\n    float lumaNE = dot(rgbNE.xyz, luma);\n    float lumaSW = dot(rgbSW.xyz, luma);\n    float lumaSE = dot(rgbSE.xyz, luma);\n    float lumaM  = dot(rgbM.xyz,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n            dir * rcpDirMin)) * inverseVP;\n\n    vec4 rgbA = 0.5 * (\n        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)) +\n        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)));\n    vec4 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord  + dir * -0.5) +\n        texture2D(tex, fragCoord  + dir * 0.5));\n\n    float lumaB = dot(rgbB.xyz, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = rgbA;\n    else\n        color = rgbB;\n\n    return color;\n}\n\n\n//DEFINEFRAGCOLOR\nvoid main (void) {\n    ivec2 dim = textureSize(colormap,0);\n\n  gl_FragColor = applyFXAA(vTexCoords, colormap);\n}\n        "},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="attribute vec2 vertexPosition;\nvarying highp vec2 vTexCoords;\nconst vec2 scale = vec2(0.5, 0.5);\n\nvoid main() {\n   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range\n   gl_Position = vec4(vertexPosition, 0.0, 1.0);\n}\n        "},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\nuniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\n\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\n\n#ifdef SHADED\nuniform highp sampler2D shading;\n#endif\n\n//DEFINEFRAGCOLOR\n\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    vec3 color = vLight*vColor;\n#ifdef SHADED\n    ivec2 dim = textureSize(shading,0);\n    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;\n    color *= shadowFactor;\n#endif    \n    gl_FragColor = vec4(color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n\n"},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\n\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\n\nvoid main() {\n\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n\n}\n"},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\n\nuniform float outlinePushback;\n\n//DEFINEFRAGCOLOR\n\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}\n\n\n"},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nuniform float outlineMaxPixels;\nuniform float vWidth;\nuniform float vHeight;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\n\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\n\nvoid main() {\n\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); \n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);\n\n    if(outlineMaxPixels > 0.0) {\n        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); \n        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);\n        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); \n        //subtract center \n        unadjusted.xyz -= ccoord.xyz;\n        adjust.xyz -= ccoord.xyz;\n        unadjusted /= unadjusted.w;\n        adjust /= adjust.w;\n        float diff = abs(adjust.x-unadjusted.x);\n        diff *= vWidth;\n        if(diff > outlineMaxPixels) {\n            \n            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;\n            //adjsut reval by ratio of lengths\n            rval *= fixlen/abs(adjust.x);\n        }\n\n    }\n}\n\n"},"./src/WebGL/shaders/lib/sprite/sprite.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\n\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\n\nvarying vec2 vUV;\n//DEFINEFRAGCOLOR\n\nvoid main() {\n\n    vec4 texture = texture2D(map, vUV);\n\n    if (texture.a <= alphaTest) discard;\n\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n\n    if (fogType > 0) {\n\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n\n    }\n}\n\n"},"./src/WebGL/shaders/lib/sprite/sprite.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\n\nattribute vec2 position;\nattribute vec2 uv;\n\nvarying vec2 vUV;\n\nvoid main() {\n\n    vUV = uvOffset + uv * uvScale;\n\n    vec2 alignedPosition = position + alignment;\n\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n\n    vec4 finalPosition;\n\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n\n    gl_Position = finalPosition;\n\n}\n\n"},"./src/WebGL/shaders/lib/ssao/ssao.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform sampler2D depthmap;\nvarying highp vec2 vTexCoords;\nuniform float vWidth;\nuniform float vHeight;\nuniform float total_strength;\nuniform float radius;\nuniform mat4 projinv;\nuniform mat4 projectionMatrix;\n\n//code for pseudorandom vector from chatgpt\nfloat hash(vec3 p) {\n    p = fract(p * vec3(0.1031, 0.1030, 0.0973));\n    p += dot(p, p.yzx + 33.33);\n    return fract((p.x + p.y) * p.z);\n}\n\n// Generate a pseudorandom vec3 from a seed vec3\nvec3 pseudorandomVec3(vec3 seed) {\n    vec3 randomVec;\n    randomVec.x = hash(seed);\n    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));\n    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));\n    return randomVec;\n}\n\nvoid main(void)\n{   \n   const float base = 0.2;\n   const float area = 0.75;\n   const int cycles = 1;\n\n   const int samples = 64;\n   vec3 sample_sphere[64] = vec3[](\n      vec3(0.091258,-0.510164,0.000000),\n      vec3(-0.204347,-0.872967,0.187199),\n      vec3(0.009690,-0.263696,-0.110414),\n      vec3(0.175208,-0.563987,0.228527),\n      vec3(-0.001824,-0.003113,-0.000323),\n      vec3(0.411134,-0.719869,-0.261530),\n      vec3(-0.074272,-0.377368,0.276290),\n      vec3(-0.147773,-0.381587,-0.284529),\n      vec3(0.173317,-0.199635,0.063295),\n      vec3(-0.186452,-0.199460,0.076965),\n      vec3(0.143985,-0.308160,-0.307687),\n      vec3(0.053194,-0.148286,0.169589),\n      vec3(-0.547656,-0.486476,-0.317378),\n      vec3(0.020804,-0.015092,-0.004574),\n      vec3(-0.038006,-0.043165,0.054059),\n      vec3(-0.094795,-0.443908,-0.731525),\n      vec3(0.547552,-0.396466,0.461477),\n      vec3(-0.176886,-0.089989,0.007315),\n      vec3(0.074401,-0.048840,-0.074039),\n      vec3(-0.008240,-0.075697,0.178197),\n      vec3(-0.307880,-0.185053,-0.368943),\n      vec3(0.309520,-0.108483,0.041646),\n      vec3(-0.773478,-0.292946,0.538166),\n      vec3(0.184487,-0.231594,-0.820065),\n      vec3(0.207318,-0.100531,0.361797),\n      vec3(-0.173306,-0.037737,-0.055289),\n      vec3(0.548102,-0.105342,-0.253237),\n      vec3(-0.119342,-0.043907,0.285162),\n      vec3(-0.270247,-0.087861,-0.751357),\n      vec3(0.449312,-0.039777,0.236146),\n      vec3(-0.743773,-0.036095,0.196056),\n      vec3(0.148819,-0.004300,-0.231448),\n      vec3(0.008773,0.000809,0.051047),\n      vec3(-0.461467,0.027390,-0.357386),\n      vec3(0.169626,0.013338,-0.014053),\n      vec3(-0.043786,0.007095,0.047331),\n      vec3(0.004821,0.140371,-0.988260),\n      vec3(0.092402,0.023994,0.101860),\n      vec3(-0.295335,0.061530,-0.027372),\n      vec3(0.024903,0.007537,-0.018901),\n      vec3(-0.081463,0.125402,0.447794),\n      vec3(-0.397119,0.231805,-0.631062),\n      vec3(0.163853,0.059014,0.044905),\n      vec3(-0.495220,0.214357,0.254139),\n      vec3(0.306123,0.373687,-0.825715),\n      vec3(0.021665,0.026737,0.053220),\n      vec3(-0.208231,0.117129,-0.098685),\n      vec3(0.139749,0.080968,-0.043086),\n      vec3(-0.153599,0.182814,0.262090),\n      vec3(-0.159673,0.496777,-0.743568),\n      vec3(0.134797,0.117152,0.095753),\n      vec3(-0.155626,0.120533,0.019395),\n      vec3(0.042311,0.054462,-0.049709),\n      vec3(0.001257,0.031288,0.034468),\n      vec3(-0.002271,0.003199,-0.002304),\n      vec3(0.662104,0.717307,0.033854),\n      vec3(-0.373100,0.576021,0.308274),\n      vec3(0.024233,0.231316,-0.173688),\n      vec3(0.161311,0.420217,0.234273),\n      vec3(-0.045248,0.078031,-0.010411),\n      vec3(0.167453,0.376942,-0.094872),\n      vec3(-0.056194,0.433247,0.173218),\n      vec3(-0.016224,0.123149,-0.035569),\n      vec3(0.067127,0.407641,0.028479)\n   );\n\n   float depth = texture2D(depthmap, vTexCoords).r;\n   if(depth == 1.0) {\n      discard;\n   }\n\n   vec4 screen_position = vec4(vTexCoords, depth,1.0);\n   vec4 pos = projinv*screen_position;\n   pos /= pos.w;\n   vec3 position = pos.xyz;\n\n   //approximate the normal from the depth map; I find this simpler\n   //than trying to recompute the exact normal within every possible object shader\n\n   //pixel offset positions in screen space\n   ivec2 dim = textureSize(depthmap,0);\n   vec2 offset1 = vec2(0.0,1.0/float(dim.y));\n   vec2 offset2 = vec2(1.0/float(dim.x),0.0);\n   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;\n   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;\n   \n   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);\n   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);\n\n   //convert to model space\n   vec4 pos1 = projinv*vec4(p1,1);\n   pos1 /= pos1.w;\n   vec4 pos2 = projinv*vec4(p2,1);\n   pos2 /= pos2.w;\n\n   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space\n\n   //pseudo random number\n\n   float occlusion = 0.0;\n   for(int c = 0; c < cycles; c++) {\n   vec3 random = normalize(pseudorandomVec3(position+float(c)));\n   for(int i=0; i < samples; i++) {\n\n      vec3 ray = radius * reflect(sample_sphere[i],random);\n      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space\n      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);\n      hemi_screen /= hemi_screen.w;\n      \n      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;\n      float difference = hemi_screen.z - occ_depth;\n      \n      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));\n   }\n   }\n   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));\n   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);\n\n}"},"./src/WebGL/shaders/lib/ssao/ssao.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="attribute vec2 vertexPosition;\nvarying highp vec2 vTexCoords;\nconst vec2 scale = vec2(0.5, 0.5);\n\nvoid main() {\n   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range\n   gl_Position = vec4(vertexPosition, 0.0, 1.0);\n}\n        "},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    color *= light;\n#ifdef SHADED\n    ivec2 dim = textureSize(shading,0);\n    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;\n    color *= shadowFactor;\n#endif    \n    gl_FragColor = vec4(color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\n\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\n\nvoid main() {\n\n    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1; //slop to account for perspective of sphere\n    if(length(p1) > length(p2)) { //billboard at level of closest point\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    bool isperspective = (projectionMatrix[3][3] == 0.0);\n//intersect with the plane defined by the camera looking at the billboard point\n    if(color.z >= 0.0) { //p1\n       if(isperspective) { //perspective\n         vec3 pnorm = normalize(p1);\n         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n         mvPosition.xyz = p1+t*pnorm; \n       } else { //orthographic\n         mvPosition.xyz = p1;\n       }\n    } else {\n      if(isperspective) { //perspective\n         vec3 pnorm = normalize(p2);\n         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n         mvPosition.xyz = p2+t*pnorm;\n       } else { //orthographic\n         mvPosition.xyz = p2;\n       } \n       mult *= -1.0;\n    }\n\n    if(isperspective) { //perspective\n      vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n      vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n      mvPosition.xyz +=  mult*(cr + doublecr).xyz;\n    } else {\n      vec3 cr = normalize(cross(vec3(0.0,0.0,-1.0),norm))*radius;\n      vec3 doublecr = normalize(cross(vec3(0.0,0.0,-1.0),cr))*radius;\n      mvPosition.xyz +=  mult*(cr + doublecr).xyz;     \n    }\n\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..\n}\n\n"},"./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform float opacity;\nuniform mat4 projectionMatrix;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\n\n#ifdef SHADED\nuniform highp sampler2D shading;\n#endif\n\n//DEFINEFRAGCOLOR\n\n//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf\n//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl\n//with a bit more care (caps) this could be a general cylinder imposter (see also outline)\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos; //ray point\n    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic\n    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective\n    vec3 pa = p1; //cyl start\n    vec3 va = normalize(p2-p1); //cyl norm\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n//quadratic equation!\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0\n       vec3 cp;\n       if( dotp1 < 0.0) {  \n//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not\n        cp = p1;\n       } else {\n//          if(vColor.y < 0.0 ) discard;\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t; \n       norm = normalize(qi-cp); \n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nuniform float outlineMaxPixels;\nuniform float vWidth;\nuniform mat4 projinv;\n\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\n\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\n\nvoid main() {\n\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n\n    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n//pushback\n    float scale = 1.0;\n    if(projectionMatrix[3][3] != 0.0) { //orthographic\n        to.z -= outlinePushback;\n        pt.z -= outlinePushback;\n    } else { //perspective\n        vec4 midbefore = pt;\n        if(length(to.xyz) < length(pt)) {\n            midbefore = to;\n        }\n        vec4 midafter = midbefore;\n        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;\n\n        to.xyz += normalize(to.xyz)*outlinePushback;\n        pt.xyz += normalize(pt.xyz)*outlinePushback;\n\n        //figure out a scaling factor for radius to account for perspective setback\n        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);\n        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);\n\n        vec4 mb = projectionMatrix*midbefore;\n        vec4 mbr = projectionMatrix*midbeforer;\n        vec4 ma = projectionMatrix*midafter;\n        vec4 mar = projectionMatrix*midafterr;\n        mb /= mb.w;\n        mbr /= mbr.w;\n        ma /= ma.w;\n        mar /= mar.w;\n        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));\n        rad *= scale;\n        r = abs(rad);\n    }\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1; //slop to account for perspective of sphere\n    if(length(p1) > length(p2)) { //billboard at level of closest point\n       mvPosition = to;\n    }\n\n    vec3 n = normalize(mvPosition.xyz);\n//intersect with the plane defined by the camera looking at the billboard point\n    if(color.z >= 0.0) { //p1\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n\n    if(outlineMaxPixels > 0.0) {\n        vec4 cpos = mvPosition;\n        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); \n        vec4 ccoord = projectionMatrix*cpos;\n        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); \n        unadjusted /= unadjusted.w;\n        adjust /= adjust.w;\n        unadjusted.xyz -= ccoord.xyz/ccoord.w;\n        adjust.xyz -= ccoord.xyz/ccoord.w;\n        float diff = abs(adjust.x-unadjusted.x);\n        diff *= vWidth; //this should now be in pixels\n        if(diff > outlineMaxPixels) {\n            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; \n            vec4 pcoord = ccoord;\n            pcoord.x += fixlen*pcoord.w;\n            vec4 altc = projinv*pcoord;\n            r= abs(altc.x-cpos.x);\n        }\n    }\n\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}\n\n"},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="\nuniform highp sampler3D data;\nuniform highp sampler2D colormap;\nuniform highp sampler2D depthmap;\n\n\nuniform mat4 textmat;\nuniform mat4 projinv;\nuniform mat4 projectionMatrix;\n\nuniform float step;\nuniform float subsamples;\nuniform float maxdepth;\nuniform float transfermin;\nuniform float transfermax;\nin  vec4 mvPosition;\nout vec4 color;\nvoid main(void) {\n\n   vec4 pos = mvPosition;\n   bool seengood = false;\n   float i = 0.0;\n   color = vec4(1,1,1,0);\n   float increment = 1.0/subsamples;\n   float maxsteps = (maxdepth*subsamples/step);\n//there's probably a better way to do this..\n//calculate farthest possible point in model coordinates\n   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);\n// convert to projection\n   maxpos = projectionMatrix*maxpos;\n   vec4 startp = projectionMatrix*pos;\n// homogonize\n   maxpos /= maxpos.w;\n   startp /= startp.w;\n//take x,y from start and z from max\n   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);\n//convert back to model space\n   maxpos = projinv*maxpos;\n   maxpos /= maxpos.w;\n   float incr = step/subsamples;\n//get depth from depthmap\n//startp is apparently [-1,1]\n   vec2 tpos = startp.xy/2.0+0.5;\n   float depth = texture(depthmap, tpos).r;\n//compute vector between start and end\n   vec4 direction = maxpos-pos;\n   for( i = 0.0; i <= maxsteps; i++) {\n      vec4 pt = (pos+(i/maxsteps)*direction);\n      vec4 ppt = projectionMatrix*pt;\n      float ptdepth = ppt.z/ppt.w;\n      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n      if(ptdepth > depth) break;\n      pt = textmat*pt;\n//       pt /= pt.w;\n      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {\n         seengood = true;\n      } else if(seengood) {\n         break;\n      }\n      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){\n          color.a = 0.0;\n          continue;\n      }\n      else {\n         float val = texture(data, pt.zyx).r;\n         if(isinf(val)) continue; //masked out\n         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range\n         vec4 val_color = texture(colormap, vec2(cval,0.5));\n         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;\n         color.a += (1.0 - color.a) * val_color.a; \n         if(color.a > 0.0) color.rgb /= color.a;\n//          color = vec4(pt.x, pt.y, pt.z, 1.0);\n      }\n//       color = vec4(pt.x, pt.y, pt.z, 0.0)\n    }\n}\n\n        "},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n="uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n\nin vec3 position;\nout vec4 mvPosition;\nvoid main() {\n\n    mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix*mvPosition;\n}\n"},"./src/GLDraw.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CAP:()=>n,GLDraw:()=>i});var n,i,o=r("./src/WebGL/math/index.ts");!function(t){t[t.NONE=0]="NONE",t[t.FLAT=1]="FLAT",t[t.ROUND=2]="ROUND"}(n||(n={})),function(t){function e(t,e,r){var n,i,o,a,s,l=Math.hypot(t,e);l<1e-4?(i=0,o=1):(i=-t/l,o=e/l),e=-i*t+o*e,(n=Math.hypot(e,r))<1e-4?(a=0,s=1):(a=r/n,s=e/n);var c=new Float32Array(9);return c[0]=o,c[1]=i,c[2]=0,c[3]=-i*s,c[4]=o*s,c[5]=a,c[6]=i*a,c[7]=-o*a,c[8]=s,c}var r=new class{constructor(){this.cache={};let t,e=[],r=Math.pow(2,4),n=2,i=Math.pow(2,n),a=r/i;for(e[0]=new o.Vector3(-1,0,0),e[a]=new o.Vector3(0,0,1),e[2*a]=new o.Vector3(1,0,0),e[3*a]=new o.Vector3(0,0,-1),n=3;n<=4;n++){for(i=Math.pow(2,n-1),a=r/i,t=0;t<i-1;t++)e[a/2+t*a]=e[t*a].clone().add(e[(t+1)*a]).normalize();t=i-1,e[a/2+t*a]=e[t*a].clone().add(e[0]).normalize()}this.basisVectors=e}getVerticesForRadius(t,e,r){if(void 0!==this.cache&&void 0!==this.cache[t]&&void 0!==this.cache[t][e+r])return this.cache[t][e+r];for(var i,a=this.basisVectors.length,s=[],l=[],c=0;c<a;c++)s.push(this.basisVectors[c].clone().multiplyScalar(t)),s.push(this.basisVectors[c].clone().multiplyScalar(t)),i=this.basisVectors[c].clone().normalize(),l.push(i),l.push(i);var d,u,h=[],f=a,p=2*Math.PI,m=Math.PI,g=!1,b=!1;for(u=0;u<=10;u++){g=0===u||10===u,b=5===u;var v=[],y=[];for(d=0;d<=f;d++)if(b){var x=d<f?2*d:0;y.push(x+1),v.push(x)}else{var w=d/f,_=u/10;if(g&&0!==d)g&&v.push(s.length-1);else if(d<f){var k=new o.Vector3;k.x=-t*Math.cos(0+w*p)*Math.sin(0+_*m),k.y=1==e?0:t*Math.cos(0+_*m),k.z=t*Math.sin(0+w*p)*Math.sin(0+_*m),Math.abs(k.x)<1e-5&&(k.x=0),Math.abs(k.y)<1e-5&&(k.y=0),Math.abs(k.z)<1e-5&&(k.z=0),e==n.FLAT?(i=new o.Vector3(0,Math.cos(0+_*m),0)).normalize():(i=new o.Vector3(k.x,k.y,k.z)).normalize(),s.push(k),l.push(i),v.push(s.length-1)}else v.push(s.length-f)}b&&h.push(y),h.push(v)}var A={vertices:s,normals:l,verticesRows:h,w:f,h:10};return t in this.cache||(this.cache[t]={}),this.cache[t][e+r]=A,A}};t.drawCylinder=function(t,i,o,a,s,l=0,c=0){if(!i||!o)return;let d=function(t){if("string"==typeof t){let e=t;return"flat"==e.toLowerCase()?n.FLAT:"round"==e.toLowerCase()?n.ROUND:n.NONE}return t};l=d(l);var u=(c=d(c))||l;s=s||{r:0,g:0,b:0};var h,f,p,m,g,b,v=e(o.x-i.x,o.y-i.y,o.z-i.z),y=r.getVerticesForRadius(a,c,"to"),x=y.w,w=y.h,_=u?w*x+2:2*x,k=t.updateGeoGroup(_),A=y.vertices,T=y.normals,M=y.verticesRows,S=M[w/2],E=M[w/2+1],C=k.vertices,z=k.vertexArray,L=k.normalArray,O=k.colorArray,D=k.faceArray;for(p=0;p<x;++p){var I=2*p;m=v[0]*A[I].x+v[3]*A[I].y+v[6]*A[I].z,g=v[1]*A[I].x+v[4]*A[I].y+v[7]*A[I].z,b=v[5]*A[I].y+v[8]*A[I].z,h=3*(C+I),f=k.faceidx,z[h]=m+i.x,z[h+1]=g+i.y,z[h+2]=b+i.z,z[h+3]=m+o.x,z[h+4]=g+o.y,z[h+5]=b+o.z,L[h]=m,L[h+3]=m,L[h+1]=g,L[h+4]=g,L[h+2]=b,L[h+5]=b,O[h]=s.r,O[h+3]=s.r,O[h+1]=s.g,O[h+4]=s.g,O[h+2]=s.b,O[h+5]=s.b,D[f]=E[p]+C,D[f+1]=E[p+1]+C,D[f+2]=S[p]+C,D[f+3]=S[p]+C,D[f+4]=E[p+1]+C,D[f+5]=S[p+1]+C,k.faceidx+=6}if(u){var F,R,P,j,N,B,U,V,G,H,W,q,$,Y,Z,X,J,Q,K,tt,et,rt,nt,it,ot,at,st,lt,ct,dt,ut,ht,ft=l?w+1:w/2+1;for(g=c?0:w/2;g<ft;g++)if(g!==w/2){var pt=g<=w/2?o:i,mt=r.getVerticesForRadius(a,c,"to"),gt=r.getVerticesForRadius(a,l,"from");for(pt===o?(A=mt.vertices,T=mt.normals,M=mt.verticesRows):pt==i&&(A=gt.vertices,T=gt.normals,M=gt.verticesRows),m=0;m<x;m++)f=k.faceidx,ct=3*((F=M[g][m+1])+C),dt=3*((R=M[g][m])+C),ut=3*((P=M[g+1][m])+C),ht=3*((j=M[g+1][m+1])+C),N=v[0]*A[F].x+v[3]*A[F].y+v[6]*A[F].z,B=v[0]*A[R].x+v[3]*A[R].y+v[6]*A[R].z,U=v[0]*A[P].x+v[3]*A[P].y+v[6]*A[P].z,V=v[0]*A[j].x+v[3]*A[j].y+v[6]*A[j].z,G=v[1]*A[F].x+v[4]*A[F].y+v[7]*A[F].z,H=v[1]*A[R].x+v[4]*A[R].y+v[7]*A[R].z,W=v[1]*A[P].x+v[4]*A[P].y+v[7]*A[P].z,q=v[1]*A[j].x+v[4]*A[j].y+v[7]*A[j].z,$=v[5]*A[F].y+v[8]*A[F].z,Y=v[5]*A[R].y+v[8]*A[R].z,Z=v[5]*A[P].y+v[8]*A[P].z,X=v[5]*A[j].y+v[8]*A[j].z,z[ct]=N+pt.x,z[dt]=B+pt.x,z[ut]=U+pt.x,z[ht]=V+pt.x,z[ct+1]=G+pt.y,z[dt+1]=H+pt.y,z[ut+1]=W+pt.y,z[ht+1]=q+pt.y,z[ct+2]=$+pt.z,z[dt+2]=Y+pt.z,z[ut+2]=Z+pt.z,z[ht+2]=X+pt.z,O[ct]=s.r,O[dt]=s.r,O[ut]=s.r,O[ht]=s.r,O[ct+1]=s.g,O[dt+1]=s.g,O[ut+1]=s.g,O[ht+1]=s.g,O[ct+2]=s.b,O[dt+2]=s.b,O[ut+2]=s.b,O[ht+2]=s.b,J=v[0]*T[F].x+v[3]*T[F].y+v[6]*T[F].z,Q=v[0]*T[R].x+v[3]*T[R].y+v[6]*T[R].z,K=v[0]*T[P].x+v[3]*T[P].y+v[6]*T[P].z,tt=v[0]*T[j].x+v[3]*T[j].y+v[6]*T[j].z,et=v[1]*T[F].x+v[4]*T[F].y+v[7]*T[F].z,rt=v[1]*T[R].x+v[4]*T[R].y+v[7]*T[R].z,nt=v[1]*T[P].x+v[4]*T[P].y+v[7]*T[P].z,it=v[1]*T[j].x+v[4]*T[j].y+v[7]*T[j].z,ot=v[5]*T[F].y+v[8]*T[F].z,at=v[5]*T[R].y+v[8]*T[R].z,st=v[5]*T[P].y+v[8]*T[P].z,lt=v[5]*T[j].y+v[8]*T[j].z,0===g?(L[ct]=J,L[ut]=K,L[ht]=tt,L[ct+1]=et,L[ut+1]=nt,L[ht+1]=it,L[ct+2]=ot,L[ut+2]=st,L[ht+2]=lt,D[f]=F+C,D[f+1]=P+C,D[f+2]=j+C,k.faceidx+=3):g===ft-1?(L[ct]=J,L[dt]=Q,L[ut]=K,L[ct+1]=et,L[dt+1]=rt,L[ut+1]=nt,L[ct+2]=ot,L[dt+2]=at,L[ut+2]=st,D[f]=F+C,D[f+1]=R+C,D[f+2]=P+C,k.faceidx+=3):(L[ct]=J,L[dt]=Q,L[ht]=tt,L[ct+1]=et,L[dt+1]=rt,L[ht+1]=it,L[ct+2]=ot,L[dt+2]=at,L[ht+2]=lt,L[dt]=Q,L[ut]=K,L[ht]=tt,L[dt+1]=rt,L[ut+1]=nt,L[ht+1]=it,L[dt+2]=at,L[ut+2]=st,L[ht+2]=lt,D[f]=F+C,D[f+1]=R+C,D[f+2]=j+C,D[f+3]=R+C,D[f+4]=P+C,D[f+5]=j+C,k.faceidx+=6)}}k.vertices+=_},t.drawCone=function(t,n,i,a,s){if(!n||!i)return;s=s||{r:0,g:0,b:0};let l=new o.Vector3(i.x-n.x,i.y-n.y,i.z-n.z);var c=e(l.x,l.y,l.z);l=l.normalize();var d,u,h,f,p,m,g=r.basisVectors.length,b=r.basisVectors,v=g+2,y=t.updateGeoGroup(v),x=y.vertices,w=y.vertexArray,_=y.normalArray,k=y.colorArray,A=y.faceArray;for(w[d=3*x]=n.x,w[d+1]=n.y,w[d+2]=n.z,_[d]=-l.x,_[d+1]=-l.y,_[d+2]=-l.z,k[d]=s.r,k[d+1]=s.g,k[d+2]=s.b,w[d+3]=i.x,w[d+4]=i.y,w[d+5]=i.z,_[d+3]=l.x,_[d+4]=l.y,_[d+5]=l.z,k[d+3]=s.r,k[d+4]=s.g,k[d+5]=s.b,d+=6,h=0;h<g;++h){var T=b[h].clone();T.multiplyScalar(a),f=c[0]*T.x+c[3]*T.y+c[6]*T.z,p=c[1]*T.x+c[4]*T.y+c[7]*T.z,m=c[5]*T.y+c[8]*T.z,w[d]=f+n.x,w[d+1]=p+n.y,w[d+2]=m+n.z,_[d]=f,_[d+1]=p,_[d+2]=m,k[d]=s.r,k[d+1]=s.g,k[d+2]=s.b,d+=3}for(y.vertices+=g+2,u=y.faceidx,h=0;h<g;h++){var M=x+2+h,S=x+2+(h+1)%g;A[u]=M,A[u+1]=S,A[u+2]=x,A[u+=3]=M,A[u+1]=S,A[u+2]=x+1,u+=3}y.faceidx+=6*g};var i=new class{constructor(){this.cache=new Map}getVerticesForRadius(t,e){e=e||2,this.cache.has(e)||this.cache.set(e,new Map);let r=this.cache.get(e);if(r.has(t))return r.get(t);var n={vertices:[],verticesRows:[],normals:[]},i=16*e,a=10*e;t<1&&(i=10*e,a=8*e);var s,l,c=2*Math.PI,d=Math.PI;for(l=0;l<=a;l++){let e=[];for(s=0;s<=i;s++){let r=s/i,h=l/a,f=-t*Math.cos(0+r*c)*Math.sin(0+h*d),p=t*Math.cos(0+h*d),m=t*Math.sin(0+r*c)*Math.sin(0+h*d);var u=new o.Vector3(f,p,m);u.normalize(),n.vertices.push({x:f,y:p,z:m}),n.normals.push(u),e.push(n.vertices.length-1)}n.verticesRows.push(e)}return r.set(t,n),n}};t.drawSphere=function(t,e,r,n,o){var a=i.getVerticesForRadius(r,o),s=a.vertices,l=a.normals,c=t.updateGeoGroup(s.length),d=c.vertices,u=c.vertexArray,h=c.colorArray,f=c.faceArray,p=c.lineArray,m=c.normalArray;for(let t=0,r=s.length;t<r;++t){let r=3*(d+t),i=s[t];u[r]=i.x+e.x,u[r+1]=i.y+e.y,u[r+2]=i.z+e.z,h[r]=n.r,h[r+1]=n.g,h[r+2]=n.b}c.vertices+=s.length;let g=a.verticesRows,b=g.length-1;for(let t=0;t<b;t++){let e=g[t].length-1;for(let n=0;n<e;n++){let e=c.faceidx,i=c.lineidx,o=g[t][n+1]+d,a=3*o,u=g[t][n]+d,h=3*u,b=g[t+1][n]+d,v=3*b,y=g[t+1][n+1]+d,x=3*y,w=l[o-d],_=l[u-d],k=l[b-d],A=l[y-d];Math.abs(s[o-d].y)===r?(m[a]=w.x,m[v]=k.x,m[x]=A.x,m[a+1]=w.y,m[v+1]=k.y,m[x+1]=A.y,m[a+2]=w.z,m[v+2]=k.z,m[x+2]=A.z,f[e]=o,f[e+1]=b,f[e+2]=y,p[i]=o,p[i+1]=b,p[i+2]=o,p[i+3]=y,p[i+4]=b,p[i+5]=y,c.faceidx+=3,c.lineidx+=6):Math.abs(s[b-d].y)===r?(m[a]=w.x,m[h]=_.x,m[v]=k.x,m[a+1]=w.y,m[h+1]=_.y,m[v+1]=k.y,m[a+2]=w.z,m[h+2]=_.z,m[v+2]=k.z,f[e]=o,f[e+1]=u,f[e+2]=b,p[i]=o,p[i+1]=u,p[i+2]=o,p[i+3]=b,p[i+4]=u,p[i+5]=b,c.faceidx+=3,c.lineidx+=6):(m[a]=w.x,m[h]=_.x,m[x]=A.x,m[a+1]=w.y,m[h+1]=_.y,m[x+1]=A.y,m[a+2]=w.z,m[h+2]=_.z,m[x+2]=A.z,m[h]=_.x,m[v]=k.x,m[x]=A.x,m[h+1]=_.y,m[v+1]=k.y,m[x+1]=A.y,m[h+2]=_.z,m[v+2]=k.z,m[x+2]=A.z,f[e]=o,f[e+1]=u,f[e+2]=y,f[e+3]=u,f[e+4]=b,f[e+5]=y,p[i]=o,p[i+1]=u,p[i+2]=o,p[i+3]=y,p[i+4]=u,p[i+5]=b,p[i+6]=b,p[i+7]=y,c.faceidx+=6,c.lineidx+=8)}}}}(i||(i={}))},"./src/GLModel.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{GLModel:()=>p});var n=r("./src/WebGL/index.ts"),i=r("./src/WebGL/shapes/index.ts"),o=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts"),s=r("./src/GLDraw.ts"),l=r("./src/glcartoon.ts"),c=r("./src/utilities.ts"),d=r("./src/Gradient.ts"),u=r("./src/parsers/index.ts"),h=r("./node_modules/netcdfjs/lib-esm/index.js"),f=r("./src/parsers/utils/assignBonds.ts");class p{static sameObj(t,e){return t&&e?JSON.stringify(t)==JSON.stringify(e):t==e}constructor(t,e){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new o.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=a.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=e||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:a.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=t}getRadiusFromStyle(t,e){var r=this.defaultSphereRadius;if(void 0!==e.radius)r=e.radius;else if(p.vdwRadii[t.elem])r=p.vdwRadii[t.elem];else if(t.elem.length>1){let e=t.elem;e=e[0].toUpperCase()+e[1].toLowerCase(),p.vdwRadii[e]&&(r=p.vdwRadii[e])}return void 0!==e.scale&&(r*=e.scale),r}drawAtomCross(t,e){if(t.style.cross){var r=t.style.cross;if(!r.hidden){var i=r.linewidth||p.defaultlineWidth;e[i]||(e[i]=new n.Geometry);var a=e[i].updateGeoGroup(6),s=this.getRadiusFromStyle(t,r),l=[[s,0,0],[-s,0,0],[0,s,0],[0,-s,0],[0,0,s],[0,0,-s]],d=t.clickable||t.hoverable;d&&void 0===t.intersectionShape&&(t.intersectionShape={sphere:[],cylinder:[],line:[]});for(var u=(0,c.getColorFromStyle)(t,r),h=a.vertexArray,f=a.colorArray,m=0;m<6;m++){var g=3*a.vertices;if(a.vertices++,h[g]=t.x+l[m][0],h[g+1]=t.y+l[m][1],h[g+2]=t.z+l[m][2],f[g]=u.r,f[g+1]=u.g,f[g+2]=u.b,d){var b=new o.Vector3(l[m][0],l[m][1],l[m][2]);b.multiplyScalar(.1),b.set(b.x+t.x,b.y+t.y,b.z+t.z),t.intersectionShape.line.push(b)}}}}}getGoodCross(t,e,r,n){for(var i=null,a=-1,s=0,l=t.bonds.length;s<l;s++)if(t.bonds[s]!=e.index){let e=t.bonds[s],l=this.atoms[e],d=new o.Vector3(l.x,l.y,l.z).clone();d.sub(r);let u=d.clone();u.cross(n);var c=u.lengthSq();if(c>a&&(i=u,(a=c)>.1))return i}return i}getSideBondV(t,e,r){var n,i,a,s,l=new o.Vector3(t.x,t.y,t.z),c=new o.Vector3(e.x,e.y,e.z).clone(),d=null;if(c.sub(l),1===t.bonds.length)1===e.bonds.length?(d=c.clone(),Math.abs(d.x)>1e-4?d.y+=1:d.x+=1):(n=(r+1)%e.bonds.length,i=e.bonds[n],(a=this.atoms[i]).index==t.index&&(n=(n+1)%e.bonds.length,i=e.bonds[n],a=this.atoms[i]),(s=new o.Vector3(a.x,a.y,a.z).clone()).sub(l),(d=s.clone()).cross(c));else if((d=this.getGoodCross(t,e,l,c)).lengthSq()<.01){var u=this.getGoodCross(e,t,l,c);null!=u&&(d=u)}return d.lengthSq()<.01&&(d=c.clone(),Math.abs(d.x)>1e-4?d.y+=1:d.x+=1),d.cross(c),d.normalize(),d}addLine(t,e,r,n,i,o){t[r]=n.x,t[r+1]=n.y,t[r+2]=n.z,e[r]=o.r,e[r+1]=o.g,e[r+2]=o.b,t[r+3]=i.x,t[r+4]=i.y,t[r+5]=i.z,e[r+3]=o.r,e[r+4]=o.g,e[r+5]=o.b}drawBondLines(t,e,r){if(t.style.line){var i=t.style.line;if(!i.hidden){var s,l,d,u,h=i.linewidth||p.defaultlineWidth;r[h]||(r[h]=new n.Geometry);for(var f=r[h].updateGeoGroup(6*t.bonds.length),m=f.vertexArray,g=f.colorArray,b=0;b<t.bonds.length;b++){var v=e[t.bonds[b]];if(v.style.line&&!(t.index>=v.index)){var y=new o.Vector3(t.x,t.y,t.z),x=new o.Vector3(v.x,v.y,v.z),w=y.clone().add(x).multiplyScalar(.5),_=!1,k=t.clickable||t.hoverable,A=v.clickable||v.hoverable;(k||A)&&(k&&(void 0===t.intersectionShape&&(t.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),t.intersectionShape.line.push(y),t.intersectionShape.line.push(w)),A&&(void 0===v.intersectionShape&&(v.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),v.intersectionShape.line.push(w),v.intersectionShape.line.push(x)));var T=(0,c.getColorFromStyle)(t,t.style.line),M=(0,c.getColorFromStyle)(v,v.style.line);if(t.bondStyles&&t.bondStyles[b]){var S=t.bondStyles[b];if(!S.iswire)continue;S.singleBond&&(_=!0),void 0!==S.color1&&(T=a.CC.color(S.color1)),void 0!==S.color2&&(M=a.CC.color(S.color2))}var E,C,z=3*f.vertices;if(t.bondOrder[b]>1&&t.bondOrder[b]<4&&!_){var L=this.getSideBondV(t,v,b),O=x.clone();O.sub(y),2==t.bondOrder[b]?(L.multiplyScalar(.1),(s=y.clone()).add(L),(l=y.clone()).sub(L),(d=s.clone()).add(O),(u=l.clone()).add(O),T==M?(f.vertices+=4,this.addLine(m,g,z,s,d,T),this.addLine(m,g,z+6,l,u,T)):(f.vertices+=8,O.multiplyScalar(.5),(E=s.clone()).add(O),(C=l.clone()).add(O),this.addLine(m,g,z,s,E,T),this.addLine(m,g,z+6,E,d,M),this.addLine(m,g,z+12,l,C,T),this.addLine(m,g,z+18,C,u,M))):3==t.bondOrder[b]&&(L.multiplyScalar(.1),(s=y.clone()).add(L),(l=y.clone()).sub(L),(d=s.clone()).add(O),(u=l.clone()).add(O),T==M?(f.vertices+=6,this.addLine(m,g,z,y,x,T),this.addLine(m,g,z+6,s,d,T),this.addLine(m,g,z+12,l,u,T)):(f.vertices+=12,O.multiplyScalar(.5),(E=s.clone()).add(O),(C=l.clone()).add(O),this.addLine(m,g,z,y,w,T),this.addLine(m,g,z+6,w,x,M),this.addLine(m,g,z+12,s,E,T),this.addLine(m,g,z+18,E,d,M),this.addLine(m,g,z+24,l,C,T),this.addLine(m,g,z+30,C,u,M)))}else T==M?(f.vertices+=2,this.addLine(m,g,z,y,x,T)):(f.vertices+=4,this.addLine(m,g,z,y,w,T),this.addLine(m,g,z+6,w,x,M))}}}}}drawAtomSphere(t,e){if(t.style.sphere){var r=t.style.sphere;if(!r.hidden){var n=(0,c.getColorFromStyle)(t,r),a=this.getRadiusFromStyle(t,r);if((!0===t.clickable||t.hoverable)&&void 0!==t.intersectionShape){var l=new o.Vector3(t.x,t.y,t.z);t.intersectionShape.sphere.push(new i.Sphere(l,a))}s.GLDraw.drawSphere(e,t,a,n)}}}drawAtomClickSphere(t){if(t.style.clicksphere){var e=t.style.clicksphere;if(!e.hidden){var r=this.getRadiusFromStyle(t,e);if((!0===t.clickable||t.hoverable)&&void 0!==t.intersectionShape){var n=new o.Vector3(t.x,t.y,t.z);t.intersectionShape.sphere.push(new i.Sphere(n,r))}}}}drawAtomInstanced(t,e){if(t.style.sphere){var r=t.style.sphere;if(!r.hidden){var n=this.getRadiusFromStyle(t,r),a=(0,c.getColorFromStyle)(t,r),s=e.updateGeoGroup(1),l=s.vertices,d=3*l,u=s.vertexArray,h=s.colorArray,f=s.radiusArray;if(u[d]=t.x,u[d+1]=t.y,u[d+2]=t.z,h[d]=a.r,h[d+1]=a.g,h[d+2]=a.b,f[l]=n,(!0===t.clickable||t.hoverable)&&void 0!==t.intersectionShape){var p=new o.Vector3(t.x,t.y,t.z);t.intersectionShape.sphere.push(new i.Sphere(p,n))}s.vertices+=1}}}drawSphereImposter(t,e,r,n){var i,o=t.updateGeoGroup(4),a=o.vertices,s=3*a,l=o.vertexArray,c=o.colorArray;for(i=0;i<4;i++)l[s+3*i]=e.x,l[s+3*i+1]=e.y,l[s+3*i+2]=e.z;var d=o.normalArray;for(i=0;i<4;i++)c[s+3*i]=n.r,c[s+3*i+1]=n.g,c[s+3*i+2]=n.b;d[s+0]=-r,d[s+1]=r,d[s+2]=0,d[s+3]=-r,d[s+4]=-r,d[s+5]=0,d[s+6]=r,d[s+7]=-r,d[s+8]=0,d[s+9]=r,d[s+10]=r,d[s+11]=0,o.vertices+=4;var u=o.faceArray,h=o.faceidx;u[h+0]=a,u[h+1]=a+1,u[h+2]=a+2,u[h+3]=a+2,u[h+4]=a+3,u[h+5]=a,o.faceidx+=6}drawAtomImposter(t,e){if(t.style.sphere){var r=t.style.sphere;if(!r.hidden){var n=this.getRadiusFromStyle(t,r),a=(0,c.getColorFromStyle)(t,r);if((!0===t.clickable||t.hoverable)&&void 0!==t.intersectionShape){var s=new o.Vector3(t.x,t.y,t.z);t.intersectionShape.sphere.push(new i.Sphere(s,n))}this.drawSphereImposter(e,t,n,a)}}}calculateDashes(t,e,r,n,i){var a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2));r=Math.max(r,0),i=Math.max(i,0)+2*r,(n=Math.max(n,.001))+i>a&&(n=a,i=0);var s,l=Math.floor((a-n)/(n+i))+1;i=(a-l*n)/l;for(var c=new o.Vector3(t.x,t.y,t.z),d=new o.Vector3((e.x-t.x)/(a/i),(e.y-t.y)/(a/i),(e.z-t.z)/(a/i)),u=new o.Vector3((e.x-t.x)/(a/n),(e.y-t.y)/(a/n),(e.z-t.z)/(a/n)),h=[],f=0;f<l;f++)s=new o.Vector3(c.x+u.x,c.y+u.y,c.z+u.z),h.push({from:c,to:s}),c=new o.Vector3(s.x+d.x,s.y+d.y,s.z+d.z);return h}static drawStickImposter(t,e,r,n,i,o=0,a=0){for(var s,l=t.updateGeoGroup(4),c=l.vertices,d=3*c,u=l.vertexArray,h=l.colorArray,f=l.radiusArray,p=l.normalArray,m=i.r,g=i.g,b=i.b,v=d,y=0;y<4;y++)u[v]=e.x,p[v]=r.x,h[v]=m,u[++v]=e.y,p[v]=r.y,h[v]=g,u[++v]=e.z,p[v]=r.z,h[v]=y<2?b:(s=void 0,0==(s=-b)&&(s=-1e-4),s),v++;l.vertices+=4,f[c]=-n,f[c+1]=n,f[c+2]=-n,f[c+3]=n;var x=l.faceArray,w=l.faceidx;x[w+0]=c,x[w+1]=c+1,x[w+2]=c+2,x[w+3]=c+2,x[w+4]=c+3,x[w+5]=c,l.faceidx+=6}drawBondSticks(t,e,r){var n,l;if(t.style.stick){var d=t.style.stick;if(!d.hidden){var u,h,f,m,g,b,v,y,x,w,_,k,A,T,M=d.radius||this.defaultStickRadius,S=d.doubleBondScaling||.4,E=d.tripleBondScaling||.25,C=(null===(n=d.dashedBondConfig)||void 0===n?void 0:n.dashLength)||.1,z=(null===(l=d.dashedBondConfig)||void 0===l?void 0:l.gapLength)||.25,L=M,O=d.singleBonds||!1,D=d.dashedBonds||!1,I=0,F=0,R=(0,c.getColorFromStyle)(t,d);!t.capDrawn&&t.bonds.length<4&&(I=2);var P=t=>{var e=r.imposter?p.drawStickImposter:s.GLDraw.drawCylinder;return!D&&t>=1?e:(t,r,n,i,o,a=0,s=0,l=.1,c=.25)=>{this.calculateDashes(r,n,i,l,c).forEach((r=>{e(t,r.from,r.to,i,o,a,s)}))}};for(f=0;f<t.bonds.length;f++){var j=P(t.bondOrder[f]),N=e[t.bonds[f]];if(k=A=T=null,t.index<N.index){var B=N.style;if(!B.stick||B.stick.hidden)continue;var U=(0,c.getColorFromStyle)(N,B.stick);if(L=M,m=O,t.bondStyles&&t.bondStyles[f]){if((g=t.bondStyles[f]).iswire)continue;g.radius&&(L=g.radius),g.singleBond&&(m=!0),void 0!==g.color1&&(R=a.CC.color(g.color1)),void 0!==g.color2&&(U=a.CC.color(g.color2))}var V=new o.Vector3(t.x,t.y,t.z),G=new o.Vector3(N.x,N.y,N.z);if(t.bondOrder[f]<=1||m||t.bondOrder[f]>3){if(t.bondOrder[f]<1&&(L*=t.bondOrder[f]),!N.capDrawn&&N.bonds.length<4&&(F=2),R!=U?(k=(new o.Vector3).addVectors(V,G).multiplyScalar(.5),j(r,V,k,L,R,I,0,C,z),j(r,k,G,L,U,0,F,C,z)):j(r,V,G,L,R,I,F,C,z),u=t.clickable||t.hoverable,h=N.clickable||N.hoverable,u||h){if(k||(k=(new o.Vector3).addVectors(V,G).multiplyScalar(.5)),u){var H=new i.Cylinder(V,k,L),W=new i.Sphere(V,L);t.intersectionShape.cylinder.push(H),t.intersectionShape.sphere.push(W)}if(h){var q=new i.Cylinder(G,k,L),$=new i.Sphere(G,L);N.intersectionShape.cylinder.push(q),N.intersectionShape.sphere.push($)}}}else if(t.bondOrder[f]>1){var Y=0,Z=0;L!=M&&(Y=2,Z=2);var X,J,Q,K,tt,et=G.clone(),rt=null;et.sub(V),rt=this.getSideBondV(t,N,f),2==t.bondOrder[f]?(X=L*S,rt.multiplyScalar(1.5*X),(J=V.clone()).add(rt),(Q=V.clone()).sub(rt),(K=J.clone()).add(et),(tt=Q.clone()).add(et),R!=U?(k=(new o.Vector3).addVectors(J,K).multiplyScalar(.5),A=(new o.Vector3).addVectors(Q,tt).multiplyScalar(.5),j(r,J,k,X,R,Y,0),j(r,k,K,X,U,0,Z),j(r,Q,A,X,R,Y,0),j(r,A,tt,X,U,0,Z)):(j(r,J,K,X,R,Y,Z),j(r,Q,tt,X,R,Y,Z)),u=t.clickable||t.hoverable,h=N.clickable||N.hoverable,(u||h)&&(k||(k=(new o.Vector3).addVectors(J,K).multiplyScalar(.5)),A||(A=(new o.Vector3).addVectors(Q,tt).multiplyScalar(.5)),u&&(b=new i.Cylinder(J,k,X),v=new i.Cylinder(Q,A,X),t.intersectionShape.cylinder.push(b),t.intersectionShape.cylinder.push(v)),h&&(x=new i.Cylinder(K,k,X),w=new i.Cylinder(tt,A,X),N.intersectionShape.cylinder.push(x),N.intersectionShape.cylinder.push(w)))):3==t.bondOrder[f]&&(X=L*E,rt.cross(et),rt.normalize(),rt.multiplyScalar(3*X),(J=V.clone()).add(rt),(Q=V.clone()).sub(rt),(K=J.clone()).add(et),(tt=Q.clone()).add(et),R!=U?(k=(new o.Vector3).addVectors(J,K).multiplyScalar(.5),A=(new o.Vector3).addVectors(Q,tt).multiplyScalar(.5),T=(new o.Vector3).addVectors(V,G).multiplyScalar(.5),j(r,J,k,X,R,Y,0),j(r,k,K,X,U,0,Z),j(r,V,T,X,R,I,0),j(r,T,G,X,U,0,F),j(r,Q,A,X,R,Y,0),j(r,A,tt,X,U,0,Z)):(j(r,J,K,X,R,Y,Z),j(r,V,G,X,R,I,F),j(r,Q,tt,X,R,Y,Z)),u=t.clickable||t.hoverable,h=N.clickable||N.hoverable,(u||h)&&(k||(k=(new o.Vector3).addVectors(J,K).multiplyScalar(.5)),A||(A=(new o.Vector3).addVectors(Q,tt).multiplyScalar(.5)),T||(T=(new o.Vector3).addVectors(V,G).multiplyScalar(.5)),u&&(b=new i.Cylinder(J.clone(),k.clone(),X),v=new i.Cylinder(Q.clone(),A.clone(),X),y=new i.Cylinder(V.clone(),T.clone(),X),t.intersectionShape.cylinder.push(b),t.intersectionShape.cylinder.push(v),t.intersectionShape.cylinder.push(y)),h&&(x=new i.Cylinder(K.clone(),k.clone(),X),w=new i.Cylinder(tt.clone(),A.clone(),X),_=new i.Cylinder(G.clone(),T.clone(),X),N.intersectionShape.cylinder.push(x),N.intersectionShape.cylinder.push(w),N.intersectionShape.cylinder.push(_))))}}}var nt=!1,it=0,ot=!1;for(f=0;f<t.bonds.length;f++)m=O,t.bondStyles&&t.bondStyles[f]&&((g=t.bondStyles[f]).singleBond&&(m=!0),g.radius&&g.radius!=M&&(ot=!0)),(m||1==t.bondOrder[f])&&it++;ot?it>0&&(nt=!0):0==it&&(t.bonds.length>0||d.showNonBonded)&&(nt=!0),nt&&(L=M,r.imposter?this.drawSphereImposter(r.sphereGeometry,t,L,R):s.GLDraw.drawSphere(r,t,L,R))}}}createMolObj(t,e){e=e||{};var r,i,o,c,d=new n.Object3D,u=[],h={},f={},p=this.drawAtomSphere,m=null,g=null;e.supportsImposters?(p=this.drawAtomImposter,(m=new n.Geometry(!0)).imposter=!0,(g=new n.Geometry(!0,!0)).imposter=!0,g.sphereGeometry=new n.Geometry(!0),g.sphereGeometry.imposter=!0,g.drawnCaps={}):e.supportsAIA?(p=this.drawAtomInstanced,(m=new n.Geometry(!1,!0,!0)).instanced=!0,g=new n.Geometry(!0)):(m=new n.Geometry(!0),g=new n.Geometry(!0));var b,v={},y=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(r=0,o=t.length;r<o;r++){var x=t[r];if(x&&x.style){for(i in(x.clickable||x.hoverable)&&void 0===x.intersectionShape&&(x.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),c={line:void 0,cross:void 0,stick:void 0,sphere:void 0})x.style[i]?x.style[i].opacity?c[i]=parseFloat(x.style[i].opacity):c[i]=1:c[i]=void 0,v[i]?null!=c[i]&&v[i]!=c[i]&&(console.log("Warning: "+i+" opacity is ambiguous"),v[i]=1):v[i]=c[i];p.call(this,x,m),this.drawAtomClickSphere(x),this.drawAtomCross(x,f),this.drawBondLines(x,t,h),this.drawBondSticks(x,t,g),void 0===x.style.cartoon||x.style.cartoon.hidden||("spectrum"!==x.style.cartoon.color||"number"!=typeof x.resi||x.hetflag||(x.resi<y[0]&&(y[0]=x.resi),x.resi>y[1]&&(y[1]=x.resi)),u.push(x))}}if(u.length>0&&(0,l.drawCartoon)(d,u,y,this.defaultCartoonQuality),m&&m.vertices>0){m.initTypedArrays();var w=null,_=null;m.imposter?w=new n.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):m.instanced?(_=new n.Geometry(!0),s.GLDraw.drawSphere(_,{x:0,y:0,z:0},1,new a.Color(.5,.5,.5)),_.initTypedArrays(),w=new n.InstancedMaterial({sphereMaterial:new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:_})):w=new n.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),v.sphere<1&&v.sphere>=0&&(w.transparent=!0,w.opacity=v.sphere),_=new n.Mesh(m,w),d.add(_)}if(g.vertices>0){var k=null,A=null,T=g.sphereGeometry;T&&void 0!==T.vertices&&0!=T.vertices||(T=null),g.initTypedArrays(),T&&T.initTypedArrays();var M={ambient:0,vertexColors:!0,reflectivity:0};g.imposter?(k=new n.StickImposterMaterial(M),A=new n.SphereImposterMaterial(M)):(k=new n.MeshLambertMaterial(M),A=new n.MeshLambertMaterial(M),k.wireframe&&(g.setUpWireframe(),T&&T.setUpWireframe())),v.stick<1&&v.stick>=0&&(k.transparent=!0,k.opacity=v.stick,A.transparent=!0,A.opacity=v.stick);var S=new n.Mesh(g,k);if(d.add(S),T){var E=new n.Mesh(T,A);d.add(E)}}for(r in h)if(h.hasOwnProperty(r)){b=r;var C=new n.LineBasicMaterial({linewidth:b,vertexColors:!0});v.line<1&&v.line>=0&&(C.transparent=!0,C.opacity=v.line),h[r].initTypedArrays();var z=new n.Line(h[r],C,n.LineStyle.LinePieces);d.add(z)}for(r in f)if(f.hasOwnProperty(r)){b=r;var L=new n.LineBasicMaterial({linewidth:b,vertexColors:!0});v.cross<1&&v.cross>=0&&(L.transparent=!0,L.opacity=v.cross),f[r].initTypedArrays();var O=new n.Line(f[r],L,n.LineStyle.LinePieces);d.add(O)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var D,I=new n.Object3D;for(D=0;D<this.modelData.symmetries.length;D++){var F=new n.Object3D;(F=d.clone()).matrix.copy(this.modelData.symmetries[D]),F.matrixAutoUpdate=!1,I.add(F)}return I}return d}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(t){this.atoms=t.atoms,this.frames=t.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const t=this.modelData.cryst;this.modelData.cryst.matrix=(0,o.conversionMatrix3)(t.a,t.b,t.c,t.alpha,t.beta,t.gamma)}return this.modelData.cryst}return null}setCrystData(t,e,r,n,i,a){t=t||1,e=e||1,r=r||1,n=n||90,i=i||90,a=a||90;const s=(0,o.conversionMatrix3)(t,e,r,n,i,a);this.modelData.cryst={a:t,b:e,c:r,alpha:n,beta:i,gamma:a,matrix:s}}setCrystMatrix(t){t=t||new o.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:t}}getSymmetries(){return void 0===this.modelData.symmetries&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(t){this.modelData.symmetries=void 0===t?[this.idMatrix]:t}getID(){return this.id}getNumFrames(){return null!=this.frames.numFrames?this.frames.numFrames:this.frames.length}adjustCoord(t,e,r,n){var i=e-t;return i<-r?e+n:i>r?e-n:e}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var t=this.box[0],e=this.box[1],r=this.box[2],n=.9*t,i=.9*e,o=.9*r,a=0;a<this.atomdfs.length;a++)for(var s=this.atomdfs[a],l=1;l<s.length;l++){var c=this.atoms[s[l][0]],d=this.atoms[s[l][1]];c.x=this.adjustCoord(d.x,c.x,n,t),c.y=this.adjustCoord(d.y,c.y,i,e),c.z=this.adjustCoord(d.z,c.z,o,r)}}setFrame(t,e){var r=this.getNumFrames();let n=this;return new Promise((function(i,o){if(0==r&&i(),(t<0||t>=r)&&(t=r-1),null!=n.frames.url){var a=n.frames.url;(0,c.getbin)(a+"/traj/frame/"+t+"/"+n.frames.path,void 0,"POST",void 0).then((function(t){for(var e=new Float32Array(t,44),r=0,o=0;o<n.atoms.length;o++)n.atoms[o].x=e[r++],n.atoms[o].y=e[r++],n.atoms[o].z=e[r++];n.box&&n.atomdfs&&n.adjustCoordinatesToBox(),i()})).catch(o)}else n.atoms=n.frames[t],i();n.molObj=null,n.modelDatas&&t<n.modelDatas.length&&(n.modelData=n.modelDatas[t],n.unitCellObjects&&e&&(e.removeUnitCell(n),e.addUnitCell(n)))}))}addFrame(t){this.frames.push(t)}vibrate(t=10,e=1,r=!1,n,i){var a=0,s=t;r&&(a=-t,s=t),void 0!==this.frames&&void 0!==this.frames.origIndex?this.setFrame(this.frames.origIndex):this.setFrame(0),a<s&&(this.frames=[]),r&&(this.frames.origIndex=t);for(var l=a;l<s;l++){var d=[],u=this.frames.length;if(0!=l||i){for(var h=0;h<this.atoms.length;h++){var f=(0,c.getAtomProperty)(this.atoms[h],"dx"),p=(0,c.getAtomProperty)(this.atoms[h],"dy"),m=(0,c.getAtomProperty)(this.atoms[h],"dz"),g=new o.Vector3(f,p,m),b=new o.Vector3(this.atoms[h].x,this.atoms[h].y,this.atoms[h].z),v=l*e/t;g.multiplyScalar(v),b.add(g);var y={};for(var x in this.atoms[h])y[x]=this.atoms[h][x];if(y.x=b.x,y.y=b.y,y.z=b.z,d.push(y),n&&i){var w=(0,c.extend)({},i),_=new o.Vector3(f,p,m);if(_.multiplyScalar(e),_.add(b),w.start=b,w.end=_,w.frame=u,!w.color){var k=y.style.sphere;k||(k=y.style.stick),k||(k=y.style.line),w.color=(0,c.getColorFromStyle)(y,k)}n.addArrow(w)}}this.frames.push(d)}else this.frames.push(this.atoms)}}setAtomDefaults(t){for(let e=0;e<t.length;e++){let r=t[e];r&&(r.style=r.style||(0,c.deepCopy)(p.defaultAtomStyle),r.color=r.color||this.ElementColors[r.elem]||this.defaultColor,r.model=this.id,(r.clickable||r.hoverable)&&(r.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(t,e,r={}){var n=p.parseMolData(t,e,r);this.dontDuplicateAtoms=!r.duplicateAssemblyAtoms;var i=n.modelData;if(i&&(Array.isArray(i)?(this.modelData=i[0],r.frames&&(this.modelDatas=i)):this.modelData=i),n.box?this.box=n.box:this.box=null,0==this.frames.length){for(let t=0;t<n.length;t++)0!=n[t].length&&this.frames.push(n[t]);this.frames[0]&&(this.atoms=this.frames[0])}else if(r.frames)for(let t=0;t<n.length;t++)this.frames.push(n[t]);else for(var o=0;o<n.length;o++)this.addAtoms(n[o]);for(let t=0;t<this.frames.length;t++)this.setAtomDefaults(this.frames[t]);r.vibrate&&r.vibrate.frames&&r.vibrate.amplitude&&this.vibrate(r.vibrate.frames,r.vibrate.amplitude),r.style&&this.setStyle({},r.style)}setDontDuplicateAtoms(t){this.dontDuplicateAtoms=t}setModelData(t){this.modelData=t}propertyMatches(t,e){if(t==e)return!0;if("string"==typeof e&&"number"==typeof t){var r=e.match(/(-?\d+)\s*-\s*(-?\d+)/);if(r){var n=parseInt(r[1]),i=parseInt(r[2]);if(r&&t>=n&&t<=i)return!0}}return!1}static deepCopyAndCache(t,e){if("object"!=typeof t||null==t)return t;if(t.__cache_created)return t;const r={};for(const n in t){const i=t[n];if(Array.isArray(i)){r[n]=[];for(let t=0;t<i.length;t++)r[n].push(p.deepCopyAndCache(i[t],e))}else r[n]="object"==typeof i&&"properties"!=n&&"model"!=n?p.deepCopyAndCache(i,e):i;if("and"==n||"or"==n){const t=[];for(const i of r[n]){const r=new Set;for(const t of e.selectedAtoms(i))r.add(t.index);t.push(r)}if("and"==n){const e=function(t,e){const r=new Set;for(const n of e)t.has(n)&&r.add(n);return r};let i=new Set(t[0]);for(const r of t.splice(1))i=e(i,r);r[n].__cached_results=i}else if("or"==n){const e=new Set;for(const r of t)for(const t of r)e.add(t);r[n].__cached_results=e}}}return r.__cache_created=!0,r}atomIsSelected(t,e){if(void 0===e)return!0;var r=!!e.invert,n=!0;for(var i in e)if("and"==i||"or"==i||"not"==i){if("not"==i){if(this.atomIsSelected(t,e[i])){n=!1;break}}else if(void 0===e[i].__cached_results&&(e=p.deepCopyAndCache(e,this)),!(n=e[i].__cached_results.has(t.index)))break}else if("predicate"===i){if(!e.predicate(t)){n=!1;break}}else if("properties"==i&&t[i]){for(var o in e.properties)if(!o.startsWith("__cache")){if(void 0===t.properties[o]){n=!1;break}if(t.properties[o]!=e.properties[o]){n=!1;break}}}else if(e.hasOwnProperty(i)&&!p.ignoredKeys.has(i)&&!i.startsWith("__cache")){if(void 0===t[i]){n=!1;break}var a=!1;if("bonds"===i){if(e[i]!=t.bonds.length){n=!1;break}}else if(Array.isArray(e[i])){var s=e[i],l=t[i];for(let t=0;t<s.length;t++)if(this.propertyMatches(l,s[t])){a=!0;break}if(!a){n=!1;break}}else{let r=e[i];if(!this.propertyMatches(t[i],r)){n=!1;break}}}return r?!n:n}static squaredDistance(t,e){var r=e.x-t.x,n=e.y-t.y,i=e.z-t.z;return r*r+n*n+i*i}expandAtomList(t,e){if(e<=0)return t;for(var r=(0,c.getExtent)(t,void 0),n=[[],[],[]],i=0;i<3;i++)n[0][i]=r[0][i]-e,n[1][i]=r[1][i]+e,n[2][i]=r[2][i];var o=[];for(let t=0;t<this.atoms.length;t++){var a=this.atoms[t].x,s=this.atoms[t].y,l=this.atoms[t].z;a>=n[0][0]&&a<=n[1][0]&&s>=n[0][1]&&s<=n[1][1]&&l>=n[0][2]&&l<=n[1][2]&&(a>=r[0][0]&&a<=r[1][0]&&s>=r[0][1]&&s<=r[1][1]&&l>=r[0][2]&&l<=r[1][2]||o.push(this.atoms[t]))}return o}static getFloat(t){return"number"==typeof t?t:parseFloat(t)}selectedAtoms(t,e){var r=[];t=p.deepCopyAndCache(t||{},this),e||(e=this.atoms);for(var n=e.length,i=0;i<n;i++){var o=e[i];o&&this.atomIsSelected(o,t)&&r.push(o)}if(t.hasOwnProperty("expand")){const e=p.getFloat(t.expand);let n=this.expandAtomList(r,e),i=r.length;const o=e*e;for(let t=0;t<n.length;t++)for(let e=0;e<i;e++){var a=p.squaredDistance(n[t],r[e]);a<o&&a>0&&r.push(n[t])}}if(t.hasOwnProperty("within")&&t.within.hasOwnProperty("sel")&&t.within.hasOwnProperty("distance")){var s=this.selectedAtoms(t.within.sel,this.atoms),l={};const e=p.getFloat(t.within.distance),n=e*e;for(let t=0;t<s.length;t++)for(let e=0;e<r.length;e++){let i=p.squaredDistance(s[t],r[e]);i<n&&i>0&&(l[e]=1)}var c=[];if(t.within.invert)for(let t=0;t<r.length;t++)l[t]||c.push(r[t]);else for(let t in l)c.push(r[t]);r=c}if(t.hasOwnProperty("byres")){var d={},u=[],h=[];for(let t=0;t<r.length;t++){let e=r[t];var f=e.chain,m=e.resi;if(void 0===d[f]&&(d[f]={}),e.hasOwnProperty("resi")&&void 0===d[f][m])for(d[f][m]=!0,h.push(e);h.length>0;)if(e=h.pop(),f=e.chain,m=e.resi,void 0===u[e.index]){u[e.index]=!0;for(var g=0;g<e.bonds.length;g++){var b=this.atoms[e.bonds[g]];void 0===u[b.index]&&b.hasOwnProperty("resi")&&b.chain==f&&b.resi==m&&(h.push(b),r.push(b))}}}}return r}addAtoms(t){this.molObj=null;var e,r=this.atoms.length,n=[];for(e=0;e<t.length;e++)void 0===t[e].index&&(t[e].index=e),void 0===t[e].serial&&(t[e].serial=e),n[t[e].index]=r+e;for(e=0;e<t.length;e++){var i=t[e],o=n[i.index],a=(0,c.extend)({},i);a.index=o,a.bonds=[],a.bondOrder=[],a.model=this.id,a.style=a.style||(0,c.deepCopy)(p.defaultAtomStyle),void 0===a.color&&(a.color=this.ElementColors[a.elem]||this.defaultColor);for(var s=i.bonds?i.bonds.length:0,l=0;l<s;l++){var d=n[i.bonds[l]];void 0!==d&&(a.bonds.push(d),a.bondOrder.push(i.bondOrder?i.bondOrder[l]:1))}this.atoms.push(a)}}assignBonds(){(0,f.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(t){this.molObj=null;var e,r=[];for(e=0;e<t.length;e++)r[t[e].index]=!0;var n=[];for(e=0;e<this.atoms.length;e++){var i=this.atoms[e];r[i.index]||n.push(i)}this.atoms=[],this.addAtoms(n)}setStyle(t,e,r){void 0===e&&void 0===r&&(e=t,t={}),"string"==typeof e&&(e=(0,c.specStringToObject)(e));var n=!1,i=this,o=function(o){var a=i.selectedAtoms(t,o);for(let t=0;t<o.length;t++)o[t]&&(o[t].capDrawn=!1);for(let t=0;t<a.length;t++){n=!0,(a[t].clickable||a[t].hoverable)&&(a[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),r||(a[t].style={});for(let r in e)e.hasOwnProperty(r)&&(a[t].style[r]=a[t].style[r]||{},Object.assign(a[t].style[r],e[r]))}};if(void 0!==t.frame&&t.frame<this.frames.length){let e=t.frame;e<0&&(e=this.frames.length+e),o(this.frames[e])}else{o(this.atoms);for(var a=0;a<this.frames.length;a++)this.frames[a]!==this.atoms&&o(this.frames[a])}n&&(this.molObj=null)}setClickable(t,e,r){if(e=!!e,null!==(r=(0,c.makeFunction)(r))){var n=this.selectedAtoms(t,this.atoms),i=n.length;for(let t=0;t<i;t++)n[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},n[t].clickable=e,r&&(n[t].callback=r);i>0&&(this.molObj=null)}else console.log("Callback is not a function")}setHoverable(t,e,r,n){if(e=!!e,r=(0,c.makeFunction)(r),n=(0,c.makeFunction)(n),null!==r)if(null!==n){var i=this.selectedAtoms(t,this.atoms),o=i.length;for(let t=0;t<o;t++)i[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},i[t].hoverable=e,r&&(i[t].hover_callback=r),n&&(i[t].unhover_callback=n);o>0&&(this.molObj=null)}else console.log("Unhover_callback is not a function");else console.log("Hover_callback is not a function")}enableContextMenu(t,e){var r;e=!!e;var n=this.selectedAtoms(t,this.atoms),i=n.length;for(r=0;r<i;r++)n[r].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},n[r].contextMenuEnabled=e;i>0&&(this.molObj=null)}setColorByElement(t,e){if(null===this.molObj||!p.sameObj(e,this.lastColors)){this.lastColors=e;var r=this.selectedAtoms(t,r);r.length>0&&(this.molObj=null);for(var n=0;n<r.length;n++){var i=r[n];void 0!==e[i.elem]&&(i.color=e[i.elem])}}}setColorByProperty(t,e,r,n){var i,o,a=this.selectedAtoms(t,a);for(this.lastColors=null,a.length>0&&(this.molObj=null),"string"==typeof r&&void 0!==d.Gradient.builtinGradients[r]&&(r=new d.Gradient.builtinGradients[r]),n||(n=r.range()),n||(n=(0,c.getPropertyRange)(a,e)),i=0;i<a.length;i++)o=a[i],null!=(0,c.getAtomProperty)(o,e)&&(o.color=r.valueToHex(parseFloat(o.properties[e]),n))}setColorByFunction(t,e){var r=this.selectedAtoms(t,r);if("function"==typeof e){this.lastColors=null,r.length>0&&(this.molObj=null);for(let t=0;t<r.length;t++){let n=r[t];n.color=e(n)}}}toCDObject(t=!1){var e={a:[],b:[]};t&&(e.s=[]);for(let n=0;n<this.atoms.length;n++){let i={},o=this.atoms[n];if(i.x=o.x,i.y=o.y,i.z=o.z,"C"!=o.elem&&(i.l=o.elem),t){for(var r=0;r<e.s.length&&JSON.stringify(o.style)!==JSON.stringify(e.s[r]);)r++;r===e.s.length&&e.s.push(o.style),0!==r&&(i.s=r)}e.a.push(i);for(let t=0;t<o.bonds.length;t++){let r=n,i=o.bonds[t];if(r>=i)continue;let a={b:r,e:i},s=o.bondOrder[t];1!=s&&(a.o=s),e.b.push(a)}}return e}globj(t,e){(null===this.molObj||e.regen)&&(this.molObj=this.createMolObj(this.atoms,e),this.renderedMolObj&&(t.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),t.add(this.renderedMolObj))}exportVRML(){return this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1}).vrml()}removegl(t){this.renderedMolObj&&(void 0!==this.renderedMolObj.geometry&&this.renderedMolObj.geometry.dispose(),void 0!==this.renderedMolObj.material&&this.renderedMolObj.material.dispose(),t.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(t,e,r,n){for(var i=this.selectedAtoms(e,i),o=(0,c.deepCopy)(n),a=0;a<i.length;a++){var s=i[a],l=null;void 0!==s[t]?l=String(s[t]):void 0!==s.properties[t]&&(l=String(s.properties[t])),null!=l&&(o.position=s,r.addLabel(l,o))}}addResLabels(t,e,r,n=!1){var i=[],a=function(n,a){for(var s=n.selectedAtoms(t,s),l={},d=0;d<s.length;d++){var u=s[d],h=u.chain,f=u.resn+""+u.resi;l[h]||(l[h]={}),l[h][f]||(l[h][f]=[]),l[h][f].push(u)}var p=(0,c.deepCopy)(r);for(let t in l)if(l.hasOwnProperty(t)){var m=l[t];for(let t in m)if(m.hasOwnProperty(t)){let r=m[t],n=new o.Vector3(0,0,0);for(let t=0;t<r.length;t++){let e=r[t];n.x+=e.x,n.y+=e.y,n.z+=e.z}n.divideScalar(r.length),p.position=n,p.frame=a;let s=e.addLabel(t,p,void 0,!0);i.push(s)}}};if(n){var s=this.getNumFrames();let t=this.atoms;for(let t=0;t<s;t++)this.frames[t]&&(this.atoms=this.frames[t],a(this,t));this.atoms=t}else a(this);return i}setupDFS(){this.atomdfs=[];var t=this,e=new Int8Array(this.atoms.length);e.fill(0);for(var r=function(n,i,o){o.push([n,i]);var a=t.atoms[n];e[n]=1;for(var s=0;s<a.bonds.length;s++){var l=a.bonds[s];t.atoms[l]&&!e[l]&&r(l,n,o)}},n=0;n<this.atoms.length;n++)if(this.atoms[n]&&!e[n]){var i=[];r(n,-1,i),this.atomdfs.push(i)}}setCoordinatesFromURL(t,e){this.frames=[];var r=this;return this.box&&this.setupDFS(),t.startsWith("http")||(t="http://"+t),(0,c.get)(t+"/traj/numframes/"+e,(function(n){if(!isNaN(parseInt(n)))return r.frames.push(r.atoms),r.frames.numFrames=n,r.frames.url=t,r.frames.path=e,r.setFrame(0)}))}setCoordinates(t,e){if(!t)return[];if(/\.gz$/.test(e=e||"")){e=e.replace(/\.gz$/,"");try{t=(0,c.inflateString)(t)}catch(t){console.log(t)}}if({mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""}.hasOwnProperty(e)){this.frames=[];for(var r=this.atoms.length,n=p.parseCrd(t,e),i=0;i<n.length;){for(var o=[],a=0;a<r;a++){var s={};for(var l in this.atoms[a])s[l]=this.atoms[a][l];o[a]=s,o[a].x=n[i++],o[a].y=n[i++],o[a].z=n[i++]}this.frames.push(o)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(t){}static parseCrd(t,e){var r=[],n=0;if("pdb"==e)for(var i=t.indexOf("\nATOM");-1!=i;){for(;"\nATOM"==t.slice(i,i+5)||"\nHETATM"==t.slice(i,i+7);)r[n++]=parseFloat(t.slice(i+31,i+39)),r[n++]=parseFloat(t.slice(i+39,i+47)),r[n++]=parseFloat(t.slice(i+47,i+55)),i=t.indexOf("\n",i+54),"\nTER"==t.slice(i,i+4)&&(i=t.indexOf("\n",i+5));i=t.indexOf("\nATOM",i)}else if("netcdf"==e){var o=new h.NetCDFReader(t);r=[].concat.apply([],o.getDataVariable("coordinates"))}else{if("array"==e||Array.isArray(t))return t.flat(2);{let n=t.indexOf("\n");"inpcrd"==e&&(n=t.indexOf("\n",n+1)),r=(t=t.slice(n+1)).match(/\S+/g).map(parseFloat)}}return r}static parseMolData(t,e="",r){if(!t)return[];if(/\.gz$/.test(e)){e=e.replace(/\.gz$/,"");try{t=e.match(/bcif/i)?(0,c.inflateString)(t,!1):(0,c.inflateString)(t)}catch(t){console.log(t)}}return void 0===u.Parsers[e]&&(e=e.split(".").pop(),void 0===u.Parsers[e]&&(console.log("Unknown format: "+e),e=t instanceof Uint8Array?"bcif":t.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":t.match(/^data_/gm)&&t.match(/^loop_/gm)?"cif":t.match(/^HETATM/gm)||t.match(/^ATOM/gm)?"pdb":t.match(/ITEM: TIMESTEP/gm)?"lammpstrj":t.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":t.match(/^%VERSION\s+VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+e))),(0,u.Parsers[e])(t,r)}}p.defaultAtomStyle={line:{}},p.defaultlineWidth=1,p.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},p.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{GLShape:()=>h,splitMesh:()=>f});var n=r("./src/WebGL/index.ts"),i=r("./src/WebGL/shapes/index.ts"),o=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts"),s=r("./src/ProteinSurface4.ts"),l=r("./src/VolumeData.ts"),c=r("./src/GLDraw.ts"),d=r("./src/glcartoon.ts"),u=r("./src/utilities.ts");class h{static finalizeGeo(t){var e=t.updateGeoGroup(0);e.vertices>0&&e.truncateArrayBuffers(!0,!0)}static updateColor(t,e){var r,n,i;e=e||a.CC.color(e),t.colorsNeedUpdate=!0,e.constructor!==Array&&(r=e.r,n=e.g,i=e.b);for(let o in t.geometryGroups){let a=t.geometryGroups[o],s=a.colorArray;for(let t=0,o=a.vertices;t<o;++t){if(e.constructor===Array){let o=e[t];r=o.r,n=o.g,i=o.b}s[3*t]=r,s[3*t+1]=n,s[3*t+2]=i}}}static drawArrow(t,e,r){var n=r.start,a=r.end,s=r.radius,l=r.radiusRatio,c=r.mid,d=r.midpos;if(!n||!a)return;var u=e.updateGeoGroup(51),h=new o.Vector3(a.x,a.y,a.z).sub(n);if(d){let t=h.length();c=d>0?d/t:(t+d)/t}h.multiplyScalar(c);var f=new o.Vector3(n.x,n.y,n.z).add(h),p=h.clone().negate();let m=new o.Vector3(n.x,n.y,n.z);t.intersectionShape.cylinder.push(new i.Cylinder(m,f.clone(),s)),t.intersectionShape.sphere.push(new i.Sphere(m,s));var g=[];g[0]=h.clone(),Math.abs(g[0].x)>1e-4?g[0].y+=1:g[0].x+=1,g[0].cross(h),g[0].normalize(),g[4]=g[0].clone(),g[4].crossVectors(g[0],h),g[4].normalize(),g[8]=g[0].clone().negate(),g[12]=g[4].clone().negate(),g[2]=g[0].clone().add(g[4]).normalize(),g[6]=g[4].clone().add(g[8]).normalize(),g[10]=g[8].clone().add(g[12]).normalize(),g[14]=g[12].clone().add(g[0]).normalize(),g[1]=g[0].clone().add(g[2]).normalize(),g[3]=g[2].clone().add(g[4]).normalize(),g[5]=g[4].clone().add(g[6]).normalize(),g[7]=g[6].clone().add(g[8]).normalize(),g[9]=g[8].clone().add(g[10]).normalize(),g[11]=g[10].clone().add(g[12]).normalize(),g[13]=g[12].clone().add(g[14]).normalize(),g[15]=g[14].clone().add(g[0]).normalize();var b,v,y,x,w,_,k,A,T,M,S,E,C,z,L,O,D,I,F,R,P,j,N=u.vertices,B=u.vertexArray,U=u.faceArray,V=u.normalArray,G=u.lineArray;for(v=0,y=g.length;v<y;++v){b=3*(N+3*v);var H=g[v].clone().multiplyScalar(s).add(n),W=g[v].clone().multiplyScalar(s).add(f),q=g[v].clone().multiplyScalar(s*l).add(f);if(B[b]=H.x,B[b+1]=H.y,B[b+2]=H.z,B[b+3]=W.x,B[b+4]=W.y,B[b+5]=W.z,B[b+6]=q.x,B[b+7]=q.y,B[b+8]=q.z,v>0){var $=B[b-3],Y=B[b-2],Z=B[b-1],X=new o.Vector3($,Y,Z),J=new o.Vector3(a.x,a.y,a.z),Q=f.clone(),K=new o.Vector3(q.x,q.y,q.z);t.intersectionShape.triangle.push(new i.Triangle(K,J,X)),t.intersectionShape.triangle.push(new i.Triangle(X.clone(),Q,K.clone()))}}u.vertices+=48,B[b=3*u.vertices]=n.x,B[b+1]=n.y,B[b+2]=n.z,B[b+3]=f.x,B[b+4]=f.y,B[b+5]=f.z,B[b+6]=a.x,B[b+7]=a.y,B[b+8]=a.z,u.vertices+=3;var tt=u.vertices-3,et=u.vertices-2,rt=u.vertices-1,nt=3*tt,it=3*et,ot=3*rt;for(v=0,y=g.length-1;v<y;++v){var at=N+3*v;b=3*at,w=u.faceidx,_=u.lineidx,C=3*(k=at),z=3*(A=at+1),L=3*(T=at+2),O=3*(M=at+4),D=3*(S=at+5),I=3*(E=at+3),F=R=g[v],P=j=g[v+1],V[C]=F.x,V[z]=R.x,V[I]=j.x,V[C+1]=F.y,V[z+1]=R.y,V[I+1]=j.y,V[C+2]=F.z,V[z+2]=R.z,V[I+2]=j.z,V[z]=R.x,V[O]=P.x,V[I]=j.x,V[z+1]=R.y,V[O+1]=P.y,V[I+1]=j.y,V[z+2]=R.z,V[O+2]=P.z,V[I+2]=j.z,V[L]=R.x,V[D]=P.x,V[L+1]=R.y,V[D+1]=P.y,V[L+2]=R.z,V[D+2]=P.z,U[w]=k,U[w+1]=A,U[w+2]=E,U[w+3]=A,U[w+4]=M,U[w+5]=E,U[w+6]=k,U[w+7]=E,U[w+8]=tt,U[w+9]=T,U[w+10]=et,U[w+11]=S,U[w+12]=T,U[w+13]=rt,U[w+14]=S,G[_]=k,G[_+1]=A,G[_+2]=k,G[_+3]=E,G[_+4]=M,G[_+5]=E,G[_+6]=k,G[_+7]=E,G[_+8]=T,G[_+9]=A,G[_+10]=T,G[_+11]=S,G[_+12]=M,G[_+13]=S,G[_+14]=T,G[_+15]=rt,G[_+16]=T,G[_+17]=S,G[_+18]=rt,G[_+19]=S,u.faceidx+=15,u.lineidx+=20}x=[N+45,N+46,N+1,N,N+47,N+2],w=u.faceidx,_=u.lineidx,C=3*(k=x[0]),z=3*(A=x[1]),L=3*(T=x[4]),O=3*(M=x[2]),D=3*(S=x[5]),I=3*(E=x[3]),F=R=g[15],P=j=g[0],V[C]=F.x,V[z]=R.x,V[I]=j.x,V[C+1]=F.y,V[z+1]=R.y,V[I+1]=j.y,V[C+2]=F.z,V[z+2]=R.z,V[I+2]=j.z,V[z]=R.x,V[O]=P.x,V[I]=j.x,V[z+1]=R.y,V[O+1]=P.y,V[I+1]=j.y,V[z+2]=R.z,V[O+2]=P.z,V[I+2]=j.z,V[L]=R.x,V[D]=P.x,V[L+1]=R.y,V[D+1]=P.y,V[L+2]=R.z,V[D+2]=P.z,h.normalize(),p.normalize(),V[nt]=p.x,V[it]=V[ot]=h.x,V[nt+1]=p.y,V[it+1]=V[ot+1]=h.y,V[nt+2]=p.z,V[it+2]=V[ot+2]=h.z,U[w]=k,U[w+1]=A,U[w+2]=E,U[w+3]=A,U[w+4]=M,U[w+5]=E,U[w+6]=k,U[w+7]=E,U[w+8]=tt,U[w+9]=T,U[w+10]=et,U[w+11]=S,U[w+12]=T,U[w+13]=rt,U[w+14]=S,G[_]=k,G[_+1]=A,G[_+2]=k,G[_+3]=E,G[_+4]=M,G[_+5]=E,G[_+6]=k,G[_+7]=E,G[_+8]=T,G[_+9]=A,G[_+10]=T,G[_+11]=S,G[_+12]=M,G[_+13]=S,G[_+14]=T,G[_+15]=rt,G[_+16]=T,G[_+17]=S,G[_+18]=rt,G[_+19]=S,u.faceidx+=15,u.lineidx+=20}static updateBoundingFromPoints(t,e,r,n){t.center.set(0,0,0);let i=1/0,o=1/0,a=1/0,s=-1/0,l=-1/0,c=-1/0;t.box&&(i=t.box.min.x,s=t.box.max.x,o=t.box.min.y,l=t.box.max.y,a=t.box.min.z,c=t.box.max.z);for(let t=0,e=n;t<e;t++){var d=r[3*t],u=r[3*t+1],h=r[3*t+2];d<i&&(i=d),u<o&&(o=u),h<a&&(a=h),d>s&&(s=d),u>l&&(l=u),h>c&&(c=h)}t.center.set((s+i)/2,(l+o)/2,(c+a)/2),t.radius=t.center.distanceTo({x:s,y:l,z:c}),t.box={min:{x:i,y:o,z:a},max:{x:s,y:l,z:c}}}static addCustomGeo(t,e,r,n,a){var s,l,c,d,u,f,p,m,g,b=e.addGeoGroup(),v=r.vertexArr,y=r.normalArr,x=r.faceArr;b.vertices=v.length,b.faceidx=x.length;var w=b.vertexArray,_=b.colorArray;for(n.constructor!==Array&&(m=n.r,g=n.g,d=n.b),f=0,p=b.vertices;f<p;++f)s=3*f,l=v[f],w[s]=l.x,w[s+1]=l.y,w[s+2]=l.z,n.constructor===Array&&(m=(u=n[f]).r,g=u.g,d=u.b),_[s]=m,_[s+1]=g,_[s+2]=d;if(a)for(f=0,p=b.faceidx/3;f<p;++f){c=x[s=3*f],d=x[s+1],u=x[s+2];var k=new o.Vector3,A=new o.Vector3,T=new o.Vector3;t.intersectionShape.triangle.push(new i.Triangle(k.copy(v[c]),A.copy(v[d]),T.copy(v[u])))}if(a){var M=new o.Vector3(0,0,0),S=0;for(let t=0;t<e.geometryGroups.length;t++)M.add(e.geometryGroups[t].getCentroid()),S++;M.divideScalar(S),h.updateBoundingFromPoints(t.boundingSphere,{centroid:M},w,b.vertices)}if(b.faceArray=new Uint16Array(x),b.truncateArrayBuffers(!0,!0),y.length<b.vertices)b.setNormals();else{var E,C=b.normalArray=new Float32Array(3*b.vertices);for(f=0,p=b.vertices;f<p;++f)s=3*f,E=y[f],C[s]=E.x,C[s+1]=E.y,C[s+2]=E.z}b.setLineIndices(),b.lineidx=b.lineArray.length}static updateFromStyle(t,e){void 0!==e.color?(t.color=e.color||new a.Color,e.color instanceof a.Color||(t.color=a.CC.color(e.color))):t.color=a.CC.color(0),t.wireframe=!!e.wireframe,t.opacity=e.alpha?(0,o.clamp)(e.alpha,0,1):1,void 0!==e.opacity&&(t.opacity=(0,o.clamp)(e.opacity,0,1)),t.side=void 0!==e.side?e.side:n.DoubleSide,t.linewidth=void 0===e.linewidth?1:e.linewidth,t.clickable=!!e.clickable,t.callback=(0,u.makeFunction)(e.callback),t.hoverable=!!e.hoverable,t.hover_callback=(0,u.makeFunction)(e.hover_callback),t.unhover_callback=(0,u.makeFunction)(e.unhover_callback),t.contextMenuEnabled=!!e.contextMenuEnabled,t.hidden=e.hidden,t.frame=e.frame}constructor(t){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=n.DoubleSide,this.stylespec=t||{},this.boundingSphere=new i.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},h.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new n.Geometry(!0),this.linegeo=new n.Geometry(!0)}updateStyle(t){for(var e in t)this.stylespec[e]=t[e];if(h.updateFromStyle(this,this.stylespec),t.voldata&&t.volscheme){(0,u.adjustVolumeStyle)(t);const e=t.volscheme,r=t.voldata,n=a.CC,i=e.range()||[-1,1];this.geo.setColors((function(t,o,a){let s=r.getVal(t,o,a);return n.color(e.valueToHex(s,i))})),delete this.color}}addCustom(t){t.vertexArr=t.vertexArr||[],t.faceArr=t.faceArr||[],t.normalArr=t.normalArr||[],h.drawCustom(this,this.geo,t)}addSphere(t){t.center||(t.center=new o.Vector3(0,0,0)),t.radius=t.radius?(0,o.clamp)(t.radius,0,1/0):1.5,t.color=a.CC.color(t.color),this.intersectionShape.sphere.push(new i.Sphere(t.center,t.radius)),c.GLDraw.drawSphere(this.geo,t.center,t.radius,t.color,t.quality),this.components.push({centroid:new o.Vector3(t.center.x,t.center.y,t.center.z)});var e=this.geo.updateGeoGroup(0);h.updateBoundingFromPoints(this.boundingSphere,this.components,e.vertexArray,e.vertices)}addBox(t){var e,r,n,i=t.dimensions||{w:1,h:1,d:1};e="number"==typeof i.w?{x:i.w,y:0,z:0}:i.w,r="number"==typeof i.h?{x:0,y:i.h,z:0}:i.h,n="number"==typeof i.d?{x:0,y:0,z:i.d}:i.d;var a=t.corner;null==a&&(a=void 0!==t.center?{x:t.center.x-.5*(e.x+r.x+n.x),y:t.center.y-.5*(e.y+r.y+n.y),z:t.center.z-.5*(e.z+r.z+n.z)}:{x:0,y:0,z:0});var s=[{x:a.x,y:a.y,z:a.z},{x:a.x+e.x,y:a.y+e.y,z:a.z+e.z},{x:a.x+r.x,y:a.y+r.y,z:a.z+r.z},{x:a.x+e.x+r.x,y:a.y+e.y+r.y,z:a.z+e.z+r.z},{x:a.x+n.x,y:a.y+n.y,z:a.z+n.z},{x:a.x+e.x+n.x,y:a.y+e.y+n.y,z:a.z+e.z+n.z},{x:a.x+r.x+n.x,y:a.y+r.y+n.y,z:a.z+r.z+n.z},{x:a.x+e.x+r.x+n.x,y:a.y+e.y+r.y+n.y,z:a.z+e.z+r.z+n.z}],l=[],c=[];l.splice(l.length,0,s[0],s[1],s[2],s[3]),c.splice(c.length,0,0,2,1,1,2,3);var d=4;l.splice(l.length,0,s[2],s[3],s[6],s[7]),c.splice(c.length,0,d+0,d+2,d+1,d+1,d+2,d+3),d+=4,l.splice(l.length,0,s[4],s[5],s[0],s[1]),c.splice(c.length,0,d+0,d+2,d+1,d+1,d+2,d+3),d+=4,l.splice(l.length,0,s[6],s[7],s[4],s[5]),c.splice(c.length,0,d+0,d+2,d+1,d+1,d+2,d+3),d+=4,l.splice(l.length,0,s[3],s[1],s[7],s[5]),c.splice(c.length,0,d+0,d+2,d+1,d+1,d+2,d+3),d+=4,l.splice(l.length,0,s[2],s[6],s[0],s[4]),c.splice(c.length,0,d+0,d+2,d+1,d+1,d+2,d+3),d+=4;var f=(0,u.extend)({},t);f.vertexArr=l,f.faceArr=c,f.normalArr=[],h.drawCustom(this,this.geo,f);var p=new o.Vector3;this.components.push({centroid:p.addVectors(s[0],s[7]).multiplyScalar(.5)});var m=this.geo.updateGeoGroup(0);h.updateBoundingFromPoints(this.boundingSphere,this.components,m.vertexArray,m.vertices)}addCylinder(t){var e,r;e=t.start?new o.Vector3(t.start.x||0,t.start.y||0,t.start.z||0):new o.Vector3(0,0,0),t.end?void 0===(r=new o.Vector3(t.end.x,t.end.y||0,t.end.z||0)).x&&(r.x=3):r=new o.Vector3(0,0,0);var n=t.radius||.1,s=a.CC.color(t.color);this.intersectionShape.cylinder.push(new i.Cylinder(e,r,n)),c.GLDraw.drawCylinder(this.geo,e,r,n,s,t.fromCap,t.toCap);var l=new o.Vector3;this.components.push({centroid:l.addVectors(e,r).multiplyScalar(.5)});var d=this.geo.updateGeoGroup(0);h.updateBoundingFromPoints(this.boundingSphere,this.components,d.vertexArray,d.vertices)}addDashedCylinder(t){var e,r;t.dashLength=t.dashLength||.25,t.gapLength=t.gapLength||.25,e=t.start?new o.Vector3(t.start.x||0,t.start.y||0,t.start.z||0):new o.Vector3(0,0,0),t.end?void 0===(r=new o.Vector3(t.end.x,t.end.y||0,t.end.z||0)).x&&(r.x=3):r=new o.Vector3(3,0,0);for(var n=t.radius||.1,s=a.CC.color(t.color),l=Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)+Math.pow(e.z-r.z,2)),d=l/(t.gapLength+t.dashLength),u=new o.Vector3(t.start.x||0,t.start.y||0,t.start.z||0),f=new o.Vector3(t.end.x,t.end.y||0,t.end.z||0),p=new o.Vector3((r.x-e.x)/(l/t.gapLength),(r.y-e.y)/(l/t.gapLength),(r.z-e.z)/(l/t.gapLength)),m=new o.Vector3((r.x-e.x)/(l/t.dashLength),(r.y-e.y)/(l/t.dashLength),(r.z-e.z)/(l/t.dashLength)),g=0;g<d;g++)f=new o.Vector3(u.x+m.x,u.y+m.y,u.z+m.z),this.intersectionShape.cylinder.push(new i.Cylinder(u,f,n)),c.GLDraw.drawCylinder(this.geo,u,f,n,s,t.fromCap,t.toCap),u=new o.Vector3(f.x+p.x,f.y+p.y,f.z+p.z);var b=new o.Vector3;this.components.push({centroid:b.addVectors(e,r).multiplyScalar(.5)});var v=this.geo.updateGeoGroup(0);h.updateBoundingFromPoints(this.boundingSphere,this.components,v.vertexArray,v.vertices)}addCurve(t){t.points=t.points||[],t.smooth=t.smooth||10,void 0===t.fromCap&&(t.fromCap=2),void 0===t.toCap&&(t.toCap=2);var e=(0,d.subdivide_spline)(t.points,t.smooth);if(e.length<3)console.log("Too few points in addCurve");else{var r=t.radius||.1,n=a.CC.color(t.color),i=0,o=e.length-1,s=e[0].distanceTo(e[1]),l=Math.ceil(2*r/s);if(t.toArrow){let t={start:e[o-=l],end:e[e.length-1],radius:r,color:n,mid:1e-4};this.addArrow(t)}if(t.fromArrow){let t={start:e[i+=l],end:e[0],radius:r,color:n,mid:1e-4};this.addArrow(t)}for(var c=Math.ceil(e.length/2),u={radius:r,color:n,fromCap:2,toCap:2},h=i;h<o;h++)u.start=e[h],u.end=e[h+1],u.fromCap=2,u.toCap=2,h<c?(u.fromCap=2,u.toCap=0):h>c?(u.fromCap=0,u.toCap=2):(u.fromCap=2,u.toCap=2),this.addCylinder(u)}}addLine(t){var e,r;e=t.start?new o.Vector3(t.start.x||0,t.start.y||0,t.start.z||0):new o.Vector3(0,0,0),t.end?void 0===(r=new o.Vector3(t.end.x,t.end.y||0,t.end.z||0)).x&&(r.x=3):r=new o.Vector3(3,0,0);var n=this.geo.updateGeoGroup(2),i=n.vertices,a=3*i,s=n.vertexArray;s[a]=e.x,s[a+1]=e.y,s[a+2]=e.z,s[a+3]=r.x,s[a+4]=r.y,s[a+5]=r.z,n.vertices+=2;var l=n.lineArray,c=n.lineidx;l[c]=i,l[c+1]=i+1,n.lineidx+=2;var d=new o.Vector3;this.components.push({centroid:d.addVectors(e,r).multiplyScalar(.5)}),n=this.geo.updateGeoGroup(0),h.updateBoundingFromPoints(this.boundingSphere,this.components,n.vertexArray,n.vertices)}addArrow(t){if(t.start?t.start=new o.Vector3(t.start.x||0,t.start.y||0,t.start.z||0):t.start=new o.Vector3(0,0,0),t.dir instanceof o.Vector3&&"number"==typeof t.length){var e=t.dir.clone().multiplyScalar(t.length).add(t.start);t.end=e}else t.end?(t.end=new o.Vector3(t.end.x,t.end.y||0,t.end.z||0),void 0===t.end.x&&(t.end.x=3)):t.end=new o.Vector3(3,0,0);t.radius=t.radius||.1,t.radiusRatio=t.radiusRatio||1.618034,t.mid=0<t.mid&&t.mid<1?t.mid:.618034,h.drawArrow(this,this.geo,t);var r=new o.Vector3;this.components.push({centroid:r.addVectors(t.start,t.end).multiplyScalar(.5)});var n=this.geo.updateGeoGroup(0);h.updateBoundingFromPoints(this.boundingSphere,this.components,n.vertexArray,n.vertices)}static distance_from(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))}static inSelectedRegion(t,e,r){for(var n=0;n<e.length;n++)if(h.distance_from(e[n],t)<=r)return!0;return!1}addIsosurface(t,e,r,n){var i,a,l=void 0!==e.isoval&&"number"==typeof e.isoval?e.isoval:0,c=!!e.voxel,d=void 0===e.smoothness?1:e.smoothness,u=t.size.x,f=t.size.y,p=t.size.z,m=new Int16Array(u*f*p),g=t.data;for(i=0,a=m.length;i<a;++i)m[i]=-1;var b=new Uint8Array(u*f*p);for(i=0,a=g.length;i<a;++i)(l>=0?g[i]-l:l-g[i])>0&&(b[i]|=h.ISDONE);var v=[],y=[];s.MarchingCube.march(b,v,y,{fulltable:!0,voxel:c,unitCube:t.unit,origin:t.origin,matrix:t.matrix,nX:u,nY:f,nZ:p}),!c&&d>0&&s.MarchingCube.laplacianSmooth(d,v,y);var x=[],w=[],_=[];if(e.selectedRegion&&void 0===e.coords&&(e.coords=e.selectedRegion),void 0===e.coords&&void 0!==e.selection&&(n?e.coords=n.selectedAtoms(e.selection):console.log("addIsosurface needs viewer is selection provided.")),void 0!==e.coords){var k=e.coords[0].x,A=e.coords[0].y,T=e.coords[0].z,M=e.coords[0].x,S=e.coords[0].y,E=e.coords[0].z;for(let t=0;t<e.coords.length;t++)e.coords[t].x>k?k=e.coords[t].x:e.coords[t].x<M&&(M=e.coords[t].x),e.coords[t].y>A?A=e.coords[t].y:e.coords[t].y<S&&(S=e.coords[t].y),e.coords[t].z>T?T=e.coords[t].z:e.coords[t].z<E&&(E=e.coords[t].z);var C=2;void 0!==e.radius&&(C=e.radius),void 0!==e.selectedOffset&&(C=e.selectedOffset),void 0!==e.seldist&&(C=e.seldist),M-=C,k+=C,S-=C,A+=C,E-=C,T+=C;for(let t=0;t<v.length;t++)v[t].x>M&&v[t].x<k&&v[t].y>S&&v[t].y<A&&v[t].z>E&&v[t].z<T&&h.inSelectedRegion(v[t],e.coords,C)?(x.push(w.length),w.push(v[t])):x.push(-1);for(let t=0;t+2<y.length;t+=3)-1!==x[y[t]]&&-1!==x[y[t+1]]&&-1!==x[y[t+2]]&&(_.push(y[t]-(y[t]-x[y[t]])),_.push(y[t+1]-(y[t+1]-x[y[t+1]])),_.push(y[t+2]-(y[t+2]-x[y[t+2]])));v=w,y=_}h.drawCustom(this,this.geo,{vertexArr:v,faceArr:y,normalArr:[],clickable:e.clickable,hoverable:e.hoverable}),this.updateStyle(e);var z=new o.Vector3(t.origin.x,t.origin.y,t.origin.z),L=new o.Vector3(t.size.x*t.unit.x,t.size.y*t.unit.y,t.size.z*t.unit.z),O=new o.Vector3(0,0,0),D=z.clone(),I=z.clone().add(L);for(let t=0;t<v.length;t++)O.add(v[t]),D.max(v[t]),I.min(v[t]);O.divideScalar(v.length);var F=O.distanceTo(I),R=O.distanceTo(D);this.boundingSphere.center=O,this.boundingSphere.radius=Math.max(F,R),"function"==typeof r&&r()}addVolumetricData(t,e,r){t=new l.VolumeData(t,e),this.addIsosurface(t,r)}finalize(){return h.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(t){if(this.renderedShapeObj&&(t.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){h.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),void 0!==this.color&&h.updateColor(this.geo,this.color),this.shapeObj=new n.Object3D;var e;e=this.side==n.DoubleSide?new n.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors}):new n.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:n.Coloring.VertexColors});var r=new n.Mesh(this.geo,e);if(this.shapeObj.add(r),this.linegeo&&this.linegeo.vertices>0){var i=new n.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),o=new n.Line(this.linegeo,i,n.LineStyle.LinePieces);this.shapeObj.add(o)}this.renderedShapeObj=this.shapeObj.clone(),t.add(this.renderedShapeObj)}}removegl(t){this.renderedShapeObj&&(void 0!==this.renderedShapeObj.geometry&&this.renderedShapeObj.geometry.dispose(),void 0!==this.renderedShapeObj.material&&this.renderedShapeObj.material.dispose(),t.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}function f(t){if(t.vertexArr.length<64e3)return[t];var e=[{vertexArr:[],normalArr:[],faceArr:[]}];t.colorArr&&(e.colorArr=[]);var r=[],n=[],i=0,o=t.faceArr;for(let s=0,l=o.length;s<l;s+=3){let l=e[i];for(let e=0;e<3;e++){var a=o[s+e];r[a]!==i&&(r[a]=i,n[a]=l.vertexArr.length,l.vertexArr.push(t.vertexArr[a]),t.normalArr&&t.normalArr[a]&&l.normalArr.push(t.normalArr[a]),t.colorArr&&t.colorArr[a]&&l.colorArr.push(t.colorArr[a])),l.faceArr.push(n[a])}l.vertexArr.length>=64e3&&(e.push({vertexArr:[],normalArr:[],faceArr:[]}),t.colorArr&&(e.colorArr=[]),i++)}return e}h.ISDONE=2,h.drawCustom=function(t,e,r){var n=r,i=n.vertexArr,o=n.faceArr;0!==i.length&&0!==o.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var s=r.color;void 0===s&&(s=t.color),s=a.CC.color(s);for(var l=f(n),c=0,d=l.length;c<d;c++)h.addCustomGeo(t,e,l[c],l[c].colorArr?l[c].colorArr:s,r.clickable)}},"./src/GLViewer.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CONTEXTS_PER_VIEWPORT:()=>m,GLViewer:()=>g,createStereoViewer:()=>y,createViewer:()=>b,createViewerGrid:()=>v});var n=r("./src/WebGL/index.ts"),i=r("./src/WebGL/math/index.ts"),o=r("./src/colors.ts"),a=r("./src/utilities.ts"),s=r("./src/Gradient.ts"),l=r("./src/GLModel.ts"),c=r("./src/Label.ts"),d=r("./src/GLShape.ts"),u=r("./src/VolumeData.ts"),h=r("./src/ProteinSurface4.ts"),f=r("./src/VolumetricRender.ts"),p=r("./node_modules/upng-js/UPNG.js");const m=16;class g{getWidth(){let t=this.container,e=t.offsetWidth;if(0==e&&"none"===t.style.display){let r=t.style.position,n=t.style.visibility;t.style.display="block",t.style.visibility="hidden",t.style.position="absolute",e=t.offsetWidth,t.style.display="none",t.style.visibility=n,t.style.position=r}return e}getHeight(){let t=this.container,e=t.offsetHeight;if(0==e&&"none"===t.style.display){let r=t.style.position,n=t.style.visibility;t.style.display="block",t.style.visibility="hidden",t.style.position="absolute",e=t.offsetHeight,t.style.display="none",t.style.visibility=n,t.style.position=r}return e}setupRenderer(){this.renderer=new n.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH,containerHeight:this.HEIGHT,ambientOcclusion:this.config.ambientOcclusion,outline:this.config.outline}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new n.Scene,this.scene.fog=new n.Fog(this.bgColor,100,200),this.modelGroup=new n.Object3D,this.rotationGroup=new n.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new i.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var t=new n.Light(16777215);t.position=new i.Vector3(.2,.2,1).normalize(),t.intensity=1,this.scene.add(t)}_handleLostContext(t){const e=function(t){const e=t.getBoundingClientRect();return!(e.right<0||e.bottom<0||e.top>(window.innerHeight||document.documentElement.clientHeight)||e.left>(window.innerWidth||document.documentElement.clientWidth))};if(e(this.container)){let t=0;for(let r of document.getElementsByTagName("canvas"))if(e(r)&&null!=r._3dmol_viewer&&(r._3dmol_viewer.resize(),t+=1,t>=m))break}}initContainer(t){this.container=t,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var t=0;for(let r in this.surfaces)if(this.surfaces.hasOwnProperty(r)){var e=parseInt(r);isNaN(e)||e>t&&(t=e)}return t+1}setSlabAndFog(){let t=this.camera.position.z-this.rotationGroup.position.z;t<1&&(t=1),this.camera.near=t+this.slabNear,!this.camera.ortho&&this.camera.near<1&&(this.camera.near=1),this.camera.far=t+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=t*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(t){if(this.renderer.setViewport(),this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!t&&this.linkedViewers.length>0))for(var e=this._viewer.getView(),r=0;r<this.linkedViewers.length;r++)this.linkedViewers[r].setView(e,!0)}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let t=0,e=this.models.length;t<e;t++){let e=this.models[t];if(e){let t=e.selectedAtoms({clickable:!0}),r=e.selectedAtoms({hoverable:!0}),n=e.selectedAtoms({contextMenuEnabled:!0});for(let t=0;t<r.length;t++)this.hoverables.push(r[t]);for(let e=0;e<t.length;e++)this.clickables.push(t[e]);for(let t=0;t<n.length;t++)this.contextMenuEnabledObjects.push(n[t])}}for(let t=0,e=this.shapes.length;t<e;t++){let e=this.shapes[t];e&&e.clickable&&this.clickables.push(e),e&&e.hoverable&&this.hoverables.push(e),e&&e.contextMenuEnabled&&this.contextMenuEnabledObjects.push(e)}}handleClickSelection(t,e,r){let n=this.targetedObjects(t,e,this.clickables);if(n.length){var i=n[0].clickable;void 0!==i.callback&&("function"!=typeof i.callback&&(i.callback=(0,a.makeFunction)(i.callback)),"function"==typeof i.callback)&&(3===this.mouseButton&&this.contextMenuEnabledObjects.includes(i)&&this.userContextMenuHandler||i.callback(i,this._viewer,r,this.container,n))}}canvasOffset(){let t=this.glDOM,e=t.getBoundingClientRect(),r=t.ownerDocument,n=r.documentElement,i=r.defaultView;return{top:e.top+i.pageYOffset-n.clientTop,left:e.left+i.pageXOffset-n.clientLeft}}setHover(t,e,r){this.current_hover!=t&&(this.current_hover&&("function"!=typeof this.current_hover.unhover_callback&&(this.current_hover.unhover_callback=(0,a.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,e,this.container,r)),this.current_hover=t,t&&void 0!==t.hover_callback&&("function"!=typeof t.hover_callback&&(t.hover_callback=(0,a.makeFunction)(t.hover_callback)),"function"==typeof t.hover_callback&&t.hover_callback(t,this._viewer,e,this.container,r)))}handleHoverSelection(t,e,r){if(0==this.hoverables.length)return;let n=this.targetedObjects(t,e,this.hoverables);if(n.length){var i=n[0].clickable;this.setHover(i,r,n),this.current_hover=i}else this.setHover(null)}handleHoverContinue(t,e){let r=this.targetedObjects(t,e,this.hoverables);0!=r.length&&void 0!==r[0]||this.setHover(null),void 0!==r[0]&&r[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(t,{allowTolerance:e=t.targetTouches,tolerance:r=5}={}){const n=this.getX(t),i=this.getY(t);if(e){const t=Math.abs(n-this.mouseStartX),e=Math.abs(i-this.mouseStartY);return t<=r&&e<=r}return n===this.mouseStartX&&i===this.mouseStartY}calcTouchDistance(t){var e=t.targetTouches[0].pageX-t.targetTouches[1].pageX,r=t.targetTouches[0].pageY-t.targetTouches[1].pageY;return Math.hypot(e,r)}getX(t){var e=t.pageX;return null==e&&(e=t.pageX),t.targetTouches&&t.targetTouches[0]?e=t.targetTouches[0].pageX:t.changedTouches&&t.changedTouches[0]&&(e=t.changedTouches[0].pageX),e}getY(t){var e=t.pageY;return null==e&&(e=t.pageY),t.targetTouches&&t.targetTouches[0]?e=t.targetTouches[0].pageY:t.changedTouches&&t.changedTouches[0]&&(e=t.changedTouches[0].pageY),e}isInViewer(t,e){if(null!=this.viewers){var r=this.WIDTH/this.cols,n=this.HEIGHT/this.rows,i=this.canvasOffset(),o=t-i.left,a=e-i.top,s=this.rows-Math.floor(a/n)-1,l=Math.floor(o/r);if(s!=this.row||l!=this.col)return!1}return!0}adjustZoomToLimits(t){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let e=this.CAMERA_Z-this.config.lowerZoomLimit;t>e&&(t=e)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let e=this.CAMERA_Z-this.config.upperZoomLimit;t<e&&(t=e)}return t>this.CAMERA_Z-1&&(t=this.CAMERA_Z-1),t}static slerp(t,e,r){if(1==r)return e.clone();if(0==r)return t.clone();let n=t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w;if(n>.9995){let n=new i.Quaternion(t.x+r*(e.x-t.x),t.y+r*(e.y-t.y),t.z+r*(e.z-t.z),t.w+r*(e.w-t.w));return n.normalize(),n}n<0&&(e=e.clone().multiplyScalar(-1),n=-n),n>1?n=1:n<-1&&(n=-1);var o=Math.acos(n)*r,a=e.clone();a.sub(t.clone().multiplyScalar(n)),a.normalize();var s=Math.cos(o),l=Math.sin(o),c=new i.Quaternion(t.x*s+a.x*l,t.y*s+a.y*l,t.z*s+a.z*l,t.w*s+a.w*l);return c.normalize(),c}constructor(t,e={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new i.Quaternion(0,0,0,1),this.dq=new i.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=e,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=o.elementColors.defaultColors),this.nomouse=Boolean(this.config.nomouse),this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",void 0!==this.config.backgroundColor&&(this.bgColor=o.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=null==this.config.backgroundAlpha?1:this.config.backgroundAlpha,this.camerax=0,void 0!==this.config.camerax&&(this.camerax="string"==typeof this.config.camerax?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=t,null!=this.config.hoverDuration&&(this.hoverDuration=this.config.hoverDuration),void 0===this.config.antialias&&(this.config.antialias=!0),void 0===this.config.cartoonQuality&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=null==this.config.row?0:this.config.row,this.col=null==this.config.col?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new n.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new i.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new i.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new n.Raycaster(new i.Vector3(0,0,0),new i.Vector3(0,0,0)),this.projector=new n.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=o.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),void 0!==window.ResizeObserver&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),void 0!==window.IntersectionObserver){let t=(t,e)=>{t.forEach((t=>{t.isIntersecting&&this.resize()}))};this.intwatcher=new window.IntersectionObserver(t),this.intwatcher.observe(this.container)}try{"function"==typeof this.callback&&this.callback(this)}catch(t){console.log("error with glviewer callback: "+t)}}targetedObjects(t,e,r){var n={x:t,y:e,z:-1};return Array.isArray(r)||(r=this.selectedAtoms(r)),0==r.length?[]:(this.raycaster.setFromCamera(n,this.camera),this.raycaster.intersectObjects(this.modelGroup,r))}modelToScreen(t){let e=!1;Array.isArray(t)||(t=[t],e=!0);let r=this.renderer.getXRatio(),n=this.renderer.getYRatio(),o=this.col,a=this.row,s=o*(this.WIDTH/r),l=(n-a-1)*(this.HEIGHT/n),c=[],d=this.canvasOffset();return t.forEach((t=>{let e=new i.Vector3(t.x,t.y,t.z);e.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(e,this.camera);let o=this.WIDTH/r*(e.x+1)/2+d.left+s,a=-this.HEIGHT/n*(e.y-1)/2+d.top+l;c.push({x:o,y:a})})),e&&(c=c[0]),c}screenOffsetToModel(t,e,r){var n=t/this.WIDTH,o=e/this.HEIGHT,a=void 0===r?this.rotationGroup.position.z:r,s=this.rotationGroup.quaternion,l=new i.Vector3(0,0,a);return this.projector.projectVector(l,this.camera),l.x+=2*n,l.y-=2*o,this.projector.unprojectVector(l,this.camera),l.z=0,l.applyQuaternion(s),l}screenToModelDistance(t,e){let r=this.canvasOffset(),n=new i.Vector3(e.x,e.y,e.z);n.applyMatrix4(this.modelGroup.matrixWorld);let o=n.clone();this.projector.projectVector(n,this.camera);let a=new i.Vector3(2*(t.x-r.left)/this.WIDTH-1,2*(t.y-r.top)/-this.HEIGHT+1,n.z);return this.projector.unprojectVector(a,this.camera),a.distanceTo(o)}setViewChangeCallback(t){"function"!=typeof t&&null!=t||(this.viewChangeCallback=t)}setStateChangeCallback(t){"function"!=typeof t&&null!=t||(this.stateChangeCallback=t)}getConfig(){return this.config}setConfig(t){this.config=t,t.ambientOcclusion&&this.renderer.enableAmbientOcclusion(t.ambientOcclusion)}getInternalState(){var t={models:[],surfaces:[],shapes:[],labels:[]};for(let e=0;e<this.models.length;e++)this.models[e]&&(t.models[e]=this.models[e].getInternalState());return t}setInternalState(t){this.clear();var e=t.models;for(let t=0;t<e.length;t++)e[t]&&(this.models[t]=new l.GLModel(t),this.models[t].setInternalState(e[t]));this.render()}setZoomLimits(t,e){void 0!==t&&(this.config.lowerZoomLimit=t),e&&(this.config.upperZoomLimit=e),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(t){void 0!==t.fov&&(this.fov=t.fov,this.camera.fov=this.fov),void 0!==t.z&&(this.CAMERA_Z=t.z,this.camera.z=this.CAMERA_Z),void 0!==t.orthographic&&(this.camera.ortho=t.orthographic),this.setSlabAndFog()}_handleMouseDown(t){if(t.preventDefault(),!this.scene)return;var e=this.getX(t),r=this.getY(t);if(void 0===e)return;this.isDragging=!0,this.mouseButton=t.which,this.mouseStartX=e,this.mouseStartY=r,this.touchHold=!0,this.touchDistanceStart=0,t.targetTouches&&2==t.targetTouches.length&&(this.touchDistanceStart=this.calcTouchDistance(t)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let n=this;t.targetTouches&&1===t.targetTouches.length&&(this.longTouchTimeout=setTimeout((function(){if(1==n.touchHold){n.glDOM=n.renderer.domElement;const e=t.targetTouches[0],r=new PointerEvent("contextmenu",Object.assign(Object.assign({},t),{pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY}));n.glDOM.dispatchEvent(r)}}),this.longTouchDuration))}_handleMouseUp(t){if(this.touchHold=!1,this.isDragging&&this.scene){var e=this.getX(t),r=this.getY(t);if(this.closeEnoughForClick(t)&&this.isInViewer(e,r)){let n=this.mouseXY(e,r);this.handleClickSelection(n.x,n.y,t)}}this.isDragging=!1}_handleMouseScroll(t){if(t.preventDefault(),this.scene){var e=this.getX(t),r=this.getY(t);if(void 0!==e&&(this.control_all||this.isInViewer(e,r))){var n=.85*(this.CAMERA_Z-this.rotationGroup.position.z),i=1;if(t.ctrlKey&&(i=-1),t.detail)this.rotationGroup.position.z+=i*n*t.detail/10;else if(t.wheelDelta){let e=600*t.wheelDelta/(t.wheelDelta+600);this.rotationGroup.position.z-=i*n*e/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(t){let e=this;return t=t||1,new Promise((function(r){let n=0,i=e.viewChangeCallback,o=[],a=[],s=Date.now();e.viewChangeCallback=function(){a.push(Date.now()-s),s=Date.now(),o.push(new Promise((t=>{e.getCanvas().toBlob((function(e){e.arrayBuffer().then(t)}),"image/png")}))),n+=1,n==t&&(e.viewChangeCallback=i,Promise.all(o).then((t=>{let n=[];for(let e=0;e<t.length;e++){let r=(0,p.decode)(t[e]);n.push((0,p.toRGBA8)(r)[0])}let i=e.getCanvas().width,o=e.getCanvas().height,s=(0,p.encode)(n,i,o,0,a),l=new Blob([s],{type:"image/png"}),c=new FileReader;c.onload=function(t){r(t.target.result)},c.readAsDataURL(l)})))}}))}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(t){this.hoverDuration=t}mouseXY(t,e){let r=this.canvasOffset(),n=this.renderer.getXRatio(),i=this.renderer.getYRatio(),o=this.col,a=this.row,s=o*(this.WIDTH/n),l=(i-a-1)*(this.HEIGHT/i);return{x:(t-r.left-s)/(this.WIDTH/n)*2-1,y:-(e-r.top-l)/(this.HEIGHT/i)*2+1}}_handleMouseMove(t){clearTimeout(this.hoverTimeout),t.preventDefault();let e=this.getX(t),r=this.getY(t);if(void 0===e)return;let n=this.renderer.getXRatio(),i=this.renderer.getYRatio(),o=this.mouseXY(e,r),a=this;null!==this.current_hover&&this.handleHoverContinue(o.x,o.y);var s=0;if((this.control_all||this.isInViewer(e,r))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout((function(){a.handleHoverSelection(o.x,o.y,t)}),this.hoverDuration)),this.isDragging)){t.targetTouches&&(t.targetTouches.length>1||1===t.targetTouches.length&&!this.closeEnoughForClick(t))&&clearTimeout(this.longTouchTimeout);var l=(e-this.mouseStartX)/this.WIDTH,c=(r-this.mouseStartY)/this.HEIGHT;0!=this.touchDistanceStart&&t.targetTouches&&2==t.targetTouches.length?(s=2,c=2*(this.calcTouchDistance(t)-this.touchDistanceStart)/(this.WIDTH+this.HEIGHT)):t.targetTouches&&3==t.targetTouches.length&&(s=1),l*=n,c*=i;var d,u=Math.hypot(l,c);if(3==s||3==this.mouseButton&&t.ctrlKey)this.slabNear=this.cslabNear+100*l,this.slabFar=this.cslabFar-100*c;else if(2==s||3==this.mouseButton||t.shiftKey)(d=.85*(this.CAMERA_Z-this.rotationGroup.position.z))<80&&(d=80),this.rotationGroup.position.z=this.cz+c*d,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(1==s||2==this.mouseButton||t.ctrlKey){var h=this.screenOffsetToModel(n*(e-this.mouseStartX),i*(r-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,h)}else if((0===s||1==this.mouseButton)&&0!==u){var f=Math.sin(u*Math.PI)/u;this.dq.x=Math.cos(u*Math.PI),this.dq.y=0,this.dq.z=f*l,this.dq.w=-f*c,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(t){if(t.preventDefault(),this.closeEnoughForClick(t)){var e=this.mouseStartX,r=this.mouseStartY,n=this.canvasOffset();let o=this.mouseXY(e,r),a=o.x,s=o.y,l=this.targetedObjects(a,s,this.contextMenuEnabledObjects);var i=null;l.length&&(i=l[0].clickable),n=this.canvasOffset(),e=this.mouseStartX-n.left,r=this.mouseStartY-n.top,this.userContextMenuHandler&&(this.userContextMenuHandler(i,e,r,l,t),this.isDragging=!1)}}setContainer(t){let e=(0,a.getElement)(t)||this.container;return this.initContainer(e),this}setBackgroundColor(t,e){(void 0===e||e<0||e>1)&&(e=1);var r=o.CC.color(t);return this.scene.fog.color=r,this.bgColor=r.getHex(),this.renderer.setClearColorHex(r.getHex(),e),this.show(),this}setProjection(t){this.camera.ortho="orthographic"===t,this.setSlabAndFog()}setViewStyle(t){if((t=t||{}).style=t.style||"",t.style.includes("outline")?this.renderer.enableOutline(t):this.renderer.disableOutline(),t.style.includes("ambientOcclusion")){var e={};t.strength&&(e.strength=t.strength),t.radius&&(e.radius=t.radius),this.renderer.enableAmbientOcclusion(e)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(t){return this.WIDTH=t||this.WIDTH,this.updateSize(),this}setHeight(t){return this.HEIGHT=t||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let t=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let e=!1,r=this.container.querySelector("canvas");r&&r!=this.renderer.getCanvas()?this.config.canvas=r:(r.remove(),this.config&&null!=this.config.canvas&&(delete this.config.canvas,e=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),t=!0,e&&(this.config.canvas=this.renderer.getCanvas())}if(0==this.WIDTH||0==this.HEIGHT?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),t){let t=this.renderer.supportedExtensions();if(t.regen=!0,this.viewers)for(let e=0,r=this.viewers.length;e<r;e++)for(let r=0,n=this.viewers[e].length;r<n;r++)this.viewers[e][r].render(null,t);this._viewer.render(null,t)}else this.show();return this}getModel(t){return void 0===t?0==this.models.length?null:this.models[this.models.length-1]:t instanceof l.GLModel?t:t in this.models?this.models[t]:0==this.models.length?null:this.models[this.models.length-1]}spin(t,e=1,r=!1){if(clearInterval(this.spinInterval),void 0===t&&(t="y"),"boolean"==typeof t){if(!t)return;t="y"}Array.isArray(t)&&(t={x:t[0],y:t[1],z:t[2]});var n=this;this.spinInterval=setInterval((function(){!n.getCanvas().isConnected&&n.renderer.isLost()&&clearInterval(n.spinInterval),(!r||n.container.checkVisibility&&n.container.checkVisibility())&&n.rotate(1*e,t)}),25)}animateMotion(t,e,r,n,i,o){var a=Math.ceil(t/20);a<1&&(a=1),this.incAnim();var s={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(e){let t=new Array(a);for(let e=0;e<a;e++){let l=(e+1)/a,c={mpos:s.mpos,rz:s.rz,rot:s.rot};c.mpos=r.clone().sub(s.mpos).multiplyScalar(l).add(s.mpos),c.rz=s.rz+l*(n-s.rz),c.rot=g.slerp(s.rot,i,l),c.cam=o.clone().sub(s.cam).multiplyScalar(l).add(s.cam),t[e]=c}let e=0,l=this,c=function(){var r=t[e];e+=1,l.modelGroup.position=r.mpos,l.rotationGroup.position.z=r.rz,l.rotationGroup.quaternion=r.rot,l.camera.lookAt(r.cam),e<t.length?setTimeout(c,20):l.decAnim(),l.show()};setTimeout(c,20)}else{var l={};let t=1/a;if(r&&(l.mpos=r.clone().sub(s.mpos).multiplyScalar(t)),void 0!==n&&null!=n&&(l.rz=t*(n-s.rz)),i){var c=g.slerp(s.rot,i,t);l.rot=s.rot.clone().inverse().multiply(c)}o&&(l.cam=o.clone().sub(s.cam).multiplyScalar(t));let e=0,d=this,u=function(){e+=1,l.mpos&&d.modelGroup.position.add(l.mpos),l.rz&&(d.rotationGroup.position.z+=l.rz),l.rot&&d.rotationGroup.quaternion.multiply(l.rot),l.cam&&(d.lookingAt.add(l.cam),d.camera.lookAt(d.lookingAt)),e<a?setTimeout(u,20):d.decAnim(),d.show()};setTimeout(u,20)}}rotate(t,e="y",r=0,n=!1){if("x"==e?e={x:1,y:0,z:0}:"y"==e?e={x:0,y:1,z:0}:"z"==e&&(e={x:0,y:0,z:1}),"vx"==e?e={vx:1,vy:0,vz:0}:"vy"==e?e={vx:0,vy:1,vz:0}:"vz"==e&&(e={vx:0,vy:0,vz:1}),void 0!==e.vx){var o=new i.Vector3(e.vx,e.vy,e.vz);o.applyQuaternion(this.rotationGroup.quaternion),e={x:o.x,y:o.y,z:o.z}}var a,s,l,c,d,u,h=(a=Math.PI*t/180,d=Math.sin(a/2),u=Math.cos(a/2),s=e.x*d,l=e.y*d,c=e.z*d,new i.Quaternion(s,l,c,u).normalize());if(r){var f=(new i.Quaternion).copy(this.rotationGroup.quaternion).multiply(h);this.animateMotion(r,n,this.modelGroup.position,this.rotationGroup.position.z,f,this.lookingAt)}else this.rotationGroup.quaternion.multiply(h),this.show();return this}surfacesFinished(){for(var t in this.surfaces)if(!this.surfaces[t][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var t=this.modelGroup.position,e=this.rotationGroup.quaternion;return[t.x,t.y,t.z,this.rotationGroup.position.z,e.x,e.y,e.z,e.w]}setView(t,e){return void 0!==t&&(t instanceof Array||8!==t.length)&&this.modelGroup&&this.rotationGroup?(this.modelGroup.position.x=t[0],this.modelGroup.position.y=t[1],this.modelGroup.position.z=t[2],this.rotationGroup.position.z=t[3],this.rotationGroup.quaternion.x=t[4],this.rotationGroup.quaternion.y=t[5],this.rotationGroup.quaternion.z=t[6],this.rotationGroup.quaternion.w=t[7],void 0!==t[8]&&(this.rotationGroup.position.x=t[8],this.rotationGroup.position.y=t[9]),this.show(e),this):this}render(t,e){this.renderer.setViewport(),this.updateClickables();var r,i,o=this.getView();for(this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState()),e||(e=this.renderer.supportedExtensions()),r=0;r<this.models.length;r++)this.models[r]&&this.models[r].globj(this.modelGroup,e);for(r=0;r<this.shapes.length;r++)this.shapes[r]&&(void 0===this.shapes[r].frame||this.viewer_frame<0||this.shapes[r].frame<0||this.shapes[r].frame==this.viewer_frame?this.shapes[r].globj(this.modelGroup,e):this.shapes[r].removegl(this.modelGroup));for(r=0;r<this.labels.length;r++)e.regen&&(this.labels[r].dispose(),this.modelGroup.remove(this.labels[r].sprite),this.labels[r].setContext(),this.modelGroup.add(this.labels[r].sprite)),this.labels[r]&&void 0!==this.labels[r].frame&&this.labels[r].frame>=0&&(this.modelGroup.remove(this.labels[r].sprite),(this.viewer_frame<0||this.labels[r].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[r].sprite));for(r in this.surfaces)if(this.surfaces.hasOwnProperty(r)){var a=this.surfaces[r];for(i=0;i<a.length;i++)if(a.hasOwnProperty(i)){var s=a[i].geo;if(!a[i].finished||e.regen){s.verticesNeedUpdate=!0,s.elementsNeedUpdate=!0,s.normalsNeedUpdate=!0,s.colorsNeedUpdate=!0,s.buffersNeedUpdate=!0,a[i].mat.needsUpdate=!0,a[i].done&&(a[i].finished=!0),a[i].lastGL&&this.modelGroup.remove(a[i].lastGL);var l=null;if(l=a[i].mat instanceof n.LineBasicMaterial?new n.Line(s,a[i].mat):new n.Mesh(s,a[i].mat),a[i].mat.transparent&&0==a[i].mat.opacity?l.visible=!1:l.visible=!0,a[i].symmetries.length>1||1==a[i].symmetries.length&&!a[i].symmetries[i].isIdentity()){var c,d=new n.Object3D;for(c=0;c<a[i].symmetries.length;c++){var u=l.clone();u.matrix=a[i].symmetries[c],u.matrixAutoUpdate=!1,d.add(u)}a[i].lastGL=d,this.modelGroup.add(d)}else a[i].lastGL=l,this.modelGroup.add(l)}}}return this.setView(o),"function"==typeof t&&t(this),this}getModelList(t){let e=[];if(void 0===t||void 0===t.model)for(let t=0;t<this.models.length;t++)this.models[t]&&e.push(this.models[t]);else{let n=t.model;Array.isArray(n)||(n=[n]);for(let t=0;t<n.length;t++)if("number"==typeof n[t]){var r=n[t];r<0&&(r+=this.models.length),e.push(this.models[r])}else e.push(n[t])}return e}getAtomsFromSel(t){var e=[];void 0===t&&(t={});var r=this.getModelList(t);for(let n=0;n<r.length;n++)e=e.concat(r[n].selectedAtoms(t));return e}atomIsSelected(t,e){void 0===e&&(e={});for(var r=this.getModelList(e),n=0;n<r.length;n++)if(r[n].atomIsSelected(t,e))return!0;return!1}selectedAtoms(t){return this.getAtomsFromSel(t)}getUniqueValues(t,e){void 0===e&&(e={});var r=this.getAtomsFromSel(e),n={};for(var i in r)r[i].hasOwnProperty(t)&&(n[r[i][t]]=!0);return Object.keys(n)}pdbData(t){for(var e=this.getAtomsFromSel(t),r="",n=0,i=e.length;n<i;++n)r+=e[n].pdbline+"\n";return r}zoom(t=2,e=0,r=!1){var n=(this.CAMERA_Z-this.rotationGroup.position.z)/t,i=this.CAMERA_Z-n;return e>0?this.animateMotion(e,r,this.modelGroup.position,this.adjustZoomToLimits(i),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(i),this.show()),this}translate(t,e,r=0,n=!1){var o=t/this.WIDTH,a=e/this.HEIGHT,s=new i.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(s,this.camera),s.x-=o,s.y-=a,this.projector.unprojectVector(s,this.camera),s.z=0;var l=this.lookingAt.clone().add(s);return r>0?this.animateMotion(r,n,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,l):(this.lookingAt=l,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(t,e,r=0,n=!1){var i=this.screenOffsetToModel(t,e),o=this.modelGroup.position.clone().add(i);return r>0?this.animateMotion(r,n,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=o,this.show()),this}fitSlab(t){t=t||{};var e=this.getAtomsFromSel(t),r=(0,a.getExtent)(e),n=r[1][0]-r[0][0],i=r[1][1]-r[0][1],o=r[1][2]-r[0][2],s=Math.hypot(n,i,o);return s<5&&(s=5),this.slabNear=-s/1.9,this.slabFar=s/2,this}center(t={},e=0,r=!1){var n,o,s=this.getAtomsFromSel(t),l=(0,a.getExtent)(s);(0,a.isEmptyObject)(t)?(this.shapes.forEach((t=>{if(t&&t.boundingSphere&&t.boundingSphere.center){var e=t.boundingSphere.center,r=t.boundingSphere.radius;r>0?(s.push(new i.Vector3(e.x+r,e.y,e.z)),s.push(new i.Vector3(e.x-r,e.y,e.z)),s.push(new i.Vector3(e.x,e.y+r,e.z)),s.push(new i.Vector3(e.x,e.y-r,e.z)),s.push(new i.Vector3(e.x,e.y,e.z+r)),s.push(new i.Vector3(e.x,e.y,e.z-r))):s.push(e)}})),l=(0,a.getExtent)(s),n=s,o=l):(n=this.getAtomsFromSel({}),o=(0,a.getExtent)(n));var c=new i.Vector3(l[2][0],l[2][1],l[2][2]),d=o[1][0]-o[0][0],u=o[1][1]-o[0][1],h=o[1][2]-o[0][2],f=Math.hypot(d,u,h);f<5&&(f=5),this.slabNear=-f/1.9,this.slabFar=f/2,d=l[1][0]-l[0][0],u=l[1][1]-l[0][1],h=l[1][2]-l[0][2],(f=Math.hypot(d,u,h))<5&&(f=5);for(var p=25,m=0;m<s.length;m++)if(s[m]){var g=c.distanceToSquared(s[m]);g>p&&(p=g)}f=2*Math.sqrt(p);var b=c.clone().multiplyScalar(-1);return e>0?this.animateMotion(e,r,b,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=b,this.show()),this}zoomTo(t={},e=0,r=!1){let n=this.getAtomsFromSel(t),o=(0,a.getExtent)(n),s=o;if((0,a.isEmptyObject)(t)){let t=n&&n.length;if(this.shapes.forEach((t=>{if(t&&t.boundingSphere)if(t.boundingSphere.box){let e=t.boundingSphere.box;n.push(new i.Vector3(e.min.x,e.min.y,e.min.z)),n.push(new i.Vector3(e.max.x,e.max.y,e.max.z))}else if(t.boundingSphere.center){var e=t.boundingSphere.center,r=t.boundingSphere.radius;r>0?(n.push(new i.Vector3(e.x+r,e.y,e.z)),n.push(new i.Vector3(e.x-r,e.y,e.z)),n.push(new i.Vector3(e.x,e.y+r,e.z)),n.push(new i.Vector3(e.x,e.y-r,e.z)),n.push(new i.Vector3(e.x,e.y,e.z+r)),n.push(new i.Vector3(e.x,e.y,e.z-r))):n.push(e)}})),s=(0,a.getExtent)(n),!t)for(let t=0;t<3;t++)o[2][t]=(s[0][t]+s[1][t])/2}else{let t=this.getAtomsFromSel({});s=(0,a.getExtent)(t)}var l=new i.Vector3(o[2][0],o[2][1],o[2][2]),c=s[1][0]-s[0][0],d=s[1][1]-s[0][1],u=s[1][2]-s[0][2],h=Math.hypot(c,d,u);h<5&&(h=5),this.slabNear=-h/1.9,this.slabFar=h/2,0===Object.keys(t).length&&(this.slabNear=Math.min(2*-h,-50),this.slabFar=Math.max(2*h,50));var f=this.config.minimumZoomToDistance||5;c=o[1][0]-o[0][0],d=o[1][1]-o[0][1],u=o[1][2]-o[0][2],(h=Math.hypot(c,d,u))<f&&(h=f);for(var p=f*f,m=0;m<n.length;m++)if(n[m]){var g=l.distanceToSquared(n[m]);g>p&&(p=g)}h=2*Math.sqrt(p);var b=l.clone().multiplyScalar(-1),v=-(.5*h/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return v=this.adjustZoomToLimits(v),e>0?this.animateMotion(e,r,b,v,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=b,this.rotationGroup.position.z=v,this.show()),this}setSlab(t,e){this.slabNear=t,this.slabFar=e}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(t,e={},r,n=!1){if(r){var i=(0,a.getExtent)(this.getAtomsFromSel(r));e.position={x:i[2][0],y:i[2][1],z:i[2][2]}}var o=new c.Label(t,e);return o.setContext(),this.modelGroup.add(o.sprite),this.labels.push(o),n||this.show(),o}addResLabels(t,e,r=!1){let n=this.labels.length;return this.applyToModels("addResLabels",t,this,e,r),this.show(),this.labels.slice(n)}addPropertyLabels(t,e,r){return this.applyToModels("addPropertyLabels",t,e,this,r),this.show(),this}removeLabel(t){for(var e=0;e<this.labels.length;e++)if(this.labels[e]==t){this.labels.splice(e,1),t.dispose(),this.modelGroup.remove(t.sprite);break}return this.show(),this}removeAllLabels(){for(var t=0;t<this.labels.length;t++)this.labels[t]&&this.labels[t].sprite&&this.modelGroup.remove(this.labels[t].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}hideAllLabels(){for(var t=0;t<this.labels.length;t++)this.labels[t]&&this.labels[t].hide();return this.show(),this}showAllLabels(){for(var t=0;t<this.labels.length;t++)this.labels[t]&&this.labels[t].show();return this.show(),this}setLabelStyle(t,e){return this.modelGroup.remove(t.sprite),t.dispose(),t.stylespec=e,t.setContext(),this.modelGroup.add(t.sprite),this.show(),t}setLabelText(t,e){return this.modelGroup.remove(t.sprite),t.dispose(),t.text=e,t.setContext(),this.modelGroup.add(t.sprite),this.show(),t}addShape(t){t=t||{};var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,this.shapes.push(e),e}removeShape(t){if(!t)return this;for(t.removegl(this.modelGroup),delete this.shapes[t.shapePosition];this.shapes.length>0&&void 0===this.shapes[this.shapes.length-1];)this.shapes.pop();return this}removeAllShapes(){for(var t=0;t<this.shapes.length;t++){var e=this.shapes[t];e&&e.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(t){if(t.hasOwnProperty("x")&&t.hasOwnProperty("y")&&t.hasOwnProperty("z"))return t;var e=this.getAtomsFromSel(t);if(0==e.length)return{x:0,y:0,z:0};var r=(0,a.getExtent)(e);return{x:r[0][0]+(r[1][0]-r[0][0])/2,y:r[0][1]+(r[1][1]-r[0][1])/2,z:r[0][2]+(r[1][2]-r[0][2])/2}}addSphere(t){(t=t||{}).center=this.getSelectionCenter(t.center);var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,e.addSphere(t),this.shapes.push(e),e.finalize(),e}addBox(t={}){null!=t.corner&&(t.corner=this.getSelectionCenter(t.corner)),null!=t.center&&(t.center=this.getSelectionCenter(t.center));var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,e.addBox(t),this.shapes.push(e),e.finalize(),e}addArrow(t={}){t.start=this.getSelectionCenter(t.start),t.end=this.getSelectionCenter(t.end);var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,e.addArrow(t),this.shapes.push(e),e.finalize(),e}addCylinder(t={}){t.start=this.getSelectionCenter(t.start),t.end=this.getSelectionCenter(t.end);var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,t.dashed?e.addDashedCylinder(t):e.addCylinder(t),this.shapes.push(e),e.finalize(),e}addCurve(t={}){var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,e.addCurve(t),this.shapes.push(e),e.finalize(),e}addLine(t={}){t.start=this.getSelectionCenter(t.start),t.end=this.getSelectionCenter(t.end),t.wireframe=!0;var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,t.dashed?e=this.addLineDashed(t,e):e.addLine(t),this.shapes.push(e),e.finalize(),e}addUnitCell(t,e){t=this.getModel(t),(e=e||{alabel:"a",blabel:"b",clabel:"c"}).box=e.box||{},e.astyle=e.astyle||{color:"red",radius:.1,midpos:-1},e.bstyle=e.bstyle||{color:"green",radius:.1,midpos:-1},e.cstyle=e.cstyle||{color:"blue",radius:.1,midpos:-1},e.alabelstyle=e.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},e.blabelstyle=e.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},e.clabelstyle=e.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},t.unitCellObjects&&this.removeUnitCell(t),t.unitCellObjects={shapes:[],labels:[]};var r=t.getCrystData(),n=null;if(r){if(r.matrix)n=r.matrix;else{var o,a,s,l=r.a,c=r.b,u=r.c,h=r.alpha,f=r.beta,p=r.gamma;h=h*Math.PI/180,f=f*Math.PI/180,p=p*Math.PI/180,o=Math.cos(f),a=(Math.cos(h)-Math.cos(f)*Math.cos(p))/Math.sin(p),s=Math.sqrt(Math.max(0,1-o*o-a*a)),n=new i.Matrix3(l,c*Math.cos(p),u*o,0,c*Math.sin(p),u*a,0,0,u*s)}var m=[new i.Vector3(0,0,0),new i.Vector3(1,0,0),new i.Vector3(0,1,0),new i.Vector3(0,0,1),new i.Vector3(1,1,0),new i.Vector3(0,1,1),new i.Vector3(1,0,1),new i.Vector3(1,1,1)];if(r.matrix4)for(let t=0;t<m.length;t++)r.size&&m[t].multiplyVectors(m[t],r.size),m[t]=m[t].applyMatrix4(r.matrix4);else for(let t=0;t<m.length;t++)m[t]=m[t].applyMatrix3(n);if(e.box&&!e.box.hidden){e.box.wireframe=!0;var g=new d.GLShape(e.box);g.shapePosition=this.shapes.length,g.addLine({start:m[0],end:m[1]}),g.addLine({start:m[0],end:m[2]}),g.addLine({start:m[1],end:m[4]}),g.addLine({start:m[2],end:m[4]}),g.addLine({start:m[0],end:m[3]}),g.addLine({start:m[3],end:m[5]}),g.addLine({start:m[2],end:m[5]}),g.addLine({start:m[1],end:m[6]}),g.addLine({start:m[4],end:m[7]}),g.addLine({start:m[6],end:m[7]}),g.addLine({start:m[3],end:m[6]}),g.addLine({start:m[5],end:m[7]}),this.shapes.push(g),t.unitCellObjects.shapes.push(g),g.finalize()}if(!e.astyle.hidden){e.astyle.start=m[0],e.astyle.end=m[1];let r=this.addArrow(e.astyle);t.unitCellObjects.shapes.push(r)}if(!e.bstyle.hidden){e.bstyle.start=m[0],e.bstyle.end=m[2];let r=this.addArrow(e.bstyle);t.unitCellObjects.shapes.push(r)}if(!e.cstyle.hidden){e.cstyle.start=m[0],e.cstyle.end=m[3];let r=this.addArrow(e.cstyle);t.unitCellObjects.shapes.push(r)}if(e.alabel){e.alabelstyle.position=m[1];let r=this.addLabel(e.alabel,e.alabelstyle);t.unitCellObjects.labels.push(r)}if(e.blabel){e.blabelstyle.position=m[2];let r=this.addLabel(e.blabel,e.blabelstyle);t.unitCellObjects.labels.push(r)}if(e.clabel){e.clabelstyle.position=m[3];let r=this.addLabel(e.clabel,e.clabelstyle);t.unitCellObjects.labels.push(r)}}}removeUnitCell(t){if((t=this.getModel(t)).unitCellObjects){let e=this;t.unitCellObjects.shapes.forEach((function(t){e.removeShape(t)})),t.unitCellObjects.labels.forEach((function(t){e.removeLabel(t)}))}delete t.unitCellObjects}replicateUnitCell(t=3,e=t,r=e,n,o,a){let s=(n=this.getModel(n)).getCrystData();if(s){const l=n.selectedAtoms({}),c=s.matrix;let d=function(t){return t%2==0?-t/2:Math.ceil(t/2)};t<=1&&e<=1&&r<=1&&(a=!0,t=e=r=3);let u=function(t,e,r){return!1};if(a){const t=(new i.Matrix3).getInverse3(c);u=function(e,r,n){let o=new i.Vector3(e,r,n).applyMatrix3(t);return!(o.x>-1e-4&&o.x<1.0001&&o.y>-1e-4&&o.y<1.0001&&o.z>-1e-4&&o.z<1.0001)}}for(let o=0;o<t;o++)for(let t=0;t<e;t++)for(let e=0;e<r;e++){if(0==o&&0==t&&0==e)continue;let r=new i.Vector3(d(o),d(t),d(e));r.applyMatrix3(c);let a=[];for(let t=0;t<l.length;t++){let e=l[t].x+r.x,n=l[t].y+r.y,i=l[t].z+r.z;if(u(e,n,i))continue;let o={};for(let e in l[t])o[e]=l[t][e];o.x=e,o.y=n,o.z=i,a.push(o)}n.addAtoms(a)}o&&n.assignBonds()}}addLineDashed(t,e){var r,n;t.dashLength=t.dashLength||.5,t.gapLength=t.gapLength||.5,r=t.start?new i.Vector3(t.start.x||0,t.start.y||0,t.start.z||0):new i.Vector3(0,0,0),n=t.end?new i.Vector3(t.end.x,t.end.y||0,t.end.z||0):new i.Vector3(0,0,0);var o,a,s,l=new i.Vector3,c=new i.Vector3,d=new i.Vector3,u=r.clone(),h=0;for(l.subVectors(n,r),o=l.length(),l.normalize(),c=l.clone(),d=l.clone(),c.multiplyScalar(t.dashLength),d.multiplyScalar(t.gapLength),a=c.length(),s=d.length();h<o;){if(h+a>o){t.start=r,t.end=n,e.addLine(t);break}u.addVectors(r,c),t.start=r,t.end=u,e.addLine(t),r=u.clone(),h+=a,u.addVectors(r,d),r=u.clone(),h+=s}return e.finalize(),e}addCustom(t){t=t||{};var e=new d.GLShape(t);return e.shapePosition=this.shapes.length,e.addCustom(t),this.shapes.push(e),e.finalize(),e}addVolumetricData(t,e,r={}){var n=new u.VolumeData(t,e);return r.hasOwnProperty("transferfn")?this.addVolumetricRender(n,r):this.addIsosurface(n,r)}addIsosurface(t,e={},r){var n=new d.GLShape(e);return n.shapePosition=this.shapes.length,n.addIsosurface(t,e,r,this),this.shapes.push(n),n}addVolumetricRender(t,e){e=e||{};var r=new f.GLVolumetricRender(t,e,this);return r.shapePosition=this.shapes.length,this.shapes.push(r),r}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(t){t?this.scene.fog=new n.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(t){this.viewer_frame=t;let e=this;return new Promise((function(r){var n=e.models.map((function(r){return r.setFrame(t,e)}));Promise.all(n).then((function(){r()}))}))}getFrame(){return this.viewer_frame}getNumFrames(){var t=0;for(let e=0;e<this.models.length;e++)this.models[e].getNumFrames()>t&&(t=this.models[e].getNumFrames());for(let e=0;e<this.shapes.length;e++)this.shapes[e].frame&&this.shapes[e].frame>=t&&(t=this.shapes[e].frame+1);for(let e=0;e<this.labels.length;e++)this.labels[e].frame&&this.labels[e].frame>=t&&(t=this.labels[e].frame+1);return t}animate(t){this.incAnim();var e=100,r="forward",n=1/0;(t=t||{}).interval&&(e=t.interval),t.loop&&(r=t.loop),t.reps&&(n=t.reps);var i=this.getNumFrames(),o=this,s=0;t.startFrame&&(s=t.startFrame%i);var l=1;t.step&&(n/=l=t.step);var c,d,u=0,h=i*n,f=new Date,p=function(t){f=new Date,"forward"==t?o.setFrame(s).then((function(){s=(s+l)%i,c()})):"backward"==t?o.setFrame(i-1-s).then((function(){s=(s+l)%i,c()})):o.setFrame(s).then((function(){l*=(s+=l)%(i-1)==0?-1:1,c()}))};return c=function(){if(o.render(),o.getCanvas().isConnected)if(++u>=h||!o.isAnimated())d.cancel(),o.animationTimers.delete(d),o.decAnim();else{var t=e-((new Date).getTime()-f.getTime());t=t>0?t:0,o.animationTimers.delete(d),d=new a.PausableTimer(p,t,r),o.animationTimers.add(d)}else o.stopAnimate()},d=new a.PausableTimer(p,0,r),this.animationTimers.add(d),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach((function(t){t.cancel()})),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach((function(t){t.pause()})),this}resumeAnimate(){return this.animationTimers.forEach((function(t){t.resume()})),this}isAnimated(){return this.animated>0}getModelOpt(t){return t&&!t.defaultcolors?(t.defaultcolors=this.defaultcolors,t.cartoonQuality=t.cartoonQuality||this.config.cartoonQuality):void 0===t&&(t={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),t}addModel(t,e="",r){r=this.getModelOpt(r);var n=new l.GLModel(this.models.length,r);return n.addMolData(t,e,r),this.models.push(n),n}addModels(t,e,r){(r=this.getModelOpt(r)).multimodel=!0,r.frames=!0;for(var n=l.GLModel.parseMolData(t,e,r),i=0;i<n.length;i++){var o=new l.GLModel(this.models.length,r);o.setAtomDefaults(n[i]),o.addFrame(n[i]),o.setFrame(0),n.modelData&&o.setModelData(n.modelData[i]),o.setDontDuplicateAtoms(!r.duplicateAssemblyAtoms),this.models.push(o)}return this.models}addModelsAsFrames(t,e,r){(r=this.getModelOpt(r)).multimodel=!0,r.frames=!0;var n=new l.GLModel(this.models.length,r);return n.addMolData(t,e,r),this.models.push(n),n}addAsOneMolecule(t,e,r){(r=this.getModelOpt(r)).multimodel=!0,r.onemol=!0;var n=new l.GLModel(this.models.length,r);return n.addMolData(t,e,r),this.models.push(n),n}removeModel(t){if(t=this.getModel(t)){for(t.removegl(this.modelGroup),delete this.models[t.getID()];this.models.length>0&&void 0===this.models[this.models.length-1];)this.models.pop();return this}}removeAllModels(){for(var t=0;t<this.models.length;t++){var e=this.models[t];e&&e.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(t,e){var r={};return r.m=void 0===e?this.models.map((function(e){return e.toCDObject(t)})):[this.models[e].toCDObject()],JSON.stringify(r)}exportVRML(){var t=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new n.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var e="#VRML V2.0 utf8\n"+this.modelGroup.vrml()+"\n";return this.applyToModels("removegl",this.modelGroup),this.modelGroup=t,e}createModelFrom(t,e=!1){for(var r=new l.GLModel(this.models.length,this.defaultcolors),n=0;n<this.models.length;n++)if(this.models[n]){var i=this.models[n].selectedAtoms(t);r.addAtoms(i),e&&this.models[n].removeAtoms(i)}return this.models.push(r),r}applyToModels(t,e,r,n,i,o,a){for(var s=this.getModelList(e),l=0;l<s.length;l++)s[l][t](e,r,n,i,o,a)}setStyle(t,e){return void 0===e&&(e=t,t={}),this.applyToModels("setStyle",t,e,!1),this}addStyle(t,e){return void 0===e&&(e=t,t={}),this.applyToModels("setStyle",t,e,!0),this}setClickable(t,e,r){return this.applyToModels("setClickable",t,e,r),this}setHoverable(t,e,r,n){return this.applyToModels("setHoverable",t,e,r,n),this}enableContextMenu(t,e){return this.applyToModels("enableContextMenu",t,e),this}vibrate(t,e,r,n){return this.applyToModels("vibrate",t,e,r,this,n),this}setColorByProperty(t,e,r,n){return this.applyToModels("setColorByProperty",t,e,r,n),this}setColorByElement(t,e){return this.applyToModels("setColorByElement",t,e),this}static getAtomsWithin(t,e){var r=[];for(let i=0;i<t.length;i++){var n=t[i];void 0!==n&&(n.x<e[0][0]||n.x>e[1][0]||n.y<e[0][1]||n.y>e[1][1]||n.z<e[0][2]||n.z>e[1][2]||r.push(n))}return r}static volume(t){return(t[1][0]-t[0][0])*(t[1][1]-t[0][1])*(t[1][2]-t[0][2])}carveUpExtent(t,e,r){let n=[],i={};for(let t=0,r=e.length;t<r;t++)i[e[t].index]=t;let o=function(t){let e=[];for(let r=0,n=t.length;r<n;r++)t[r].index in i&&e.push(i[t[r].index]);return e},a=function(t){let e=[];return e[0]=[t[0][0],t[0][1],t[0][2]],e[1]=[t[1][0],t[1][1],t[1][2]],e},s=function(t){if(g.volume(t)<g.maxVolume)return[t];var e,r=t[1][0]-t[0][0],n=t[1][1]-t[0][1],i=t[1][2]-t[0][2];e=r>n&&r>i?0:n>r&&n>i?1:2;var o=a(t),l=a(t),c=(t[1][e]-t[0][e])/2+t[0][e];o[1][e]=c,l[0][e]=c;var d=s(o),u=s(l);return d.concat(u)},l=s(t);for(let t=0,i=l.length;t<i;t++){let i=a(l[t]);i[0][0]-=6,i[0][1]-=6,i[0][2]-=6,i[1][0]+=6,i[1][1]+=6,i[1][2]+=6;let s=g.getAtomsWithin(e,i),c=g.getAtomsWithin(r,l[t]);n.push({extent:l[t],atoms:o(s),toshow:o(c)})}return n}static generateSurfaceMesh(t,e,r){var a=new n.Geometry(!0),s=a.updateGeoGroup(0),l=[];for(let e=0,r=t.length;e<r;e++){var c=t[e];c&&(void 0!==c.surfaceColor?l[e]=c.surfaceColor:c.color&&(l[e]=o.CC.color(c.color)))}var d=s.vertexArray,u=e.vertices;for(let t=0,e=u.length;t<e;t++){let e=3*s.vertices;d[e]=u[t].x,d[e+1]=u[t].y,d[e+2]=u[t].z,s.vertices++}var h=s.colorArray;let f=s.atomArray;if(r.voldata&&r.volscheme){var p=r.volscheme,m=r.voldata,g=p.range()||[-1,1];for(let e=0,r=u.length;e<r;e++){let r=u[e].atomid,n=m.getVal(u[e].x,u[e].y,u[e].z),i=o.CC.color(p.valueToHex(n,g)),a=3*e;h[a]=i.r,h[a+1]=i.g,h[a+2]=i.b,f[e]=t[r]}}else if(l.length>0)for(let e=0,r=u.length;e<r;e++){let r=u[e].atomid,n=3*e;h[n]=l[r].r,h[n+1]=l[r].g,h[n+2]=l[r].b,f[e]=t[r]}var b=e.faces;s.faceidx=b.length,a.initTypedArrays();var v,y,x,w,_=s.vertexArray,k=s.normalArray;for(let t=0,e=b.length;t<e;t+=3){var A=3*b[t],T=3*b[t+1],M=3*b[t+2];v=new i.Vector3(_[A],_[A+1],_[A+2]),y=new i.Vector3(_[T],_[T+1],_[T+2]),(x=new i.Vector3(_[M],_[M+1],_[M+2])).subVectors(x,y),v.subVectors(v,y),x.cross(v),(w=x).normalize(),k[A]+=w.x,k[T]+=w.x,k[M]+=w.x,k[A+1]+=w.y,k[T+1]+=w.y,k[M+1]+=w.y,k[A+2]+=w.z,k[T+2]+=w.z,k[M+2]+=w.z}return s.faceArray=new Uint16Array(b),new n.Mesh(a,r)}static generateMeshSyncHelper(t,e,r,n,i,o){var a=new h.ProteinSurface;return a.initparm(e,1!==t,o),a.fillvoxels(i,r),a.buildboundary(),t!=h.SurfaceType.SES&&t!=h.SurfaceType.MS||(a.fastdistancemap(),a.boundingatom(!1),a.fillvoxelswaals(i,r)),a.marchingcube(t),a.getFacesAndVertices(n)}static getMatWithStyle(t){let e=null;for(var r in e=t.onesided?new n.MeshLambertMaterial:new n.MeshDoubleLambertMaterial,e.vertexColors=n.Coloring.VertexColors,t)"color"===r||"map"===r||t.hasOwnProperty(r)&&(e[r]=t[r]);return void 0!==t.opacity&&(1===t.opacity?e.transparent=!1:e.transparent=!0),e}addMesh(t){var e={geo:t.geometry,mat:t.material,done:!0,finished:!1},r=this.nextSurfID();return this.surfaces[r]=[e],r}static shallowCopy(t){var e=[];let r=t.length;for(let n=0;n<r;n++)e[n]=(0,a.extend)({},t[n]);return e}addSurface(t,e={},r={},o,l,c){let u=this.nextSurfID(),f=null,p=this,m=h.SurfaceType.VDW;"string"==typeof t?void 0!==g.surfaceTypeMap[t.toUpperCase()]?m=g.surfaceTypeMap[t]:console.log("Surface type : "+t+" is not recognized"):"number"==typeof t&&(m=t);var b,v=null,y=g.shallowCopy(this.getAtomsFromSel(r));b=o?g.shallowCopy(this.getAtomsFromSel(o)):y,(0,a.adjustVolumeStyle)(e);var x,w=!1;for(x=0;x<this.models.length;x++)if(this.models[x]){var _=this.models[x].getSymmetries();if(_.length>1||1==_.length&&!_[0].isIdentity()){w=!0;break}}var k=function(t,r,n){var i;v=l?g.shallowCopy(p.getAtomsFromSel(l)):n;var o=(0,a.getExtent)(n,!0);if(e.map&&e.map.prop){var c=e.map.prop;let t=(0,s.getGradient)(e.map.scheme||e.map.gradient||new s.Gradient.RWB),r=t.range();r||(r=(0,a.getPropertyRange)(n,c)),e.colorscheme={prop:c,gradient:t}}for(let t=0,n=r.length;t<n;t++)(i=r[t]).surfaceColor=(0,a.getColorFromStyle)(i,e);var b=g.volume(o),y=p.carveUpExtent(o,r,n);if(v&&v.length&&v.length>0){var x=(0,a.getExtent)(v,!0);y.sort((function(t,e){var r=function(t,e){var r=t.extent,n=r[1][0]-r[0][0],i=r[1][1]-r[0][1],o=r[1][2]-r[0][2],a=n-e[2][0];a*=a;var s=i-e[2][1];s*=s;var l=o-e[2][2];return a+s+l*l};return r(t,x)-r(e,x)}))}var w=[];for(let t=0,e=r.length;t<e;t++)i=r[t],w[t]={x:i.x,y:i.y,z:i.z,serial:t,elem:i.elem};if(h.syncSurface){var _=function(e){return new Promise((function(n){for(var i=g.generateMeshSyncHelper(m,y[e].extent,y[e].atoms,y[e].toshow,w,b),o=(0,d.splitMesh)({vertexArr:i.vertices,faceArr:i.faces}),s=0,l=o.length;s<l;s++){i={vertices:o[s].vertexArr,faces:o[s].faceArr};var c=g.generateSurfaceMesh(r,i,f);(0,a.mergeGeos)(t.geo,c)}p.render(),n()}))},k=[];for(let t=0;t<y.length;t++)k.push(_(t));return Promise.all(k).then((function(){return t.done=!0,Promise.resolve(u)}))}var A=[];m<0&&(m=0);for(let t=0,e=g.numWorkers;t<e;t++){var T=new Worker($3Dmol.SurfaceWorker);A.push(T),T.postMessage({type:-1,atoms:w,volume:b})}return new Promise((function(e,n){var i=0,o=function(){A&&A.length&&A.forEach((function(t){t&&t.terminate&&t.terminate()}))},s=function(n){for(var s=(0,d.splitMesh)({vertexArr:n.data.vertices,faceArr:n.data.faces}),l=0,c=s.length;l<c;l++){var h={vertices:s[l].vertexArr,faces:s[l].faceArr},m=g.generateSurfaceMesh(r,h,f);(0,a.mergeGeos)(t.geo,m)}p.render(),++i==y.length&&(t.done=!0,o(),e(u))},l=function(t){o(),console.log(t.message+" ("+t.filename+":"+t.lineno+")"),n(t)};for(let t=0;t<y.length;t++){var c=A[t%A.length];c.onmessage=s,c.onerror=l,c.postMessage({type:m,expandedExtent:y[t].extent,extendedAtoms:y[t].atoms,atomsToShow:y[t].toshow})}}))};e=e||{},f=g.getMatWithStyle(e);var A=[];A.style=e,A.atomsel=r,A.allsel=o,A.focus=l;var T=null;if(w){var M={},S={};for(x=0;x<this.models.length;x++)M[x]=[],S[x]=[];for(x=0;x<b.length;x++)M[b[x].model].push(b[x]);for(x=0;x<y.length;x++)S[y[x].model].push(y[x]);var E=[];for(x=0;x<this.models.length;x++)S[x].length>0&&(A.push({geo:new n.Geometry(!0),mat:f,done:!1,finished:!1,symmetries:this.models[x].getSymmetries()}),E.push(k(A[A.length-1],M[x],S[x])));T=Promise.all(E)}else A.push({geo:new n.Geometry(!0),mat:f,done:!1,finished:!1,symmetries:[new i.Matrix4]}),T=k(A[A.length-1],b,y);return this.surfaces[u]=A,T.surfid=u,c&&"function"==typeof c?(T.then((function(t){c(t)})),u):T}setSurfaceMaterialStyle(t,e){if((0,a.adjustVolumeStyle)(e),this.surfaces[t]){var r=this.surfaces[t];for(let t=0;t<r.length;t++){var i=r[t].mat=g.getMatWithStyle(e);if(r[t].mat.side=n.FrontSide,e.color){r[t].mat.color=o.CC.color(e.color),r[t].geo.colorsNeedUpdate=!0;const n=o.CC.color(e.color);r[t].geo.setColor(n)}else if(i.voldata&&i.volscheme){const e=i.volscheme,n=i.voldata,a=o.CC,s=e.range()||[-1,1];r[t].geo.setColors((function(t,r,i){let o=n.getVal(t,r,i);return a.color(e.valueToHex(o,s))}))}else{r[t].geo.colorsNeedUpdate=!0;for(let n of r[t].geo.geometryGroups)for(let t=0;t<n.vertices;t++){let r=(0,a.getColorFromStyle)(n.atomArray[t],e),i=3*t;n.colorArray[i]=r.r,n.colorArray[i+1]=r.g,n.colorArray[i+2]=r.b}}r[t].finished=!1}}return this}getSurface(t){return this.surfaces[t]}removeSurface(t){for(var e=this.surfaces[t],r=0;r<e.length;r++)e[r]&&e[r].lastGL&&(void 0!==e[r].geo&&e[r].geo.dispose(),void 0!==e[r].mat&&e[r].mat.dispose(),this.modelGroup.remove(e[r].lastGL));return delete this.surfaces[t],this.show(),this}removeAllSurfaces(){for(var t in this.surfaces)if(this.surfaces.hasOwnProperty(t)){for(var e=this.surfaces[t],r=0;r<e.length;r++)e[r]&&e[r].lastGL&&(void 0!==e[r].geo&&e[r].geo.dispose(),void 0!==e[r].mat&&e[r].mat.dispose(),this.modelGroup.remove(e[r].lastGL));delete this.surfaces[t]}return this.show(),this}jmolMoveTo(){var t=this.modelGroup.position,e="center { "+-t.x+" "+-t.y+" "+-t.z+" }; ",r=this.rotationGroup.quaternion;return e+"moveto .5 quaternion { "+r.x+" "+r.y+" "+r.z+" "+r.w+" };"}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(t,e){e=e||{};var r=this.getAtomsFromSel(e);if("function"==typeof t)for(let e=0,n=r.length;e<n;e++)t(r[e]);else for(let e=0,o=r.length;e<o;e++){var n=r[e];for(let e=0,r=t.length;e<r;e++){let r=t[e];if(r.props)for(var i in r.props)r.props.hasOwnProperty(i)&&this.atomIsSelected(n,r)&&(n.properties||(n.properties={}),n.properties[i]=r.props[i])}}return this}linkViewer(t){return this.linkedViewers.push(t),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(t){this.rotationGroup.position.z=this.CAMERA_Z-t}setAutoEyeSeparation(t,e){var r=this.getPerceivedDistance();return e||(e=5),t||this.camera.position.x>0?this.camera.position.x=r*Math.tan(Math.PI/180*e):this.camera.position.x=-r*Math.tan(Math.PI/180*e),this.camera.lookAt(new i.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(t){this.config.cartoonQuality=t}}function b(t,e){if(t=(0,a.getElement)(t)){e=e||{};try{return new g(t,e)}catch(t){throw"error creating viewer: "+t}}}function v(t,e={},r={}){if(t=(0,a.getElement)(t)){var n=[],i=document.createElement("canvas");r.rows=e.rows,r.cols=e.cols,r.control_all=null!=e.control_all&&e.control_all,t.appendChild(i);try{for(var o=0;o<e.rows;o++){for(var s=[],l=0;l<e.cols;l++){r.row=o,r.col=l,r.canvas=i,r.viewers=n,r.control_all=e.control_all;var c=b(t,(0,a.extend)({},r));s.push(c)}n.unshift(s)}}catch(t){throw"error creating viewer grid: "+t}return n}}function y(t){var e=this;if(t=(0,a.getElement)(t)){var r=v(t,{rows:1,cols:2,control_all:!0});this.glviewer1=r[0][0],this.glviewer2=r[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var n=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter((function(t){return"function"==typeof e.glviewer1[t]})),i=0;i<n.length;i++)this[n[i]]=function(t){return function(){return[this.glviewer1[t].apply(this.glviewer1,arguments),this.glviewer2[t].apply(this.glviewer2,arguments)]}}(n[i]);this.setCoordinates=function(t,e,r){for(var n=0;n<t.length;n++)t[n].setCoordinates(e,r)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(t){this.glviewer1.render(),this.glviewer2.render(),t&&t(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}g.numWorkers=4,g.maxVolume=64e3,g.surfaceTypeMap={VDW:h.SurfaceType.VDW,MS:h.SurfaceType.MS,SAS:h.SurfaceType.SAS,SES:h.SurfaceType.SES}},"./src/Gradient.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CustomLinear:()=>d,Gradient:()=>h,GradientType:()=>i,ROYGB:()=>l,RWB:()=>s,Sinebow:()=>c,builtinGradients:()=>u,getGradient:()=>a,normalizeValue:()=>o});var n=r("./src/colors.ts");class i{}function o(t,e,r){return e>=t?(r<t&&(r=t),r>e&&(r=e),{lo:t,hi:e,val:r}):(r>t&&(r=t),r<e&&(r=e),{lo:e,hi:t,val:r=t-r+e})}function a(t){if(t instanceof i)return t;if(void 0!==t.gradient&&u[t.gradient]){let e=void 0===t.min?-1:t.min,r=void 0===t.max?1:t.max;return void 0===t.mid?void 0===t.colors?new u[t.gradient](e,r):new u[t.gradient](e,r,t.colors):new u[t.gradient](e,r,t.mid)}if("string"==typeof t.gradient&&t.gradient.startsWith("linear_")){let e=t.gradient.split("_");e.shift();let r=void 0===t.min?-1:t.min,n=void 0===t.max?1:t.max;return new d(r,n,e)}return t}class s extends i{constructor(t,e,r){super(),this.gradient="RWB",this.mult=1,this.mid=r,this.min=t,this.max=e,void 0===e&&Array.isArray(t)&&t.length>=2?(this.max=t[1],this.min=t[0]):t&&e&&!Array.isArray(t)&&(this.min=t,this.max=e)}range(){return void 0!==this.min&&void 0!==this.max?[this.min,this.max]:null}valueToHex(t,e){var r,n;if(t=this.mult*t,e?(r=e[0],n=e[1]):(r=this.min,n=this.max),void 0===t)return 16777215;var i=o(r,n,t);r=i.lo;var a,s=n=i.hi;return(t=i.val)<(s=e&&void 0!==e[2]?e[2]:void 0!==this.mid?this.mid:(r+n)/2)?16711680+256*(a=Math.floor(255*Math.sqrt((t-r)/(s-r))))+a:t>s?65536*(a=Math.floor(255*Math.sqrt(1-(t-s)/(n-s))))+256*a+255:16777215}}class l extends i{constructor(t,e){super(),this.gradient="ROYGB",this.mult=1,this.min=t,this.max=e,void 0===e&&Array.isArray(t)&&t.length>=2?(this.max=t[1],this.min=t[0]):t&&e&&!Array.isArray(t)&&(this.min=t,this.max=e)}valueToHex(t,e){var r,n;if(t=this.mult*t,e?(r=e[0],n=e[1]):(r=this.min,n=this.max),void 0===t)return 16777215;var i=o(r,n,t),a=((r=i.lo)+(n=i.hi))/2,s=(r+a)/2,l=(a+n)/2;return(t=i.val)<s?16711680+256*Math.floor(255*Math.sqrt((t-r)/(s-r)))+0:t<a?65536*Math.floor(255*Math.sqrt(1-(t-s)/(a-s)))+65280+0:t<l?65280+1*Math.floor(255*Math.sqrt((t-a)/(l-a))):0+256*Math.floor(255*Math.sqrt(1-(t-l)/(n-l)))+255}range(){return void 0!==this.min&&void 0!==this.max?[this.min,this.max]:null}}class c extends i{constructor(t,e){super(),this.gradient="Sinebow",this.mult=1,this.min=t,this.max=e,void 0===e&&Array.isArray(t)&&t.length>=2&&(this.max=t[1],this.min=t[0]),e<t&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(t,e){var r,n;if(t=this.mult*t,e?(r=e[0],n=e[1]):(r=this.min,n=this.max),void 0===t)return 16777215;var i=h.normalizeValue(r,n,t);r=i.lo,n=i.hi;var o=((t=i.val)-r)/(n-r)*5/6+.5,a=Math.sin(Math.PI*o);a*=255*a;var s=Math.sin(Math.PI*(o+1/3));s*=255*s;var l=Math.sin(Math.PI*(o+2/3));return l*=255*l,65536*Math.floor(a)+256*Math.floor(l)+1*Math.floor(s)}range(){return void 0!==this.min&&void 0!==this.max?[this.min,this.max]:null}}class d extends i{constructor(t,e,r){var i;if(super(),this.gradient="linear",this.colors=new Array,Array.isArray(t)&&t.length>=2?(this.max=t[1],this.min=t[0],i=e):(this.min=t,this.max=e,i=r),i)for(let t of i)this.colors.push(n.CC.color(t));else this.colors.push(n.CC.color(0))}range(){return void 0!==this.min&&void 0!==this.max?[this.min,this.max]:null}valueToHex(t,e){var r,i;if(e?(r=e[0],i=e[1]):(r=this.min,i=this.max),void 0===t)return 16777215;var a=o(r,i,t);r=a.lo,i=a.hi,t=a.val;let s=this.colors.length,l=(i-r)/s,c=Math.min(Math.floor((t-r)/l),s-1),d=Math.min(c+1,s-1),u=(t-r-c*l)/l,h=this.colors[c],f=this.colors[d];return new n.Color(h.r+u*(f.r-h.r),h.g+u*(f.g-h.g),h.b+u*(f.b-h.b)).getHex()}}const u={rwb:s,RWB:s,roygb:l,ROYGB:l,sinebow:c,linear:d};class h extends i{valueToHex(t,e){return 0}range(){return null}}h.RWB=s,h.ROYGB=l,h.Sinebow=c,h.CustomLinear=d,h.builtinGradients=u,h.normalizeValue=o,h.getGradient=a},"./src/Label.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Label:()=>l,LabelCount:()=>a});var n=r("./src/WebGL/index.ts"),i=r("./src/Gradient.ts"),o=r("./src/colors.ts");let a=0;function s(t,e,r){var n=r;return void 0!==t&&(t instanceof o.Color?n=t.scaled():void 0!==(n=o.CC.color(t)).scaled&&(n=n.scaled())),void 0!==e&&(n.a=parseFloat(e)),n}class l{constructor(t,e){this.id=a++,this.stylespec=e||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new n.Sprite,this.text=t,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite&&(this.sprite.visible=!1)}show(){this.sprite&&(this.sprite.visible=!0)}setContext(){var t=this.stylespec,e=void 0!==t.useScreen&&t.useScreen,r=t.showBackground;"0"!==r&&"false"!==r||(r=!1),void 0===r&&(r=!0);var o=t.font?t.font:"sans-serif",a=parseInt(t.fontSize)?parseInt(t.fontSize):18,l=s(t.fontColor,t.fontOpacity,{r:255,g:255,b:255,a:1}),c=t.padding?t.padding:4,d=t.borderThickness?t.borderThickness:0,u=s(t.backgroundColor,t.backgroundOpacity,{r:0,g:0,b:0,a:1}),h=s(t.borderColor,t.borderOpacity,u),f=t.position?t.position:{x:-10,y:1,z:1},p=void 0===t.inFront||t.inFront;"false"!==p&&"0"!==p||(p=!1);var m=t.alignment||n.SpriteAlignment.topLeft;"string"==typeof m&&m in n.SpriteAlignment&&(m=n.SpriteAlignment[m]);var g="";t.bold&&(g="bold "),this.context.font=g+a+"px  "+o;var b=this.context.measureText(this.text).width;r||(d=0);var v=b+2.5*d+2*c,y=1.25*a+2*d+2*c;if(t.backgroundImage){var x=t.backgroundImage,w=t.backgroundWidth?t.backgroundWidth:x.width,_=t.backgroundHeight?t.backgroundHeight:x.height;w>v&&(v=w),_>y&&(y=_)}if(this.canvas.width=v,this.canvas.height=y,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),g="",t.bold&&(g="bold "),this.context.font=g+a+"px  "+o,this.context.fillStyle="rgba("+u.r+","+u.g+","+u.b+","+u.a+")",this.context.strokeStyle="rgba("+h.r+","+h.g+","+h.b+","+h.a+")",t.backgroundGradient){let e=this.context.createLinearGradient(0,y/2,v,y/2),r=i.Gradient.getGradient(t.backgroundGradient),n=r.range(),o=-1,a=1;n&&(o=n[0],a=n[1]);let l=a-o;for(let t=0;t<1.01;t+=.1){let n=s(r.valueToHex(o+l*t)),i="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";e.addColorStop(t,i)}this.context.fillStyle=e}this.context.lineWidth=d,r&&function(t,e,r,n,i,o,a){t.beginPath(),t.moveTo(e+6,r),t.lineTo(e+n-6,r),t.quadraticCurveTo(e+n,r,e+n,r+6),t.lineTo(e+n,r+i-6),t.quadraticCurveTo(e+n,r+i,e+n-6,r+i),t.lineTo(e+6,r+i),t.quadraticCurveTo(e,r+i,e,r+i-6),t.lineTo(e,r+6),t.quadraticCurveTo(e,r,e+6,r),t.closePath(),t.fill(),a&&t.stroke()}(this.context,d,d,v-2*d,y-2*d,0,d>0),t.backgroundImage&&this.context.drawImage(x,0,0,v,y),this.context.fillStyle="rgba("+l.r+","+l.g+","+l.b+","+l.a+")",this.context.fillText(this.text,d+c,a+d+c,b);var k=new n.Texture(this.canvas);k.needsUpdate=!0,this.sprite.material=new n.SpriteMaterial({map:k,useScreenCoordinates:e,alignment:m,depthTest:!p,screenOffset:t.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(f.x,f.y,f.z)}dispose(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose(),void 0!==this.sprite.material&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{MarchingCube:()=>l,MarchingCubeInitializer:()=>s,PointGrid:()=>c,ProteinSurface:()=>d,SurfaceType:()=>n,setSyncSurface:()=>a,syncSurface:()=>o});var n,i=r("./src/WebGL/math/index.ts");!function(t){t[t.VDW=1]="VDW",t[t.MS=2]="MS",t[t.SAS=3]="SAS",t[t.SES=4]="SES"}(n||(n={}));var o=!1;function a(t){o=t}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(o=!0);class s{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(t,e,r,n){let o=!!n.fulltable,a=n.hasOwnProperty("origin")&&n.origin.hasOwnProperty("x")?n.origin:{x:0,y:0,z:0},s=!!n.voxel,l=n.matrix,c=n.nX||0,d=n.nY||0,u=n.nZ||0,h=n.scale||1,f=null;f=n.unitCube?n.unitCube:{x:h,y:h,z:h};let p,m,g=new Int32Array(c*d*u);for(p=0,m=g.length;p<m;++p)g[p]=-1;let b=function(t,r,n,o,c,h){let p={x:0,y:0,z:0},m=c;if(!(o&1<<c)&&!!(o&1<<h)&&(m=h),1&m&&n++,2&m&&r++,4&m&&t++,l){let e=new i.Vector3(t,r,n);e=e.applyMatrix4(l),p={x:e.x,y:e.y,z:e.z}}else p.x=a.x+f.x*t,p.y=a.y+f.y*r,p.z=a.z+f.z*n;let b=(d*t+r)*u+n;return s?(e.push(p),e.length-1):(g[b]<0&&(g[b]=e.length,e.push(p)),g[b])},v=new Int32Array(12),y=o?this.edgeTable2:this.edgeTable,x=o?this.triTable2:this.triTable;for(p=0;p<c-1;++p)for(let n=0;n<d-1;++n)for(let i=0;i<u-1;++i){let o=0;for(let e=0;e<8;++e)o|=!!(t[(d*(p+((4&e)>>2))+n+((2&e)>>1))*u+i+(1&e)]&this.ISDONE)<<e;if(0===o||255===o)continue;let a=y[o];if(0===a)continue;let l=x[o];1&a&&(v[0]=b(p,n,i,o,0,1)),2&a&&(v[1]=b(p,n,i,o,1,3)),4&a&&(v[2]=b(p,n,i,o,3,2)),8&a&&(v[3]=b(p,n,i,o,2,0)),16&a&&(v[4]=b(p,n,i,o,4,5)),32&a&&(v[5]=b(p,n,i,o,5,7)),64&a&&(v[6]=b(p,n,i,o,7,6)),128&a&&(v[7]=b(p,n,i,o,6,4)),256&a&&(v[8]=b(p,n,i,o,0,4)),512&a&&(v[9]=b(p,n,i,o,1,5)),1024&a&&(v[10]=b(p,n,i,o,3,7)),2048&a&&(v[11]=b(p,n,i,o,2,6));for(let t=0;t<l.length;t+=3){let n=v[l[t]],i=v[l[t+1]],o=v[l[t+2]];s&&t>=3&&(e.push(e[n]),n=e.length-1,e.push(e[i]),i=e.length-1,e.push(e[o]),o=e.length-1),r.push(n),r.push(i),r.push(o)}}}laplacianSmooth(t,e,r){let n,i,o,a,s,l=new Array(e.length);for(n=0,i=e.length;n<i;n++)l[n]={x:0,y:0,z:0};let c,d=new Array(20);for(n=0;n<20;n++)d[n]=new Array(e.length);for(n=0,i=e.length;n<i;n++)d[0][n]=0;for(n=0,i=r.length/3;n<i;n++){let t=3*n,e=3*n+1,i=3*n+2;for(c=!0,o=0,a=d[0][r[t]];o<a;o++)if(r[e]==d[o+1][r[t]]){c=!1;break}for(c&&(d[0][r[t]]++,d[d[0][r[t]]][r[t]]=r[e]),c=!0,o=0,a=d[0][r[t]];o<a;o++)if(r[i]==d[o+1][r[t]]){c=!1;break}for(c&&(d[0][r[t]]++,d[d[0][r[t]]][r[t]]=r[i]),c=!0,o=0,a=d[0][r[e]];o<a;o++)if(r[t]==d[o+1][r[e]]){c=!1;break}for(c&&(d[0][r[e]]++,d[d[0][r[e]]][r[e]]=r[t]),c=!0,o=0,a=d[0][r[e]];o<a;o++)if(r[i]==d[o+1][r[e]]){c=!1;break}for(c&&(d[0][r[e]]++,d[d[0][r[e]]][r[e]]=r[i]),c=!0,o=0;o<d[0][r[i]];o++)if(r[t]==d[o+1][r[i]]){c=!1;break}for(c&&(d[0][r[i]]++,d[d[0][r[i]]][r[i]]=r[t]),c=!0,o=0,a=d[0][r[i]];o<a;o++)if(r[e]==d[o+1][r[i]]){c=!1;break}c&&(d[0][r[i]]++,d[d[0][r[i]]][r[i]]=r[e])}let u=.5;for(s=0;s<t;s++){for(n=0,i=e.length;n<i;n++)if(d[0][n]<3)l[n].x=e[n].x,l[n].y=e[n].y,l[n].z=e[n].z;else if(3==d[0][n]||4==d[0][n]){for(l[n].x=0,l[n].y=0,l[n].z=0,o=0,a=d[0][n];o<a;o++)l[n].x+=e[d[o+1][n]].x,l[n].y+=e[d[o+1][n]].y,l[n].z+=e[d[o+1][n]].z;l[n].x+=u*e[n].x,l[n].y+=u*e[n].y,l[n].z+=u*e[n].z,l[n].x/=u+d[0][n],l[n].y/=u+d[0][n],l[n].z/=u+d[0][n]}else{for(l[n].x=0,l[n].y=0,l[n].z=0,o=0,a=d[0][n];o<a;o++)l[n].x+=e[d[o+1][n]].x,l[n].y+=e[d[o+1][n]].y,l[n].z+=e[d[o+1][n]].z;l[n].x+=1*e[n].x,l[n].y+=1*e[n].y,l[n].z+=1*e[n].z,l[n].x/=1+d[0][n],l[n].y/=1+d[0][n],l[n].z/=1+d[0][n]}for(n=0,i=e.length;n<i;n++)e[n].x=l[n].x,e[n].y=l[n].y,e[n].z=l[n].z}}}let l=new s;class c{constructor(t,e,r){this.data=new Int32Array(t*e*r*3),this.width=e,this.height=r}set(t,e,r,n){let i=3*((t*this.width+e)*this.height+r);this.data[i]=n.ix,this.data[i+1]=n.iy,this.data[i+2]=n.iz}get(t,e,r){let n=3*((t*this.width+e)*this.height+r);return{ix:this.data[n],iy:this.data[n+1],iz:this.data[n+2]}}}class d{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],d.MarchingCube||(d.MarchingCube=new s)}getVDWIndex(t){return t.elem&&void 0!==this.vdwRadii[t.elem]?t.elem:"X"}getFacesAndVertices(t){let e={};for(let r=0,n=t.length;r<n;r++)e[t[r]]=!0;let r=this.verts;for(let t=0,e=r.length;t<e;t++)r[t].x=r[t].x/this.scaleFactor-this.ptranx,r[t].y=r[t].y/this.scaleFactor-this.ptrany,r[t].z=r[t].z/this.scaleFactor-this.ptranz;let n=[];for(let t=0,i=this.faces.length;t<i;t+=3){let i=this.faces[t],o=this.faces[t+1],a=this.faces[t+2],s=r[i].atomid,l=r[o].atomid,c=r[a].atomid,d=s;l<d&&(d=l),c<d&&(d=c),e[d]&&i!==o&&o!==a&&i!==a&&(n.push(i),n.push(o),n.push(a))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:r,faces:n}}initparm(t,e,r){r>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let n=1/this.scaleFactor*5.5;this.pminx=t[0][0],this.pmaxx=t[1][0],this.pminy=t[0][1],this.pmaxy=t[1][1],this.pminz=t[0][2],this.pmaxz=t[1][2],e?(this.pminx-=this.probeRadius+n,this.pminy-=this.probeRadius+n,this.pminz-=this.probeRadius+n,this.pmaxx+=this.probeRadius+n,this.pmaxy+=this.probeRadius+n,this.pmaxz+=this.probeRadius+n):(this.pminx-=n,this.pminy-=n,this.pminz-=n,this.pmaxx+=n,this.pmaxy+=n,this.pmaxz+=n),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(e),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(t){let e={};for(const r in this.vdwRadii){let n=this.vdwRadii[r];e[r]=t?(n+this.probeRadius)*this.scaleFactor+.5:n*this.scaleFactor+.5;let i=e[r]*e[r];this.widxz[r]=Math.floor(e[r])+1,this.depty[r]=new Int32Array(this.widxz[r]*this.widxz[r]);let o=0;for(let t=0;t<this.widxz[r];t++)for(let e=0;e<this.widxz[r];e++){let n=t*t+e*e;if(n>i)this.depty[r][o]=-1;else{let t=Math.sqrt(i-n);this.depty[r][o]=Math.floor(t)}o++}}}fillvoxels(t,e){for(let t=0,e=this.vpBits.length;t<e;t++)this.vpBits[t]=0,this.vpDistance[t]=-1,this.vpAtomID[t]=-1;for(let r in e){let n=t[e[r]];void 0!==n&&this.fillAtom(n,t)}for(let t=0,e=this.vpBits.length;t<e;t++)this.vpBits[t]&this.INOUT&&(this.vpBits[t]|=this.ISDONE)}fillAtom(t,e){let r=Math.floor(.5+this.scaleFactor*(t.x+this.ptranx)),n=Math.floor(.5+this.scaleFactor*(t.y+this.ptrany)),i=Math.floor(.5+this.scaleFactor*(t.z+this.ptranz)),o=this.getVDWIndex(t),a=0,s=this.pWidth*this.pHeight;for(let l=0,c=this.widxz[o];l<c;l++)for(let d=0;d<c;d++){if(-1!=this.depty[o][a])for(let c=-1;c<2;c++)for(let u=-1;u<2;u++)for(let h=-1;h<2;h++)if(0!==c&&0!==u&&0!==h){let f=c*l,p=h*d;for(let l=0;l<=this.depty[o][a];l++){let o=l*u,a=r+f,c=n+o,d=i+p;if(a<0||c<0||d<0||a>=this.pLength||c>=this.pWidth||d>=this.pHeight)continue;let h=a*s+c*this.pHeight+d;if(this.vpBits[h]&this.INOUT){let a=e[this.vpAtomID[h]];if(a.serial!=t.serial){let e=r+f-Math.floor(.5+this.scaleFactor*(a.x+this.ptranx)),s=n+o-Math.floor(.5+this.scaleFactor*(a.y+this.ptrany)),l=i+p-Math.floor(.5+this.scaleFactor*(a.z+this.ptranz));f*f+o*o+p*p<e*e+s*s+l*l&&(this.vpAtomID[h]=t.serial)}}else this.vpBits[h]|=this.INOUT,this.vpAtomID[h]=t.serial}}a++}}fillvoxelswaals(t,e){for(let t=0,e=this.vpBits.length;t<e;t++)this.vpBits[t]&=~this.ISDONE;for(let r in e){let n=t[e[r]];void 0!==n&&this.fillAtomWaals(n,t)}}fillAtomWaals(t,e){let r=0,n=Math.floor(.5+this.scaleFactor*(t.x+this.ptranx)),i=Math.floor(.5+this.scaleFactor*(t.y+this.ptrany)),o=Math.floor(.5+this.scaleFactor*(t.z+this.ptranz)),a=this.getVDWIndex(t),s=this.pWidth*this.pHeight;for(let l=0,c=this.widxz[a];l<c;l++)for(let d=0;d<c;d++){if(-1!=this.depty[a][r])for(let c=-1;c<2;c++)for(let u=-1;u<2;u++)for(let h=-1;h<2;h++)if(0!==c&&0!==u&&0!==h){let f=c*l,p=h*d;for(let l=0;l<=this.depty[a][r];l++){let r=l*u,a=n+f,c=i+r,d=o+p;if(a<0||c<0||d<0||a>=this.pLength||c>=this.pWidth||d>=this.pHeight)continue;let h=a*s+c*this.pHeight+d;if(this.vpBits[h]&this.ISDONE){let a=e[this.vpAtomID[h]];if(a.serial!=t.serial){let e=n+f-Math.floor(.5+this.scaleFactor*(a.x+this.ptranx)),s=i+r-Math.floor(.5+this.scaleFactor*(a.y+this.ptrany)),l=o+p-Math.floor(.5+this.scaleFactor*(a.z+this.ptranz));f*f+r*r+p*p<e*e+s*s+l*l&&(this.vpAtomID[h]=t.serial)}}else this.vpBits[h]|=this.ISDONE,this.vpAtomID[h]=t.serial}}r++}}buildboundary(){let t=this.pWidth*this.pHeight;for(let e=0;e<this.pLength;e++)for(let r=0;r<this.pHeight;r++)for(let n=0;n<this.pWidth;n++){let i=e*t+n*this.pHeight+r;if(this.vpBits[i]&this.INOUT){let o=0;for(;o<26;){let a=e+this.nb[o][0],s=r+this.nb[o][2],l=n+this.nb[o][1];if(a>-1&&a<this.pLength&&l>-1&&l<this.pWidth&&s>-1&&s<this.pHeight&&!(this.vpBits[a*t+l*this.pHeight+s]&this.INOUT)){this.vpBits[i]|=this.ISBOUND;break}o++}}}}fastdistancemap(){let t,e=new c(this.pLength,this.pWidth,this.pHeight),r=this.pWidth*this.pHeight,n=this.cutRadius*this.cutRadius,i=[],o=[];for(let n=0;n<this.pLength;n++)for(let o=0;o<this.pWidth;o++)for(let a=0;a<this.pHeight;a++)if(t=n*r+o*this.pHeight+a,this.vpBits[t]&=~this.ISDONE,this.vpBits[t]&this.INOUT&&this.vpBits[t]&this.ISBOUND){let r={ix:n,iy:o,iz:a};e.set(n,o,a,r),i.push(r),this.vpDistance[t]=0,this.vpBits[t]|=this.ISDONE,this.vpBits[t]&=~this.ISBOUND}do{o=this.fastoneshell(i,e),i=[];for(let e=0,a=o.length;e<a;e++)t=r*o[e].ix+this.pHeight*o[e].iy+o[e].iz,this.vpBits[t]&=~this.ISBOUND,this.vpDistance[t]<=1.0404*n&&i.push({ix:o[e].ix,iy:o[e].iy,iz:o[e].iz})}while(0!==i.length);i=[],o=[],e=null;let a=this.scaleFactor-.5;a<0&&(a=0);let s=n-.5/(.1+a);for(let e=0;e<this.pLength;e++)for(let n=0;n<this.pWidth;n++)for(let i=0;i<this.pHeight;i++)t=e*r+n*this.pHeight+i,this.vpBits[t]&=~this.ISBOUND,this.vpBits[t]&this.INOUT&&(this.vpBits[t]&this.ISDONE&&!(this.vpBits[t]&this.ISDONE&&this.vpDistance[t]>=s)||(this.vpBits[t]|=this.ISBOUND))}fastoneshell(t,e){let r,n,i,o,a,s,l,c,d,u=[];if(0===t.length)return u;let h={ix:-1,iy:-1,iz:-1},f=this.pWidth*this.pHeight;for(let p=0,m=t.length;p<m;p++){r=t[p].ix,n=t[p].iy,i=t[p].iz,c=e.get(r,n,i);for(let t=0;t<6;t++)h.ix=r+this.nb[t][0],h.iy=n+this.nb[t][1],h.iz=i+this.nb[t][2],h.ix<this.pLength&&h.ix>-1&&h.iy<this.pWidth&&h.iy>-1&&h.iz<this.pHeight&&h.iz>-1&&(d=h.ix*f+this.pHeight*h.iy+h.iz,this.vpBits[d]&this.INOUT&&!(this.vpBits[d]&this.ISDONE)?(e.set(h.ix,h.iy,i+this.nb[t][2],c),o=h.ix-c.ix,a=h.iy-c.iy,s=h.iz-c.iz,l=o*o+a*a+s*s,this.vpDistance[d]=l,this.vpBits[d]|=this.ISDONE,this.vpBits[d]|=this.ISBOUND,u.push({ix:h.ix,iy:h.iy,iz:h.iz})):this.vpBits[d]&this.INOUT&&this.vpBits[d]&this.ISDONE&&(o=h.ix-c.ix,a=h.iy-c.iy,s=h.iz-c.iz,l=o*o+a*a+s*s,l<this.vpDistance[d]&&(e.set(h.ix,h.iy,h.iz,c),this.vpDistance[d]=l,this.vpBits[d]&this.ISBOUND||(this.vpBits[d]|=this.ISBOUND,u.push({ix:h.ix,iy:h.iy,iz:h.iz})))))}for(let p=0,m=t.length;p<m;p++){r=t[p].ix,n=t[p].iy,i=t[p].iz,c=e.get(r,n,i);for(let t=6;t<18;t++)h.ix=r+this.nb[t][0],h.iy=n+this.nb[t][1],h.iz=i+this.nb[t][2],h.ix<this.pLength&&h.ix>-1&&h.iy<this.pWidth&&h.iy>-1&&h.iz<this.pHeight&&h.iz>-1&&(d=h.ix*f+this.pHeight*h.iy+h.iz,this.vpBits[d]&this.INOUT&&!(this.vpBits[d]&this.ISDONE)?(e.set(h.ix,h.iy,i+this.nb[t][2],c),o=h.ix-c.ix,a=h.iy-c.iy,s=h.iz-c.iz,l=o*o+a*a+s*s,this.vpDistance[d]=l,this.vpBits[d]|=this.ISDONE,this.vpBits[d]|=this.ISBOUND,u.push({ix:h.ix,iy:h.iy,iz:h.iz})):this.vpBits[d]&this.INOUT&&this.vpBits[d]&this.ISDONE&&(o=h.ix-c.ix,a=h.iy-c.iy,s=h.iz-c.iz,l=o*o+a*a+s*s,l<this.vpDistance[d]&&(e.set(h.ix,h.iy,h.iz,c),this.vpDistance[d]=l,this.vpBits[d]&this.ISBOUND||(this.vpBits[d]|=this.ISBOUND,u.push({ix:h.ix,iy:h.iy,iz:h.iz})))))}for(let p=0,m=t.length;p<m;p++){r=t[p].ix,n=t[p].iy,i=t[p].iz,c=e.get(r,n,i);for(let t=18;t<26;t++)h.ix=r+this.nb[t][0],h.iy=n+this.nb[t][1],h.iz=i+this.nb[t][2],h.ix<this.pLength&&h.ix>-1&&h.iy<this.pWidth&&h.iy>-1&&h.iz<this.pHeight&&h.iz>-1&&(d=h.ix*f+this.pHeight*h.iy+h.iz,this.vpBits[d]&this.INOUT&&!(this.vpBits[d]&this.ISDONE)?(e.set(h.ix,h.iy,i+this.nb[t][2],c),o=h.ix-c.ix,a=h.iy-c.iy,s=h.iz-c.iz,l=o*o+a*a+s*s,this.vpDistance[d]=l,this.vpBits[d]|=this.ISDONE,this.vpBits[d]|=this.ISBOUND,u.push({ix:h.ix,iy:h.iy,iz:h.iz})):this.vpBits[d]&this.INOUT&&this.vpBits[d]&this.ISDONE&&(o=h.ix-c.ix,a=h.iy-c.iy,s=h.iz-c.iz,l=o*o+a*a+s*s,l<this.vpDistance[d]&&(e.set(h.ix,h.iy,h.iz,c),this.vpDistance[d]=l,this.vpBits[d]&this.ISBOUND||(this.vpBits[d]|=this.ISBOUND,u.push({ix:h.ix,iy:h.iy,iz:h.iz})))))}return u}marchingcubeinit(t){for(let e=0,r=this.vpBits.length;e<r;e++)1==t?this.vpBits[e]&=~this.ISBOUND:4==t?(this.vpBits[e]&=~this.ISDONE,this.vpBits[e]&this.ISBOUND&&(this.vpBits[e]|=this.ISDONE),this.vpBits[e]&=~this.ISBOUND):2==t?this.vpBits[e]&this.ISBOUND&&this.vpBits[e]&this.ISDONE?this.vpBits[e]&=~this.ISBOUND:this.vpBits[e]&this.ISBOUND&&!(this.vpBits[e]&this.ISDONE)&&(this.vpBits[e]|=this.ISDONE):3==t&&(this.vpBits[e]&=~this.ISBOUND)}marchingcube(t){this.marchingcubeinit(t),this.verts=[],this.faces=[],d.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let e=this.pWidth*this.pHeight;for(let t=0,r=this.verts.length;t<r;t++)this.verts[t].atomid=this.vpAtomID[this.verts[t].x*e+this.pHeight*this.verts[t].y+this.verts[t].z];d.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}d.MarchingCube=new s},"./src/VolumeData.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{VolumeData:()=>l});var n=r("./src/utilities.ts"),i=r("./src/WebGL/math/index.ts"),o=r("./src/parsers/VASP.ts"),a=r("./src/parsers/CUBE.ts"),s=r("./node_modules/pako/dist/pako.esm.mjs");class l{constructor(t,e,r){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(t){var e=t/(this.size.y*this.size.z),r=t%(this.size.y*this.size.z),n=t%this.size.z;return e*=this.unit.x,r*=this.unit.y,n*=this.unit.z,{x:e+=this.origin.x,y:r+=this.origin.y,z:n+=this.origin.z}},this.vasp=function(t){var e=t.replace(/^\s+/,"").split(/[\n\r]/),r=(0,o.VASP)(t)[0].length;if(0==r)return console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var n,a=1.889725992,s=parseFloat(e[1]);n=e[2].replace(/^\s+/,"").split(/\s+/);var l=new i.Vector3(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])).multiplyScalar(s*a);n=e[3].replace(/^\s+/,"").split(/\s+/);var c=new i.Vector3(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])).multiplyScalar(s*a);n=e[4].replace(/^\s+/,"").split(/\s+/);var d=new i.Vector3(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])).multiplyScalar(s*a),u=l.x*(c.y*d.z-d.y*c.z)-c.x*(l.y*d.z-d.y*l.z)+d.x*(l.y*c.z-c.y*l.z),h=1/(u=Math.abs(u)/Math.pow(a,3));e.splice(0,8+r+1);var f=e[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),p=Math.abs(parseFloat(f[0])),m=Math.abs(parseFloat(f[1])),g=Math.abs(parseFloat(f[2])),b=this.origin=new i.Vector3(0,0,0);this.size={x:p,y:m,z:g},this.unit=new i.Vector3(l.x,c.y,d.z),l=l.multiplyScalar(1/(a*p)),c=c.multiplyScalar(1/(a*m)),d=d.multiplyScalar(1/(a*g)),0==l.y&&0==l.z&&0==c.x&&0==c.z&&0==d.x&&0==d.y||(this.matrix=new i.Matrix4(l.x,c.x,d.x,0,l.y,c.y,d.y,0,l.z,c.z,d.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new i.Matrix4).makeTranslation(b.x,b.y,b.z)),this.origin=new i.Vector3(0,0,0),this.unit=new i.Vector3(1,1,1)),e.splice(0,1);var v=e.join(" "),y=(v=v.replace(/^\s+/,"")).split(/[\s\r]+/);y.splice(p*m*g+1);for(var x=Float32Array.from(y,parseFloat),w=0;w<x.length;w++)x[w]=x[w]*h*.036749309;this.data=x},this.dx=function(t){var e,r=t.split(/[\n\r]+/),n=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,o=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,a=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,s=/data follows/,l=0;for(l=0;l<r.length;l++){var c=r[l];if(e=n.exec(c)){var d=parseInt(e[1]),u=parseInt(e[2]),h=parseInt(e[3]);this.size={x:d,y:u,z:h}}else if(e=a.exec(c)){var f=parseFloat(e[1]);if(0==parseFloat(e[2])&&0==parseFloat(e[3])||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),c=r[l+=1],null==(e=a.exec(c)))return void console.error("Parse error in dx delta matrix");var p=parseFloat(e[2]);if(0==parseFloat(e[1])&&0==parseFloat(e[3])||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),c=r[l+=1],null==(e=a.exec(c)))return void console.error("Parse error in dx delta matrix");var m=parseFloat(e[3]);0==parseFloat(e[1])&&0==parseFloat(e[2])||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new i.Vector3(f,p,m)}else if(e=o.exec(c)){var g=parseFloat(e[1]),b=parseFloat(e[2]),v=parseFloat(e[3]);this.origin=new i.Vector3(g,b,v)}else if(e=s.exec(c))break}if(l+=1,this.size&&this.origin&&this.unit&&this.size){var y=r.splice(l).join(" ").split(/[\s\r]+/);this.data=Float32Array.from(y,parseFloat)}else console.error("Error parsing dx format")},e=e.toLowerCase(),/\.gz$/.test(e)){e=e.replace(/\.gz$/,"");try{this[e]&&this.isbinary.has(e)?("string"==typeof t&&(t=(0,n.base64ToArray)(t)),t=(0,s.inflate)(t)):t=new TextDecoder("utf-8").decode((0,s.inflate)(t))}catch(t){console.error(t)}}if(this[e]&&(this.isbinary.has(e)&&"string"==typeof t&&(t=(0,n.base64ToArray)(t)),this[e](t)),r){if(r.negate)for(let t=0,e=this.data.length;t<e;t++)this.data[t]=-this.data[t];if(r.normalize){var a=0;for(let t=0,e=this.data.length;t<e;t++)a+=this.data[t];var l=a/this.data.length;a=0;for(let t=0,e=this.data.length;t<e;t++){var c=this.data[t]-l;a+=c*c}var d=a/this.data.length;for(let t=0,e=this.data.length;t<e;t++)this.data[t]=(this.data[t]-l)/d}}}getIndex(t,e,r){if(this.matrix){null==this.inversematrix&&(this.inversematrix=(new i.Matrix4).getInverse(this.matrix));var n=new i.Vector3(t,e,r);t=(n=n.applyMatrix4(this.inversematrix)).x,e=n.y,r=n.z}else t-=this.origin.x,e-=this.origin.y,r-=this.origin.z,t/=this.unit.x,e/=this.unit.y,r/=this.unit.z;return t=Math.round(t),e=Math.round(e),r=Math.round(r),t<0||t>=this.size.x||e<0||e>=this.size.y||r<0||r>=this.size.z?-1:t*this.size.y*this.size.z+e*this.size.z+r}getVal(t,e,r){let n=this.getIndex(t,e,r);return n<0?0:this.data[n]}cube(t){var e=t.split(/\r?\n/);if(!(e.length<6)){var r=(0,a.CUBE)(t,{}).modelData[0].cryst,n=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),i=parseFloat(n[0]),o=Math.abs(i);this.origin=r.origin,this.size=r.size,this.unit=r.unit,this.matrix=r.matrix4;var s=6;i<0&&s++;var l=e.splice(o+s).join(" "),c=(l=l.replace(/^\s+/,"")).split(/[\s\r]+/);this.data=Float32Array.from(c,parseFloat)}}ccp4(t){var e={};t=new Int8Array(t);var r=new Int32Array(t.buffer,0,56),n=new Float32Array(t.buffer,0,56),o=new DataView(t.buffer);if(e.MAP=String.fromCharCode(o.getUint8(208),o.getUint8(209),o.getUint8(210),o.getUint8(211)),e.MACHST=[o.getUint8(212),o.getUint8(213)],17===e.MACHST[0]&&17===e.MACHST[1])for(var a=t.byteLength,s=0;s<a;s+=4)o.setFloat32(s,o.getFloat32(s),!0);e.NX=r[0],e.NY=r[1],e.NZ=r[2],e.MODE=r[3],e.NXSTART=r[4],e.NYSTART=r[5],e.NZSTART=r[6],e.MX=r[7],e.MY=r[8],e.MZ=r[9],e.xlen=n[10],e.ylen=n[11],e.zlen=n[12],e.alpha=n[13],e.beta=n[14],e.gamma=n[15],e.MAPC=r[16],e.MAPR=r[17],e.MAPS=r[18],e.DMIN=n[19],e.DMAX=n[20],e.DMEAN=n[21],e.ISPG=r[22],e.NSYMBT=r[23],e.LSKFLG=r[24],e.originX=n[49],e.originY=n[50],e.originZ=n[51],e.ARMS=n[54];var l=e,c=[l.xlen,0,0],d=[l.ylen*Math.cos(Math.PI/180*l.gamma),l.ylen*Math.sin(Math.PI/180*l.gamma),0],u=[l.zlen*Math.cos(Math.PI/180*l.beta),l.zlen*(Math.cos(Math.PI/180*l.alpha)-Math.cos(Math.PI/180*l.gamma)*Math.cos(Math.PI/180*l.beta))/Math.sin(Math.PI/180*l.gamma),0];u[2]=Math.sqrt(l.zlen*l.zlen*Math.sin(Math.PI/180*l.beta)*Math.sin(Math.PI/180*l.beta)-u[1]*u[1]);var h=[0,c,d,u],f=[0,l.MX,l.MY,l.MZ],p=[0,l.MAPC,l.MAPR,l.MAPS];this.matrix=new i.Matrix4,this.matrix.set(h[p[1]][0]/f[p[1]],h[p[2]][0]/f[p[2]],h[p[3]][0]/f[p[3]],0,h[p[1]][1]/f[p[1]],h[p[2]][1]/f[p[2]],h[p[3]][1]/f[p[3]],0,h[p[1]][2]/f[p[1]],h[p[2]][2]/f[p[2]],h[p[3]][2]/f[p[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new i.Matrix4).makeTranslation(l.NXSTART+l.originX,l.NYSTART+l.originY,l.NZSTART+l.originZ)),this.origin=new i.Vector3(0,0,0),this.unit=new i.Vector3(1,1,1),this.size={x:e.NX,y:e.NY,z:e.NZ},this.dimensionorder=[e.MAPC,e.MAPR,e.MAPS];var m=new Float32Array(t.buffer,1024+e.NSYMBT),g=e.NX,b=e.NY,v=e.NZ;this.data=new Float32Array(g*b*v);for(let t=0;t<g;t++)for(let e=0;e<b;e++)for(let r=0;r<v;r++)this.data[(t*b+e)*v+r]=m[(r*b+e)*g+t]}}},"./src/VolumetricRender.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{GLVolumetricRender:()=>l});var n=r("./src/WebGL/shapes/index.ts"),i=r("./src/WebGL/math/index.ts"),o=r("./src/WebGL/index.ts"),a=r("./src/colors.ts"),s=r("./src/GLShape.ts");class l{static interpolateArray(t,e){function r(t,e,r){return t+(e-t)*r}var n=[],i=(t.length-1)/(e-1);n[0]=t[0];for(var o=1;o<e-1;o++){var a=o*i,s=Math.floor(a),l=Math.ceil(a),c=a-s;n[o]=r(t[s],t[l],c)}return n[e-1]=t[t.length-1],n}constructor(t,e,r){this.hidden=!1,this.boundingSphere=new n.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,e=e||{};var o,c,d,u,h,f,p,m,g,b,v=Object.assign([],e.transferfn);this.subsamples=e.subsamples||5,v.forEach((function(t){t.value=parseFloat(t.value)})),v.sort((function(t,e){return t.value-e.value})),this.min=v[0].value,0==v.length&&v.push(v[0]),this.max=v[v.length-1].value;for(let t=0;t<v.length-1;t++)if(d=a.CC.color(v[t].color),u=a.CC.color(v[t+1].color),g=v[t].opacity,b=v[t+1].opacity,(o=Math.floor(256*(v[t].value-this.min)/(this.max-this.min)))!=(c=Math.floor(256*(v[t+1].value-this.min)/(this.max-this.min)))){h=l.interpolateArray([255*d.r,255*u.r],c-o),f=l.interpolateArray([255*d.g,255*u.g],c-o),p=l.interpolateArray([255*d.b,255*u.b],c-o),m=l.interpolateArray([255*g,255*b],c-o);for(let t=0;t<h.length;t++)this.transferfunctionbuffer.push(h[t]),this.transferfunctionbuffer.push(f[t]),this.transferfunctionbuffer.push(p[t]),this.transferfunctionbuffer.push(m[t])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),t.matrix){let e=new i.Vector3(0,0,0),r=new i.Vector3(t.size.x,t.size.y,t.size.z),n=new i.Vector3(1,1,1);e.applyMatrix4(t.matrix),r.applyMatrix4(t.matrix),n.applyMatrix4(t.matrix).sub(e),this.extent=[[e.x,e.y,e.z],[r.x,r.y,r.z]];for(let e=1;e<7;e++)r.x=1&e?t.size.x:0,r.y=2&e?t.size.y:0,r.z=4&e?t.size.z:0,r.applyMatrix4(t.matrix),this.extent[0][0]=Math.min(this.extent[0][0],r.x),this.extent[0][1]=Math.min(this.extent[0][1],r.y),this.extent[0][2]=Math.min(this.extent[0][2],r.z),this.extent[1][0]=Math.max(this.extent[1][0],r.x),this.extent[1][1]=Math.max(this.extent[1][1],r.y),this.extent[1][2]=Math.max(this.extent[1][2],r.z);let o=r.x-e.x,a=r.y-e.y,s=r.z-e.z;this.maxdepth=Math.sqrt(o*o+a*a+s*s),this.minunit=Math.min(Math.min(n.x,n.y),n.z),this.texmatrix=(new i.Matrix4).identity().scale({x:t.size.x,y:t.size.y,z:t.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(t.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=(new i.Matrix4).identity();let e=t.unit.x*t.size.x,r=t.unit.y*t.size.y,n=t.unit.z*t.size.z;this.texmatrix.makeTranslation(-t.origin.x/e,-t.origin.y/r,-t.origin.z/n),this.texmatrix.scale({x:1/e,y:1/r,z:1/n}),this.minunit=Math.min(Math.min(t.unit.x,t.unit.y),t.unit.z),this.extent=[[t.origin.x,t.origin.y,t.origin.z],[t.origin.x+e,t.origin.y+r,t.origin.z+n]],this.maxdepth=Math.sqrt(e*e+r*r+n*n)}var y=new s.GLShape({});if(y.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=y.finalize(),this.boundingSphere.center=new i.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,void 0===e.coords&&void 0!==e.selection&&(r?e.coords=r.selectedAtoms(e.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),void 0!==e.coords&&void 0!==e.seldist){let r=new Uint8Array(t.data.length),n=e.seldist,i=n*n;for(let o=0,a=e.coords.length;o<a;o++){let a=e.coords[o],s=a.x-n,l=a.y-n,c=a.z-n,d=a.x+n,u=a.y+n,h=a.z+n;if(t.getIndex(s,l,c)>=0||t.getIndex(d,u,h)>=0)for(let e=s;e<d;e+=this.minunit)for(let n=l;n<u;n+=this.minunit)for(let o=c;o<h;o+=this.minunit){let s=t.getIndex(e,n,o);s>=0&&!r[s]&&(e-a.x)*(e-a.x)+(n-a.y)*(n-a.y)+(o-a.z)*(o-a.z)<i&&(r[s]=1)}}for(let e=0,n=t.data.length;e<n;e++)0==r[e]&&(t.data[e]=1/0)}this.data=t}globj(t){if(this.renderedShapeObj&&(t.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new o.Object3D;var e,r=new o.Texture(this.data,!0),n=new o.Texture(this.transferfunctionbuffer,!1);r.needsUpdate=!0,n.needsUpdate=!0,n.flipY=!1,e=new o.VolumetricMaterial({transferfn:n,transfermin:this.min,transfermax:this.max,map:r,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var i=new o.Mesh(this.geo,e);this.shapeObj.add(i),this.renderedShapeObj=this.shapeObj.clone(),t.add(this.renderedShapeObj)}}removegl(t){this.renderedShapeObj&&(void 0!==this.renderedShapeObj.geometry&&this.renderedShapeObj.geometry.dispose(),void 0!==this.renderedShapeObj.material&&this.renderedShapeObj.material.dispose(),t.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Camera:()=>o});var n=r("./src/WebGL/core/index.ts"),i=r("./src/WebGL/math/index.ts");class o extends n.Object3D{constructor(t=50,e=1,r=.1,n=2e3,o=!1){super(),this.projectionMatrix=new i.Matrix4,this.projectionMatrixInverse=new i.Matrix4,this.matrixWorldInverse=new i.Matrix4,this.fov=t,this.aspect=e,this.near=r,this.far=n;var a=this.position.z;this.right=a*Math.tan(Math.PI/180*t),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!o,this.updateProjectionMatrix()}lookAt(t){this.matrix.lookAt(this.position,t,this.up),this.rotationAutoUpdate&&(!1===this.useQuaternion&&this.rotation instanceof i.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Fog:()=>i});var n=r("./src/colors.ts");class i{constructor(t,e=1,r=1e3){this.name="",this.color=new n.Color(t),this.near=e,this.far=r}clone(){return new i(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Renderer:()=>m});var n=r("./src/WebGL/Camera.ts"),i=r("./src/WebGL/constants/Sides.ts"),o=r("./src/WebGL/constants/TextureConstants.ts"),a=r("./src/WebGL/core/index.ts"),s=r("./src/colors.ts"),l=r("./src/WebGL/materials/index.ts"),c=r("./src/WebGL/math/index.ts"),d=r("./src/WebGL/objects/index.ts"),u=r("./src/WebGL/shaders/index.ts"),h=r("./src/WebGL/SpritePlugin.ts"),f=null,p=null;class m{constructor(t){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new c.Vector3,this._worldInverse=new c.Matrix4,this._projInverse=new c.Matrix4,this._textureMatrix=new c.Matrix4,this._fullProjModelMatrix=new c.Matrix4,this._fullProjModelMatrixInv=new c.Matrix4,this._direction=new c.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new h.SpritePlugin,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,t=t||{},this.row=t.row,this.col=t.col,this.rows=t.rows,this.cols=t.cols,this._canvas=void 0!==t.canvas?t.canvas:document.createElement("canvas"),this._precision=void 0!==t.precision?t.precision:"highp",this._alpha=void 0===t.alpha||t.alpha,this._premultipliedAlpha=void 0===t.premultipliedAlpha||t.premultipliedAlpha,this._antialias=void 0!==t.antialias&&t.antialias,this._preserveDrawingBuffer=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,this._clearColor=void 0!==t.clearColor?new s.Color(t.clearColor):new s.Color(0),this._clearAlpha=void 0!==t.clearAlpha?t.clearAlpha:0,this._outlineMaterial=new l.MeshOutlineMaterial(t.outline),this._outlineSphereImposterMaterial=new l.SphereImposterOutlineMaterial(t.outline),this._outlineStickImposterMaterial=new l.StickImposterOutlineMaterial(t.outline),this._outlineEnabled=!!t.outline,this._AOEnabled=!!t.ambientOcclusion,t.ambientOcclusion&&void 0!==t.ambientOcclusion.strength&&(this._AOstrength=parseFloat(t.ambientOcclusion.strength)),0==this._AOstrength&&(this._AOEnabled=!1),t.ambientOcclusion&&void 0!==t.ambientOcclusion.radius&&(this._AOradius=parseFloat(t.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=t.id,0!=t.containerWidth&&0!=t.containerHeight&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:Boolean(this._extInstanced),supportsImposters:Boolean(this._extFragDepth)||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return null==this._gl||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(t,e){this._clearColor.setHex(t),this._clearAlpha=e,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(t){this._outlineMaterial=new l.MeshOutlineMaterial(t),this._outlineSphereImposterMaterial=new l.SphereImposterOutlineMaterial(t),this._outlineStickImposterMaterial=new l.StickImposterOutlineMaterial(t),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(t){t&&(t.strength&&(this._AOstrength=t.strength),t.scale&&(this._AOradius=t.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var t=this._canvas.width/this.cols,e=this._canvas.height/this.rows;this._viewportWidth=t,this._viewportHeight=e,this.isLost()||(this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(t*this.col,e*this.row,t,e),this._gl.viewport(t*this.col,e*this.row,t,e))}}setSize(t,e){if(this.devicePixelRatio=void 0!==window.devicePixelRatio?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var r=t/this.cols,n=e/this.rows;this._canvas.width=t*this.devicePixelRatio,this._canvas.height=e*this.devicePixelRatio,this._viewportWidth=r*this.devicePixelRatio,this._viewportHeight=n*this.devicePixelRatio,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=t*this.devicePixelRatio,this._viewportHeight=this._canvas.height=e*this.devicePixelRatio,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px",this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(t,e,r){var n=0;(void 0===t||t)&&(n|=this._gl.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=this._gl.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(n)}setMaterialFaces(t,e){var r=t.side===i.DoubleSide,n=t.side===i.BackSide;t.imposter||(n=e?!n:n),this._oldDoubleSided!==r&&(r?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=r),this._oldFlipSided!==n&&(n?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=n),this._gl.cullFace(this._gl.BACK)}setDepthTest(t){this._oldDepthTest!==t&&(t?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=t)}setDepthWrite(t){this._oldDepthWrite!==t&&(this._gl.depthMask(t),this._oldDepthWrite=t)}setBlending(t){t?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(t,e,r,n){var i,o;if(t.addEventListener("dispose",this.onMaterialDispose.bind(this)),o=t.shaderID){var a=u.ShaderLib[o];t.vertexShader=a.vertexShader,t.fragmentShader=a.fragmentShader,t.uniforms=u.ShaderUtils.clone(a.uniforms),t.shaded&&t.makeShaded(this.SHADE_TEXTURE)}i={wireframe:t.wireframe,fragdepth:t.imposter,volumetric:t.volumetric,shaded:t.shaded},t.program=this.buildProgram(t.fragmentShader,t.vertexShader,t.uniforms,i)}renderBuffer(t,e,r,n,i,o){var a,s;if(n.visible&&(a=this.setProgram(t,e,r,n,o,this))){s=a.attributes;var l,c,u=!1,h=n.wireframe?1:0,f=16777215*i.id+2*a.id+h;if(f!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=f,u=!0),u&&(this.disableAttributes(),s.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglVertexBuffer),this.enableAttribute(s.position),this._gl.vertexAttribPointer(s.position,3,this._gl.FLOAT,!1,0,0)),s.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglColorBuffer),this.enableAttribute(s.color),this._gl.vertexAttribPointer(s.color,3,this._gl.FLOAT,!1,0,0)),s.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglNormalBuffer),this.enableAttribute(s.normal),this._gl.vertexAttribPointer(s.normal,3,this._gl.FLOAT,!1,0,0)),s.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglOffsetBuffer),this.enableAttribute(s.offset),this._gl.vertexAttribPointer(s.offset,3,this._gl.FLOAT,!1,0,0)),s.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglRadiusBuffer),this.enableAttribute(s.radius),this._gl.vertexAttribPointer(s.radius,1,this._gl.FLOAT,!1,0,0))),o instanceof d.Mesh){if("instanced"===n.shaderID){var p=n.sphere.geometryGroups[0];u&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,p.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,p.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,p.faceArray,this._gl.STATIC_DRAW)),l=p.faceidx,this._extInstanced.vertexAttribDivisorANGLE(s.offset,1),this._extInstanced.vertexAttribDivisorANGLE(s.radius,1),this._extInstanced.vertexAttribDivisorANGLE(s.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,l,this._gl.UNSIGNED_SHORT,0,i.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(s.offset,0),this._extInstanced.vertexAttribDivisorANGLE(s.radius,0),this._extInstanced.vertexAttribDivisorANGLE(s.color,0)}else n.wireframe?(c=i.lineidx,this.setLineWidth(n.wireframeLinewidth),u&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,i.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,c,this._gl.UNSIGNED_SHORT,0)):(l=i.faceidx,u&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,l,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=l,this.info.render.faces+=l/3}else o instanceof d.Line&&(c=i.vertices,this.setLineWidth(n.linewidth),this._gl.drawArrays(this._gl.LINES,0,c),this.info.render.calls++)}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(t,e,r){let n=t.__lights,i=t.fog,o=[];for(let e=0,n=t.__webglObjects.length;e<n;e++){let n=t.__webglObjects[e];n.render&&n[r]&&o.push(n)}if(0==o.length)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(t.__webglObjects,!0,r+"Depth",e,n,i,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let a=this._AOshader.uniforms;this._gl.uniform1f(a.total_strength,this._AOstrength),this._gl.uniform1f(a.radius,this._AOradius),this._fullProjModelMatrix=new c.Matrix4,this._fullProjModelMatrixInv=new c.Matrix4;let s=o[0].object;this._fullProjModelMatrix.multiplyMatrices(e.projectionMatrix,s._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(a.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(a.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(t,e){if(e instanceof n.Camera==0)return void console.error("Renderer.render: camera is not an instance of Camera.");var r,i,o,a,s,l=t.__lights,c=t.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&t.updateMatrixWorld(),void 0===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(t),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),s=t.__webglObjects;let d=!1,u=this._AOEnabled;for(r=0,i=s.length;r<i;r++)a=(o=s[r]).object,o.render=!1,a.visible&&(this.setupMatrices(a,e),this.unrollBufferMaterial(o),o.render=!0,o.volumetric&&(d=!0),o.hasAO&&(u=!0));if(this.setBlending(!1),u&&this.setShading(t,e,"opaque"),this.renderObjects(t.__webglObjects,!0,"opaque",e,l,c,!1),u&&this.clearShading(),this.renderSprites(t,e,!1),this.renderObjects(t.__webglObjects,!0,"transparentDepth",e,l,c,!0),this.renderObjects(t.__webglObjects,!1,"transparent",e,l,c,!0),d&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(t.__webglObjects,!1,"volumetric",e,l,c,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(t,e,!0),this._bitmap){const t=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(t),t.close()}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let t=this._viewportWidth,e=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,t,e),this._gl.viewport(0,0,t,e),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,t,e,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,t,e,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,t,e,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,t,e,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let t=this._viewportWidth,e=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,t,e),this._gl.viewport(0,0,t,e),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var r=this._antialias?u.ShaderLib.screenaa:u.ShaderLib.screen;this._screenshader=this.buildProgram(r.fragmentShader,r.vertexShader,r.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition"),this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([1,1,-1,1,-1,-1,-1,-1,1,-1,1,1]),this._gl.STATIC_DRAW);let n=u.ShaderLib.ssao;this._AOshader=this.buildProgram(n.fragmentShader,n.vertexShader,n.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let i=u.ShaderLib.blur;this._blurshader=this.buildProgram(i.fragmentShader,i.vertexShader,i.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||null===this._fb||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(t){if(t.__webglObjects||(t.__webglObjects=[],t.__webglObjectsImmediate=[],t.__webglSprites=[],t.__webglFlares=[]),t.__objectsAdded.length){for(;t.__objectsAdded.length;)this.addObject(t.__objectsAdded[0],t),t.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;t.__objectsRemoved.length;)this.removeObject(t.__objectsRemoved[0],t),t.__objectsRemoved.splice(0,1);for(var e=0,r=t.__webglObjects.length;e<r;e++)this.updateObject(t.__webglObjects[e].object)}getYRatio(){return void 0!==this.rows&&void 0!==this.row?this.rows:1}getXRatio(){return void 0!==this.cols&&void 0!==this.col?this.cols:1}getAspect(t,e){null!=t&&null!=e||(t=this._canvas.width,e=this._canvas.height);var r=t/e;return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col&&(r=t/this.cols/(e/this.rows)),r}setTexture(t,e,r){if(t.needsUpdate){t.__webglInit||(t.__webglInit=!0,t.addEventListener("dispose",this.onTextureDispose.bind(this)),t.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+e);var n=r?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(n,t.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,t.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,t.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,t.unpackAlignment);var i=this.paramToGL(t.format),o=this.paramToGL(t.type);if(r)this.setTextureParameters(this._gl.TEXTURE_3D,t),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,t.image.size.z,t.image.size.y,t.image.size.x,0,this._gl.RED,this._gl.FLOAT,t.image.data);else{var a=t.image,s=a.width,l=a.height;void 0===s&&(s=a.length,i==this._gl.RGBA&&(s/=4),l=1),this.setTextureParameters(this._gl.TEXTURE_2D,t),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,i,i,o,t.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,i,s,l,0,i,o,t.image)}t.needsUpdate=!1,t.onUpdate&&t.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+e),r?this._gl.bindTexture(this._gl.TEXTURE_3D,t.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,t.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(t){this._enabledAttributes[t]||(this._gl.enableVertexAttribArray(t),this._enabledAttributes[t]=!0)}disableAttributes(){for(let t in this._enabledAttributes)this._enabledAttributes[t]&&(this._gl.disableVertexAttribArray(t),this._enabledAttributes[t]=!1)}setPolygonOffset(t,e,r){this._oldPolygonOffset!==t&&(t?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(t){t!==this._oldLineWidth&&(this._gl.lineWidth(t),this._oldLineWidth=t)}deallocateGeometry(t){if(t.__webglInit=void 0,void 0!==t.__webglVertexBuffer&&this._gl.deleteBuffer(t.__webglVertexBuffer),void 0!==t.__webglColorBuffer&&this._gl.deleteBuffer(t.__webglColorBuffer),void 0!==t.geometryGroups)for(var e=0,r=t.groups;e<r;e++){var n=t.geometryGroups[e];void 0!==n.__webglVertexBuffer&&this._gl.deleteBuffer(n.__webglVertexBuffer),void 0!==n.__webglColorBuffer&&this._gl.deleteBuffer(n.__webglColorBuffer),void 0!==n.__webglNormalBuffer&&this._gl.deleteBuffer(n.__webglNormalBuffer),void 0!==n.__webglFaceBuffer&&this._gl.deleteBuffer(n.__webglFaceBuffer),void 0!==n.__webglLineBuffer&&this._gl.deleteBuffer(n.__webglLineBuffer)}}deallocateMaterial(t){var e=t.program;if(void 0!==e){var r,n,i;t.program=void 0;var o=!1;for(r=0,n=this._programs.length;r<n;r++)if((i=this._programs[r]).program===e){i.usedTimes--,0===i.usedTimes&&(o=!0);break}if(!0===o){var a=[];for(r=0,n=this._programs.length;r<n;r++)(i=this._programs[r]).program!==e&&a.push(i);this._programs=a,this._gl.deleteProgram(e),this.info.memory.programs--}}}deallocateTexture(t){if(t.image&&t.image.__webglTextureCube)this._gl.deleteTexture(t.image.__webglTextureCube);else{if(!t.__webglInit)return;t.__webglInit=!1,this._gl.deleteTexture(t.__webglTexture)}}onGeometryDispose(t){var e=t.target;e.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(e),this.info.memory.geometries--}onTextureDispose(t){var e=t.target;e.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(e),this.info.memory.textures--}onMaterialDispose(t){var e=t.target;e.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(e)}getShader(t,e){var r;return this.isWebGL1()||e.startsWith("#version")||(e=e.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),e="#version 300 es\n"+(e=(e=(e=(e=(e="fragment"==t?e.replace(/varying/g,"in"):e.replace(/varying/g,"out")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;")).replace(/gl_FragColor/g,"glFragColor"))),"fragment"===t?r=this._gl.createShader(this._gl.FRAGMENT_SHADER):"vertex"===t&&(r=this._gl.createShader(this._gl.VERTEX_SHADER)),null==r?null:(this._gl.shaderSource(r,e),this._gl.compileShader(r),this._gl.getShaderParameter(r,this._gl.COMPILE_STATUS)?r:(console.error(this._gl.getShaderInfoLog(r)),console.error("could not initialize shader"),null))}buildProgram(t,e,r,n){var i,o,a,s,l=[];for(i in l.push(t),l.push(e),n)l.push(i),l.push(n[i]);for(s=l.join(),i=0,o=this._programs.length;i<o;i++){var c=this._programs[i];if(c.code===s)return c.usedTimes++,c.program}if(this.isWebGL1()&&n.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(null==(a=this._gl.createProgram()))return null;var d,u,h,f="precision "+this._precision+" float;",p=[n.volumetric?"#version 300 es":"",f].join("\n"),m=[n.volumetric?"#version 300 es":"",n.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",n.shaded?"#define SHADED 1":"",n.wireframe?"#define WIREFRAME 1":"",f].join("\n"),g=this.getShader("fragment",m+t),b=this.getShader("vertex",p+e);for(u in null!=b&&this._gl.attachShader(a,b),null!=g&&this._gl.attachShader(a,g),this._gl.linkProgram(a),this._gl.getProgramParameter(a,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),a.uniforms={},a.attributes={},d=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"],r)d.push(u);for(h=0;h<d.length;h++){var v=d[h];a.uniforms[v]=this._gl.getUniformLocation(a,v)}for(d=["position","normal","color","lineDistance","offset","radius"],h=0;h<d.length;h++){var y=d[h];a.attributes[y]=this._gl.getAttribLocation(a,y)}return a.id=this._programs_counter++,this._programs.push({program:a,code:s,usedTimes:1}),this.info.memory.programs=this._programs.length,a}setProgram(t,e,r,n,i,o){if(n.needsUpdate&&(n.program&&this.deallocateMaterial(n),this.initMaterial(n,e,r,i),n.needsUpdate=!1),null==n.program)return null;var a=!1,s=n.program,l=s.uniforms,c=n.uniforms;if(s!=this._currentProgram&&(this._gl.useProgram(s),this._currentProgram=s,a=!0),n.id!=this._currentMaterialId&&(this._currentMaterialId=n.id,a=!0),t!=this._currentCamera&&(this._currentCamera=t,a=!0),l.projectionMatrix&&this._gl.uniformMatrix4fv(l.projectionMatrix,!1,t.projectionMatrix.elements),l.modelViewMatrix&&this._gl.uniformMatrix4fv(l.modelViewMatrix,!1,i._modelViewMatrix.elements),l.normalMatrix&&this._gl.uniformMatrix3fv(l.normalMatrix,!1,i._normalMatrix.elements),l.projinv&&(this._projInverse.getInverse(t.projectionMatrix),this._gl.uniformMatrix4fv(l.projinv,!1,this._projInverse.elements)),l.viewMatrix&&this._gl.uniformMatrix4fv(l.viewMatrix,!1,t.matrixWorldInverse.elements),l.vWidth&&this._gl.uniform1f(l.vWidth,this._viewportWidth),l.vHeight&&this._gl.uniform1f(l.vHeight,this._viewportHeight),a){if(c.fogColor.value=r.color,c.fogNear.value=r.near,c.fogFar.value=r.far,n.shaderID.startsWith("lambert")||"instanced"===n.shaderID||n.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(s,e),this._lightsNeedUpdate=!1),c.directionalLightColor.value=this._lights.directional.colors,c.directionalLightDirection.value=this._lights.directional.positions;else if(n.shaderID.endsWith("outline"))c.outlineColor.value=n.outlineColor,c.outlineWidth.value=n.outlineWidth,c.outlinePushback.value=n.outlinePushback,c.outlineMaxPixels.value=n.outlineMaxPixels*this.devicePixelRatio;else if("volumetric"===n.shaderID){i._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(i._modelViewMatrix),this._projInverse.getInverse(t.projectionMatrix),this._textureMatrix.multiplyMatrices(i.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(l.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(l.projinv,!1,this._projInverse.elements);let e=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);c.step.value=i.material.unit*e,c.maxdepth.value=i.material.maxdepth*e,c.transfermax.value=i.material.transfermax,c.transfermin.value=i.material.transfermin,c.subsamples.value=i.material.subsamples,o.setTexture(i.material.transferfn,4,!1),o.setTexture(i.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}c.opacity.value=n.opacity,this.loadMaterialUniforms(l,c)}return c.shading&&(3==c.shading.value?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),s}loadMaterialUniforms(t,e){var r,n,i,o;for(r in e)t[r]&&(n=e[r].type,i=e[r].value,o=t[r],"f"===n?this._gl.uniform1f(o,i):"i"===n?this._gl.uniform1i(o,i):"fv"===n?this._gl.uniform3fv(o,i):"c"===n?this._gl.uniform3f(o,i.r,i.g,i.b):"f4"===n&&this._gl.uniform4f(o,i[0],i[1],i[2],i[3]))}addObject(t,e){var r,n,i,o;if(!t.__webglInit&&(t.__webglInit=!0,t._modelViewMatrix=new c.Matrix4,t._normalMatrix=new c.Matrix3,void 0!==t.geometry&&void 0===t.geometry.__webglInit&&(t.geometry.__webglInit=!0,t.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),t instanceof d.Mesh||t instanceof d.Line))for(r=0,n=(i=t.geometry).geometryGroups.length;r<n;r++)(o=i.geometryGroups[r]).id=this._geometryGroupCounter++,o.__webglVertexBuffer||(t instanceof d.Mesh?(this.createMeshBuffers(o),i.elementsNeedUpdate=!0,i.normalsNeedUpdate=!0):t instanceof d.Line&&this.createLineBuffers(o),i.verticesNeedUpdate=!0,i.colorsNeedUpdate=!0);if(!t.__webglActive){if(t instanceof d.Mesh||t instanceof d.Line)for(r=0,n=(i=t.geometry).geometryGroups.length;r<n;r++)o=i.geometryGroups[r],this.addBuffer(e.__webglObjects,o,t);else t instanceof d.Sprite&&e.__webglSprites.push(t);t.__webglActive=!0}}updateObject(t){var e,r=t.geometry;if(t instanceof d.Mesh||t instanceof d.Line){for(var n=0,i=r.geometryGroups.length;n<i;n++)e=r.geometryGroups[n],(r.verticesNeedUpdate||r.elementsNeedUpdate||r.colorsNeedUpdate||r.normalsNeedUpdate)&&this.setBuffers(e,this._gl.STATIC_DRAW);r.verticesNeedUpdate=!1,r.elementsNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.buffersNeedUpdate=!1}}removeObject(t,e){t instanceof d.Mesh||t instanceof d.Line?this.removeInstances(e.__webglObjects,t):t instanceof d.Sprite&&this.removeInstancesDirect(e.__webglSprites,t),t.__webglActive=!1}removeInstances(t,e){for(var r=t.length-1;r>=0;--r)t[r].object===e&&t.splice(r,1)}removeInstancesDirect(t,e){for(var r=t.length-1;r>=0;--r)t[r]===e&&t.splice(r,1)}unrollBufferMaterial(t){var e=t.object.material;if(e.volumetric)t.opaque=null,t.transparent=null,t.volumetric=e;else if(e.transparent){if(t.opaque=null,t.volumetric=null,t.transparent=e,!e.wireframe){let r=e.clone();r.opacity=0,t.transparentDepth=r}}else{if(t.opaque=e,t.transparent=null,t.volumetric=null,!e.wireframe){let r=e.clone();r.opacity=0,t.opaqueDepth=r}e.hasAO&&(t.hasAO=!0),(this._AOEnabled||t.hasAO)&&(t.opaqueShaded=e.clone(),t.opaqueShaded.shaded=!0)}}setBuffers(t,e){var r=t.vertexArray,n=t.colorArray;if(void 0!==t.__webglOffsetBuffer?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,r,e)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,r,e)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,n,e),t.normalArray&&void 0!==t.__webglNormalBuffer){var i=t.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,i,e)}if(t.radiusArray&&void 0!==t.__webglRadiusBuffer&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,t.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,t.radiusArray,e)),t.faceArray&&void 0!==t.__webglFaceBuffer){var o=t.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,t.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,o,e)}if(t.lineArray&&void 0!==t.__webglLineBuffer){var a=t.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,t.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,a,e)}}createMeshBuffers(t){t.radiusArray&&(t.__webglRadiusBuffer=this._gl.createBuffer()),t.useOffset&&(t.__webglOffsetBuffer=this._gl.createBuffer()),t.__webglVertexBuffer=this._gl.createBuffer(),t.__webglNormalBuffer=this._gl.createBuffer(),t.__webglColorBuffer=this._gl.createBuffer(),t.__webglFaceBuffer=this._gl.createBuffer(),t.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(t){t.__webglVertexBuffer=this._gl.createBuffer(),t.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(t,e,r){t.push({buffer:e,object:r,opaque:null,transparent:null})}setupMatrices(t,e){t._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,t.matrixWorld),t._normalMatrix.getInverse(t._modelViewMatrix),t._normalMatrix.transpose()}filterFallback(t){return this._gl.LINEAR}setTextureParameters(t,e){t==this._gl.TEXTURE_2D?(this._gl.texParameteri(t,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(t,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(t,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(e.magFilter)),this._gl.texParameteri(t,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(e.minFilter))):(this._gl.texParameteri(t,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(t,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(t,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(t,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(t,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(t,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(t,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(t){return t===o.UnsignedByteType?this._gl.UNSIGNED_BYTE:t===o.RGBAFormat?this._gl.RGBA:t===o.NearestFilter?this._gl.NEAREST:0}setupLights(t,e){var r,n,i,o,s,l=this._lights,c=l.directional.colors,d=l.directional.positions,u=0,h=0;for(r=0,n=e.length;r<n;r++)if(o=(i=e[r]).color,s=i.intensity,i instanceof a.Light){if(this._direction.getPositionFromMatrix(i.matrixWorld),this._vector3.getPositionFromMatrix(i.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),0===this._direction.x&&0===this._direction.y&&0===this._direction.z)continue;d[h]=this._direction.x,d[h+1]=this._direction.y,d[h+2]=this._direction.z,c[h]=o.r*s,c[h+1]=o.g*s,c[h+2]=o.b*s,h+=3,u++}l.ambient[0]=0,l.ambient[1]=0,l.ambient[2]=0,l.directional.length=u}initGL(){try{if(!OffscreenCanvas||null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context."}else(null==p||p.isContextLost())&&(f=new OffscreenCanvas(this._canvas.width,this._canvas.height),p=f.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=f,this._gl=p,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});var t=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(t[6])}catch(t){console.error(t)}}isWebGL1(){return 1==this._webglversion}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(t,e,r,n,i,o,a){var s,l,c,d,u,h,f;e?(u=t.length-1,h=-1,f=-1):(u=0,h=t.length,f=1);for(var p=u;p!==h;p+=f)if((s=t[p]).render){if(l=s.object,c=s.buffer,d=s[r],(s.hasAO||this._AOEnabled)&&s[r+"Shaded"]&&(d=s[r+"Shaded"]),!d)continue;this.setBlending(a),this.setDepthTest(d.depthTest),this.setDepthWrite(d.depthWrite),this.setPolygonOffset(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits);var m=l._modelViewMatrix.isReflected();if(this.setMaterialFaces(d,m),this.renderBuffer(n,i,o,d,c,l),(this._outlineEnabled||d.outline)&&!d.wireframe&&"basic"!==d.shaderID&&0!==d.opacity){let t=this._outlineMaterial;"sphereimposter"==d.shaderID?t=this._outlineSphereImposterMaterial:"stickimposter"==d.shaderID&&(t=this._outlineStickImposterMaterial),this.renderBuffer(n,i,o,t,c,l)}}}renderSprites(t,e,r){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(t,e,this._currentWidth,this._currentHeight,r),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{SpritePlugin:()=>i});var n=r("./src/WebGL/shaders/index.ts");class i{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(t){this.gl=t.context,this.renderer=t,this.precision=t.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var e=0;this.sprite.vertices[e++]=-1,this.sprite.vertices[e++]=-1,this.sprite.vertices[e++]=0,this.sprite.vertices[e++]=0,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=-1,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=0,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=-1,this.sprite.vertices[e++]=1,this.sprite.vertices[e++]=0,this.sprite.vertices[e++]=1,e=0,this.sprite.faces[e++]=0,this.sprite.faces[e++]=1,this.sprite.faces[e++]=2,this.sprite.faces[e++]=0,this.sprite.faces[e++]=2,this.sprite.faces[e++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(n.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const r={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),r.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),r.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),r.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),r.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),r.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),r.color=this.gl.getUniformLocation(this.sprite.program,"color"),r.map=this.gl.getUniformLocation(this.sprite.program,"map"),r.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),r.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),r.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),r.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),r.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),r.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),r.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),r.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),r.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),r.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),r.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=r}render(t,e,r,n,i){var a,s,l,c,d,u,h,f,p,m;if(!this.gl)throw new Error("WebGLRenderer not initialized");let g=[];null===(a=null==t?void 0:t.__webglSprites)||void 0===a||a.forEach((t=>{(i&&0==t.material.depthTest||!i&&t.material.depthTest)&&g.push(t)}));let b=g.length;if(!b)return;const v=this.sprite.attributes,y=this.sprite.uniforms;if(!y)throw new Error("Uniforms not defined");var x=.5*r,w=.5*n;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(v.position),this.gl.enableVertexAttribArray(v.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(v.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(v.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(y.projectionMatrix,!1,e.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(y.map,0);var _,k=0,A=0,T=t.fog;let M,S,E,C;T?(this.gl.uniform3f(y.fogColor,T.color.r,T.color.g,T.color.b),this.gl.uniform1f(y.fogNear,T.near),this.gl.uniform1f(y.fogFar,T.far),this.gl.uniform1i(y.fogType,1),k=1,A=1):(this.gl.uniform1i(y.fogType,0),k=0,A=0);let z=[];for(_=0;_<b;_++)M=g[_],S=M.material,S&&(0!=S.depthTest||i)&&M.visible&&0!==S.opacity&&(S.useScreenCoordinates?M.z=-M.position.z:(M._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,M.matrixWorld),M.z=-M._modelViewMatrix.elements[14]));for(g.sort(o),_=0;_<b;_++)if(M=g[_],S=M.material,S&&M.visible&&0!==S.opacity&&S.map&&S.map.image&&S.map.image.width){this.gl.uniform1f((null==y?void 0:y.alphaTest)||null,S.alphaTest);var L=S.map.image.width,O=S.map.image.height;z[0]=L*this.renderer.devicePixelRatio/r,z[1]=O*this.renderer.devicePixelRatio/n,!0===S.useScreenCoordinates?(this.gl.uniform1i(y.useScreenCoordinates,1),this.gl.uniform3f(y.screenPosition,(M.position.x*this.renderer.devicePixelRatio-x)/x,(w-M.position.y*this.renderer.devicePixelRatio)/w,Math.max(0,Math.min(1,M.position.z)))):(this.gl.uniform1i(y.useScreenCoordinates,0),this.gl.uniformMatrix4fv(y.modelViewMatrix,!1,M._modelViewMatrix.elements)),C=t.fog&&S.fog?A:0,k!==C&&(this.gl.uniform1i(y.fogType,C),k=C),E=1/(S.scaleByViewport?n:1),z[0]*=E*M.scale.x,z[1]*=E*M.scale.y;let e=null===(s=null==S?void 0:S.alignment)||void 0===s?void 0:s.x,i=null===(l=null==S?void 0:S.alignment)||void 0===l?void 0:l.y;S.screenOffset&&(e=(e||0)+2*S.screenOffset.x/L,i=(i||0)+2*S.screenOffset.y/O),this.gl.uniform2f(y.uvScale,(null===(c=null==S?void 0:S.uvScale)||void 0===c?void 0:c.x)||1,(null===(d=null==S?void 0:S.uvScale)||void 0===d?void 0:d.y)||1),this.gl.uniform2f(y.uvOffset,(null===(u=null==S?void 0:S.uvOffset)||void 0===u?void 0:u.x)||0,(null===(h=null==S?void 0:S.uvOffset)||void 0===h?void 0:h.y)||0),this.gl.uniform2f(y.alignment,e||0,i||0),this.gl.uniform1f(y.opacity,S.opacity),this.gl.uniform3f(y.color,(null===(f=null==S?void 0:S.color)||void 0===f?void 0:f.r)||0,(null===(p=null==S?void 0:S.color)||void 0===p?void 0:p.g)||0,(null===(m=null==S?void 0:S.color)||void 0===m?void 0:m.b)||0),this.gl.uniform1f(y.rotation,M.rotation),this.gl.uniform2fv(y.scale,z),this.renderer.setDepthTest(S.depthTest),this.renderer.setDepthWrite(S.depthWrite),this.renderer.setTexture(S.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(t,e){if(!this.gl)throw new Error("WebGL Rendering context not found");var r=this.gl.createProgram();if(!r)throw new Error("Error creating webgl program");var n=this.gl.createShader(this.gl.FRAGMENT_SHADER),i=this.gl.createShader(this.gl.VERTEX_SHADER);if(!n)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!i)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var o="precision "+e+" float;\n";if(this.gl.shaderSource(n,o+t.fragmentShader),this.gl.shaderSource(i,o+t.vertexShader),this.gl.compileShader(n),this.gl.compileShader(i),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: \n      ${this.gl.getShaderInfoLog(n)} \n      ${this.gl.getShaderInfoLog(i)}`);return this.gl.attachShader(r,n),this.gl.attachShader(r,i),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),r}}function o(t,e){return t.z!==e.z?e.z-t.z:e.id-t.id}},"./src/WebGL/constants/Coloring.ts":(t,e,r)=>{"use strict";var n;r.r(e),r.d(e,{Coloring:()=>n}),function(t){t[t.NoColors=0]="NoColors",t[t.FaceColors=1]="FaceColors",t[t.VertexColors=2]="VertexColors"}(n||(n={}))},"./src/WebGL/constants/Shading.ts":(t,e,r)=>{"use strict";var n;r.r(e),r.d(e,{Shading:()=>n}),function(t){t[t.NoShading=0]="NoShading",t[t.FlatShading=1]="FlatShading",t[t.SmoothShading=2]="SmoothShading"}(n||(n={}))},"./src/WebGL/constants/Sides.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{BackSide:()=>i,DoubleSide:()=>o,FrontSide:()=>n});const n=0,i=1,o=2},"./src/WebGL/constants/SpriteAlignment.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{SpriteAlignment:()=>i});var n=r("./src/WebGL/math/index.ts");const i={topLeft:new n.Vector2(1,-1),topCenter:new n.Vector2(0,-1),topRight:new n.Vector2(-1,-1),centerLeft:new n.Vector2(1,0),center:new n.Vector2(0,0),centerRight:new n.Vector2(-1,0),bottomLeft:new n.Vector2(1,1),bottomCenter:new n.Vector2(0,1),bottomRight:new n.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ClampToEdgeWrapping:()=>n,FloatType:()=>l,LinearFilter:()=>i,LinearMipMapLinearFilter:()=>a,NearestFilter:()=>o,R32Format:()=>u,RFormat:()=>d,RGBAFormat:()=>c,UnsignedByteType:()=>s});const n=1001,i=1006,o=1007,a=1008,s=1009,l=1010,c=1021,d=1022,u=1023},"./src/WebGL/constants/TextureOperations.ts":(t,e,r)=>{"use strict";var n;r.r(e),r.d(e,{TextureOperations:()=>n}),function(t){t[t.MultiplyOperation=0]="MultiplyOperation",t[t.MixOperation=1]="MixOperation",t[t.AddOperation=2]="AddOperation"}(n||(n={}))},"./src/WebGL/constants/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{BackSide:()=>i.BackSide,ClampToEdgeWrapping:()=>s.ClampToEdgeWrapping,Coloring:()=>n.Coloring,DoubleSide:()=>i.DoubleSide,FloatType:()=>s.FloatType,FrontSide:()=>i.FrontSide,LinearFilter:()=>s.LinearFilter,LinearMipMapLinearFilter:()=>s.LinearMipMapLinearFilter,NearestFilter:()=>s.NearestFilter,R32Format:()=>s.R32Format,RFormat:()=>s.RFormat,RGBAFormat:()=>s.RGBAFormat,Shading:()=>o.Shading,SpriteAlignment:()=>a.SpriteAlignment,TextureOperations:()=>l.TextureOperations,UnsignedByteType:()=>s.UnsignedByteType});var n=r("./src/WebGL/constants/Coloring.ts"),i=r("./src/WebGL/constants/Sides.ts"),o=r("./src/WebGL/constants/Shading.ts"),a=r("./src/WebGL/constants/SpriteAlignment.ts"),s=r("./src/WebGL/constants/TextureConstants.ts"),l=r("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{EventDispatcher:()=>n});class n{constructor(){this.listeners={}}dispatchEvent(t){var e=this.listeners[t.type];if(void 0!==e){t.target=this;for(var r=0,n=e.length;r<n;r++)e[r].call(this,t)}}removeEventListener(t,e){if(e){var r=this.listeners[t].indexOf(e);-1!==r&&this.listeners[t].splice(r,1)}else this.listeners[t]=[]}addEventListener(t,e){void 0===this.listeners[t]&&(this.listeners[t]=[]),-1===this.listeners[t].indexOf(e)&&this.listeners[t].push(e)}}},"./src/WebGL/core/Geometry.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Geometry:()=>l,GeometryGroup:()=>s,GeometryIDCount:()=>c});var n=r("./src/WebGL/materials/LineBasicMaterial.ts"),i=r("./src/WebGL/core/EventDispatcher.ts"),o=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts");class s{constructor(t=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=t}setColor(t){var e=this.vertexArray,r=this.colorArray;if(!e)throw new Error("vertex array not initialized");if(!r)throw new Error("color array not initialized");let n=a.CC.color(t);for(var i=0;i<e.length;i+=3)r[i]=n.r,r[i+1]=n.g,r[i+2]=n.b}setColors(t){var e=this.vertexArray,r=this.colorArray;if(!e)throw new Error("vertex array not initialized");if(!r)throw new Error("color array not initialized");if(e.length==r.length)for(var n=0;n<e.length;n+=3){var i=t(e[n],e[n+1],e[n+2]);i instanceof a.Color||(i=a.CC.color(i)),r[n]=i.r,r[n+1]=i.g,r[n+2]=i.b}else console.log("Cannot re-color geometry group due to mismatched lengths.")}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var t,e,r,n,i=new o.Vector3,a=0;a<this.vertices;++a)t=3*a,e=this.vertexArray[t],r=this.vertexArray[t+1],n=this.vertexArray[t+2],i.x+=e,i.y+=r,i.z+=n;return i.divideScalar(this.vertices),i}setNormals(){var t=this.faceArray,e=this.vertexArray,r=this.normalArray;if(this.vertices&&this.faceidx){if(!t)throw new Error("face array not initialized");if(!e)throw new Error("vertex array not initialized");if(!r)throw new Error("normal array not initialized");for(var n,i,a,s,l,c,d,u=0;u<t.length/3;++u)n=3*t[3*u],i=3*t[3*u+1],a=3*t[3*u+2],s=new o.Vector3(e[n],e[n+1],e[n+2]),l=new o.Vector3(e[i],e[i+1],e[i+2]),c=new o.Vector3(e[a],e[a+1],e[a+2]),s.subVectors(s,l),c.subVectors(c,l),c.cross(s),(d=c).normalize(),r[n]+=d.x,r[i]+=d.x,r[a]+=d.x,r[n+1]+=d.y,r[i+1]+=d.y,r[a+1]+=d.y,r[n+2]+=d.z,r[i+2]+=d.z,r[a+2]+=d.z}}setLineIndices(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var t=this.faceArray,e=this.lineArray=new Uint16Array(2*this.faceidx);if(this.lineidx=2*this.faceidx,!t)throw new Error("face array not initialized");for(var r=0;r<this.faceidx/3;++r){var n=3*r,i=2*n,o=t[n],a=t[n+1],s=t[n+2];e[i]=o,e[i+1]=a,e[i+2]=o,e[i+3]=s,e[i+4]=a,e[i+5]=s}}}vrml(t,e){var r,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w="";if(w+=t+"Shape {\n"+t+" appearance Appearance {\n"+t+"  material Material {\n"+t+"   diffuseColor "+(null===(r=null==e?void 0:e.color)||void 0===r?void 0:r.r)+" "+(null===(i=null==e?void 0:e.color)||void 0===i?void 0:i.g)+" "+(null===(o=null==e?void 0:e.color)||void 0===o?void 0:o.b)+"\n",e.wireframe&&this.colorArray){let e=this.colorArray;w+=t+"    emissiveColor "+e[0]+" "+e[1]+" "+e[2]+"\n"}(null==e?void 0:e.transparent)&&(w+=t+"   transparency "+(1-e.opacity)+"\n"),w+=t+"  }\n",w+=t+" }\n";var _=t;if(t+=" ",e instanceof n.LineBasicMaterial||e.wireframe){let r,n,i;w+=t+"geometry IndexedLineSet {\n"+t+" colorPerVertex TRUE\n"+t+" coord Coordinate {\n"+t+"  point [\n";for(let e=0;e<this.vertices;++e){let o=3*e;r=null===(a=this.vertexArray)||void 0===a?void 0:a[o],n=null===(s=this.vertexArray)||void 0===s?void 0:s[o+1],i=null===(l=this.vertexArray)||void 0===l?void 0:l[o+2],w+=t+"   "+r+" "+n+" "+i+",\n"}if(w+=t+"  ]\n",w+=t+" }\n",this.colorArray&&!e.wireframe){w+=t+" color Color {\n"+t+"  color [\n";for(let e=0;e<this.vertices;++e){let o=3*e;r=this.colorArray[o],n=this.colorArray[o+1],i=this.colorArray[o+2],w+=t+"   "+r+" "+n+" "+i+",\n"}w+=t+"  ]\n",w+=t+" }\n"}if(w+=t+" coordIndex [\n",e.wireframe&&this.faceArray)for(let e=0;e<this.faceidx;e+=3)r=null===(c=this.faceArray)||void 0===c?void 0:c[e],n=null===(d=this.faceArray)||void 0===d?void 0:d[e+1],i=null===(u=this.faceArray)||void 0===u?void 0:u[e+2],w+=t+"  "+r+", "+n+", "+i+", -1,\n";else for(let e=0;e<this.vertices-1;e+=2)w+=t+"  "+e+", "+(e+1)+", -1,\n";w+=t+" ]\n",w+=t+"}\n"}else{let e,r,n;w+=t+"geometry IndexedFaceSet {\n"+t+" colorPerVertex TRUE\n"+t+" normalPerVertex TRUE\n"+t+" solid FALSE\n",w+=t+" coord Coordinate {\n"+t+"  point [\n";for(let i=0;i<this.vertices;++i){let o=3*i;e=null===(h=this.vertexArray)||void 0===h?void 0:h[o],r=null===(f=this.vertexArray)||void 0===f?void 0:f[o+1],n=null===(p=this.vertexArray)||void 0===p?void 0:p[o+2],w+=t+"   "+e+" "+r+" "+n+",\n"}w+=t+"  ]\n",w+=t+" }\n",w+=t+" normal Normal {\n"+t+"  vector [\n";for(let i=0;i<this.vertices;++i){let o=3*i;e=null===(m=this.normalArray)||void 0===m?void 0:m[o],r=null===(g=this.normalArray)||void 0===g?void 0:g[o+1],n=null===(b=this.normalArray)||void 0===b?void 0:b[o+2],w+=t+"   "+e+" "+r+" "+n+",\n"}if(w+=t+"  ]\n",w+=t+" }\n",this.colorArray){w+=t+" color Color {\n"+t+"  color [\n";for(let i=0;i<this.vertices;++i){let o=3*i;e=this.colorArray[o],r=this.colorArray[o+1],n=this.colorArray[o+2],w+=t+"   "+e+" "+r+" "+n+",\n"}w+=t+"  ]\n",w+=t+" }\n"}w+=t+" coordIndex [\n";for(let i=0;i<this.faceidx;i+=3)e=null===(v=this.faceArray)||void 0===v?void 0:v[i],r=null===(y=this.faceArray)||void 0===y?void 0:y[i+1],n=null===(x=this.faceArray)||void 0===x?void 0:x[i+2],w+=t+"  "+e+", "+r+", "+n+", -1,\n";w+=t+" ]\n",w+=t+"}\n"}return w+(_+"}")}truncateArrayBuffers(t=!0,e=!1){var r=this.vertexArray,n=this.colorArray,i=this.normalArray,o=this.faceArray,a=this.lineArray,s=this.radiusArray;this.vertexArray=(null==r?void 0:r.subarray(0,3*this.vertices))||null,this.colorArray=(null==n?void 0:n.subarray(0,3*this.vertices))||null,t?(this.normalArray=(null==i?void 0:i.subarray(0,3*this.vertices))||null,this.faceArray=(null==o?void 0:o.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(null==a?void 0:a.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),s&&(this.radiusArray=s.subarray(0,this.vertices)),e&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class l extends i.EventDispatcher{constructor(t=!1,e=!1,r=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=c++,this.mesh=t,this.radii=e,this.offset=r}updateGeoGroup(t=0){var e,r=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!r||r.vertices+t>((null===(e=null==r?void 0:r.vertexArray)||void 0===e?void 0:e.length)||0)/3)&&(r=this.addGeoGroup()),r}vrml(t,e){for(var r="",n=this.geometryGroups.length,i=0;i<n;i++)r+=this.geometryGroups[i].vrml(t,e)+",\n";return r}addGeoGroup(){var t=new s(this.geometryGroups.length);return this.geometryGroups.push(t),this.groups=this.geometryGroups.length,t.vertexArray=new Float32Array(196605),t.colorArray=new Float32Array(196605),this.mesh&&(t.normalArray=new Float32Array(196605),t.faceArray=new Uint16Array(393210),t.lineArray=new Uint16Array(393210)),this.radii&&(t.radiusArray=new Float32Array(65535)),t.useOffset=this.offset,t}setUpNormals(...t){for(var e=0;e<this.groups;e++)this.geometryGroups[e].setNormals(...t)}setColors(...t){for(var e=this.geometryGroups.length,r=0;r<e;r++)this.geometryGroups[r].setColors(...t)}setColor(...t){for(var e=this.geometryGroups.length,r=0;r<e;r++)this.geometryGroups[r].setColor(...t)}setUpWireframe(...t){for(var e=0;e<this.groups;e++)this.geometryGroups[e].setLineIndices(...t)}initTypedArrays(){for(var t=0;t<this.groups;t++){var e=this.geometryGroups[t];!0!==e.__inittedArrays&&e.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var t=0,e=0;e<this.groups;e++)t+=this.geometryGroups[e].vertices;return t}}let c=0},"./src/WebGL/core/Object3D.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Light:()=>l,Object3D:()=>a,Object3DIDCount:()=>o,Scene:()=>s});var n=r("./src/WebGL/math/index.ts"),i=r("./src/colors.ts");let o=0;class a{constructor(){this.id=o++,this.name="",this.children=[],this.position=new n.Vector3,this.rotation=new n.Vector3,this.matrix=new n.Matrix4,this.matrixWorld=new n.Matrix4,this.quaternion=new n.Quaternion,this.eulerOrder="XYZ",this.up=new n.Vector3(0,1,0),this.scale=new n.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(t){this.matrix.lookAt(t,this.position,this.up),this.rotationAutoUpdate&&(!0===this.useQuaternion?console.error("Unimplemented math operation."):this.rotation instanceof n.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(t){if(t!==this){t.parent=this,this.children.push(t);for(var e=this;void 0!==e.parent;)e=e.parent;void 0!==e&&e instanceof s&&e.__addObject(t)}else console.error("Can't add $3Dmol.Object3D to itself")}remove(t){var e=this.children.indexOf(t);if(-1!==e){t.parent=void 0,this.children.splice(e,1);for(var r=this;void 0!==r.parent;)r=r.parent;void 0!==r&&r instanceof s&&r.__removeObject(t)}}vrml(t){t||(t=" ");var e=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),r=0,n=0,i=0;if(0!=e){let t=Math.sin(e/2);r=this.quaternion.x/t,n=this.quaternion.y/t,i=this.quaternion.z/t}var o=t+"Transform {\n"+t+" center "+this.position.x+" "+this.position.y+" "+this.position.z+"\n"+t+" rotation "+r+" "+n+" "+i+" "+e+"\n"+t+" children [\n";this.geometry&&(o+=this.geometry.vrml(t,this.material));for(var a=0;a<this.children.length;a++)o+=this.children[a].vrml(t+" ")+",\n";return(o+=" ]\n")+"}"}updateMatrix(){this.matrix.setPosition(this.position),!1===this.useQuaternion&&this.rotation instanceof n.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var e=0;e<this.children.length;e++)this.children[e].updateMatrixWorld(!0)}clone(t){void 0===t&&(t=new a),t.name=this.name,t.up.copy(this.up),t.position.copy(this.position),t.rotation instanceof n.Vector3&&this.rotation instanceof n.Vector3?t.rotation.copy(this.rotation):t.rotation=this.rotation,t.eulerOrder=this.eulerOrder,t.scale.copy(this.scale),t.rotationAutoUpdate=this.rotationAutoUpdate,t.matrix.copy(this.matrix),t.matrixWorld.copy(this.matrixWorld),t.quaternion.copy(this.quaternion),t.matrixAutoUpdate=this.matrixAutoUpdate,t.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,t.useQuaternion=this.useQuaternion,t.visible=this.visible;for(var e=0;e<this.children.length;e++){var r=this.children[e];t.add(r.clone())}return t}setVisible(t){this.visible=t;for(var e=0;e<this.children.length;e++)this.children[e].setVisible(t)}}class s extends a{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(t){if(t instanceof l)-1===this.__lights.indexOf(t)&&this.__lights.push(t),t.target&&void 0===t.target.parent&&this.add(t.target);else if(-1===this.__objects.indexOf(t)){this.__objects.push(t),this.__objectsAdded.push(t);var e=this.__objectsRemoved.indexOf(t);-1!==e&&this.__objectsRemoved.splice(e,1)}for(var r=0;r<t.children.length;r++)this.__addObject(t.children[r])}__removeObject(t){var e;t instanceof l?-1!==(e=this.__lights.indexOf(t))&&this.__lights.splice(e,1):-1!==(e=this.__objects.indexOf(t))&&(this.__objects.splice(e,1),this.__objectsRemoved.push(t),-1!==this.__objectsAdded.indexOf(t)&&this.__objectsAdded.splice(e,1));for(var r=0;r<t.children.length;r++)this.__removeObject(t.children[r])}}class l extends a{constructor(t,e=1){super(),this.position=new n.Vector3(0,1,0),this.target=new a,this.castShadow=!1,this.onlyShadow=!1,this.color=new i.Color(t),this.intensity=e}}},"./src/WebGL/core/Projector.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Projector:()=>i});const n=new(r("./src/WebGL/math/index.ts").Matrix4);class i{static unprojectVector(t,e){return e.projectionMatrixInverse.getInverse(e.projectionMatrix),n.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse),t.applyProjection(n)}static projectVector(t,e){return e.matrixWorldInverse.getInverse(e.matrixWorld),n.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),t.applyProjection(n)}projectVector(t,e){return i.projectVector(t,e)}unprojectVector(t,e){return i.unprojectVector(t,e)}}},"./src/WebGL/core/Raycaster.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Raycaster:()=>s,intersectObject:()=>b});var n=r("./src/WebGL/math/index.ts"),i=r("./src/WebGL/shapes/index.ts");const o=(t,e)=>t.distance-e.distance,a=new n.Matrix4;class s{constructor(t,e,r,i){this.precision=1e-4,this.linePrecision=.2,this.ray=new n.Ray(t,e),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=i||0,this.far=r||1/0}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.ortho?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,t.z),e.projectionMatrixInverse.getInverse(e.projectionMatrix),a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse),this.ray.direction.applyProjection(a),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(t,e){for(var r=[],n=0,i=e.length;n<i;n++)b(t,e[n],this,r);return r.sort(o),r}}const l=t=>Math.min(Math.max(t,-1),1);var c=new i.Sphere,d=new i.Cylinder,u=new i.Triangle,h=new n.Vector3,f=new n.Vector3,p=new n.Vector3,m=new n.Vector3,g=new n.Vector3;function b(t,e,r,n){if(g.getPositionFromMatrix(t.matrixWorld),void 0===e.intersectionShape)return n;var o,a,s,b,v,y,x,w,_,k,A,T,M,S,E=e.intersectionShape,C=r.linePrecision,z=(C*=t.matrixWorld.getMaxScaleOnAxis())*C;if(void 0!==e.boundingSphere&&e.boundingSphere instanceof i.Sphere&&(c.copy(e.boundingSphere),c.applyMatrix4(t.matrixWorld),!r.ray.isIntersectionSphere(c)))return n;for(o=0,a=E.triangle.length;o<a;o++)if(E.triangle[o]instanceof i.Triangle){if(u.copy(E.triangle[o]),u.applyMatrix4(t.matrixWorld),s=u.getNormal(),(b=r.ray.direction.dot(s))>=0)continue;if(h.subVectors(u.a,r.ray.origin),(x=s.dot(h)/b)<0)continue;f.copy(r.ray.direction).multiplyScalar(x).add(r.ray.origin),f.sub(u.a),p.copy(u.b).sub(u.a),m.copy(u.c).sub(u.a);var L=p.dot(m),O=p.lengthSq(),D=m.lengthSq();if((T=(O*f.dot(m)-L*f.dot(p))/(O*D-L*L))<0||T>1)continue;if((A=(f.dot(p)-T*L)/O)<0||A>1||A+T>1)continue;n.push({clickable:e,distance:x})}for(o=0,a=E.cylinder.length;o<a;o++)if(E.cylinder[o]instanceof i.Cylinder){if(d.copy(E.cylinder[o]),d.applyMatrix4(t.matrixWorld),h.subVectors(d.c1,r.ray.origin),v=h.dot(d.direction),y=h.dot(r.ray.direction),0==(_=1-(b=l(r.ray.direction.dot(d.direction)))*b))continue;M=(b*y-v)/_,S=(y-b*v)/_,f.copy(d.direction).multiplyScalar(M).add(d.c1),p.copy(r.ray.direction).multiplyScalar(S).add(r.ray.origin),w=m.subVectors(f,p).lengthSq();var I=d.radius*d.radius;if(w<=I){if((A=b*(T=x=(k=(b*v-y)*(b*v-y)-_*(h.lengthSq()-v*v-I))<=0?Math.sqrt(w):(y-b*v-Math.sqrt(k))/_)-v)<0||A*A>d.lengthSq()||T<0)continue;n.push({clickable:e,distance:x})}}for(o=0,a=E.line.length;o<a;o+=2){f.copy(E.line[o]),f.applyMatrix4(t.matrixWorld),p.copy(E.line[o+1]),p.applyMatrix4(t.matrixWorld),m.subVectors(p,f);var F=m.lengthSq();m.normalize(),h.subVectors(f,r.ray.origin);var R=h.dot(m);y=h.dot(r.ray.direction),0!=(_=1-(b=l(r.ray.direction.dot(m)))*b)&&(M=(b*y-R)/_,S=(y-b*R)/_,f.add(m.multiplyScalar(M)),p.copy(r.ray.direction).multiplyScalar(S).add(r.ray.origin),(w=m.subVectors(p,f).lengthSq())<z&&M*M<F&&n.push({clickable:e,distance:S}))}for(o=0,a=E.sphere.length;o<a;o++)if(E.sphere[o]instanceof i.Sphere&&(c.copy(E.sphere[o]),c.applyMatrix4(t.matrixWorld),r.ray.isIntersectionSphere(c))){f.subVectors(c.center,r.ray.origin);var P=f.dot(r.ray.direction);if(k=P*P-(f.lengthSq()-c.radius*c.radius),P<0)return n;x=k<=0?P:P-Math.sqrt(k),n.push({clickable:e,distance:x})}return n}},"./src/WebGL/core/Texture.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Texture:()=>s,TextureIdCount:()=>l});var n=r("./src/WebGL/constants/TextureConstants.ts"),i=r("./src/WebGL/math/index.ts"),o=r("./src/WebGL/core/EventDispatcher.ts"),a=r("./src/WebGL/core/UVMapping.ts");class s extends o.EventDispatcher{constructor(t,e){super(),this.id=l++,this.name="",this.image=t,this.mapping=new a.UVMapping,this.wrapS=n.ClampToEdgeWrapping,this.wrapT=n.ClampToEdgeWrapping,this.anisotropy=1,e?(this.format=n.RFormat,this.type=n.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=n.NearestFilter,this.minFilter=n.NearestFilter):(this.format=n.RGBAFormat,this.type=n.UnsignedByteType,this.offset=new i.Vector2(0,0),this.repeat=new i.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=n.LinearFilter,this.minFilter=n.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(t=new s){return t.image=this.image,t.mapping=this.mapping,t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.format=this.format,t.type=this.type,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.premultiplyAlpha=this.premultiplyAlpha,t.flipY=this.flipY,t.unpackAlignment=this.unpackAlignment,t}dispose(){this.dispatchEvent({type:"dispose"})}}let l=0},"./src/WebGL/core/UVMapping.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{UVMapping:()=>n});class n{}},"./src/WebGL/core/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{EventDispatcher:()=>n.EventDispatcher,Geometry:()=>i.Geometry,GeometryGroup:()=>i.GeometryGroup,GeometryIDCount:()=>i.GeometryIDCount,Light:()=>o.Light,Object3D:()=>o.Object3D,Object3DIDCount:()=>o.Object3DIDCount,Projector:()=>a.Projector,Raycaster:()=>s.Raycaster,Scene:()=>o.Scene,Texture:()=>l.Texture,TextureIdCount:()=>l.TextureIdCount,UVMapping:()=>c.UVMapping,intersectObject:()=>s.intersectObject});var n=r("./src/WebGL/core/EventDispatcher.ts"),i=r("./src/WebGL/core/Geometry.ts"),o=r("./src/WebGL/core/Object3D.ts"),a=r("./src/WebGL/core/Projector.ts"),s=r("./src/WebGL/core/Raycaster.ts"),l=r("./src/WebGL/core/Texture.ts"),c=r("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{BackSide:()=>n.BackSide,Camera:()=>d.Camera,ClampToEdgeWrapping:()=>n.ClampToEdgeWrapping,Coloring:()=>n.Coloring,Cylinder:()=>c.Cylinder,DoubleSide:()=>n.DoubleSide,EventDispatcher:()=>i.EventDispatcher,FloatType:()=>n.FloatType,Fog:()=>u.Fog,FrontSide:()=>n.FrontSide,Geometry:()=>i.Geometry,GeometryGroup:()=>i.GeometryGroup,GeometryIDCount:()=>i.GeometryIDCount,ImposterMaterial:()=>o.ImposterMaterial,InstancedMaterial:()=>o.InstancedMaterial,Light:()=>i.Light,Line:()=>s.Line,LineBasicMaterial:()=>o.LineBasicMaterial,LineStyle:()=>s.LineStyle,LinearFilter:()=>n.LinearFilter,LinearMipMapLinearFilter:()=>n.LinearMipMapLinearFilter,Material:()=>o.Material,MaterialIdCount:()=>o.MaterialIdCount,Matrix3:()=>a.Matrix3,Matrix4:()=>a.Matrix4,Mesh:()=>s.Mesh,MeshDoubleLambertMaterial:()=>o.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>o.MeshLambertMaterial,MeshOutlineMaterial:()=>o.MeshOutlineMaterial,NearestFilter:()=>n.NearestFilter,Object3D:()=>i.Object3D,Object3DIDCount:()=>i.Object3DIDCount,Projector:()=>i.Projector,Quaternion:()=>a.Quaternion,R32Format:()=>n.R32Format,RFormat:()=>n.RFormat,RGBAFormat:()=>n.RGBAFormat,Ray:()=>a.Ray,Raycaster:()=>i.Raycaster,Renderer:()=>h.Renderer,Scene:()=>i.Scene,ShaderLib:()=>l.ShaderLib,ShaderUtils:()=>l.ShaderUtils,Shading:()=>n.Shading,Sphere:()=>c.Sphere,SphereImposterMaterial:()=>o.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>o.SphereImposterOutlineMaterial,Sprite:()=>s.Sprite,SpriteAlignment:()=>n.SpriteAlignment,SpriteMaterial:()=>o.SpriteMaterial,SpritePlugin:()=>f.SpritePlugin,StickImposterMaterial:()=>o.StickImposterMaterial,StickImposterOutlineMaterial:()=>o.StickImposterOutlineMaterial,Texture:()=>i.Texture,TextureIdCount:()=>i.TextureIdCount,TextureOperations:()=>n.TextureOperations,Triangle:()=>c.Triangle,UVMapping:()=>i.UVMapping,UnsignedByteType:()=>n.UnsignedByteType,Vector2:()=>a.Vector2,Vector3:()=>a.Vector3,VolumetricMaterial:()=>o.VolumetricMaterial,basic:()=>l.basic,clamp:()=>a.clamp,clone:()=>l.clone,conversionMatrix3:()=>a.conversionMatrix3,degToRad:()=>a.degToRad,instanced:()=>l.instanced,intersectObject:()=>i.intersectObject,lambert:()=>l.lambert,lambertdouble:()=>l.lambertdouble,outline:()=>l.outline,screen:()=>l.screen,screenaa:()=>l.screenaa,sphereimposter:()=>l.sphereimposter,sphereimposteroutline:()=>l.sphereimposteroutline,sprite:()=>l.sprite,stickimposter:()=>l.stickimposter,stickimposteroutline:()=>l.stickimposteroutline,volumetric:()=>l.volumetric});var n=r("./src/WebGL/constants/index.ts"),i=r("./src/WebGL/core/index.ts"),o=r("./src/WebGL/materials/index.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/objects/index.ts"),l=r("./src/WebGL/shaders/index.ts"),c=r("./src/WebGL/shapes/index.ts"),d=r("./src/WebGL/Camera.ts"),u=r("./src/WebGL/Fog.ts"),h=r("./src/WebGL/Renderer.ts"),f=r("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ImposterMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),i=r("./src/WebGL/constants/Shading.ts"),o=r("./src/colors.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/materials/Material.ts");class l extends s.Material{constructor(t){super(),this.color=new o.Color(16777215),this.ambient=new o.Color(1048575),this.emissive=new o.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new a.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=i.Shading.SmoothShading,this.shaderID=null,this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(t)}clone(t=new l){return super.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.shaderID=this.shaderID,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t}}},"./src/WebGL/materials/InstancedMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{InstancedMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),i=r("./src/WebGL/constants/Shading.ts"),o=r("./src/colors.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/materials/Material.ts");class l extends s.Material{constructor(t){super(),this.color=new o.Color(16777215),this.ambient=new o.Color(1048575),this.emissive=new o.Color(0),this.wrapAround=!1,this.wrapRGB=new a.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=i.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(t)}clone(t=new l){return super.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.shaderID=this.shaderID,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t.sphere=this.sphere,t}}},"./src/WebGL/materials/LineBasicMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{LineBasicMaterial:()=>o});var n=r("./src/colors.ts"),i=r("./src/WebGL/materials/Material.ts");class o extends i.Material{constructor(t){super(),this.color=new n.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(t)}clone(t=new o){return super.clone.call(this,t),t.color.copy(this.color),t}}},"./src/WebGL/materials/Material.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Material:()=>s,MaterialIdCount:()=>l});var n=r("./src/WebGL/constants/Sides.ts"),i=r("./src/WebGL/core/index.ts"),o=r("./src/WebGL/math/index.ts"),a=r("./src/colors.ts");class s extends i.EventDispatcher{constructor(){super(...arguments),this.id=l++,this.name="",this.side=n.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(t={}){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r){if(e in this){var n=this[e];n instanceof a.Color&&r instanceof a.Color?n.copy(r):n instanceof a.Color?n.set(r):n instanceof o.Vector3&&r instanceof o.Vector3?n.copy(r):this[e]=r}}else console.warn("$3Dmol.Material: '"+e+"' parameter is undefined.")}}clone(t=new s){return t.name=this.name,t.side=this.side,t.opacity=this.opacity,t.transparent=this.transparent,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.polygonOffset=this.polygonOffset,t.polygonOffsetFactor=this.polygonOffsetFactor,t.polygonOffsetUnits=this.polygonOffsetUnits,t.alphaTest=this.alphaTest,t.overdraw=this.overdraw,t.visible=this.visible,t}makeShaded(t){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:t},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let l=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{MeshDoubleLambertMaterial:()=>o});var n=r("./src/WebGL/constants/Sides.ts"),i=r("./src/WebGL/materials/MeshLambertMaterial.ts");class o extends i.MeshLambertMaterial{constructor(t){super(t),this.shaderID="lambertdouble",this.side=n.DoubleSide,this.outline=!1}clone(t=new o){return super.clone.call(this,t),t}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{MeshLambertMaterial:()=>l});var n=r("./src/WebGL/constants/Coloring.ts"),i=r("./src/WebGL/constants/Shading.ts"),o=r("./src/WebGL/materials/Material.ts"),a=r("./src/colors.ts"),s=r("./src/WebGL/math/index.ts");class l extends o.Material{constructor(t){super(),this.color=new a.Color(16777215),this.ambient=new a.Color(1048575),this.emissive=new a.Color(0),this.wrapAround=!1,this.wrapRGB=new s.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=i.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=n.Coloring.NoColors,this.skinning=!1,this.setValues(t)}clone(t=new l){return super.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.shaderID=this.shaderID,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{MeshOutlineMaterial:()=>o});var n=r("./src/colors.ts"),i=r("./src/WebGL/materials/Material.ts");class o extends i.Material{constructor(t){super(),t=t||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=n.CC.color(t.color||new n.Color(0,0,0)),this.outlineWidth=t.width||.1,this.outlinePushback=t.pushback||1,this.outlineMaxPixels=t.maxpixels||0}clone(t=new o){return super.clone.call(this,t),t.fog=this.fog,t.shaderID=this.shaderID,t.wireframe=this.wireframe,t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.outlinePushback=this.outlinePushback,t.outlineMaxPixels=this.outlineMaxPixels,t}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{SphereImposterMaterial:()=>i});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class i extends n.ImposterMaterial{constructor(t){super(t),this.shaderID="sphereimposter",this.setValues(t)}clone(t=new i){return super.clone.call(this,t),t}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{SphereImposterOutlineMaterial:()=>o});var n=r("./src/colors.ts"),i=r("./src/WebGL/materials/ImposterMaterial.ts");class o extends i.ImposterMaterial{constructor(t){super(t),t=t||{},this.shaderID="sphereimposteroutline",this.outlineColor=n.CC.color(t.color||new n.Color(0,0,0)),this.outlineWidth=t.width||.1,this.outlinePushback=t.pushback||1,this.outlineMaxPixels=t.maxpixels||0,this.setValues(t)}clone(t=new o){return super.clone.call(this,t),t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.outlinePushback=this.outlinePushback,t.outlineMaxPixels=this.outlineMaxPixels,t}}},"./src/WebGL/materials/SpriteMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{SpriteMaterial:()=>l});var n=r("./src/WebGL/constants/SpriteAlignment.ts"),i=r("./src/WebGL/core/Texture.ts"),o=r("./src/colors.ts"),a=r("./src/WebGL/math/index.ts"),s=r("./src/WebGL/materials/Material.ts");class l extends s.Material{constructor(t){super(),this.color=new o.Color(16777215),this.map=new i.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new a.Vector2(0,0),this.uvScale=new a.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=n.SpriteAlignment.center.clone(),this.setValues(t),void 0===(t=t||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===t.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===t.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(t=new l){return super.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.useScreenCoordinates=this.useScreenCoordinates,t.screenOffset=this.screenOffset,t.sizeAttenuation=this.sizeAttenuation,t.scaleByViewport=this.scaleByViewPort,t.alignment.copy(this.alignment),t.uvOffset.copy(this.uvOffset),t}}},"./src/WebGL/materials/StickImposterMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{StickImposterMaterial:()=>i});var n=r("./src/WebGL/materials/ImposterMaterial.ts");class i extends n.ImposterMaterial{constructor(t){super(t),this.shaderID="stickimposter",this.setValues(t)}clone(t=new i){return super.clone.call(this,t),t}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{StickImposterOutlineMaterial:()=>o});var n=r("./src/colors.ts"),i=r("./src/WebGL/materials/ImposterMaterial.ts");class o extends i.ImposterMaterial{constructor(t={}){super(t),this.shaderID="stickimposteroutline",this.outlineColor=new n.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,t.color&&(this.outlineColor=n.CC.color(t.color)),t.width&&(this.outlineWidth=t.width),t.pushback&&(this.outlinePushback=t.pushback),t.maxpixels&&(this.outlineMaxPixels=t.maxpixels),this.setValues(t)}clone(t=new o){return super.clone.call(this,t),t.outlineColor=this.outlineColor,t.outlineWidth=this.outlineWidth,t.outlinePushback=this.outlinePushback,t.outlineMaxPixels=this.outlineMaxPixels,t}}},"./src/WebGL/materials/VolumetricMaterial.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{VolumetricMaterial:()=>a});var n=r("./src/WebGL/constants/Sides.ts"),i=r("./src/colors.ts"),o=r("./src/WebGL/materials/Material.ts");class a extends o.Material{constructor(t){super(),this.transparent=!1,this.volumetric=!0,this.color=new i.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=n.FrontSide,this.setValues(t)}clone(t=new a){return super.clone.call(this,t),t.transparent=this.transparent,t.volumetric=this.volumetric,t.color=this.color,t.transferfn=this.transferfn,t.map=this.map,t.extent=this.extent,t.maxdepth=this.maxdepth,t.unit=this.unit,t.texmatrix=this.texmatrix,t.transfermin=this.transfermin,t.transfermax=this.transfermax,t.subsamples=this.subsamples,t.shaderID=this.shaderID,t.side=this.side,t}}},"./src/WebGL/materials/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ImposterMaterial:()=>n.ImposterMaterial,InstancedMaterial:()=>i.InstancedMaterial,LineBasicMaterial:()=>o.LineBasicMaterial,Material:()=>a.Material,MaterialIdCount:()=>a.MaterialIdCount,MeshDoubleLambertMaterial:()=>s.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>l.MeshLambertMaterial,MeshOutlineMaterial:()=>c.MeshOutlineMaterial,SphereImposterMaterial:()=>d.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>u.SphereImposterOutlineMaterial,SpriteMaterial:()=>h.SpriteMaterial,StickImposterMaterial:()=>f.StickImposterMaterial,StickImposterOutlineMaterial:()=>p.StickImposterOutlineMaterial,VolumetricMaterial:()=>m.VolumetricMaterial});var n=r("./src/WebGL/materials/ImposterMaterial.ts"),i=r("./src/WebGL/materials/InstancedMaterial.ts"),o=r("./src/WebGL/materials/LineBasicMaterial.ts"),a=r("./src/WebGL/materials/Material.ts"),s=r("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),l=r("./src/WebGL/materials/MeshLambertMaterial.ts"),c=r("./src/WebGL/materials/MeshOutlineMaterial.ts"),d=r("./src/WebGL/materials/SphereImposterMaterial.ts"),u=r("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),h=r("./src/WebGL/materials/SpriteMaterial.ts"),f=r("./src/WebGL/materials/StickImposterMaterial.ts"),p=r("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),m=r("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Quaternion:()=>n});class n{constructor(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1}set(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let t=this.length();return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x*=t,this.y*=t,this.z*=t,this.w*=t),this}multiply(t){return this.multiplyQuaternions(this,t)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}multiplyQuaternions(t,e){const r=t.x,n=t.y,i=t.z,o=t.w,a=e.x,s=e.y,l=e.z,c=e.w;return this.x=r*c+o*a+n*l-i*s,this.y=n*c+o*s+i*a-r*l,this.z=i*c+o*l+r*s-n*a,this.w=o*c-r*a-n*s-i*l,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}clone(){return new n(this.x,this.y,this.z,this.w)}setFromEuler(t){const e=Math.cos(t.x/2),r=Math.cos(t.y/2),n=Math.cos(t.z/2),i=Math.sin(t.x/2),o=Math.sin(t.y/2),a=Math.sin(t.z/2);return this.x=i*r*n+e*o*a,this.y=e*o*n-i*r*a,this.z=e*r*a+i*o*n,this.w=e*r*n-i*o*a,this}}},"./src/WebGL/math/Vector2.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Vector2:()=>n});class n{constructor(t,e){this.x=t||0,this.y=e||0}set(t,e){return this.x=t,this.y=e,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}copy(t){return this.x=t.x,this.y=t.y,this}clone(){return new n(this.x,this.y)}}},"./src/WebGL/math/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Matrix3:()=>l.Matrix3,Matrix4:()=>l.Matrix4,Quaternion:()=>n.Quaternion,Ray:()=>l.Ray,Vector2:()=>i.Vector2,Vector3:()=>l.Vector3,clamp:()=>o.clamp,conversionMatrix3:()=>a.conversionMatrix3,degToRad:()=>s.degToRad});var n=r("./src/WebGL/math/Quaternion.ts"),i=r("./src/WebGL/math/Vector2.ts"),o=r("./src/WebGL/math/utils/clamp.ts"),a=r("./src/WebGL/math/utils/conversionMatrix3.ts"),s=r("./src/WebGL/math/utils/degToRad.ts"),l=r("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Matrix3:()=>h,Matrix4:()=>d,Ray:()=>f,Vector3:()=>u});var n,i,o,a,s,l=r("./src/WebGL/math/utils/degToRad.ts"),c=r("./src/WebGL/math/utils/clamp.ts");class d{constructor(t=1,e=0,r=0,n=0,i=0,o=1,a=0,s=0,l=0,c=0,d=1,u=0,h=0,f=0,p=0,m=1){void 0!==t&&"number"!=typeof t?this.elements=new Float32Array(t):(this.elements=new Float32Array(16),this.elements[0]=t,this.elements[4]=e,this.elements[8]=r,this.elements[12]=n,this.elements[1]=i,this.elements[5]=o,this.elements[9]=a,this.elements[13]=s,this.elements[2]=l,this.elements[6]=c,this.elements[10]=d,this.elements[14]=u,this.elements[3]=h,this.elements[7]=f,this.elements[11]=p,this.elements[15]=m)}makeScale(t,e,r){throw new Error("Method not implemented.")}set(t,e,r,n,i,o,a,s,l,c,d,u,h,f,p,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=d,g[14]=u,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),this}matrix3FromTopLeft(){const t=this.elements;return new h(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10])}setRotationFromEuler(t,e){const r=this.elements,{x:n,y:i,z:o}=t,a=Math.cos(n),s=Math.sin(n),l=Math.cos(i),c=Math.sin(i),d=Math.cos(o),u=Math.sin(o);if(void 0===e||"XYZ"===e){const t=a*d,e=a*u,n=s*d,i=s*u;r[0]=l*d,r[4]=-l*u,r[8]=c,r[1]=e+n*c,r[5]=t-i*c,r[9]=-s*l,r[2]=i-t*c,r[6]=n+e*c,r[10]=a*l}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${e}`);return this}setRotationFromQuaternion(t){const e=this.elements,{x:r,y:n,z:i,w:o}=t,a=r+r,s=n+n,l=i+i,c=r*a,d=r*s,u=r*l,h=n*s,f=n*l,p=i*l,m=o*a,g=o*s,b=o*l;return e[0]=1-(h+p),e[4]=d-b,e[8]=u+g,e[1]=d+b,e[5]=1-(c+p),e[9]=f-m,e[2]=u-g,e[6]=f+m,e[10]=1-(c+h),this}multiplyMatrices(t,e){const r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],l=r[12],c=r[1],d=r[5],u=r[9],h=r[13],f=r[2],p=r[6],m=r[10],g=r[14],b=r[3],v=r[7],y=r[11],x=r[15],w=n[0],_=n[4],k=n[8],A=n[12],T=n[1],M=n[5],S=n[9],E=n[13],C=n[2],z=n[6],L=n[10],O=n[14],D=n[3],I=n[7],F=n[11],R=n[15];return i[0]=o*w+a*T+s*C+l*D,i[4]=o*_+a*M+s*z+l*I,i[8]=o*k+a*S+s*L+l*F,i[12]=o*A+a*E+s*O+l*R,i[1]=c*w+d*T+u*C+h*D,i[5]=c*_+d*M+u*z+h*I,i[9]=c*k+d*S+u*L+h*F,i[13]=c*A+d*E+u*O+h*R,i[2]=f*w+p*T+m*C+g*D,i[6]=f*_+p*M+m*z+g*I,i[10]=f*k+p*S+m*L+g*F,i[14]=f*A+p*E+m*O+g*R,i[3]=b*w+v*T+y*C+x*D,i[7]=b*_+v*M+y*z+x*I,i[11]=b*k+v*S+y*L+x*F,i[15]=b*A+v*E+y*O+x*R,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}makeTranslation(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this}snap(t){t||(t=4);const e=Math.pow(10,4),r=this.elements;for(let t=0;t<16;t++){const n=Math.round(r[t]);n===Math.round(r[t]*e)/e&&(r[t]=n)}return this}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t){const e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this}translate(t){const e=this.elements;return e[12]+=t.x,e[13]+=t.y,e[14]+=t.z,this}getInverse(t,e){const r=this.elements,n=t.elements,i=n[0],o=n[4],a=n[8],s=n[12],l=n[1],c=n[5],d=n[9],u=n[13],h=n[2],f=n[6],p=n[10],m=n[14],g=n[3],b=n[7],v=n[11],y=n[15];r[0]=d*m*b-u*p*b+u*f*v-c*m*v-d*f*y+c*p*y,r[4]=s*p*b-a*m*b-s*f*v+o*m*v+a*f*y-o*p*y,r[8]=a*u*b-s*d*b+s*c*v-o*u*v-a*c*y+o*d*y,r[12]=s*d*f-a*u*f-s*c*p+o*u*p+a*c*m-o*d*m,r[1]=u*p*g-d*m*g-u*h*v+l*m*v+d*h*y-l*p*y,r[5]=a*m*g-s*p*g+s*h*v-i*m*v-a*h*y+i*p*y,r[9]=s*d*g-a*u*g-s*l*v+i*u*v+a*l*y-i*d*y,r[13]=a*u*h-s*d*h+s*l*p-i*u*p-a*l*m+i*d*m,r[2]=c*m*g-u*f*g+u*h*b-l*m*b-c*h*y+l*f*y,r[6]=s*f*g-o*m*g-s*h*b+i*m*b+o*h*y-i*f*y,r[10]=o*u*g-s*c*g+s*l*b-i*u*b-o*l*y+i*c*y,r[14]=s*c*h-o*u*h-s*l*f+i*u*f+o*l*m-i*c*m,r[3]=d*f*g-c*p*g-d*h*b+l*p*b+c*h*v-l*f*v,r[7]=o*p*g-a*f*g+a*h*b-i*p*b-o*h*v+i*f*v,r[11]=a*c*g-o*d*g-a*l*b+i*d*b+o*l*v-i*c*v,r[15]=o*d*h-a*c*h+a*l*f-i*d*f-o*l*p+i*c*p;const x=i*r[0]+l*r[4]+h*r[8]+g*r[12];if(0===x){const t="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(t);return console.warn(t),this.identity(),this}return this.multiplyScalar(1/x),this}isReflected(){const t=this.elements,e=t[0],r=t[4],n=t[8],i=t[1],o=t[5],a=t[9],s=t[2],l=t[6],c=t[10];return e*o*c+i*l*n+s*r*a-s*o*n-i*r*c-e*l*a<0}scale(t){const e=this.elements,{x:r}=t,{y:n}=t,{z:i}=t;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(r,n)))}makeFrustum(t,e,r,n,i,o){const a=this.elements,s=2*i/(e-t),l=2*i/(n-r),c=(e+t)/(e-t),d=(n+r)/(n-r),u=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makePerspective(t,e,r,n){const i=r*Math.tan((0,l.degToRad)(.5*t)),o=-i,a=o*e,s=i*e;return this.makeFrustum(a,s,o,i,r,n)}makeOrthographic(t,e,r,n,i,o){const a=this.elements,s=1/(e-t),l=1/(r-n),c=1/(o-i),d=(e+t)*s,u=(r+n)*l,h=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}isEqual(t){const e=t.elements,r=this.elements;return r[0]===e[0]&&r[4]===e[4]&&r[8]===e[8]&&r[12]===e[12]&&r[1]===e[1]&&r[5]===e[5]&&r[9]===e[9]&&r[13]===e[13]&&r[2]===e[2]&&r[6]===e[6]&&r[10]===e[10]&&r[14]===e[14]&&r[3]===e[3]&&r[7]===e[7]&&r[11]===e[11]&&r[15]===e[15]}clone(){const t=this.elements;return new d(t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15])}isIdentity(){const t=this.elements;return 1===t[0]&&0===t[4]&&0===t[8]&&0===t[12]&&0===t[1]&&1===t[5]&&0===t[9]&&0===t[13]&&0===t[2]&&0===t[6]&&1===t[10]&&0===t[14]&&0===t[3]&&0===t[7]&&0===t[11]&&1===t[15]}isNearlyIdentity(t){return this.clone().snap(t).isIdentity()}getScale(t){const e=this.elements;return t=t||new u,o.set(e[0],e[1],e[2]),a.set(e[4],e[5],e[6]),s.set(e[8],e[9],e[10]),t.x=o.length(),t.y=a.length(),t.z=s.length(),t}lookAt(t,e,r){const n=this.elements;return s.subVectors(t,e).normalize(),0===s.length()&&(s.z=1),o.crossVectors(r,s).normalize(),0===o.length()&&(s.x+=1e-4,o.crossVectors(r,s).normalize()),a.crossVectors(s,o),n[0]=o.x,n[4]=a.x,n[8]=s.x,n[1]=o.y,n[5]=a.y,n[9]=s.y,n[2]=o.z,n[6]=a.z,n[10]=s.z,this}compose(t,e,r){const o=this.elements;return n.identity(),n.setRotationFromQuaternion(e),i.makeScale(r.x,r.y,r.z),this.multiplyMatrices(n,i),o[12]=t.x,o[13]=t.y,o[14]=t.z,this}}n=new d,i=new d;class u{constructor(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0,this.atomid=void 0}set(t,e,r){return this.x=t,this.y=e,this.z=r,this}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}divideScalar(t){return 0!==t?(this.x/=t,this.y/=t,this.z/=t):(this.x=0,this.y=0,this.z=0),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n}applyMatrix3(t){const{x:e}=this,{y:r}=this,{z:n}=this,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this}applyMatrix4(t){const{x:e}=this,{y:r}=this,{z:n}=this,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n+i[12],this.y=i[1]*e+i[5]*r+i[9]*n+i[13],this.z=i[2]*e+i[6]*r+i[10]*n+i[14],this}applyProjection(t){const{x:e}=this,{y:r}=this,{z:n}=this,i=t.elements,o=i[3]*e+i[7]*r+i[11]*n+i[15];return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])/o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])/o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])/o,this}applyQuaternion(t){const{x:e}=this,{y:r}=this,{z:n}=this,i=t.x,o=t.y,a=t.z,s=t.w,l={};l.x=2*(r*a-n*o),l.y=2*(n*i-e*a),l.z=2*(e*o-r*i);const c={};return c.x=l.y*a-l.z*o,c.y=l.z*i-l.x*a,c.z=l.x*o-l.y*i,this.x=e+s*l.x+c.x,this.y=r+s*l.y+c.y,this.z=n+s*l.z+c.z,this}negate(){return this.multiplyScalar(-1)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(t){const{x:e}=this,{y:r}=this,{z:n}=this;return this.x=r*t.z-n*t.y,this.y=n*t.x-e*t.z,this.z=e*t.y-r*t.x,this}crossVectors(t,e){return this.x=t.y*e.z-t.z*e.y,this.y=t.z*e.x-t.x*e.z,this.z=t.x*e.y-t.y*e.x,this}equals(t){return this.x==t.x&&this.y==t.y&&this.z==t.z}getPositionFromMatrix(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this}setEulerFromRotationMatrix(t,e){const r=t.elements,n=r[0],i=r[4],o=r[8],a=r[5],s=r[9],l=r[6],d=r[10];return void 0===e||"XYZ"===e?(this.y=Math.asin((0,c.clamp)(o,-1,1)),Math.abs(o)<.99999?(this.x=Math.atan2(-s,d),this.z=Math.atan2(-i,n)):(this.x=Math.atan2(l,a),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${e}`),this}rotateAboutVector(t,e){t.normalize();const r=Math.cos(e),n=Math.sin(e),i=this.clone().multiplyScalar(r),o=t.clone().cross(this).multiplyScalar(n),a=t.clone().multiplyScalar(t.clone().dot(this)).multiplyScalar(1-r),s=i.add(o).add(a);return this.x=s.x,this.y=s.y,this.z=s.z,this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}transformDirection(t){const{x:e}=this,{y:r}=this,{z:n}=this,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()}clone(){return new u(this.x,this.y,this.z)}unproject(t){const e=n;return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}o=new u,a=new u,s=new u;class h{constructor(t=1,e=0,r=0,n=0,i=1,o=0,a=0,s=0,l=1){this.elements=new Float32Array(9),this.set(t,e,r,n,i,o,a,s,l)}set(t,e,r,n,i,o,a,s,l){const c=this.elements;return c[0]=t,c[3]=e,c[6]=r,c[1]=n,c[4]=i,c[7]=o,c[2]=a,c[5]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=t.elements;this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}getInverse3(t){const e=t.elements,r=this.elements;r[0]=e[4]*e[8]-e[5]*e[7],r[3]=e[6]*e[5]-e[3]*e[8],r[6]=e[3]*e[7]-e[6]*e[4],r[1]=e[7]*e[2]-e[1]*e[8],r[4]=e[0]*e[8]-e[6]*e[2],r[7]=e[1]*e[6]-e[0]*e[7],r[2]=e[1]*e[5]-e[2]*e[4],r[5]=e[2]*e[3]-e[0]*e[5],r[8]=e[0]*e[4]-e[1]*e[3];const n=e[0]*r[0]+e[3]*r[1]+e[6]*r[2];return this.multiplyScalar(1/n),this}getInverse(t,e){const r=t.elements,n=this.elements;n[0]=r[10]*r[5]-r[6]*r[9],n[1]=-r[10]*r[1]+r[2]*r[9],n[2]=r[6]*r[1]-r[2]*r[5],n[3]=-r[10]*r[4]+r[6]*r[8],n[4]=r[10]*r[0]-r[2]*r[8],n[5]=-r[6]*r[0]+r[2]*r[4],n[6]=r[9]*r[4]-r[5]*r[8],n[7]=-r[9]*r[0]+r[1]*r[8],n[8]=r[5]*r[0]-r[1]*r[4];const i=r[0]*n[0]+r[1]*n[3]+r[2]*n[6];if(0===i){const t="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(t);return console.warn(t),this.identity(),this}return this.multiplyScalar(1/i),this}getDeterminant(){const t=this.elements;return t[0]*t[4]*t[8]+t[1]*t[5]*t[6]+t[2]*t[3]*t[7]-t[2]*t[4]*t[6]-t[1]*t[3]*t[8]-t[0]*t[5]*t[7]}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}clone(){const t=this.elements;return new h(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8])}getMatrix4(){const t=this.elements;return new d(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0)}}class f{constructor(t,e){this.origin=void 0!==t?t:new u,this.direction=void 0!==e?e:new u}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return(e||new u).copy(this.direction).multiplyScalar(t).add(this.origin)}recast(t){const e=o;return this.origin.copy(this.at(t,e)),this}closestPointToPoint(t,e){const r=e||new u;r.subVectors(t,this.origin);const n=r.dot(this.direction);return r.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){const e=o,r=e.subVectors(t,this.origin).dot(this.direction);return e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceTo(t)}isIntersectionCylinder(){}isIntersectionSphere(t){return this.distanceToPoint(t.center)<=t.radius}isIntersectionPlane(t){return 0!==t.normal.dot(this.direction)||0===t.distanceToPoint(this.origin)}distanceToPlane(t){const e=t.normal.dot(this.direction);return 0===e?0===t.distanceToPoint(this.origin)?0:void 0:-(this.origin.dot(t.normal)+t.constant)/e}intersectPlane(t,e){const r=this.distanceToPlane(t);if(void 0!==r)return this.at(r,e)}applyMatrix4(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this}clone(){return(new f).copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(t,e,r)=>{"use strict";function n(t,e,r){return Math.min(Math.max(t,e),r)}r.r(e),r.d(e,{clamp:()=>n})},"./src/WebGL/math/utils/conversionMatrix3.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{conversionMatrix3:()=>i});var n=r("./src/WebGL/math/math.ts");function i(t,e,r,i,o,a){i=i*Math.PI/180,o=o*Math.PI/180,a=a*Math.PI/180;const s=t=>t*t,l=Math.cos(i),c=Math.cos(o),d=Math.cos(a),u=Math.sin(a);return new n.Matrix3(t,e*d,r*c,0,e*u,r*(l-c*d)/u,0,0,r*Math.sqrt(1-s(l)-s(c)-s(d)+2*l*c*d)/u)}},"./src/WebGL/math/utils/degToRad.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{degToRad:()=>i});const n=Math.PI/180;function i(t){return t*n}},"./src/WebGL/objects/Line.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Line:()=>a,LineStyle:()=>n});var n,i=r("./src/WebGL/materials/index.ts"),o=r("./src/WebGL/core/index.ts");!function(t){t[t.LineStrip=0]="LineStrip",t[t.LinePieces=1]="LinePieces"}(n||(n={}));class a extends o.Object3D{constructor(t,e=new i.LineBasicMaterial({color:16777215*Math.random()}),r=n.LineStrip){super(),this.geometry=t,this.material=e,this.type=r}clone(t=new a(this.geometry,this.material,this.type)){return super.clone.call(this,t),t}}},"./src/WebGL/objects/Mesh.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Mesh:()=>i});var n=r("./src/WebGL/core/index.ts");class i extends n.Object3D{constructor(t,e){super(),this.geometry=t,this.material=e}clone(t){return void 0===t&&(t=new i(this.geometry,this.material)),super.clone.call(this,t),t}}},"./src/WebGL/objects/Sprite.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Sprite:()=>o});var n=r("./src/WebGL/materials/index.ts"),i=r("./src/WebGL/core/index.ts");class o extends i.Object3D{constructor(t=new n.SpriteMaterial){super(),this.material=t,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(t=new o(this.material)){return i.Object3D.prototype.clone.call(this,t),t}}},"./src/WebGL/objects/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Line:()=>n.Line,LineStyle:()=>n.LineStyle,Mesh:()=>i.Mesh,Sprite:()=>o.Sprite});var n=r("./src/WebGL/objects/Line.ts"),i=r("./src/WebGL/objects/Mesh.ts"),o=r("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(t,e,r)=>{"use strict";r.r(e)},"./src/WebGL/shaders/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ShaderLib:()=>n.ShaderLib,ShaderUtils:()=>i.ShaderUtils,basic:()=>n.basic,clone:()=>i.clone,instanced:()=>n.instanced,lambert:()=>n.lambert,lambertdouble:()=>n.lambertdouble,outline:()=>n.outline,screen:()=>n.screen,screenaa:()=>n.screenaa,sphereimposter:()=>n.sphereimposter,sphereimposteroutline:()=>n.sphereimposteroutline,sprite:()=>n.sprite,stickimposter:()=>n.stickimposter,stickimposteroutline:()=>n.stickimposteroutline,volumetric:()=>n.volumetric});var n=r("./src/WebGL/shaders/lib/index.ts"),i=r("./src/WebGL/shaders/utils/index.ts");r("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{basic:()=>o});var n=r("./src/WebGL/shaders/lib/basic/uniforms.ts"),i=r("./src/WebGL/shaders/lib/basic/basic.frag");const o={vertexShader:r("./src/WebGL/shaders/lib/basic/basic.vert").default.replace("#define GLSLIFY 1",""),fragmentShader:i.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/blur/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{blur:()=>a});var n=r("./src/WebGL/shaders/lib/blur/uniforms.ts"),i=r("./src/WebGL/shaders/lib/blur/blur.frag"),o=r("./src/WebGL/shaders/lib/blur/blur.vert");const a={fragmentShader:i.default,vertexShader:o.default,uniforms:n.uniforms}},"./src/WebGL/shaders/lib/blur/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={}},"./src/WebGL/shaders/lib/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ShaderLib:()=>v,basic:()=>n.basic,instanced:()=>i.instanced,lambert:()=>o.lambert,lambertdouble:()=>a.lambertdouble,outline:()=>s.outline,screen:()=>l.screen,screenaa:()=>c.screenaa,sphereimposter:()=>d.sphereimposter,sphereimposteroutline:()=>u.sphereimposteroutline,sprite:()=>h.sprite,stickimposter:()=>f.stickimposter,stickimposteroutline:()=>p.stickimposteroutline,volumetric:()=>m.volumetric});var n=r("./src/WebGL/shaders/lib/basic/index.ts"),i=r("./src/WebGL/shaders/lib/instanced/index.ts"),o=r("./src/WebGL/shaders/lib/lambert/index.ts"),a=r("./src/WebGL/shaders/lib/lambertdouble/index.ts"),s=r("./src/WebGL/shaders/lib/outline/index.ts"),l=r("./src/WebGL/shaders/lib/screen/index.ts"),c=r("./src/WebGL/shaders/lib/screenaa/index.ts"),d=r("./src/WebGL/shaders/lib/sphereimposter/index.ts"),u=r("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),h=r("./src/WebGL/shaders/lib/sprite/index.ts"),f=r("./src/WebGL/shaders/lib/stickimposter/index.ts"),p=r("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),m=r("./src/WebGL/shaders/lib/volumetric/index.ts"),g=r("./src/WebGL/shaders/lib/ssao/index.ts"),b=r("./src/WebGL/shaders/lib/blur/index.ts");const v={basic:n.basic,blur:b.blur,instanced:i.instanced,lambert:o.lambert,lambertdouble:a.lambertdouble,outline:s.outline,screen:l.screen,screenaa:c.screenaa,ssao:g.ssao,sphereimposter:d.sphereimposter,sphereimposteroutline:u.sphereimposteroutline,sprite:h.sprite,stickimposter:f.stickimposter,stickimposteroutline:p.stickimposteroutline,volumetric:m.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{instanced:()=>a});var n=r("./src/WebGL/shaders/lib/instanced/uniforms.ts"),i=r("./src/WebGL/shaders/lib/instanced/instanced.frag"),o=r("./src/WebGL/shaders/lib/instanced/instanced.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{lambert:()=>a});var n=r("./src/WebGL/shaders/lib/lambert/uniforms.ts"),i=r("./src/WebGL/shaders/lib/lambert/lambert.frag"),o=r("./src/WebGL/shaders/lib/lambert/lambert.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{lambertdouble:()=>a});var n=r("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),i=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),o=r("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{outline:()=>a});var n=r("./src/WebGL/shaders/lib/outline/uniforms.ts"),i=r("./src/WebGL/shaders/lib/outline/outline.frag"),o=r("./src/WebGL/shaders/lib/outline/outline.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>i});var n=r("./src/colors.ts");const i={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/screen/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{screen:()=>a});var n=r("./src/WebGL/shaders/lib/screen/uniforms.ts"),i=r("./src/WebGL/shaders/lib/screen/screen.frag"),o=r("./src/WebGL/shaders/lib/screen/screen.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{screenaa:()=>a});var n=r("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),i=r("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),o=r("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{sphereimposter:()=>o});var n=r("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),i=r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag");const o={vertexShader:r("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert").default.replace("#define GLSLIFY 1",""),fragmentShader:i.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{sphereimposteroutline:()=>a});var n=r("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),i=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),o=r("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>i});var n=r("./src/colors.ts");const i={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new n.Color(0,0,0)},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/sprite/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{sprite:()=>a});var n=r("./src/WebGL/shaders/lib/sprite/uniforms.ts"),i=r("./src/WebGL/shaders/lib/sprite/sprite.frag"),o=r("./src/WebGL/shaders/lib/sprite/sprite.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={}},"./src/WebGL/shaders/lib/ssao/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ssao:()=>a});var n=r("./src/WebGL/shaders/lib/ssao/uniforms.ts"),i=r("./src/WebGL/shaders/lib/ssao/ssao.frag"),o=r("./src/WebGL/shaders/lib/ssao/ssao.vert");const a={fragmentShader:i.default,vertexShader:o.default,uniforms:n.uniforms}},"./src/WebGL/shaders/lib/ssao/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{stickimposter:()=>s});var n=r("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),i=r("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),o=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),a=r("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const s={fragmentShader:[i.default,o.default].join("\n"),vertexShader:a.default,uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{stickimposteroutline:()=>a});var n=r("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),i=r("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),o=r("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const a={fragmentShader:i.default+"gl_FragColor = vec4(color,1.0);}",vertexShader:o.default,uniforms:n.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>i});var n=r("./src/colors.ts");const i={opacity:{type:"f",value:1},fogColor:{type:"c",value:new n.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new n.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{volumetric:()=>a});var n=r("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),i=r("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),o=r("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const a={fragmentShader:i.default.replace("#define GLSLIFY 1",""),vertexShader:o.default.replace("#define GLSLIFY 1",""),uniforms:n.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{uniforms:()=>n});const n={opacity:{type:"f",value:1},fogColor:{type:"c",value:new(r("./src/colors.ts").Color)(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{clone:()=>i});var n=r("./src/colors.ts");function i(t){let e={};for(const i in t){e[i]={},e[i].type=t[i].type;var r=t[i].value;r instanceof n.Color?e[i].value=r.clone():"number"==typeof r?e[i].value=r:r instanceof Array?e[i].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e}},"./src/WebGL/shaders/utils/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{ShaderUtils:()=>i,clone:()=>n.clone});var n=r("./src/WebGL/shaders/utils/clone.ts");const i={clone:n.clone}},"./src/WebGL/shapes/Cylinder.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Cylinder:()=>o});var n=r("./src/WebGL/math/index.ts");let i=new n.Vector3;class o{constructor(t=new n.Vector3,e=new n.Vector3,r=0){this.c1=t,this.c2=e,this.radius=r,this.direction=(new n.Vector3).subVectors(this.c2,this.c1).normalize()}copy(t){return this.c1.copy(t.c1),this.c2.copy(t.c2),this.direction.copy(t.direction),this.radius=t.radius,this}lengthSq(){return i.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(t){return this.direction.add(this.c1).applyMatrix4(t),this.c1.applyMatrix4(t),this.c2.applyMatrix4(t),this.direction.sub(this.c1).normalize(),this.radius=this.radius*t.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Sphere:()=>i});var n=r("./src/WebGL/math/index.ts");class i{constructor(t={x:0,y:0,z:0},e=0){this.center=new n.Vector3(t.x,t.y,t.z),this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new i).copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Triangle:()=>o});var n=r("./src/WebGL/math/index.ts");const i=new n.Vector3;class o{constructor(t=new n.Vector3,e=new n.Vector3,r=new n.Vector3){this.a=t,this.b=e,this.c=r}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}applyMatrix4(t){return this.a.applyMatrix4(t),this.b.applyMatrix4(t),this.c.applyMatrix4(t),this}getNormal(){var t=this.a.clone();return t.sub(this.b),i.subVectors(this.c,this.b),t.cross(i),t.normalize(),t}}},"./src/WebGL/shapes/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Cylinder:()=>i.Cylinder,Sphere:()=>n.Sphere,Triangle:()=>o.Triangle});var n=r("./src/WebGL/shapes/Sphere.ts"),i=r("./src/WebGL/shapes/Cylinder.ts"),o=r("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{autoinit:()=>s,autoload:()=>d,processing_autoinit:()=>l,viewers:()=>c});var n=r("./src/GLViewer.ts"),i=r("./src/ProteinSurface4.ts"),o=r("./src/utilities.ts"),a=r("./src/colors.ts"),s=!1,l=!1,c={};function d(t,e){var r,d,u;if(null!=document.querySelector(".viewer_3Dmoljs")&&(s=!0),s){l=!0,t=null!=t?t:null;var h=0;document.querySelectorAll(".viewer_3Dmoljs").forEach((s=>{var f=[],p=[],m="";"static"==s.style.position&&(s.style.position="relative");var g=null;if(u=null,s.dataset.pdb)f.push("https://files.rcsb.org/view/"+s.dataset.pdb+".pdb"),p.push("pdb");else if(s.dataset.cid)p.push("sdf"),f.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+s.dataset.cid+"/SDF?record_type=3d");else if(s.dataset.href||s.dataset.url){if(m=s.dataset.href?s.dataset.href:s.dataset.url,f.push(m),"gz"==(u=m.substring(m.lastIndexOf(".")+1))){let t=m.substring(0,m.lastIndexOf(".")).lastIndexOf(".");u=m.substring(t+1)}p.push(u);var b=m.substring(m.lastIndexOf("/")+1,m.lastIndexOf("."));"/"==b&&(b=m.substring(m.lastIndexOf("/")+1)),s.dataset[p[p.length-1]]=b}let v=s.dataset;for(r in v)"pdb"===r.substring(0,3)&&"pdb"!==r?(f.push("https://files.rcsb.org/view/"+v[r]+".pdb"),p.push("pdb")):"href"===r.substring(0,4)&&"href"!==r?(m=v[r],f.push(m),p.push(m.substring(m.lastIndexOf(".")+1))):"cid"===r.substring(0,3)&&"cid"!==r&&(f.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+v[r]+"/SDF?record_type=3d"),p.push("sdf"));var y={};s.dataset.options&&(y=(0,o.specStringToObject)(s.dataset.options));var x=a.CC.color(s.dataset.backgroundcolor),w=s.dataset.backgroundalpha;w=null==w?1:parseFloat(w);var _={line:{}};s.dataset.style&&(_=(0,o.specStringToObject)(s.dataset.style));var k={};s.dataset.select&&(k=(0,o.specStringToObject)(s.dataset.select));var A=[],T=[],M=[],S={},E=null,C=s.dataset,z=/style(.+)/,L=/surface(.*)/,O=/labelres(.*)/,D=[];for(d in C)Object.prototype.hasOwnProperty.call(C,d)&&D.push(d);for(D.sort(),r=0;r<D.length;r++){d=D[r];var I,F,R,P=z.exec(d);P&&(I="select"+P[1],F=(0,o.specStringToObject)(C[I]),R=(0,o.specStringToObject)(C[d]),A.push([F,R])),(P=L.exec(d))&&(I="select"+P[1],F=(0,o.specStringToObject)(C[I]),R=(0,o.specStringToObject)(C[d]),T.push([F,R])),(P=O.exec(d))&&(I="select"+P[1],F=(0,o.specStringToObject)(C[I]),R=(0,o.specStringToObject)(C[d]),M.push([F,R])),"zoomto"==d&&(S=(0,o.specStringToObject)(C[d])),"spin"==d&&(E=(0,o.specStringToObject)(C[d]))}var j=function(t){for(t.setStyle(k,_),g&&g.createSelectionAndStyle(k,_),r=0;r<A.length;r++){let e=A[r][0]||{},n=A[r][1]||{line:{}};t.setStyle(e,n),g&&g.createSelectionAndStyle(k,_)}for(r=0;r<T.length;r++){let e=T[r][0]||{},n=T[r][1]||{};g?t.addSurface(i.SurfaceType.VDW,n,e,e).then((t=>{g.loadSurface("VDW",e,n,t)})):t.addSurface(i.SurfaceType.VDW,n,e,e)}for(r=0;r<M.length;r++){let e=M[r][0]||{},n=M[r][1]||{};t.addResLabels(e,n)}t.render(),t.zoomTo(S),E&&t.spin(E.axis,E.speed)};let N=t;try{var B=(0,o.specStringToObject)(s.dataset.config)||{};void 0===B.backgroundColor&&(B.backgroundColor=x),void 0===B.backgroundAlpha&&(B.backgroundAlpha=w),null==N?N=c[s.id||h++]=(0,n.createViewer)(s,B):(N.setBackgroundColor(x,w),N.setConfig(B),g&&g.initiateUI()),s.dataset.ui&&$3Dmol.StateManager&&(g=new $3Dmol.StateManager(N))}catch(t){console.log(t),s.textContent="WebGL appears to be disabled."}if(0!=f.length){let t=0,r=((n,i)=>function(a){m=f[t];var s=n.dataset.type||n.dataset.datatype||p[t];if(i.addModel(a,s,y),g){var c=n.dataset[p[t]];g.setModelTitle(c)}t+=1,t<f.length?(0,o.get)(f[t]).then(r):(j(i),n.dataset.callback&&(0,o.makeFunction)(n.dataset.callback)(i),l=!1,e&&e(i))})(s,N);u&&u.endsWith("gz")?(0,o.getbin)(f[0]).then(r):(0,o.get)(f[0]).then(r)}else{if(s.dataset.element){var U="#"+s.dataset.element,V=document.querySelector(U),G=V?V.textContent:"";u=s.dataset.type||s.dataset.datatype,N.addModel(G,u,y)}j(N),s.dataset.callback&&(0,o.makeFunction)(s.dataset.callback)(N),l=!1,e&&e(N)}}))}}document.onreadystatechange=()=>{"complete"===document.readyState&&d()}},"./src/colors.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CC:()=>i,Color:()=>n,builtinColorSchemes:()=>u,chains:()=>d,elementColors:()=>l,htmlColors:()=>o,residues:()=>c,ssColors:()=>a});class n{constructor(t,e,r){return this.r=0,this.g=0,this.b=0,arguments.length>1&&"number"==typeof t?(this.r=t||0,this.g=e||0,this.b=r||0,this):this.set(t||0)}set(t){return t instanceof n?t.clone():("number"==typeof t?this.setHex(t):"object"==typeof t&&(this.r=(null==t?void 0:t.r)||0,this.g=(null==t?void 0:t.g)||0,this.b=(null==t?void 0:t.b)||0),this)}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}getHex(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)}clone(){return new n(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}scaled(){var t={};return t.r=Math.round(255*this.r),t.g=Math.round(255*this.g),t.b=Math.round(255*this.b),t.a=1,t}}class i{static color(t){if(!t)return i.cache[0];if(t instanceof n)return t;if("number"==typeof t&&void 0!==i.cache[t])return i.cache[t];if(t&&Array.isArray(t))return t.map(i.color);let e=i.getHex(t),r=new n(e);return i.cache[e]=r,r}static getHex(t){var e;if(Array.isArray(t))return t.map(i.getHex);if("string"==typeof t){let r=t;if(!isNaN(parseInt(r)))return parseInt(r);if(r=r.trim(),4==r.length&&"#"==r[0]&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),7==r.length&&"#"==r[0])return parseInt(r.substring(1),16);let n=i.rgbRegEx.exec(r);if(n){""!=n[1]&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let t=0;for(let e=2;e<5;e++){t*=256;let r=n[e].endsWith("%")?255*parseFloat(n[e])/100:parseFloat(n[e]);t+=Math.round(r)}return t}return(null===(e=null===window||void 0===window?void 0:window.$3Dmol)||void 0===e?void 0:e.htmlColors[t.toLowerCase()])||0}return t}}i.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,i.cache={0:new n(0)};const o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},a={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},s={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},l={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:s,defaultColors:Object.assign({},s),greenCarbon:Object.assign(Object.assign({},s),{C:65280}),cyanCarbon:Object.assign(Object.assign({},s),{C:65535}),magentaCarbon:Object.assign(Object.assign({},s),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},s),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},s),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},s),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},s),{C:8388736}),blueCarbon:Object.assign(Object.assign({},s),{C:255})},c={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},d={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},u={ssPyMol:{prop:"ss",map:a.pyMol},ssJmol:{prop:"ss",map:a.Jmol},Jmol:{prop:"elem",map:l.Jmol},amino:{prop:"resn",map:c.amino},shapely:{prop:"resn",map:c.shapely},nucleic:{prop:"resn",map:c.nucleic},chain:{prop:"chain",map:d.atom},rasmol:{prop:"elem",map:l.rasmol},default:{prop:"elem",map:l.defaultColors},greenCarbon:{prop:"elem",map:l.greenCarbon},chainHetatm:{prop:"chain",map:d.hetatm},cyanCarbon:{prop:"elem",map:l.cyanCarbon},magentaCarbon:{prop:"elem",map:l.magentaCarbon},purpleCarbon:{prop:"elem",map:l.purpleCarbon},whiteCarbon:{prop:"elem",map:l.whiteCarbon},orangeCarbon:{prop:"elem",map:l.orangeCarbon},yellowCarbon:{prop:"elem",map:l.yellowCarbon},blueCarbon:{prop:"elem",map:l.blueCarbon}}},"./src/glcartoon.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{drawCartoon:()=>M,subdivide_spline:()=>d});var n=r("./src/WebGL/math/index.ts"),i=r("./src/WebGL/shapes/index.ts"),o=r("./src/WebGL/index.ts"),a=r("./src/Gradient.ts"),s=r("./src/colors.ts"),l=r("./src/GLDraw.ts"),c=r("./src/utilities.ts");function d(t,e){var r,i,o,a,s,l,c,d,u,h=[],f=t;for((f=[]).push(t[0]),r=1,i=t.length-1;r<i;r++)if(s=t[r],l=t[r+1],s.smoothen){var p=new n.Vector3((s.x+l.x)/2,(s.y+l.y)/2,(s.z+l.z)/2);p.atom=s.atom,f.push(p)}else f.push(s);for(f.push(t[t.length-1]),r=-1,o=f.length;r<=o-3;r++)if(a=f[-1===r?0:r],s=f[r+1],l=f[r+2],c=f[r===o-3?o-1:r+3],d=(new n.Vector3).subVectors(l,a).multiplyScalar(.5),u=(new n.Vector3).subVectors(c,s).multiplyScalar(.5),!l.skip)for(var m=0;m<e;m++){var g=1/e*m,b=s.x+g*d.x+g*g*(-3*s.x+3*l.x-2*d.x-u.x)+g*g*g*(2*s.x-2*l.x+d.x+u.x),v=s.y+g*d.y+g*g*(-3*s.y+3*l.y-2*d.y-u.y)+g*g*g*(2*s.y-2*l.y+d.y+u.y),y=s.z+g*d.z+g*g*(-3*s.z+3*l.z-2*d.z-u.z)+g*g*g*(2*s.z-2*l.z+d.z+u.z),x=new n.Vector3(b,v,y);x.atom=m<e/2?s.atom:l.atom,h.push(x)}return h.push(f[f.length-1]),h}const u=.5,h=1.3,f=.8,p=.4,m=.4;function g(t,e,r,n){for(var i,o,a,l,c=0,d=e.length;c<d;c++){l=Math.round(c*(n.length-1)/d),a=s.CC.color(n[l]);var u=t.updateGeoGroup(2),h=u.vertexArray,f=u.colorArray,p=u.faceArray;h[o=3*(i=u.vertices)]=e[c].x,h[o+1]=e[c].y,h[o+2]=e[c].z,h[o+3]=r[c].x,h[o+4]=r[c].y,h[o+5]=r[c].z;for(var m=0;m<6;++m)f[o+3*m]=a.r,f[o+1+3*m]=a.g,f[o+2+3*m]=a.b;if(c>0){var g=[i,i+1,i-1,i-2],b=u.faceidx;p[b]=g[0],p[b+1]=g[1],p[b+2]=g[3],p[b+3]=g[1],p[b+4]=g[2],p[b+5]=g[3],u.faceidx+=6}u.vertices+=2}}function b(t,e,r,n,o,a,l){l&&"default"!==l||(l="rectangle"),"edged"===l?function(t,e,r,n,o){if(!(e.length<2)){var a,l;if(a=e[0],l=e[e.length-1],a=d(a,n),l=d(l,n),!o)return g(t,a,l,r);var c,u,h,f,p,m,b,v,y,x,w,_,k,A,T,M,S,E,C,z,L,O,D=[],I=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];for(k=0,A=a.length;k<A;k++){if(x=Math.round(k*(r.length-1)/A),y=s.CC.color(r[x]),D.push(u=a[k]),D.push(u),D.push(h=l[k]),D.push(h),k<A-1){var F=a[k+1].clone().sub(a[k]);c=l[k].clone().sub(a[k]).cross(F).normalize().multiplyScalar(o)}for(D.push(f=a[k].clone().add(c)),D.push(f),D.push(p=l[k].clone().add(c)),D.push(p),void 0!==u.atom&&(w=u.atom),z=(C=t.updateGeoGroup(8)).vertexArray,L=C.colorArray,O=C.faceArray,z[b=3*(m=C.vertices)]=u.x,z[b+1]=u.y,z[b+2]=u.z,z[b+3]=u.x,z[b+4]=u.y,z[b+5]=u.z,z[b+6]=h.x,z[b+7]=h.y,z[b+8]=h.z,z[b+9]=h.x,z[b+10]=h.y,z[b+11]=h.z,z[b+12]=f.x,z[b+13]=f.y,z[b+14]=f.z,z[b+15]=f.x,z[b+16]=f.y,z[b+17]=f.z,z[b+18]=p.x,z[b+19]=p.y,z[b+20]=p.z,z[b+21]=p.x,z[b+22]=p.y,z[b+23]=p.z,T=0;T<8;++T)L[b+3*T]=y.r,L[b+1+3*T]=y.g,L[b+2+3*T]=y.b;if(k>0){var R=void 0!==_&&void 0!==w&&_.serial!==w.serial;for(T=0;T<4;T++){var P=[m+I[T][0],m+I[T][1],m+I[T][2],m+I[T][3]];if(O[v=C.faceidx]=P[0],O[v+1]=P[1],O[v+2]=P[3],O[v+3]=P[1],O[v+4]=P[2],O[v+5]=P[3],C.faceidx+=6,w.clickable||_.clickable||w.hoverable||_.hoverable){var j=D[P[3]].clone(),N=D[P[0]].clone(),B=D[P[2]].clone(),U=D[P[1]].clone();if(j.atom=D[P[3]].atom||null,B.atom=D[P[2]].atom||null,N.atom=D[P[0]].atom||null,U.atom=D[P[1]].atom||null,R){var V=j.clone().add(N).multiplyScalar(.5),G=B.clone().add(U).multiplyScalar(.5),H=j.clone().add(U).multiplyScalar(.5);T%2==0?((_.clickable||_.hoverable)&&(M=new i.Triangle(V,H,j),S=new i.Triangle(G,B,H),E=new i.Triangle(H,B,j),_.intersectionShape.triangle.push(M),_.intersectionShape.triangle.push(S),_.intersectionShape.triangle.push(E)),(w.clickable||w.hoverable)&&(M=new i.Triangle(N,U,H),S=new i.Triangle(U,G,H),E=new i.Triangle(N,H,V),w.intersectionShape.triangle.push(M),w.intersectionShape.triangle.push(S),w.intersectionShape.triangle.push(E))):((w.clickable||w.hoverable)&&(M=new i.Triangle(V,H,j),S=new i.Triangle(G,B,H),E=new i.Triangle(H,B,j),w.intersectionShape.triangle.push(M),w.intersectionShape.triangle.push(S),w.intersectionShape.triangle.push(E)),(_.clickable||_.hoverable)&&(M=new i.Triangle(N,U,H),S=new i.Triangle(U,G,H),E=new i.Triangle(N,H,V),_.intersectionShape.triangle.push(M),_.intersectionShape.triangle.push(S),_.intersectionShape.triangle.push(E)))}else(w.clickable||w.hoverable)&&(M=new i.Triangle(N,U,j),S=new i.Triangle(U,B,j),w.intersectionShape.triangle.push(M),w.intersectionShape.triangle.push(S))}}}C.vertices+=8,_=w}var W=D.length-8;for(z=(C=t.updateGeoGroup(8)).vertexArray,L=C.colorArray,O=C.faceArray,b=3*(m=C.vertices),v=C.faceidx,k=0;k<4;k++){D.push(D[2*k]),D.push(D[W+2*k]);var q=D[2*k],$=D[W+2*k];z[b+6*k]=q.x,z[b+1+6*k]=q.y,z[b+2+6*k]=q.z,z[b+3+6*k]=$.x,z[b+4+6*k]=$.y,z[b+5+6*k]=$.z,L[b+6*k]=y.r,L[b+1+6*k]=y.g,L[b+2+6*k]=y.b,L[b+3+6*k]=y.r,L[b+4+6*k]=y.g,L[b+5+6*k]=y.b}W+=8,M=[m,m+2,m+6,m+4],S=[m+1,m+5,m+7,m+3],O[v]=M[0],O[v+1]=M[1],O[v+2]=M[3],O[v+3]=M[1],O[v+4]=M[2],O[v+5]=M[3],O[v+6]=S[0],O[v+7]=S[1],O[v+8]=S[3],O[v+9]=S[1],O[v+10]=S[2],O[v+11]=S[3],C.faceidx+=12,C.vertices+=8}}(t,e,r,n,o):"rectangle"!==l&&"oval"!==l&&"parabola"!==l||function(t,e,r,n,o,a,l){var c,u,h,f,p,m,b,v,y,x;if((h=e.length)<2||e[0].length<2)return;for(c=0;c<h;c++)e[c]=d(e[c],n);if(f=e[0].length,!o)return g(t,e[0],e[h-1],r);var w=[],_=[],k=[];for(u=0;u<h;u++)w.push(.25+1.5*Math.sqrt((h-1)*u-Math.pow(u,2))/(h-1)),_.push(.5),k.push(2*(Math.pow(u/h,2)-u/h)+.6);var A,T,M,S,E,C,z,L,O,D,I=[];for(u=0;u<2*h-1;u++)I[u]=[u,u+1,u+1-2*h,u-2*h];I[2*h-1]=[u,u+1-2*h,u+1-4*h,u-2*h];let F=t.updateGeoGroup();for(c=0;c<f;c++){let n=t.groups,a=!1;var R,P;for(F=t.updateGeoGroup(2*h),n!=t.groups&&c>0&&(c-=1,a=!0),C=Math.round(c*(r.length-1)/f),E=s.CC.color(r[C]),y=b,x=v,b=[],v=[],p=[],void 0!==e[0][c].atom&&(S=e[0][c].atom,"oval"===l?m=w:"rectangle"===l?m=_:"parabola"===l&&(m=k)),m||(m=_),u=0;u<h;u++)R=c<f-1?e[u][c+1].clone().sub(e[u][c]):e[u][c-1].clone().sub(e[u][c]).negate(),P=u<h-1?e[u+1][c].clone().sub(e[u][c]):e[u-1][c].clone().sub(e[u][c]).negate(),p[u]=P.cross(R).normalize().multiplyScalar(o*m[u]);for(u=0;u<h;u++)b[u]=e[u][c].clone().add(p[u].clone().negate());for(u=0;u<h;u++)v[u]=e[u][c].clone().add(p[u]);for(z=F.vertexArray,L=F.colorArray,O=F.faceArray,T=3*(A=F.vertices),u=0;u<h;u++)z[T+3*u+0]=b[u].x,z[T+3*u+1]=b[u].y,z[T+3*u+2]=b[u].z;for(u=0;u<h;u++)z[T+3*u+0+3*h]=v[h-1-u].x,z[T+3*u+1+3*h]=v[h-1-u].y,z[T+3*u+2+3*h]=v[h-1-u].z;for(u=0;u<2*h;++u)L[T+3*u+0]=E.r,L[T+3*u+1]=E.g,L[T+3*u+2]=E.b;if(c>0&&!a){for(u=0;u<2*h;u++)D=[A+I[u][0],A+I[u][1],A+I[u][2],A+I[u][3]],O[M=F.faceidx]=D[0],O[M+1]=D[1],O[M+2]=D[3],O[M+3]=D[1],O[M+4]=D[2],O[M+5]=D[3],F.faceidx+=6;if(S.clickable||S.hoverable){var j=[];for(u in j.push(new i.Triangle(y[0],b[0],b[h-1])),j.push(new i.Triangle(y[0],b[h-1],y[h-1])),j.push(new i.Triangle(y[h-1],b[h-1],v[h-1])),j.push(new i.Triangle(y[h-1],v[h-1],x[h-1])),j.push(new i.Triangle(v[0],x[0],x[h-1])),j.push(new i.Triangle(v[h-1],v[0],x[h-1])),j.push(new i.Triangle(b[0],y[0],x[0])),j.push(new i.Triangle(v[0],b[0],x[0])),j)S.intersectionShape.triangle.push(j[u])}}F.vertices+=2*h}for(z=F.vertexArray,L=F.colorArray,O=F.faceArray,T=3*(A=F.vertices),M=F.faceidx,c=0;c<h-1;c++)D=[c,c+1,2*h-2-c,2*h-1-c],O[M=F.faceidx]=D[0],O[M+1]=D[1],O[M+2]=D[3],O[M+3]=D[1],O[M+4]=D[2],O[M+5]=D[3],F.faceidx+=6;for(c=0;c<h-1;c++)D=[A-1-c,A-2-c,A-2*h+c+1,A-2*h+c],O[M=F.faceidx]=D[0],O[M+1]=D[1],O[M+2]=D[3],O[M+3]=D[1],O[M+4]=D[2],O[M+5]=D[3],F.faceidx+=6}(t,e,r,n,o,0,l)}function v(t){return t&&"C"===t.elem&&"CA"===t.atom}function y(t,e){if(t&&e&&t.chain===e.chain){if(!(t.hetflag||e.hetflag||t.reschain!==e.reschain||t.resi!==e.resi&&t.resi!==e.resi-1))return!0;if(t.resi<e.resi){var r=t.x-e.x,n=t.y-e.y,i=t.z-e.z,o=r*r+n*n+i*i;if("CA"==t.atom&&"CA"==e.atom&&o<16)return!0;if(("P"==t.atom||"P"==e.atom)&&o<64)return!0}}return!1}function x(t,e,r,n,i){if(null!=e&&0!=e.vertices){i&&(e.initTypedArrays(),e.setUpNormals());var a=new o.MeshDoubleLambertMaterial;a.vertexColors=o.Coloring.FaceColors,"number"==typeof r&&r>=0&&r<1&&(a.transparent=!0,a.opacity=r),a.outline=n;var s=new o.Mesh(e,a);t.add(s)}}function w(t,e,r,i,o,a,s,l,c){var d,m,g,b,v,y;if(i&&o&&s){var x=o.sub(i);x.normalize();var w=l[c];for(m=c+1;m<l.length&&(w=l[m]).atom!=s.atom;m++);if((w=w?new n.Vector3(w.x,w.y,w.z):new n.Vector3(0,0,0)).sub(i),"arrow start"===s.ss){var _=w.clone().multiplyScalar(.3).cross(o);i.add(_);var k=w.clone().cross(x).normalize();x.rotateAboutVector(k,.43)}for(s.style.cartoon.ribbon?d=s.style.cartoon.thickness||p:s.style.cartoon.width?d=s.style.cartoon.width:"c"===s.ss?d="P"===s.atom?f:u:"arrow start"===s.ss?(d=h,v=!0):d="arrow end"===s.ss||"h"===s.ss&&s.style.cartoon.tubes||"tube start"===s.ss?u:h,null!=a&&x.dot(a)<0&&x.negate(),x.multiplyScalar(d),m=0;m<e;m++)g=2*m/(e-1)-1,(b=new n.Vector3(i.x+g*x.x,i.y+g*x.y,i.z+g*x.z)).atom=s,r&&"s"===s.ss&&(b.smoothen=!0),t[m].push(b);if(v)for(x.multiplyScalar(2),m=0;m<e;m++)g=2*m/(e-1)-1,(b=new n.Vector3(i.x+g*x.x,i.y+g*x.y,i.z+g*x.z)).atom=s,b.smoothen=!1,b.skip=!0,t[m].push(b);return y=s.style.cartoon.style||"default",t.style?t.style!=y&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),t.style="default"):t.style=y,"arrow start"!==s.ss&&"arrow end"!==s.ss||(s.ss="s"),v}}const _={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},k={DA:!0,DG:!0,A:!0,G:!0},A={DT:!0,DC:!0,U:!0,C:!0,T:!0},T={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function M(t,e,r,d=10){let u=d,h=d;var f,g,M,S,E,C,z,L,O,D,I,F,R,P,j,N,B,U,V=new o.Geometry(!0),G=new o.Geometry(!0),H=[],W=[],q=1,$=!1,Y={};for(var Z in a.Gradient.builtinGradients)a.Gradient.builtinGradients.hasOwnProperty(Z)&&(Y[Z]=new a.Gradient.builtinGradients[Z](r[1],r[0]));var X=function(t,e){return r&&"spectrum"===e.color?e.colorscheme in Y?Y[e.colorscheme].valueToHex(t.resi):Y.sinebow.valueToHex(t.resi):(0,c.getColorFromStyle)(t,e).getHex()};for(L=0;L<u;L++)W[L]=[];var J=!1,Q=!1,K=[];for(L in e){if("C"===(S=e[L]).elem&&"CA"===S.atom){var tt=y(M,S);tt&&"s"===S.ss?J=!0:J&&(M&&g&&M.style.cartoon.arrows&&g.style.cartoon.arrows&&(M.ss="arrow end",g.ss="arrow start"),J=!1),tt&&("h"===M.ss||"tube start"==M.ss)&&M.style.cartoon.tubes?!Q&&"tube start"!=M.ss&&S.style.cartoon.tubes&&(S.ss="tube start",Q=!0):Q&&("tube start"===M.ss?M.ss="tube end":g&&g.style.cartoon.tubes&&(g.ss="tube end"),Q=!1),g=M,M=S}S&&S.atom in _&&K.push(S)}Q&&M.style.cartoon.tubes&&(M.ss="tube end",Q=!1);var et=function(e){W[0].length>0&&b(G,W,H,h,z,0,W.style);var r=[],n=null;if(e){for(L=0;L<u;L++)r[L]=W[L][W[L].length-1];n=H[H.length-1]}for(W=[],L=0;L<u;L++)W[L]=[];if(H=[],e){for(L=0;L<u;L++)W[L].push(r[L]);H.push(n)}x(t,G,q,$,!0),x(t,V,q,$,!1),G=new o.Geometry(!0),V=new o.Geometry(!0)};M=void 0;for(var rt=0;rt<K.length;rt++){var nt=(S=K[rt]).resn.trim(),it=nt in T;if(q=1,f=S.style.cartoon,M&&M.style.cartoon&&(q=M.style.cartoon.opacity),M&&M.style.cartoon&&M.style.cartoon.outline&&($=M.style.cartoon.outline),!M||!M.style.cartoon||S.style.cartoon&&M.style.cartoon.opacity==S.style.cartoon.opacity||et(M.chain==S.chain),"trace"===f.style){if(S.hetflag);else if("C"===S.elem&&"CA"===S.atom||it&&"P"===S.atom||"BB"===S.atom){if(C=X(S,f),z=(0,c.isNumeric)(f.thickness)?f.thickness:p,y(M,S))if(C==E){var ot=s.CC.color(C);l.GLDraw.drawCylinder(V,M,S,z,ot,2,2)}else{var at=(new n.Vector3).addVectors(M,S).multiplyScalar(.5),st=s.CC.color(E),lt=s.CC.color(C);l.GLDraw.drawCylinder(V,M,at,z,st,2,0),l.GLDraw.drawCylinder(V,at,S,z,lt,0,2)}if((!0===S.clickable||S.hoverable)&&void 0!==S.intersectionShape){var ct=new n.Vector3(S.x,S.y,S.z);S.intersectionShape.sphere.push(new i.Sphere(ct,z))}M=S,E=C}}else{if(v(S)||it&&("P"===S.atom||0==S.atom.indexOf("O5"))){if(U)if("tube end"===S.ss)U=!1,B=new n.Vector3(S.x,S.y,S.z),l.GLDraw.drawCylinder(V,N,B,2,s.CC.color(E),1,1),S.ss="h";else{if(M.chain==S.chain&&"tube end"!==M.ss)continue;U=!1,M.ss="h",B=new n.Vector3(M.x,M.y,M.z),l.GLDraw.drawCylinder(V,N,B,2,s.CC.color(E),1,1)}if(M&&(!y(M,S)||"tube start"===M.ss)){for("tube start"===M.ss&&(U=!0,N=new n.Vector3(M.x,M.y,M.z),M.ss="h"),j&&(P=F?(new n.Vector3).addVectors(M,F).multiplyScalar(.5):new n.Vector3(M.x,M.y,M.z),l.GLDraw.drawCylinder(V,P,j,m,s.CC.color(j.color),0,2),w(W,u,!0,F,R,I,M,K,rt),H.push(C),P=null,j=null),W[0].length>0&&b(G,W,H,h,z,0,W.style),W=[],L=0;L<u;L++)W[L]=[];H=[]}if(void 0===M||M.rescode!=S.rescode||M.resi!=S.resi){if(j&&null!=M){var dt=(P=(new n.Vector3).addVectors(M,S).multiplyScalar(.5)).clone().sub(j).multiplyScalar(.02);P.add(dt),l.GLDraw.drawCylinder(V,P,j,m,s.CC.color(j.color),0,2),P=null,j=null}C=X(S,f),H.push(C),z=(0,c.isNumeric)(f.thickness)?f.thickness:p,M=S,(O=new n.Vector3(M.x,M.y,M.z)).resi=M.resi,E=C}!0!==S.clickable&&!0!==S.hoverable||void 0!==S.intersectionShape&&void 0!==S.intersectionShape.triangle||(S.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else null!=M&&(v(M)&&"O"===S.atom||it&&"P"===M.atom&&("OP2"===S.atom||"O2P"===S.atom)||it&&0==M.atom.indexOf("O5")&&0==S.atom.indexOf("C5"))?((D=new n.Vector3(S.x,S.y,S.z)).resi=S.resi,"OP2"!==S.atom&&"O2P"!==S.atom||(R=new n.Vector3(S.x,S.y,S.z))):it&&0==S.atom.indexOf("O3")?F=new n.Vector3(S.x,S.y,S.z):("N1"===S.atom&&nt in k||"N3"===S.atom&&nt in A)&&((j=new n.Vector3(S.x,S.y,S.z)).color=(0,c.getColorFromStyle)(S,f).getHex());D&&O&&D.resi===O.resi&&(w(W,u,!0,O,D,I,M,K,rt),I=D,O=null,D=null,H.push(C))}}j&&(P=F?(new n.Vector3).addVectors(M,F).multiplyScalar(.5):new n.Vector3(M.x,M.y,M.z),l.GLDraw.drawCylinder(V,P,j,m,s.CC.color(j.color),0,2),w(W,u,!0,F,R,I,M,K,rt),H.push(C)),et(!1)}},"./src/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CAP:()=>m.CAP,CC:()=>i.CC,CONTEXTS_PER_VIEWPORT:()=>v.CONTEXTS_PER_VIEWPORT,Color:()=>i.Color,CustomLinear:()=>n.CustomLinear,Cylinder:()=>c.Cylinder,GLDraw:()=>m.GLDraw,GLModel:()=>b.GLModel,GLShape:()=>p.GLShape,GLViewer:()=>v.GLViewer,GLVolumetricRender:()=>f.GLVolumetricRender,Gradient:()=>n.Gradient,GradientType:()=>n.GradientType,Label:()=>o.Label,LabelCount:()=>o.LabelCount,MarchingCube:()=>u.MarchingCube,MarchingCubeInitializer:()=>u.MarchingCubeInitializer,Matrix3:()=>l.Matrix3,Matrix4:()=>l.Matrix4,Parsers:()=>s.Parsers,PausableTimer:()=>d.PausableTimer,PointGrid:()=>u.PointGrid,ProteinSurface:()=>u.ProteinSurface,Quaternion:()=>l.Quaternion,ROYGB:()=>n.ROYGB,RWB:()=>n.RWB,Ray:()=>l.Ray,Sinebow:()=>n.Sinebow,Sphere:()=>c.Sphere,SurfaceType:()=>u.SurfaceType,Triangle:()=>c.Triangle,Vector2:()=>l.Vector2,Vector3:()=>l.Vector3,VolumeData:()=>h.VolumeData,adjustVolumeStyle:()=>d.adjustVolumeStyle,applyPartialCharges:()=>a.applyPartialCharges,autoinit:()=>y.autoinit,autoload:()=>y.autoload,base64ToArray:()=>d.base64ToArray,bondLength:()=>s.bondLength,builtinColorSchemes:()=>i.builtinColorSchemes,builtinGradients:()=>n.builtinGradients,chains:()=>i.chains,clamp:()=>l.clamp,conversionMatrix3:()=>l.conversionMatrix3,createStereoViewer:()=>v.createStereoViewer,createViewer:()=>v.createViewer,createViewerGrid:()=>v.createViewerGrid,deepCopy:()=>d.deepCopy,degToRad:()=>l.degToRad,download:()=>d.download,drawCartoon:()=>g.drawCartoon,elementColors:()=>i.elementColors,extend:()=>d.extend,get:()=>d.get,getAtomProperty:()=>d.getAtomProperty,getColorFromStyle:()=>d.getColorFromStyle,getElement:()=>d.getElement,getExtent:()=>d.getExtent,getGradient:()=>n.getGradient,getPropertyRange:()=>d.getPropertyRange,getbin:()=>d.getbin,htmlColors:()=>i.htmlColors,inflateString:()=>d.inflateString,isEmptyObject:()=>d.isEmptyObject,isNumeric:()=>d.isNumeric,makeFunction:()=>d.makeFunction,mergeGeos:()=>d.mergeGeos,normalizeValue:()=>n.normalizeValue,partialCharges:()=>a.partialCharges,processing_autoinit:()=>y.processing_autoinit,residues:()=>i.residues,setBondLength:()=>s.setBondLength,setSyncSurface:()=>u.setSyncSurface,specStringToObject:()=>d.specStringToObject,splitMesh:()=>p.splitMesh,ssColors:()=>i.ssColors,subdivide_spline:()=>g.subdivide_spline,syncSurface:()=>u.syncSurface,viewers:()=>y.viewers});var n=r("./src/Gradient.ts"),i=r("./src/colors.ts"),o=r("./src/Label.ts"),a=r("./src/partialCharges.ts"),s=r("./src/parsers/index.ts"),l=r("./src/WebGL/math/index.ts"),c=r("./src/WebGL/shapes/index.ts"),d=r("./src/utilities.ts"),u=r("./src/ProteinSurface4.ts"),h=r("./src/VolumeData.ts"),f=r("./src/VolumetricRender.ts"),p=r("./src/GLShape.ts"),m=r("./src/GLDraw.ts"),g=r("./src/glcartoon.ts"),b=r("./src/GLModel.ts"),v=r("./src/GLViewer.ts"),y=r("./src/autoload.ts");r("./src/specs.ts"),window&&(window.$3Dmol=e)},"./src/parsers/BCIF.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{BCIF:()=>p});var n=r("./src/utilities.ts"),i=r("./src/parsers/utils/computeSecondaryStructure.ts"),o=r("./src/parsers/utils/processSymmetries.ts"),a=r("./src/parsers/cifutils/category.ts"),s=r("./src/parsers/utils/assignPDBBonds.ts"),l=r("./src/WebGL/index.ts"),c=r("./src/parsers/utils/isEmpty.ts"),d=r("./src/vendor/mmtf.js");class u{constructor(t){if(this.C={},t){let e=t.getField("comp_id"),r=t.getField("atom_id_1"),n=t.getField("atom_id_2"),i=t.getField("value_order");for(let t=0;t<e.length;t++){let o=e[t],a=r[t],s=n[t],l=i[t],c=1;"doub"==l?c=2:"trip"==l&&(c=3),null==this.C[o]&&(this.C[o]={}),null==this.C[o][a]&&(this.C[o][a]={}),null==this.C[o][s]&&(this.C[o][s]={}),this.C[o][a][s]=c,this.C[o][s][a]=c}}}order(t,e,r){return void 0!==this.C[t]&&void 0!==this.C[t][e]&&void 0!==this.C[t][e][r]?this.C[t][e][r]:0}}class h{constructor(t){if(this.C=[],t){let e=t.getField("conn_type_id"),r=t.getField("ptnr1_label_asym_id"),n=t.getField("ptnr1_label_seq_id"),i=t.getField("ptnr1_label_comp_id"),o=t.getField("ptnr1_label_atom_id"),a=t.getField("ptnr2_label_asym_id"),s=t.getField("ptnr2_label_seq_id"),l=t.getField("ptnr2_label_comp_id"),c=t.getField("ptnr2_label_atom_id"),d=t.getField("pdbx_value_order");for(let t=0;t<e.length;t++)if("disulf"==e[t]||"covale"==e[t]){let e=d?""==d[t]?1:parseInt(d[t]):1;this.C.push([[r[t],n[t],i[t],o[t]],[a[t],s[t],l[t],c[t]],e])}}}}class f{constructor(){this.R={}}add(t){null==this.R[t.lchain]&&(this.R[t.lchain]={}),null==this.R[t.lchain][t.lresi]&&(this.R[t.lchain][t.lresi]={}),null==this.R[t.lchain][t.lresi][t.lresn]&&(this.R[t.lchain][t.lresi][t.lresn]=[]),this.R[t.lchain][t.lresi][t.lresn].push(t),this.R[t.lchain][t.lresi][t.lresn][t.atom]=t}geta([t,e,r,n]){if(void 0!==this.R[t]&&void 0!==this.R[t][e]&&void 0!==this.R[t][e][r])return this.R[t][e][r][n]}setBonds(t,e){for(let e in this.R)for(let r in this.R[e])for(let n in this.R[e][r]){let i=this.R[e][r][n];for(let e=0;e<i.length;e++)for(let r=e+1;r<i.length;r++){let o=i[e],a=i[r],s=t.order(n,o.atom,a.atom);o.altLoc!=a.altLoc&&""!=o.altLoc&&""!=a.altLoc&&(s=0),s>0&&(o.bonds.push(a.index),a.bonds.push(o.index),o.bondOrder.push(s),a.bondOrder.push(s))}}for(let t of e.C){let e=t[0],r=t[1],n=t[2],i=this.geta(e),o=this.geta(r);null!=i&&null!=o&&(i.bonds.push(o.index),o.bonds.push(i.index),i.bondOrder.push(n),o.bondOrder.push(n))}}}function p(t,e){var r=!e.keepH,p=e.altLoc?e.altLoc:"A",m=!e.noComputeSecondaryStructure;const g=!e.doAssembly,b=void 0===e.assignBonds||e.assignBonds;if("string"==typeof t)try{t=(0,n.base64ToArray)(t)}catch(e){t=(new TextEncoder).encode(t)}else t=new Uint8Array(t);var v=d.decodeMsgpack(t);31==v&&(t=(0,n.inflateString)(t,!1),v=d.decodeMsgpack(t));var y=[],x=y.modelData=[],w=v.dataBlocks.length;if(0==w)return y;e.multimodel||(w=1);for(let t=0;t<w;t++){let n=y.length;const i=[];x.push({symmetries:[]}),y.push([]);const o=v.dataBlocks[t],s=Object.create(null);for(const t of o.categories)s[t.name.substr(1)]=(0,a.Category)(t);let d={},m=s.struct_conf;if(m){let t=m.getField("conf_type_id"),e=m.getField("beg_label_asym_id"),r=m.getField("beg_label_seq_id"),n=m.getField("end_label_seq_id");for(let i=0;i<t.length;i++)if(t[i].startsWith("H")){let t=e[i],o=r[i],a=n[i];t in d||(d[t]={}),d[t][o]="h1";for(let e=o+1;e<a;e++)d[t][e]="h";d[t][a]="h2"}}let b=s.struct_sheet_range;if(b){let t=b.getField("id"),e=b.getField("beg_label_asym_id"),r=b.getField("beg_label_seq_id"),n=b.getField("end_label_seq_id");for(let i=0;i<t.length;i++){let t=e[i],o=r[i],a=n[i];t in d||(d[t]={}),d[t][o]="s1";for(let e=o+1;e<a;e++)d[t][e]="s";d[t][a]="s2"}}let _=s.pdbx_struct_oper_list,k=_.getField("id");if(k&&!g){let t=_.getField("matrix[1][1]"),e=_.getField("matrix[1][2]"),r=_.getField("matrix[1][3]"),n=_.getField("matrix[2][1]"),i=_.getField("matrix[2][2]"),o=_.getField("matrix[2][3]"),a=_.getField("matrix[3][1]"),s=_.getField("matrix[3][2]"),c=_.getField("matrix[3][3]"),d=_.getField("vector[1]"),u=_.getField("vector[2]"),h=_.getField("vector[3]");for(let f=0;f<k.length;f++){const p=new l.Matrix4(t[f],e[f],r[f],d[f],n[f],i[f],o[f],u[f],a[f],s[f],c[f],h[f]);x[x.length-1].symmetries.push(p)}}let A=new u(s.chem_comp_bond),T=new f,M=new h(s.struct_conn),S=s.atom_site,E=S.rowCount,C=S.getField("group_PDB"),z=S.getField("Cartn_x"),L=S.getField("Cartn_y"),O=S.getField("Cartn_z"),D=S.getField("auth_asym_id"),I=S.getField("label_asym_id"),F=S.getField("auth_seq_id"),R=S.getField("label_seq_id"),P=S.getField("auth_comp_id"),j=S.getField("label_comp_id"),N=S.getField("auth_atom_id"),B=S.getField("label_atom_id"),U=S.getField("type_symbol"),V=S.getField("B_iso_or_equiv"),G=S.getField("id"),H=S.getField("label_alt_id"),W=S.getField("pdbx_PDB_model_num"),q=W?W[0]:0;for(let t=0;t<E;t++){if(void 0!==C&&"TER"===C[t])continue;if(W&&W[t]!=q){if(q=W[t],!e.multimodel)break;e.onemol||(y.push([]),x.push(x[x.length-1]),q=W[t],T.setBonds(A,M),T=new f)}const n={};n.x=z[t],n.y=L[t],n.z=O[t],n.chain=D?D[t]:I?I[t]:void 0,n.lchain=I?I[t]:void 0,n.resi=F?F[t]:R?R[t]:void 0,n.lresi=R?R[t]:void 0,n.resn=P?P[t].trim():j?j[t].trim():void 0,n.lresn=j?j[t].trim():void 0,n.atom=N?N[t].replace(/"/gm,""):B?B[t].replace(/"/gm,""):void 0,n.icode=H?H[t]:void 0,n.altLoc=n.icode,n.hetflag=!C||"HETA"===C[t]||"HETATM"===C[t];let o="X";U&&(o=U[t].replace(/\(?\+?\d+.*/,"")),n.elem=o[0].toUpperCase()+o.substring(1,2).toLowerCase(),V&&(n.b=V[t]),r&&"H"==n.elem||""!=n.altLoc&&n.altLoc!=p&&"*"!=p||(n.bonds=[],n.ss="c",n.serial=G[t],n.model=q,n.bondOrder=[],n.properties={},n.index=y[y.length-1].length,i[n.serial]=[y.length,n.index],y[y.length-1].push(n),T.add(n))}if(T.setBonds(A,M),!(0,c.isEmpty)(d))for(let t=n;t<y.length;t++){let e=y[t];for(let t=0;t<e.length;t++){const r=e[t];if(void 0!==r&&r.lchain in d&&r.lresi in d[r.lchain]){const t=d[r.lchain][r.lresi];r.ss=t[0],t.length>1&&("1"==t[1]?r.ssbegin=!0:"2"==t[1]&&(r.ssend=!0))}}}e.multimodel&&t<w-1&&(e.onemol||(y.push([]),x.push({symmetries:[]})))}for(let t=0;t<y.length;t++)!b||e.duplicateAssemblyAtoms&&!e.dontConnectDuplicatedAtoms||(0,s.assignPDBBonds)(y[t],e),m&&(0,i.computeSecondaryStructure)(y[t],e.hbondCutoff),(0,o.processSymmetries)(x[t].symmetries,y[t],e,x[t].cryst),e.duplicateAssemblyAtoms&&!e.dontConnectDuplicatedAtoms&&b&&(0,s.assignPDBBonds)(y[t],e);return y}},"./src/parsers/CDJSON.ts":(t,e,r)=>{"use strict";function n(t,e){var r=[[]];"string"==typeof t&&(t=JSON.parse(t));for(var n=t.m,i=n[0].a,o=n[0].b,a=n[0].s,s=void 0!==e&&void 0!==e.parseStyle?e.parseStyle:void 0!==a,l=r[r.length-1].length,c=0;c<i.length;c++){var d=i[c],u={};u.id=d.i,u.x=d.x,u.y=d.y,u.z=d.z||0,u.bonds=[],u.bondOrder=[];var h=d.l||"C";u.elem=h[0].toUpperCase()+h.substring(1).toLowerCase(),u.serial=r[r.length-1].length,s&&(u.style=a[d.s||0]),r[r.length-1].push(u)}for(let t=0;t<o.length;t++){let e=o[t],n=e.b+l,i=e.e+l,a=e.o||1,s=r[r.length-1][n],c=r[r.length-1][i];s.bonds.push(i),s.bondOrder.push(a),c.bonds.push(n),c.bondOrder.push(a)}return r}r.r(e),r.d(e,{CDJSON:()=>n})},"./src/parsers/CIF.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CIF:()=>l});var n=r("./src/parsers/utils/computeSecondaryStructure.ts"),i=r("./src/parsers/utils/processSymmetries.ts"),o=r("./src/WebGL/index.ts"),a=r("./src/parsers/utils/assignPDBBonds.ts");const s=function(t,e,r,n){return new o.Vector3(e,r,n).applyMatrix3(t)};function l(t,e={}){const r=[],l=!e.doAssembly,c=r.modelData=[],d=void 0===e.assignBonds||e.assignBonds;function u(t,e){const r=[];let n=0,i=0;for(;i<t.length;){for(;t.substring(i,i+e.length)!==e&&i<t.length;)if("'"===t[i]){for(i++;i<t.length&&"'"!==t[i];)i++;for(;t.substring(i,i+e.length)!==e&&i<t.length;)i++}else if('"'===t[i]){for(i++;i<t.length&&'"'!==t[i];)i++;i++}else i++;r.push(t.substring(n,i)),n=i+=e.length}return r}const h=t.split(/\r?\n|\r/),f=[];let p=!1;for(let t=0;t<h.length;t++){var m=h[t].split("#")[0];if(p?";"===m[0]&&(p=!1):";"===m[0]&&(p=!0),p||""!==m){if(!p&&"_"===(m=m.trim())[0]){const t=m.split(/\s/)[0].indexOf(".");if(t>-1){let e=m.split("");e[t]="_",m=(m=e.join("")).substring(0,t)+"_"+m.substring(t+1)}}f.push(m)}}let g=0;for(;g<f.length;){for(;!f[g].startsWith("data_")||"data_global"===f[g];)g++;g++;const t={};for(;g<f.length&&!f[g].startsWith("data_");)if(void 0===f[g][0])g++;else if("_"===f[g][0]){const e=f[g].split(/\s/)[0].toLowerCase(),r=t[e]=t[e]||[],n=f[g].substring(f[g].indexOf(e)+e.length);if(""===n)if(g++,";"===f[g][0]){let t=f[g].substring(1);for(g++;";"!==f[g];)t=t+"\n"+f[g],g++;r.push(t)}else r.push(f[g]);else r.push(n.trim());g++}else if("loop_"===f[g].substring(0,5)){g++;const e=[];for(;""===f[g]||"_"===f[g][0];){if(""!==f[g]){let r=f[g].split(/\s/)[0].toLowerCase(),n=t[r]=t[r]||[];e.push(n)}g++}let r=0;for(;g<f.length&&"_"!==f[g][0]&&!f[g].startsWith("loop_")&&!f[g].startsWith("data_");){let t=u(f[g]," ");for(let n=0;n<t.length;n++)""!==t[n]&&(e[r].push(t[n]),r=(r+1)%e.length);g++}}else g++;c.push({symmetries:[]}),r.push([]);const e=void 0!==t._atom_site_id?t._atom_site_id.length:t._atom_site_label.length;let n;if(void 0!==t._cell_length_a){const e=parseFloat(t._cell_length_a),r=parseFloat(t._cell_length_b),i=parseFloat(t._cell_length_c),a=parseFloat(t._cell_angle_alpha)||90,s=parseFloat(t._cell_angle_beta)||90,l=parseFloat(t._cell_angle_gamma)||90;n=(0,o.conversionMatrix3)(e,r,i,a,s,l),c[c.length-1].cryst={a:e,b:r,c:i,alpha:a,beta:s,gamma:l}}for(let i=0;i<e;i++){if(void 0!==t._atom_site_group_pdb&&"TER"===t._atom_site_group_pdb[i])continue;const e={};if(void 0!==t._atom_site_cartn_x)e.x=parseFloat(t._atom_site_cartn_x[i]),e.y=parseFloat(t._atom_site_cartn_y[i]),e.z=parseFloat(t._atom_site_cartn_z[i]);else{const r=s(n,parseFloat(t._atom_site_fract_x[i]),parseFloat(t._atom_site_fract_y[i]),parseFloat(t._atom_site_fract_z[i]));e.x=r.x,e.y=r.y,e.z=r.z}e.chain=t._atom_site_auth_asym_id?t._atom_site_auth_asym_id[i]:t._atom_site_label_asym_id?t._atom_site_label_asym_id[i]:void 0,e.resi=t._atom_site_auth_seq_id?parseInt(t._atom_site_auth_seq_id[i]):t._atom_site_label_seq_id?t._atom_site_label_seq_id[i]:void 0,e.resn=t._atom_site_auth_comp_id?t._atom_site_auth_comp_id[i].trim():t._atom_site_label_comp_id?t._atom_site_label_comp_id[i].trim():void 0,e.atom=t._atom_site_auth_atom_id?t._atom_site_auth_atom_id[i].replace(/"/gm,""):t._atom_site_label_atom_id?t._atom_site_label_atom_id[i].replace(/"/gm,""):void 0,e.hetflag=!t._atom_site_group_pdb||"HETA"===t._atom_site_group_pdb[i]||"HETATM"===t._atom_site_group_pdb[i],t._atom_site_b_iso_or_equiv&&(e.b=parseFloat(t._atom_site_b_iso_or_equiv[i]));let o="X";t._atom_site_type_symbol?o=t._atom_site_type_symbol[i].replace(/\(?\+?\d+.*/,""):t._atom_site_label&&(o=t._atom_site_label[i].split("_")[0].replace(/\(?\d+.*/,"")),e.elem=o[0].toUpperCase()+o.substring(1,2).toLowerCase(),e.bonds=[],e.ss="c",e.serial=i,e.bondOrder=[],e.properties={},r[r.length-1].push(e)}if(void 0!==t._pdbx_struct_oper_list_id&&!l)for(let e=0;e<t._pdbx_struct_oper_list_id.length;e++){const r=parseFloat(t["_pdbx_struct_oper_list_matrix[1][1]"][e]),n=parseFloat(t["_pdbx_struct_oper_list_matrix[1][2]"][e]),i=parseFloat(t["_pdbx_struct_oper_list_matrix[1][3]"][e]),a=parseFloat(t["_pdbx_struct_oper_list_vector[1]"][e]),s=parseFloat(t["_pdbx_struct_oper_list_matrix[2][1]"][e]),l=parseFloat(t["_pdbx_struct_oper_list_matrix[2][2]"][e]),d=parseFloat(t["_pdbx_struct_oper_list_matrix[2][3]"][e]),u=parseFloat(t["_pdbx_struct_oper_list_vector[2]"][e]),h=parseFloat(t["_pdbx_struct_oper_list_matrix[3][1]"][e]),f=parseFloat(t["_pdbx_struct_oper_list_matrix[3][2]"][e]),p=parseFloat(t["_pdbx_struct_oper_list_matrix[3][3]"][e]),m=parseFloat(t["_pdbx_struct_oper_list_vector[3]"][e]),g=new o.Matrix4(r,n,i,a,s,l,d,u,h,f,p,m);c[c.length-1].symmetries.push(g)}const i=function(t){const e=t.match("-"),r=(t=t.replace(/[-xyz]/g,"")).split("/");let n,i;return i=void 0===r[1]?1:parseInt(r[1]),n=""===r[0]?1:parseInt(r[0]),n/i*(e?-1:1)};if(void 0!==t._symmetry_equiv_pos_as_xyz&&!l)for(let e=0;e<t._symmetry_equiv_pos_as_xyz.length;e++){const r=t._symmetry_equiv_pos_as_xyz[e].replace(/["' ]/g,"").split(",").map((function(t){return t.replace(/-/g,"+-")}));let a=new o.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let t=0;t<3;t++){const e=r[t].split("+");for(let r=0;r<e.length;r++){const n=e[r];if(""===n)continue;const o=i(n);n.match("x")?a.elements[t+0]=o:n.match("y")?a.elements[t+4]=o:n.match("z")?a.elements[t+8]=o:a.elements[t+12]=o}}const s=n.getMatrix4(),l=(new o.Matrix4).getInverse(s,!0);a=(new o.Matrix4).multiplyMatrices(a,l),a=(new o.Matrix4).multiplyMatrices(s,a),c[c.length-1].symmetries.push(a)}}for(let t=0;t<r.length;t++)!d||e.duplicateAssemblyAtoms&&!e.dontConnectDuplicatedAtoms||(0,a.assignPDBBonds)(r[t],e),(0,n.computeSecondaryStructure)(r[t],e.hbondCutoff),(0,i.processSymmetries)(c[t].symmetries,r[t],e,c[t].cryst),e.duplicateAssemblyAtoms&&!e.dontConnectDuplicatedAtoms&&d&&(0,a.assignPDBBonds)(r[t],e);return r}},"./src/parsers/CUBE.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{CUBE:()=>a});var n=r("./src/WebGL/index.ts"),i=r("./src/parsers/utils/assignBonds.ts"),o=r("./src/parsers/utils/anumToSymbol.ts");function a(t,e){e=e||{};const r=[[]];let a=t.split(/\r?\n/);const s=void 0===e.assignBonds||e.assignBonds;if(a.length<6)return r;let l=a[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const c=Math.abs(parseFloat(l[0]));let d={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const u=d.origin=new n.Vector3(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]));l=a[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l=a[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const h=l[0]>0?.529177:1;u.multiplyScalar(h);const f=Math.abs(l[0]),p=new n.Vector3(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])).multiplyScalar(h);l=a[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const m=Math.abs(l[0]),g=new n.Vector3(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])).multiplyScalar(h);l=a[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const b=Math.abs(l[0]),v=new n.Vector3(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])).multiplyScalar(h);if(d.size={x:f,y:m,z:b},d.unit=new n.Vector3(p.x,g.y,v.z),0!=p.y||0!=p.z||0!=g.x||0!=g.z||0!=v.x||0!=v.y){d.matrix4=new n.Matrix4(p.x,g.x,v.x,0,p.y,g.y,v.y,0,p.z,g.z,v.z,0,0,0,0,1);let t=(new n.Matrix4).makeTranslation(u.x,u.y,u.z);d.matrix4=d.matrix4.multiplyMatrices(t,d.matrix4),d.matrix=d.matrix4.matrix3FromTopLeft(),d.origin=new n.Vector3(0,0,0),d.unit=new n.Vector3(1,1,1)}r.modelData=[{cryst:d}],a=a.splice(6,c);for(var y=r[r.length-1].length,x=y+a.length,w=y;w<x;++w){var _={};_.serial=w;var k=a[w-y].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");_.elem=o.anumToSymbol[k[0]],_.x=parseFloat(k[2])*h,_.y=parseFloat(k[3])*h,_.z=parseFloat(k[4])*h,_.hetflag=!0,_.bonds=[],_.bondOrder=[],_.properties={},r[r.length-1].push(_)}if(s)for(let t=0;t<r.length;t++)(0,i.assignBonds)(r[t],e);return r}},"./src/parsers/GRO.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{GRO:()=>o});var n=r("./src/parsers/utils/assignPDBBonds.ts"),i=r("./src/parsers/utils/atomNameToElem.ts");function o(t,e){const r=[],o=t.split(/\r?\n|\r/);for(;o.length>0;){const t=parseInt(o[1]);if(o.length<3||isNaN(t)||t<=0||o.length<t+3)break;const e=[];r.push(e);let n=2;const a=e.length,s=a+t;for(let t=a;t<s;t++){const r=o[n++],a={};a.serial=t,a.atom=r.slice(10,15).trim(),a.elem=(0,i.atomNameToElem)(a.atom,!0),a.x=10*parseFloat(r.slice(20,28)),a.y=10*parseFloat(r.slice(28,36)),a.z=10*parseFloat(r.slice(36,44)),a.resi=parseInt(r.slice(0,5)),a.resn=r.slice(5,10).trim(),a.bonds=[],a.bondOrder=[],a.properties={},r.length>44&&(a.dx=10*parseFloat(r.slice(44,52)),a.dy=10*parseFloat(r.slice(52,60)),a.dz=10*parseFloat(r.slice(60,68))),e[t]=a}if(o.length<=n+3){const t=o[n++].trim().split(/\s+/);if(3===t.length){for(let e=0;e<3;e++)t[e]=(10*parseFloat(t[e])).toString();r.box=t}}o.splice(0,++n)}for(let t=0;t<r.length;t++)(0,n.assignPDBBonds)(r[t],e);return r}},"./src/parsers/LAMMPSTRJ.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{LAMMPSTRJ:()=>o});var n=r("./src/parsers/utils/assignBonds.ts");const i={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function o(t,e){const r=[],o=t.split(/\r?\n|\r/);let a=0,s=0,l=0;for(;l<o.length-9;){for(var c=l;c<o.length;c++)if(o[c].match(/ITEM: NUMBER OF ATOMS/)&&(s=parseInt(o[c+1])),o[c].match(/ITEM: ATOMS/)){a=c+1;break}const t=o[a-1].replace("ITEM: ATOMS ","").split(" ");r.push([]);for(let e=a;e<a+s;e++){const n={},s={},l=o[e].split(" ");for(let e=0;e<l.length;e++){const r=i[t[e]];void 0!==r&&("serial"===r?n[r]=parseInt(l[e]):"x"===r||"y"===r||"z"===r?n[r]=parseFloat(l[e]):"charge"===r||"radius"===r?s[r]=parseFloat(l[e]):n[r]=l[e]),n.properties=s,n.bonds=[],n.bondOrder=[]}r[r.length-1][e-a]=n}l=a+s-1}if(e.assignBonds)for(let t=0;t<r.length;t++)(0,n.assignBonds)(r[t],e);return r}},"./src/parsers/MMTF.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{MMTFparser:()=>u});var n=r("./src/utilities.ts"),i=r("./src/WebGL/index.ts"),o=r("./src/parsers/utils/computeSecondaryStructure.ts"),a=r("./src/parsers/utils/processSymmetries.ts"),s=r("./src/vendor/mmtf.js"),l=function(t){return String.fromCharCode.apply(null,t).replace(/\0/g,"")},c=function(t){return 0==t||2==t||4==t?"h":3==t?"s":"c"};let d=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function u(t,e){var r=!e.keepH,u=e.altLoc?e.altLoc:"A",h=!!e.noSecondaryStructure,f=!e.noComputeSecondaryStructure,p=!e.doAssembly,m=e.assemblyIndex?e.assemblyIndex:0;t="string"==typeof t?(0,n.base64ToArray)(t):new Uint8Array(t);var g,b,v,y,x,w,_=s.decode(t),k=[[]],A=k.modelData=[],T=0,M=0,S=0,E=_.secStructList,C=_.bFactorList,z=_.altLocList,L=_.occupancyList,O=_.bondAtomList,D=_.bondOrderList,I=_.numModels;if(0==I)return k;e.multimodel||(I=1);var F=[];if(!p&&_.bioAssemblyList&&_.bioAssemblyList.length>0){var R=_.bioAssemblyList[m].transformList;for(g=0,w=R.length;g<w;g++){var P=new i.Matrix4(R[g].matrix);P.transpose(),F.push(P)}}var j=null;if(_.unitCell){var N=_.unitCell;j={a:N[0],b:N[1],c:N[2],alpha:N[3],beta:N[4],gamma:N[5]}}let B=[];_.entityList.forEach((t=>{t.chainIndexList.forEach((e=>{B[e]="polymer"==t.type}))}));var U=0;for(x=0;x<I;x++){var V=_.chainsPerModel[x],G=k[k.length-1],H=[];for(A.push({symmetries:F,cryst:j}),g=0;g<V;++g){var W=_.groupsPerChain[T],q=l(_.chainIdList.subarray(4*T,4*T+4));_.chainNameList&&(q=l(_.chainNameList.subarray(4*T,4*T+4)));var $=M,Y="";for(b=0;b<W;++b){var Z=_.groupList[_.groupTypeList[M]],X=Z.atomNameList.length,J=0,Q=!1,K=!1;if(E){J=E[M];var tt=c(J);0!=M&&tt==Y||(Q=!0),Y=tt;var et=M+1;(et>=E.length||c(E[et]!=tt))&&(K=!0)}var rt=_.groupIdList[M],nt=Z.groupName;let t=Z.chemCompType;var it=S;let e=d.has(t)||!B[T];for(v=0;v<X;++v){var ot=Z.elementList[v];if(r&&"H"==ot)S+=1;else{var at="";C&&(at=C[S]);var st="";z&&z[S]&&(st=String.fromCharCode(z[S]));var lt="";if(L&&(lt=L[S]),""==st||st==u||"*"==u){var ct=_.atomIdList[S],dt=Z.atomNameList[v],ut=0;Z.atomChargeList&&(ut=Z.atomChargeList[v]);var ht=_.xCoordList[S],ft=_.yCoordList[S],pt=_.zCoordList[S];H[S]=G.length,G.push({resn:nt,x:ht,y:ft,z:pt,elem:ot,hetflag:e,chain:q,resi:rt,icode:st,rescode:rt+(" "!=st?"^"+st:""),serial:ct,altLoc:st,index:S,atom:dt,bonds:[],ss:c(J),ssbegin:Q,ssend:K,bondOrder:[],properties:{charge:ut,occupancy:lt},b:at}),S+=1}else S+=1}}var mt=Z.bondAtomList;for(v=0,y=Z.bondOrderList.length;v<y;++v){var gt=it+mt[2*v],bt=it+mt[2*v+1],vt=Z.bondOrderList[v],yt=H[gt],xt=H[bt],wt=G[yt],_t=G[xt];wt&&_t&&(wt.bonds.push(xt),wt.bondOrder.push(vt),_t.bonds.push(yt),_t.bondOrder.push(vt))}M+=1}for(M=$,b=0;b<W;++b)M+=1;T+=1}if(O)for(let t=U,e=O.length;t<e;t+=2){let e=O[t],r=O[t+1],n=D?D[t/2]:1;if(e>=S){U=t;break}let i=H[e],o=H[r],a=G[i],s=G[o];a&&s&&(a.bonds.push(o),a.bondOrder.push(n),s.bonds.push(i),s.bondOrder.push(n))}e.multimodel&&(e.onemol||k.push([]))}if(!p)for(let t=0;t<k.length;t++)(0,a.processSymmetries)(A[t].symmetries,k[t],e,A[t].cryst);return f&&!h&&(0,o.computeSecondaryStructure)(k,e.hbondCutoff),k}},"./src/parsers/MOL2.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{MOL2:()=>i});let n={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function i(t,e){var r=[[]],i=!1;void 0!==e.keepH&&(i=!e.keepH);var o=t.search(/@<TRIPOS>MOLECULE/),a=t.search(/@<TRIPOS>ATOM/);if(-1==o||-1==a)return r;for(var s=t.substring(o).split(/\r?\n|\r/);s.length>0;){var l=[],c=s[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),d=parseInt(c[0]),u=0;c.length>1&&(u=parseInt(c[1]));var h,f=4;for(h=3;h<s.length;h++)if("@<TRIPOS>ATOM"==s[h]){f=h+1;break}var p=r[r.length-1].length,m=p+d;for(h=p;h<m;h++){var g={},b=(c=s[f++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5];if(b=void 0!==n[b]?n[b]:(b=b.split(".")[0])[0].toUpperCase()+b.substring(1).toLowerCase(),g.atom=c[1],g.elem=b,"H"==g.elem&&i);else{var v=r[r.length-1].length,y=parseInt(c[0]);g.serial=y,g.x=parseFloat(c[2]),g.y=parseFloat(c[3]),g.z=parseFloat(c[4]),g.atom=c[5];var x=parseFloat(c[8]);g.index=v,g.bonds=[],g.bondOrder=[],g.properties={charge:x,partialCharge:x},l[y]=v,r[r.length-1].push(g)}}for(var w=!1;f<s.length;)if("@<TRIPOS>BOND"==s[f++]){w=!0;break}if(w&&u)for(h=0;h<u;h++){c=s[f++].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _=parseInt(c[1]),k=r[r.length-1][l[_]],A=parseInt(c[2]),T=r[r.length-1][l[A]],M=parseInt(c[3]);isNaN(M)&&(M=1),void 0!==k&&void 0!==T&&(k.bonds.push(l[A]),k.bondOrder.push(M),T.bonds.push(l[_]),T.bondOrder.push(M))}if(!e.multimodel)break;e.onemol||r.push([]),s.splice(0,f),t=s.join("\n")}return r}},"./src/parsers/PDB.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{PDB:()=>i});var n=r("./src/parsers/utils/getSinglePDB.ts");function i(t,e){e=e||{};var r=[],i={};r.modelData=[];for(var o=t.split(/\r?\n|\r/);o.length>0;){var a=(0,n.getSinglePDB)(o,e,i),s=a[0],l=a[1];if(o=a[2],0!=s.length){if(e.multimodel&&e.onemol&&r.length>0)for(var c=r[0].length,d=0;d<s.length;d++){var u=s[d];u.index=d;for(var h=0;h<u.bonds.length;h++)u.bonds[h]+=c;r[0].push(u)}else r.modelData.push(l),r.push(s);if(!e.multimodel)break}}return r}},"./src/parsers/PQR.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{PQR:()=>o});var n=r("./src/parsers/utils/assignPDBBonds.ts"),i=r("./src/parsers/utils/computeSecondaryStructure.ts");function o(t,e){var r=[[]],o=!e.noSecondaryStructure;r.modelData=[{symmetries:[]}];var a,s=[],l=t.split(/\r?\n|\r/);for(let t=0;t<l.length;t++){var c=(a=l[t].replace(/^\s*/,"")).substring(0,6);if(0==c.indexOf("END")){if(e.multimodel){e.onemol||r.push([]);continue}break}if("ATOM  "==c||"HETATM"==c){var d;let t=parseInt(a.substring(6,11)),e=a.substring(12,16).replace(/ /g,""),n=a.substring(17,20).trim(),i=a.substring(21,22),o=parseInt(a.substring(22,26));var u=a.substring(30).trim().split(/\s+/),h=parseFloat(u[0]),f=parseFloat(u[1]),p=parseFloat(u[2]),m=parseFloat(u[3]),g=parseFloat(u[4]),b=e[0];e.length>1&&e[1].toUpperCase()!=e[1]&&(b=e.substring(0,2)),d="H"==a[0],s[t]=r[r.length-1].length,r[r.length-1].push({resn:n,x:h,y:f,z:p,elem:b,hetflag:d,chain:i,resi:o,serial:t,atom:e,bonds:[],ss:"c",bondOrder:[],properties:{charge:m,partialCharge:m,radius:g},pdbline:a})}else if("CONECT"==c){var v=parseInt(a.substring(6,11)),y=r[r.length-1][s[v]];for(let t=0;t<4;t++){var x=parseInt(a.substring([11,16,21,26][t],[11,16,21,26][t]+5)),w=r[r.length-1][s[x]];void 0!==y&&void 0!==w&&(y.bonds.push(s[x]),y.bondOrder.push(1))}}}for(let t=0;t<r.length;t++)(0,n.assignPDBBonds)(r[t],e),o&&(0,i.computeSecondaryStructure)(r[t],e.hbondCutoff);return r}},"./src/parsers/PRMTOP.ts":(t,e,r)=>{"use strict";function n(t){var e,r=[],n=0,i=t.split(/\r?\n|\r/);if(!(i.length>0&&i[0].includes("VERSION")))return[];var o=i.filter((function(t){return t.includes("POINTERS")||t.includes("ATOM_NAME")||t.includes("CHARGE")||t.includes("RADII")||t.includes("BONDS_INC_HYDROGEN")||t.includes("BONDS_WITHOUT_HYDROGEN")})),a=d("POINTERS");if(-1==a)return[];var s=u(a),l=parseInt(i[a+1].slice(0,s[1]));if(isNaN(l)||l<=0)return[];if(-1==(a=d("ATOM_NAME")))return[];var c=(s=u(a))[0];for(let t=0;t<l/s[0];t++){t==parseInt(l/s[0])&&(c=l%s[0]);for(let t=0;t<c;t++){let e={},o={charge:"",radii:""};e.serial=n,e.x=0,e.y=0,e.z=0,e.atom=i[a+1].slice(s[1]*t,s[1]*(t+1)).trim(),e.elem=i[a+1].slice(s[1]*t,s[1]*t+1).trim(),e.properties=o,e.bonds=[],e.bondOrder=[],r.push(e),n++}a++}if(-1!=(a=d("CHARGE"))){n=0,c=(s=u(a))[0];for(let t=0;t<l/s[0];t++){t==parseInt(l/s[0])&&(c=l%s[0]);for(let t=0;t<c;t++)r[n].properties.charge=parseFloat(i[a+1].slice(s[1]*t,s[1]*(t+1))),n++;a++}}if(-1!=(a=d("RADII"))){n=0,c=(s=u(a))[0];for(let t=0;t<l/s[0];t++){t==parseInt(l/s[0])&&(c=l%s[0]);for(let t=0;t<c;t++)r[n].properties.radii=parseFloat(i[a+1].slice(s[1]*t,s[1]*(t+1))),n++;a++}}if(-1!=(a=d("BONDS_WITHOUT_HYDROGEN")))for(n=0,c=(s=u(a))[0],a+=1;!i[a].match(/^%FLAG/);){i[a+1].match(/^%FLAG/)&&(c=l%s[0]);for(let t=0;t<c;t++)n%3==0?e=parseInt(i[a].slice(s[1]*t,s[1]*(t+1))/3):n%3==1&&r[e].bonds.push(parseInt(i[a].slice(s[1]*t,s[1]*(t+1))/3)),n++;a++}if(-1!=(a=d("BONDS_INC_HYDROGEN")))for(n=0,c=(s=u(a))[0],a+=1;!i[a].match(/^%FLAG/);){i[a+1].match(/^%FLAG/)&&(c=l%s[0]);for(let t=0;t<c;t++)n%3==0?e=parseInt(i[a].slice(s[1]*t,s[1]*(t+1))/3):n%3==1&&r[e].bonds.push(parseInt(i[a].slice(s[1]*t,s[1]*(t+1))/3)),n++;a++}function d(t){var e=i.indexOf(o.filter((function(e){return e.includes(t)}))[0]);if(Number.isInteger(e)&&e>0){for(;!i[e].includes("FORMAT");)e++;return e}return-1}function u(t){var e=i[t].match(/\((\d*)\S*/),r=i[t].match(/[a-zA-Z](\d*)\)\s*/);return null==r&&(r=i[t].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[e[1],r[1]]}return[r]}r.r(e),r.d(e,{PRMTOP:()=>n})},"./src/parsers/SDF.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{SDF:()=>o});var n=function(t,e){var r=[[]],n=!1;for(void 0!==e.keepH&&(n=!e.keepH);t.length>0&&!(t.length<4);){var i=parseInt(t[3].substring(0,3));if(isNaN(i)||i<=0)break;var o=parseInt(t[3].substring(3,6)),a=4;if(t.length<4+i+o)break;var s,l,c=[],d=r[r.length-1].length,u=d+i;for(s=d;s<u;s++,a++){var h={},f=(l=t[a]).substring(31,34).replace(/ /g,"");h.atom=h.elem=f[0].toUpperCase()+f.substring(1).toLowerCase(),"H"===h.elem&&n||(h.serial=s,c[s]=r[r.length-1].length,h.x=parseFloat(l.substring(0,10)),h.y=parseFloat(l.substring(10,20)),h.z=parseFloat(l.substring(20,30)),h.hetflag=!0,h.bonds=[],h.bondOrder=[],h.properties={},h.index=r[r.length-1].length,r[r.length-1].push(h))}for(s=0;s<o;s++,a++){l=t[a];var p=c[parseInt(l.substring(0,3))-1+d],m=c[parseInt(l.substring(3,6))-1+d],g=parseFloat(l.substring(6));void 0!==p&&void 0!==m&&(r[r.length-1][p].bonds.push(m),r[r.length-1][p].bondOrder.push(g),r[r.length-1][m].bonds.push(p),r[r.length-1][m].bondOrder.push(g))}if(!e.multimodel)break;for(e.onemol||r.push([]);"$$$$"!==t[a]&&a<t.length;)a++;t.splice(0,++a)}return r},i=function(t,e){var r=[[]],n=!1;for(void 0!==e.keepH&&(n=!e.keepH);t.length>0&&!(t.length<8)&&t[4].startsWith("M  V30 BEGIN CTAB")&&t[5].startsWith("M  V30 COUNTS")&&!(t[5].length<14);){var i=t[5].substring(13).match(/\S+/g);if(i.length<2)break;var o=parseInt(i[0]);if(isNaN(o)||o<=0)break;var a=parseInt(i[1]),s=7;if(t.length<8+o+a)break;var l,c=[],d=r[r.length-1].length,u=d+o;for(l=d;l<u;l++,s++){var h=t[s].substring(6).match(/\S+/g);if(h.length>4){var f={},p=h[1].replace(/ /g,"");f.atom=f.elem=p[0].toUpperCase()+p.substring(1).toLowerCase(),"H"===f.elem&&n||(f.serial=l,c[l]=r[r.length-1].length,f.x=parseFloat(h[2]),f.y=parseFloat(h[3]),f.z=parseFloat(h[4]),f.hetflag=!0,f.bonds=[],f.bondOrder=[],f.properties={},f.index=r[r.length-1].length,r[r.length-1].push(f))}}if("M  V30 END ATOM"!==t[s])break;if(s++,0===a||"M  V30 BEGIN BOND"!==t[s])break;for(s++,l=0;l<a;l++,s++){var m=t[s].substring(6).match(/\S+/g);if(m.length>3){var g=c[parseInt(m[2])-1+d],b=c[parseInt(m[3])-1+d],v=parseFloat(m[1]);void 0!==g&&void 0!==b&&(r[r.length-1][g].bonds.push(b),r[r.length-1][g].bondOrder.push(v),r[r.length-1][b].bonds.push(g),r[r.length-1][b].bondOrder.push(v))}}if(!e.multimodel)break;for(e.onemol||r.push([]);"$$$$"!==t[s]&&s<t.length;)s++;t.splice(0,++s)}return r};function o(t,e){var r="V2000",o=t.split(/\r?\n|\r/);return o.length>3&&o[3].length>38&&(r=o[3].substring(34,39)),"V2000"===r?n(o,e):"V3000"===r?i(o,e):[[""]]}},"./src/parsers/VASP.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{VASP:()=>o});var n=r("./src/WebGL/index.ts"),i=r("./src/parsers/utils/assignBonds.ts");function o(t,e={}){var r=[[]],o={};const a=void 0===e.assignBonds||e.assignBonds;var s=t.replace(/^\s+/,"").split(/\r?\n/);if(s.length<3)return r;if(!s[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),r;if(o.length=parseFloat(s[1]),o.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),r;o.xVec=new Float32Array(s[2].replace(/^\s+/,"").split(/\s+/)),o.yVec=new Float32Array(s[3].replace(/^\s+/,"").split(/\s+/)),o.zVec=new Float32Array(s[4].replace(/^\s+/,"").split(/\s+/));var l=new n.Matrix3(o.xVec[0],o.xVec[1],o.xVec[2],o.yVec[0],o.yVec[1],o.yVec[2],o.zVec[0],o.zVec[1],o.zVec[2]);l.multiplyScalar(o.length),r.modelData=[{symmetries:[],cryst:{matrix:l}}];var c=s[5].trim().split(/\s+/),d=new Int16Array(s[6].trim().split(/\s+/)),u=s[7].trim(),h=!1;if(u.match(/S/)&&(h=!0,u=s[8].trim()),"c"==u.toLowerCase()[0])u="cartesian";else{if("d"!=u.toLowerCase()[0])return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),r;u="direct"}if(c.length!=d.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(c),console.log(d),r;h?s.splice(0,9):s.splice(0,8);for(var f=0,p=0,m=c.length;p<m;p++){for(var g=c[p],b=0,v=d[p];b<v;b++){var y=new Float32Array(s[f+b].trim().split(/\s+/)),x={};x.elem=g,"cartesian"==u?(x.x=o.length*y[0],x.y=o.length*y[1],x.z=o.length*y[2]):(x.x=o.length*(y[0]*o.xVec[0]+y[1]*o.yVec[0]+y[2]*o.zVec[0]),x.y=o.length*(y[0]*o.xVec[1]+y[1]*o.yVec[1]+y[2]*o.zVec[1]),x.z=o.length*(y[0]*o.xVec[2]+y[1]*o.yVec[2]+y[2]*o.zVec[2])),x.bonds=[],x.bondOrder=[],r[0].push(x)}f+=d[p]}if(a)for(let t=0;t<r.length;t++)(0,i.assignBonds)(r[t],e);return r}},"./src/parsers/XYZ.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{XYZ:()=>o});var n=r("./src/WebGL/index.ts"),i=r("./src/parsers/utils/assignBonds.ts");function o(t,e){for(var r=[[]],o=void 0===(e=e||{}).assignBonds||e.assignBonds,a=t.trimStart().split(/\r?\n|\r/);a.length>0&&!(a.length<3);){var s=parseInt(a[0]);if(isNaN(s)||s<=0)break;if(a.length<s+2)break;var l=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi.exec(a[1]);if(null!=l&&l.length>1){var c=new Float32Array(l[1].split(/\s+/)),d=new n.Matrix3(c[0],c[3],c[6],c[1],c[4],c[7],c[2],c[5],c[8]);r.modelData=[{cryst:{matrix:d}}]}for(var u=2,h=r[r.length-1].length,f=h+s,p=h;p<f;p++){var m=a[u++].trim().split(/\s+/),g={};g.serial=p;var b=m[0];g.atom=g.elem=b[0].toUpperCase()+b.substring(1,2).toLowerCase(),g.x=parseFloat(m[1]),g.y=parseFloat(m[2]),g.z=parseFloat(m[3]),g.hetflag=!0,g.bonds=[],g.bondOrder=[],g.properties={},r[r.length-1][p]=g,m.length>=7&&(g.dx=parseFloat(m[4]),g.dy=parseFloat(m[5]),g.dz=parseFloat(m[6]))}if(!e.multimodel)break;r.push([]),a.splice(0,u)}if(o)for(let t=0;t<r.length;t++)(0,i.assignBonds)(r[t],e);if(e.onemol){var v=r;(r=[]).push(v[0]);for(let t=1;t<v.length;t++){let e=r[0].length;for(let n=0;n<v[t].length;n++){let i=v[t][n];for(let t=0;t<i.bonds.length;t++)i.bonds[t]=i.bonds[t]+e;i.index=r[0].length,i.serial=r[0].length,r[0].push(i)}}}return r}},"./src/parsers/cifutils/category.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Category:()=>i});var n=r("./src/parsers/cifutils/decoder.ts");function i(t){const e=Object.create(null),r=Object.create(null);for(const r of t.columns)e[r.name]=r;return{rowCount:t.rowCount,name:t.name.substring(1),fieldNames:t.columns.map((t=>t.name)),getField(t){const i=e[t];if(i)return r[t]||(r[t]=(0,n.decode)(i.data)),r[t]}}}},"./src/parsers/cifutils/decoder.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{decode:()=>o});var n=r("./src/parsers/cifutils/encoding.ts");const i=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0];function o(t){let e=t.data;for(let r=t.encoding.length-1;r>=0;r--)e=a(e,t.encoding[r]);return e}function a(t,e){switch(e.kind){case"ByteArray":switch(e.type){case n.Encoding.IntDataType.Uint8:return t;case n.Encoding.IntDataType.Int8:return function(t){return new Int8Array(t.buffer,t.byteOffset)}(t);case n.Encoding.IntDataType.Int16:return function(t){return c(t,2,Int16Array)}(t);case n.Encoding.IntDataType.Uint16:return function(t){return c(t,2,Uint16Array)}(t);case n.Encoding.IntDataType.Int32:return function(t){return c(t,4,Int32Array)}(t);case n.Encoding.IntDataType.Uint32:return function(t){return c(t,4,Uint32Array)}(t);case n.Encoding.FloatDataType.Float32:return function(t){return c(t,4,Float32Array)}(t);case n.Encoding.FloatDataType.Float64:return function(t){return c(t,8,Float64Array)}(t);default:throw new Error("unreachable")}case"FixedPoint":return function(t,e){const r=t.length,n=l(e.srcType,r),i=1/e.factor;for(let e=0;e<r;e++)n[e]=i*t[e];return n}(t,e);case"IntervalQuantization":return function(t,e){const r=t.length,n=l(e.srcType,r),i=(e.max-e.min)/(e.numSteps-1),o=e.min;for(let e=0;e<r;e++)n[e]=o+i*t[e];return n}(t,e);case"RunLength":return function(t,e){const r=s(e.srcType,e.srcSize);let n=0;for(let e=0,i=t.length;e<i;e+=2){const i=t[e],o=t[e+1];for(let t=0;t<o;++t)r[n++]=i}return r}(t,e);case"Delta":return function(t,e){const r=t.length,n=s(e.srcType,r);if(!r)return t;n[0]=t[0]+(0|e.origin);for(let e=1;e<r;++e)n[e]=t[e]+n[e-1];return n}(t,e);case"IntegerPacking":return function(t,e){return t.length===e.srcSize?t:e.isUnsigned?function(t,e){const r=1===e.byteCount?255:65535,n=t.length,i=new Int32Array(e.srcSize);let o=0,a=0;for(;o<n;){let e=0,n=t[o];for(;n===r;)e+=n,o++,n=t[o];e+=n,i[a]=e,o++,a++}return i}(t,e):function(t,e){const r=1===e.byteCount?127:32767,n=-r-1,i=t.length,o=new Int32Array(e.srcSize);let a=0,s=0;for(;a<i;){let e=0,i=t[a];for(;i===r||i===n;)e+=i,a++,i=t[a];e+=i,o[s]=e,a++,s++}return o}(t,e)}(t,e);case"StringArray":return function(t,e){const r=o({encoding:e.offsetEncoding,data:e.offsets}),n=o({encoding:e.dataEncoding,data:t}),i=e.stringData,a=new Array(r.length);a[0]="";for(let t=1,e=r.length;t<e;t++)a[t]=i.substring(r[t-1],r[t]);let s=0;const l=new Array(n.length);for(let t=0,e=n.length;t<e;t++)l[s++]=a[n[t]+1];return l}(t,e)}}function s(t,e){switch(t){case n.Encoding.IntDataType.Int8:return new Int8Array(e);case n.Encoding.IntDataType.Int16:return new Int16Array(e);case n.Encoding.IntDataType.Int32:return new Int32Array(e);case n.Encoding.IntDataType.Uint8:return new Uint8Array(e);case n.Encoding.IntDataType.Uint16:return new Uint16Array(e);case n.Encoding.IntDataType.Uint32:return new Uint32Array(e);default:return new Int32Array(e)}}function l(t,e){switch(t){case n.Encoding.FloatDataType.Float32:return new Float32Array(e);case n.Encoding.FloatDataType.Float64:default:return new Float64Array(e)}}function c(t,e,r){return 0==t.byteOffset&&t.byteLength==t.buffer.byteLength||(t=new Uint8Array(t)),new r(i?t.buffer:function(t,e){const r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let r=0,i=t.length;r<i;r+=e)for(let i=0;i<e;i++)n[r+e-i-1]=t[r+i];return r}(t,e))}},"./src/parsers/cifutils/encoding.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Encoding:()=>i,VERSION:()=>n});const n="0.3.0";var i;!function(t){let e,r;!function(t){t[t.Int8=1]="Int8",t[t.Int16=2]="Int16",t[t.Int32=3]="Int32",t[t.Uint8=4]="Uint8",t[t.Uint16=5]="Uint16",t[t.Uint32=6]="Uint32"}(e=t.IntDataType||(t.IntDataType={})),function(t){t[t.Float32=32]="Float32",t[t.Float64=33]="Float64"}(r=t.FloatDataType||(t.FloatDataType={})),t.getDataType=function(e){let r;return r=e instanceof Int8Array?t.IntDataType.Int8:e instanceof Int16Array?t.IntDataType.Int16:e instanceof Int32Array?t.IntDataType.Int32:e instanceof Uint8Array?t.IntDataType.Uint8:e instanceof Uint16Array?t.IntDataType.Uint16:e instanceof Uint32Array?t.IntDataType.Uint32:e instanceof Float32Array?t.FloatDataType.Float32:e instanceof Float64Array?t.FloatDataType.Float64:t.IntDataType.Int32,r},t.isSignedIntegerDataType=function(t){if(t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array)return!0;for(let e=0,r=t.length;e<r;e++)if(e<0)return!1;return!0}}(i||(i={}))},"./src/parsers/index.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{Parsers:()=>v,bondLength:()=>b.bondLength,setBondLength:()=>b.setBondLength});var n=r("./src/parsers/VASP.ts"),i=r("./src/parsers/CUBE.ts"),o=r("./src/parsers/XYZ.ts"),a=r("./src/parsers/SDF.ts"),s=r("./src/parsers/CDJSON.ts"),l=r("./src/parsers/CIF.ts"),c=r("./src/parsers/MOL2.ts"),d=r("./src/parsers/PDB.ts"),u=r("./src/parsers/PQR.ts"),h=r("./src/parsers/MMTF.ts"),f=r("./src/parsers/PRMTOP.ts"),p=r("./src/parsers/GRO.ts"),m=r("./src/parsers/LAMMPSTRJ.ts"),g=r("./src/parsers/BCIF.ts"),b=r("./src/parsers/utils/bondLength.ts");const v={vasp:n.VASP,VASP:n.VASP,cube:i.CUBE,CUBE:i.CUBE,xyz:o.XYZ,XYZ:o.XYZ,sdf:a.SDF,SDF:a.SDF,json:s.CDJSON,cdjson:s.CDJSON,CDJSON:s.CDJSON,mcif:l.CIF,cif:l.CIF,CIF:l.CIF,mol2:c.MOL2,MOL2:c.MOL2,pdb:d.PDB,PDB:d.PDB,pdbqt:d.PDB,PDBQT:d.PDB,pqr:u.PQR,PQR:u.PQR,mmtf:h.MMTFparser,MMTF:h.MMTFparser,prmtop:f.PRMTOP,PRMTOP:f.PRMTOP,gro:p.GRO,GRO:p.GRO,lammpstrj:m.LAMMPSTRJ,LAMMPSTRJ:m.LAMMPSTRJ,bcif:g.BCIF,BCIF:g.BCIF}},"./src/parsers/utils/anumToSymbol.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{anumToSymbol:()=>n});const n={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{areConnected:()=>o});var n=r("./src/parsers/utils/bondLength.ts");const i=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function o(t,e,r){if(r&&r.unboundCations&&(i.has(t.elem)||i.has(e.elem)))return!1;let o=(0,n.bondLength)(t.elem)+(0,n.bondLength)(e.elem);o+=.25,o*=o;let a=t.x-e.x;if(a*=a,a>o)return!1;let s=t.y-e.y;if(s*=s,s>o)return!1;let l=t.z-e.z;if(l*=l,l>o)return!1;const c=a+s+l;return!(isNaN(c)||c<.5||c>o||t.altLoc!==e.altLoc&&""!==t.altLoc.trim()&&""!==e.altLoc.trim())}},"./src/parsers/utils/assignBackboneHBonds.ts":(t,e,r)=>{"use strict";function n(t,e){const r=e||3.2,n=r*r,i=[];for(let e=0,r=t.length;e<r;e++){t[e].index=e;const r=t[e];r.hetflag||"N"!==r.atom&&"O"!==r.atom||(i.push(r),r.hbondOther=null,r.hbondDistanceSq=Number.POSITIVE_INFINITY)}i.sort((function(t,e){return t.z-e.z}));for(let t=0,e=i.length;t<e;t++){const o=i[t];for(let a=t+1;a<e;a++){const t=i[a],e=t.z-o.z;if(e>r)break;if(t.atom==o.atom)continue;const s=Math.abs(t.y-o.y);if(s>r)continue;const l=Math.abs(t.x-o.x);if(l>r)continue;const c=l*l+s*s+e*e;c>n||t.chain==o.chain&&Math.abs(t.resi-o.resi)<4||(c<o.hbondDistanceSq&&(o.hbondOther=t,o.hbondDistanceSq=c),c<t.hbondDistanceSq&&(t.hbondOther=o,t.hbondDistanceSq=c))}}}r.r(e),r.d(e,{assignBackboneHBonds:()=>n})},"./src/parsers/utils/assignBonds.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{assignBonds:()=>a});var n=r("./src/parsers/utils/areConnected.ts");const i=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],o=4.95;function a(t,e){for(let e=0,r=t.length;e<r;e++)t[e].index||(t[e].index=e);const r={x:{y:{z:[]}}};for(let e=0;e<t.length;e++){const n=t[e],i=Math.floor(n.x/o),a=Math.floor(n.y/o),s=Math.floor(n.z/o);r[i]||(r[i]={}),r[i][a]||(r[i][a]={}),r[i][a][s]||(r[i][a][s]=[]),r[i][a][s].push(n)}function a(t,r){for(let i=0;i<t.length;i++){const o=t[i];for(let t=0;t<r.length;t++){const i=r[t];if((0,n.areConnected)(o,i,e)){const t=o.bonds.indexOf(i.index),e=i.bonds.indexOf(o.index);-1===t&&-1===e?(o.bonds.push(i.index),o.bondOrder.push(1),i.bonds.push(o.index),i.bondOrder.push(1)):-1===t?(o.bonds.push(i.index),o.bondOrder.push(i.bondOrder[e])):-1===e&&(i.bonds.push(o.index),i.bondOrder.push(o.bondOrder[t]))}}}}for(let t in r){const o=parseInt(t);for(let t in r[o]){const s=parseInt(t);for(let t in r[o][s]){const l=parseInt(t),c=r[o][s][l];for(let t=0;t<c.length;t++){const r=c[t];for(let i=t+1;i<c.length;i++){const t=c[i];(0,n.areConnected)(r,t,e)&&-1==r.bonds.indexOf(t.index)&&(r.bonds.push(t.index),r.bondOrder.push(1),t.bonds.push(r.index),t.bondOrder.push(1))}}for(let t=0;t<i.length;t++){const e=i[t];r[o+e.x]&&r[o+e.x][s+e.y]&&r[o+e.x][s+e.y][l+e.z]&&a(c,r[o+e.x][s+e.y][l+e.z])}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{assignPDBBonds:()=>a});var n=r("./src/parsers/utils/areConnected.ts"),i=r("./src/parsers/utils/assignBonds.ts"),o=r("./src/parsers/utils/standardResidues.ts");function a(t,e){const r=[],a=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];n.index=e,n.hetflag||!o.standardResidues.has(n.resn)?a.push(n):r.push(n)}(0,i.assignBonds)(a,e),r.sort((function(t,e){return t.chain!==e.chain?t.chain<e.chain?-1:1:t.resi-e.resi}));let s,l=-1,c=-1;for(let t=0,i=r.length;t<i;t++){const i=r[t];i.resi!==l&&(l=i.resi,s||c++,s=!1),i.reschain=c;for(let o=t+1;o<r.length;o++){const t=r[o];if(t.chain!==i.chain||t.resi-i.resi>1)break;(0,n.areConnected)(i,t,e)&&(-1===i.bonds.indexOf(t.index)&&(i.bonds.push(t.index),i.bondOrder.push(1),t.bonds.push(i.index),t.bondOrder.push(1)),i.resi!==t.resi&&(s=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{atomNameToElem:()=>i});var n=r("./src/parsers/utils/bondLength.ts");function i(t,e){let r=t.replace(/ /g,"");return r.length>0&&"H"===r[0]&&"Hg"!==r&&"He"!==r&&"Hf"!==r&&"Hs"!==r&&"Ho"!==r&&(r="H"),r.length>1&&(r=r[0].toUpperCase()+r.substring(1).toLowerCase(),void 0===n.bondTable[r]?r=r[0]:e&&("Ca"===r||"Cd"===r)&&(r="C")),r}},"./src/parsers/utils/bondLength.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{bondLength:()=>i,bondTable:()=>n,setBondLength:()=>o});let n={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function i(t){return n[t]||1.6}function o(t,e){e<0&&(e=0),n[t]=e}},"./src/parsers/utils/computeSecondaryStructure.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{computeSecondaryStructure:()=>i});var n=r("./src/parsers/utils/assignBackboneHBonds.ts");function i(t,e){(0,n.assignBackboneHBonds)(t,e);const r={};let i,o,a,s,l,c;for(i=0,o=t.length;i<o;i++)if(l=t[i],void 0===r[l.chain]&&(r[l.chain]=[]),isFinite(l.hbondDistanceSq)){const t=l.hbondOther;void 0===r[t.chain]&&(r[t.chain]=[]),4===Math.abs(t.resi-l.resi)&&(r[l.chain][l.resi]="h")}for(a in r)for(s=1;s<r[a].length-1;s++){const t=r[a][s-1],e=r[a][s+1];c=r[a][s],"h"==t&&t==e&&c!=t&&(r[a][s]=t)}for(i=0,o=t.length;i<o;i++)l=t[i],isFinite(l.hbondDistanceSq)&&"h"!=r[l.chain][l.resi]&&"h"!==l.ss&&(r[l.chain][l.resi]="maybesheet");for(let e=0,n=t.length;e<n;e++)if(l=t[e],isFinite(l.hbondDistanceSq)&&"maybesheet"==r[l.chain][l.resi]){let t=l.hbondOther,e=r[t.chain][t.resi];"maybesheet"!=e&&"s"!=e||(r[l.chain][l.resi]="s",r[t.chain][t.resi]="s")}for(let t in r){for(let e=1;e<r[t].length-1;e++){const n=r[t][e-1],i=r[t][e+1];c=r[t][e],"s"==n&&n==i&&c!=n&&(r[t][e]=n)}for(let e=0;e<r[t].length;e++){const n=r[t][e];"h"!=n&&"s"!=n||r[t][e-1]!=n&&r[t][e+1]!=n&&delete r[t][e]}}for(i=0,o=t.length;i<o;i++)l=t[i],c=r[l.chain][l.resi],delete l.hbondOther,delete l.hbondDistanceSq,void 0!==c&&"maybesheet"!==c&&(l.ss=c,r[l.chain][l.resi-1]!=c&&(l.ssbegin=!0),r[l.chain][l.resi+1]!=c&&(l.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{getSinglePDB:()=>u});var n=r("./src/WebGL/index.ts"),i=r("./src/parsers/utils/atomNameToElem.ts"),o=r("./src/parsers/utils/bondLength.ts"),a=r("./src/parsers/utils/computeSecondaryStructure.ts"),s=r("./src/parsers/utils/isEmpty.ts"),l=r("./src/parsers/utils/processSymmetries.ts"),c=r("./src/parsers/utils/assignPDBBonds.ts"),d=r("./src/parsers/utils/validateBonds.ts");function u(t,e,r){const u=[],h=void 0===e.assignBonds||e.assignBonds,f=!e.keepH,p=!!e.noSecondaryStructure,m=!e.noComputeSecondaryStructure,g=!e.doAssembly,b=e.altLoc?e.altLoc:"A",v={symmetries:[],cryst:void 0};let y,x=[];const w=[];let _;const k={};for(let e=0;e<t.length;e++){_=t[e].replace(/^\s*/,"");const a=_.substring(0,6);let s,l,c;if(0===a.indexOf("END")){if(x=t.slice(e+1),"END"===a)for(const t in r)r.hasOwnProperty(t)&&delete r[t];break}if("ATOM  "===a||"HETATM"===a){let t,e,r,n,s,l,c,d,h,p,m,g;if(m=_.substring(16,17)," "!==m&&m!==b&&"*"!==b)continue;if(p=parseInt(_.substring(6,11)),y=_.substring(12,16).replace(/ /g,""),t=_.substring(17,20).replace(/ /g,""),e=_.substring(21,22),r=parseInt(_.substring(22,26)),n=_.substring(26,27),s=parseFloat(_.substring(30,38)),l=parseFloat(_.substring(38,46)),c=parseFloat(_.substring(46,54)),g=parseFloat(_.substring(60,68)),h=_.substring(76,78).replace(/ /g,""),h=""===h||void 0===o.bondTable[h]?(0,i.atomNameToElem)(_.substring(12,14),"A"==_[0]):h[0].toUpperCase()+h.substring(1).toLowerCase(),"H"===h&&f)continue;d="H"==a[0],w[p]=u.length,u.push({resn:t,x:s,y:l,z:c,elem:h,hetflag:d,altLoc:m,chain:e,resi:r,icode:n,rescode:r+(" "!==n?"^"+n:""),serial:p,atom:y,bonds:[],ss:"c",bondOrder:[],properties:{},b:g,pdbline:_})}else if("SHEET "===a){s=_.substring(21,22),l=parseInt(_.substring(22,26)),c=parseInt(_.substring(33,37)),s in r||(r[s]={}),r[s][l]="s1";for(let t=l+1;t<c;t++)r[s][t]="s";r[s][c]="s2"}else if("CONECT"===a){const t=w[parseInt(_.substring(6,11))],e=u[t],r=[11,16,21,26];for(let n=0;n<4;n++){const i=w[parseInt(_.substring(r[n],r[n]+5))];let o=t+":"+i;const a=u[i];if(void 0!==e&&void 0!==a)if(k[o]){k[o]+=1;for(let t=0;t<e.bonds.length;t++)if(e.bonds[t]==i){const r=k[o];e.bondOrder[t]=r>=4?1:r}}else k[o]=1,0!=e.bonds.length&&e.bonds[e.bonds.length-1]===i||(e.bonds.push(i),e.bondOrder.push(1))}}else if("HELIX "===a){s=_.substring(19,20),l=parseInt(_.substring(21,25)),c=parseInt(_.substring(33,37)),s in r||(r[s]={}),r[s][l]="h1";for(let t=l+1;t<c;t++)r[s][t]="h";r[s][c]="h2"}else if(g||"REMARK"!==a||"BIOMT"!==_.substring(13,18)){if("CRYST1"===a){let t,e,r,n,i,o;t=parseFloat(_.substring(7,15)),e=parseFloat(_.substring(16,24)),r=parseFloat(_.substring(25,33)),n=parseFloat(_.substring(34,40)),i=parseFloat(_.substring(41,47)),o=parseFloat(_.substring(48,54)),v.cryst={a:t,b:e,c:r,alpha:n,beta:i,gamma:o}}else if("ANISOU"===a){const t=u[w[parseInt(_.substring(6,11))]];if(t){const e=_.substring(30).trim().split(/\s+/),r={u11:parseInt(e[0]),u22:parseInt(e[1]),u33:parseInt(e[2]),u12:parseInt(e[3]),u13:parseInt(e[4]),u23:parseInt(e[5])};t.uMat=r}}}else{let r,i=new n.Matrix4;for(r=1;r<=3;r++)if(_=t[e].replace(/^\s*/,""),parseInt(_.substring(18,19))==r)i.elements[r-1]=parseFloat(_.substring(23,33)),i.elements[r-1+4]=parseFloat(_.substring(33,43)),i.elements[r-1+8]=parseFloat(_.substring(43,53)),i.elements[r-1+12]=parseFloat(_.substring(53)),e++;else for(;"BIOMT"===_.substring(13,18);)e++,_=t[e].replace(/^\s*/,"");i.elements[3]=0,i.elements[7]=0,i.elements[11]=0,i.elements[15]=1,v.symmetries.push(i),e--}}if((0,d.validateBonds)(u,w),h&&(0,c.assignPDBBonds)(u,e),g||(0,l.processSymmetries)(v.symmetries,u,e,v.cryst),m&&!p&&(0,a.computeSecondaryStructure)(u,e.hbondCutoff),!(0,s.isEmpty)(r))for(let t=0;t<u.length;t++){const e=u[t];if(void 0!==e&&e.chain in r&&e.resi in r[e.chain]){const t=r[e.chain][e.resi];e.ss=t[0],t.length>1&&("1"==t[1]?e.ssbegin=!0:"2"==t[1]&&(e.ssend=!0))}}return[u,v,x]}},"./src/parsers/utils/isEmpty.ts":(t,e,r)=>{"use strict";function n(t){for(const e in t)return!1;return!0}r.r(e),r.d(e,{isEmpty:()=>n})},"./src/parsers/utils/processSymmetries.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{processSymmetries:()=>i});var n=r("./src/WebGL/index.ts");function i(t,e,r,i){const o=!r.duplicateAssemblyAtoms,a=e.length;let s=a,l=-1,c=null,d=null;(r.normalizeAssembly||r.wrapAtoms)&&i&&(c=(0,n.conversionMatrix3)(i.a,i.b,i.c,i.alpha,i.beta,i.gamma),d=new n.Matrix3,d.getInverse3(c));let u=function(t){let e=t.clone().applyMatrix3(d);const r=[e.x,e.y,e.z],i=[0,0,0];for(let t=0;t<3;t++){for(;r[t]<-.001;)r[t]+=1,i[t]+=1;for(;r[t]>1.001;)r[t]-=1,i[t]-=1}const o=new n.Vector3(i[0],i[1],i[2]);return o.applyMatrix3(c),o};if(r.normalizeAssembly&&i)for(let r=0;r<t.length;r++){const i=new n.Vector3(0,0,0);for(let o=0;o<a;o++){const a=new n.Vector3(e[o].x,e[o].y,e[o].z);a.applyMatrix4(t[r]),i.add(a)}i.divideScalar(a);const o=u(i);t[r].isNearlyIdentity()&&o.lengthSq()>.001&&(l=r),t[r].translate(o)}if(o){if(t.length>1)for(let r=0;r<e.length;r++){var h=[];for(let i=0;i<t.length;i++)if(!t[i].isNearlyIdentity()){var f=new n.Vector3;f.set(e[r].x,e[r].y,e[r].z),f.applyMatrix4(t[i]),h.push(f)}e[r].symmetries=h}}else{for(let t=0;t<a;t++)e[t].sym=-1;for(let o=0;o<t.length;o++)if(t[o].isNearlyIdentity()||l==o)for(let t=0;t<a;t++)e[t].sym=o;else{let l=new n.Vector3;for(let n=0;n<a;n++){const a=[];for(let t=0;t<e[n].bonds.length;t++)a.push(e[n].bonds[t]+s);if(l.set(e[n].x,e[n].y,e[n].z),l.applyMatrix4(t[o]),r.wrapAtoms&&i){let t=u(l);l.add(t)}const c={};for(const t in e[n])c[t]=e[n][t];c.x=l.x,c.y=l.y,c.z=l.z,c.bonds=a,c.sym=o,c.index=e.length,e.push(c)}s=e.length}if(r.wrapAtoms&&i){let t=new n.Vector3;for(let r=0;r<a;r++){t.set(e[r].x,e[r].y,e[r].z);let n=u(t);t.add(n),e[r].x=t.x,e[r].y=t.y,e[r].z=t.z}}if(l>=0){const r=new n.Vector3;for(let n=0;n<a;n++)r.set(e[n].x,e[n].y,e[n].z),r.applyMatrix4(t[l]),e[n].x=r.x,e[n].y=r.y,e[n].z=r.z}t.length=0}}},"./src/parsers/utils/standardResidues.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{standardResidues:()=>n});const n=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(t,e,r)=>{"use strict";function n(t,e){for(let r=0,n=t.length;r<n;r++){const n=t[r];for(let r=0;r<n.bonds.length;r++){const i=t[n.bonds[r]],o=e[n.serial];i&&o&&i.bonds.indexOf(o)<0&&(i.bonds.push(o),i.bondOrder.push(n.bondOrder[r]))}}}r.r(e),r.d(e,{validateBonds:()=>n})},"./src/partialCharges.ts":(t,e,r)=>{"use strict";r.r(e),r.d(e,{applyPartialCharges:()=>i,partialCharges:()=>n});const n={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function i(t,e){if((!e||void 0===t.partialCharge)&&t.resn&&t.atom){var r=t.resn+":"+t.atom;t.properties.partialCharge=n[r]}}},"./src/specs.ts":(t,e,r)=>{"use strict";r.r(e)},"./src/utilities.ts":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1185993__)=>{"use strict";__nested_webpack_require_1185993__.r(__nested_webpack_exports__),__nested_webpack_require_1185993__.d(__nested_webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1185993__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1185993__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_1185993__("./src/colors.ts"),pako__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_1185993__("./node_modules/pako/dist/pako.esm.mjs");function extend(t,e){for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&(t[r]=e[r]);return t}function deepCopy(t){let e,r,n;if(null==t)return{};if("object"!=typeof t||null===t)return t;for(n in e=Array.isArray(t)?[]:{},t)r=t[n],e[n]=deepCopy(r);return e}function isNumeric(t){var e=typeof t;return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))}function isEmptyObject(t){var e;for(e in t)return!1;return!0}function makeFunction(callback){return callback&&"string"==typeof callback&&(callback=eval("("+callback+")")),callback&&"function"!=typeof callback?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(t){t&&(!t.volformat||t.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData||(t.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(t.voldata,t.volformat)),t.volscheme&&(t.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(t.volscheme)))}function getExtent(t,e){var r,n,i,o,a,s,l,c,d,u,h=!e;if(r=n=i=9999,o=a=s=-9999,l=c=d=u=0,0===t.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var f=0;f<t.length;f++){var p=t[f];if(void 0!==p&&isFinite(p.x)&&isFinite(p.y)&&isFinite(p.z)&&(u++,l+=p.x,c+=p.y,d+=p.z,r=r<p.x?r:p.x,n=n<p.y?n:p.y,i=i<p.z?i:p.z,o=o>p.x?o:p.x,a=a>p.y?a:p.y,s=s>p.z?s:p.z,p.symmetries&&h))for(var m=0;m<p.symmetries.length;m++)u++,l+=p.symmetries[m].x,c+=p.symmetries[m].y,d+=p.symmetries[m].z,r=r<p.symmetries[m].x?r:p.symmetries[m].x,n=n<p.symmetries[m].y?n:p.symmetries[m].y,i=i<p.symmetries[m].z?i:p.symmetries[m].z,o=o>p.symmetries[m].x?o:p.symmetries[m].x,a=a>p.symmetries[m].y?a:p.symmetries[m].y,s=s>p.symmetries[m].z?s:p.symmetries[m].z}return[[r,n,i],[o,a,s],[l/u,c/u,d/u]]}function getPropertyRange(t,e){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=0,o=t.length;i<o;i++){var a=getAtomProperty(t[i],e);null!=a&&(a<r&&(r=a),a>n&&(n=a))}return isFinite(r)||isFinite(n)?isFinite(r)?isFinite(n)||(n=r):r=n:r=n=0,[r,n]}class PausableTimer{constructor(t,e,r){this.total_time_run=0,this.fn=t,this.arg=r,this.countdown=e,this.start_time=(new Date).getTime(),this.ident=setTimeout(t,e,r)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=(new Date).getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(t){for(var e=window.atob(t),r=e.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=e.charCodeAt(i);return n}function getAtomProperty(t,e){var r=null;return t.properties&&void 0!==t.properties[e]?r=t.properties[e]:void 0!==t[e]&&(r=t[e]),r}function mergeGeos(t,e){var r=e.geometry;void 0!==r&&t.geometryGroups.push(r.geometryGroups[0])}function specStringToObject(t){if("object"==typeof t)return t;if(void 0===t||null==t)return t;try{return JSON.parse(t)}catch(t){}var e=function(t){return isNumeric(t)?Math.floor(parseFloat(t))==parseInt(t)||t.indexOf(".")>=0?parseFloat(t):parseInt(t):"true"===t||"false"!==t&&t},r={};if("all"===(t=t.replace(/%7E/g,"~")))return r;for(var n=t.split(";"),i=0;i<n.length;i++){var o=n[i].split(":"),a=o[0],s={},l=o[1];if(l)if(-1!==(l=l.replace(/~/g,"=")).indexOf("="))for(var c=l.split(","),d=0;d<c.length;d++){var u=c[d].split("=",2);s[u[0]]=e(u[1])}else s=-1!==l.indexOf(",")?l.split(","):e(l);r[a]=s}return r}function checkStatus(t){if(!t.ok)throw new Error(`HTTP ${t.status} - ${t.statusText}`);return t}function get(t,e){var r=fetch(t).then(checkStatus).then((t=>t.text()));return e?r.then(e):r}function getbin(t,e,r,n){var i;return i="POST"==r?fetch(t,{method:"POST",body:n}).then((t=>checkStatus(t))).then((t=>t.arrayBuffer())):fetch(t).then((t=>checkStatus(t))).then((t=>t.arrayBuffer())),e?i.then(e):i}function download(t,e,r,n){var i="",o="",a="",s=null,l=e.addModel();if(t.indexOf(":")<0&&(t=4==t.length?"pdb:"+t:isNaN(t)?"url:"+t:"cid:"+t),"mmtf:"==t.substring(0,5)&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),t="bcif:"+t.slice(5)),"bcif:"===t.substring(0,5))t=t.substring(5).toUpperCase(),a="https://models.rcsb.org/"+t+".bcif.gz",r&&void 0===r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),s=new Promise((function(t){getbin(a).then((function(n){l.addMolData(n,"bcif.gz",r),e.zoomTo(),e.render(),t(l)}),(function(){console.error("fetch of "+a+" failed.")}))}));else{if("pdb:"===t.substring(0,4)){if(i="bcif",r&&r.format&&(i=r.format),r&&void 0===r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),!(t=t.substring(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"bcif"==i?a="https://models.rcsb.org/"+t.toUpperCase()+".bcif.gz":(o=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",a=o+t+"."+i)}else if("cid:"==t.substring(0,4)){if(i="sdf",!(t=t.substring(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");a="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+t+"/SDF?record_type=3d"}else"url:"==t.substring(0,4)&&(a=t.substring(4),i=a);var c=function(t){l.addMolData(t,i,r),e.zoomTo(),e.render()};s=new Promise((function(e){"bcif"==i?getbin(a).then((function(t){c(t),e(l)})).catch((function(){o=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",a=o+t+".pdb",i="pdb",console.warn("falling back to pdb format"),get(a).then((function(t){c(t),e(l)})).catch((function(t){c(""),e(l),console.error("fetch of "+a+" failed: "+t.statusText)}))})):get(a).then((function(t){c(t),e(l)})).catch((function(t){c(""),e(l),console.error("fetch of "+a+" failed: "+t.statusText)}))}))}return n?(s.then((function(t){n(t)})),l):s}function getColorFromStyle(t,e){let r=e.colorscheme;if(void 0!==_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r])r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r];else if("string"==typeof r&&r.endsWith("Carbon")){let t=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(void 0!==_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[t]){let e=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);e.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[t],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]={prop:"elem",map:e},r=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[r]}}let n=t.color;if(void 0!==e.color&&"spectrum"!=e.color&&(n=e.color),void 0!==r){let o,a;if(void 0!==_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r])r=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[r],void 0!==r[t[r.prop]]&&(n=r.map[t[r.prop]]);else if(void 0!==r[t[r.prop]])n=r.map[t[r.prop]];else if(void 0!==r.prop&&void 0!==r.gradient){o=r.prop;var i=r.gradient;i instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(i=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(r));let e=i.range()||[-1,1];a=getAtomProperty(t,o),null!=a&&(n=i.valueToHex(a,e))}else void 0!==r.prop&&void 0!==r.map?(o=r.prop,a=getAtomProperty(t,o),void 0!==r.map[a]&&(n=r.map[a])):void 0!==e.colorscheme[t.elem]?n=e.colorscheme[t.elem]:console.warn("Could not interpret colorscheme "+r)}else void 0!==e.colorfunc&&(n=e.colorfunc(t));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(n)}function getElement(t){let e=t;return"string"==typeof t?e=document.querySelector("#"+t):"object"==typeof t&&t.get&&(e=t.get(0)),e}function inflateString(t,e=!0){let r;return r="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(r,{to:e?"string":null})}},"./node_modules/upng-js/UPNG.js":(t,e,r)=>{var n;n={},t.exports=n,function(t,e){t.toRGBA8=function(e){var r=e.width,n=e.height;if(null==e.tabs.acTL)return[t.toRGBA8.decodeImage(e.data,r,n,e).buffer];var i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var o,a=new Uint8Array(r*n*4),s=0;s<e.frames.length;s++){var l=e.frames[s],c=l.rect.x,d=l.rect.y,u=l.rect.width,h=l.rect.height,f=t.toRGBA8.decodeImage(l.data,u,h,e);if(0==s?o=f:0==l.blend?t._copyTile(f,u,h,o,r,n,c,d,0):1==l.blend&&t._copyTile(f,u,h,o,r,n,c,d,1),i.push(o.buffer),o=o.slice(0),0==l.dispose);else if(1==l.dispose)t._copyTile(a,u,h,o,r,n,c,d,0);else if(2==l.dispose){for(var p=s-1;2==e.frames[p].dispose;)p--;o=new Uint8Array(i[p]).slice(0)}}return i},t.toRGBA8.decodeImage=function(e,r,n,i){var o=r*n,a=t.decode._getBPP(i),s=Math.ceil(r*a/8),l=new Uint8Array(4*o),c=new Uint32Array(l.buffer),d=i.ctype,u=i.depth,h=t._bin.readUshort;if(6==d){var f=o<<2;if(8==u)for(var p=0;p<f;p++)l[p]=e[p];if(16==u)for(p=0;p<f;p++)l[p]=e[p<<1]}else if(2==d){var m=i.tabs.tRNS,g=-1,b=-1,v=-1;if(m&&(g=m[0],b=m[1],v=m[2]),8==u)for(p=0;p<o;p++){var y=3*p;l[M=p<<2]=e[y],l[M+1]=e[y+1],l[M+2]=e[y+2],l[M+3]=255,-1!=g&&e[y]==g&&e[y+1]==b&&e[y+2]==v&&(l[M+3]=0)}if(16==u)for(p=0;p<o;p++)y=6*p,l[M=p<<2]=e[y],l[M+1]=e[y+2],l[M+2]=e[y+4],l[M+3]=255,-1!=g&&h(e,y)==g&&h(e,y+2)==b&&h(e,y+4)==v&&(l[M+3]=0)}else if(3==d){var x=i.tabs.PLTE,w=i.tabs.tRNS,_=w?w.length:0;if(1==u)for(var k=0;k<n;k++){var A=k*s,T=k*r;for(p=0;p<r;p++){var M=T+p<<2,S=3*(E=e[A+(p>>3)]>>7-(7&p)&1);l[M]=x[S],l[M+1]=x[S+1],l[M+2]=x[S+2],l[M+3]=E<_?w[E]:255}}if(2==u)for(k=0;k<n;k++)for(A=k*s,T=k*r,p=0;p<r;p++)M=T+p<<2,S=3*(E=e[A+(p>>2)]>>6-((3&p)<<1)&3),l[M]=x[S],l[M+1]=x[S+1],l[M+2]=x[S+2],l[M+3]=E<_?w[E]:255;if(4==u)for(k=0;k<n;k++)for(A=k*s,T=k*r,p=0;p<r;p++)M=T+p<<2,S=3*(E=e[A+(p>>1)]>>4-((1&p)<<2)&15),l[M]=x[S],l[M+1]=x[S+1],l[M+2]=x[S+2],l[M+3]=E<_?w[E]:255;if(8==u)for(p=0;p<o;p++){var E;M=p<<2,S=3*(E=e[p]),l[M]=x[S],l[M+1]=x[S+1],l[M+2]=x[S+2],l[M+3]=E<_?w[E]:255}}else if(4==d){if(8==u)for(p=0;p<o;p++){M=p<<2;var C=e[z=p<<1];l[M]=C,l[M+1]=C,l[M+2]=C,l[M+3]=e[z+1]}if(16==u)for(p=0;p<o;p++){var z;M=p<<2,C=e[z=p<<2],l[M]=C,l[M+1]=C,l[M+2]=C,l[M+3]=e[z+2]}}else if(0==d){if(g=i.tabs.tRNS?i.tabs.tRNS:-1,1==u)for(p=0;p<o;p++){var L=(C=255*(e[p>>3]>>7-(7&p)&1))==255*g?0:255;c[p]=L<<24|C<<16|C<<8|C}if(2==u)for(p=0;p<o;p++)L=(C=85*(e[p>>2]>>6-((3&p)<<1)&3))==85*g?0:255,c[p]=L<<24|C<<16|C<<8|C;if(4==u)for(p=0;p<o;p++)L=(C=17*(e[p>>1]>>4-((1&p)<<2)&15))==17*g?0:255,c[p]=L<<24|C<<16|C<<8|C;if(8==u)for(p=0;p<o;p++)L=(C=e[p])==g?0:255,c[p]=L<<24|C<<16|C<<8|C;if(16==u)for(p=0;p<o;p++)C=e[p<<1],L=h(e,p<<1)==g?0:255,c[p]=L<<24|C<<16|C<<8|C}return l},t.decode=function(e){for(var r,n=new Uint8Array(e),i=8,o=t._bin,a=o.readUshort,s=o.readUint,l={tabs:{},frames:[]},c=new Uint8Array(n.length),d=0,u=0,h=[137,80,78,71,13,10,26,10],f=0;f<8;f++)if(n[f]!=h[f])throw"The input is not a PNG file!";for(;i<n.length;){var p=o.readUint(n,i);i+=4;var m=o.readASCII(n,i,4);if(i+=4,"IHDR"==m)t.decode._IHDR(n,i,l);else if("IDAT"==m){for(f=0;f<p;f++)c[d+f]=n[i+f];d+=p}else if("acTL"==m)l.tabs[m]={num_frames:s(n,i),num_plays:s(n,i+4)},r=new Uint8Array(n.length);else if("fcTL"==m){0!=u&&((A=l.frames[l.frames.length-1]).data=t.decode._decompress(l,r.slice(0,u),A.rect.width,A.rect.height),u=0);var g={x:s(n,i+12),y:s(n,i+16),width:s(n,i+4),height:s(n,i+8)},b=a(n,i+22);b=a(n,i+20)/(0==b?100:b);var v={rect:g,delay:Math.round(1e3*b),dispose:n[i+24],blend:n[i+25]};l.frames.push(v)}else if("fdAT"==m){for(f=0;f<p-4;f++)r[u+f]=n[i+f+4];u+=p-4}else if("pHYs"==m)l.tabs[m]=[o.readUint(n,i),o.readUint(n,i+4),n[i+8]];else if("cHRM"==m)for(l.tabs[m]=[],f=0;f<8;f++)l.tabs[m].push(o.readUint(n,i+4*f));else if("tEXt"==m){null==l.tabs[m]&&(l.tabs[m]={});var y=o.nextZero(n,i),x=o.readASCII(n,i,y-i),w=o.readASCII(n,y+1,i+p-y-1);l.tabs[m][x]=w}else if("iTXt"==m){null==l.tabs[m]&&(l.tabs[m]={}),y=0;var _=i;y=o.nextZero(n,_),x=o.readASCII(n,_,y-_),n[_=y+1],n[_+1],_+=2,y=o.nextZero(n,_),o.readASCII(n,_,y-_),_=y+1,y=o.nextZero(n,_),o.readUTF8(n,_,y-_),_=y+1,w=o.readUTF8(n,_,p-(_-i)),l.tabs[m][x]=w}else if("PLTE"==m)l.tabs[m]=o.readBytes(n,i,p);else if("hIST"==m){var k=l.tabs.PLTE.length/3;for(l.tabs[m]=[],f=0;f<k;f++)l.tabs[m].push(a(n,i+2*f))}else if("tRNS"==m)3==l.ctype?l.tabs[m]=o.readBytes(n,i,p):0==l.ctype?l.tabs[m]=a(n,i):2==l.ctype&&(l.tabs[m]=[a(n,i),a(n,i+2),a(n,i+4)]);else if("gAMA"==m)l.tabs[m]=o.readUint(n,i)/1e5;else if("sRGB"==m)l.tabs[m]=n[i];else if("bKGD"==m)0==l.ctype||4==l.ctype?l.tabs[m]=[a(n,i)]:2==l.ctype||6==l.ctype?l.tabs[m]=[a(n,i),a(n,i+2),a(n,i+4)]:3==l.ctype&&(l.tabs[m]=n[i]);else if("IEND"==m){var A;0!=u&&((A=l.frames[l.frames.length-1]).data=t.decode._decompress(l,r.slice(0,u),A.rect.width,A.rect.height),u=0),l.data=t.decode._decompress(l,c,l.width,l.height);break}i+=p,o.readUint(n,i),i+=4}return delete l.compress,delete l.interlace,delete l.filter,l},t.decode._decompress=function(e,r,n,i){return 0==e.compress&&(r=t.decode._inflate(r)),0==e.interlace?r=t.decode._filterZero(r,e,0,n,i):1==e.interlace&&(r=t.decode._readInterlace(r,e)),r},t.decode._inflate=function(t){return e.inflate(t)},t.decode._readInterlace=function(e,r){for(var n=r.width,i=r.height,o=t.decode._getBPP(r),a=o>>3,s=Math.ceil(n*o/8),l=new Uint8Array(i*s),c=0,d=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],f=[8,8,4,4,2,2,1],p=0;p<7;){for(var m=h[p],g=f[p],b=0,v=0,y=d[p];y<i;)y+=m,v++;for(var x=u[p];x<n;)x+=g,b++;var w=Math.ceil(b*o/8);t.decode._filterZero(e,r,c,b,v);for(var _=0,k=d[p];k<i;){for(var A=u[p],T=c+_*w<<3;A<n;){var M;if(1==o&&(M=(M=e[T>>3])>>7-(7&T)&1,l[k*s+(A>>3)]|=M<<7-(3&A)),2==o&&(M=(M=e[T>>3])>>6-(7&T)&3,l[k*s+(A>>2)]|=M<<6-((3&A)<<1)),4==o&&(M=(M=e[T>>3])>>4-(7&T)&15,l[k*s+(A>>1)]|=M<<4-((1&A)<<2)),o>=8)for(var S=k*s+A*a,E=0;E<a;E++)l[S+E]=e[(T>>3)+E];T+=o,A+=g}_++,k+=m}b*v!=0&&(c+=v*(1+w)),p+=1}return l},t.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},t.decode._filterZero=function(e,r,n,i,o){var a=t.decode._getBPP(r),s=Math.ceil(i*a/8),l=t.decode._paeth;a=Math.ceil(a/8);for(var c=0;c<o;c++){var d=n+c*s,u=d+c+1,h=e[u-1];if(0==h)for(var f=0;f<s;f++)e[d+f]=e[u+f];else if(1==h){for(f=0;f<a;f++)e[d+f]=e[u+f];for(f=a;f<s;f++)e[d+f]=e[u+f]+e[d+f-a]&255}else if(0==c){for(f=0;f<a;f++)e[d+f]=e[u+f];if(2==h)for(f=a;f<s;f++)e[d+f]=255&e[u+f];if(3==h)for(f=a;f<s;f++)e[d+f]=e[u+f]+(e[d+f-a]>>1)&255;if(4==h)for(f=a;f<s;f++)e[d+f]=e[u+f]+l(e[d+f-a],0,0)&255}else{if(2==h)for(f=0;f<s;f++)e[d+f]=e[u+f]+e[d+f-s]&255;if(3==h){for(f=0;f<a;f++)e[d+f]=e[u+f]+(e[d+f-s]>>1)&255;for(f=a;f<s;f++)e[d+f]=e[u+f]+(e[d+f-s]+e[d+f-a]>>1)&255}if(4==h){for(f=0;f<a;f++)e[d+f]=e[u+f]+l(0,e[d+f-s],0)&255;for(f=a;f<s;f++)e[d+f]=e[u+f]+l(e[d+f-a],e[d+f-s],e[d+f-a-s])&255}}}return e},t.decode._paeth=function(t,e,r){var n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),a=Math.abs(n-r);return i<=o&&i<=a?t:o<=a?e:r},t.decode._IHDR=function(e,r,n){var i=t._bin;n.width=i.readUint(e,r),r+=4,n.height=i.readUint(e,r),r+=4,n.depth=e[r],r++,n.ctype=e[r],r++,n.compress=e[r],r++,n.filter=e[r],r++,n.interlace=e[r],r++},t._bin={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,r){t[e]=r>>8&255,t[e+1]=255&r},readUint:function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r},readASCII:function(t,e,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(t[e+i]);return n},writeASCII:function(t,e,r){for(var n=0;n<r.length;n++)t[e+n]=r.charCodeAt(n)},readBytes:function(t,e,r){for(var n=[],i=0;i<r;i++)n.push(t[e+i]);return n},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(e,r,n){for(var i,o="",a=0;a<n;a++)o+="%"+t._bin.pad(e[r+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return t._bin.readASCII(e,r,n)}return i}},t._copyTile=function(t,e,r,n,i,o,a,s,l){for(var c=Math.min(e,i),d=Math.min(r,o),u=0,h=0,f=0;f<d;f++)for(var p=0;p<c;p++)if(a>=0&&s>=0?(u=f*e+p<<2,h=(s+f)*i+a+p<<2):(u=(-s+f)*e-a+p<<2,h=f*i+p<<2),0==l)n[h]=t[u],n[h+1]=t[u+1],n[h+2]=t[u+2],n[h+3]=t[u+3];else if(1==l){var m=t[u+3]*(1/255),g=t[u]*m,b=t[u+1]*m,v=t[u+2]*m,y=n[h+3]*(1/255),x=n[h]*y,w=n[h+1]*y,_=n[h+2]*y,k=1-m,A=m+y*k,T=0==A?0:1/A;n[h+3]=255*A,n[h+0]=(g+x*k)*T,n[h+1]=(b+w*k)*T,n[h+2]=(v+_*k)*T}else if(2==l)m=t[u+3],g=t[u],b=t[u+1],v=t[u+2],y=n[h+3],x=n[h],w=n[h+1],_=n[h+2],m==y&&g==x&&b==w&&v==_?(n[h]=0,n[h+1]=0,n[h+2]=0,n[h+3]=0):(n[h]=g,n[h+1]=b,n[h+2]=v,n[h+3]=m);else if(3==l){if(m=t[u+3],g=t[u],b=t[u+1],v=t[u+2],y=n[h+3],x=n[h],w=n[h+1],_=n[h+2],m==y&&g==x&&b==w&&v==_)continue;if(m<220&&y>20)return!1}return!0},t.encode=function(e,r,n,i,o,a){null==i&&(i=0),null==a&&(a=!1);for(var s=new Uint8Array(e[0].byteLength*e.length+100),l=[137,80,78,71,13,10,26,10],c=0;c<8;c++)s[c]=l[c];var d=8,u=t._bin,h=t.crc.crc,f=u.writeUint,p=u.writeUshort,m=u.writeASCII,g=t.encode.compressPNG(e,r,n,i,a);f(s,d,13),m(s,d+=4,"IHDR"),f(s,d+=4,r),f(s,d+=4,n),s[d+=4]=g.depth,s[++d]=g.ctype,s[++d]=0,s[++d]=0,s[++d]=0,f(s,++d,h(s,d-17,17)),f(s,d+=4,1),m(s,d+=4,"sRGB"),s[d+=4]=1,f(s,++d,h(s,d-5,5)),d+=4;var b=e.length>1;if(b&&(f(s,d,8),m(s,d+=4,"acTL"),f(s,d+=4,e.length),f(s,d+=4,0),f(s,d+=4,h(s,d-12,12)),d+=4),3==g.ctype){for(f(s,d,3*(M=g.plte.length)),m(s,d+=4,"PLTE"),d+=4,c=0;c<M;c++){var v=3*c,y=g.plte[c],x=255&y,w=y>>8&255,_=y>>16&255;s[d+v+0]=x,s[d+v+1]=w,s[d+v+2]=_}if(f(s,d+=3*M,h(s,d-3*M-4,3*M+4)),d+=4,g.gotAlpha){for(f(s,d,M),m(s,d+=4,"tRNS"),d+=4,c=0;c<M;c++)s[d+c]=g.plte[c]>>24&255;f(s,d+=M,h(s,d-M-4,M+4)),d+=4}}for(var k=0,A=0;A<g.frames.length;A++){var T=g.frames[A];b&&(f(s,d,26),m(s,d+=4,"fcTL"),f(s,d+=4,k++),f(s,d+=4,T.rect.width),f(s,d+=4,T.rect.height),f(s,d+=4,T.rect.x),f(s,d+=4,T.rect.y),p(s,d+=4,o[A]),p(s,d+=2,1e3),s[d+=2]=T.dispose,s[++d]=T.blend,f(s,++d,h(s,d-30,30)),d+=4);var M,S=T.cimg;f(s,d,(M=S.length)+(0==A?0:4));var E=d+=4;for(m(s,d,0==A?"IDAT":"fdAT"),d+=4,0!=A&&(f(s,d,k++),d+=4),c=0;c<M;c++)s[d+c]=S[c];f(s,d+=M,h(s,E,d-E)),d+=4}return f(s,d,0),m(s,d+=4,"IEND"),f(s,d+=4,h(s,d-4,4)),d+=4,s.buffer.slice(0,d)},t.encode.compressPNG=function(e,r,n,i,o){for(var a=t.encode.compress(e,r,n,i,!1,o),s=0;s<e.length;s++){var l=a.frames[s],c=(l.rect.width,l.rect.height),d=l.bpl,u=l.bpp,h=new Uint8Array(c*d+c);l.cimg=t.encode._filterZero(l.img,c,u,d,h)}return a},t.encode.compress=function(e,r,n,i,o,a){null==a&&(a=!1);for(var s=6,l=8,c=4,d=255,u=0;u<e.length;u++)for(var h=new Uint8Array(e[u]),f=h.length,p=0;p<f;p+=4)d&=h[p+3];var m=255!=d,g={},b=[];if(0!=e.length&&(g[0]=0,b.push(0),0!=i&&i--),0!=i){var v=t.quantize(e,i,o);for(e=v.bufs,p=0;p<v.plte.length;p++)null==g[x=v.plte[p].est.rgba]&&(g[x]=b.length,b.push(x))}else for(u=0;u<e.length;u++){var y=new Uint32Array(e[u]);for(f=y.length,p=0;p<f;p++){var x=y[p];if((p<r||x!=y[p-1]&&x!=y[p-r])&&null==g[x]&&(g[x]=b.length,b.push(x),b.length>=300))break}}var w=!!m&&o,_=b.length;_<=256&&0==a&&(l=_<=2?1:_<=4?2:_<=16?4:8,o&&(l=8),m=!0);var k=[];for(u=0;u<e.length;u++){var A=new Uint8Array(e[u]),T=new Uint32Array(A.buffer),M=0,S=0,E=r,C=n,z=0;if(0!=u&&!w){for(var L=o||1==u||2==k[k.length-2].dispose?1:2,O=0,D=1e9,I=0;I<L;I++){for(var F=new Uint8Array(e[u-1-I]),R=new Uint32Array(e[u-1-I]),P=r,j=n,N=-1,B=-1,U=0;U<n;U++)for(var V=0;V<r;V++)T[p=U*r+V]!=R[p]&&(V<P&&(P=V),V>N&&(N=V),U<j&&(j=U),U>B&&(B=U));var G=-1==N?1:(N-P+1)*(B-j+1);G<D&&(D=G,O=I,-1==N?(M=S=0,E=C=1):(M=P,S=j,E=N-P+1,C=B-j+1))}F=new Uint8Array(e[u-1-O]),1==O&&(k[k.length-1].dispose=2);var H=new Uint8Array(E*C*4);new Uint32Array(H.buffer),t._copyTile(F,r,n,H,E,C,-M,-S,0),t._copyTile(A,r,n,H,E,C,-M,-S,3)?(t._copyTile(A,r,n,H,E,C,-M,-S,2),z=1):(t._copyTile(A,r,n,H,E,C,-M,-S,0),z=0),A=H,T=new Uint32Array(A.buffer)}var W=4*E;if(_<=256&&0==a){for(W=Math.ceil(l*E/8),H=new Uint8Array(W*C),U=0;U<C;U++){p=U*W;var q=U*E;if(8==l)for(V=0;V<E;V++)H[p+V]=g[T[q+V]];else if(4==l)for(V=0;V<E;V++)H[p+(V>>1)]|=g[T[q+V]]<<4-4*(1&V);else if(2==l)for(V=0;V<E;V++)H[p+(V>>2)]|=g[T[q+V]]<<6-2*(3&V);else if(1==l)for(V=0;V<E;V++)H[p+(V>>3)]|=g[T[q+V]]<<7-1*(7&V)}A=H,s=3,c=1}else if(0==m&&1==e.length){H=new Uint8Array(E*C*3);var $=E*C;for(p=0;p<$;p++){var Y=3*p,Z=4*p;H[Y]=A[Z],H[Y+1]=A[Z+1],H[Y+2]=A[Z+2]}A=H,s=2,c=3,W=3*E}k.push({rect:{x:M,y:S,width:E,height:C},img:A,bpl:W,bpp:c,blend:z,dispose:w?1:0})}return{ctype:s,depth:l,plte:b,gotAlpha:m,frames:k}},t.encode._filterZero=function(r,n,i,o,a){for(var s=[],l=0;l<5;l++)if(!(n*o>5e5)||2!=l&&3!=l&&4!=l){for(var c=0;c<n;c++)t.encode._filterLine(a,r,c,o,i,l);if(s.push(e.deflate(a)),1==i)break}for(var d,u=1e9,h=0;h<s.length;h++)s[h].length<u&&(d=h,u=s[h].length);return s[d]},t.encode._filterLine=function(e,r,n,i,o,a){var s=n*i,l=s+n,c=t.decode._paeth;if(e[l]=a,l++,0==a)for(var d=0;d<i;d++)e[l+d]=r[s+d];else if(1==a){for(d=0;d<o;d++)e[l+d]=r[s+d];for(d=o;d<i;d++)e[l+d]=r[s+d]-r[s+d-o]+256&255}else if(0==n){for(d=0;d<o;d++)e[l+d]=r[s+d];if(2==a)for(d=o;d<i;d++)e[l+d]=r[s+d];if(3==a)for(d=o;d<i;d++)e[l+d]=r[s+d]-(r[s+d-o]>>1)+256&255;if(4==a)for(d=o;d<i;d++)e[l+d]=r[s+d]-c(r[s+d-o],0,0)+256&255}else{if(2==a)for(d=0;d<i;d++)e[l+d]=r[s+d]+256-r[s+d-i]&255;if(3==a){for(d=0;d<o;d++)e[l+d]=r[s+d]+256-(r[s+d-i]>>1)&255;for(d=o;d<i;d++)e[l+d]=r[s+d]+256-(r[s+d-i]+r[s+d-o]>>1)&255}if(4==a){for(d=0;d<o;d++)e[l+d]=r[s+d]+256-c(0,r[s+d-i],0)&255;for(d=o;d<i;d++)e[l+d]=r[s+d]+256-c(r[s+d-o],r[s+d-i],r[s+d-o-i])&255}}},t.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var r=e,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}return t}(),update:function(e,r,n,i){for(var o=0;o<i;o++)e=t.crc.table[255&(e^r[n+o])]^e>>>8;return e},crc:function(e,r,n){return 4294967295^t.crc.update(4294967295,e,r,n)}},t.quantize=function(e,r,n){for(var i=[],o=0,a=0;a<e.length;a++)i.push(t.encode.alphaMul(new Uint8Array(e[a]),n)),o+=e[a].byteLength;var s=new Uint8Array(o),l=new Uint32Array(s.buffer),c=0;for(a=0;a<i.length;a++){for(var d=i[a],u=d.length,h=0;h<u;h++)s[c+h]=d[h];c+=u}var f={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};f.bst=t.quantize.stats(s,f.i0,f.i1),f.est=t.quantize.estats(f.bst);for(var p=[f];p.length<r;){var m=0,g=0;for(a=0;a<p.length;a++)p[a].est.L>m&&(m=p[a].est.L,g=a);if(m<.001)break;var b=p[g],v=t.quantize.splitPixels(s,l,b.i0,b.i1,b.est.e,b.est.eMq255),y={i0:b.i0,i1:v,bst:null,est:null,tdst:0,left:null,right:null};y.bst=t.quantize.stats(s,y.i0,y.i1),y.est=t.quantize.estats(y.bst);var x={i0:v,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};for(x.bst={R:[],m:[],N:b.bst.N-y.bst.N},a=0;a<16;a++)x.bst.R[a]=b.bst.R[a]-y.bst.R[a];for(a=0;a<4;a++)x.bst.m[a]=b.bst.m[a]-y.bst.m[a];x.est=t.quantize.estats(x.bst),b.left=y,b.right=x,p[g]=y,p.push(x)}p.sort((function(t,e){return e.bst.N-t.bst.N}));for(var w=0;w<i.length;w++){var _=t.quantize.planeDst,k=new Uint8Array(i[w].buffer),A=new Uint32Array(i[w].buffer),T=k.length;for(a=0;a<T;a+=4){for(var M=k[a]*(1/255),S=k[a+1]*(1/255),E=k[a+2]*(1/255),C=k[a+3]*(1/255),z=f;z.left;)z=_(z.est,M,S,E,C)<=0?z.left:z.right;A[a>>2]=z.est.rgba}i[w]=A.buffer}return{bufs:i,plte:p}},t.quantize.getNearest=function(e,r,n,i,o){if(null==e.left)return e.tdst=t.quantize.dist(e.est.q,r,n,i,o),e;var a=t.quantize.planeDst(e.est,r,n,i,o),s=e.left,l=e.right;a>0&&(s=e.right,l=e.left);var c=t.quantize.getNearest(s,r,n,i,o);if(c.tdst<=a*a)return c;var d=t.quantize.getNearest(l,r,n,i,o);return d.tdst<c.tdst?d:c},t.quantize.planeDst=function(t,e,r,n,i){var o=t.e;return o[0]*e+o[1]*r+o[2]*n+o[3]*i-t.eMq},t.quantize.dist=function(t,e,r,n,i){var o=e-t[0],a=r-t[1],s=n-t[2],l=i-t[3];return o*o+a*a+s*s+l*l},t.quantize.splitPixels=function(e,r,n,i,o,a){var s=t.quantize.vecDot;for(i-=4;n<i;){for(;s(e,n,o)<=a;)n+=4;for(;s(e,i,o)>a;)i-=4;if(n>=i)break;var l=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=l,n+=4,i-=4}for(;s(e,n,o)>a;)n-=4;return n+4},t.quantize.vecDot=function(t,e,r){return t[e]*r[0]+t[e+1]*r[1]+t[e+2]*r[2]+t[e+3]*r[3]},t.quantize.stats=function(t,e,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=r-e>>2,a=e;a<r;a+=4){var s=t[a]*(1/255),l=t[a+1]*(1/255),c=t[a+2]*(1/255),d=t[a+3]*(1/255);i[0]+=s,i[1]+=l,i[2]+=c,i[3]+=d,n[0]+=s*s,n[1]+=s*l,n[2]+=s*c,n[3]+=s*d,n[5]+=l*l,n[6]+=l*c,n[7]+=l*d,n[10]+=c*c,n[11]+=c*d,n[15]+=d*d}return n[4]=n[1],n[8]=n[2],n[12]=n[3],n[9]=n[6],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:o}},t.quantize.estats=function(e){var r=e.R,n=e.m,i=e.N,o=n[0],a=n[1],s=n[2],l=n[3],c=0==i?0:1/i,d=[r[0]-o*o*c,r[1]-o*a*c,r[2]-o*s*c,r[3]-o*l*c,r[4]-a*o*c,r[5]-a*a*c,r[6]-a*s*c,r[7]-a*l*c,r[8]-s*o*c,r[9]-s*a*c,r[10]-s*s*c,r[11]-s*l*c,r[12]-l*o*c,r[13]-l*a*c,r[14]-l*s*c,r[15]-l*l*c],u=d,h=t.M4,f=[.5,.5,.5,.5],p=0,m=0;if(0!=i)for(var g=0;g<10&&(f=h.multVec(u,f),m=Math.sqrt(h.dot(f,f)),f=h.sml(1/m,f),!(Math.abs(m-p)<1e-9));g++)p=m;var b=[o*c,a*c,s*c,l*c],v=h.dot(h.sml(255,b),f),y=b[3]<.001?0:1/b[3];return{Cov:d,q:b,e:f,L:p,eMq255:v,eMq:h.dot(f,b),rgba:(Math.round(255*b[3])<<24|Math.round(255*b[2]*y)<<16|Math.round(255*b[1]*y)<<8|Math.round(255*b[0]*y))>>>0}},t.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}},t.encode.alphaMul=function(t,e){for(var r=new Uint8Array(t.length),n=t.length>>2,i=0;i<n;i++){var o=i<<2,a=t[o+3];e&&(a=a<128?0:255);var s=a*(1/255);r[o+0]=t[o+0]*s,r[o+1]=t[o+1]*s,r[o+2]=t[o+2]*s,r[o+3]=a}return r}}(n,r("./node_modules/upng-js/node_modules/pako/index.js"))},"./node_modules/upng-js/node_modules/pako/index.js":(t,e,r)=>{"use strict";var n={};(0,r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign)(n,r("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),r("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js")),t.exports=n},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(t,e,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),i=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),l=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,d)))throw new Error(a[r]);this._dict_set=!0}}function d(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}c.prototype.push=function(t,e){var r,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=c,e.deflate=d,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(t,e,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),i=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),c=r("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),d=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[r])}function h(t,e){var r=new u(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}u.prototype.push=function(t,e){var r,s,l,c,u,h=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(f),h.next_out=0,h.avail_out=f),(r=n.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&r!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),c=h.next_out-l,u=o.buf2string(h.output,l),h.next_out=c,h.avail_out=f-c,c&&i.arraySet(h.output,h.output,l,c,0),this.onData(u)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=u,e.inflate=h,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},e.ungzip=h},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(t,e,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,e.string2buf=function(t){var e,r,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,o,s=e||t.length,c=new Array(2*s);for(n=0,r=0;r<s;)if((i=t[r++])<128)c[n++]=i;else if((o=a[i])>4)c[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<s;)i=i<<6|63&t[r++],o--;o>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return l(c,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":t=>{"use strict";t.exports=function(t,e,r,n){for(var i=65535&t,o=t>>>16&65535,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16}},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,r,n,i){var o=e,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^r[s])];return~t}},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(t,e,r)=>{"use strict";var n,i=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),l=r("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),c=-2,d=258,u=262,h=103,f=113,p=666;function m(t,e){return t.msg=l[e],e}function g(t){return(t<<1)-(t>4?9:0)}function b(t){for(var e=t.length;--e>=0;)t[e]=0}function v(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function y(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,v(t.strm)}function x(t,e){t.pending_buf[t.pending++]=e}function w(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-u?t.strstart-(t.w_size-u):0,c=t.window,h=t.w_mask,f=t.prev,p=t.strstart+d,m=c[o+a-1],g=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(r=e)+a]===g&&c[r+a-1]===m&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<p);if(n=d-(p-o),o=p-d,n>a){if(t.match_start=e,a=n,n>=s)break;m=c[o+a-1],g=c[o+a]}}}while((e=f[e&h])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead}function k(t){var e,r,n,o,l,c,d,h,f,p,m=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-u)){i.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=m?n-m:0}while(--r);e=r=m;do{n=t.prev[--e],t.prev[e]=n>=m?n-m:0}while(--r);o+=m}if(0===t.strm.avail_in)break;if(c=t.strm,d=t.window,h=t.strstart+t.lookahead,f=o,p=void 0,(p=c.avail_in)>f&&(p=f),r=0===p?0:(c.avail_in-=p,i.arraySet(d,c.input,c.next_in,p,h),1===c.state.wrap?c.adler=a(c.adler,d,p,h):2===c.state.wrap&&(c.adler=s(c.adler,d,p,h)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<u&&0!==t.strm.avail_in)}function A(t,e){for(var r,n;;){if(t.lookahead<u){if(k(t),t.lookahead<u&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-u&&(t.match_length=_(t,r)),t.match_length>=3)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}function T(t,e){for(var r,n,i;;){if(t.lookahead<u){if(k(t),t.lookahead<u&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-u&&(t.match_length=_(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}function M(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),b(this.dyn_ltree),b(this.dyn_dtree),b(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),b(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),b(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:f,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):m(t,c)}function C(t){var e,r=E(t);return 0===r&&((e=t.state).window_size=2*e.w_size,b(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function z(t,e,r,n,o,a){if(!t)return c;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||8!==r||n<8||n>15||e<0||e>9||a<0||a>4)return m(t,c);8===n&&(n=9);var l=new S;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=r,C(t)}n=[new M(0,0,0,0,(function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(k(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-u&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(y(t,!1),t.strm.avail_out),1)})),new M(4,4,8,4,A),new M(4,5,16,8,A),new M(4,6,32,32,A),new M(4,4,16,16,T),new M(8,16,32,32,T),new M(8,16,128,128,T),new M(8,32,128,256,T),new M(32,128,258,1024,T),new M(32,258,258,4096,T)],e.deflateInit=function(t,e){return z(t,e,8,15,8,0)},e.deflateInit2=z,e.deflateReset=C,e.deflateResetKeep=E,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,0):c},e.deflate=function(t,e){var r,i,a,l;if(!t||!t.state||e>5||e<0)return t?m(t,c):c;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===p&&4!==e)return m(t,0===t.avail_out?-5:c);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,x(i,31),x(i,139),x(i,8),i.gzhead?(x(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),x(i,255&i.gzhead.time),x(i,i.gzhead.time>>8&255),x(i,i.gzhead.time>>16&255),x(i,i.gzhead.time>>24&255),x(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),x(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(x(i,255&i.gzhead.extra.length),x(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(x(i,0),x(i,0),x(i,0),x(i,0),x(i,0),x(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),x(i,3),i.status=f);else{var u=8+(i.w_bits-8<<4)<<8;u|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(u|=32),u+=31-u%31,i.status=f,w(i,u),0!==i.strstart&&(w(i,t.adler>>>16),w(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),v(t),a=i.pending,i.pending!==i.pending_buf_size));)x(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),v(t),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,x(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),v(t),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,x(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&v(t),i.pending+2<=i.pending_buf_size&&(x(i,255&t.adler),x(i,t.adler>>8&255),t.adler=0,i.status=f)):i.status=f),0!==i.pending){if(v(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&g(e)<=g(r)&&4!==e)return m(t,-5);if(i.status===p&&0!==t.avail_in)return m(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&i.status!==p){var _=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(k(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=d){if(k(t),t.lookahead<=d&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+d;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=d-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==_&&4!==_||(i.status=p),1===_||3===_)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(b(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),v(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(x(i,255&t.adler),x(i,t.adler>>8&255),x(i,t.adler>>16&255),x(i,t.adler>>24&255),x(i,255&t.total_in),x(i,t.total_in>>8&255),x(i,t.total_in>>16&255),x(i,t.total_in>>24&255)):(w(i,t.adler>>>16),w(i,65535&t.adler)),v(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&e!==h&&e!==f&&e!==p?m(t,c):(t.state=null,e===f?m(t,-3):0):c},e.deflateSetDictionary=function(t,e){var r,n,o,s,l,d,u,h,f=e.length;if(!t||!t.state)return c;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(t.adler=a(t.adler,e,f,0)),r.wrap=0,f>=r.w_size&&(0===s&&(b(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,e,f-r.w_size,r.w_size,0),e=h,f=r.w_size),l=t.avail_in,d=t.next_in,u=t.input,t.avail_in=f,t.next_in=0,t.input=e,k(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=2,k(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=d,t.input=u,t.avail_in=l,r.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":t=>{"use strict";t.exports=function(t,e){var r,n,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A,T,M;r=t.state,n=t.next_in,T=t.input,i=n+(t.avail_in-5),o=t.next_out,M=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=r.dmax,c=r.wsize,d=r.whave,u=r.wnext,h=r.window,f=r.hold,p=r.bits,m=r.lencode,g=r.distcode,b=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;t:do{p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),y=m[f&b];e:for(;;){if(f>>>=x=y>>>24,p-=x,0==(x=y>>>16&255))M[o++]=65535&y;else{if(!(16&x)){if(64&x){if(32&x){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}y=m[(65535&y)+(f&(1<<x)-1)];continue e}for(w=65535&y,(x&=15)&&(p<x&&(f+=T[n++]<<p,p+=8),w+=f&(1<<x)-1,f>>>=x,p-=x),p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),y=g[f&v];;){if(f>>>=x=y>>>24,p-=x,16&(x=y>>>16&255)){if(_=65535&y,p<(x&=15)&&(f+=T[n++]<<p,(p+=8)<x&&(f+=T[n++]<<p,p+=8)),(_+=f&(1<<x)-1)>l){t.msg="invalid distance too far back",r.mode=30;break t}if(f>>>=x,p-=x,_>(x=o-a)){if((x=_-x)>d&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(k=0,A=h,0===u){if(k+=c-x,x<w){w-=x;do{M[o++]=h[k++]}while(--x);k=o-_,A=M}}else if(u<x){if(k+=c+u-x,(x-=u)<w){w-=x;do{M[o++]=h[k++]}while(--x);if(k=0,u<w){w-=x=u;do{M[o++]=h[k++]}while(--x);k=o-_,A=M}}}else if(k+=u-x,x<w){w-=x;do{M[o++]=h[k++]}while(--x);k=o-_,A=M}for(;w>2;)M[o++]=A[k++],M[o++]=A[k++],M[o++]=A[k++],w-=3;w&&(M[o++]=A[k++],w>1&&(M[o++]=A[k++]))}else{k=o-_;do{M[o++]=M[k++],M[o++]=M[k++],M[o++]=M[k++],w-=3}while(w>2);w&&(M[o++]=M[k++],w>1&&(M[o++]=M[k++]))}break}if(64&x){t.msg="invalid distance code",r.mode=30;break t}y=g[(65535&y)+(f&(1<<x)-1)]}}break}}while(n<i&&o<s);n-=w=p>>3,f&=(1<<(p-=w<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=f,r.bits=p}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(t,e,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),i=r("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),o=r("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),a=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),s=r("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),l=-2,c=12,d=30;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):l}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):l}function m(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,p(t))):l}function g(t,e){var r,n;return t?(n=new h,t.state=n,n.window=null,0!==(r=m(t,e))&&(t.state=null),r):l}var b,v,y=!0;function x(t){if(y){var e;for(b=new n.Buf32(512),v=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,b,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,v,0,t.work,{bits:5}),y=!1}t.lencode=b,t.lenbits=9,t.distcode=v,t.distbits=5}function w(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=p,e.inflateReset2=m,e.inflateResetKeep=f,e.inflateInit=function(t){return g(t,15)},e.inflateInit2=g,e.inflate=function(t,e){var r,h,f,p,m,g,b,v,y,_,k,A,T,M,S,E,C,z,L,O,D,I,F,R,P=0,j=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;(r=t.state).mode===c&&(r.mode=13),m=t.next_out,f=t.output,b=t.avail_out,p=t.next_in,h=t.input,g=t.avail_in,v=r.hold,y=r.bits,_=g,k=b,I=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;y<16;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(2&r.wrap&&35615===v){r.check=0,j[0]=255&v,j[1]=v>>>8&255,r.check=o(r.check,j,2,0),v=0,y=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=d;break}if(8!=(15&v)){t.msg="unknown compression method",r.mode=d;break}if(y-=4,D=8+(15&(v>>>=4)),0===r.wbits)r.wbits=D;else if(D>r.wbits){t.msg="invalid window size",r.mode=d;break}r.dmax=1<<D,t.adler=r.check=1,r.mode=512&v?10:c,v=0,y=0;break;case 2:for(;y<16;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(r.flags=v,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=d;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=d;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,r.check=o(r.check,j,2,0)),v=0,y=0,r.mode=3;case 3:for(;y<32;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}r.head&&(r.head.time=v),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,j[2]=v>>>16&255,j[3]=v>>>24&255,r.check=o(r.check,j,4,0)),v=0,y=0,r.mode=4;case 4:for(;y<16;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,r.check=o(r.check,j,2,0)),v=0,y=0,r.mode=5;case 5:if(1024&r.flags){for(;y<16;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,r.check=o(r.check,j,2,0)),v=0,y=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((A=r.length)>g&&(A=g),A&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,h,p,A,D)),512&r.flags&&(r.check=o(r.check,h,A,p)),g-=A,p+=A,r.length-=A),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break t;A=0;do{D=h[p+A++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D))}while(D&&A<g);if(512&r.flags&&(r.check=o(r.check,h,A,p)),g-=A,p+=A,D)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break t;A=0;do{D=h[p+A++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D))}while(D&&A<g);if(512&r.flags&&(r.check=o(r.check,h,A,p)),g-=A,p+=A,D)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;y<16;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(v!==(65535&r.check)){t.msg="header crc mismatch",r.mode=d;break}v=0,y=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=c;break;case 10:for(;y<32;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}t.adler=r.check=u(v),v=0,y=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=m,t.avail_out=b,t.next_in=p,t.avail_in=g,r.hold=v,r.bits=y,2;t.adler=r.check=1,r.mode=c;case c:if(5===e||6===e)break t;case 13:if(r.last){v>>>=7&y,y-=7&y,r.mode=27;break}for(;y<3;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}switch(r.last=1&v,y-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(x(r),r.mode=20,6===e){v>>>=2,y-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=d}v>>>=2,y-=2;break;case 14:for(v>>>=7&y,y-=7&y;y<32;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=d;break}if(r.length=65535&v,v=0,y=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(A=r.length){if(A>g&&(A=g),A>b&&(A=b),0===A)break t;n.arraySet(f,h,p,A,m),g-=A,p+=A,b-=A,m+=A,r.length-=A;break}r.mode=c;break;case 17:for(;y<14;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(r.nlen=257+(31&v),v>>>=5,y-=5,r.ndist=1+(31&v),v>>>=5,y-=5,r.ncode=4+(15&v),v>>>=4,y-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=d;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;y<3;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}r.lens[N[r.have++]]=7&v,v>>>=3,y-=3}for(;r.have<19;)r.lens[N[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},I=s(0,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,I){t.msg="invalid code lengths set",r.mode=d;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;E=(P=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,C=65535&P,!((S=P>>>24)<=y);){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(C<16)v>>>=S,y-=S,r.lens[r.have++]=C;else{if(16===C){for(R=S+2;y<R;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(v>>>=S,y-=S,0===r.have){t.msg="invalid bit length repeat",r.mode=d;break}D=r.lens[r.have-1],A=3+(3&v),v>>>=2,y-=2}else if(17===C){for(R=S+3;y<R;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}y-=S,D=0,A=3+(7&(v>>>=S)),v>>>=3,y-=3}else{for(R=S+7;y<R;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}y-=S,D=0,A=11+(127&(v>>>=S)),v>>>=7,y-=7}if(r.have+A>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=d;break}for(;A--;)r.lens[r.have++]=D}}if(r.mode===d)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=d;break}if(r.lenbits=9,F={bits:r.lenbits},I=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,I){t.msg="invalid literal/lengths set",r.mode=d;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},I=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,I){t.msg="invalid distances set",r.mode=d;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(g>=6&&b>=258){t.next_out=m,t.avail_out=b,t.next_in=p,t.avail_in=g,r.hold=v,r.bits=y,a(t,k),m=t.next_out,f=t.output,b=t.avail_out,p=t.next_in,h=t.input,g=t.avail_in,v=r.hold,y=r.bits,r.mode===c&&(r.back=-1);break}for(r.back=0;E=(P=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,C=65535&P,!((S=P>>>24)<=y);){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(E&&!(240&E)){for(z=S,L=E,O=C;E=(P=r.lencode[O+((v&(1<<z+L)-1)>>z)])>>>16&255,C=65535&P,!(z+(S=P>>>24)<=y);){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}v>>>=z,y-=z,r.back+=z}if(v>>>=S,y-=S,r.back+=S,r.length=C,0===E){r.mode=26;break}if(32&E){r.back=-1,r.mode=c;break}if(64&E){t.msg="invalid literal/length code",r.mode=d;break}r.extra=15&E,r.mode=22;case 22:if(r.extra){for(R=r.extra;y<R;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,y-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;E=(P=r.distcode[v&(1<<r.distbits)-1])>>>16&255,C=65535&P,!((S=P>>>24)<=y);){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(!(240&E)){for(z=S,L=E,O=C;E=(P=r.distcode[O+((v&(1<<z+L)-1)>>z)])>>>16&255,C=65535&P,!(z+(S=P>>>24)<=y);){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}v>>>=z,y-=z,r.back+=z}if(v>>>=S,y-=S,r.back+=S,64&E){t.msg="invalid distance code",r.mode=d;break}r.offset=C,r.extra=15&E,r.mode=24;case 24:if(r.extra){for(R=r.extra;y<R;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,y-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=d;break}r.mode=25;case 25:if(0===b)break t;if(A=k-b,r.offset>A){if((A=r.offset-A)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=d;break}A>r.wnext?(A-=r.wnext,T=r.wsize-A):T=r.wnext-A,A>r.length&&(A=r.length),M=r.window}else M=f,T=m-r.offset,A=r.length;A>b&&(A=b),b-=A,r.length-=A;do{f[m++]=M[T++]}while(--A);0===r.length&&(r.mode=21);break;case 26:if(0===b)break t;f[m++]=r.length,b--,r.mode=21;break;case 27:if(r.wrap){for(;y<32;){if(0===g)break t;g--,v|=h[p++]<<y,y+=8}if(k-=b,t.total_out+=k,r.total+=k,k&&(t.adler=r.check=r.flags?o(r.check,f,k,m-k):i(r.check,f,k,m-k)),k=b,(r.flags?v:u(v))!==r.check){t.msg="incorrect data check",r.mode=d;break}v=0,y=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;y<32;){if(0===g)break t;g--,v+=h[p++]<<y,y+=8}if(v!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=d;break}v=0,y=0}r.mode=29;case 29:I=1;break t;case d:I=-3;break t;case 31:return-4;default:return l}return t.next_out=m,t.avail_out=b,t.next_in=p,t.avail_in=g,r.hold=v,r.bits=y,(r.wsize||k!==t.avail_out&&r.mode<d&&(r.mode<27||4!==e))&&w(t,t.output,t.next_out,k-t.avail_out)?(r.mode=31,-4):(_-=t.avail_in,k-=t.avail_out,t.total_in+=_,t.total_out+=k,r.total+=k,r.wrap&&k&&(t.adler=r.check=r.flags?o(r.check,f,k,t.next_out-k):i(r.check,f,k,t.next_out-k)),t.data_type=r.bits+(r.last?64:0)+(r.mode===c?128:0)+(20===r.mode||15===r.mode?256:0),(0===_&&0===k||4===e)&&0===I&&(I=-5),I)},e.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var r;return t&&t.state&&2&(r=t.state).wrap?(r.head=e,e.done=!1,0):l},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,e,n,0)!==r.check?-3:w(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},e.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(t,e,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,l,c,d,u,h){var f,p,m,g,b,v,y,x,w,_=h.bits,k=0,A=0,T=0,M=0,S=0,E=0,C=0,z=0,L=0,O=0,D=null,I=0,F=new n.Buf16(16),R=new n.Buf16(16),P=null,j=0;for(k=0;k<=15;k++)F[k]=0;for(A=0;A<l;A++)F[e[r+A]]++;for(S=_,M=15;M>=1&&0===F[M];M--);if(S>M&&(S=M),0===M)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(T=1;T<M&&0===F[T];T++);for(S<T&&(S=T),z=1,k=1;k<=15;k++)if(z<<=1,(z-=F[k])<0)return-1;if(z>0&&(0===t||1!==M))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+F[k];for(A=0;A<l;A++)0!==e[r+A]&&(u[R[e[r+A]]++]=A);if(0===t?(D=P=u,v=19):1===t?(D=i,I-=257,P=o,j-=257,v=256):(D=a,P=s,v=-1),O=0,A=0,k=T,b=d,E=S,C=0,m=-1,g=(L=1<<S)-1,1===t&&L>852||2===t&&L>592)return 1;for(;;){y=k-C,u[A]<v?(x=0,w=u[A]):u[A]>v?(x=P[j+u[A]],w=D[I+u[A]]):(x=96,w=0),f=1<<k-C,T=p=1<<E;do{c[b+(O>>C)+(p-=f)]=y<<24|x<<16|w}while(0!==p);for(f=1<<k-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,A++,0==--F[k]){if(k===M)break;k=e[r+u[A]]}if(k>S&&(O&g)!==m){for(0===C&&(C=S),b+=T,z=1<<(E=k-C);E+C<M&&!((z-=F[E+C])<=0);)E++,z<<=1;if(L+=1<<E,1===t&&L>852||2===t&&L>592)return 1;c[m=O&g]=S<<24|E<<16|b-d}}return 0!==O&&(c[b+O]=k-C<<24|64<<16),h.bits=S,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(t,e,r)=>{"use strict";var n=r("./node_modules/upng-js/node_modules/pako/lib/utils/common.js");function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var d=new Array(60);i(d);var u=new Array(512);i(u);var h=new Array(256);i(h);var f=new Array(29);i(f);var p,m,g,b=new Array(30);function v(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function x(t){return t<256?u[t]:u[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function _(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function k(t,e,r){_(t,r[2*e],r[2*e+1])}function A(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function T(t,e,r){var n,i,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=A(o[s]++,s))}}function M(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function S(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function E(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function C(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&E(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!E(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function z(t,e,r){var n,i,s,l,c=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===n?k(t,i,e):(k(t,(s=h[i])+256+1,e),0!==(l=o[s])&&_(t,i-=f[s],l),k(t,s=x(--n),r),0!==(l=a[s])&&_(t,n-=b[s],l))}while(c<t.last_lit);k(t,256,e)}function L(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<l;r++)0!==o[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)C(t,o,r);i=l;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,C(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,l=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(o=l[2*l[2*(n=t.heap[r])+1]+1]+1)>p&&(o=p,m++),l[2*n+1]=o,n>c||(t.bl_count[o]++,a=0,n>=f&&(a=h[n-f]),s=l[2*n],t.opt_len+=s*(o+a),u&&(t.static_len+=s*(d[2*n+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>c||(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),n--)}}(t,e),T(o,c,t.bl_count)}function O(t,e,r){var n,i,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<l&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function D(t,e,r){var n,i,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<l&&i===a)){if(s<c)do{k(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(k(t,i,t.bl_tree),s--),k(t,16,t.bl_tree),_(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),_(t,s-3,3)):(k(t,18,t.bl_tree),_(t,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}i(b);var I=!1;function F(t,e,r,i){_(t,0+(i?1:0),3),function(t,e,r){S(t),w(t,r),w(t,~r),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r)}e._tr_init=function(t){I||(function(){var t,e,r,n,i,l=new Array(16);for(r=0,n=0;n<28;n++)for(f[n]=r,t=0;t<1<<o[n];t++)h[r++]=n;for(h[r-1]=n,i=0,n=0;n<16;n++)for(b[n]=i,t=0;t<1<<a[n];t++)u[i++]=n;for(i>>=7;n<30;n++)for(b[n]=i<<7,t=0;t<1<<a[n]-7;t++)u[256+i++]=n;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,l[8]++;for(;t<=255;)c[2*t+1]=9,t++,l[9]++;for(;t<=279;)c[2*t+1]=7,t++,l[7]++;for(;t<=287;)c[2*t+1]=8,t++,l[8]++;for(T(c,287,l),t=0;t<30;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new v(c,o,257,286,15),m=new v(d,a,0,30,15),g=new v(new Array(0),s,0,19,7)}(),I=!0),t.l_desc=new y(t.dyn_ltree,p),t.d_desc=new y(t.dyn_dtree,m),t.bl_desc=new y(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,M(t)},e._tr_stored_block=F,e._tr_flush_block=function(t,e,r,n){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),L(t,t.l_desc),L(t,t.d_desc),a=function(t){var e;for(O(t,t.dyn_ltree,t.l_desc.max_code),O(t,t.dyn_dtree,t.d_desc.max_code),L(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?F(t,e,r,n):4===t.strategy||o===i?(_(t,2+(n?1:0),3),z(t,c,d)):(_(t,4+(n?1:0),3),function(t,e,r,n){var i;for(_(t,e-257,5),_(t,r-1,5),_(t,n-4,4),i=0;i<n;i++)_(t,t.bl_tree[2*l[i]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),z(t,t.dyn_ltree,t.dyn_dtree)),M(t),n&&S(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(h[r]+256+1)]++,t.dyn_dtree[2*x(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){_(t,2,3),k(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=function(){self.onmessage=function(t){var e=t.data,r=e.type;if(r<0)self.atomData=e.atoms,self.volume=e.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(e.expandedExtent,1!=r,self.volume),n.fillvoxels(self.atomData,e.extendedAtoms),n.buildboundary(),4!==r&&2!==r||(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,e.extendedAtoms)),n.marchingcube(r);var i=n.getFacesAndVertices(e.atomsToShow);self.postMessage(i)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=";\nfunction _classCallCheck() {};",$3Dmol.workerString+=";\n"+$3Dmol.Vector3.toString(),$3Dmol.workerString+=";\n"+$3Dmol.MarchingCubeInitializer.toString()+";\n\n",$3Dmol.workerString+=";\n"+$3Dmol.PointGrid.toString()+";\n",$3Dmol.workerString+=";\nvar ProteinSurface = "+$3Dmol.ProteinSurface.toString()+";\n",$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":t=>{"object"==typeof t.exports&&(t.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(t,e){!function(t){"use strict";function e(t,e,r){for(var n=(t.byteLength,0),i=r.length;i>n;n++){var o=r.charCodeAt(n);if(128>o)t.setUint8(e++,o>>>0&127);else if(2048>o)t.setUint8(e++,o>>>6&31|192),t.setUint8(e++,o>>>0&63|128);else if(65536>o)t.setUint8(e++,o>>>12&15|224),t.setUint8(e++,o>>>6&63|128),t.setUint8(e++,o>>>0&63|128);else{if(!(1114112>o))throw new Error("bad codepoint "+o);t.setUint8(e++,o>>>18&7|240),t.setUint8(e++,o>>>12&63|128),t.setUint8(e++,o>>>6&63|128),t.setUint8(e++,o>>>0&63|128)}}}function r(t){for(var e=0,r=0,n=t.length;n>r;r++){var i=t.charCodeAt(r);if(128>i)e+=1;else if(2048>i)e+=2;else if(65536>i)e+=3;else{if(!(1114112>i))throw new Error("bad codepoint "+i);e+=4}}return e}function n(t,i,o){var a=typeof t;if("string"===a){if(32>(s=r(t)))return i.setUint8(o,160|s),e(i,o+1,t),1+s;if(256>s)return i.setUint8(o,217),i.setUint8(o+1,s),e(i,o+2,t),2+s;if(65536>s)return i.setUint8(o,218),i.setUint16(o+1,s),e(i,o+3,t),3+s;if(4294967296>s)return i.setUint8(o,219),i.setUint32(o+1,s),e(i,o+5,t),5+s}if(t instanceof Uint8Array){var s=t.byteLength,l=new Uint8Array(i.buffer);if(256>s)return i.setUint8(o,196),i.setUint8(o+1,s),l.set(t,o+2),2+s;if(65536>s)return i.setUint8(o,197),i.setUint16(o+1,s),l.set(t,o+3),3+s;if(4294967296>s)return i.setUint8(o,198),i.setUint32(o+1,s),l.set(t,o+5),5+s}if("number"===a){if(!isFinite(t))throw new Error("Number not finite: "+t);if(Math.floor(t)!==t)return i.setUint8(o,203),i.setFloat64(o+1,t),9;if(t>=0){if(128>t)return i.setUint8(o,t),1;if(256>t)return i.setUint8(o,204),i.setUint8(o+1,t),2;if(65536>t)return i.setUint8(o,205),i.setUint16(o+1,t),3;if(4294967296>t)return i.setUint8(o,206),i.setUint32(o+1,t),5;throw new Error("Number too big 0x"+t.toString(16))}if(t>=-32)return i.setInt8(o,t),1;if(t>=-128)return i.setUint8(o,208),i.setInt8(o+1,t),2;if(t>=-32768)return i.setUint8(o,209),i.setInt16(o+1,t),3;if(t>=-2147483648)return i.setUint8(o,210),i.setInt32(o+1,t),5;throw new Error("Number too small -0x"+(-t).toString(16).substr(1))}if(null===t)return i.setUint8(o,192),1;if("boolean"===a)return i.setUint8(o,t?195:194),1;if("object"===a){var c=0,d=Array.isArray(t);if(d)s=t.length;else{var u=Object.keys(t);s=u.length}if(16>s?(i.setUint8(o,s|(d?144:128)),c=1):65536>s?(i.setUint8(o,d?220:222),i.setUint16(o+1,s),c=3):4294967296>s&&(i.setUint8(o,d?221:223),i.setUint32(o+1,s),c=5),d)for(var h=0;s>h;h++)c+=n(t[h],i,o+c);else for(h=0;s>h;h++){var f=u[h];c+=n(f,i,o+c),c+=n(t[f],i,o+c)}return c}throw new Error("Unknown type "+a)}function i(t){var e=typeof t;if("string"===e){if(32>(n=r(t)))return 1+n;if(256>n)return 2+n;if(65536>n)return 3+n;if(4294967296>n)return 5+n}if(t instanceof Uint8Array){if(256>(n=t.byteLength))return 2+n;if(65536>n)return 3+n;if(4294967296>n)return 5+n}if("number"===e){if(Math.floor(t)!==t)return 9;if(t>=0){if(128>t)return 1;if(256>t)return 2;if(65536>t)return 3;if(4294967296>t)return 5;throw new Error("Number too big 0x"+t.toString(16))}if(t>=-32)return 1;if(t>=-128)return 2;if(t>=-32768)return 3;if(t>=-2147483648)return 5;throw new Error("Number too small -0x"+t.toString(16).substr(1))}if("boolean"===e||null===t)return 1;if("object"===e){var n,o=0;if(Array.isArray(t)){n=t.length;for(var a=0;n>a;a++)o+=i(t[a])}else{var s=Object.keys(t);for(n=s.length,a=0;n>a;a++){var l=s[a];o+=i(l)+i(t[l])}}if(16>n)return 1+o;if(65536>n)return 3+o;if(4294967296>n)return 5+o;throw new Error("Array or object too long 0x"+n.toString(16))}throw new Error("Unknown type "+e)}function o(t){var e=new ArrayBuffer(i(t));return n(t,new DataView(e),0),new Uint8Array(e)}function a(t,e,r){return e?new t(e.buffer,e.byteOffset,e.byteLength/(r||1)):void 0}function s(t){return a(DataView,t)}function l(t){return a(Uint8Array,t)}function c(t){return a(Int8Array,t)}function d(t){return a(Int32Array,t,4)}function u(t,e){var r=t.length/2;e||(e=new Int16Array(r));for(var n=0,i=0;r>n;++n,i+=2)e[n]=t[i]<<8^t[i+1];return e}function h(t,e){var r=t.length/4;e||(e=new Int32Array(r));for(var n=0,i=0;r>n;++n,i+=4)e[n]=t[i]<<24^t[i+1]<<16^t[i+2]<<8^t[i+3];return e}function f(t,e){var r=t.length;e||(e=new Uint8Array(4*r));for(var n=s(e),i=0;r>i;++i)n.setInt32(4*i,t[i]);return l(e)}function p(t,e,r){var n=t.length,i=1/e;r||(r=new Float32Array(n));for(var o=0;n>o;++o)r[o]=t[o]*i;return r}function m(t,e,r){var n=t.length;r||(r=new Int32Array(n));for(var i=0;n>i;++i)r[i]=Math.round(t[i]*e);return r}function g(t,e){var r,n;if(!e){var i=0;for(r=0,n=t.length;n>r;r+=2)i+=t[r+1];e=new t.constructor(i)}var o=0;for(r=0,n=t.length;n>r;r+=2)for(var a=t[r],s=t[r+1],l=0;s>l;++l)e[o]=a,++o;return e}function b(t){if(0===t.length)return new Int32Array;var e,r,n=2;for(e=1,r=t.length;r>e;++e)t[e-1]!==t[e]&&(n+=2);var i=new Int32Array(n),o=0,a=1;for(e=1,r=t.length;r>e;++e)t[e-1]!==t[e]?(i[o]=t[e-1],i[o+1]=a,a=1,o+=2):++a;return i[o]=t[t.length-1],i[o+1]=a,i}function v(t,e){var r=t.length;e||(e=new t.constructor(r)),r&&(e[0]=t[0]);for(var n=1;r>n;++n)e[n]=t[n]+e[n-1];return e}function y(t,e){var r=t.length;e||(e=new t.constructor(r)),e[0]=t[0];for(var n=1;r>n;++n)e[n]=t[n]-t[n-1];return e}function x(t,e){var r,n,i=t instanceof Int8Array?127:32767,o=-i-1,a=t.length;if(!e){var s=0;for(r=0;a>r;++r)t[r]<i&&t[r]>o&&++s;e=new Int32Array(s)}for(r=0,n=0;a>r;){for(var l=0;t[r]===i||t[r]===o;)l+=t[r],++r;l+=t[r],++r,e[n]=l,++n}return e}function w(t,e,r){return p(x(t,d(r)),e,r)}function _(t,e,r){var n=x(t,d(r));return function(t,e,r){return p(v(t,d(r)),e,r)}(n,e,function(t){return a(Float32Array,t,4)}(n))}function k(t,e,r){return function(t,e){var r,n=e?127:32767,i=-n-1,o=t.length,a=0;for(r=0;o>r;++r)0===(c=t[r])?++a:c>0?(a+=Math.ceil(c/n),c%n==0&&(a+=1)):(a+=Math.ceil(c/i),c%i==0&&(a+=1));var s=e?new Int8Array(a):new Int16Array(a),l=0;for(r=0;o>r;++r){var c;if((c=t[r])>=0)for(;c>=n;)s[l]=n,++l,c-=n;else for(;i>=c;)s[l]=i,++l,c-=i;s[l]=c,++l}return s}(function(t,e,r){return y(m(t,e),r)}(t,e),r)}function A(t,e,r,n){var i=new ArrayBuffer(12+n.byteLength),o=new Uint8Array(i),a=new DataView(i);return a.setInt32(0,t),a.setInt32(4,e),r&&o.set(r,8),o.set(n,12),o}function T(t){return A(2,t.length,void 0,l(t))}function M(t){return A(4,t.length,void 0,f(t))}function S(t,e){return A(5,t.length/e,f([e]),l(t))}function E(t){return A(6,t.length,void 0,f(b(t)))}function C(t){return A(8,t.length,void 0,f(function(t){return b(y(t))}(t)))}function z(t,e){return A(9,t.length,f([e]),f(function(t,e){return b(m(t,e))}(t,e)))}function L(t,e){return A(10,t.length,f([e]),function(t,e){var r=t.length;e||(e=new Uint8Array(2*r));for(var n=s(e),i=0;r>i;++i)n.setInt16(2*i,t[i]);return l(e)}(k(t,e)))}function O(t){var e={};return N.forEach((function(r){void 0!==t[r]&&(e[r]=t[r])})),t.bondAtomList&&(e.bondAtomList=M(t.bondAtomList)),t.bondOrderList&&(e.bondOrderList=T(t.bondOrderList)),e.xCoordList=L(t.xCoordList,1e3),e.yCoordList=L(t.yCoordList,1e3),e.zCoordList=L(t.zCoordList,1e3),t.bFactorList&&(e.bFactorList=L(t.bFactorList,100)),t.atomIdList&&(e.atomIdList=C(t.atomIdList)),t.altLocList&&(e.altLocList=E(t.altLocList)),t.occupancyList&&(e.occupancyList=z(t.occupancyList,100)),e.groupIdList=C(t.groupIdList),e.groupTypeList=M(t.groupTypeList),t.secStructList&&(e.secStructList=T(t.secStructList)),t.insCodeList&&(e.insCodeList=E(t.insCodeList)),t.sequenceIndexList&&(e.sequenceIndexList=C(t.sequenceIndexList)),e.chainIdList=S(t.chainIdList,4),t.chainNameList&&(e.chainNameList=S(t.chainNameList,4)),e}function D(t){function e(t){for(var e={},r=0;t>r;r++)e[o()]=o();return e}function r(e){var r=t.subarray(a,a+e);return a+=e,r}function n(e){var r=t.subarray(a,a+e);a+=e;var n=65535;if(e>n){for(var i=[],o=0;o<r.length;o+=n)i.push(String.fromCharCode.apply(null,r.subarray(o,o+n)));return i.join("")}return String.fromCharCode.apply(null,r)}function i(t){for(var e=new Array(t),r=0;t>r;r++)e[r]=o();return e}function o(){var o,l,c=t[a];if(!(128&c))return a++,c;if(128==(240&c))return a++,e(l=15&c);if(144==(240&c))return a++,i(l=15&c);if(160==(224&c))return a++,n(l=31&c);if(!(224&~c))return o=s.getInt8(a),a++,o;switch(c){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return l=s.getUint8(a+1),a+=2,r(l);case 197:return l=s.getUint16(a+1),a+=3,r(l);case 198:return l=s.getUint32(a+1),a+=5,r(l);case 202:return o=s.getFloat32(a+1),a+=5,o;case 203:return o=s.getFloat64(a+1),a+=9,o;case 204:return o=t[a+1],a+=2,o;case 205:return o=s.getUint16(a+1),a+=3,o;case 206:return o=s.getUint32(a+1),a+=5,o;case 208:return o=s.getInt8(a+1),a+=2,o;case 209:return o=s.getInt16(a+1),a+=3,o;case 210:return o=s.getInt32(a+1),a+=5,o;case 217:return l=s.getUint8(a+1),a+=2,n(l);case 218:return l=s.getUint16(a+1),a+=3,n(l);case 219:return l=s.getUint32(a+1),a+=5,n(l);case 220:return l=s.getUint16(a+1),a+=3,i(l);case 221:return l=s.getUint32(a+1),a+=5,i(l);case 222:return l=s.getUint16(a+1),a+=3,e(l);case 223:return l=s.getUint32(a+1),a+=5,e(l)}throw new Error("Unknown type 0x"+c.toString(16))}var a=0,s=new DataView(t.buffer);return o()}function I(t,e,r,n){switch(t){case 1:return function(t,e){var r=t.length;e||(e=new Float32Array(r/4));for(var n=s(e),i=s(t),o=0,a=0,l=r/4;l>o;++o,a+=4)n.setFloat32(a,i.getFloat32(a),!0);return e}(e);case 2:return c(e);case 3:return u(e);case 4:return h(e);case 5:return l(e);case 6:return g(h(e),new Uint8Array(r));case 7:return g(h(e));case 8:return function(t,e){return v(g(t),e)}(h(e));case 9:return function(t,e,r){return p(g(t,d(r)),e,r)}(h(e),h(n)[0]);case 10:return _(u(e),h(n)[0]);case 11:return p(u(e),h(n)[0]);case 12:return w(u(e),h(n)[0]);case 13:return w(c(e),h(n)[0]);case 14:return x(u(e));case 15:return x(c(e))}}function F(t,e){var r=(e=e||{}).ignoreFields,n={};return B.forEach((function(e){var i=!!r&&-1!==r.indexOf(e),o=t[e];i||void 0===o||(o instanceof Uint8Array?n[e]=I.apply(null,function(t){var e=s(t),r=e.getInt32(0),n=e.getInt32(4),i=t.subarray(8,12);return[r,t=t.subarray(12),n,i]}(o)):n[e]=o)})),n}function R(t){return String.fromCharCode.apply(null,t).replace(/\0/g,"")}function P(t,e){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),F(t instanceof Uint8Array?D(t):t,e)}function j(t,e,r,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){try{var t=P(i.response);r(t)}catch(t){n(t)}}),!0),i.addEventListener("error",n,!0),i.responseType="arraybuffer",i.open("GET",e+t.toUpperCase()),i.send()}var N=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],B=N.concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]),U="//mmtf.rcsb.org/v1.0/",V=U+"full/",G=U+"reduced/";t.encode=function(t){return o(O(t))},t.decode=P,t.traverse=function(t,e,r){var n,i,o,a,s,l,c=(r=r||{}).firstModelOnly,d=e.onModel,u=e.onChain,h=e.onGroup,f=e.onAtom,p=e.onBond,m=0,g=0,b=0,v=0,y=0,x=-1,w=t.chainNameList,_=t.secStructList,k=t.insCodeList,A=t.sequenceIndexList,T=t.atomIdList,M=t.bFactorList,S=t.altLocList,E=t.occupancyList,C=t.bondAtomList,z=t.bondOrderList;for(n=0,i=t.chainsPerModel.length;i>n&&!(c&&m>0);++n){var L=t.chainsPerModel[m];for(d&&d({chainCount:L,modelIndex:m}),o=0;L>o;++o){var O=t.groupsPerChain[g];if(u){var D=R(t.chainIdList.subarray(4*g,4*g+4)),I=null;w&&(I=R(w.subarray(4*g,4*g+4))),u({groupCount:O,chainIndex:g,modelIndex:m,chainId:D,chainName:I})}for(a=0;O>a;++a){var F=t.groupList[t.groupTypeList[b]],P=F.atomNameList.length;if(h){var j=null;_&&(j=_[b]);var N=null;t.insCodeList&&(N=String.fromCharCode(k[b]));var B=null;A&&(B=A[b]),h({atomCount:P,groupIndex:b,chainIndex:g,modelIndex:m,groupId:t.groupIdList[b],groupType:t.groupTypeList[b],groupName:F.groupName,singleLetterCode:F.singleLetterCode,chemCompType:F.chemCompType,secStruct:j,insCode:N,sequenceIndex:B})}for(s=0;P>s;++s){if(f){var U=null;T&&(U=T[v]);var V=null;M&&(V=M[v]);var G=null;S&&(G=String.fromCharCode(S[v]));var H=null;E&&(H=E[v]),f({atomIndex:v,groupIndex:b,chainIndex:g,modelIndex:m,atomId:U,element:F.elementList[s],atomName:F.atomNameList[s],formalCharge:F.formalChargeList[s],xCoord:t.xCoordList[v],yCoord:t.yCoordList[v],zCoord:t.zCoordList[v],bFactor:V,altLoc:G,occupancy:H})}v+=1}if(p){var W=F.bondAtomList;for(s=0,l=F.bondOrderList.length;l>s;++s)p({atomIndex1:v-P+W[2*s],atomIndex2:v-P+W[2*s+1],bondOrder:F.bondOrderList[s]})}b+=1}g+=1}if(y=x+1,x=v-1,p&&C)for(s=0,l=C.length;l>s;s+=2){var q=C[s],$=C[s+1];(q>=y&&x>=q||$>=y&&x>=$)&&p({atomIndex1:q,atomIndex2:$,bondOrder:z?z[s/2]:null})}m+=1}},t.fetch=function(t,e,r){j(t,V,e,r)},t.fetchReduced=function(t,e,r){j(t,G,e,r)},t.version="v1.0.1",t.fetchUrl=V,t.fetchReducedUrl=G,t.encodeMsgpack=o,t.encodeMmtf=O,t.decodeMsgpack=D,t.decodeMmtf=F}(e)},"./node_modules/pako/dist/pako.esm.mjs":(t,e,r)=>{"use strict";function n(t){let e=t.length;for(;--e>=0;)t[e]=0}r.r(e),r.d(e,{Deflate:()=>_r,Inflate:()=>Mr,constants:()=>zr,default:()=>Lr,deflate:()=>kr,deflateRaw:()=>Ar,gzip:()=>Tr,inflate:()=>Sr,inflateRaw:()=>Er,ungzip:()=>Cr});const i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),s=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);n(l);const c=new Array(60);n(c);const d=new Array(512);n(d);const u=new Array(256);n(u);const h=new Array(29);n(h);const f=new Array(30);function p(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let m,g,b;function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(f);const y=t=>t<256?d[t]:d[256+(t>>>7)],x=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},w=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},_=(t,e,r)=>{w(t,r[2*e],r[2*e+1])},k=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},A=(t,e,r)=>{const n=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)a=a+r[i-1]<<1,n[i]=a;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=k(n[e]++,e))}},T=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},M=t=>{t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},E=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&S(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!S(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},C=(t,e,r)=>{let n,a,s,l,c=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+c++],n+=(255&t.pending_buf[t.sym_buf+c++])<<8,a=t.pending_buf[t.sym_buf+c++],0===n?_(t,a,e):(s=u[a],_(t,s+256+1,e),l=i[s],0!==l&&(a-=h[s],w(t,a,l)),n--,s=y(n),_(t,s,r),l=o[s],0!==l&&(n-=f[s],w(t,n,l)))}while(c<t.sym_next);_(t,256,e)},z=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let a,s,l,c=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<o;a++)0!==r[2*a]?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,r[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[2*l+1]);for(e.max_code=c,a=t.heap_len>>1;a>=1;a--)E(t,r,a);l=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],E(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,r[2*l]=r[2*a]+r[2*s],t.depth[l]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,r[2*a+1]=r[2*s+1]=l,t.heap[1]=l++,E(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,d,u,h,f,p,m=0;for(h=0;h<=15;h++)t.bl_count[h]=0;for(r[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)d=t.heap[c],h=r[2*r[2*d+1]+1]+1,h>l&&(h=l,m++),r[2*d+1]=h,d>n||(t.bl_count[h]++,f=0,d>=s&&(f=a[d-s]),p=r[2*d],t.opt_len+=p*(h+f),o&&(t.static_len+=p*(i[2*d+1]+f)));if(0!==m){do{for(h=l-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(d=t.bl_count[h];0!==d;)u=t.heap[--c],u>n||(r[2*u+1]!==h&&(t.opt_len+=(h-r[2*u+1])*r[2*u],r[2*u+1]=h),d--)}})(t,e),A(r,c,t.bl_count)},L=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<l&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},O=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<l&&i===a)){if(s<c)do{_(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(_(t,i,t.bl_tree),s--),_(t,16,t.bl_tree),w(t,s-3,2)):s<=10?(_(t,17,t.bl_tree),w(t,s-3,3)):(_(t,18,t.bl_tree),w(t,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let D=!1;const I=(t,e,r,n)=>{w(t,0+(n?1:0),3),M(t),x(t,r),x(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var F={_tr_init:t=>{D||((()=>{let t,e,r,n,s;const v=new Array(16);for(r=0,n=0;n<28;n++)for(h[n]=r,t=0;t<1<<i[n];t++)u[r++]=n;for(u[r-1]=n,s=0,n=0;n<16;n++)for(f[n]=s,t=0;t<1<<o[n];t++)d[s++]=n;for(s>>=7;n<30;n++)for(f[n]=s<<7,t=0;t<1<<o[n]-7;t++)d[256+s++]=n;for(e=0;e<=15;e++)v[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,v[8]++;for(;t<=255;)l[2*t+1]=9,t++,v[9]++;for(;t<=279;)l[2*t+1]=7,t++,v[7]++;for(;t<=287;)l[2*t+1]=8,t++,v[8]++;for(A(l,287,v),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=k(t,5);m=new p(l,i,257,286,15),g=new p(c,o,0,30,15),b=new p(new Array(0),a,0,19,7)})(),D=!0),t.l_desc=new v(t.dyn_ltree,m),t.d_desc=new v(t.dyn_dtree,g),t.bl_desc=new v(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,T(t)},_tr_stored_block:I,_tr_flush_block:(t,e,r,n)=>{let i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),z(t,t.l_desc),z(t,t.d_desc),a=(t=>{let e;for(L(t,t.dyn_ltree,t.l_desc.max_code),L(t,t.dyn_dtree,t.d_desc.max_code),z(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*s[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?I(t,e,r,n):4===t.strategy||o===i?(w(t,2+(n?1:0),3),C(t,l,c)):(w(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(w(t,e-257,5),w(t,r-1,5),w(t,n-4,4),i=0;i<n;i++)w(t,t.bl_tree[2*s[i]+1],3);O(t,t.dyn_ltree,e-1),O(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),C(t,t.dyn_ltree,t.dyn_dtree)),T(t),n&&M(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(u[r]+256+1)]++,t.dyn_dtree[2*y(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{w(t,2,3),_(t,256,l),(t=>{16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},R=(t,e,r,n)=>{let i=65535&t,o=t>>>16&65535,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+e[n++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16};const P=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var j=(t,e,r,n)=>{const i=P,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return~t},N={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:U,_tr_stored_block:V,_tr_flush_block:G,_tr_tally:H,_tr_align:W}=F,{Z_NO_FLUSH:q,Z_PARTIAL_FLUSH:$,Z_FULL_FLUSH:Y,Z_FINISH:Z,Z_BLOCK:X,Z_OK:J,Z_STREAM_END:Q,Z_STREAM_ERROR:K,Z_DATA_ERROR:tt,Z_BUF_ERROR:et,Z_DEFAULT_COMPRESSION:rt,Z_FILTERED:nt,Z_HUFFMAN_ONLY:it,Z_RLE:ot,Z_FIXED:at,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:lt,Z_DEFLATED:ct}=B,dt=258,ut=262,ht=42,ft=113,pt=666,mt=(t,e)=>(t.msg=N[e],e),gt=t=>2*t-(t>4?9:0),bt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},vt=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let yt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const xt=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},wt=(t,e)=>{G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,xt(t.strm)},_t=(t,e)=>{t.pending_buf[t.pending++]=e},kt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},At=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=R(t.adler,e,i,r):2===t.state.wrap&&(t.adler=j(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Tt=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-ut?t.strstart-(t.w_size-ut):0,c=t.window,d=t.w_mask,u=t.prev,h=t.strstart+dt;let f=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,c[r+a]===p&&c[r+a-1]===f&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<h);if(n=dt-(h-o),o=h-dt,n>a){if(t.match_start=e,a=n,n>=s)break;f=c[o+a-1],p=c[o+a]}}}while((e=u[e&d])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead},Mt=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ut)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),vt(t),n+=e),0===t.strm.avail_in)break;if(r=At(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=yt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ut&&0!==t.strm.avail_in)},St=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,s=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==Z||e===q||r!==n+t.strm.avail_in))break;a=e===Z&&r===n+t.strm.avail_in?1:0,V(t,0,0,a),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,xt(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(At(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===a);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==q&&e!==Z&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(At(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===Z)&&e!==q&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,a=e===Z&&0===t.strm.avail_in&&r===n?1:0,V(t,t.block_start,r,a),t.block_start+=r,xt(t.strm)),a?3:1)},Et=(t,e)=>{let r,n;for(;;){if(t.lookahead<ut){if(Mt(t),t.lookahead<ut&&e===q)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-ut&&(t.match_length=Tt(t,r)),t.match_length>=3)if(n=H(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else n=H(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Z?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2},Ct=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<ut){if(Mt(t),t.lookahead<ut&&e===q)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ut&&(t.match_length=Tt(t,r),t.match_length<=5&&(t.strategy===nt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=H(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(wt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=H(t,0,t.window[t.strstart-1]),n&&wt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=H(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Z?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2};function zt(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Lt=[new zt(0,0,0,0,St),new zt(4,4,8,4,Et),new zt(4,5,16,8,Et),new zt(4,6,32,32,Et),new zt(4,4,16,16,Ct),new zt(8,16,32,32,Ct),new zt(8,16,128,128,Ct),new zt(8,32,128,256,Ct),new zt(32,128,258,1024,Ct),new zt(32,258,258,4096,Ct)];function Ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ct,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),bt(this.dyn_ltree),bt(this.dyn_dtree),bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),bt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Dt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ht&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==ft&&e.status!==pt?1:0},It=t=>{if(Dt(t))return mt(t,K);t.total_in=t.total_out=0,t.data_type=lt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?ht:ft,t.adler=2===e.wrap?0:1,e.last_flush=-2,U(e),J},Ft=t=>{const e=It(t);var r;return e===J&&((r=t.state).window_size=2*r.w_size,bt(r.head),r.max_lazy_match=Lt[r.level].max_lazy,r.good_match=Lt[r.level].good_length,r.nice_match=Lt[r.level].nice_length,r.max_chain_length=Lt[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Rt=(t,e,r,n,i,o)=>{if(!t)return K;let a=1;if(e===rt&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==ct||n<8||n>15||e<0||e>9||o<0||o>at||8===n&&1!==a)return mt(t,K);8===n&&(n=9);const s=new Ot;return t.state=s,s.strm=t,s.status=ht,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=o,s.method=r,Ft(t)};var Pt=Rt,jt=(t,e)=>Dt(t)||2!==t.state.wrap?K:(t.state.gzhead=e,J),Nt=(t,e)=>{if(Dt(t)||e>X||e<0)return t?mt(t,K):K;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===pt&&e!==Z)return mt(t,0===t.avail_out?et:K);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(xt(t),0===t.avail_out)return r.last_flush=-1,J}else if(0===t.avail_in&&gt(e)<=gt(n)&&e!==Z)return mt(t,et);if(r.status===pt&&0!==t.avail_in)return mt(t,et);if(r.status===ht&&0===r.wrap&&(r.status=ft),r.status===ht){let e=ct+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=it||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,kt(r,e),0!==r.strstart&&(kt(r,t.adler>>>16),kt(r,65535&t.adler)),t.adler=1,r.status=ft,xt(t),0!==r.pending)return r.last_flush=-1,J}if(57===r.status)if(t.adler=0,_t(r,31),_t(r,139),_t(r,8),r.gzhead)_t(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),_t(r,255&r.gzhead.time),_t(r,r.gzhead.time>>8&255),_t(r,r.gzhead.time>>16&255),_t(r,r.gzhead.time>>24&255),_t(r,9===r.level?2:r.strategy>=it||r.level<2?4:0),_t(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(_t(r,255&r.gzhead.extra.length),_t(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=j(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(_t(r,0),_t(r,0),_t(r,0),_t(r,0),_t(r,0),_t(r,9===r.level?2:r.strategy>=it||r.level<2?4:0),_t(r,3),r.status=ft,xt(t),0!==r.pending)return r.last_flush=-1,J;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=j(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,xt(t),0!==r.pending)return r.last_flush=-1,J;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=j(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=j(t.adler,r.pending_buf,r.pending-n,n)),xt(t),0!==r.pending)return r.last_flush=-1,J;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,_t(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=j(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=j(t.adler,r.pending_buf,r.pending-n,n)),xt(t),0!==r.pending)return r.last_flush=-1,J;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,_t(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=j(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(xt(t),0!==r.pending))return r.last_flush=-1,J;_t(r,255&t.adler),_t(r,t.adler>>8&255),t.adler=0}if(r.status=ft,xt(t),0!==r.pending)return r.last_flush=-1,J}if(0!==t.avail_in||0!==r.lookahead||e!==q&&r.status!==pt){let n=0===r.level?St(r,e):r.strategy===it?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Mt(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,r=H(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Z?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===ot?((t,e)=>{let r,n,i,o;const a=t.window;for(;;){if(t.lookahead<=dt){if(Mt(t),t.lookahead<=dt&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+dt;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=dt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=H(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=H(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Z?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2})(r,e):Lt[r.level].func(r,e);if(3!==n&&4!==n||(r.status=pt),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),J;if(2===n&&(e===$?W(r):e!==X&&(V(r,0,0,!1),e===Y&&(bt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),xt(t),0===t.avail_out))return r.last_flush=-1,J}return e!==Z?J:r.wrap<=0?Q:(2===r.wrap?(_t(r,255&t.adler),_t(r,t.adler>>8&255),_t(r,t.adler>>16&255),_t(r,t.adler>>24&255),_t(r,255&t.total_in),_t(r,t.total_in>>8&255),_t(r,t.total_in>>16&255),_t(r,t.total_in>>24&255)):(kt(r,t.adler>>>16),kt(r,65535&t.adler)),xt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?J:Q)},Bt=t=>{if(Dt(t))return K;const e=t.state.status;return t.state=null,e===ft?mt(t,tt):J},Ut=(t,e)=>{let r=e.length;if(Dt(t))return K;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==ht||n.lookahead)return K;if(1===i&&(t.adler=R(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Mt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=yt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Mt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,n.wrap=i,J};const Vt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Gt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Vt(r,e)&&(t[e]=r[e])}}return t},Ht=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let Wt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Wt=!1}const qt=new Uint8Array(256);for(let t=0;t<256;t++)qt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;qt[254]=qt[254]=1;var $t=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},Yt=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let a=qt[e];if(a>4)o[i++]=65533,n+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&n<r;)e=e<<6|63&t[n++],a--;a>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Wt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},Zt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+qt[t[r]]>e?r:e},Xt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Jt=Object.prototype.toString,{Z_NO_FLUSH:Qt,Z_SYNC_FLUSH:Kt,Z_FULL_FLUSH:te,Z_FINISH:ee,Z_OK:re,Z_STREAM_END:ne,Z_DEFAULT_COMPRESSION:ie,Z_DEFAULT_STRATEGY:oe,Z_DEFLATED:ae}=B;function se(t){this.options=Gt({level:ie,method:ae,chunkSize:16384,windowBits:15,memLevel:8,strategy:oe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xt,this.strm.avail_out=0;let r=Pt(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==re)throw new Error(N[r]);if(e.header&&jt(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?$t(e.dictionary):"[object ArrayBuffer]"===Jt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Ut(this.strm,t),r!==re)throw new Error(N[r]);this._dict_set=!0}}function le(t,e){const r=new se(e);if(r.push(t,!0),r.err)throw r.msg||N[r.err];return r.result}se.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?ee:Qt,"string"==typeof t?r.input=$t(t):"[object ArrayBuffer]"===Jt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===Kt||o===te)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Nt(r,o),i===ne)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Bt(this.strm),this.onEnd(i),this.ended=!0,i===re;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},se.prototype.onData=function(t){this.chunks.push(t)},se.prototype.onEnd=function(t){t===re&&(this.result=Ht(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ce={Deflate:se,deflate:le,deflateRaw:function(t,e){return(e=e||{}).raw=!0,le(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,le(t,e)},constants:B};const de=16209;var ue=function(t,e){let r,n,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A,T;const M=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,T=t.output,o=i-(e-t.avail_out),a=i+(t.avail_out-257),s=M.dmax,l=M.wsize,c=M.whave,d=M.wnext,u=M.window,h=M.hold,f=M.bits,p=M.lencode,m=M.distcode,g=(1<<M.lenbits)-1,b=(1<<M.distbits)-1;t:do{f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),v=p[h&g];e:for(;;){if(y=v>>>24,h>>>=y,f-=y,y=v>>>16&255,0===y)T[i++]=65535&v;else{if(!(16&y)){if(64&y){if(32&y){M.mode=16191;break t}t.msg="invalid literal/length code",M.mode=de;break t}v=p[(65535&v)+(h&(1<<y)-1)];continue e}for(x=65535&v,y&=15,y&&(f<y&&(h+=A[r++]<<f,f+=8),x+=h&(1<<y)-1,h>>>=y,f-=y),f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),v=m[h&b];;){if(y=v>>>24,h>>>=y,f-=y,y=v>>>16&255,16&y){if(w=65535&v,y&=15,f<y&&(h+=A[r++]<<f,f+=8,f<y&&(h+=A[r++]<<f,f+=8)),w+=h&(1<<y)-1,w>s){t.msg="invalid distance too far back",M.mode=de;break t}if(h>>>=y,f-=y,y=i-o,w>y){if(y=w-y,y>c&&M.sane){t.msg="invalid distance too far back",M.mode=de;break t}if(_=0,k=u,0===d){if(_+=l-y,y<x){x-=y;do{T[i++]=u[_++]}while(--y);_=i-w,k=T}}else if(d<y){if(_+=l+d-y,y-=d,y<x){x-=y;do{T[i++]=u[_++]}while(--y);if(_=0,d<x){y=d,x-=y;do{T[i++]=u[_++]}while(--y);_=i-w,k=T}}}else if(_+=d-y,y<x){x-=y;do{T[i++]=u[_++]}while(--y);_=i-w,k=T}for(;x>2;)T[i++]=k[_++],T[i++]=k[_++],T[i++]=k[_++],x-=3;x&&(T[i++]=k[_++],x>1&&(T[i++]=k[_++]))}else{_=i-w;do{T[i++]=T[_++],T[i++]=T[_++],T[i++]=T[_++],x-=3}while(x>2);x&&(T[i++]=T[_++],x>1&&(T[i++]=T[_++]))}break}if(64&y){t.msg="invalid distance code",M.mode=de;break t}v=m[(65535&v)+(h&(1<<y)-1)]}}break}}while(r<n&&i<a);x=f>>3,r-=x,f-=x<<3,h&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<a?a-i+257:257-(i-a),M.hold=h,M.bits=f};const he=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),me=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ge=(t,e,r,n,i,o,a,s)=>{const l=s.bits;let c,d,u,h,f,p,m=0,g=0,b=0,v=0,y=0,x=0,w=0,_=0,k=0,A=0,T=null;const M=new Uint16Array(16),S=new Uint16Array(16);let E,C,z,L=null;for(m=0;m<=15;m++)M[m]=0;for(g=0;g<n;g++)M[e[r+g]]++;for(y=l,v=15;v>=1&&0===M[v];v--);if(y>v&&(y=v),0===v)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<v&&0===M[b];b++);for(y<b&&(y=b),_=1,m=1;m<=15;m++)if(_<<=1,_-=M[m],_<0)return-1;if(_>0&&(0===t||1!==v))return-1;for(S[1]=0,m=1;m<15;m++)S[m+1]=S[m]+M[m];for(g=0;g<n;g++)0!==e[r+g]&&(a[S[e[r+g]]++]=g);if(0===t?(T=L=a,p=20):1===t?(T=he,L=fe,p=257):(T=pe,L=me,p=0),A=0,g=0,m=b,f=o,x=y,w=0,u=-1,k=1<<y,h=k-1,1===t&&k>852||2===t&&k>592)return 1;for(;;){E=m-w,a[g]+1<p?(C=0,z=a[g]):a[g]>=p?(C=L[a[g]-p],z=T[a[g]-p]):(C=96,z=0),c=1<<m-w,d=1<<x,b=d;do{d-=c,i[f+(A>>w)+d]=E<<24|C<<16|z}while(0!==d);for(c=1<<m-1;A&c;)c>>=1;if(0!==c?(A&=c-1,A+=c):A=0,g++,0==--M[m]){if(m===v)break;m=e[r+a[g]]}if(m>y&&(A&h)!==u){for(0===w&&(w=y),f+=b,x=m-w,_=1<<x;x+w<v&&(_-=M[x+w],!(_<=0));)x++,_<<=1;if(k+=1<<x,1===t&&k>852||2===t&&k>592)return 1;u=A&h,i[u]=y<<24|x<<16|f-o}}return 0!==A&&(i[f+A]=m-w<<24|64<<16),s.bits=y,0};const{Z_FINISH:be,Z_BLOCK:ve,Z_TREES:ye,Z_OK:xe,Z_STREAM_END:we,Z_NEED_DICT:_e,Z_STREAM_ERROR:ke,Z_DATA_ERROR:Ae,Z_MEM_ERROR:Te,Z_BUF_ERROR:Me,Z_DEFLATED:Se}=B,Ee=16180,Ce=16190,ze=16191,Le=16192,Oe=16194,De=16199,Ie=16200,Fe=16206,Re=16209,Pe=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function je(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ne=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ee||e.mode>16211?1:0},Be=t=>{if(Ne(t))return ke;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ee,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,xe},Ue=t=>{if(Ne(t))return ke;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Be(t)},Ve=(t,e)=>{let r;if(Ne(t))return ke;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ke:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Ue(t))},Ge=(t,e)=>{if(!t)return ke;const r=new je;t.state=r,r.strm=t,r.window=null,r.mode=Ee;const n=Ve(t,e);return n!==xe&&(t.state=null),n};let He,We,qe=!0;const $e=t=>{if(qe){He=new Int32Array(512),We=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ge(1,t.lens,0,288,He,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ge(2,t.lens,0,32,We,0,t.work,{bits:5}),qe=!1}t.lencode=He,t.lenbits=9,t.distcode=We,t.distbits=5},Ye=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Ze=Ue,Xe=Ge,Je=(t,e)=>{let r,n,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A=0;const T=new Uint8Array(4);let M,S;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ne(t)||!t.output||!t.input&&0!==t.avail_in)return ke;r=t.state,r.mode===ze&&(r.mode=Le),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,u=s,h=l,k=xe;t:for(;;)switch(r.mode){case Ee:if(0===r.wrap){r.mode=Le;break}for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,T[0]=255&c,T[1]=c>>>8&255,r.check=j(r.check,T,2,0),c=0,d=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Re;break}if((15&c)!==Se){t.msg="unknown compression method",r.mode=Re;break}if(c>>>=4,d-=4,_=8+(15&c),0===r.wbits&&(r.wbits=_),_>15||_>r.wbits){t.msg="invalid window size",r.mode=Re;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&c?16189:ze,c=0,d=0;break;case 16181:for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(r.flags=c,(255&r.flags)!==Se){t.msg="unknown compression method",r.mode=Re;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Re;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=j(r.check,T,2,0)),c=0,d=0,r.mode=16182;case 16182:for(;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,r.check=j(r.check,T,4,0)),c=0,d=0,r.mode=16183;case 16183:for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=j(r.check,T,2,0)),c=0,d=0,r.mode=16184;case 16184:if(1024&r.flags){for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=j(r.check,T,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(f=r.length,f>s&&(f=s),f&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),_)),512&r.flags&&4&r.wrap&&(r.check=j(r.check,n,f,o)),s-=f,o+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===s)break t;f=0;do{_=n[o+f++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_))}while(_&&f<s);if(512&r.flags&&4&r.wrap&&(r.check=j(r.check,n,f,o)),s-=f,o+=f,_)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===s)break t;f=0;do{_=n[o+f++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_))}while(_&&f<s);if(512&r.flags&&4&r.wrap&&(r.check=j(r.check,n,f,o)),s-=f,o+=f,_)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(4&r.wrap&&c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Re;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ze;break;case 16189:for(;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}t.adler=r.check=Pe(c),c=0,d=0,r.mode=Ce;case Ce:if(0===r.havedict)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,_e;t.adler=r.check=1,r.mode=ze;case ze:if(e===ve||e===ye)break t;case Le:if(r.last){c>>>=7&d,d-=7&d,r.mode=Fe;break}for(;d<3;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}switch(r.last=1&c,c>>>=1,d-=1,3&c){case 0:r.mode=16193;break;case 1:if($e(r),r.mode=De,e===ye){c>>>=2,d-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=Re}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Re;break}if(r.length=65535&c,c=0,d=0,r.mode=Oe,e===ye)break t;case Oe:r.mode=16195;case 16195:if(f=r.length,f){if(f>s&&(f=s),f>l&&(f=l),0===f)break t;i.set(n.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,r.length-=f;break}r.mode=ze;break;case 16196:for(;d<14;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(r.nlen=257+(31&c),c>>>=5,d-=5,r.ndist=1+(31&c),c>>>=5,d-=5,r.ncode=4+(15&c),c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Re;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;d<3;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.lens[E[r.have++]]=7&c,c>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},k=ge(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,k){t.msg="invalid code lengths set",r.mode=Re;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[c&(1<<r.lenbits)-1],g=A>>>24,b=A>>>16&255,v=65535&A,!(g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(v<16)c>>>=g,d-=g,r.lens[r.have++]=v;else{if(16===v){for(S=g+2;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(c>>>=g,d-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=Re;break}_=r.lens[r.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===v){for(S=g+3;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=g,d-=g,_=0,f=3+(7&c),c>>>=3,d-=3}else{for(S=g+7;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=g,d-=g,_=0,f=11+(127&c),c>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Re;break}for(;f--;)r.lens[r.have++]=_}}if(r.mode===Re)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Re;break}if(r.lenbits=9,M={bits:r.lenbits},k=ge(1,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,k){t.msg="invalid literal/lengths set",r.mode=Re;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},k=ge(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,k){t.msg="invalid distances set",r.mode=Re;break}if(r.mode=De,e===ye)break t;case De:r.mode=Ie;case Ie:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,ue(t,h),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,r.mode===ze&&(r.back=-1);break}for(r.back=0;A=r.lencode[c&(1<<r.lenbits)-1],g=A>>>24,b=A>>>16&255,v=65535&A,!(g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(b&&!(240&b)){for(y=g,x=b,w=v;A=r.lencode[w+((c&(1<<y+x)-1)>>y)],g=A>>>24,b=A>>>16&255,v=65535&A,!(y+g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=y,d-=y,r.back+=y}if(c>>>=g,d-=g,r.back+=g,r.length=v,0===b){r.mode=16205;break}if(32&b){r.back=-1,r.mode=ze;break}if(64&b){t.msg="invalid literal/length code",r.mode=Re;break}r.extra=15&b,r.mode=16201;case 16201:if(r.extra){for(S=r.extra;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;A=r.distcode[c&(1<<r.distbits)-1],g=A>>>24,b=A>>>16&255,v=65535&A,!(g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(!(240&b)){for(y=g,x=b,w=v;A=r.distcode[w+((c&(1<<y+x)-1)>>y)],g=A>>>24,b=A>>>16&255,v=65535&A,!(y+g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=y,d-=y,r.back+=y}if(c>>>=g,d-=g,r.back+=g,64&b){t.msg="invalid distance code",r.mode=Re;break}r.offset=v,r.extra=15&b,r.mode=16203;case 16203:if(r.extra){for(S=r.extra;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Re;break}r.mode=16204;case 16204:if(0===l)break t;if(f=h-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Re;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,p=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do{i[a++]=m[p++]}while(--f);0===r.length&&(r.mode=Ie);break;case 16205:if(0===l)break t;i[a++]=r.length,l--,r.mode=Ie;break;case Fe:if(r.wrap){for(;d<32;){if(0===s)break t;s--,c|=n[o++]<<d,d+=8}if(h-=l,t.total_out+=h,r.total+=h,4&r.wrap&&h&&(t.adler=r.check=r.flags?j(r.check,i,h,a-h):R(r.check,i,h,a-h)),h=l,4&r.wrap&&(r.flags?c:Pe(c))!==r.check){t.msg="incorrect data check",r.mode=Re;break}c=0,d=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(4&r.wrap&&c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Re;break}c=0,d=0}r.mode=16208;case 16208:k=we;break t;case Re:k=Ae;break t;case 16210:return Te;default:return ke}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,(r.wsize||h!==t.avail_out&&r.mode<Re&&(r.mode<Fe||e!==be))&&Ye(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,r.total+=h,4&r.wrap&&h&&(t.adler=r.check=r.flags?j(r.check,i,h,t.next_out-h):R(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ze?128:0)+(r.mode===De||r.mode===Oe?256:0),(0===u&&0===h||e===be)&&k===xe&&(k=Me),k},Qe=t=>{if(Ne(t))return ke;let e=t.state;return e.window&&(e.window=null),t.state=null,xe},Ke=(t,e)=>{if(Ne(t))return ke;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,xe):ke},tr=(t,e)=>{const r=e.length;let n,i,o;return Ne(t)?ke:(n=t.state,0!==n.wrap&&n.mode!==Ce?ke:n.mode===Ce&&(i=1,i=R(i,e,r,0),i!==n.check)?Ae:(o=Ye(t,e,r,r),o?(n.mode=16210,Te):(n.havedict=1,xe)))},er=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const rr=Object.prototype.toString,{Z_NO_FLUSH:nr,Z_FINISH:ir,Z_OK:or,Z_STREAM_END:ar,Z_NEED_DICT:sr,Z_STREAM_ERROR:lr,Z_DATA_ERROR:cr,Z_MEM_ERROR:dr}=B;function ur(t){this.options=Gt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xt,this.strm.avail_out=0;let r=Xe(this.strm,e.windowBits);if(r!==or)throw new Error(N[r]);if(this.header=new er,Ke(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=$t(e.dictionary):"[object ArrayBuffer]"===rr.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=tr(this.strm,e.dictionary),r!==or)))throw new Error(N[r])}function hr(t,e){const r=new ur(e);if(r.push(t),r.err)throw r.msg||N[r.err];return r.result}ur.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=e===~~e?e:!0===e?ir:nr,"[object ArrayBuffer]"===rr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Je(r,a),o===sr&&i&&(o=tr(r,i),o===or?o=Je(r,a):o===cr&&(o=sr));r.avail_in>0&&o===ar&&r.state.wrap>0&&0!==t[r.next_in];)Ze(r),o=Je(r,a);switch(o){case lr:case cr:case sr:case dr:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(0===r.avail_out||o===ar))if("string"===this.options.to){let t=Zt(r.output,r.next_out),e=r.next_out-t,i=Yt(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==or||0!==s){if(o===ar)return o=Qe(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},ur.prototype.onData=function(t){this.chunks.push(t)},ur.prototype.onEnd=function(t){t===or&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ht(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var fr={Inflate:ur,inflate:hr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,hr(t,e)},ungzip:hr,constants:B};const{Deflate:pr,deflate:mr,deflateRaw:gr,gzip:br}=ce,{Inflate:vr,inflate:yr,inflateRaw:xr,ungzip:wr}=fr;var _r=pr,kr=mr,Ar=gr,Tr=br,Mr=vr,Sr=yr,Er=xr,Cr=wr,zr=B,Lr={Deflate:pr,deflate:mr,deflateRaw:gr,gzip:br,Inflate:vr,inflate:yr,inflateRaw:xr,ungzip:wr,constants:B}}},__webpack_module_cache__={};function __nested_webpack_require_1711184__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__nested_webpack_require_1711184__),r.exports}__nested_webpack_require_1711184__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __nested_webpack_require_1711184__.d(e,{a:e}),e},__nested_webpack_require_1711184__.d=(t,e)=>{for(var r in e)__nested_webpack_require_1711184__.o(e,r)&&!__nested_webpack_require_1711184__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__nested_webpack_require_1711184__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__nested_webpack_require_1711184__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__nested_webpack_require_1711184__("./src/index.ts"),__nested_webpack_require_1711184__("./src/SurfaceWorker.js");var __nested_webpack_exports__=__nested_webpack_require_1711184__("./src/exporter.js");return __nested_webpack_exports__})(),module.exports=factory()},37830:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(85833).draw;function a(t){var e=t._fullLayout;n.filterVisible(e.annotations).forEach((function(e){var r=i.getFromId(t,e.xref),n=i.getFromId(t,e.yref),o=i.getRefType(e.xref),a=i.getRefType(e.yref);e._extremes={},"range"===o&&s(e,r),"range"===a&&s(e,n)}))}function s(t,e){var r,n=e._id,o=n.charAt(0),a=t[o],s=t["a"+o],l=t[o+"ref"],c=t["a"+o+"ref"],d=t["_"+o+"padplus"],u=t["_"+o+"padminus"],h={x:1,y:-1}[o]*t[o+"shift"],f=3*t.arrowsize*t.arrowwidth||0,p=f+h,m=f-h,g=3*t.startarrowsize*t.arrowwidth||0,b=g+h,v=g-h;if(c===l){var y=i.findExtremes(e,[e.r2c(a)],{ppadplus:p,ppadminus:m}),x=i.findExtremes(e,[e.r2c(s)],{ppadplus:Math.max(d,b),ppadminus:Math.max(u,v)});r={min:[y.min[0],x.min[0]],max:[y.max[0],x.max[0]]}}else b=s?b+s:b,v=s?v-s:v,r=i.findExtremes(e,[e.r2c(a)],{ppadplus:Math.max(d,p,b),ppadminus:Math.max(u,m,v)});t._extremes[n]=r}t.exports=function(t){var e=t._fullLayout;if(n.filterVisible(e.annotations).length&&t._fullData.length)return n.syncOrAsync([o,a],t)}},37968:(t,e,r)=>{"use strict";r.d(e,{Fq:()=>s,JJ:()=>o,Nm:()=>a,Tt:()=>n,rR:()=>i});var n=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},37974:t=>{t.exports=function(t){var i=[];return t.replace(r,(function(t,r,o){var a=r.toLowerCase();for(o=function(t){var e=t.match(n);return e?e.map(Number):[]}(o),"m"==a&&o.length>2&&(i.push([r].concat(o.splice(0,2))),a="l",r="m"==r?"l":"L");;){if(o.length==e[a])return o.unshift(r),i.push(o);if(o.length<e[a])throw new Error("malformed path data");i.push([r].concat(o.splice(0,e[a])))}})),i};var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},38232:t=>{"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},38251:(t,e,r)=>{"use strict";var n=r(10818);t.exports=function(t){if(!n(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},38554:(t,e,r)=>{"use strict";var n=r(12822).strTranslate;function i(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}t.exports={p2r:i,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(t){var e="y"===t._id.charAt(0)?1:0;return function(r){return i(t,r[e])}},getTransform:function(t){return n(t.xaxis._offset,t.yaxis._offset)}}},39004:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(51137),a=r(12822),s=r(80394),l=r(86748),c=r(17499),d=r(40666),u=r(6883),h=r(45828),f=r(75815),p=r(89701),m=r(69352),g=m.enforce,b=m.clean,v=r(19496).doAutoRange,y="start",x=r(21197).zindexSeparator;function w(t,e,r){for(var n=0;n<r.length;n++){var i=r[n][0],o=r[n][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&o[0]<e[1]&&o[1]>e[0])return!0}return!1}function _(t){var r,i,s,l,u,m,g=t._fullLayout,b=g._size,v=b.p,y=f.list(t,"",!0);if(g._paperdiv.style({width:t._context.responsive&&g.autosize&&!t._context._hasZeroWidth&&!t.layout.width?"100%":g.width+"px",height:t._context.responsive&&g.autosize&&!t._context._hasZeroHeight&&!t.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(d.setSize,g.width,g.height),t._context.setBackground(t,g.paper_bgcolor),e.drawMainTitle(t),h.manage(t),!g._has("cartesian"))return o.previousPromises(t);function _(t,e,r){var n=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===r?e._offset-v-n:e._offset+e._length+v+n:b.t+b.h*(1-(t.position||0))+n%1:e?"right"===r?e._offset+e._length+v+n:e._offset-v-n:b.l+b.w*(t.position||0)+n%1}for(r=0;r<y.length;r++){var A=(l=y[r])._anchorAxis;l._linepositions={},l._lw=d.crispRound(t,l.linewidth,1),l._mainLinePosition=_(l,A,l.side),l._mainMirrorPosition=l.mirror&&A?_(l,A,p.OPPOSITE_SIDE[l.side]):null}var M=[],S=[],E=[],C=1===c.opacity(g.paper_bgcolor)&&1===c.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(i in g._plots)if((s=g._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var z=s.xaxis.domain,L=s.yaxis.domain,O=s.plotgroup;if(w(z,L,E)&&-1===i.indexOf(x)){var D=O.node(),I=s.bg=a.ensureSingle(O,"rect","bg");D.insertBefore(I.node(),D.childNodes[0]),S.push(i)}else O.select("rect.bg").remove(),E.push([z,L]),C||(M.push(i),S.push(i))}var F,R,P,j,N,B,U,V,G,H,W,q,$,Y=g._bgLayer.selectAll(".bg").data(M);for(Y.enter().append("rect").classed("bg",!0),Y.exit().remove(),Y.each((function(t){g._plots[t].bg=n.select(this)})),r=0;r<S.length;r++)s=g._plots[S[r]],u=s.xaxis,m=s.yaxis,s.bg&&void 0!==u._offset&&void 0!==m._offset&&s.bg.call(d.setRect,u._offset-v,m._offset-v,u._length+2*v,m._length+2*v).call(c.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(i in g._plots){s=g._plots[i],u=s.xaxis,m=s.yaxis;var Z,X,J=s.clipId="clip"+g._uid+i+"plot",Q=a.ensureSingleById(g._clips,"clipPath",J,(function(t){t.classed("plotclip",!0).append("rect")}));s.clipRect=Q.select("rect").attr({width:u._length,height:m._length}),d.setTranslate(s.plot,u._offset,m._offset),s._hasClipOnAxisFalse?(Z=null,X=J):(Z=J,X=null),d.setClipUrl(s.plot,Z,t),s.layerClipId=X}function K(t){return"M"+F+","+t+"H"+R}function tt(t){return"M"+u._offset+","+t+"h"+u._length}function et(t){return"M"+t+","+V+"V"+U}function rt(t){return void 0!==m._shift&&(t+=m._shift),"M"+t+","+m._offset+"v"+m._length}function nt(t,e,r){if(!t.showline||i!==t._mainSubplot)return"";if(!t._anchorAxis)return r(t._mainLinePosition);var n=e(t._mainLinePosition);return t.mirror&&(n+=e(t._mainMirrorPosition)),n}for(i in g._plots){s=g._plots[i],u=s.xaxis,m=s.yaxis;var it="M0,0";k(u,i)&&(N=T(u,"left",m,y),F=u._offset-(N?v+N:0),B=T(u,"right",m,y),R=u._offset+u._length+(B?v+B:0),P=_(u,m,"bottom"),j=_(u,m,"top"),!($=!u._anchorAxis||i!==u._mainSubplot)||"allticks"!==u.mirror&&"all"!==u.mirror||(u._linepositions[i]=[P,j]),it=nt(u,K,tt),$&&u.showline&&("all"===u.mirror||"allticks"===u.mirror)&&(it+=K(P)+K(j)),s.xlines.style("stroke-width",u._lw+"px").call(c.stroke,u.showline?u.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",it);var ot="M0,0";k(m,i)&&(W=T(m,"bottom",u,y),U=m._offset+m._length+(W?v:0),q=T(m,"top",u,y),V=m._offset-(q?v:0),G=_(m,u,"left"),H=_(m,u,"right"),!($=!m._anchorAxis||i!==m._mainSubplot)||"allticks"!==m.mirror&&"all"!==m.mirror||(m._linepositions[i]=[G,H]),ot=nt(m,et,rt),$&&m.showline&&("all"===m.mirror||"allticks"===m.mirror)&&(ot+=et(G)+et(H)),s.ylines.style("stroke-width",m._lw+"px").call(c.stroke,m.showline?m.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ot)}return f.makeClipPaths(t),o.previousPromises(t)}function k(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function A(t,e,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var n=r._anchorAxis;if(!n)return!1;var i=p.FROM_BL[e];return r.side===e?n.domain[i]===t.domain[i]:r.mirror&&n.domain[1-i]===t.domain[1-i]}function T(t,e,r,n){if(A(t,e,r))return r._lw;for(var i=0;i<n.length;i++){var o=n[i];if(o._mainAxis===r._mainAxis&&A(t,e,o))return o._lw}return 0}function M(t){return"top"===t?p.CAP_SHIFT+.3+"em":"bottom"===t?"-0.3em":p.MID_SHIFT+"em"}e.layoutStyles=function(t){return a.syncOrAsync([o.doAutoMargin,_],t)},e.drawMainTitle=function(t){var e=t._fullLayout.title,r=t._fullLayout,i=function(t){var e=t.title,r="middle";return a.isRightAnchor(e)?r="end":a.isLeftAnchor(e)&&(r=y),r}(r),l=function(t){var e=t.title,r="0em";return a.isTopAnchor(e)?r=p.CAP_SHIFT+"em":a.isMiddleAnchor(e)&&(r=p.MID_SHIFT+"em"),r}(r),c=function(t,e){var r=t.title,n=t._size,i=0;return"0em"!==e&&e?e===p.CAP_SHIFT+"em"&&(i=r.pad.t):i=-r.pad.b,"auto"===r.y?n.t/2:"paper"===r.yref?n.t+n.h-n.h*r.y+i:t.height-t.height*r.y+i}(r,l),h=function(t,e){var r=t.title,n=t._size,i=0;return e===y?i=r.pad.l:"end"===e&&(i=-r.pad.r),"paper"===r.xref?n.l+n.w*r.x+i:t.width*r.x+i}(r,i);if(u.draw(t,"gtitle",{propContainer:r,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:r._dfltTitle.plot,subtitlePlaceholder:r._dfltTitle.subtitle,attributes:{x:h,y:c,"text-anchor":i,dy:l}}),e.text&&e.automargin){var f=n.select(t).selectAll(".gtitle"),m=d.bBox(n.select(t).selectAll(".g-gtitle").node()).height,g=function(t,e,r){var n=e.y,i=e.yanchor,o=n>.5?"t":"b",a=t._fullLayout.margin[o],s=0;return"paper"===e.yref?s=r+e.pad.t+e.pad.b:"container"===e.yref&&(s=function(t,e,r,n,i){var o=0;return"middle"===r&&(o+=i/2),"t"===t?("top"===r&&(o+=i),o+=n-e*n):("bottom"===r&&(o+=i),o+=e*n),o}(o,n,i,t._fullLayout.height,r)+e.pad.t+e.pad.b),s>a?s:0}(t,e,m);if(g>0){!function(t,e,r,n){var i="title.automargin",s=t._fullLayout.title,l=s.y>.5?"t":"b",c={x:s.x,y:s.y,t:0,b:0},d={};"paper"===s.yref&&function(t,e,r,n,i){var o="paper"===e.yref?t._fullLayout._size.h:t._fullLayout.height,s=a.isTopAnchor(e)?n:n-i,l="b"===r?o-s:s;return!(a.isTopAnchor(e)&&"t"===r||a.isBottomAnchor(e)&&"b"===r)&&l<i}(t,s,l,e,n)?c[l]=r:"container"===s.yref&&(d[l]=r,t._fullLayout._reservedMargin[i]=d),o.allowAutoMargin(t,i),o.autoMargin(t,i,c)}(t,c,g,m),f.attr({x:h,y:c,"text-anchor":i,dy:M(e.yanchor)}).call(s.positionText,h,c);var b=(e.text.match(s.BR_TAG_ALL)||[]).length;if(b){var v=p.LINE_SPACING*b+p.MID_SHIFT;0===e.y&&(v=-v),f.selectAll(".line").each((function(){var t=+this.getAttribute("dy").slice(0,-2)-v+"em";this.setAttribute("dy",t)}))}var x=n.select(t).selectAll(".gtitle-subtitle");if(x.node()){var w=f.node().getBBox(),_=w.y+w.height+u.SUBTITLE_PADDING_EM*e.subtitle.font.size;x.attr({x:h,y:_,"text-anchor":i,dy:M(e.yanchor)}).call(s.positionText,h,_)}}}},e.doTraceStyle=function(t){var r,n=t.calcdata,a=[];for(r=0;r<n.length;r++){var s=n[r],c=s[0]||{},d=c.trace||{},u=d._module||{},h=u.arraysToCalcdata;h&&h(s,d);var f=u.editStyle;f&&a.push({fn:f,cd0:c})}if(a.length){for(r=0;r<a.length;r++){var p=a[r];p.fn(t,p.cd0)}l(t),e.redrawReglTraces(t)}return o.style(t),i.getComponentMethod("legend","draw")(t),o.previousPromises(t)},e.doColorBars=function(t){return i.getComponentMethod("colorbar","draw")(t),o.previousPromises(t)},e.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,i.call("_doPlot",t,"",e)},e.doLegend=function(t){return i.getComponentMethod("legend","draw")(t),o.previousPromises(t)},e.doTicksRelayout=function(t){return f.draw(t,"redraw"),t._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(t),l(t),e.redrawReglTraces(t)),e.drawMainTitle(t),o.previousPromises(t)},e.doModeBar=function(t){var e=t._fullLayout;h.manage(t);for(var r=0;r<e._basePlotModules.length;r++){var n=e._basePlotModules[r].updateFx;n&&n(t)}return o.previousPromises(t)},e.doCamera=function(t){for(var e=t._fullLayout,r=e._subplots.gl3d,n=0;n<r.length;n++){var i=e[r[n]];i._scene.setViewport(i)}},e.drawData=function(t){var r=t._fullLayout;l(t);for(var n=r._basePlotModules,a=0;a<n.length;a++)n[a].plot(t);return e.redrawReglTraces(t),o.style(t),i.getComponentMethod("selections","draw")(t),i.getComponentMethod("shapes","draw")(t),i.getComponentMethod("annotations","draw")(t),i.getComponentMethod("images","draw")(t),r._replotting=!1,o.previousPromises(t)},e.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var r,n,i=t._fullData,o=[],s=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),r=0;r<i.length;r++){var l=i[r];!0===l.visible&&0!==l._length&&("splom"===l.type?e._splomScenes[l.uid].draw():"scattergl"===l.type?a.pushUnique(o,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&a.pushUnique(s,l.subplot))}for(r=0;r<o.length;r++)(n=e._plots[o[r]])._scene&&n._scene.draw();for(r=0;r<s.length;r++)(n=e[s[r]]._subplot)._scene&&n._scene.draw()}},e.doAutoRangeAndConstraints=function(t){for(var e,r=f.list(t,"",!0),n={},i=0;i<r.length;i++)if(!n[(e=r[i])._id]){n[e._id]=1,b(t,e),v(t,e);var o=e._matchGroup;if(o)for(var a in o){var s=f.getFromId(t,a);v(t,s,e.range),n[a]=1}}g(t)},e.finalDraw=function(t){i.getComponentMethod("rangeslider","draw")(t),i.getComponentMethod("rangeselector","draw")(t)},e.drawMarginPushers=function(t){i.getComponentMethod("legend","draw")(t),i.getComponentMethod("rangeselector","draw")(t),i.getComponentMethod("sliders","draw")(t),i.getComponentMethod("updatemenus","draw")(t),i.getComponentMethod("colorbar","draw")(t)}},39095:(t,e,r)=>{"use strict";var n,i,o,a,s=Object.create;r(11314)()||(n=r(786)),t.exports=n?1!==n.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(t){o[t]="__proto__"!==t?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(i,o),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return s(null===t?i:t,e)}):s},39382:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=[];t.exports=function(t,e){if(-1===o.indexOf(t)){o.push(t);var r=1e3;i(e)?r=e:"long"===e&&(r=3e3);var a=n.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(t){var i=n.select(this);i.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){i.transition().call(s)}));for(var o=i.append("p"),a=t.split(/<br\s*\/?>/g),l=0;l<a.length;l++)l&&o.append("br"),o.append("span").text(a[l]);"stick"===e?i.transition().duration(350).style("opacity",1):i.transition().duration(700).style("opacity",1).transition().delay(r).call(s)}))}function s(t){t.duration(700).style("opacity",0).each("end",(function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1),n.select(this).remove()}))}}},39677:(t,e,r)=>{"use strict";var n=r(77061),i=r(75058),o=r(98387).line,a=r(68057).T,s=r(98260).extendFlat,l=r(46121).templatedArray,c=r(53644),d=r(3520);const{shapeTexttemplateAttrs:u,templatefallbackAttrs:h}=r(24131);var f=r(12086);t.exports=l("shape",{visible:s({},d.visible,{editType:"calc+arraydraw",description:["Determines whether or not this shape is visible.","If *legendonly*, the shape is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether or not this","shape is shown in the legend."].join(" ")},legend:s({},d.legend,{editType:"calc+arraydraw",description:["Sets the reference to a legend to show this shape in.","References to these legends are *legend*, *legend2*, *legend3*, etc.","Settings for these legends are set in the layout, under","`layout.legend`, `layout.legend2`, etc."].join(" ")}),legendgroup:s({},d.legendgroup,{editType:"calc+arraydraw",description:["Sets the legend group for this shape.","Traces and shapes part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")}),legendgrouptitle:{text:s({},d.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:i({editType:"calc+arraydraw",description:["Sets this legend group's title font."].join(" ")}),editType:"calc+arraydraw"},legendrank:s({},d.legendrank,{editType:"calc+arraydraw",description:["Sets the legend rank for this shape.","Items and groups with smaller ranks are presented on top/left side while","with *reversed* `legend.traceorder` they are on bottom/right side.","The default legendrank is 1000,","so that you can use ranks less than 1000 to place certain items before all unranked items,","and ranks greater than 1000 to go after all unranked items.","When having unranked or equal rank items shapes would be displayed after traces","i.e. according to their order in data and layout."].join(" ")}),legendwidth:s({},d.legendwidth,{editType:"calc+arraydraw",description:"Sets the width (in px or fraction) of the legend for this shape."}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw",description:["Specifies whether shapes are drawn below gridlines (*below*),","between gridlines and traces (*between*) or above traces (*above*)."].join(" ")},xref:s({},n.xref,{description:["Sets the shape's x coordinate axis.",c.axisRefDescription("x","left","right")].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `x0` away from the center of the category when `xref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `x1` away from the center of the category when `xref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},yref:s({},n.yref,{description:["Sets the shape's y coordinate axis.",c.axisRefDescription("y","bottom","top")].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `y0` away from the center of the category when `yref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc",description:["Shifts `y1` away from the center of the category when `yref` is a *category* or","*multicategory* axis. -0.5 corresponds to the start of the category and 0.5","corresponds to the end of the category."].join(" ")},path:{valType:"string",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:s({},o.color,{editType:"arraydraw"}),width:s({},o.width,{editType:"calc+arraydraw"}),dash:s({},a,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color filling the shape's interior. Only applies to closed shapes."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw",description:["Determines which regions of complex paths constitute the interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw",description:["Determines whether the shape could be activated for edit or not.","Has no effect when the older editable shapes mode is enabled via","`config.editable` or `config.edits.shapePosition`."].join(" ")},label:{text:{valType:"string",dflt:"",editType:"arraydraw",description:["Sets the text to display with shape.","It is also used for legend item if `name` is not provided."].join(" ")},texttemplate:u({},{keys:Object.keys(f)}),texttemplatefallback:h({editType:"arraydraw"}),font:i({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the shape label text font."}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw",description:["Sets the position of the label text relative to the shape.","Supported values for rectangles, circles and paths are","*top left*, *top center*, *top right*, *middle left*,","*middle center*, *middle right*, *bottom left*, *bottom center*,","and *bottom right*.","Supported values for lines are *start*, *middle*, and *end*.","Default: *middle center* for rectangles, circles, and paths; *middle* for lines."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw",description:["Sets the angle at which the label text is drawn","with respect to the horizontal. For lines, angle *auto*","is the same angle as the line. For all other shapes,","angle *auto* is horizontal."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the label's horizontal position anchor","This anchor binds the specified `textposition` to the *left*, *center*","or *right* of the label text.","For example, if `textposition` is set to *top right* and","`xanchor` to *right* then the right-most portion of the","label text lines up with the right-most edge of the","shape."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw",description:["Sets the label's vertical position anchor","This anchor binds the specified `textposition` to the *top*, *middle*","or *bottom* of the label text.","For example, if `textposition` is set to *top right* and","`yanchor` to *top* then the top-most portion of the","label text lines up with the top-most edge of the","shape."].join(" ")},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw",description:"Sets padding (in px) between edge of label and edge of shape."},editType:"arraydraw"},editType:"arraydraw"})},39683:(t,e,r)=>{"use strict";var n,i=r(59738),o=r(10040),a=r(4216),s=r(15498),l=r(54863),c=r(30829),d=Function.prototype.bind,u=Object.defineProperty,h=Object.prototype.hasOwnProperty;n=function(t,e,r){var n,i=o(e)&&a(e.value);return delete(n=s(e)).writable,delete n.value,n.get=function(){return!r.overwriteDefinition&&h.call(this,t)?i:(e.value=d.call(i,r.resolveContext?r.resolveContext(this):this),u(this,t,e),this[t])},n},t.exports=function(t){var e=l(arguments[1]);return i(e.resolveContext)&&a(e.resolveContext),c(t,(function(t,r){return n(r,t,e)}))}},39687:t=>{"use strict";t.exports=function(){var t,e;if("function"!=typeof WeakMap)return!1;try{t=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch(t){return!1}return"[object WeakMap]"===String(t)&&"function"==typeof t.set&&t.set({},1)===t&&"function"==typeof t.delete&&"function"==typeof t.has&&"one"===t.get(e)}},39807:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&h())}function h(){if(!c){var t=a(u);c=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new f(t,e)),1!==l.length||c||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},39859:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=r(99246);t.exports=function(t){return function(e,r){var a=e[t];if(Array.isArray(a))for(var s=n.subplotsRegistry.cartesian,l=s.idRegex,c=r._subplots,d=c.xaxis,u=c.yaxis,h=c.cartesian,f=r._has("cartesian"),p=0;p<a.length;p++){var m=a[p];if(i.isPlainObject(m)){var g=o.cleanId(m.xref,"x",!1),b=o.cleanId(m.yref,"y",!1),v=l.x.test(g),y=l.y.test(b);if(v||y){f||i.pushUnique(r._basePlotModules,s);var x=!1;v&&-1===d.indexOf(g)&&(d.push(g),x=!0),y&&-1===u.indexOf(b)&&(u.push(b),x=!0),x&&v&&y&&h.push(g+b)}}}}}},40241:(t,e,r)=>{"use strict";var n=r(12822),i=r(86626).EventEmitter,o=r(13078);t.exports=function(t){var e=t.emitter||new i,r=new Promise((function(r,i){var a,s,l=window.Image,c=t.svg,d=t.format||"png",u=t.canvas,h=t.scale||1,f=t.width||300,p=t.height||150,m=h*f,g=h*p,b=u.getContext("2d",{willReadFrequently:!0}),v=new l;"svg"===d||n.isSafari()?s=o.encodeSVG(c):(a=o.createBlob(c,"svg"),s=o.createObjectURL(a)),u.width=m,u.height=g,v.onload=function(){var n;switch(a=null,o.revokeObjectURL(s),"svg"!==d&&b.drawImage(v,0,0,m,g),d){case"jpeg":n=u.toDataURL("image/jpeg");break;case"png":n=u.toDataURL("image/png");break;case"webp":n=u.toDataURL("image/webp");break;case"svg":n=s;break;default:var l="Image format is not jpeg, png, svg or webp.";if(i(new Error(l)),!t.promise)return e.emit("error",l)}r(n),t.promise||e.emit("success",n)},v.onerror=function(r){if(a=null,o.revokeObjectURL(s),i(r),!t.promise)return e.emit("error",r)},v.src=s}));return t.promise?r:e}},40288:(t,e,r)=>{"use strict";var n=r(9994),i=r(15305).isSize,o=p(r(54324)),a=p(r(94316)),s=p(r(99803)),l=p(r(87486)),c=p(r(2362)),d={normal:1,"small-caps":1},u={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},h="serif";function f(t,e){if(t&&!e[t]&&!o[t])throw Error("Unknown keyword `"+t+"`");return t}function p(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=1;return e}t.exports=function(t){if((t=n(t,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return t.system&&f(t.system,a),t.system;if(f(t.style,l),f(t.variant,d),f(t.weight,s),f(t.stretch,c),null==t.size&&(t.size="1rem"),"number"==typeof t.size&&(t.size+="px"),!i)throw Error("Bad size value `"+t.size+"`");t.family||(t.family=h),Array.isArray(t.family)&&(t.family.length||(t.family=[h]),t.family=t.family.map((function(t){return u[t]?t:'"'+t+'"'})).join(", "));var e=[];return e.push(t.style),t.variant!==t.style&&e.push(t.variant),t.weight!==t.variant&&t.weight!==t.style&&e.push(t.weight),t.stretch!==t.weight&&t.stretch!==t.variant&&t.stretch!==t.style&&e.push(t.stretch),e.push(t.size+(null==t.lineHeight||"normal"===t.lineHeight||t.lineHeight+""=="1"?"":"/"+t.lineHeight)),e.push(t.family),e.filter(Boolean).join(" ")}},40365:(t,e,r)=>{"use strict";var n=r(98260).extendFlat;e.u=function(t,e){e=e||{};var r={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},i=t.name?t.name+" ":"",o=t.trace?"trace ":"subplot ",a=e.description?" "+e.description:"",s={x:n({},r,{description:["Sets the horizontal domain of this ",i,o,"(in plot fraction).",a].join("")}),y:n({},r,{description:["Sets the vertical domain of this ",i,o,"(in plot fraction).",a].join("")}),editType:t.editType};return t.noGridCell||(s.row={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",i,o,".",a].join("")},s.column={valType:"integer",min:0,dflt:0,editType:t.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",i,o,".",a].join("")}),s},e.N=function(t,e,r,n){var i=n&&n.x||[0,1],o=n&&n.y||[0,1],a=e.grid;if(a){var s=r("domain.column");void 0!==s&&(s<a.columns?i=a._domains.x[s]:delete t.domain.column);var l=r("domain.row");void 0!==l&&(l<a.rows?o=a._domains.y[l]:delete t.domain.row)}var c=r("domain.x",i),d=r("domain.y",o);c[0]<c[1]||(t.domain.x=i.slice()),d[0]<d[1]||(t.domain.y=o.slice())}},40471:t=>{"use strict";var e=Object.prototype.toString,r=e.call(function(){return arguments}());t.exports=function(t){return e.call(t)===r}},40658:(t,e,r)=>{"use strict";var n=r(75058),i=r(84226),o=r(98260).extendFlat,a=r(62309).overrideAll,s=r(85538),l=r(46121).templatedArray,c=l("button",{visible:{valType:"boolean",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets a 2nd set of `args`,","these arguments values are passed to the Plotly","method set in `method` when clicking this button while in the active state.","Use this to create toggle buttons."].join(" ")},label:{valType:"string",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});t.exports=a(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05,description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:o(s({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:n({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:i.borderLine,description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root")},40666:(t,e,r)=>{"use strict";var n=r(27941),i=r(12822),o=i.numberFormat,a=r(7370),s=r(18106),l=r(25059),c=r(17499),d=r(80755),u=i.strTranslate,h=r(80394),f=r(25853),p=r(89701).LINE_SPACING,m=r(11891).DESELECTDIM,g=r(677),b=r(43710),v=r(66811).appendArrayPointValue,y=t.exports={};function x(t){return"none"===t?void 0:t}y.font=function(t,e){var r=e.variant,n=e.style,i=e.weight,o=e.color,a=e.size,s=e.family,l=e.shadow,d=e.lineposition,u=e.textcase;s&&t.style("font-family",s),a+1&&t.style("font-size",a+"px"),o&&t.call(c.fill,o),i&&t.style("font-weight",i),n&&t.style("font-style",n),r&&t.style("font-variant",r),u&&t.style("text-transform",x(function(t){return w[t]}(u))),l&&t.style("text-shadow","auto"===l?h.makeTextShadow(c.contrast(o)):x(l)),d&&t.style("text-decoration-line",x(function(t){return t.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(d)))};var w={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function _(t,e,r,n){var i=e.fillpattern,o=e.fillgradient,a=y.getPatternAttr,s=i&&(a(i.shape,0,"")||a(i.path,0,""));if(s){var l=a(i.bgcolor,0,null),d=a(i.fgcolor,0,null),u=i.fgopacity,h=a(i.size,0,8),f=a(i.solidity,0,.3),p=e.uid;y.pattern(t,"point",r,p,s,h,f,void 0,i.fillmode,l,d,u)}else if(o&&"none"!==o.type){var m,g,b=o.type,v="scatterfill-"+e.uid;n&&(v="legendfill-"+e.uid),n||void 0===o.start&&void 0===o.stop?("horizontal"===b&&(b+="reversed"),t.call(y.gradient,r,v,b,o.colorscale,"fill")):("horizontal"===b?(m={x:o.start,y:0},g={x:o.stop,y:0}):"vertical"===b&&(m={x:0,y:o.start},g={x:0,y:o.stop}),m.x=e._xA.c2p(void 0===m.x?e._extremes.x.min[0].val:m.x,!0),m.y=e._yA.c2p(void 0===m.y?e._extremes.y.min[0].val:m.y,!0),g.x=e._xA.c2p(void 0===g.x?e._extremes.x.max[0].val:g.x,!0),g.y=e._yA.c2p(void 0===g.y?e._extremes.y.max[0].val:g.y,!0),t.call(E,r,v,"linear",o.colorscale,"fill",m,g,!0,!1))}else e.fillcolor&&t.call(c.fill,e.fillcolor)}y.setPosition=function(t,e,r){t.attr("x",e).attr("y",r)},y.setSize=function(t,e,r){t.attr("width",e).attr("height",r)},y.setRect=function(t,e,r,n,i){t.call(y.setPosition,e,r).call(y.setSize,n,i)},y.translatePoint=function(t,e,r,n){var i=r.c2p(t.x),o=n.c2p(t.y);return!!(a(i)&&a(o)&&e.node())&&("text"===e.node().nodeName?e.attr("x",i).attr("y",o):e.attr("transform",u(i,o)),!0)},y.translatePoints=function(t,e,r){t.each((function(t){var i=n.select(this);y.translatePoint(t,i,e,r)}))},y.hideOutsideRangePoint=function(t,e,r,n,i,o){e.attr("display",r.isPtWithinRange(t,i)&&n.isPtWithinRange(t,o)?null:"none")},y.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var r=e.xaxis,i=e.yaxis;t.each((function(e){var o=e[0].trace,a=o.xcalendar,s=o.ycalendar,c=l.traceIs(o,"bar-like")?".bartext":".point,.textpoint";t.selectAll(c).each((function(t){y.hideOutsideRangePoint(t,n.select(this),r,i,a,s)}))}))}},y.crispRound=function(t,e,r){return e&&a(e)?t._context.staticPlot?e:e<1?1:Math.round(e):r||0},y.singleLineStyle=function(t,e,r,n,i){e.style("fill","none");var o=(((t||[])[0]||{}).trace||{}).line||{},a=r||o.width||0,s=i||o.dash||"";c.stroke(e,n||o.color),y.dashLine(e,s,a)},y.lineGroupStyle=function(t,e,r,i){t.style("fill","none").each((function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,s=i||o.dash||"";n.select(this).call(c.stroke,r||o.color).call(y.dashLine,s,a)}))},y.dashLine=function(t,e,r){r=+r||0,e=y.dashStyle(e,r),t.style({"stroke-dasharray":e,"stroke-width":r+"px"})},y.dashStyle=function(t,e){e=+e||1;var r=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=r+"px,"+r+"px":"dash"===t?t=3*r+"px,"+3*r+"px":"longdash"===t?t=5*r+"px,"+5*r+"px":"dashdot"===t?t=3*r+"px,"+r+"px,"+r+"px,"+r+"px":"longdashdot"===t&&(t=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),t},y.singleFillStyle=function(t,e){var r=n.select(t.node());_(t,((r.data()[0]||[])[0]||{}).trace||{},e,!1)},y.fillGroupStyle=function(t,e,r){t.style("stroke-width",0).each((function(t){var i=n.select(this);t[0].trace&&_(i,t[0].trace,e,r)}))};var k=r(68735);y.symbolNames=[],y.symbolFuncs=[],y.symbolBackOffs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolNoFill={},y.symbolList=[],Object.keys(k).forEach((function(t){var e=k[t],r=e.n;y.symbolList.push(r,String(r),t,r+100,String(r+100),t+"-open"),y.symbolNames[r]=t,y.symbolFuncs[r]=e.f,y.symbolBackOffs[r]=e.backoff||0,e.needLine&&(y.symbolNeedLines[r]=!0),e.noDot?y.symbolNoDot[r]=!0:y.symbolList.push(r+200,String(r+200),t+"-dot",r+300,String(r+300),t+"-open-dot"),e.noFill&&(y.symbolNoFill[r]=!0)}));var A=y.symbolNames.length;function T(t,e,r,n){var i=t%100;return y.symbolFuncs[i](e,r,n)+(t>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}y.symbolNumber=function(t){if(a(t))t=+t;else if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=y.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=A||t>=400?0:Math.floor(Math.max(t,0))};var M=o("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function E(t,e,r,o,a,l,d,u,h,f){var p,m=a.length;"linear"===o?p={node:"linearGradient",attrs:{x1:d.x,y1:d.y,x2:u.x,y2:u.y,gradientUnits:h?"userSpaceOnUse":"objectBoundingBox"},reversed:f}:"radial"===o&&(p={node:"radialGradient",reversed:f});for(var g=new Array(m),b=0;b<m;b++)p.reversed?g[m-1-b]=[M(100*(1-a[b][0])),a[b][1]]:g[b]=[M(100*a[b][0]),a[b][1]];var v=e._fullLayout,y="g"+v._uid+"-"+r,x=v._defs.select(".gradients").selectAll("#"+y).data([o+g.join(";")],i.identity);x.exit().remove(),x.enter().append(p.node).each((function(){var t=n.select(this);p.attrs&&t.attr(p.attrs),t.attr("id",y);var e=t.selectAll("stop").data(g);e.exit().remove(),e.enter().append("stop"),e.each((function(t){var e=s(t[1]);n.select(this).attr({offset:t[0]+"%","stop-color":c.tinyRGB(e),"stop-opacity":e.getAlpha()})}))})),t.style(l,G(y,e)).style(l+"-opacity",null),t.classed("gradient_filled",!0)}y.gradient=function(t,e,r,n,i,o){var a=S[n];return E(t,e,r,a.type,i,o,a.start,a.stop,!1,a.reversed)},y.pattern=function(t,e,r,o,a,l,d,u,h,f,p,m){var g="legend"===e;u&&("overlay"===h?(f=u,p=c.contrast(f)):(f=void 0,p=u));var b,v,y,x,w,_,k,A,T,M=r._fullLayout,S="p"+M._uid+"-"+o,E={},C=s(p),z=c.tinyRGB(C),L=m*C.getAlpha();switch(a){case"/":b=l*Math.sqrt(2),v=l*Math.sqrt(2),_="path",E={d:y="M-"+b/4+","+v/4+"l"+b/2+",-"+v/2+"M0,"+v+"L"+b+",0M"+b/4*3+","+v/4*5+"l"+b/2+",-"+v/2,opacity:L,stroke:z,"stroke-width":(x=d*l)+"px"};break;case"\\":b=l*Math.sqrt(2),v=l*Math.sqrt(2),_="path",E={d:y="M"+b/4*3+",-"+v/4+"l"+b/2+","+v/2+"M0,0L"+b+","+v+"M-"+b/4+","+v/4*3+"l"+b/2+","+v/2,opacity:L,stroke:z,"stroke-width":(x=d*l)+"px"};break;case"x":b=l*Math.sqrt(2),v=l*Math.sqrt(2),y="M-"+b/4+","+v/4+"l"+b/2+",-"+v/2+"M0,"+v+"L"+b+",0M"+b/4*3+","+v/4*5+"l"+b/2+",-"+v/2+"M"+b/4*3+",-"+v/4+"l"+b/2+","+v/2+"M0,0L"+b+","+v+"M-"+b/4+","+v/4*3+"l"+b/2+","+v/2,x=l-l*Math.sqrt(1-d),_="path",E={d:y,opacity:L,stroke:z,"stroke-width":x+"px"};break;case"|":_="path",_="path",E={d:y="M"+(b=l)/2+",0L"+b/2+","+(v=l),opacity:L,stroke:z,"stroke-width":(x=d*l)+"px"};break;case"-":_="path",_="path",E={d:y="M0,"+(v=l)/2+"L"+(b=l)+","+v/2,opacity:L,stroke:z,"stroke-width":(x=d*l)+"px"};break;case"+":_="path",y="M"+(b=l)/2+",0L"+b/2+","+(v=l)+"M0,"+v/2+"L"+b+","+v/2,x=l-l*Math.sqrt(1-d),_="path",E={d:y,opacity:L,stroke:z,"stroke-width":x+"px"};break;case".":b=l,v=l,d<Math.PI/4?w=Math.sqrt(d*l*l/Math.PI):(k=d,A=Math.PI/4,w=(T=l/2)+(l/Math.sqrt(2)-T)*(k-A)/(1-A)),_="circle",E={cx:b/2,cy:v/2,r:w,opacity:L,fill:z};break;default:b=l,v=l,_="path",E={d:a,opacity:L,fill:z}}var O=[a||"noSh",f||"noBg",p||"noFg",l,d].join(";"),D=M._defs.select(".patterns").selectAll("#"+S).data([O],i.identity);D.exit().remove(),D.enter().append("pattern").each((function(){var t=n.select(this);if(t.attr({id:S,width:b+"px",height:v+"px",patternUnits:"userSpaceOnUse",patternTransform:g?"scale(0.8)":""}),f){var e=s(f),r=c.tinyRGB(e),i=e.getAlpha(),o=t.selectAll("rect").data([0]);o.exit().remove(),o.enter().append("rect").attr({width:b+"px",height:v+"px",fill:r,"fill-opacity":i})}var a=t.selectAll(_).data([0]);a.exit().remove(),a.enter().append(_).attr(E)})),t.style("fill",G(S,r)).style("fill-opacity",null),t.classed("pattern_filled",!0)},y.initGradients=function(t){var e=t._fullLayout;i.ensureSingle(e._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),n.select(t).selectAll(".gradient_filled").classed("gradient_filled",!1)},y.initPatterns=function(t){var e=t._fullLayout;i.ensureSingle(e._defs,"g","patterns").selectAll("pattern").remove(),n.select(t).selectAll(".pattern_filled").classed("pattern_filled",!1)},y.getPatternAttr=function(t,e,r){return t&&i.isArrayOrTypedArray(t)?e<t.length?t[e]:r:t},y.pointStyle=function(t,e,r,i){if(t.size()){var o=y.makePointStyleFns(e);t.each((function(t){y.singlePointStyle(t,n.select(this),e,o,r,i)}))}},y.singlePointStyle=function(t,e,r,n,o,a){var s=r.marker,l=s.line;if(a&&a.i>=0&&void 0===t.i&&(t.i=a.i),e.style("opacity",n.selectedOpacityFn?n.selectedOpacityFn(t):void 0===t.mo?s.opacity:t.mo),n.ms2mrc){var d;d="various"===t.ms||"various"===s.size?3:n.ms2mrc(t.ms),t.mrc=d,n.selectedSizeFn&&(d=t.mrc=n.selectedSizeFn(t));var u=y.symbolNumber(t.mx||s.symbol)||0;t.om=u%200>=100;var h=nt(t,r),f=q(t,r);e.attr("d",T(u,d,h,f))}var p,m,g,b=!1;if(t.so)g=l.outlierwidth,m=l.outliercolor,p=s.outliercolor;else{var v=(l||{}).width;g=(t.mlw+1||v+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,m="mlc"in t?t.mlcc=n.lineScale(t.mlc):i.isArrayOrTypedArray(l.color)?c.defaultLine:l.color,i.isArrayOrTypedArray(s.color)&&(p=c.defaultLine,b=!0),p="mc"in t?t.mcc=n.markerScale(t.mc):s.color||s.colors||"rgba(0,0,0,0)",n.selectedColorFn&&(p=n.selectedColorFn(t))}if(t.om)e.call(c.stroke,p).style({"stroke-width":(g||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:g)+"px");var x=s.gradient,w=t.mgt;w?b=!0:w=x&&x.type,i.isArrayOrTypedArray(w)&&(w=w[0],S[w]||(w=0));var _=s.pattern,k=y.getPatternAttr,A=_&&(k(_.shape,t.i,"")||k(_.path,t.i,""));if(w&&"none"!==w){var M=t.mgc;M?b=!0:M=x.color;var E=r.uid;b&&(E+="-"+t.i),y.gradient(e,o,E,w,[[0,M],[1,p]],"fill")}else if(A){var C=!1,z=_.fgcolor;!z&&a&&a.color&&(z=a.color,C=!0);var L=k(z,t.i,a&&a.color||null),O=k(_.bgcolor,t.i,null),D=_.fgopacity,I=k(_.size,t.i,8),F=k(_.solidity,t.i,.3);C=C||t.mcc||i.isArrayOrTypedArray(_.shape)||i.isArrayOrTypedArray(_.path)||i.isArrayOrTypedArray(_.bgcolor)||i.isArrayOrTypedArray(_.fgcolor)||i.isArrayOrTypedArray(_.size)||i.isArrayOrTypedArray(_.solidity);var R=r.uid;C&&(R+="-"+t.i),y.pattern(e,"point",o,R,A,I,F,t.mcc,_.fillmode,O,L,D)}else i.isArrayOrTypedArray(p)?c.fill(e,p[t.i]):c.fill(e,p);g&&c.stroke(e,m)}},y.makePointStyleFns=function(t){var e={},r=t.marker;return e.markerScale=y.tryColorscale(r,""),e.lineScale=y.tryColorscale(r,"line"),l.traceIs(t,"symbols")&&(e.ms2mrc=g.isBubble(t)?b(t):function(){return(r.size||6)/2}),t.selectedpoints&&i.extendFlat(e,y.makeSelectedPointStyleFns(t)),e},y.makeSelectedPointStyleFns=function(t){var e={},r=t.selected||{},n=t.unselected||{},o=t.marker||{},a=r.marker||{},s=n.marker||{},c=o.opacity,d=a.opacity,u=s.opacity,h=void 0!==d,f=void 0!==u;(i.isArrayOrTypedArray(c)||h||f)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?o.opacity:t.mo;return t.selected?h?d:e:f?u:m*e});var p=o.color,g=a.color,b=s.color;(g||b)&&(e.selectedColorFn=function(t){var e=t.mcc||p;return t.selected?g||e:b||e});var v=o.size,y=a.size,x=s.size,w=void 0!==y,_=void 0!==x;return l.traceIs(t,"symbols")&&(w||_)&&(e.selectedSizeFn=function(t){var e=t.mrc||v/2;return t.selected?w?y/2:e:_?x/2:e}),e},y.makeSelectedTextStyleFns=function(t){var e={},r=t.selected||{},n=t.unselected||{},i=t.textfont||{},o=r.textfont||{},a=n.textfont||{},s=i.color,l=o.color,d=a.color;return e.selectedTextColorFn=function(t){var e=t.tc||s;return t.selected?l||e:d||(l?e:c.addOpacity(e,m))},e},y.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var r=y.makeSelectedPointStyleFns(e),i=e.marker||{},o=[];r.selectedOpacityFn&&o.push((function(t,e){t.style("opacity",r.selectedOpacityFn(e))})),r.selectedColorFn&&o.push((function(t,e){c.fill(t,r.selectedColorFn(e))})),r.selectedSizeFn&&o.push((function(t,n){var o=n.mx||i.symbol||0,a=r.selectedSizeFn(n);t.attr("d",T(y.symbolNumber(o),a,nt(n,e),q(n,e))),n.mrc2=a})),o.length&&t.each((function(t){for(var e=n.select(this),r=0;r<o.length;r++)o[r](e,t)}))}},y.tryColorscale=function(t,e){var r=e?i.nestedProperty(t,e).get():t;if(r){var n=r.color;if((r.colorscale||r._colorAx)&&i.isArrayOrTypedArray(n))return d.makeColorScaleFuncFromTrace(r)}return i.identity};var C,z,L={start:1,end:-1,middle:0,bottom:1,top:-1};function O(t,e,r,i,o){var a=n.select(t.node().parentNode),s=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",l=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",c=i?i/.8+1:0,d=(h.lineCount(t)-1)*p+1,f=L[l]*c,m=.75*r+L[s]*c+(L[s]-1)*d*r/2;t.attr("text-anchor",l),o||a.attr("transform",u(f,m))}function D(t,e){var r=t.ts||e.textfont.size;return a(r)&&r>0?r:0}function I(t,e,r){return r&&(t=B(t)),e?R(t[1]):F(t[0])}function F(t){var e=n.round(t,2);return C=e,e}function R(t){var e=n.round(t,2);return z=e,e}function P(t,e,r,n){var i=t[0]-e[0],o=t[1]-e[1],a=r[0]-e[0],s=r[1]-e[1],l=Math.pow(i*i+o*o,.25),c=Math.pow(a*a+s*s,.25),d=(c*c*i-l*l*a)*n,u=(c*c*o-l*l*s)*n,h=3*c*(l+c),f=3*l*(l+c);return[[F(e[0]+(h&&d/h)),R(e[1]+(h&&u/h))],[F(e[0]-(f&&d/f)),R(e[1]-(f&&u/f))]]}y.textPointStyle=function(t,e,r){if(t.size()){var o;if(e.selectedpoints){var a=y.makeSelectedTextStyleFns(e);o=a.selectedTextColorFn}var s=e.texttemplate,l=r._fullLayout;t.each((function(t){var a=n.select(this),c=s?i.extractOption(t,e,"txt","texttemplate"):i.extractOption(t,e,"tx","text");if(c||0===c){if(s){var d=e._module.formatLabels,u=d?d(t,e,l):{},f={};v(f,e,t.i),c=i.texttemplateString({data:[f,t,e._meta],fallback:e.texttemplatefallback,labels:u,locale:l._d3locale,template:c})}var p=t.tp||e.textposition,m=D(t,e),g=o?o(t):t.tc||e.textfont.color;a.call(y.font,{family:t.tf||e.textfont.family,weight:t.tw||e.textfont.weight,style:t.ty||e.textfont.style,variant:t.tv||e.textfont.variant,textcase:t.tC||e.textfont.textcase,lineposition:t.tE||e.textfont.lineposition,shadow:t.tS||e.textfont.shadow,size:m,color:g}).text(c).call(h.convertToTspans,r).call(O,p,m,t.mrc)}else a.remove()}))}},y.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var r=y.makeSelectedTextStyleFns(e);t.each((function(t){var i=n.select(this),o=r.selectedTextColorFn(t),a=t.tp||e.textposition,s=D(t,e);c.fill(i,o);var d=l.traceIs(e,"bar-like");O(i,a,s,t.mrc2||t.mrc,d)}))}},y.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var r,n="M"+t[0],i=[];for(r=1;r<t.length-1;r++)i.push(P(t[r-1],t[r],t[r+1],e));for(n+="Q"+i[0][0]+" "+t[1],r=2;r<t.length-1;r++)n+="C"+i[r-2][1]+" "+i[r-1][0]+" "+t[r];return n+"Q"+i[t.length-3][1]+" "+t[t.length-1]},y.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var r,n="M"+t[0],i=t.length-1,o=[P(t[i],t[0],t[1],e)];for(r=1;r<i;r++)o.push(P(t[r-1],t[r],t[r+1],e));for(o.push(P(t[i-1],t[i],t[0],e)),r=1;r<=i;r++)n+="C"+o[r-1][1]+" "+o[r][0]+" "+t[r];return n+"C"+o[i][1]+" "+o[0][0]+" "+t[0]+"Z"};var j={hv:function(t,e,r){return"H"+F(e[0])+"V"+I(e,1,r)},vh:function(t,e,r){return"V"+R(e[1])+"H"+I(e,0,r)},hvh:function(t,e,r){return"H"+F((t[0]+e[0])/2)+"V"+R(e[1])+"H"+I(e,0,r)},vhv:function(t,e,r){return"V"+R((t[1]+e[1])/2)+"H"+F(e[0])+"V"+I(e,1,r)}},N=function(t,e,r){return"L"+I(e,0,r)+","+I(e,1,r)};function B(t,e){var r=t.backoff,n=t.trace,o=t.d,a=t.i;if(r&&n&&n.marker&&n.marker.angle%360==0&&n.line&&"spline"!==n.line.shape){var s=i.isArrayOrTypedArray(r),l=t,c=e?e[0]:C||0,d=e?e[1]:z||0,u=l[0],h=l[1],f=u-c,p=h-d,m=Math.atan2(p,f),g=s?r[a]:r;if("auto"===g){var b=l.i;"scatter"===n.type&&b--;var v=l.marker,x=v.symbol;i.isArrayOrTypedArray(x)&&(x=x[b]);var w=v.size;i.isArrayOrTypedArray(w)&&(w=w[b]),g=v?y.symbolBackOffs[y.symbolNumber(x)]*w:0,g+=y.getMarkerStandoff(o[b],n)||0}var _=u-g*Math.cos(m),k=h-g*Math.sin(m);(_<=u&&_>=c||_>=u&&_<=c)&&(k<=h&&k>=d||k>=h&&k<=d)&&(t=[_,k])}return t}y.steps=function(t){var e=j[t]||N;return function(t){for(var r="M"+F(t[0][0])+","+R(t[0][1]),n=t.length,i=1;i<n;i++)r+=e(t[i-1],t[i],i===n-1);return r}},y.applyBackoff=B,y.makeTester=function(){var t=i.ensureSingleById(n.select("body"),"svg","js-plotly-tester",(function(t){t.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),e=i.ensureSingle(t,"path","js-reference-point",(function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));y.tester=t,y.testref=e},y.savedBBoxes={};var U=0;function V(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function G(t,e){if(!t)return null;var r=e._context,n=r._exportedPlot?"":r._baseUrl||"";return n?"url('"+n+"#"+t+"')":"url(#"+t+")"}y.bBox=function(t,e,r){var o,a,s;if(r||(r=V(t)),r){if(o=y.savedBBoxes[r])return i.extendFlat({},o)}else if(1===t.childNodes.length){var l=t.childNodes[0];if(r=V(l)){var c=+l.getAttribute("x")||0,d=+l.getAttribute("y")||0,u=l.getAttribute("transform");if(!u){var f=y.bBox(l,!1,r);return c&&(f.left+=c,f.right+=c),d&&(f.top+=d,f.bottom+=d),f}if(r+="~"+c+"~"+d+"~"+u,o=y.savedBBoxes[r])return i.extendFlat({},o)}}e?a=t:(s=y.tester.node(),a=t.cloneNode(!0),s.appendChild(a)),n.select(a).attr("transform",null).call(h.positionText,0,0);var p=a.getBoundingClientRect(),m=y.testref.node().getBoundingClientRect();e||s.removeChild(a);var g={height:p.height,width:p.width,left:p.left-m.left,top:p.top-m.top,right:p.right-m.left,bottom:p.bottom-m.top};return U>=1e4&&(y.savedBBoxes={},U=0),r&&(y.savedBBoxes[r]=g),U++,i.extendFlat({},g)},y.setClipUrl=function(t,e,r){t.attr("clip-path",G(e,r))},y.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(t,e,r){return[e,r].join(" ")})).split(" ");return{x:+e[0]||0,y:+e[1]||0}},y.setTranslate=function(t,e,r){var n=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[n]("transform")||"";return e=e||0,r=r||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=u(e,r)).trim(),t[i]("transform",o),o},y.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(t,e,r){return[e,r].join(" ")})).split(" ");return{x:+e[0]||1,y:+e[1]||1}},y.setScale=function(t,e,r){var n=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[n]("transform")||"";return e=e||1,r=r||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+="scale("+e+","+r+")").trim(),t[i]("transform",o),o};var H=/\s*sc.*/;y.setPointGroupScale=function(t,e,r){if(e=e||1,r=r||1,t){var n=1===e&&1===r?"":"scale("+e+","+r+")";t.each((function(){var t=(this.getAttribute("transform")||"").replace(H,"");t=(t+=n).trim(),this.setAttribute("transform",t)}))}};var W=/translate\([^)]*\)\s*$/;function q(t,e){var r;return t&&(r=t.mf),void 0===r&&(r=e.marker&&e.marker.standoff||0),e._geo||e._xA?r:-r}y.setTextPointsScale=function(t,e,r){t&&t.each((function(){var t,i=n.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),l=(i.attr("transform")||"").match(W);t=1===e&&1===r?[]:[u(a,s),"scale("+e+","+r+")",u(-a,-s)],l&&t.push(l),i.attr("transform",t.join(""))}}))},y.getMarkerStandoff=q;var $,Y,Z,X,J,Q,K=Math.atan2,tt=Math.cos,et=Math.sin;function rt(t,e){var r=e[0],n=e[1];return[r*tt(t)-n*et(t),r*et(t)+n*tt(t)]}function nt(t,e){var r,n,o=t.ma;void 0===o&&((o=e.marker.angle)&&!i.isArrayOrTypedArray(o)||(o=0));var s=e.marker.angleref;if("previous"===s||"north"===s){if(e._geo){var l=e._geo.project(t.lonlat);r=l[0],n=l[1]}else{var c=e._xA,d=e._yA;if(!c||!d)return 90;r=c.c2p(t.x),n=d.c2p(t.y)}if(e._geo){var u,h=t.lonlat[0],f=t.lonlat[1],p=e._geo.project([h,f+1e-5]),m=e._geo.project([h+1e-5,f]),g=K(m[1]-n,m[0]-r),b=K(p[1]-n,p[0]-r);if("north"===s)u=o/180*Math.PI;else if("previous"===s){var v=h/180*Math.PI,y=f/180*Math.PI,x=$/180*Math.PI,w=Y/180*Math.PI,_=x-v,k=tt(w)*et(_),A=et(w)*tt(y)-tt(w)*et(y)*tt(_);u=-K(k,A)-Math.PI,$=h,Y=f}var T=rt(g,[tt(u),0]),M=rt(b,[et(u),0]);o=K(T[1]+M[1],T[0]+M[0])/Math.PI*180,"previous"!==s||Q===e.uid&&t.i===J+1||(o=null)}if("previous"===s&&!e._geo)if(Q===e.uid&&t.i===J+1&&a(r)&&a(n)){var S=r-Z,E=n-X,C=e.line&&e.line.shape||"",z=C.slice(C.length-1);"h"===z&&(E=0),"v"===z&&(S=0),o+=K(E,S)/Math.PI*180+90}else o=null}return Z=r,X=n,J=t.i,Q=e.uid,o}y.getMarkerAngle=nt},40747:t=>{"use strict";function e(t,e){var r,n,i=[0,0,0,0];for(r=0;r<4;++r)for(n=0;n<4;++n)i[n]+=t[4*r+n]*e[r];return i}t.exports=function(t,r){return e(t.projection,e(t.view,e(t.model,[r[0],r[1],r[2],1])))}},40959:(t,e,r)=>{"use strict";var n=r(84226);t.exports={bgcolor:{valType:"color",dflt:n.background,editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}},41019:(t,e,r)=>{"use strict";var n=r(82854),i=r(40365).u,o=r(98260).extendFlat,a=r(12822).counterRegex;function s(t,e,r){return{x:{valType:"number",dflt:t,editType:"camera"},y:{valType:"number",dflt:e,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}t.exports={_arrayAttrRegexps:[a("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(s(0,0,1),{description:["Sets the (x,y,z) components of the 'up' camera vector.","This vector determines the up direction of this scene","with respect to the page.","The default is *{x: 0, y: 0, z: 1}* which means that","the z axis points up."].join(" ")}),center:o(s(0,0,0),{description:["Sets the (x,y,z) components of the 'center' camera vector","This vector determines the translation (x,y,z) space","about the center of this scene.","By default, there is no such translation."].join(" ")}),eye:o(s(1.25,1.25,1.25),{description:["Sets the (x,y,z) components of the 'eye' camera vector.","This vector determines the view point about the origin","of this scene."].join(" ")}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc",description:["Sets the projection type. The projection type could be","either *perspective* or *orthographic*. The default is","*perspective*."].join(" ")},editType:"calc"},editType:"camera"},domain:i({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:["If *cube*, this scene's axes are drawn as a cube,","regardless of the axes' ranges.","If *data*, this scene's axes are drawn","in proportion with the axes' ranges.","If *manual*, this scene's axes are drawn","in proportion with the input of *aspectratio*","(the default behavior if *aspectratio* is provided).","If *auto*, this scene's axes are drawn","using the results of *data* except when one axis","is more than four times the size of the two others,","where in that case the results of *cube* are used."].join(" ")},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:["Sets this scene's axis aspectratio."].join(" ")},xaxis:n,yaxis:n,zaxis:n,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot",description:["Determines the mode of drag interactions for this scene."].join(" ")},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions for this scene."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in camera attributes.","Defaults to `layout.uirevision`."].join(" ")},editType:"plot"}},41071:(t,e,r)=>{"use strict";var n=r(68007),i=r(74205),o=r(17478),a=r(94179);function s(t){return t.call.bind(t)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,d=s(Object.prototype.toString),u=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(l)var p=s(BigInt.prototype.valueOf);if(c)var m=s(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function b(t){return"[object Map]"===d(t)}function v(t){return"[object Set]"===d(t)}function y(t){return"[object WeakMap]"===d(t)}function x(t){return"[object WeakSet]"===d(t)}function w(t){return"[object ArrayBuffer]"===d(t)}function _(t){return"undefined"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function k(t){return"[object DataView]"===d(t)}function A(t){return"undefined"!=typeof DataView&&(k.working?k(t):t instanceof DataView)}e.isArgumentsObject=n,e.isGeneratorFunction=i,e.isTypedArray=a,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):a(t)||A(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},b.working="undefined"!=typeof Map&&b(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(b.working?b(t):t instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(v.working?v(t):t instanceof Set)},y.working="undefined"!=typeof WeakMap&&y(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(y.working?y(t):t instanceof WeakMap)},x.working="undefined"!=typeof WeakSet&&x(new WeakSet),e.isWeakSet=function(t){return x(t)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=_,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=A;var T="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(t){return"[object SharedArrayBuffer]"===d(t)}function S(t){return void 0!==T&&(void 0===M.working&&(M.working=M(new T)),M.working?M(t):t instanceof T)}function E(t){return g(t,u)}function C(t){return g(t,h)}function z(t){return g(t,f)}function L(t){return l&&g(t,p)}function O(t){return c&&g(t,m)}e.isSharedArrayBuffer=S,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===d(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===d(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===d(t)},e.isGeneratorObject=function(t){return"[object Generator]"===d(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===d(t)},e.isNumberObject=E,e.isStringObject=C,e.isBooleanObject=z,e.isBigIntObject=L,e.isSymbolObject=O,e.isBoxedPrimitive=function(t){return E(t)||C(t)||z(t)||L(t)||O(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(_(t)||S(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},41095:(t,e,r)=>{"use strict";var n,i,o=r(79969).DC,a=r(7370),s=r(64347),l=r(31918).mod,c=r(32994),d=c.BADNUM,u=c.ONEDAY,h=c.ONEHOUR,f=c.ONEMIN,p=c.ONESEC,m=c.EPOCHJD,g=r(25059),b=r(79969).aL,v=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function w(t){return t&&g.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function _(t,e){return String(t+Math.pow(10,e)).substr(1)}e.dateTick0=function(t,r){var n=function(t,e){return w(t)?e?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:g.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}(t,!!r);if(r<2)return n;var i=e.dateTime2ms(n,t);return i+=u*(r-1),e.ms2DateTime(i,0,t)},e.dfltRange=function(t){return w(t)?g.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},e.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},e.dateTime2ms=function(t,r){if(e.isJSDate(t)){var o=t.getTimezoneOffset()*f,a=(t.getUTCMinutes()-t.getMinutes())*f+(t.getUTCSeconds()-t.getSeconds())*p+(t.getUTCMilliseconds()-t.getMilliseconds());if(a){var s=3*f;o=o-s/2+l(a-o+s/2,s)}return(t=Number(t)-o)>=n&&t<=i?t:d}if("string"!=typeof t&&"number"!=typeof t)return d;t=String(t);var c=w(r),b=t.charAt(0);!c||"G"!==b&&"g"!==b||(t=t.substr(1),r="");var _=c&&"chinese"===r.substr(0,7),k=t.match(_?y:v);if(!k)return d;var A=k[1],T=k[3]||"1",M=Number(k[5]||1),S=Number(k[7]||0),E=Number(k[9]||0),C=Number(k[11]||0);if(c){if(2===A.length)return d;var z;A=Number(A);try{var L=g.getComponentMethod("calendars","getCal")(r);if(_){var O="i"===T.charAt(T.length-1);T=parseInt(T,10),z=L.newDate(A,L.toMonthIndex(A,T,O),M)}else z=L.newDate(A,Number(T),M)}catch(t){return d}return z?(z.toJD()-m)*u+S*h+E*f+C*p:d}A=2===A.length?(Number(A)+2e3-x)%100+x:Number(A),T-=1;var D=new Date(Date.UTC(2e3,T,M,S,E));return D.setUTCFullYear(A),D.getUTCMonth()!==T||D.getUTCDate()!==M?d:D.getTime()+C*p},n=e.MIN_MS=e.dateTime2ms("-9999"),i=e.MAX_MS=e.dateTime2ms("9999-12-31 23:59:59.9999"),e.isDateTime=function(t,r){return e.dateTime2ms(t,r)!==d};var k=90*u,A=3*h,T=5*f;function M(t,e,r,n,i){if((e||r||n||i)&&(t+=" "+_(e,2)+":"+_(r,2),(n||i)&&(t+=":"+_(n,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;t+="."+_(i,o)}return t}e.ms2DateTime=function(t,e,r){if("number"!=typeof t||!(t>=n&&t<=i))return d;e||(e=0);var o,a,s,c,v,y,x=Math.floor(10*l(t+.05,1)),_=Math.round(t-x/10);if(w(r)){var S=Math.floor(_/u)+m,E=Math.floor(l(t,u));try{o=g.getComponentMethod("calendars","getCal")(r).fromJD(S).formatDate("yyyy-mm-dd")}catch(t){o=b("G%Y-%m-%d")(new Date(_))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=e<k?Math.floor(E/h):0,s=e<k?Math.floor(E%h/f):0,c=e<A?Math.floor(E%f/p):0,v=e<T?E%p*10+x:0}else y=new Date(_),o=b("%Y-%m-%d")(y),a=e<k?y.getUTCHours():0,s=e<k?y.getUTCMinutes():0,c=e<A?y.getUTCSeconds():0,v=e<T?10*y.getUTCMilliseconds()+x:0;return M(o,a,s,c,v)},e.ms2DateTimeLocal=function(t){if(!(t>=n+u&&t<=i-u))return d;var e=Math.floor(10*l(t+.05,1)),r=new Date(Math.round(t-e/10));return M(o("%Y-%m-%d")(r),r.getHours(),r.getMinutes(),r.getSeconds(),10*r.getUTCMilliseconds()+e)},e.cleanDate=function(t,r,n){if(t===d)return r;if(e.isJSDate(t)||"number"==typeof t&&isFinite(t)){if(w(n))return s.error("JS Dates and milliseconds are incompatible with world calendars",t),r;if(!(t=e.ms2DateTimeLocal(+t))&&void 0!==r)return r}else if(!e.isDateTime(t,n))return s.error("unrecognized date",t),r;return t};var S=/%\d?f/g,E=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function z(t,e,r,n){t=t.replace(S,(function(t){var r=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(r).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(e+.05));if(t=t.replace(E,(function(){return C[r("%q")(i)]})),w(n))try{t=g.getComponentMethod("calendars","worldCalFmt")(t,e,n)}catch(t){return"Invalid"}return r(t)(i)}var L=[59,59.9,59.99,59.999,59.9999];e.formatDate=function(t,e,r,n,i,o){if(i=w(i)&&i,!e)if("y"===r)e=o.year;else if("m"===r)e=o.month;else{if("d"!==r)return function(t,e){var r=l(t+.05,u),n=_(Math.floor(r/h),2)+":"+_(l(Math.floor(r/f),60),2);if("M"!==e){a(e)||(e=0);var i=(100+Math.min(l(t/p,60),L[e])).toFixed(e).substr(1);e>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),n+=":"+i}return n}(t,r)+"\n"+z(o.dayMonthYear,t,n,i);e=o.dayMonth+"\n"+o.year}return z(e,t,n,i)};var O=3*u;e.incrementMonth=function(t,e,r){r=w(r)&&r;var n=l(t,u);if(t=Math.round(t-n),r)try{var i=Math.round(t/u)+m,o=g.getComponentMethod("calendars","getCal")(r),a=o.fromJD(i);return e%12?o.add(a,e,"m"):o.add(a,e/12,"y"),(a.toJD()-m)*u+n}catch(e){s.error("invalid ms "+t+" in calendar "+r)}var c=new Date(t+O);return c.setUTCMonth(c.getUTCMonth()+e)+n-O},e.findExactDates=function(t,e){for(var r,n,i=0,o=0,s=0,l=0,c=w(e)&&g.getComponentMethod("calendars","getCal")(e),d=0;d<t.length;d++)if(n=t[d],a(n)){if(!(n%u))if(c)try{1===(r=c.fromJD(n/u+m)).day()?1===r.month()?i++:o++:s++}catch(t){}else 1===(r=new Date(n)).getUTCDate()?0===r.getUTCMonth()?i++:o++:s++}else l++;s+=o+=i;var h=t.length-l;return{exactYears:i/h,exactMonths:o/h,exactDays:s/h}}},41103:(t,e,r)=>{"use strict";var n=r(57755);e._doPlot=n._doPlot,e.newPlot=n.newPlot,e.restyle=n.restyle,e.relayout=n.relayout,e.redraw=n.redraw,e.update=n.update,e._guiRestyle=n._guiRestyle,e._guiRelayout=n._guiRelayout,e._guiUpdate=n._guiUpdate,e._storeDirectGUIEdit=n._storeDirectGUIEdit,e.react=n.react,e.extendTraces=n.extendTraces,e.prependTraces=n.prependTraces,e.addTraces=n.addTraces,e.deleteTraces=n.deleteTraces,e.moveTraces=n.moveTraces,e.purge=n.purge,e.addFrames=n.addFrames,e.deleteFrames=n.deleteFrames,e.animate=n.animate,e.setPlotConfig=n.setPlotConfig;var i=r(16822).getGraphDiv,o=r(71422).eraseActiveShape;e.deleteActiveShape=function(t){return o(i(t))},e.toImage=r(42704),e.validate=r(56205),e.downloadImage=r(56787);var a=r(89170);e.makeTemplate=a.makeTemplate,e.validateTemplate=a.validateTemplate},41113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},41246:(t,e,r)=>{"use strict";var n=r(91203),i=r(67044);t.exports=function(t,e,o){var a=t._fullLayout,s=!0;return a._glcanvas.each((function(n){if(n.regl)n.regl.preloadCachedCode(o);else if(!n.pick||a._has("parcoords")){try{n.regl=i({canvas:this,attributes:{antialias:!n.pick,preserveDrawingBuffer:!0},pixelRatio:t._context.plotGlPixelRatio||r.g.devicePixelRatio,extensions:e||[],cachedCode:o||{}})}catch(t){s=!1}n.regl||(s=!1),s&&this.addEventListener("webglcontextlost",(function(e){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:e,layer:n.key})}),!1)}})),s||n({container:a._glcontainer.node()}),s}},41456:(t,e,r)=>{"use strict";t.exports=r(39687)()?WeakMap:r(87841)},41888:t=>{t.exports=!0},42226:(t,e,r)=>{"use strict";var n=r(27941),i=r(18106),o=r(7370),a=r(12822),s=r(17499),l=r(78920).isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],d=["min","max","mid","auto"];function u(t){var e,r,n,i=t._colorAx,o=i||t,a={};for(r=0;r<c.length;r++)a[n=c[r]]=o[n];if(i)for(e="c",r=0;r<d.length;r++)a[n=d[r]]=o["c"+n];else{var s;for(r=0;r<d.length;r++)((s="c"+(n=d[r]))in o||(s="z"+n)in o)&&(a[n]=o[s]);e=s.charAt(0)}return a._sync=function(t,r){var n=-1!==d.indexOf(t)?e+t:t;o[n]=o["_"+n]=r},a}function h(t){for(var e=u(t),r=e.min,n=e.max,i=e.reversescale?f(e.colorscale):e.colorscale,o=i.length,a=new Array(o),s=new Array(o),l=0;l<o;l++){var c=i[l];a[l]=r+c[0]*(n-r),s[l]=c[1]}return{domain:a,range:s}}function f(t){for(var e=t.length,r=new Array(e),n=e-1,i=0;n>=0;n--,i++){var o=t[n];r[i]=[1-o[0],o[1]]}return r}function p(t,e){e=e||{};for(var r=t.domain,a=t.range,l=a.length,c=new Array(l),d=0;d<l;d++){var u=i(a[d]).toRgb();c[d]=[u.r,u.g,u.b,u.a]}var h,f=n.scale.linear().domain(r).range(c).clamp(!0),p=e.noNumericCheck,g=e.returnArray;return(h=p&&g?f:p?function(t){return m(f(t))}:g?function(t){return o(t)?f(t):i(t).isValid()?t:s.defaultLine}:function(t){return o(t)?m(f(t)):i(t).isValid()?t:s.defaultLine}).domain=f.domain,h.range=function(){return a},h}function m(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return i(e).toRgbString()}t.exports={hasColorscale:function(t,e,r){var n=e?a.nestedProperty(t,e).get()||{}:t,i=n[r||"color"];i&&i._inputArray&&(i=i._inputArray);var s=!1;if(a.isArrayOrTypedArray(i))for(var c=0;c<i.length;c++)if(o(i[c])){s=!0;break}return a.isPlainObject(n)&&(s||!0===n.showscale||o(n.cmin)&&o(n.cmax)||l(n.colorscale)||a.isPlainObject(n.colorbar))},extractOpts:u,extractScale:h,flipScale:f,makeColorScaleFunc:p,makeColorScaleFuncFromTrace:function(t,e){return p(h(t),e)}}},42351:(t,e,r)=>{"use strict";var n=r(93767),i=Object.keys;t.exports=function(t){return i(n(t)?Object(t):t)}},42669:t=>{"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&1===t(10)&&-1===t(-20)}},42674:(t,e,r)=>{"use strict";var n=r(98387),i=r(75058),o=r(89322),a=r(60393).axisHoverFormat;const{hovertemplateAttrs:s,texttemplateAttrs:l,templatefallbackAttrs:c}=r(24131);var d=r(3520),u=r(55697),h=r(24134),f=r(98260).extendFlat,p=r(62309).overrideAll,m=r(54747),g=n.line,b=n.marker,v=b.line,y=f({width:g.width,dash:{valType:"enumerated",values:m(u),dflt:"solid",description:"Sets the dash style of the lines."}},o("line"));function x(t){return{show:{valType:"boolean",dflt:!1,description:["Sets whether or not projections are shown along the",t,"axis."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:"Sets the projection color."},scale:{valType:"number",min:0,max:10,dflt:2/3,description:["Sets the scale factor determining the size of the","projection marker points."].join(" ")}}}var w=t.exports=p({x:n.x,y:n.y,z:{valType:"data_array",description:"Sets the z coordinates."},text:f({},n.text,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:l(),texttemplatefallback:c({editType:"calc"}),hovertext:f({},n.hovertext,{description:["Sets text elements associated with each (x,y,z) triplet.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y,z) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),hovertemplate:s(),hovertemplatefallback:c(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:f({},n.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1,description:["If *-1*, the scatter points are not fill with a surface","If *0*, *1*, *2*, the scatter points are filled with","a Delaunay surface about the x, y, z respectively."].join(" ")},surfacecolor:{valType:"color",description:"Sets the surface fill color."},projection:{x:x("x"),y:x("y"),z:x("z")},connectgaps:n.connectgaps,line:y,marker:f({symbol:{valType:"enumerated",values:m(h),dflt:"circle",arrayOk:!0,description:"Sets the marker symbol type."},size:f({},b.size,{dflt:8}),sizeref:b.sizeref,sizemin:b.sizemin,sizemode:b.sizemode,opacity:f({},b.opacity,{arrayOk:!1,description:["Sets the marker opacity.","Note that the marker opacity for scatter3d traces","must be a scalar value for performance reasons.","To set a blending opacity value","(i.e. which is not transparent), set *marker.color*","to an rgba color and use its alpha channel."].join(" ")}),colorbar:b.colorbar,line:f({width:f({},v.width,{arrayOk:!1})},o("marker.line"))},o("marker")),textposition:f({},n.textposition,{dflt:"top center"}),textfont:i({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"],description:"Sets the text font."}),opacity:d.opacity,hoverinfo:f({},d.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},42704:(t,e,r)=>{"use strict";var n=r(7370),i=r(57755),o=r(51137),a=r(12822),s=r(13078),l=r(48402),c=r(40241),d=r(88566).version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};t.exports=function(t,e){var r,h,f,p;function m(t){return!(t in e)||a.validate(e[t],u[t])}if(e=e||{},a.isPlainObject(t)?(r=t.data||[],h=t.layout||{},f=t.config||{},p={}):(t=a.getGraphDiv(t),r=a.extendDeep([],t.data),h=a.extendDeep({},t.layout),f=t._context,p=t._fullLayout||{}),!m("width")&&null!==e.width||!m("height")&&null!==e.height)throw new Error("Height and width should be pixel values.");if(!m("format"))throw new Error("Export format is not "+a.join2(u.format.values,", "," or ")+".");var g={};function b(t,r){return a.coerce(e,g,u,t,r)}var v=b("format"),y=b("width"),x=b("height"),w=b("scale"),_=b("setBackground"),k=b("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var T=a.extendFlat({},h);y?T.width=y:null===e.width&&n(p.width)&&(T.width=p.width),x?T.height=x:null===e.height&&n(p.height)&&(T.height=p.height);var M=a.extendFlat({},f,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),S=s.getRedrawFunc(A);function E(){return new Promise((function(t){setTimeout(t,s.getDelay(A._fullLayout))}))}function C(){return new Promise((function(t,e){var r=l(A,v,w),n=A._fullLayout.width,u=A._fullLayout.height;function h(){i.purge(A),document.body.removeChild(A)}if("full-json"===v){var f=o.graphJson(A,!1,"keepdata","object",!0,!0);return f.version=d,f=JSON.stringify(f),h(),t(k?f:s.encodeJSON(f))}if(h(),"svg"===v)return t(k?r:s.encodeSVG(r));var p=document.createElement("canvas");p.id=a.randstr(),c({format:v,width:n,height:u,scale:w,canvas:p,svg:r,promise:!0}).then(t).catch(e)}))}return new Promise((function(t,e){i.newPlot(A,r,T,M).then(S).then(E).then(C).then((function(e){t(function(t){return k?t.replace(s.IMAGE_URL_PREFIX,""):t}(e))})).catch((function(t){e(t)}))}))}},42757:(t,e,r)=>{"use strict";var n=r(12822),i=r(35677),o=r(40658),a=r(13518).name,s=o.buttons;function l(t,e,r){function a(r,i){return n.coerce(t,e,o,r,i)}a("visible",i(t,e,{name:"buttons",handleItemDefaults:c}).length>0)&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),n.noneOrAll(t,e,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),n.coerceFont(a,"font",r.font),a("bgcolor",r.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function c(t,e){function r(r,i){return n.coerce(t,e,s,r,i)}r("visible","skip"===t.method||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}t.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:l})}},42961:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(40666),a=r(677);t.exports=function(t,e,r,s){var l=r.xaxis,c=r.yaxis,d=s&&s.duration>0,u=t._context.staticPlot;e.each((function(e){var h,f=e[0].trace,p=f.error_x||{},m=f.error_y||{};f.ids&&(h=function(t){return t.id});var g=a.hasMarkers(f)&&f.marker.maxdisplayed>0;m.visible||p.visible||(e=[]);var b=n.select(this).selectAll("g.errorbar").data(e,h);if(b.exit().remove(),e.length){p.visible||b.selectAll("path.xerror").remove(),m.visible||b.selectAll("path.yerror").remove(),b.style("opacity",1);var v=b.enter().append("g").classed("errorbar",!0);d&&v.style("opacity",0).transition().duration(s.duration).style("opacity",1),o.setClipUrl(b,r.layerClipId,t),b.each((function(t){var e=n.select(this),r=function(t,e,r){var n={x:e.c2p(t.x),y:r.c2p(t.y)};return void 0!==t.yh&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),i(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0))),void 0!==t.xh&&(n.xh=e.c2p(t.xh),n.xs=e.c2p(t.xs),i(n.xs)||(n.noXS=!0,n.xs=e.c2p(t.xs,!0))),n}(t,l,c);if(!g||t.vis){var o,a=e.select("path.yerror");if(m.visible&&i(r.x)&&i(r.yh)&&i(r.ys)){var h=m.width;o="M"+(r.x-h)+","+r.yh+"h"+2*h+"m-"+h+",0V"+r.ys,r.noYS||(o+="m-"+h+",0h"+2*h),a.size()?d&&(a=a.transition().duration(s.duration).ease(s.easing)):a=e.append("path").style("vector-effect",u?"none":"non-scaling-stroke").classed("yerror",!0),a.attr("d",o)}else a.remove();var f=e.select("path.xerror");if(p.visible&&i(r.y)&&i(r.xh)&&i(r.xs)){var b=(p.copy_ystyle?m:p).width;o="M"+r.xh+","+(r.y-b)+"v"+2*b+"m0,-"+b+"H"+r.xs,r.noXS||(o+="m0,-"+b+"v"+2*b),f.size()?d&&(f=f.transition().duration(s.duration).ease(s.easing)):f=e.append("path").style("vector-effect",u?"none":"non-scaling-stroke").classed("xerror",!0),f.attr("d",o)}else f.remove()}}))}}))}},42981:t=>{t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},43006:(t,e,r)=>{"use strict";var n=r(25059),i=r(87408).hover;t.exports=function(t,e,r){var o=n.getComponentMethod("annotations","onClick")(t,t._hoverdata);function a(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==r&&i(t,e,r,!0),t._hoverdata&&e&&e.target&&(o&&o.then?o.then(a):a(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},43236:t=>{t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),r=[],n=0;n<t.length-1;n++)r.push(t[n],e[n]||"");return r.push(t[n]),r.join("")}},43362:(t,e,r)=>{"use strict";var n=r(38232),i=r(66367),o=r(48744),a=r(55572);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new o("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],u=!!a&&a(t,e);if(n)n(t,e,{configurable:null===c&&u?u.configurable:!c,enumerable:null===s&&u?u.enumerable:!s,value:r,writable:null===l&&u?u.writable:!l});else{if(!d&&(s||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},43470:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},43531:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n={circle:"",square:"",diamond:"",cross:"",x:"","triangle-up":"","triangle-down":"","triangle-left":"","triangle-right":"","triangle-ne":"","triangle-se":"","triangle-sw":"","triangle-nw":"",pentagon:"",hexagon:"",hexagon2:"",octagon:"",star:"",hexagram:"",hourglass:"",bowtie:""}},43591:t=>{"use strict";t.exports=function(t){return{valType:"color",editType:"style",anim:!0,description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."+(t?" If fillgradient is specified, fillcolor is ignored except for setting the background color of the hover label, if any.":"")].join(" ")}}},43710:(t,e,r)=>{"use strict";var n=r(7370);t.exports=function(t,e){e||(e=2);var r=t.marker,i=r.sizeref||1,o=r.sizemin||0,a="area"===r.sizemode?function(t){return Math.sqrt(t/i)}:function(t){return t/i};return function(t){var r=a(t/e);return n(r)&&r>0?Math.max(r,o):0}}},43737:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23666%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},43765:(t,e,r)=>{"use strict";var n=r(36560);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},43787:(t,e,r)=>{"use strict";var n=r(13518);t.exports={moduleType:"component",name:n.name,layoutAttributes:r(40658),supplyLayoutDefaults:r(42757),draw:r(86925)}},44102:(t,e,r)=>{"use strict";var n=r(7370),i=r(61814);t.exports=function(t,e,r,o){e=e||{};var a="log"===r&&"linear"===e.type,s="linear"===r&&"log"===e.type;if(a||s)for(var l,c,d=t._fullLayout.annotations,u=e._id.charAt(0),h=0;h<d.length;h++)l=d[h],c="annotations["+h+"].",l[u+"ref"]===e._id&&f(u),l["a"+u+"ref"]===e._id&&f("a"+u);function f(t){var r=l[t],s=null;s=a?i(r,e.range):Math.pow(10,r),n(s)||(s=null),o(c+t,s)}}},44164:(t,e,r)=>{"use strict";var n,i,o,a=r(86142),s=r(85618),l=r(63844).Symbol,c=r(78718),d=r(25052),u=r(68813),h=Object.create,f=Object.defineProperties,p=Object.defineProperty;if("function"==typeof l)try{String(l()),o=!0}catch(t){}else l=null;i=function(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return n(t)},t.exports=n=function t(e){var r;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return o?l(e):(r=h(i.prototype),e=void 0===e?"":String(e),f(r,{__description__:a("",e),__name__:a("",c(e))}))},d(n),u(n),f(i.prototype,{constructor:a(n),toString:a("",(function(){return this.__name__}))}),f(n.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),p(n.prototype,n.toPrimitive,a("",(function(){var t=s(this);return"symbol"==typeof t?t:t.toString()}))),p(n.prototype,n.toStringTag,a("c","Symbol")),p(i.prototype,n.toStringTag,a("c",n.prototype[n.toStringTag])),p(i.prototype,n.toPrimitive,a("c",n.prototype[n.toPrimitive]))},44232:t=>{var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()},44380:(t,e,r)=>{"use strict";var n=r(40666),i=r(17499);t.exports=function(t,e,r,o){var a=r.marker.pattern;a&&a.shape?n.pointStyle(t,r,o,e):i.fill(t,e.color)}},44514:(t,e,r)=>{"use strict";r.r(e),r.d(e,{decode:()=>s,encode:()=>a});for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="undefined"==typeof Uint8Array?[]:new Uint8Array(256),o=0;o<64;o++)i[n.charCodeAt(o)]=o;var a=function(t){var e,r=new Uint8Array(t),i=r.length,o="";for(e=0;e<i;e+=3)o+=n[r[e]>>2],o+=n[(3&r[e])<<4|r[e+1]>>4],o+=n[(15&r[e+1])<<2|r[e+2]>>6],o+=n[63&r[e+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},s=function(t){var e,r,n,o,a,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var d=new ArrayBuffer(s),u=new Uint8Array(d);for(e=0;e<l;e+=4)r=i[t.charCodeAt(e)],n=i[t.charCodeAt(e+1)],o=i[t.charCodeAt(e+2)],a=i[t.charCodeAt(e+3)],u[c++]=r<<2|n>>4,u[c++]=(15&n)<<4|o>>2,u[c++]=(3&o)<<6|63&a;return d}},44691:t=>{"use strict";t.exports=Function.prototype.apply},45035:t=>{"use strict";t.exports=function(t,e,r,n,i){var o=(t-r)/(n-r),a=o+e/(n-r),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},45065:(t,e,r)=>{"use strict";var n=r(42226).hasColorscale,i=r(62182),o=r(677);t.exports=function(t,e){o.hasLines(e)&&n(e,"line")&&i(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(e)&&(n(e,"marker")&&i(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),n(e,"marker.line")&&i(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},45219:t=>{"use strict";t.exports=function(t){for(var e,r=t.length,n=0;n<r;n++)if(((e=t.charCodeAt(n))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},45250:t=>{"use strict";function e(t,o){o||(o={}),("string"==typeof t||Array.isArray(t))&&(o.family=t);var a=Array.isArray(o.family)?o.family.join(", "):o.family;if(!a)throw Error("`family` must be defined");var s=o.size||o.fontSize||o.em||48,l=o.weight||o.fontWeight||"",c=(t=[o.style||o.fontStyle||"",l,s].join(" ")+"px "+a,o.origin||"top");if(e.cache[a]&&s<=e.cache[a].em)return r(e.cache[a],c);var d=o.canvas||e.canvas,u=d.getContext("2d"),h={upper:void 0!==o.upper?o.upper:"H",lower:void 0!==o.lower?o.lower:"x",descent:void 0!==o.descent?o.descent:"p",ascent:void 0!==o.ascent?o.ascent:"h",tittle:void 0!==o.tittle?o.tittle:"i",overshoot:void 0!==o.overshoot?o.overshoot:"O"},f=Math.ceil(1.5*s);d.height=f,d.width=.5*f,u.font=t;var p="H",m={top:0};u.clearRect(0,0,f,f),u.textBaseline="top",u.fillStyle="black",u.fillText(p,0,0);var g=n(u.getImageData(0,0,f,f));u.clearRect(0,0,f,f),u.textBaseline="bottom",u.fillText(p,0,f);var b=n(u.getImageData(0,0,f,f));m.lineHeight=m.bottom=f-b+g,u.clearRect(0,0,f,f),u.textBaseline="alphabetic",u.fillText(p,0,f);var v=f-n(u.getImageData(0,0,f,f))-1+g;m.baseline=m.alphabetic=v,u.clearRect(0,0,f,f),u.textBaseline="middle",u.fillText(p,0,.5*f);var y=n(u.getImageData(0,0,f,f));m.median=m.middle=f-y-1+g-.5*f,u.clearRect(0,0,f,f),u.textBaseline="hanging",u.fillText(p,0,.5*f);var x=n(u.getImageData(0,0,f,f));m.hanging=f-x-1+g-.5*f,u.clearRect(0,0,f,f),u.textBaseline="ideographic",u.fillText(p,0,f);var w=n(u.getImageData(0,0,f,f));if(m.ideographic=f-w-1+g,h.upper&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(h.upper,0,0),m.upper=n(u.getImageData(0,0,f,f)),m.capHeight=m.baseline-m.upper),h.lower&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(h.lower,0,0),m.lower=n(u.getImageData(0,0,f,f)),m.xHeight=m.baseline-m.lower),h.tittle&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(h.tittle,0,0),m.tittle=n(u.getImageData(0,0,f,f))),h.ascent&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(h.ascent,0,0),m.ascent=n(u.getImageData(0,0,f,f))),h.descent&&(u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(h.descent,0,0),m.descent=i(u.getImageData(0,0,f,f))),h.overshoot){u.clearRect(0,0,f,f),u.textBaseline="top",u.fillText(h.overshoot,0,0);var _=i(u.getImageData(0,0,f,f));m.overshoot=_-v}for(var k in m)m[k]/=s;return m.em=s,e.cache[a]=m,r(m,c)}function r(t,e){var r={};for(var n in"string"==typeof e&&(e=t[e]),t)"em"!==n&&(r[n]=t[n]-e);return r}function n(t){for(var e=t.height,r=t.data,n=3;n<r.length;n+=4)if(0!==r[n])return Math.floor(.25*(n-3)/e)}function i(t){for(var e=t.height,r=t.data,n=r.length-1;n>0;n-=4)if(0!==r[n])return Math.floor(.25*(n-3)/e)}t.exports=e,e.canvas=document.createElement("canvas"),e.cache={}},45380:(t,e,r)=>{"use strict";var n=r(7370),i=r(64347),o=r(75250),a=r(32994).BADNUM,s=1e-9;function l(t,e){return t<e}function c(t,e){return t<=e}function d(t,e){return t>e}function u(t,e){return t>=e}e.findBin=function(t,e,r){if(n(e.start))return r?Math.ceil((t-e.start)/e.size-s)-1:Math.floor((t-e.start)/e.size+s);var o,a,h=0,f=e.length,p=0,m=f>1?(e[f-1]-e[0])/(f-1):1;for(a=m>=0?r?l:c:r?u:d,t+=m*s*(r?-1:1)*(m>=0?1:-1);h<f&&p++<100;)a(e[o=Math.floor((h+f)/2)],t)?h=o+1:f=o;return p>90&&i.log("Long binary search..."),h-1},e.sorterAsc=function(t,e){return t-e},e.sorterDes=function(t,e){return e-t},e.distinctVals=function(t){var r,n=t.slice();for(n.sort(e.sorterAsc),r=n.length-1;r>-1&&n[r]===a;r--);for(var i,o=n[r]-n[0]||1,s=o/(r||1)/1e4,l=[],c=0;c<=r;c++){var d=n[c],u=d-i;void 0===i?(l.push(d),i=d):u>s&&(o=Math.min(o,u),l.push(d),i=d)}return{vals:l,minDiff:o}},e.roundUp=function(t,e,r){for(var n,i=0,o=e.length-1,a=0,s=r?0:1,l=r?1:0,c=r?Math.ceil:Math.floor;i<o&&a++<100;)e[n=c((i+o)/2)]<=t?i=n+s:o=n-l;return e[i]},e.sort=function(t,e){for(var r=0,n=0,i=1;i<t.length;i++){var o=e(t[i],t[i-1]);if(o<0?r=1:o>0&&(n=1),r&&n)return t.sort(e)}return n?t:t.reverse()},e.findIndexOfMin=function(t,e){e=e||o;for(var r,n=1/0,i=0;i<t.length;i++){var a=e(t[i]);a<n&&(n=a,r=i)}return r}},45408:(t,e,r)=>{"use strict";var n,i=r(83579),o=r(86142),a=r(89791),s=r(15929),l=Object.defineProperty;n=t.exports=function(t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");t=String(t),s.call(this,t),l(this,"__length__",o("",t.length))},i&&i(n,s),delete n.prototype.constructor,n.prototype=Object.create(s.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0))>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r}))}),l(n.prototype,a.toStringTag,o("c","String Iterator"))},45419:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},45505:t=>{t.exports=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,r,n){var i=r[0],o=r[1],a=n[0],s=n[1],l=e[0];return(a-i)*(e[1]-o)-(s-o)*(l-i)>=-t},pointBetween:function(e,r,n){var i=e[1]-r[1],o=n[0]-r[0],a=e[0]-r[0],s=n[1]-r[1],l=a*o+i*s;return!(l<t||l-(o*o+s*s)>-t)},pointsSameX:function(e,r){return Math.abs(e[0]-r[0])<t},pointsSameY:function(e,r){return Math.abs(e[1]-r[1])<t},pointsSame:function(t,r){return e.pointsSameX(t,r)&&e.pointsSameY(t,r)},pointsCompare:function(t,r){return e.pointsSameX(t,r)?e.pointsSameY(t,r)?0:t[1]<r[1]?-1:1:t[0]<r[0]?-1:1},pointsCollinear:function(e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=r[0]-n[0],s=r[1]-n[1];return Math.abs(i*s-a*o)<t},linesIntersect:function(e,r,n,i){var o=r[0]-e[0],a=r[1]-e[1],s=i[0]-n[0],l=i[1]-n[1],c=o*l-a*s;if(Math.abs(c)<t)return!1;var d=e[0]-n[0],u=e[1]-n[1],h=(s*u-l*d)/c,f=(o*u-a*d)/c,p={alongA:0,alongB:0,pt:[e[0]+h*o,e[1]+h*a]};return p.alongA=h<=-t?-2:h<t?-1:h-1<=-t?0:h-1<t?1:2,p.alongB=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,p},pointInsideRegion:function(e,r){for(var n=e[0],i=e[1],o=r[r.length-1][0],a=r[r.length-1][1],s=!1,l=0;l<r.length;l++){var c=r[l][0],d=r[l][1];d-i>t!=a-i>t&&(o-c)*(i-d)/(a-d)+c-n>t&&(s=!s),o=c,a=d}return s}};return e}},45665:t=>{t.exports=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},45684:(t,e,r)=>{"use strict";var n,i=r(50459),o=r(15541)(),a=r(19942),s=r(55572);if(o){var l=i("RegExp.prototype.exec"),c={},d=function(){throw c},u={toString:d,valueOf:d};"symbol"==typeof Symbol.toPrimitive&&(u[Symbol.toPrimitive]=d),n=function(t){if(!t||"object"!=typeof t)return!1;var e=s(t,"lastIndex");if(!e||!a(e,"value"))return!1;try{l(t,u)}catch(t){return t===c}}}else{var h=i("Object.prototype.toString");n=function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===h(t)}}t.exports=n},45731:(t,e,r)=>{"use strict";var n=r(27941),i=r(12822),o=i.numberFormat,a=r(18106),s=r(17520),l=r(25059),c=i.strTranslate,d=r(80394),u=r(17499),h=r(40666),f=r(70410),p=r(75815),m=r(76292),g=r(19846),b=r(14295),v=b.selectingOrDrawing,y=b.freeMode,x=r(89701).FROM_TL,w=r(86748),_=r(39004).redrawReglTraces,k=r(51137),A=r(99246).getFromId,T=r(70059).prepSelect,M=r(70059).clearOutline,S=r(70059).selectOnClick,E=r(92578),C=r(21197),z=C.MINDRAG,L=C.MINZOOM,O=!0;function D(t,e,r,n){var o=i.ensureSingle(t.draglayer,e,r,(function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)}));return o.call(m,n),o.node()}function I(t,e,r,i,o,a,s){var l=D(t,"rect",e,r);return n.select(l).call(h.setRect,i,o,a,s),l}function F(t,e){for(var r=0;r<t.length;r++)if(!t[r].fixedrange)return e;return""}function R(t,e,r,n,i){for(var o=0;o<t.length;o++){var a=t[o];if(!a.fixedrange)if(a.rangebreaks){var s="y"===a._id.charAt(0),l=s?1-e:e,c=s?1-r:r;n[a._name+".range[0]"]=a.l2r(a.p2l(l*a._length)),n[a._name+".range[1]"]=a.l2r(a.p2l(c*a._length))}else{var d=a._rl[0],u=a._rl[1]-d;n[a._name+".range[0]"]=a.l2r(d+u*e),n[a._name+".range[1]"]=a.l2r(d+u*r)}}if(i&&i.length){var h=(e+(1-r))/2;R(i,h,1-h,n,[])}}function P(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(!n.fixedrange){if(n.rangebreaks){var i=n._length,o=(n.p2l(0+e)-n.p2l(0)+(n.p2l(i+e)-n.p2l(i)))/2;n.range=[n.l2r(n._rl[0]-o),n.l2r(n._rl[1]-o)]}else n.range=[n.l2r(n._rl[0]-e/n._m),n.l2r(n._rl[1]-e/n._m)];n.limitRange&&n.limitRange()}}}function j(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function N(t,e,r,n,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(r,n)).attr("d",i+"Z")}function B(t,e,r){return t.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(e,r)).attr("d","M0,0Z")}function U(t,e,r,n,i,o){t.attr("d",n+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),V(t,e,i,o)}function V(t,e,r,n){r||(t.transition().style("fill",n>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function G(t){n.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(t){O&&t.data&&t._context.showTips&&(i.notifier(i._(t,"Double-click to zoom back out"),"long"),O=!1)}function W(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,L)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function q(t,e,r,n,o){for(var a,s,l,c,d=!1,u={},h={},f=(o||{}).xaHash,p=(o||{}).yaHash,m=0;m<e.length;m++){var g=e[m];for(a in r)if(g[a]){for(l in g)o&&(f[l]||p[l])||("x"===l.charAt(0)?r:n)[l]||(u[l]=a);for(s in n)o&&(f[s]||p[s])||!g[s]||(d=!0)}for(s in n)if(g[s])for(c in g)o&&(f[c]||p[c])||("x"===c.charAt(0)?r:n)[c]||(h[c]=s)}d&&(i.extendFlat(u,h),h={});var b={},v=[];for(l in u){var y=A(t,l);v.push(y),b[y._id]=y}var x={},w=[];for(c in h){var _=A(t,c);w.push(_),x[_._id]=_}return{xaHash:b,yaHash:x,xaxes:v,yaxes:w,xLinks:u,yLinks:h,isSubplotConstrained:d}}function $(t,e){if(s){var r=void 0!==t.onwheel?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(r,t._onwheel),t._onwheel=e,t.addEventListener(r,e,{passive:!1})}else void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function Y(t){var e=[];for(var r in t)e.push(t[r]);return e}t.exports={makeDragBox:function(t,e,r,s,c,u,m,b){var O,D,V,Z,X,J,Q,K,tt,et,rt,nt,it,ot,at,st,lt,ct,dt,ut,ht,ft,pt,mt=t._fullLayout._zoomlayer,gt=m+b==="nsew",bt=1===(m+b).length;function vt(){if(O=e.xaxis,D=e.yaxis,tt=O._length,et=D._length,Q=O._offset,K=D._offset,(V={})[O._id]=O,(Z={})[D._id]=D,m&&b)for(var r=e.overlays,n=0;n<r.length;n++){var i=r[n].xaxis;V[i._id]=i;var o=r[n].yaxis;Z[o._id]=o}X=Y(V),J=Y(Z),it=F(X,b),ot=F(J,m),at=!ot&&!it,nt=q(t,t._fullLayout._axisMatchGroups,V,Z);var a=(rt=q(t,t._fullLayout._axisConstraintGroups,V,Z,nt)).isSubplotConstrained||nt.isSubplotConstrained;st=b||a,lt=m||a;var s=t._fullLayout;ct=s._has("scattergl"),dt=s._has("splom"),ut=s._has("svg")}r+=e.yaxis._shift,vt();var yt=function(t,e,r){return t?"nsew"===t?r?"":"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}(ot+it,t._fullLayout.dragmode,gt),xt=I(e,m+b+"drag",yt,r,s,c,u);if(at&&!gt)return xt.onmousedown=null,xt.style.pointerEvents="none",xt;var wt,_t,kt,At,Tt,Mt,St,Et,Ct,zt,Lt={element:xt,gd:t,plotinfo:e};function Ot(){Lt.plotinfo.selection=!1,M(t)}function Dt(t,r){var i=Lt.gd;if(i._fullLayout._activeShapeIndex>=0)i._fullLayout._deactivateShape(i);else{var a=i._fullLayout.clickmode;if(G(i),2!==t||bt||Ht(),gt)a.indexOf("select")>-1&&S(r,i,X,J,e.id,Lt),a.indexOf("event")>-1&&f.click(i,r,e.id);else if(1===t&&bt){var s=m?D:O,c="s"===m||"w"===b?0:1,u=s._name+".range["+c+"]",h=function(t,e){var r,n=t.range[e],i=Math.abs(n-t.range[1-e]);return"date"===t.type?n:"log"===t.type?(r=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,o("."+r+"g")(Math.pow(10,n))):(r=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,o("."+String(r)+"g")(n))}(s,c),p="left",g="middle";if(s.fixedrange)return;m?(g="n"===m?"top":"bottom","right"===s.side&&(p="right")):"e"===b&&(p="right"),i._context.showAxisRangeEntryBoxes&&n.select(xt).call(d.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(h),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:p,verticalAlign:g}).on("edit",(function(t){var e=s.d2r(t);void 0!==e&&l.call("_guiRelayout",i,u,e)}))}}}function It(e,r){if(t._transitioningWithDuration)return!1;var n=Math.max(0,Math.min(tt,ft*e+wt)),i=Math.max(0,Math.min(et,pt*r+_t)),o=Math.abs(n-wt),a=Math.abs(i-_t);function s(){St="",kt.r=kt.l,kt.t=kt.b,Ct.attr("d","M0,0Z")}if(kt.l=Math.min(wt,n),kt.r=Math.max(wt,n),kt.t=Math.min(_t,i),kt.b=Math.max(_t,i),rt.isSubplotConstrained)o>L||a>L?(St="xy",o/tt>a/et?(a=o*et/tt,_t>i?kt.t=_t-a:kt.b=_t+a):(o=a*tt/et,wt>n?kt.l=wt-o:kt.r=wt+o),Ct.attr("d",W(kt))):s();else if(nt.isSubplotConstrained)if(o>L||a>L){St="xy";var l=Math.min(kt.l/tt,(et-kt.b)/et),c=Math.max(kt.r/tt,(et-kt.t)/et);kt.l=l*tt,kt.r=c*tt,kt.b=(1-l)*et,kt.t=(1-c)*et,Ct.attr("d",W(kt))}else s();else!ot||a<Math.min(Math.max(.6*o,z),L)?o<z||!it?s():(kt.t=0,kt.b=et,St="x",Ct.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-L-.5)+"h-3v"+(2*L+1)+"h3ZM"+(t.r+.5)+","+(e-L-.5)+"h3v"+(2*L+1)+"h-3Z"}(kt,_t))):!it||o<Math.min(.6*a,L)?(kt.l=0,kt.r=tt,St="y",Ct.attr("d",function(t,e){return"M"+(e-L-.5)+","+(t.t-.5)+"v-3h"+(2*L+1)+"v3ZM"+(e-L-.5)+","+(t.b+.5)+"v3h"+(2*L+1)+"v-3Z"}(kt,wt))):(St="xy",Ct.attr("d",W(kt)));kt.w=kt.r-kt.l,kt.h=kt.b-kt.t,St&&(zt=!0),t._dragged=zt,U(Et,Ct,kt,Tt,Mt,At),Ft(),t.emit("plotly_relayouting",ht),Mt=!0}function Ft(){ht={},"xy"!==St&&"x"!==St||(R(X,kt.l/tt,kt.r/tt,ht,rt.xaxes),Vt("x",ht)),"xy"!==St&&"y"!==St||(R(J,(et-kt.b)/et,(et-kt.t)/et,ht,rt.yaxes),Vt("y",ht))}function Rt(){Ft(),G(t),Wt(),H(t)}Lt.prepFn=function(e,r,n){var o=Lt.dragmode,s=t._fullLayout.dragmode;s!==o&&(Lt.dragmode=s),vt(),ft=t._fullLayout._invScaleX,pt=t._fullLayout._invScaleY,at||(gt?e.shiftKey?"pan"===s?s="zoom":v(s)||(s="pan"):e.ctrlKey&&(s="pan"):s="pan"),y(s)?Lt.minDrag=1:Lt.minDrag=void 0,v(s)?(Lt.xaxes=X,Lt.yaxes=J,T(e,r,n,Lt,s)):(Lt.clickFn=Dt,v(o)&&Ot(),at||("zoom"===s?(Lt.moveFn=It,Lt.doneFn=Rt,Lt.minDrag=1,function(e,r,n){var o=xt.getBoundingClientRect();wt=r-o.left,_t=n-o.top,t._fullLayout._calcInverseTransform(t);var s=i.apply3DTransform(t._fullLayout._invTransform)(wt,_t);wt=s[0],_t=s[1],kt={l:wt,r:wt,w:0,t:_t,b:_t,h:0},At=t._hmpixcount?t._hmlumcount/t._hmpixcount:a(t._fullLayout.plot_bgcolor).getLuminance(),Mt=!1,St="xy",zt=!1,Et=N(mt,At,Q,K,Tt="M0,0H"+tt+"V"+et+"H0V0"),Ct=B(mt,Q,K)}(0,r,n)):"pan"===s&&(Lt.moveFn=Ut,Lt.doneFn=Wt))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===xt){var r=t._fullLayout.dragmode;v(r)||(vt(),qt([0,0,tt,et]),Lt.moveFn(e.dx,e.dy))}}},g.init(Lt);var Pt=[0,0,tt,et],jt=null,Nt=C.REDRAWDELAY,Bt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function Ut(e,r){if(e*=ft,r*=pt,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===it||"ns"===ot){var n=it?-e:0,i=ot?-r:0;if(nt.isSubplotConstrained){if(it&&ot){var o=(e/tt-r/et)/2;n=-(e=o*tt),i=-(r=-o*et)}ot?n=-i*tt/et:i=-n*et/tt}return it&&(P(X,e),Vt("x")),ot&&(P(J,r),Vt("y")),qt([n,i,tt,et]),Gt(),void t.emit("plotly_relayouting",ht)}var a,s,l="w"===it==("n"===ot)?1:-1;if(it&&ot&&(rt.isSubplotConstrained||nt.isSubplotConstrained)){var c=(e/tt+l*r/et)/2;e=c*tt,r=l*c*et}if("w"===it?e=f(X,0,e):"e"===it?e=f(X,1,-e):it||(e=0),"n"===ot?r=f(J,1,r):"s"===ot?r=f(J,0,-r):ot||(r=0),a="w"===it?e:0,s="n"===ot?r:0,rt.isSubplotConstrained&&!nt.isSubplotConstrained||nt.isSubplotConstrained&&it&&ot&&l>0){var d;if(nt.isSubplotConstrained||!it&&1===ot.length){for(d=0;d<X.length;d++)X[d].range=X[d]._r.slice(),E(X[d],1-r/et);a=(e=r*tt/et)/2}if(nt.isSubplotConstrained||!ot&&1===it.length){for(d=0;d<J.length;d++)J[d].range=J[d]._r.slice(),E(J[d],1-e/tt);s=(r=e*et/tt)/2}}nt.isSubplotConstrained&&ot||Vt("x"),nt.isSubplotConstrained&&it||Vt("y");var u=tt-e,h=et-r;!nt.isSubplotConstrained||it&&ot||(it?(s=a?0:e*et/tt,h=u*et/tt):(a=s?0:r*tt/et,u=h*tt/et)),qt([a,s,u,h]),Gt(),t.emit("plotly_relayouting",ht)}function f(t,e,r){for(var n,i,o=1-e,a=0;a<t.length;a++){var s=t[a];if(!s.fixedrange){n=s,i=s._rl[o]+(s._rl[e]-s._rl[o])/j(r/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[e]=l)}}return n._length*(n._rl[e]-i)/(n._rl[e]-n._rl[o])}}function Vt(t,e){for(var r=nt.isSubplotConstrained?{x:J,y:X}[t]:nt[t+"axes"],n=nt.isSubplotConstrained?{x:X,y:J}[t]:[],i=0;i<r.length;i++){var o=r[i],a=o._id,s=nt.xLinks[a]||nt.yLinks[a],l=n[0]||V[s]||Z[s];l&&(e?(e[o._name+".range[0]"]=e[l._name+".range[0]"],e[o._name+".range[1]"]=e[l._name+".range[1]"]):o.range=l.range.slice())}}function Gt(){var r,n=[];function i(t){for(r=0;r<t.length;r++)t[r].fixedrange||n.push(t[r]._id)}function o(t,e){for(r=0;r<t.length;r++){var i=t[r],o=i[e];i.fixedrange||"sync"!==o.tickmode||n.push(o._id)}}for(st&&(i(X),i(rt.xaxes),i(nt.xaxes),o(e.overlays,"xaxis")),lt&&(i(J),i(rt.yaxes),i(nt.yaxes),o(e.overlays,"yaxis")),ht={},r=0;r<n.length;r++){var a=n[r],s=A(t,a);p.drawOne(t,s,{skipTitle:!0}),ht[s._name+".range[0]"]=s.range[0],ht[s._name+".range[1]"]=s.range[1]}p.redrawComponents(t,n)}function Ht(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,r=[];it&&(r=r.concat(X)),ot&&(r=r.concat(J)),nt.xaxes&&(r=r.concat(nt.xaxes)),nt.yaxes&&(r=r.concat(nt.yaxes));var n,i,o={};if("reset+autosize"===e)for(e="autosize",i=0;i<r.length;i++){var a=(n=r[i])._rangeInitial0,s=n._rangeInitial1,c=void 0!==a||void 0!==s;if(c&&(void 0!==a&&a!==n.range[0]||void 0!==s&&s!==n.range[1])||!c&&!0!==n.autorange){e="reset";break}}if("autosize"===e)for(i=0;i<r.length;i++)(n=r[i]).fixedrange||(o[n._name+".autorange"]=!0);else if("reset"===e)for((it||rt.isSubplotConstrained)&&(r=r.concat(rt.xaxes)),ot&&!rt.isSubplotConstrained&&(r=r.concat(rt.yaxes)),rt.isSubplotConstrained&&(it?ot||(r=r.concat(J)):r=r.concat(X)),i=0;i<r.length;i++)if(!(n=r[i]).fixedrange){var d=n._name,u=n._autorangeInitial;void 0===n._rangeInitial0&&void 0===n._rangeInitial1?o[d+".autorange"]=!0:void 0===n._rangeInitial0?(o[d+".autorange"]=u,o[d+".range"]=[null,n._rangeInitial1]):void 0===n._rangeInitial1?(o[d+".range"]=[n._rangeInitial0,null],o[d+".autorange"]=u):o[d+".range"]=[n._rangeInitial0,n._rangeInitial1]}t.emit("plotly_doubleclick",null),l.call("_guiRelayout",t,o)}}function Wt(){qt([0,0,tt,et]),i.syncOrAsync([k.previousPromises,function(){t._fullLayout._replotting=!1,l.call("_guiRelayout",t,ht)}],t)}function qt(e){var r,n,o,a,s=t._fullLayout,c=s._plots,d=s._subplots.cartesian;if(dt&&l.subplotsRegistry.splom.drag(t),ct)for(r=0;r<d.length;r++)if(o=(n=c[d[r]]).xaxis,a=n.yaxis,n._scene){o.limitRange&&o.limitRange(),a.limitRange&&a.limitRange();var u=i.simpleMap(o.range,o.r2l),f=i.simpleMap(a.range,a.r2l);n._scene.update({range:[u[0],f[0],u[1],f[1]]})}if((dt||ct)&&(w(t),_(t)),ut){var p=e[2]/O._length,g=e[3]/D._length;for(r=0;r<d.length;r++){o=(n=c[d[r]]).xaxis,a=n.yaxis;var v,y,x,k,A=(st||nt.isSubplotConstrained)&&!o.fixedrange&&V[o._id],T=(lt||nt.isSubplotConstrained)&&!a.fixedrange&&Z[a._id];if(A?(v=p,x=b||nt.isSubplotConstrained?e[0]:Zt(o,v)):nt.xaHash[o._id]?(v=p,x=e[0]*o._length/O._length):nt.yaHash[o._id]?(v=g,x="ns"===ot?-e[1]*o._length/D._length:Zt(o,v,{n:"top",s:"bottom"}[ot])):x=Yt(o,v=$t(o,p,g)),v>1&&(void 0!==o.maxallowed&&st===(o.range[0]<o.range[1]?"e":"w")||void 0!==o.minallowed&&st===(o.range[0]<o.range[1]?"w":"e"))&&(v=1,x=0),T?(y=g,k=m||nt.isSubplotConstrained?e[1]:Zt(a,y)):nt.yaHash[a._id]?(y=g,k=e[1]*a._length/D._length):nt.xaHash[a._id]?(y=p,k="ew"===it?-e[0]*a._length/O._length:Zt(a,y,{e:"right",w:"left"}[it])):k=Yt(a,y=$t(a,p,g)),y>1&&(void 0!==a.maxallowed&&lt===(a.range[0]<a.range[1]?"n":"s")||void 0!==a.minallowed&&lt===(a.range[0]<a.range[1]?"s":"n"))&&(y=1,k=0),v||y){v||(v=1),y||(y=1);var M=o._offset-x/v,S=a._offset-k/y;n.clipRect.call(h.setTranslate,x,k).call(h.setScale,v,y),n.plot.call(h.setTranslate,M,S).call(h.setScale,1/v,1/y),v===n.xScaleFactor&&y===n.yScaleFactor||(h.setPointGroupScale(n.zoomScalePts,v,y),h.setTextPointsScale(n.zoomScaleTxt,v,y)),h.hideOutsideRangePoints(n.clipOnAxisFalseTraces,n),n.xScaleFactor=v,n.yScaleFactor=y}}}}function $t(t,e,r){return t.fixedrange?0:st&&rt.xaHash[t._id]?e:lt&&(rt.isSubplotConstrained?rt.xaHash:rt.yaHash)[t._id]?r:0}function Yt(t,e){return e?(t.range=t._r.slice(),E(t,e),Zt(t,e)):0}function Zt(t,e,r){return t._length*(1-e)*x[r||t.constraintoward||"middle"]}return m.length*b.length!=1&&$(xt,(function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(Ot(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();vt(),clearTimeout(jt);var r=-e.deltaY;if(isFinite(r)||(r=e.wheelDelta/10),isFinite(r)){var n,o=Math.exp(-Math.min(Math.max(r,-20),20)/200),a=Bt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(e.clientX-a.left)/a.width,l=(a.bottom-e.clientY)/a.height;if(st){for(b||(s=.5),n=0;n<X.length;n++)c(X[n],s,o);Vt("x"),Pt[2]*=o,Pt[0]+=Pt[2]*s*(1/o-1)}if(lt){for(m||(l=.5),n=0;n<J.length;n++)c(J[n],l,o);Vt("y"),Pt[3]*=o,Pt[1]+=Pt[3]*(1-l)*(1/o-1)}qt(Pt),Gt(),t.emit("plotly_relayouting",ht),jt=setTimeout((function(){t._fullLayout&&(Pt=[0,0,tt,et],Wt())}),Nt),e.preventDefault()}else i.log("Did not find wheel motion attributes: ",e)}function c(t,e,r){if(!t.fixedrange){var n=i.simpleMap(t.range,t.r2l),o=n[0]+(n[1]-n[0])*e;t.range=n.map((function(e){return t.l2r(o+(e-o)*r)}))}}})),xt},makeDragger:D,makeRectDragger:I,makeZoombox:N,makeCorners:B,updateZoombox:U,xyCorners:W,transitionZoombox:V,removeZoombox:G,showDoubleClickNotifier:H,attachWheelEventHandler:$}},45828:(t,e,r)=>{"use strict";t.exports={moduleType:"component",name:"modebar",layoutAttributes:r(62799),supplyLayoutDefaults:r(90120),manage:r(83493)}},45905:(t,e,r)=>{"use strict";var n=r(98507).isArrayOrTypedArray,i=r(12517);t.exports=function t(e,r){for(var o in r){var a=r[o],s=e[o];if(s!==a)if("_"===o.charAt(0)||"function"==typeof a){if(o in e)continue;e[o]=a}else if(n(a)&&n(s)&&i(a[0])){if("customdata"===o||"ids"===o)continue;for(var l=Math.min(a.length,s.length),c=0;c<l;c++)s[c]!==a[c]&&i(a[c])&&i(s[c])&&t(s[c],a[c])}else i(a)&&i(s)&&(t(s,a),Object.keys(s).length||delete e[o])}}},45952:(t,e,r)=>{"use strict";var n=r(12822).dateTick0,i=r(32994).ONEWEEK;function o(t,e){return n(e,t%i==0?1:0)}t.exports=function(t,e,r,n,i){if(i||(i={x:!0,y:!0}),i.x){var a=n("xperiod");a&&(n("xperiod0",o(a,e.xcalendar)),n("xperiodalignment"))}if(i.y){var s=n("yperiod");s&&(n("yperiod0",o(s,e.ycalendar)),n("yperiodalignment"))}}},46121:(t,e,r)=>{"use strict";var n=r(12822),i=r(3520),o="templateitemname",a={name:{valType:"string",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};function s(t){return t&&"string"==typeof t}function l(t){var e=t.length-1;return"s"!==t.charAt(e)&&n.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}a[o]={valType:"string",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")},e.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=a.name,e[o]=a[o],e},e.traceTemplater=function(t){var e,r,o={};for(e in t)r=t[e],Array.isArray(r)&&r.length&&(o[e]=0);return{newTrace:function(a){var s={type:e=n.coerce(a,{},i,"type"),_template:null};if(e in o){r=t[e];var l=o[e]%r.length;o[e]++,s._template=r[l]}return s}}},e.newContainer=function(t,e,r){var i=t._template,o=i&&(i[e]||r&&i[r]);return n.isPlainObject(o)||(o=null),t[e]={_template:o}},e.arrayTemplater=function(t,e,r){var n=t._template,i=n&&n[l(e)],a=n&&n[e];Array.isArray(a)&&a.length||(a=[]);var c={};return{newItem:function(t){var e={name:t.name,_input:t},n=e[o]=t[o];if(!s(n))return e._template=i,e;for(var l=0;l<a.length;l++){var d=a[l];if(d.name===n)return c[n]=1,e._template=d,e}return e[r]=t[r]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],e=0;e<a.length;e++){var r=a[e],n=r.name;if(s(n)&&!c[n]){var i={_template:r,name:n,_input:{_templateitemname:n}};i[o]=r[o],t.push(i),c[n]=1}}return t}}},e.arrayDefaultKey=l,e.arrayEditor=function(t,e,r){var i=(n.nestedProperty(t,e).get()||[]).length,a=r._index,s=a>=i&&(r._input||{})._templateitemname;s&&(a=i);var l,c=e+"["+a+"]";function d(){l={},s&&(l[c]={},l[c][o]=s)}function u(t,e){s?n.nestedProperty(l[c],t).set(e):l[c+"."+t]=e}function h(){var t=l;return d(),t}return d(),{modifyBase:function(t,e){l[t]=e},modifyItem:u,getUpdateObj:h,applyUpdate:function(e,r){e&&u(e,r);var i=h();for(var o in i)n.nestedProperty(t,o).set(i[o])}}}},46136:(t,e,r)=>{"use strict";var n,i=r(83579),o=r(79813),a=r(86142),s=r(89791),l=r(15929),c=Object.defineProperty;n=t.exports=function(t,e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");l.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",c(this,"__kind__",a("",e))},i&&i(n,l),delete n.prototype.constructor,n.prototype=Object.create(l.prototype,{_resolve:a((function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t}))}),c(n.prototype,s.toStringTag,a("c","Array Iterator"))},46233:(t,e)=>{"use strict";e.counter=function(t,e,r,n){var i=(e||"")+(r?"":"$"),o=!1===n?"":"^";return"xy"===t?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(o+t+"([2-9]|[1-9][0-9]+)?"+i)}},46367:t=>{"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none",description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none",description:"The easing function used for the transition"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none",description:["Determines whether the figure's layout or traces smoothly transitions","during updates that make both traces and layout change."].join(" ")}}}},46443:(t,e,r)=>{"use strict";t.exports={plot:r(37031),attributes:r(42674),markerSymbols:r(24134),supplyDefaults:r(49957),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(34670),moduleType:"trace",name:"scatter3d",basePlotModule:r(98030),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_3d",description:["The data visualized as scatter point or lines in 3D dimension","is set in `x`, `y`, `z`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","Projections are achieved via `projection`.","Surface fills are achieved via `surfaceaxis`."].join(" ")}}},46458:(t,e,r)=>{"use strict";var n=r(49826);t.exports=function(t,e,r,i){var o=e._template||{},a=e.type||o.type||"-";r("minallowed"),r("maxallowed");var s,l=r("range");l||i.noInsiderange||"log"===a||(!(s=r("insiderange"))||null!==s[0]&&null!==s[1]||(e.insiderange=!1,s=void 0),s&&(l=r("range",s)));var c,d=e.getAutorangeDflt(l,i),u=r("autorange",d);!l||(null!==l[0]||null!==l[1])&&(null!==l[0]&&null!==l[1]||"reversed"!==u&&!0!==u)&&(null===l[0]||"min"!==u&&"max reversed"!==u)&&(null===l[1]||"max"!==u&&"min reversed"!==u)||(l=void 0,delete e.range,e.autorange=!0,c=!0),c||(u=r("autorange",d=e.getAutorangeDflt(l,i))),u&&(n(r,u,l),"linear"!==a&&"-"!==a||r("rangemode")),e.cleanRange()}},46492:(t,e,r)=>{"use strict";var n=r(2214);t.exports=function(t,e,r){if(null==t)throw Error("First argument should be a string");if(null==e)throw Error("Separator should be a string or a RegExp");r?("string"==typeof r||Array.isArray(r))&&(r={ignore:r}):r={},null==r.escape&&(r.escape=!0),null==r.ignore?r.ignore=["[]","()","{}","<>",'""',"''","``","",""]:("string"==typeof r.ignore&&(r.ignore=[r.ignore]),r.ignore=r.ignore.map((function(t){return 1===t.length&&(t+=t),t})));var i=n.parse(t,{flat:!0,brackets:r.ignore}),o=i[0].split(e);if(r.escape){for(var a=[],s=0;s<o.length;s++){var l=o[s],c=o[s+1];"\\"===l[l.length-1]&&"\\"!==l[l.length-2]?(a.push(l+e+c),s++):a.push(l)}o=a}for(s=0;s<o.length;s++)i[0]=o[s],o[s]=n.stringify(i,{flat:!0});return o}},46574:(t,e,r)=>{"use strict";var n=r(12822);t.exports=function(t,e,r,i,o){o=o||{},i("textposition"),n.coerceFont(i,"textfont",o.font||r.font,o),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},46692:(t,e,r)=>{"use strict";var n=r(40471),i=r(93767),o=r(54295),a=r(89791).iterator,s=Array.isArray;t.exports=function(t){return!(!i(t)||!s(t)&&!o(t)&&!n(t)&&"function"!=typeof t[a])}},46864:t=>{t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},47388:(t,e,r)=>{"use strict";var n=r(25059);r(21197).SUBPLOT_PATTERN,e.eV=function(t,e,r){var i,o=[],a=[];if(!(i="string"==typeof e?n.getModule(e).plot:"function"==typeof e?e:e.plot))return[o,t];for(var s=r,l=0;l<t.length;l++){var c=t[l],d=c[0].trace,u=void 0!==d.zorder;!0===d.visible&&0!==d._length&&(!d._module||d._module.plot!==i||u&&d.zorder!==s?a.push(c):o.push(c))}return[o,a]},e.KO=function(t,e,r){if(!n.subplotsRegistry[e])return[];for(var i,o=n.subplotsRegistry[e].attr,a=[],s=0;s<t.length;s++)(i=t[s])[o]===r&&a.push(i);return a}},47603:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z%27/%3E%3C/svg%3E"},47685:(t,e,r)=>{"use strict";var n=r(25059),i=r(51137),o=r(99246),a=r(50917),s=r(71422).eraseActiveShape,l=r(12822),c=l._,d=t.exports={};function u(t,e){var r,i,a=e.currentTarget,s=a.getAttribute("data-attr"),l=a.getAttribute("data-val")||!0,c=t._fullLayout,d={},u=o.list(t,null,!0),h=c._cartesianSpikesEnabled;if("zoom"===s){var f,p="in"===l?.5:2,m=(1+p)/2,g=(1-p)/2;for(i=0;i<u.length;i++)if(("none"===(r=u[i]).modebardisable||-1===r.modebardisable.indexOf("auto"===l||"reset"===l?"autoscale":"zoominout"))&&!r.fixedrange)if(f=r._name,"auto"===l)d[f+".autorange"]=!0;else if("reset"===l)void 0===r._rangeInitial0&&void 0===r._rangeInitial1?d[f+".autorange"]=!0:void 0===r._rangeInitial0?(d[f+".autorange"]=r._autorangeInitial,d[f+".range"]=[null,r._rangeInitial1]):void 0===r._rangeInitial1?(d[f+".range"]=[r._rangeInitial0,null],d[f+".autorange"]=r._autorangeInitial):d[f+".range"]=[r._rangeInitial0,r._rangeInitial1],void 0!==r._showSpikeInitial&&(d[f+".showspikes"]=r._showSpikeInitial,"on"!==h||r._showSpikeInitial||(h="off"));else{var b=[r.r2l(r.range[0]),r.r2l(r.range[1])],v=[m*b[0]+g*b[1],m*b[1]+g*b[0]];d[f+".range[0]"]=r.l2r(v[0]),d[f+".range[1]"]=r.l2r(v[1])}}else"hovermode"!==s||"x"!==l&&"y"!==l||(l=c._isHoriz?"y":"x",a.setAttribute("data-val",l)),d[s]=l;c._cartesianSpikesEnabled=h,n.call("_guiRelayout",t,d)}function h(t,e){for(var r=e.currentTarget,i=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,a=t._fullLayout._subplots.gl3d||[],s={},l=i.split("."),c=0;c<a.length;c++)s[a[c]+"."+l[1]]=o;var d="pan"===o?o:"zoom";s.dragmode=d,n.call("_guiRelayout",t,s)}function f(t,e){for(var r=e.currentTarget.getAttribute("data-attr"),i="resetLastSave"===r,o="resetDefault"===r,a=t._fullLayout,s=a._subplots.gl3d||[],l={},c=0;c<s.length;c++){var d,u=s[c],h=u+".camera",f=u+".aspectratio",p=u+".aspectmode",m=a[u]._scene;i?(l[h+".up"]=m.viewInitial.up,l[h+".eye"]=m.viewInitial.eye,l[h+".center"]=m.viewInitial.center,d=!0):o&&(l[h+".up"]=null,l[h+".eye"]=null,l[h+".center"]=null,d=!0),d&&(l[f+".x"]=m.viewInitial.aspectratio.x,l[f+".y"]=m.viewInitial.aspectratio.y,l[f+".z"]=m.viewInitial.aspectratio.z,l[p]=m.viewInitial.aspectmode)}n.call("_guiRelayout",t,l)}function p(t,e){var r=e.currentTarget,n=r._previousVal,i=t._fullLayout,o=i._subplots.gl3d||[],a=["xaxis","yaxis","zaxis"],s={},l={};if(n)l=n,r._previousVal=null;else{for(var c=0;c<o.length;c++){var d=o[c],u=i[d],h=d+".hovermode";s[h]=u.hovermode,l[h]=!1;for(var f=0;f<3;f++){var p=a[f],m=d+"."+p+".showspikes";l[m]=!1,s[m]=u[p].showspikes}}r._previousVal=s}return l}function m(t,e){for(var r=e.currentTarget,i=r.getAttribute("data-attr"),o=r.getAttribute("data-val")||!0,a=t._fullLayout,s=a._subplots.geo||[],l=0;l<s.length;l++){var c=s[l],d=a[c];if("zoom"===i){var u=d.projection.scale,h="in"===o?2*u:.5*u;n.call("_guiRelayout",t,c+".projection.scale",h)}}"reset"===i&&w(t,"geo")}function g(t){var e=t._fullLayout;return!e.hovermode&&(e._has("cartesian")?e._isHoriz?"y":"x":"closest")}function b(t){var e=g(t);n.call("_guiRelayout",t,"hovermode",e)}function v(t,e){x(t,e,"mapbox")}function y(t,e){x(t,e,"map")}function x(t,e,r){for(var i=e.currentTarget.getAttribute("data-val"),o=t._fullLayout,a=o._subplots[r]||[],s={},l=0;l<a.length;l++){var c=a[l],d=o[c].zoom,u="in"===i?1.05*d:d/1.05;s[c+".zoom"]=u}n.call("_guiRelayout",t,s)}function w(t,e){for(var r=t._fullLayout,i=r._subplots[e]||[],o={},a=0;a<i.length;a++)for(var s=i[a],l=r[s]._subplot.viewInitial,c=Object.keys(l),d=0;d<c.length;d++){var u=c[d];o[s+"."+u]=l[u]}n.call("_guiRelayout",t,o)}d.toImage={name:"toImage",title:function(t){var e=(t._context.toImageButtonOptions||{}).format||"png";return c(t,"png"===e?"Download plot as a PNG":"Download plot")},icon:a.camera,click:function(t){var e=t._context.toImageButtonOptions,r={format:e.format||"png"};l.notifier(c(t,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach((function(t){t in e&&(r[t]=e[t])})),n.call("downloadImage",t,r).then((function(e){l.notifier(c(t,"Snapshot succeeded")+" - "+e,"long")})).catch((function(){l.notifier(c(t,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},d.sendDataToCloud={name:"sendDataToCloud",title:function(t){return c(t,"Edit in Chart Studio")},icon:a.disk,click:function(t){i.sendDataToCloud(t)}},d.editInChartStudio={name:"editInChartStudio",title:function(t){return c(t,"Edit in Chart Studio")},icon:a.pencil,click:function(t){i.sendDataToCloud(t)}},d.zoom2d={name:"zoom2d",_cat:"zoom",title:function(t){return c(t,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:u},d.pan2d={name:"pan2d",_cat:"pan",title:function(t){return c(t,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:u},d.select2d={name:"select2d",_cat:"select",title:function(t){return c(t,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:u},d.lasso2d={name:"lasso2d",_cat:"lasso",title:function(t){return c(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:u},d.drawclosedpath={name:"drawclosedpath",title:function(t){return c(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:u},d.drawopenpath={name:"drawopenpath",title:function(t){return c(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:u},d.drawline={name:"drawline",title:function(t){return c(t,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:u},d.drawrect={name:"drawrect",title:function(t){return c(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:u},d.drawcircle={name:"drawcircle",title:function(t){return c(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:u},d.eraseshape={name:"eraseshape",title:function(t){return c(t,"Erase active shape")},icon:a.eraseshape,click:s},d.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:u},d.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:u},d.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(t){return c(t,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:u},d.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(t){return c(t,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:u},d.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(t){return c(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:u},d.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(t){return c(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:u},d.zoom3d={name:"zoom3d",_cat:"zoom",title:function(t){return c(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:h},d.pan3d={name:"pan3d",_cat:"pan",title:function(t){return c(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:h},d.orbitRotation={name:"orbitRotation",title:function(t){return c(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:h},d.tableRotation={name:"tableRotation",title:function(t){return c(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:h},d.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(t){return c(t,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:f},d.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(t){return c(t,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:f},d.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(t,e){var r=p(t,e);n.call("_guiRelayout",t,r)}},d.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:m},d.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:m},d.resetGeo={name:"resetGeo",_cat:"reset",title:function(t){return c(t,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:m},d.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:b},d.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:b},d.resetViewSankey={name:"resetSankeyGroup",title:function(t){return c(t,"Reset view")},icon:a.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<t._fullData.length;r++){var i=t._fullData[r]._viewInitial;e["node.groups"].push(i.node.groups.slice()),e["node.x"].push(i.node.x.slice()),e["node.y"].push(i.node.y.slice())}n.call("restyle",t,e)}},d.toggleHover={name:"toggleHover",title:function(t){return c(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(t,e){var r=p(t,e);r.hovermode=g(t),n.call("_guiRelayout",t,r)}},d.resetViews={name:"resetViews",title:function(t){return c(t,"Reset views")},icon:a.home,click:function(t,e){var r=e.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),u(t,e),r.setAttribute("data-attr","resetLastSave"),f(t,e),w(t,"geo"),w(t,"mapbox"),w(t,"map")}},d.toggleSpikelines={name:"toggleSpikelines",title:function(t){return c(t,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,r=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===r?"off":"on",n.call("_guiRelayout",t,function(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,r=o.list(t,null,!0),n={},i=0;i<r.length;i++){var a=r[i];n[a._name+".showspikes"]=!!e||a._showSpikeInitial}return n}(t))}},d.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(t){return c(t,"Reset view")},attr:"reset",icon:a.home,click:function(t){w(t,"mapbox")}},d.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(t){return c(t,"Reset view")},attr:"reset",icon:a.home,click:function(t){w(t,"map")}},d.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:v},d.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(t){return c(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:y},d.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:v},d.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(t){return c(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:y}},47691:t=>{"use strict";t.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},47695:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%2333b5e5%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3C/svg%3E"},47914:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2788%27 height=%2723%27 fill=%27none%27%3E%3Cpath fill=%27%23000%27 fill-opacity=%27.4%27 fill-rule=%27evenodd%27 d=%27M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z%27/%3E%3Cpath fill=%27%23fff%27 d=%27m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z%27/%3E%3Cpath fill=%27%23e1e3e9%27 d=%27M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z%27/%3E%3Cpath d=%27M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z%27 style=%27fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001%27/%3E%3Cg style=%27stroke-width:1.12603545%27%3E%3Cpath d=%27M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668%27 style=%27color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3Cpath d=%27M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3%27 style=%27clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3Cpath d=%27M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z%27 style=%27clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3C/g%3E%3C/svg%3E"},48402:(t,e,r)=>{"use strict";var n=r(27941),i=(r(12822),r(40666)),o=r(17499),a=(r(25853),/"/g),s="TOBESTRIPPED",l=new RegExp('("'+s+")|("+s+'")',"g");t.exports=function(t,e,r){var c,d=t._fullLayout,u=d._paper,h=d._toppaper,f=d.width,p=d.height;u.insert("rect",":first-child").call(i.setRect,0,0,f,p).call(o.fill,d.paper_bgcolor);var m=d._basePlotModules||[];for(c=0;c<m.length;c++){var g=m[c];g.toSVG&&g.toSVG(t)}if(h){var b=h.node().childNodes,v=Array.prototype.slice.call(b);for(c=0;c<v.length;c++){var y=v[c];y.childNodes.length&&u.node().appendChild(y)}}d._draggers&&d._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var t=n.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(a,s));var r=this.style.fontWeight;!r||"normal"!==r&&"400"!==r||t.style("font-weight",void 0);var i=this.style.fontStyle;i&&"normal"===i&&t.style("font-style",void 0);var o=this.style.fontVariant;o&&"normal"===o&&t.style("font-variant",void 0)}else t.remove()})),u.selectAll(".gradient_filled,.pattern_filled").each((function(){var t=n.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(a,s));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&t.style("stroke",r.replace(a,s))})),"pdf"!==e&&"eps"!==e||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),"svg"===e&&r&&(u.attr("width",r*f),u.attr("height",r*p),u.attr("viewBox","0 0 "+f+" "+p));var x=(new window.XMLSerializer).serializeToString(u.node());return(x=(x=function(t){var e=n.select("body").append("div").style({display:"none"}).html(""),r=t.replace(/(&[^;]*;)/gi,(function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()}));return e.remove(),r}(x)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(l,"'")}},48439:(t,e,r)=>{var n,i=r(89528),o=r(45505),a=r(25645),s=r(31997),l=r(94638),c=r(52148),d=!1,u=o();function h(t,e,r){var i=n.segments(t),o=n.segments(e),a=r(n.combine(i,o));return n.polygon(a)}n={buildLog:function(t){return!0===t?d=i():!1===t&&(d=!1),!1!==d&&d.list},epsilon:function(t){return u.epsilon(t)},segments:function(t){var e=a(!0,u,d);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:a(!1,u,d).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:l.union(t.combined,d),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:l.intersect(t.combined,d),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:l.difference(t.combined,d),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:l.differenceRev(t.combined,d),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:l.xor(t.combined,d),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:s(t.segments,u,d),inverted:t.inverted}},polygonFromGeoJSON:function(t){return c.toPolygon(n,t)},polygonToGeoJSON:function(t){return c.fromPolygon(n,u,t)},union:function(t,e){return h(t,e,n.selectUnion)},intersect:function(t,e){return h(t,e,n.selectIntersect)},difference:function(t,e){return h(t,e,n.selectDifference)},differenceRev:function(t,e){return h(t,e,n.selectDifferenceRev)},xor:function(t,e){return h(t,e,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),t.exports=n},48460:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23999%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},48487:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"},48654:(t,e,r)=>{"use strict";r.d(e,{A:()=>G});var n=r(78706),i=r.n(n),o=r(72859),a=r.n(o),s=r(21906),l=r.n(s),c=new URL(r(35531),r.b),d=new URL(r(45419),r.b),u=new URL(r(83385),r.b),h=new URL(r(14274),r.b),f=new URL(r(57154),r.b),p=new URL(r(35782),r.b),m=new URL(r(54718),r.b),g=new URL(r(48487),r.b),b=new URL(r(35372),r.b),v=new URL(r(17914),r.b),y=new URL(r(36366),r.b),x=new URL(r(67830),r.b),w=new URL(r(66451),r.b),_=new URL(r(57249),r.b),k=new URL(r(75932),r.b),A=new URL(r(11144),r.b),T=a()(i()),M=l()(c),S=l()(d),E=l()(u),C=l()(h),z=l()(f),L=l()(p),O=l()(m),D=l()(g),I=l()(b),F=l()(v),R=l()(y),P=l()(x),j=l()(w),N=l()(_),B=l()(k),U=l()(A);T.push([t.id,`@charset "UTF-8";/*!\n * Bootstrap  v5.2.3 (https://getbootstrap.com/)\n * Copyright 2011-2022 The Bootstrap Authors\n * Copyright 2011-2022 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-black:#000;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-body-color-rgb:33,37,41;--bs-body-bg-rgb:255,255,255;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-bg:#fff;--bs-border-width:1px;--bs-border-style:solid;--bs-border-color:#dee2e6;--bs-border-color-translucent:rgba(0, 0, 0, 0.175);--bs-border-radius:0.375rem;--bs-border-radius-sm:0.25rem;--bs-border-radius-lg:0.5rem;--bs-border-radius-xl:1rem;--bs-border-radius-2xl:2rem;--bs-border-radius-pill:50rem;--bs-link-color:#0d6efd;--bs-link-hover-color:#0a58ca;--bs-code-color:#d63384;--bs-highlight-bg:#fff3cd}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;border:0;border-top:1px solid;opacity:.25}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.1875em;background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:var(--bs-link-color);text-decoration:underline}a:hover{color:var(--bs-link-hover-color)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not([type=time])::-webkit-calendar-picker-indicator{display:none!important}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:""}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid var(--bs-border-color);border-radius:.375rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:#6c757d}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{--bs-gutter-x:1.5rem;--bs-gutter-y:0;width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-color:var(--bs-body-color);--bs-table-bg:transparent;--bs-table-border-color:var(--bs-border-color);--bs-table-accent-bg:transparent;--bs-table-striped-color:var(--bs-body-color);--bs-table-striped-bg:rgba(0, 0, 0, 0.05);--bs-table-active-color:var(--bs-body-color);--bs-table-active-bg:rgba(0, 0, 0, 0.1);--bs-table-hover-color:var(--bs-body-color);--bs-table-hover-bg:rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:var(--bs-table-color);vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-group-divider{border-top:2px solid currentcolor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:1px 0}.table-bordered>:not(caption)>*>*{border-width:0 1px}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-striped-columns>:not(caption)>tr>:nth-child(2n){--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active{--bs-table-accent-bg:var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover>tbody>tr:hover>*{--bs-table-accent-bg:var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary{--bs-table-color:#000;--bs-table-bg:#cfe2ff;--bs-table-border-color:#bacbe6;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-secondary{--bs-table-color:#000;--bs-table-bg:#e2e3e5;--bs-table-border-color:#cbccce;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-success{--bs-table-color:#000;--bs-table-bg:#d1e7dd;--bs-table-border-color:#bcd0c7;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-info{--bs-table-color:#000;--bs-table-bg:#cff4fc;--bs-table-border-color:#badce3;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-warning{--bs-table-color:#000;--bs-table-bg:#fff3cd;--bs-table-border-color:#e6dbb9;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-danger{--bs-table-color:#000;--bs-table-bg:#f8d7da;--bs-table-border-color:#dfc2c4;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-light{--bs-table-color:#000;--bs-table-bg:#f8f9fa;--bs-table-border-color:#dfe0e1;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-dark{--bs-table-color:#fff;--bs-table-bg:#212529;--bs-table-border-color:#373b3e;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled{background-color:#e9ecef;opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext:focus{outline:0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.25rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.5rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg{min-height:calc(1.5em + 1rem + 2px)}.form-control-color{width:3rem;height:calc(1.5em + .75rem + 2px);padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{border:0!important;border-radius:.375rem}.form-control-color::-webkit-color-swatch{border-radius:.375rem}.form-control-color.form-control-sm{height:calc(1.5em + .5rem + 2px)}.form-control-color.form-control-lg{height:calc(1.5em + 1rem + 2px)}.form-select{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(0.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(${M});background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#e9ecef}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem;border-radius:.25rem}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem;border-radius:.5rem}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-reverse{padding-right:1.5em;padding-left:0;text-align:right}.form-check-reverse .form-check-input{float:right;margin-right:-1.5em;margin-left:0}.form-check-input{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url(${S})}.form-check-input:checked[type=radio]{background-image:url(${E})}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url(${C})}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url(${z});background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{background-image:url(${L})}.form-switch .form-check-input:checked{background-position:right center;background-image:url(${O})}.form-switch.form-check-reverse{padding-right:2.5em;padding-left:0}.form-switch.form-check-reverse .form-check-input{margin-right:-2.5em;margin-left:0}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}.form-range{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-control-plaintext,.form-floating>.form-select{height:calc(3.5rem + 2px);line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;width:100%;height:100%;padding:1rem .75rem;overflow:hidden;text-align:start;text-overflow:ellipsis;white-space:nowrap;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control,.form-floating>.form-control-plaintext{padding:1rem .75rem}.form-floating>.form-control-plaintext::-moz-placeholder,.form-floating>.form-control::-moz-placeholder{color:transparent}.form-floating>.form-control-plaintext::placeholder,.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control-plaintext:not(:-moz-placeholder-shown),.form-floating>.form-control:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:focus,.form-floating>.form-control-plaintext:not(:placeholder-shown),.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:-webkit-autofill,.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control-plaintext~label,.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:-webkit-autofill~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control-plaintext~label{border-width:1px 0}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-floating,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-floating:focus-within,.input-group>.form-select:focus{z-index:5}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:5}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.375rem}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:.5rem}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:.25rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-control,.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-select,.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-control,.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-select,.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.form-floating:not(:first-child)>.form-control,.input-group>.form-floating:not(:first-child)>.form-select{border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(25,135,84,.9);border-radius:.375rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(${D});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:#198754}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url(${M}),url(${D});background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-control-color.is-valid,.was-validated .form-control-color:valid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:#198754}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:#198754}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#198754}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-valid,.input-group>.form-floating:not(:focus-within).is-valid,.input-group>.form-select:not(:focus).is-valid,.was-validated .input-group>.form-control:not(:focus):valid,.was-validated .input-group>.form-floating:not(:focus-within):valid,.was-validated .input-group>.form-select:not(:focus):valid{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.375rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(${I});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:#dc3545}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url(${M}),url(${I});background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-control-color.is-invalid,.was-validated .form-control-color:invalid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:#dc3545}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-invalid,.input-group>.form-floating:not(:focus-within).is-invalid,.input-group>.form-select:not(:focus).is-invalid,.was-validated .input-group>.form-control:not(:focus):invalid,.was-validated .input-group>.form-floating:not(:focus-within):invalid,.was-validated .input-group>.form-select:not(:focus):invalid{z-index:4}.btn{--bs-btn-padding-x:0.75rem;--bs-btn-padding-y:0.375rem;--bs-btn-font-family: ;--bs-btn-font-size:1rem;--bs-btn-font-weight:400;--bs-btn-line-height:1.5;--bs-btn-color:#212529;--bs-btn-bg:transparent;--bs-btn-border-width:1px;--bs-btn-border-color:transparent;--bs-btn-border-radius:0.375rem;--bs-btn-hover-border-color:transparent;--bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);--bs-btn-disabled-opacity:0.65;--bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn-check+.btn:hover{color:var(--bs-btn-color);background-color:var(--bs-btn-bg);border-color:var(--bs-btn-border-color)}.btn:focus-visible{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:focus-visible+.btn{border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked+.btn,.btn.active,.btn.show,.btn:first-child:active,:not(.btn-check)+.btn:active{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn-check:checked+.btn:focus-visible,.btn.active:focus-visible,.btn.show:focus-visible,.btn:first-child:active:focus-visible,:not(.btn-check)+.btn:active:focus-visible{box-shadow:var(--bs-btn-focus-box-shadow)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color:#fff;--bs-btn-bg:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0b5ed7;--bs-btn-hover-border-color:#0a58ca;--bs-btn-focus-shadow-rgb:49,132,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0a58ca;--bs-btn-active-border-color:#0a53be;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#0d6efd;--bs-btn-disabled-border-color:#0d6efd}.btn-secondary{--bs-btn-color:#fff;--bs-btn-bg:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#5c636a;--bs-btn-hover-border-color:#565e64;--bs-btn-focus-shadow-rgb:130,138,145;--bs-btn-active-color:#fff;--bs-btn-active-bg:#565e64;--bs-btn-active-border-color:#51585e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#6c757d;--bs-btn-disabled-border-color:#6c757d}.btn-success{--bs-btn-color:#fff;--bs-btn-bg:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#157347;--bs-btn-hover-border-color:#146c43;--bs-btn-focus-shadow-rgb:60,153,110;--bs-btn-active-color:#fff;--bs-btn-active-bg:#146c43;--bs-btn-active-border-color:#13653f;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#198754;--bs-btn-disabled-border-color:#198754}.btn-info{--bs-btn-color:#000;--bs-btn-bg:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#31d2f2;--bs-btn-hover-border-color:#25cff2;--bs-btn-focus-shadow-rgb:11,172,204;--bs-btn-active-color:#000;--bs-btn-active-bg:#3dd5f3;--bs-btn-active-border-color:#25cff2;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#0dcaf0;--bs-btn-disabled-border-color:#0dcaf0}.btn-warning{--bs-btn-color:#000;--bs-btn-bg:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffca2c;--bs-btn-hover-border-color:#ffc720;--bs-btn-focus-shadow-rgb:217,164,6;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffcd39;--bs-btn-active-border-color:#ffc720;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#ffc107;--bs-btn-disabled-border-color:#ffc107}.btn-danger{--bs-btn-color:#fff;--bs-btn-bg:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#bb2d3b;--bs-btn-hover-border-color:#b02a37;--bs-btn-focus-shadow-rgb:225,83,97;--bs-btn-active-color:#fff;--bs-btn-active-bg:#b02a37;--bs-btn-active-border-color:#a52834;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#dc3545;--bs-btn-disabled-border-color:#dc3545}.btn-light{--bs-btn-color:#000;--bs-btn-bg:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#d3d4d5;--bs-btn-hover-border-color:#c6c7c8;--bs-btn-focus-shadow-rgb:211,212,213;--bs-btn-active-color:#000;--bs-btn-active-bg:#c6c7c8;--bs-btn-active-border-color:#babbbc;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#f8f9fa;--bs-btn-disabled-border-color:#f8f9fa}.btn-dark{--bs-btn-color:#fff;--bs-btn-bg:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#424649;--bs-btn-hover-border-color:#373b3e;--bs-btn-focus-shadow-rgb:66,70,73;--bs-btn-active-color:#fff;--bs-btn-active-bg:#4d5154;--bs-btn-active-border-color:#373b3e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#212529;--bs-btn-disabled-border-color:#212529}.btn-outline-primary{--bs-btn-color:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0d6efd;--bs-btn-hover-border-color:#0d6efd;--bs-btn-focus-shadow-rgb:13,110,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0d6efd;--bs-btn-active-border-color:#0d6efd;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0d6efd;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0d6efd;--bs-gradient:none}.btn-outline-secondary{--bs-btn-color:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#6c757d;--bs-btn-hover-border-color:#6c757d;--bs-btn-focus-shadow-rgb:108,117,125;--bs-btn-active-color:#fff;--bs-btn-active-bg:#6c757d;--bs-btn-active-border-color:#6c757d;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#6c757d;--bs-gradient:none}.btn-outline-success{--bs-btn-color:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#198754;--bs-btn-hover-border-color:#198754;--bs-btn-focus-shadow-rgb:25,135,84;--bs-btn-active-color:#fff;--bs-btn-active-bg:#198754;--bs-btn-active-border-color:#198754;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#198754;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#198754;--bs-gradient:none}.btn-outline-info{--bs-btn-color:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#0dcaf0;--bs-btn-hover-border-color:#0dcaf0;--bs-btn-focus-shadow-rgb:13,202,240;--bs-btn-active-color:#000;--bs-btn-active-bg:#0dcaf0;--bs-btn-active-border-color:#0dcaf0;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0dcaf0;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0dcaf0;--bs-gradient:none}.btn-outline-warning{--bs-btn-color:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffc107;--bs-btn-hover-border-color:#ffc107;--bs-btn-focus-shadow-rgb:255,193,7;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffc107;--bs-btn-active-border-color:#ffc107;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#ffc107;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#ffc107;--bs-gradient:none}.btn-outline-danger{--bs-btn-color:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#dc3545;--bs-btn-hover-border-color:#dc3545;--bs-btn-focus-shadow-rgb:220,53,69;--bs-btn-active-color:#fff;--bs-btn-active-bg:#dc3545;--bs-btn-active-border-color:#dc3545;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#dc3545;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#dc3545;--bs-gradient:none}.btn-outline-light{--bs-btn-color:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#f8f9fa;--bs-btn-hover-border-color:#f8f9fa;--bs-btn-focus-shadow-rgb:248,249,250;--bs-btn-active-color:#000;--bs-btn-active-bg:#f8f9fa;--bs-btn-active-border-color:#f8f9fa;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#f8f9fa;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#f8f9fa;--bs-gradient:none}.btn-outline-dark{--bs-btn-color:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#212529;--bs-btn-hover-border-color:#212529;--bs-btn-focus-shadow-rgb:33,37,41;--bs-btn-active-color:#fff;--bs-btn-active-bg:#212529;--bs-btn-active-border-color:#212529;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#212529;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#212529;--bs-gradient:none}.btn-link{--bs-btn-font-weight:400;--bs-btn-color:var(--bs-link-color);--bs-btn-bg:transparent;--bs-btn-border-color:transparent;--bs-btn-hover-color:var(--bs-link-hover-color);--bs-btn-hover-border-color:transparent;--bs-btn-active-color:var(--bs-link-hover-color);--bs-btn-active-border-color:transparent;--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-border-color:transparent;--bs-btn-box-shadow:none;--bs-btn-focus-shadow-rgb:49,132,253;text-decoration:underline}.btn-link:focus-visible{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.btn-group-lg>.btn,.btn-lg{--bs-btn-padding-y:0.5rem;--bs-btn-padding-x:1rem;--bs-btn-font-size:1.25rem;--bs-btn-border-radius:0.5rem}.btn-group-sm>.btn,.btn-sm{--bs-btn-padding-y:0.25rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.875rem;--bs-btn-border-radius:0.25rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropdown-center,.dropend,.dropstart,.dropup,.dropup-center{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{--bs-dropdown-zindex:1000;--bs-dropdown-min-width:10rem;--bs-dropdown-padding-x:0;--bs-dropdown-padding-y:0.5rem;--bs-dropdown-spacer:0.125rem;--bs-dropdown-font-size:1rem;--bs-dropdown-color:#212529;--bs-dropdown-bg:#fff;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-border-radius:0.375rem;--bs-dropdown-border-width:1px;--bs-dropdown-inner-border-radius:calc(0.375rem - 1px);--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-divider-margin-y:0.5rem;--bs-dropdown-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-dropdown-link-color:#212529;--bs-dropdown-link-hover-color:#1e2125;--bs-dropdown-link-hover-bg:#e9ecef;--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-item-padding-x:1rem;--bs-dropdown-item-padding-y:0.25rem;--bs-dropdown-header-color:#6c757d;--bs-dropdown-header-padding-x:1rem;--bs-dropdown-header-padding-y:0.5rem;position:absolute;z-index:var(--bs-dropdown-zindex);display:none;min-width:var(--bs-dropdown-min-width);padding:var(--bs-dropdown-padding-y) var(--bs-dropdown-padding-x);margin:0;font-size:var(--bs-dropdown-font-size);color:var(--bs-dropdown-color);text-align:left;list-style:none;background-color:var(--bs-dropdown-bg);background-clip:padding-box;border:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color);border-radius:var(--bs-dropdown-border-radius)}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:var(--bs-dropdown-spacer)}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:var(--bs-dropdown-spacer)}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:var(--bs-dropdown-spacer)}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:var(--bs-dropdown-spacer)}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:var(--bs-dropdown-divider-margin-y) 0;overflow:hidden;border-top:1px solid var(--bs-dropdown-divider-bg);opacity:1}.dropdown-item{display:block;width:100%;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);clear:both;font-weight:400;color:var(--bs-dropdown-link-color);text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:var(--bs-dropdown-link-hover-color);background-color:var(--bs-dropdown-link-hover-bg)}.dropdown-item.active,.dropdown-item:active{color:var(--bs-dropdown-link-active-color);text-decoration:none;background-color:var(--bs-dropdown-link-active-bg)}.dropdown-item.disabled,.dropdown-item:disabled{color:var(--bs-dropdown-link-disabled-color);pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:var(--bs-dropdown-header-padding-y) var(--bs-dropdown-header-padding-x);margin-bottom:0;font-size:.875rem;color:var(--bs-dropdown-header-color);white-space:nowrap}.dropdown-item-text{display:block;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);color:var(--bs-dropdown-link-color)}.dropdown-menu-dark{--bs-dropdown-color:#dee2e6;--bs-dropdown-bg:#343a40;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-box-shadow: ;--bs-dropdown-link-color:#dee2e6;--bs-dropdown-link-hover-color:#fff;--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-link-hover-bg:rgba(255, 255, 255, 0.15);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-header-color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group{border-radius:.375rem}.btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn~.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{--bs-nav-link-padding-x:1rem;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-link-color);--bs-nav-link-hover-color:var(--bs-link-hover-color);--bs-nav-link-disabled-color:#6c757d;display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:var(--bs-nav-link-hover-color)}.nav-link.disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.nav-tabs{--bs-nav-tabs-border-width:1px;--bs-nav-tabs-border-color:#dee2e6;--bs-nav-tabs-border-radius:0.375rem;--bs-nav-tabs-link-hover-border-color:#e9ecef #e9ecef #dee2e6;--bs-nav-tabs-link-active-color:#495057;--bs-nav-tabs-link-active-bg:#fff;--bs-nav-tabs-link-active-border-color:#dee2e6 #dee2e6 #fff;border-bottom:var(--bs-nav-tabs-border-width) solid var(--bs-nav-tabs-border-color)}.nav-tabs .nav-link{margin-bottom:calc(-1 * var(--bs-nav-tabs-border-width));background:0 0;border:var(--bs-nav-tabs-border-width) solid transparent;border-top-left-radius:var(--bs-nav-tabs-border-radius);border-top-right-radius:var(--bs-nav-tabs-border-radius)}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:var(--bs-nav-tabs-link-hover-border-color)}.nav-tabs .nav-link.disabled,.nav-tabs .nav-link:disabled{color:var(--bs-nav-link-disabled-color);background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:var(--bs-nav-tabs-link-active-color);background-color:var(--bs-nav-tabs-link-active-bg);border-color:var(--bs-nav-tabs-link-active-border-color)}.nav-tabs .dropdown-menu{margin-top:calc(-1 * var(--bs-nav-tabs-border-width));border-top-left-radius:0;border-top-right-radius:0}.nav-pills{--bs-nav-pills-border-radius:0.375rem;--bs-nav-pills-link-active-color:#fff;--bs-nav-pills-link-active-bg:#0d6efd}.nav-pills .nav-link{background:0 0;border:0;border-radius:var(--bs-nav-pills-border-radius)}.nav-pills .nav-link:disabled{color:var(--bs-nav-link-disabled-color);background-color:transparent;border-color:transparent}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:var(--bs-nav-pills-link-active-color);background-color:var(--bs-nav-pills-link-active-bg)}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{--bs-navbar-padding-x:0;--bs-navbar-padding-y:0.5rem;--bs-navbar-color:rgba(0, 0, 0, 0.55);--bs-navbar-hover-color:rgba(0, 0, 0, 0.7);--bs-navbar-disabled-color:rgba(0, 0, 0, 0.3);--bs-navbar-active-color:rgba(0, 0, 0, 0.9);--bs-navbar-brand-padding-y:0.3125rem;--bs-navbar-brand-margin-end:1rem;--bs-navbar-brand-font-size:1.25rem;--bs-navbar-brand-color:rgba(0, 0, 0, 0.9);--bs-navbar-brand-hover-color:rgba(0, 0, 0, 0.9);--bs-navbar-nav-link-padding-x:0.5rem;--bs-navbar-toggler-padding-y:0.25rem;--bs-navbar-toggler-padding-x:0.75rem;--bs-navbar-toggler-font-size:1.25rem;--bs-navbar-toggler-icon-bg:url(${F});--bs-navbar-toggler-border-color:rgba(0, 0, 0, 0.1);--bs-navbar-toggler-border-radius:0.375rem;--bs-navbar-toggler-focus-width:0.25rem;--bs-navbar-toggler-transition:box-shadow 0.15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x:0;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-navbar-color);--bs-nav-link-hover-color:var(--bs-navbar-hover-color);--bs-nav-link-disabled-color:var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link.active,.navbar-nav .show>.nav-link{color:var(--bs-navbar-active-color)}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-navbar-color)}.navbar-text a,.navbar-text a:focus,.navbar-text a:hover{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-sm .offcanvas .offcanvas-header{display:none}.navbar-expand-sm .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-md .offcanvas .offcanvas-header{display:none}.navbar-expand-md .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-lg .offcanvas .offcanvas-header{display:none}.navbar-expand-lg .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xl .offcanvas .offcanvas-header{display:none}.navbar-expand-xl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xxl .offcanvas .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand .offcanvas .offcanvas-header{display:none}.navbar-expand .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-dark{--bs-navbar-color:rgba(255, 255, 255, 0.55);--bs-navbar-hover-color:rgba(255, 255, 255, 0.75);--bs-navbar-disabled-color:rgba(255, 255, 255, 0.25);--bs-navbar-active-color:#fff;--bs-navbar-brand-color:#fff;--bs-navbar-brand-hover-color:#fff;--bs-navbar-toggler-border-color:rgba(255, 255, 255, 0.1);--bs-navbar-toggler-icon-bg:url(${R})}.card{--bs-card-spacer-y:1rem;--bs-card-spacer-x:1rem;--bs-card-title-spacer-y:0.5rem;--bs-card-border-width:1px;--bs-card-border-color:var(--bs-border-color-translucent);--bs-card-border-radius:0.375rem;--bs-card-box-shadow: ;--bs-card-inner-border-radius:calc(0.375rem - 1px);--bs-card-cap-padding-y:0.5rem;--bs-card-cap-padding-x:1rem;--bs-card-cap-bg:rgba(0, 0, 0, 0.03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg:#fff;--bs-card-img-overlay-padding:1rem;--bs-card-group-margin:0.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:var(--bs-card-spacer-y) var(--bs-card-spacer-x);color:var(--bs-card-color)}.card-title{margin-bottom:var(--bs-card-title-spacer-y)}.card-subtitle{margin-top:calc(-.5 * var(--bs-card-title-spacer-y));margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:var(--bs-card-spacer-x)}.card-header{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);margin-bottom:0;color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-header:first-child{border-radius:var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius) 0 0}.card-footer{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-top:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-footer:last-child{border-radius:0 0 var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius)}.card-header-tabs{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-bottom:calc(-1 * var(--bs-card-cap-padding-y));margin-left:calc(-.5 * var(--bs-card-cap-padding-x));border-bottom:0}.card-header-tabs .nav-link.active{background-color:var(--bs-card-bg);border-bottom-color:var(--bs-card-bg)}.card-header-pills{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-left:calc(-.5 * var(--bs-card-cap-padding-x))}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:var(--bs-card-img-overlay-padding);border-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom{border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card-group>.card{margin-bottom:var(--bs-card-group-margin)}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion{--bs-accordion-color:#212529;--bs-accordion-bg:#fff;--bs-accordion-transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,border-radius 0.15s ease;--bs-accordion-border-color:var(--bs-border-color);--bs-accordion-border-width:1px;--bs-accordion-border-radius:0.375rem;--bs-accordion-inner-border-radius:calc(0.375rem - 1px);--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:1rem;--bs-accordion-btn-color:#212529;--bs-accordion-btn-bg:var(--bs-accordion-bg);--bs-accordion-btn-icon:url(${P});--bs-accordion-btn-icon-width:1.25rem;--bs-accordion-btn-icon-transform:rotate(-180deg);--bs-accordion-btn-icon-transition:transform 0.2s ease-in-out;--bs-accordion-btn-active-icon:url(${j});--bs-accordion-btn-focus-border-color:#86b7fe;--bs-accordion-btn-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-accordion-body-padding-x:1.25rem;--bs-accordion-body-padding-y:1rem;--bs-accordion-active-color:#0c63e4;--bs-accordion-active-bg:#e7f1ff}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:var(--bs-accordion-btn-padding-y) var(--bs-accordion-btn-padding-x);font-size:1rem;color:var(--bs-accordion-btn-color);text-align:left;background-color:var(--bs-accordion-btn-bg);border:0;border-radius:0;overflow-anchor:none;transition:var(--bs-accordion-transition)}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:var(--bs-accordion-active-color);background-color:var(--bs-accordion-active-bg);box-shadow:inset 0 calc(-1 * var(--bs-accordion-border-width)) 0 var(--bs-accordion-border-color)}.accordion-button:not(.collapsed)::after{background-image:var(--bs-accordion-btn-active-icon);transform:var(--bs-accordion-btn-icon-transform)}.accordion-button::after{flex-shrink:0;width:var(--bs-accordion-btn-icon-width);height:var(--bs-accordion-btn-icon-width);margin-left:auto;content:"";background-image:var(--bs-accordion-btn-icon);background-repeat:no-repeat;background-size:var(--bs-accordion-btn-icon-width);transition:var(--bs-accordion-btn-icon-transition)}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:var(--bs-accordion-btn-focus-border-color);outline:0;box-shadow:var(--bs-accordion-btn-focus-box-shadow)}.accordion-header{margin-bottom:0}.accordion-item{color:var(--bs-accordion-color);background-color:var(--bs-accordion-bg);border:var(--bs-accordion-border-width) solid var(--bs-accordion-border-color)}.accordion-item:first-of-type{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius)}.accordion-item:first-of-type .accordion-button{border-top-left-radius:var(--bs-accordion-inner-border-radius);border-top-right-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:var(--bs-accordion-inner-border-radius);border-bottom-left-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-body{padding:var(--bs-accordion-body-padding-y) var(--bs-accordion-body-padding-x)}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button,.accordion-flush .accordion-item .accordion-button.collapsed{border-radius:0}.breadcrumb{--bs-breadcrumb-padding-x:0;--bs-breadcrumb-padding-y:0;--bs-breadcrumb-margin-bottom:1rem;--bs-breadcrumb-bg: ;--bs-breadcrumb-border-radius: ;--bs-breadcrumb-divider-color:#6c757d;--bs-breadcrumb-item-padding-x:0.5rem;--bs-breadcrumb-item-active-color:#6c757d;display:flex;flex-wrap:wrap;padding:var(--bs-breadcrumb-padding-y) var(--bs-breadcrumb-padding-x);margin-bottom:var(--bs-breadcrumb-margin-bottom);font-size:var(--bs-breadcrumb-font-size);list-style:none;background-color:var(--bs-breadcrumb-bg);border-radius:var(--bs-breadcrumb-border-radius)}.breadcrumb-item+.breadcrumb-item{padding-left:var(--bs-breadcrumb-item-padding-x)}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:var(--bs-breadcrumb-item-padding-x);color:var(--bs-breadcrumb-divider-color);content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:var(--bs-breadcrumb-item-active-color)}.pagination{--bs-pagination-padding-x:0.75rem;--bs-pagination-padding-y:0.375rem;--bs-pagination-font-size:1rem;--bs-pagination-color:var(--bs-link-color);--bs-pagination-bg:#fff;--bs-pagination-border-width:1px;--bs-pagination-border-color:#dee2e6;--bs-pagination-border-radius:0.375rem;--bs-pagination-hover-color:var(--bs-link-hover-color);--bs-pagination-hover-bg:#e9ecef;--bs-pagination-hover-border-color:#dee2e6;--bs-pagination-focus-color:var(--bs-link-hover-color);--bs-pagination-focus-bg:#e9ecef;--bs-pagination-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-pagination-active-color:#fff;--bs-pagination-active-bg:#0d6efd;--bs-pagination-active-border-color:#0d6efd;--bs-pagination-disabled-color:#6c757d;--bs-pagination-disabled-bg:#fff;--bs-pagination-disabled-border-color:#dee2e6;display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;padding:var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);font-size:var(--bs-pagination-font-size);color:var(--bs-pagination-color);text-decoration:none;background-color:var(--bs-pagination-bg);border:var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:var(--bs-pagination-hover-color);background-color:var(--bs-pagination-hover-bg);border-color:var(--bs-pagination-hover-border-color)}.page-link:focus{z-index:3;color:var(--bs-pagination-focus-color);background-color:var(--bs-pagination-focus-bg);outline:0;box-shadow:var(--bs-pagination-focus-box-shadow)}.active>.page-link,.page-link.active{z-index:3;color:var(--bs-pagination-active-color);background-color:var(--bs-pagination-active-bg);border-color:var(--bs-pagination-active-border-color)}.disabled>.page-link,.page-link.disabled{color:var(--bs-pagination-disabled-color);pointer-events:none;background-color:var(--bs-pagination-disabled-bg);border-color:var(--bs-pagination-disabled-border-color)}.page-item:not(:first-child) .page-link{margin-left:-1px}.page-item:first-child .page-link{border-top-left-radius:var(--bs-pagination-border-radius);border-bottom-left-radius:var(--bs-pagination-border-radius)}.page-item:last-child .page-link{border-top-right-radius:var(--bs-pagination-border-radius);border-bottom-right-radius:var(--bs-pagination-border-radius)}.pagination-lg{--bs-pagination-padding-x:1.5rem;--bs-pagination-padding-y:0.75rem;--bs-pagination-font-size:1.25rem;--bs-pagination-border-radius:0.5rem}.pagination-sm{--bs-pagination-padding-x:0.5rem;--bs-pagination-padding-y:0.25rem;--bs-pagination-font-size:0.875rem;--bs-pagination-border-radius:0.25rem}.badge{--bs-badge-padding-x:0.65em;--bs-badge-padding-y:0.35em;--bs-badge-font-size:0.75em;--bs-badge-font-weight:700;--bs-badge-color:#fff;--bs-badge-border-radius:0.375rem;display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg:transparent;--bs-alert-padding-x:1rem;--bs-alert-padding-y:1rem;--bs-alert-margin-bottom:1rem;--bs-alert-color:inherit;--bs-alert-border-color:transparent;--bs-alert-border:1px solid var(--bs-alert-border-color);--bs-alert-border-radius:0.375rem;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{--bs-alert-color:#084298;--bs-alert-bg:#cfe2ff;--bs-alert-border-color:#b6d4fe}.alert-primary .alert-link{color:#06357a}.alert-secondary{--bs-alert-color:#41464b;--bs-alert-bg:#e2e3e5;--bs-alert-border-color:#d3d6d8}.alert-secondary .alert-link{color:#34383c}.alert-success{--bs-alert-color:#0f5132;--bs-alert-bg:#d1e7dd;--bs-alert-border-color:#badbcc}.alert-success .alert-link{color:#0c4128}.alert-info{--bs-alert-color:#055160;--bs-alert-bg:#cff4fc;--bs-alert-border-color:#b6effb}.alert-info .alert-link{color:#04414d}.alert-warning{--bs-alert-color:#664d03;--bs-alert-bg:#fff3cd;--bs-alert-border-color:#ffecb5}.alert-warning .alert-link{color:#523e02}.alert-danger{--bs-alert-color:#842029;--bs-alert-bg:#f8d7da;--bs-alert-border-color:#f5c2c7}.alert-danger .alert-link{color:#6a1a21}.alert-light{--bs-alert-color:#636464;--bs-alert-bg:#fefefe;--bs-alert-border-color:#fdfdfe}.alert-light .alert-link{color:#4f5050}.alert-dark{--bs-alert-color:#141619;--bs-alert-bg:#d3d3d4;--bs-alert-border-color:#bcbebf}.alert-dark .alert-link{color:#101214}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{--bs-progress-height:1rem;--bs-progress-font-size:0.75rem;--bs-progress-bg:#e9ecef;--bs-progress-border-radius:0.375rem;--bs-progress-box-shadow:inset 0 1px 2px rgba(0, 0, 0, 0.075);--bs-progress-bar-color:#fff;--bs-progress-bar-bg:#0d6efd;--bs-progress-bar-transition:width 0.6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:var(--bs-progress-bar-color);text-align:center;white-space:nowrap;background-color:var(--bs-progress-bar-bg);transition:var(--bs-progress-bar-transition)}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:var(--bs-progress-height) var(--bs-progress-height)}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.list-group{--bs-list-group-color:#212529;--bs-list-group-bg:#fff;--bs-list-group-border-color:rgba(0, 0, 0, 0.125);--bs-list-group-border-width:1px;--bs-list-group-border-radius:0.375rem;--bs-list-group-item-padding-x:1rem;--bs-list-group-item-padding-y:0.5rem;--bs-list-group-action-color:#495057;--bs-list-group-action-hover-color:#495057;--bs-list-group-action-hover-bg:#f8f9fa;--bs-list-group-action-active-color:#212529;--bs-list-group-action-active-bg:#e9ecef;--bs-list-group-disabled-color:#6c757d;--bs-list-group-disabled-bg:#fff;--bs-list-group-active-color:#fff;--bs-list-group-active-bg:#0d6efd;--bs-list-group-active-border-color:#0d6efd;display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:var(--bs-list-group-border-radius)}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>.list-group-item::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item-action{width:100%;color:var(--bs-list-group-action-color);text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:var(--bs-list-group-action-hover-color);text-decoration:none;background-color:var(--bs-list-group-action-hover-bg)}.list-group-item-action:active{color:var(--bs-list-group-action-active-color);background-color:var(--bs-list-group-action-active-bg)}.list-group-item{position:relative;display:block;padding:var(--bs-list-group-item-padding-y) var(--bs-list-group-item-padding-x);color:var(--bs-list-group-color);text-decoration:none;background-color:var(--bs-list-group-bg);border:var(--bs-list-group-border-width) solid var(--bs-list-group-border-color)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:var(--bs-list-group-disabled-color);pointer-events:none;background-color:var(--bs-list-group-disabled-bg)}.list-group-item.active{z-index:2;color:var(--bs-list-group-active-color);background-color:var(--bs-list-group-active-bg);border-color:var(--bs-list-group-active-border-color)}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:calc(-1 * var(--bs-list-group-border-width));border-top-width:var(--bs-list-group-border-width)}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 var(--bs-list-group-border-width)}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#141619;border-color:#141619}.btn-close{box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:#000;background:transparent url(${N}) center/1em auto no-repeat;border:0;border-radius:.375rem;opacity:.5}.btn-close:hover{color:#000;text-decoration:none;opacity:.75}.btn-close:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);opacity:1}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.25}.btn-close-white{filter:invert(1) grayscale(100%) brightness(200%)}.toast{--bs-toast-zindex:1090;--bs-toast-padding-x:0.75rem;--bs-toast-padding-y:0.5rem;--bs-toast-spacing:1.5rem;--bs-toast-max-width:350px;--bs-toast-font-size:0.875rem;--bs-toast-color: ;--bs-toast-bg:rgba(255, 255, 255, 0.85);--bs-toast-border-width:1px;--bs-toast-border-color:var(--bs-border-color-translucent);--bs-toast-border-radius:0.375rem;--bs-toast-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-toast-header-color:#6c757d;--bs-toast-header-bg:rgba(255, 255, 255, 0.85);--bs-toast-header-border-color:rgba(0, 0, 0, 0.05);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{--bs-toast-zindex:1090;position:absolute;z-index:var(--bs-toast-zindex);width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:var(--bs-toast-spacing)}.toast-header{display:flex;align-items:center;padding:var(--bs-toast-padding-y) var(--bs-toast-padding-x);color:var(--bs-toast-header-color);background-color:var(--bs-toast-header-bg);background-clip:padding-box;border-bottom:var(--bs-toast-border-width) solid var(--bs-toast-header-border-color);border-top-left-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width));border-top-right-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width))}.toast-header .btn-close{margin-right:calc(-.5 * var(--bs-toast-padding-x));margin-left:var(--bs-toast-padding-x)}.toast-body{padding:var(--bs-toast-padding-x);word-wrap:break-word}.modal{--bs-modal-zindex:1055;--bs-modal-width:500px;--bs-modal-padding:1rem;--bs-modal-margin:0.5rem;--bs-modal-color: ;--bs-modal-bg:#fff;--bs-modal-border-color:var(--bs-border-color-translucent);--bs-modal-border-width:1px;--bs-modal-border-radius:0.5rem;--bs-modal-box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-modal-inner-border-radius:calc(0.5rem - 1px);--bs-modal-header-padding-x:1rem;--bs-modal-header-padding-y:1rem;--bs-modal-header-padding:1rem 1rem;--bs-modal-header-border-color:var(--bs-border-color);--bs-modal-header-border-width:1px;--bs-modal-title-line-height:1.5;--bs-modal-footer-gap:0.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color:var(--bs-border-color);--bs-modal-footer-border-width:1px;position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:var(--bs-modal-margin);pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - var(--bs-modal-margin) * 2)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - var(--bs-modal-margin) * 2)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex:1050;--bs-backdrop-bg:#000;--bs-backdrop-opacity:0.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:var(--bs-modal-header-padding);border-bottom:var(--bs-modal-header-border-width) solid var(--bs-modal-header-border-color);border-top-left-radius:var(--bs-modal-inner-border-radius);border-top-right-radius:var(--bs-modal-inner-border-radius)}.modal-header .btn-close{padding:calc(var(--bs-modal-header-padding-y) * .5) calc(var(--bs-modal-header-padding-x) * .5);margin:calc(-.5 * var(--bs-modal-header-padding-y)) calc(-.5 * var(--bs-modal-header-padding-x)) calc(-.5 * var(--bs-modal-header-padding-y)) auto}.modal-title{margin-bottom:0;line-height:var(--bs-modal-title-line-height)}.modal-body{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap) * .5)}@media (min-width:576px){.modal{--bs-modal-margin:1.75rem;--bs-modal-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15)}.modal-dialog{max-width:var(--bs-modal-width);margin-right:auto;margin-left:auto}.modal-sm{--bs-modal-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{--bs-modal-width:800px}}@media (min-width:1200px){.modal-xl{--bs-modal-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-footer,.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-footer,.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-footer,.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-footer,.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-footer,.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-footer,.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}}.tooltip{--bs-tooltip-zindex:1080;--bs-tooltip-max-width:200px;--bs-tooltip-padding-x:0.5rem;--bs-tooltip-padding-y:0.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:0.875rem;--bs-tooltip-color:#fff;--bs-tooltip-bg:#000;--bs-tooltip-border-radius:0.375rem;--bs-tooltip-opacity:0.9;--bs-tooltip-arrow-width:0.8rem;--bs-tooltip-arrow-height:0.4rem;z-index:var(--bs-tooltip-zindex);display:block;padding:var(--bs-tooltip-arrow-height);margin:var(--bs-tooltip-margin);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-top-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:0;width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-right-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-bottom-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:0;width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) 0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-left-color:var(--bs-tooltip-bg)}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex:1070;--bs-popover-max-width:276px;--bs-popover-font-size:0.875rem;--bs-popover-bg:#fff;--bs-popover-border-width:1px;--bs-popover-border-color:var(--bs-border-color-translucent);--bs-popover-border-radius:0.5rem;--bs-popover-inner-border-radius:calc(0.5rem - 1px);--bs-popover-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-popover-header-padding-x:1rem;--bs-popover-header-padding-y:0.5rem;--bs-popover-header-font-size:1rem;--bs-popover-header-color: ;--bs-popover-header-bg:#f0f0f0;--bs-popover-body-padding-x:1rem;--bs-popover-body-padding-y:1rem;--bs-popover-body-color:#212529;--bs-popover-arrow-width:1rem;--bs-popover-arrow-height:0.5rem;--bs-popover-arrow-border:var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.popover .popover-arrow{display:block;width:var(--bs-popover-arrow-width);height:var(--bs-popover-arrow-height)}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid;border-width:0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::after,.bs-popover-top>.popover-arrow::before{border-width:var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-top-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:var(--bs-popover-border-width);border-top-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::after,.bs-popover-end>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-right-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:var(--bs-popover-border-width);border-right-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::before{border-width:0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-bottom-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:var(--bs-popover-border-width);border-bottom-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:var(--bs-popover-arrow-width);margin-left:calc(-.5 * var(--bs-popover-arrow-width));content:"";border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-header-bg)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::after,.bs-popover-start>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) 0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-left-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:var(--bs-popover-border-width);border-left-color:var(--bs-popover-bg)}.popover-header{padding:var(--bs-popover-header-padding-y) var(--bs-popover-header-padding-x);margin-bottom:0;font-size:var(--bs-popover-header-font-size);color:var(--bs-popover-header-color);background-color:var(--bs-popover-header-bg);border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-top-left-radius:var(--bs-popover-inner-border-radius);border-top-right-radius:var(--bs-popover-inner-border-radius)}.popover-header:empty{display:none}.popover-body{padding:var(--bs-popover-body-padding-y) var(--bs-popover-body-padding-x);color:var(--bs-popover-body-color)}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url(${B})}.carousel-control-next-icon{background-image:url(${U})}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-next-icon,.carousel-dark .carousel-control-prev-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}.spinner-border,.spinner-grow{display:inline-block;width:var(--bs-spinner-width);height:var(--bs-spinner-height);vertical-align:var(--bs-spinner-vertical-align);border-radius:50%;animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name)}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-border-width:0.25em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-border;border:var(--bs-spinner-border-width) solid currentcolor;border-right-color:transparent}.spinner-border-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem;--bs-spinner-border-width:0.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-grow;background-color:currentcolor;opacity:0}.spinner-grow-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{--bs-spinner-animation-speed:1.5s}}.offcanvas,.offcanvas-lg,.offcanvas-md,.offcanvas-sm,.offcanvas-xl,.offcanvas-xxl{--bs-offcanvas-zindex:1045;--bs-offcanvas-width:400px;--bs-offcanvas-height:30vh;--bs-offcanvas-padding-x:1rem;--bs-offcanvas-padding-y:1rem;--bs-offcanvas-color: ;--bs-offcanvas-bg:#fff;--bs-offcanvas-border-width:1px;--bs-offcanvas-border-color:var(--bs-border-color-translucent);--bs-offcanvas-box-shadow:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075)}@media (max-width:575.98px){.offcanvas-sm{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:575.98px) and (prefers-reduced-motion:reduce){.offcanvas-sm{transition:none}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:575.98px){.offcanvas-sm.show:not(.hiding),.offcanvas-sm.showing{transform:none}}@media (max-width:575.98px){.offcanvas-sm.hiding,.offcanvas-sm.show,.offcanvas-sm.showing{visibility:visible}}@media (min-width:576px){.offcanvas-sm{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-sm .offcanvas-header{display:none}.offcanvas-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:767.98px){.offcanvas-md{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:767.98px) and (prefers-reduced-motion:reduce){.offcanvas-md{transition:none}}@media (max-width:767.98px){.offcanvas-md.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:767.98px){.offcanvas-md.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:767.98px){.offcanvas-md.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:767.98px){.offcanvas-md.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:767.98px){.offcanvas-md.show:not(.hiding),.offcanvas-md.showing{transform:none}}@media (max-width:767.98px){.offcanvas-md.hiding,.offcanvas-md.show,.offcanvas-md.showing{visibility:visible}}@media (min-width:768px){.offcanvas-md{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-md .offcanvas-header{display:none}.offcanvas-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:991.98px){.offcanvas-lg{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:991.98px) and (prefers-reduced-motion:reduce){.offcanvas-lg{transition:none}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:991.98px){.offcanvas-lg.show:not(.hiding),.offcanvas-lg.showing{transform:none}}@media (max-width:991.98px){.offcanvas-lg.hiding,.offcanvas-lg.show,.offcanvas-lg.showing{visibility:visible}}@media (min-width:992px){.offcanvas-lg{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-lg .offcanvas-header{display:none}.offcanvas-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1199.98px){.offcanvas-xl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:1199.98px) and (prefers-reduced-motion:reduce){.offcanvas-xl{transition:none}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:1199.98px){.offcanvas-xl.show:not(.hiding),.offcanvas-xl.showing{transform:none}}@media (max-width:1199.98px){.offcanvas-xl.hiding,.offcanvas-xl.show,.offcanvas-xl.showing{visibility:visible}}@media (min-width:1200px){.offcanvas-xl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xl .offcanvas-header{display:none}.offcanvas-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1399.98px){.offcanvas-xxl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}}@media (max-width:1399.98px) and (prefers-reduced-motion:reduce){.offcanvas-xxl{transition:none}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}}@media (max-width:1399.98px){.offcanvas-xxl.show:not(.hiding),.offcanvas-xxl.showing{transform:none}}@media (max-width:1399.98px){.offcanvas-xxl.hiding,.offcanvas-xxl.show,.offcanvas-xxl.showing{visibility:visible}}@media (min-width:1400px){.offcanvas-xxl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xxl .offcanvas-header{display:none}.offcanvas-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}.offcanvas{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas.show:not(.hiding),.offcanvas.showing{transform:none}.offcanvas.hiding,.offcanvas.show,.offcanvas.showing{visibility:visible}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x)}.offcanvas-header .btn-close{padding:calc(var(--bs-offcanvas-padding-y) * .5) calc(var(--bs-offcanvas-padding-x) * .5);margin-top:calc(-.5 * var(--bs-offcanvas-padding-y));margin-right:calc(-.5 * var(--bs-offcanvas-padding-x));margin-bottom:calc(-.5 * var(--bs-offcanvas-padding-y))}.offcanvas-title{margin-bottom:0;line-height:1.5}.offcanvas-body{flex-grow:1;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);overflow-y:auto}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.text-bg-primary{color:#fff!important;background-color:RGBA(13,110,253,var(--bs-bg-opacity,1))!important}.text-bg-secondary{color:#fff!important;background-color:RGBA(108,117,125,var(--bs-bg-opacity,1))!important}.text-bg-success{color:#fff!important;background-color:RGBA(25,135,84,var(--bs-bg-opacity,1))!important}.text-bg-info{color:#000!important;background-color:RGBA(13,202,240,var(--bs-bg-opacity,1))!important}.text-bg-warning{color:#000!important;background-color:RGBA(255,193,7,var(--bs-bg-opacity,1))!important}.text-bg-danger{color:#fff!important;background-color:RGBA(220,53,69,var(--bs-bg-opacity,1))!important}.text-bg-light{color:#000!important;background-color:RGBA(248,249,250,var(--bs-bg-opacity,1))!important}.text-bg-dark{color:#fff!important;background-color:RGBA(33,37,41,var(--bs-bg-opacity,1))!important}.link-primary{color:#0d6efd!important}.link-primary:focus,.link-primary:hover{color:#0a58ca!important}.link-secondary{color:#6c757d!important}.link-secondary:focus,.link-secondary:hover{color:#565e64!important}.link-success{color:#198754!important}.link-success:focus,.link-success:hover{color:#146c43!important}.link-info{color:#0dcaf0!important}.link-info:focus,.link-info:hover{color:#3dd5f3!important}.link-warning{color:#ffc107!important}.link-warning:focus,.link-warning:hover{color:#ffcd39!important}.link-danger{color:#dc3545!important}.link-danger:focus,.link-danger:hover{color:#b02a37!important}.link-light{color:#f8f9fa!important}.link-light:focus,.link-light:hover{color:#f9fafb!important}.link-dark{color:#212529!important}.link-dark:focus,.link-dark:hover{color:#1a1e21!important}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-sm-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-md-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-lg-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xxl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentcolor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-0{border:0!important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-top-0{border-top:0!important}.border-end{border-right:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-start-0{border-left:0!important}.border-primary{--bs-border-opacity:1;border-color:rgba(var(--bs-primary-rgb),var(--bs-border-opacity))!important}.border-secondary{--bs-border-opacity:1;border-color:rgba(var(--bs-secondary-rgb),var(--bs-border-opacity))!important}.border-success{--bs-border-opacity:1;border-color:rgba(var(--bs-success-rgb),var(--bs-border-opacity))!important}.border-info{--bs-border-opacity:1;border-color:rgba(var(--bs-info-rgb),var(--bs-border-opacity))!important}.border-warning{--bs-border-opacity:1;border-color:rgba(var(--bs-warning-rgb),var(--bs-border-opacity))!important}.border-danger{--bs-border-opacity:1;border-color:rgba(var(--bs-danger-rgb),var(--bs-border-opacity))!important}.border-light{--bs-border-opacity:1;border-color:rgba(var(--bs-light-rgb),var(--bs-border-opacity))!important}.border-dark{--bs-border-opacity:1;border-color:rgba(var(--bs-dark-rgb),var(--bs-border-opacity))!important}.border-white{--bs-border-opacity:1;border-color:rgba(var(--bs-white-rgb),var(--bs-border-opacity))!important}.border-1{--bs-border-width:1px}.border-2{--bs-border-width:2px}.border-3{--bs-border-width:3px}.border-4{--bs-border-width:4px}.border-5{--bs-border-width:5px}.border-opacity-10{--bs-border-opacity:0.1}.border-opacity-25{--bs-border-opacity:0.25}.border-opacity-50{--bs-border-opacity:0.5}.border-opacity-75{--bs-border-opacity:0.75}.border-opacity-100{--bs-border-opacity:1}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-light{font-weight:300!important}.fw-lighter{font-weight:lighter!important}.fw-normal{font-weight:400!important}.fw-bold{font-weight:700!important}.fw-semibold{font-weight:600!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:#6c757d!important}.text-black-50{--bs-text-opacity:1;color:rgba(0,0,0,.5)!important}.text-white-50{--bs-text-opacity:1;color:rgba(255,255,255,.5)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:0.25}.text-opacity-50{--bs-text-opacity:0.5}.text-opacity-75{--bs-text-opacity:0.75}.text-opacity-100{--bs-text-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-opacity-10{--bs-bg-opacity:0.1}.bg-opacity-25{--bs-bg-opacity:0.25}.bg-opacity-50{--bs-bg-opacity:0.5}.bg-opacity-75{--bs-bg-opacity:0.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:var(--bs-border-radius)!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:var(--bs-border-radius-sm)!important}.rounded-2{border-radius:var(--bs-border-radius)!important}.rounded-3{border-radius:var(--bs-border-radius-lg)!important}.rounded-4{border-radius:var(--bs-border-radius-xl)!important}.rounded-5{border-radius:var(--bs-border-radius-2xl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--bs-border-radius-pill)!important}.rounded-top{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-end{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-bottom{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-start{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}`,""]);var V=new CSSStyleSheet;V.replaceSync(T.toString());const G=V},48744:t=>{"use strict";t.exports=TypeError},48777:(t,e,r)=>{"use strict";var n=r(72478),i=r(90897),o=r(94698),a=r(25359),s=r(9994),l=r(7999),c=r(97e3),d=r(23754),u=r(22366),h=r(54387);function f(t,e){for(var r=e[0],n=e[1],o=1/(e[2]-r),a=1/(e[3]-n),s=new Array(t.length),l=0,c=t.length/2;l<c;l++)s[2*l]=i((t[2*l]-r)*o,0,1),s[2*l+1]=i((t[2*l+1]-n)*a,0,1);return s}t.exports=function(t,e){e||(e={}),t=c(t,"float64"),e=s(e,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var r=l(e.maxDepth,255),i=l(e.bounds,a(t,2));i[0]===i[2]&&i[2]++,i[1]===i[3]&&i[3]++;var p,m=f(t,i),g=t.length>>>1;e.dtype||(e.dtype="array"),"string"==typeof e.dtype?p=new(u(e.dtype))(g):e.dtype&&(p=e.dtype,Array.isArray(p)&&(p.length=g));for(var b=0;b<g;++b)p[b]=b;var v=[],y=[],x=[],w=[];!function t(e,n,i,o,a,s){if(!o.length)return null;var l=v[a]||(v[a]=[]),c=x[a]||(x[a]=[]),d=y[a]||(y[a]=[]),u=l.length;if(++a>r||s>1073741824){for(var h=0;h<o.length;h++)l.push(o[h]),c.push(s),d.push(null,null,null,null);return u}if(l.push(o[0]),c.push(s),o.length<=1)return d.push(null,null,null,null),u;for(var f=.5*i,p=e+f,g=n+f,b=[],w=[],_=[],k=[],A=1,T=o.length;A<T;A++){var M=o[A],S=m[2*M],E=m[2*M+1];S<p?E<g?b.push(M):w.push(M):E<g?_.push(M):k.push(M)}return s<<=2,d.push(t(e,n,f,b,a,s),t(e,g,f,w,a,s+1),t(p,n,f,_,a,s+2),t(p,g,f,k,a,s+3)),u}(0,0,1,p,0,1);for(var _=0,k=0;k<v.length;k++){var A=v[k];if(p.set)p.set(A,_);else for(var T=0,M=A.length;T<M;T++)p[T+_]=A[T];var S=_+v[k].length;w[k]=[_,S],_=S}return p.range=function(){for(var e,r=[],a=arguments.length;a--;)r[a]=arguments[a];if(d(r[r.length-1])){var c=r.pop();r.length||null==c.x&&null==c.l&&null==c.left||(r=[c],e={}),e=s(c,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else e={};r.length||(r=i);var u,p=o.apply(void 0,r),m=[Math.min(p.x,p.x+p.width),Math.min(p.y,p.y+p.height),Math.max(p.x,p.x+p.width),Math.max(p.y,p.y+p.height)],g=m[0],b=m[1],_=m[2],k=m[3],A=f([g,b,_,k],i),T=A[0],M=A[1],S=A[2],C=A[3],z=l(e.level,v.length);null!=e.d&&("number"==typeof e.d?u=[e.d,e.d]:e.d.length&&(u=e.d),z=Math.min(Math.max(Math.ceil(-h(Math.abs(u[0])/(i[2]-i[0]))),Math.ceil(-h(Math.abs(u[1])/(i[3]-i[1])))),z));if(z=Math.min(z,v.length),e.lod)return function(t,e,r,i,o){for(var a=[],s=0;s<o;s++){var l=x[s],c=w[s][0],d=E(t,e,s),u=E(r,i,s),h=n.ge(l,d),f=n.gt(l,u,h,l.length-1);a[s]=[h+c,f+c]}return a}(T,M,S,C,z);var L=[];return function e(r,n,i,o,a,s){if(null!==a&&null!==s&&!(T>r+i||M>n+i||S<r||C<n||o>=z||a===s)){var l=v[o];void 0===s&&(s=l.length);for(var c=a;c<s;c++){var d=l[c],u=t[2*d],h=t[2*d+1];u>=g&&u<=_&&h>=b&&h<=k&&L.push(d)}var f=y[o],p=f[4*a+0],m=f[4*a+1],x=f[4*a+2],w=f[4*a+3],A=function(t,e){for(var r=null,n=0;null===r;)if(r=t[4*e+n],++n>t.length)return null;return r}(f,a+1),E=.5*i,O=o+1;e(r,n,E,O,p,m||x||w||A),e(r,n+E,E,O,m,x||w||A),e(r+E,n,E,O,x,w||A),e(r+E,n+E,E,O,w,A)}}(0,0,1,0,0,1),L},p;function E(t,e,r){for(var n=1,i=.5,o=.5,a=.5,s=0;s<r;s++)n<<=2,n+=t<i?e<o?0:1:e<o?2:3,a*=.5,i+=t<i?-a:a,o+=e<o?-a:a;return n}}},49114:t=>{"use strict";t.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc",description:["Determines how scatter points at the same location coordinate","are displayed on the graph.","With *group*, the scatter points are plotted next to one another","centered around the shared location.","With *overlay*, the scatter points are plotted over one another,","you might need to reduce *opacity* to see multiple scatter points."].join(" ")},scattergap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between scatter points of","adjacent location coordinates.","Defaults to `bargap`."].join(" ")}}},49244:(t,e,r)=>{"use strict";var n=r(12822).strTranslate,i=r(19846),o=r(14295),a=o.drawMode,s=o.selectMode,l=r(25059),c=r(17499),d=r(81436),u=d.i000,h=d.i090,f=d.i180,p=d.i270,m=r(8867).clearOutlineControllers,g=r(59952),b=g.pointsOnRectangle,v=g.pointsOnEllipse,y=g.writePaths,x=r(81941).newShapes,w=r(81941).createShapeObj,_=r(63750),k=r(64620);function A(t,e){var r,n,i,o=t[e][1],a=t[e][2],s=t.length;return n=t[r=(e+1)%s][1],i=t[r][2],n===o&&i===a&&(n=t[r=(e+2)%s][1],i=t[r][2]),[r,n,i]}t.exports=function t(e,r,o,d){d||(d=0);var g=o.gd;function T(){t(e,r,o,d++),(v(e[0])||o.hasText)&&M({redrawing:!0})}function M(t){var e={};void 0!==o.isActiveShape&&(o.isActiveShape=!1,e=x(r,o)),void 0!==o.isActiveSelection&&(o.isActiveSelection=!1,e=_(r,o),g._fullLayout._reselect=!0),Object.keys(e).length&&l.call((t||{}).redrawing?"relayout":"_guiRelayout",g,e)}var S,E,C,z,L,O=g._fullLayout._zoomlayer,D=o.dragmode,I=a(D),F=s(D);if((I||F)&&(g._fullLayout._outlining=!0),m(g),r.attr("d",y(e)),d||!o.isActiveShape&&!o.isActiveSelection||(L=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];t[r]=[];for(var i=0;i<n.length;i++){t[r][i]=[];for(var o=0;o<n[i].length;o++)t[r][i][o]=n[i][o]}}return t}([],e),function(t){S=[];for(var r=0;r<e.length;r++){var a=e[r],s=b(a),l=!s&&v(a);S[r]=[];for(var d=a.length,m=0;m<d;m++)if("Z"!==a[m][0]&&(!l||m===u||m===h||m===f||m===p)){var y,x=s&&o.isActiveSelection;x&&(y=A(a,m));var w=a[m][1],_=a[m][2],k=t.append(x?"rect":"circle").attr("data-i",r).attr("data-j",m).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(x){var T=y[1]-w,M=y[2]-_,E=M?5:Math.max(Math.min(25,Math.abs(T)-5),5),C=T?5:Math.max(Math.min(25,Math.abs(M)-5),5);k.classed(M?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",E).attr("height",C).attr("x",w-E/2).attr("y",_-C/2).attr("transform",n(T/2,M/2))}else k.classed("cursor-grab",!0).attr("r",5).attr("cx",w).attr("cy",_);S[r][m]={element:k.node(),gd:g,prepFn:j,doneFn:B,clickFn:U},i.init(S[r][m])}}}(O.append("g").attr("class","outline-controllers")),function(){if(E=[],e.length){E[0]={element:r[0][0],gd:g,prepFn:G,doneFn:H,clickFn:W},i.init(E[0])}}()),I&&o.hasText){var R=O.select(".label-temp"),P=w(r,o,o.dragmode);k(g,"label-temp",P,R)}function j(t){C=+t.srcElement.getAttribute("data-i"),z=+t.srcElement.getAttribute("data-j"),S[C][z].moveFn=N}function N(t,r){if(e.length){var n=L[C][z][1],i=L[C][z][2],a=e[C],s=a.length;if(b(a)){var l=t,c=r;o.isActiveSelection&&(A(a,z)[1]===a[z][1]?c=0:l=0);for(var d=0;d<s;d++)if(d!==z){var u=a[d];u[1]===a[z][1]&&(u[1]=n+l),u[2]===a[z][2]&&(u[2]=i+c)}if(a[z][1]=n+l,a[z][2]=i+c,!b(a))for(var h=0;h<s;h++)for(var f=0;f<a[h].length;f++)a[h][f]=L[C][h][f]}else a[z][1]=n+t,a[z][2]=i+r;T()}}function B(){M()}function U(t,r){if(2===t){C=+r.srcElement.getAttribute("data-i"),z=+r.srcElement.getAttribute("data-j");var n=e[C];b(n)||v(n)||function(){if(e.length&&e[C]&&e[C].length){for(var t=[],r=0;r<e[C].length;r++)r!==z&&t.push(e[C][r]);t.length>1&&(2!==t.length||"Z"!==t[1][0])&&(0===z&&(t[0][0]="M"),e[C]=t,T(),M())}}()}}function V(t,r){!function(t,r){if(e.length)for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)for(var o=0;o+2<e[n][i].length;o+=2)e[n][i][o+1]=L[n][i][o+1]+t,e[n][i][o+2]=L[n][i][o+2]+r}(t,r),T()}function G(t){(C=+t.srcElement.getAttribute("data-i"))||(C=0),E[C].moveFn=V}function H(){M()}function W(t){2===t&&function(t){if(s(t._fullLayout.dragmode)){m(t);var e=t._fullLayout._activeSelectionIndex,r=(t.layout||{}).selections||[];if(e<r.length){for(var n=[],i=0;i<r.length;i++)i!==e&&n.push(r[i]);delete t._fullLayout._activeSelectionIndex;var o=t._fullLayout.selections[e];t._fullLayout._deselect={xref:o.xref,yref:o.yref},l.call("_guiRelayout",t,{selections:n})}}}(g)}}},49342:(t,e,r)=>{"use strict";var n=r(84696),i=r(12822).isArrayOrTypedArray,o=r(98507).isTypedArraySpec,a=r(98507).decodeTypedArraySpec;t.exports=function(t,e,r,s,l){l||(l={});var c=l.isMinor,d=c?t.minor||{}:t,u=c?e.minor:e,h=c?"minor.":"";function f(t){var e=d[t];return o(e)&&(e=a(e)),void 0!==e?e:(u._template||{})[t]}var p=f("tick0"),m=f("dtick"),g=f("tickvals"),b=r(h+"tickmode",i(g)?"array":m?"linear":"auto");if("auto"===b||"sync"===b)r(h+"nticks");else if("linear"===b){var v=u.dtick=n.dtick(m,s);u.tick0=n.tick0(p,s,e.calendar,v)}else"multicategory"!==s&&(void 0===r(h+"tickvals")?u.tickmode="auto":c||r("ticktext"))}},49538:t=>{"use strict";t.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},49826:t=>{"use strict";t.exports=function(t,e,r){var n,i;if(r){var o="reversed"===e||"min reversed"===e||"max reversed"===e;n=r[o?1:0],i=r[o?0:1]}var a=t("autorangeoptions.minallowed",null===i?n:void 0),s=t("autorangeoptions.maxallowed",null===n?i:void 0);void 0===a&&t("autorangeoptions.clipmin"),void 0===s&&t("autorangeoptions.clipmax"),t("autorangeoptions.include")}},49921:t=>{t.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],d=t[9],u=t[10],h=t[11],f=t[12],p=t[13],m=t[14],g=t[15];return(e*a-r*o)*(u*g-h*m)-(e*s-n*o)*(d*g-h*p)+(e*l-i*o)*(d*m-u*p)+(r*s-n*a)*(c*g-h*f)-(r*l-i*a)*(c*m-u*f)+(n*l-i*s)*(c*p-d*f)}},49957:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=r(677),a=r(86277),s=r(51725),l=r(46574),c=r(42674);t.exports=function(t,e,r,d){function u(r,n){return i.coerce(t,e,c,r,n)}var h=function(t,e,r,i){var o=0,a=r("x"),s=r("y"),l=r("z");return n.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y","z"],i),a&&s&&l&&(o=Math.min(a.length,s.length,l.length),e._length=e._xlength=e._ylength=e._zlength=o),o}(t,e,u,d);if(h){u("text"),u("hovertext"),u("hovertemplate"),u("hovertemplatefallback"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),o.hasMarkers(e)&&a(t,e,r,d,u,{noSelect:!0,noAngle:!0}),o.hasLines(e)&&(u("connectgaps"),s(t,e,r,d,u)),o.hasText(e)&&(u("texttemplate"),u("texttemplatefallback"),l(t,e,d,u,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var f=(e.line||{}).color,p=(e.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",f||p);for(var m=["x","y","z"],g=0;g<3;++g){var b="projection."+m[g];u(b+".show")&&(u(b+".opacity"),u(b+".scale"))}var v=n.getComponentMethod("errorbars","supplyDefaults");v(t,e,f||p||r,{axis:"z"}),v(t,e,f||p||r,{axis:"y",inherit:"z"}),v(t,e,f||p||r,{axis:"x",inherit:"z"})}else e.visible=!1}},50305:(t,e,r)=>{"use strict";var n=r(12517),i=r(51648),o=r(64347),a=r(45380).sorterAsc,s=r(25059);e.containerArrayMatch=r(81776);var l=e.isAddVal=function(t){return"add"===t||n(t)},c=e.isRemoveVal=function(t){return null===t||"remove"===t};e.applyContainerArrayChanges=function(t,e,r,n,d){var u=e.astr,h=s.getComponentMethod(u,"supplyLayoutDefaults"),f=s.getComponentMethod(u,"draw"),p=s.getComponentMethod(u,"drawOne"),m=n.replot||n.recalc||h===i||f===i,g=t.layout,b=t._fullLayout;if(r[""]){Object.keys(r).length>1&&o.warn("Full array edits are incompatible with other edits",u);var v=r[""][""];if(c(v))e.set(null);else{if(!Array.isArray(v))return o.warn("Unrecognized full array edit value",u,v),!0;e.set(v)}return!m&&(h(g,b),f(t),!0)}var y,x,w,_,k,A,T,M,S=Object.keys(r).map(Number).sort(a),E=e.get(),C=E||[],z=d(b,u).get(),L=[],O=-1,D=C.length;for(y=0;y<S.length;y++)if(_=r[w=S[y]],k=Object.keys(_),A=_[""],T=l(A),w<0||w>C.length-(T?0:1))o.warn("index out of range",u,w);else if(void 0!==A)k.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",u,w),c(A)?L.push(w):T?("add"===A&&(A={}),C.splice(w,0,A),z&&z.splice(w,0,{})):o.warn("Unrecognized full object edit value",u,w,A),-1===O&&(O=w);else for(x=0;x<k.length;x++)M=u+"["+w+"].",d(C[w],k[x],M).set(_[k[x]]);for(y=L.length-1;y>=0;y--)C.splice(L[y],1),z&&z.splice(L[y],1);if(C.length?E||e.set(C):e.set(null),m)return!1;if(h(g,b),p!==i){var I;if(-1===O)I=S;else{for(D=Math.max(C.length,D),I=[],y=0;y<S.length&&!((w=S[y])>=O);y++)I.push(w);for(y=O;y<D;y++)I.push(y)}for(y=0;y<I.length;y++)p(t,I[y])}else f(t);return!0}},50317:(t,e,r)=>{"use strict";var n=r(10781),i=r(29419);t.exports=function(){var t=i();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},50406:(t,e,r)=>{"use strict";var n=r(74165),i=/[\n\r\u2028\u2029]/g;t.exports=function(t){var e=n(t);return null===e?"<Non-coercible to string value>":(e.length>100&&(e=e.slice(0,99)+""),e=e.replace(i,(function(t){switch(t){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},50459:(t,e,r)=>{"use strict";var n=r(59412),i=r(11491),o=i([n("%String.prototype.indexOf%")]);t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i([r]):r}},50917:t=>{"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},51137:(t,e,r)=>{"use strict";var n=r(27941),i=r(79969).de,o=r(31830).OE,a=r(7370),s=r(44514),l=r(25059),c=r(35852),d=r(46121),u=r(12822),h=r(17499),f=r(32994).BADNUM,p=r(99246),m=r(8867).clearOutline,g=r(49114),b=r(46367),v=r(53874),y=r(47388).eV,x=u.relinkPrivateKeys,w=u._,_=t.exports={};u.extendFlat(_,l),_.attributes=r(3520),_.attributes.type.values=_.allTypes,_.fontAttrs=r(75058),_.layoutAttributes=r(13195);var k=r(74036);_.executeAPICommand=k.executeAPICommand,_.computeAPICommandBindings=k.computeAPICommandBindings,_.manageCommandObserver=k.manageCommandObserver,_.hasSimpleAPICommandBindings=k.hasSimpleAPICommandBindings,_.redrawText=function(t){return t=u.getGraphDiv(t),new Promise((function(e){setTimeout((function(){t._fullLayout&&(l.getComponentMethod("annotations","draw")(t),l.getComponentMethod("legend","draw")(t),l.getComponentMethod("colorbar","draw")(t),e(_.previousPromises(t)))}),300)}))},_.resize=function(t){var e;t=u.getGraphDiv(t);var r=new Promise((function(r,n){t&&!u.isHidden(t)||n(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=r,t._redrawTimer=setTimeout((function(){if(!t.layout||t.layout.width&&t.layout.height||u.isHidden(t))r(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,l.call("relayout",t,{autosize:!0}).then((function(){t.changed=e,t._resolveResize===r&&(delete t._resolveResize,r(t))}))}}),100)}));return e&&e(r),r},_.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then((function(){t._promises=[]}))},_.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,r=u.ensureSingle(e._paper,"text","js-plot-link-container",(function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:h.defaultLine,"pointer-events":"all"}).each((function(){var t=n.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}))})),i=r.node(),o={y:e._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=e.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=e._paper.attr("width")-7),r.attr(o);var a=r.select(".js-link-to-tool"),s=r.select(".js-link-spacer"),l=r.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var r=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)r.on("click",(function(){_.sendDataToCloud(t)}));else{var n=window.location.pathname.split("/"),i=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[2].split(".")[0]+"/"+n[1]+i})}}(t,a),s.text(a.text()&&l.text()?" - ":"")}},_.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var r=n.select(t).append("div").attr("id","hiddenform").style("display","none"),i=r.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=_.graphJson(t,!1,"keepdata"),i.node().submit(),r.remove(),t.emit("plotly_afterexport"),!1}};var A=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],T=["year","month","dayMonth","dayMonthYear"];function M(t,e){var r=t._context.locale;r||(r="en-US");var n=!1,i={};function o(t){for(var r=!0,o=0;o<e.length;o++){var a=e[o];i[a]||(t[a]?i[a]=t[a]:r=!1)}r&&(n=!0)}for(var a=0;a<2;a++){for(var s=t._context.locales,c=0;c<2;c++){var d=(s[r]||{}).format;if(d&&(o(d),n))break;s=l.localeRegistry}var u=r.split("-")[0];if(n||u===r)break;r=u}return n||o(l.localeRegistry.en.format),i}function S(t,e){var r={_fullLayout:e},n="x"===t._id.charAt(0),i=t._mainAxis._anchorAxis,o="",a="",s="";if(i&&(s=i._mainAxis._id,o=n?t._id+s:s+t._id),!o||!e._plots[o]){o="";for(var l=t._counterAxes,c=0;c<l.length;c++){var d=l[c],u=n?t._id+d:d+t._id;a||(a=u);var h=p.getFromId(r,d);if(s&&h.overlaying===s){o=u;break}}}return o||a}function E(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function C(t){var e=t.margin;if(!t._size){var r=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};r.w=Math.round(t.width)-r.l-r.r,r.h=Math.round(t.height)-r.t-r.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={}),t._reservedMargin||(t._reservedMargin={})}_.supplyDefaults=function(t,e){var r=e&&e.skipUpdateCalc,n=t._fullLayout||{};if(n._skipDefaults)delete n._skipDefaults;else{var a,s=t._fullLayout={},c=t.layout||{},d=t._fullData||[],h=t._fullData=[],f=t.data||[],p=t.calcdata||[],g=t._context||{};t._transitionData||_.createTransitionData(t),s._dfltTitle={plot:w(t,"Click to enter Plot title"),subtitle:w(t,"Click to enter Plot subtitle"),x:w(t,"Click to enter X axis title"),y:w(t,"Click to enter Y axis title"),colorbar:w(t,"Click to enter Colorscale title"),annotation:w(t,"new text")},s._traceWord=w(t,"trace");var b=M(t,A);if(s._mapboxAccessToken=g.mapboxAccessToken,n._initialAutoSizeIsDone){var v=n.width,y=n.height;_.supplyLayoutGlobalDefaults(c,s,b),c.width||(s.width=v),c.height||(s.height=y),_.sanitizeMargins(s)}else{_.supplyLayoutGlobalDefaults(c,s,b);var k=!c.width||!c.height,S=s.autosize,E=g.autosizable;k&&(S||E)?_.plotAutoSize(t,c,s):k&&_.sanitizeMargins(s),!S&&k&&(c.width=s.width,c.height=s.height)}s._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(e){try{e=o(t).format(u.adjustFormat(e))}catch(t){return u.warnBadFormat(e),u.noFormat}return e},timeFormat:i(t).utcFormat}}(b,s.separators),s._extraFormat=M(t,T),s._initialAutoSizeIsDone=!0,s._dataLength=f.length,s._modules=[],s._visibleModules=[],s._basePlotModules=[];var z=s._subplots=function(){var t,e,r=l.collectableSubplotTypes,n={};if(!r){r=[];var i=l.subplotsRegistry;for(var o in i){var a=i[o].attr;if(a&&(r.push(o),Array.isArray(a)))for(e=0;e<a.length;e++)u.pushUnique(r,a[e])}}for(t=0;t<r.length;t++)n[r[t]]=[];return n}(),L=s._splomAxes={x:{},y:{}},O=s._splomSubplots={};s._splomGridDflt={},s._scatterStackOpts={},s._firstScatter={},s._alignmentOpts={},s._colorAxes={},s._requestRangeslider={},s._traceUids=function(t,e){var r,n,i=e.length,o=[];for(r=0;r<t.length;r++){var a=t[r]._fullInput;a!==n&&o.push(a),n=a}var s=o.length,l=new Array(i),c={};function d(t,e){l[e]=t,c[t]=1}function h(t,e){if(t&&"string"==typeof t&&!c[t])return d(t,e),!0}for(r=0;r<i;r++){var f=e[r].uid;"number"==typeof f&&(f=String(f)),h(f,r)||r<s&&h(o[r].uid,r)||d(u.randstr(c),r)}return l}(d,f),_.supplyDataDefaults(f,h,c,s);var D=Object.keys(L.x),I=Object.keys(L.y);if(D.length>1&&I.length>1){for(l.getComponentMethod("grid","sizeDefaults")(c,s),a=0;a<D.length;a++)u.pushUnique(z.xaxis,D[a]);for(a=0;a<I.length;a++)u.pushUnique(z.yaxis,I[a]);for(var F in O)u.pushUnique(z.cartesian,F)}if(s._has=_._hasPlotType.bind(s),d.length===h.length)for(a=0;a<h.length;a++)x(h[a],d[a]);_.supplyLayoutModuleDefaults(c,s,h,t._transitionData);var R=s._visibleModules,P=[];for(a=0;a<R.length;a++){var j=R[a].crossTraceDefaults;j&&u.pushUnique(P,j)}for(a=0;a<P.length;a++)P[a](h,s);s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&D.length>15&&I.length>15&&0===s.shapes.length&&0===s.images.length,_.linkSubplots(h,s,d,n),_.cleanPlot(h,s,d,n);var N=!(!n._has||!n._has("cartesian")),B=!(!s._has||!s._has("cartesian"));N&&!B?n._bgLayer.remove():B&&!N&&(s._shouldCreateBgLayer=!0),n._zoomlayer&&!t._dragging&&m({_fullLayout:n}),function(t,e){var r,n=[];e.meta&&(r=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var o=t[i];o.meta?n[o.index]=o._meta={meta:o.meta}:e.meta&&(o._meta={meta:e.meta}),e.meta&&(o._meta.layout={meta:e.meta})}n.length&&(r||(r=e._meta={}),r.data=n)}(h,s),x(s,n),l.getComponentMethod("colorscale","crossTraceDefaults")(h,s),s._preGUI||(s._preGUI={}),s._tracePreGUI||(s._tracePreGUI={});var U,V=s._tracePreGUI,G={};for(U in V)G[U]="old";for(a=0;a<h.length;a++)G[U=h[a]._fullInput.uid]||(V[U]={}),G[U]="new";for(U in G)"old"===G[U]&&delete V[U];C(s),l.getComponentMethod("rangeslider","makeData")(s),r||p.length!==h.length||_.supplyDefaultsUpdateCalc(p,h)}},_.supplyDefaultsUpdateCalc=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=(t[r]||[])[0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform){var a,s,l,c=o._arrayAttrs;for(a=0;a<c.length;a++)s=c[a],l=u.nestedProperty(o,s).get().slice(),u.nestedProperty(n,s).set(l)}i.trace=n}}},_.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},_._hasPlotType=function(t){var e,r=this._basePlotModules||[];for(e=0;e<r.length;e++)if(r[e].name===t)return!0;var n=this._modules||[];for(e=0;e<n.length;e++){var i=n[e].name;if(i===t)return!0;var o=l.modules[i];if(o&&o.categories[t])return!0}return!1},_.cleanPlot=function(t,e,r,n){var i,o,a=n._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(t,e,r,n)}var l=n._has&&n._has("gl"),c=e._has&&e._has("gl");l&&!c&&void 0!==n._glcontainer&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.selectAll(".no-webgl").remove(),n._glcanvas=null);var d=!!n._infolayer;t:for(i=0;i<r.length;i++){var u=r[i].uid;for(o=0;o<t.length;o++)if(u===t[o].uid)continue t;d&&n._infolayer.select(".cb"+u).remove()}},_.linkSubplots=function(t,e,r,n){var i,o,a=n._plots||{},s=e._plots={},c={_fullData:t,_fullLayout:e},d=e._subplots.cartesian||[];for(i=0;i<d.length;i++){var h,f=d[i],m=a[f],g=p.getFromId(c,f,"x"),b=p.getFromId(c,f,"y");for(m?h=s[f]=m:(h=s[f]={}).id=f,g._counterAxes.push(b._id),b._counterAxes.push(g._id),g._subplotsWith.push(f),b._subplotsWith.push(f),h.xaxis=g,h.yaxis=b,h._hasClipOnAxisFalse=!1,o=0;o<t.length;o++){var v=t[o];if(v.xaxis===h.xaxis._id&&v.yaxis===h.yaxis._id&&!1===v.cliponaxis){h._hasClipOnAxisFalse=!0;break}}}var y,x=p.list(c,null,!0);for(i=0;i<x.length;i++){var w=null;(y=x[i]).overlaying&&(w=p.getFromId(c,y.overlaying))&&w.overlaying&&(y.overlaying=!1,w=null),y._mainAxis=w||y,w&&(y.domain=w.domain.slice()),y._anchorAxis="free"===y.anchor?null:p.getFromId(c,y.anchor)}for(i=0;i<x.length;i++)if((y=x[i])._counterAxes.sort(p.idSort),y._subplotsWith.sort(u.subplotSort),y._mainSubplot=S(y,e),y._counterAxes.length&&(y.spikemode&&-1!==y.spikemode.indexOf("across")||y.automargin&&y.mirror&&"free"!==y.anchor||l.getComponentMethod("rangeslider","isVisible")(y))){var _=1,k=0;for(o=0;o<y._counterAxes.length;o++){var A=p.getFromId(c,y._counterAxes[o]);_=Math.min(_,A.domain[0]),k=Math.max(k,A.domain[1])}_<k&&(y._counterDomainMin=_,y._counterDomainMax=k)}},_.clearExpandedTraceDefaultColors=function(t){var e,r,n;for(r=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],c.crawl(t._module.attributes,(function(t,n,i,o){r[o]=n,r.length=o+1,"color"===t.valType&&void 0===t.dflt&&e.push(r.join("."))}))),n=0;n<e.length;n++)u.nestedProperty(t,"_input."+e[n]).get()||u.nestedProperty(t,e[n]).set(null)},_.supplyDataDefaults=function(t,e,r,n){var i,o,a,s=n._modules,c=n._visibleModules,h=n._basePlotModules,f=0;function p(t){e.push(t);var r=t._module;r&&(u.pushUnique(s,r),!0===t.visible&&u.pushUnique(c,r),u.pushUnique(h,t._module.basePlotModule),!1!==t._input.visible&&f++)}n._transformModules=[];var m={},g=[],b=(r.template||{}).data||{},v=d.traceTemplater(b);for(i=0;i<t.length;i++)a=t[i],(o=v.newTrace(a)).uid=n._traceUids[i],_.supplyTraceDefaults(a,o,f,n,i),o.index=i,o._input=a,o._fullInput=o,p(o),l.traceIs(o,"carpetAxis")&&(m[o.carpet]=o),l.traceIs(o,"carpetDependent")&&g.push(i);for(i=0;i<g.length;i++)if((o=e[g[i]]).visible){var y=m[o.carpet];o._carpet=y,y&&y.visible?(o.xaxis=y.xaxis,o.yaxis=y.yaxis):o.visible=!1}},_.supplyAnimationDefaults=function(t){var e;t=t||{};var r={};function n(e,n){return u.coerce(t||{},r,b,e,n)}if(n("mode"),n("direction"),n("fromcurrent"),Array.isArray(t.frame))for(r.frame=[],e=0;e<t.frame.length;e++)r.frame[e]=_.supplyAnimationFrameDefaults(t.frame[e]||{});else r.frame=_.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(r.transition=[],e=0;e<t.transition.length;e++)r.transition[e]=_.supplyAnimationTransitionDefaults(t.transition[e]||{});else r.transition=_.supplyAnimationTransitionDefaults(t.transition||{});return r},_.supplyAnimationFrameDefaults=function(t){var e={};function r(r,n){return u.coerce(t||{},e,b.frame,r,n)}return r("duration"),r("redraw"),e},_.supplyAnimationTransitionDefaults=function(t){var e={};function r(r,n){return u.coerce(t||{},e,b.transition,r,n)}return r("duration"),r("easing"),e},_.supplyFrameDefaults=function(t){var e={};function r(r,n){return u.coerce(t,e,v,r,n)}return r("group"),r("name"),r("traces"),r("baseframe"),r("data"),r("layout"),e},_.supplyTraceDefaults=function(t,e,r,n,i){var o,a=n.colorway||h.defaults,s=a[r%a.length];function c(r,n){return u.coerce(t,e,_.attributes,r,n)}var d=c("visible");c("type"),c("name",n._traceWord+" "+i),c("uirevision",n.uirevision);var f=_.getModule(e);if(e._module=f,f){var p=f.basePlotModule,m=p.attr,g=p.attributes;if(m&&g){var b=n._subplots,v="";if(Array.isArray(m))for(o=0;o<m.length;o++){var y=m[o],x=u.coerce(t,e,g,y);b[y]&&u.pushUnique(b[y],x),v+=x}else v=u.coerce(t,e,g,m);b[p.name]&&u.pushUnique(b[p.name],v)}}if(d&&(c("customdata"),c("ids"),c("meta"),l.traceIs(e,"showLegend")?(u.coerce(t,e,f.attributes.showlegend?f.attributes:_.attributes,"showlegend"),c("legend"),c("legendwidth"),c("legendgroup"),c("legendgrouptitle.text"),c("legendrank"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,f&&f.supplyDefaults(t,e,s,n),l.traceIs(e,"noOpacity")||c("opacity"),l.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),l.traceIs(e,"noHover")||(e.hovertemplate||u.coerceHoverinfo(t,e,n),"parcats"!==e.type&&l.getComponentMethod("fx","supplyDefaults")(t,e,s,n)),f&&f.selectPoints)){var w=c("selectedpoints");u.isTypedArray(w)&&(e.selectedpoints=Array.from(w))}return e},_.supplyLayoutGlobalDefaults=function(t,e,r){function n(r,n){return u.coerce(t,e,_.layoutAttributes,r,n)}var i=t.template;u.isPlainObject(i)&&(e.template=i,e._template=i.layout,e._dataTemplate=i.data),n("autotypenumbers");var o=u.coerceFont(n,"font"),a=o.size;u.coerceFont(n,"title.font",o,{overrideDflt:{size:Math.round(1.4*a)}}),n("title.text",e._dfltTitle.plot),n("title.xref");var s=n("title.yref");n("title.pad.t"),n("title.pad.r"),n("title.pad.b"),n("title.pad.l");var c=n("title.automargin");n("title.x"),n("title.xanchor"),n("title.y"),n("title.yanchor"),n("title.subtitle.text",e._dfltTitle.subtitle),u.coerceFont(n,"title.subtitle.font",o,{overrideDflt:{size:Math.round(.7*e.title.font.size)}}),c&&("paper"===s&&(0!==e.title.y&&(e.title.y=1),"auto"===e.title.yanchor&&(e.title.yanchor=0===e.title.y?"top":"bottom")),"container"===s&&("auto"===e.title.y&&(e.title.y=1),"auto"===e.title.yanchor&&(e.title.yanchor=e.title.y<.5?"bottom":"top"))),n("uniformtext.mode")&&n("uniformtext.minsize"),n("autosize",!(t.width&&t.height)),n("width"),n("height"),n("minreducedwidth"),n("minreducedheight"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),t.width&&t.height&&_.sanitizeMargins(e),l.getComponentMethod("grid","sizeDefaults")(t,e),n("paper_bgcolor"),n("separators",r.decimal+r.thousands),n("hidesources"),n("colorway"),n("datarevision");var d=n("uirevision");n("editrevision",d),n("selectionrevision",d),l.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),l.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,n),l.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(t,e,n),n("meta"),u.isPlainObject(t.transition)&&(n("transition.duration"),n("transition.easing"),n("transition.ordering")),l.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),l.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,n),u.coerce(t,e,g,"scattermode")},_.plotAutoSize=function(t,e,r){var n,i,o=t._context||{},s=o.frameMargins,l=u.isPlotDiv(t);if(l&&t.emit("plotly_autosize"),o.fillFrame)n=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=l?window.getComputedStyle(t):{};if(n=E(c.width)||E(c.maxWidth)||r.width,i=E(c.height)||E(c.maxHeight)||r.height,a(s)&&s>0){var d=1-2*s;n=Math.round(d*n),i=Math.round(d*i)}}var h=_.layoutAttributes.width.min,f=_.layoutAttributes.height.min;n<h&&(n=h),i<f&&(i=f);var p=!e.width&&Math.abs(r.width-n)>1,m=!e.height&&Math.abs(r.height-i)>1;(m||p)&&(p&&(r.width=n),m&&(r.height=i)),t._initialAutoSize||(t._initialAutoSize={width:n,height:i}),_.sanitizeMargins(r)},_.supplyLayoutModuleDefaults=function(t,e,r,n){var i,o,a,s=l.componentsRegistry,c=e._basePlotModules,d=l.subplotsRegistry.cartesian;for(i in s)(a=s[i]).includeBasePlot&&a.includeBasePlot(t,e);for(var h in c.length||c.push(d),e._has("cartesian")&&(l.getComponentMethod("grid","contentDefaults")(t,e),d.finalizeSubplots(t,e)),e._subplots)e._subplots[h].sort(u.subplotSort);for(o=0;o<c.length;o++)(a=c[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r);var f=e._modules;for(o=0;o<f.length;o++)(a=f[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r);var p=e._transformModules;for(o=0;o<p.length;o++)(a=p[o]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r,n);for(i in s)(a=s[i]).supplyLayoutDefaults&&a.supplyLayoutDefaults(t,e,r)},_.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),u.clearThrottle(),u.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},_.style=function(t){var e,r=t._fullLayout._visibleModules,n=[];for(e=0;e<r.length;e++){var i=r[e];i.style&&u.pushUnique(n,i.style)}for(e=0;e<n.length;e++)n[e](t)},_.sanitizeMargins=function(t){if(t&&t.margin){var e,r=t.width,n=t.height,i=t.margin,o=r-(i.l+i.r),a=n-(i.t+i.b);o<0&&(e=(r-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),a<0&&(e=(n-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},_.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},_.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1},_.autoMargin=function(t,e,r){var n=t._fullLayout,i=n.width,o=n.height,a=n.margin,s=n.minreducedwidth,l=n.minreducedheight,c=u.constrain(i-a.l-a.r,2,s),d=u.constrain(o-a.t-a.b,2,l),h=Math.max(0,i-c),f=Math.max(0,o-d),p=n._pushmargin,m=n._pushmarginIds;if(!1!==a.autoexpand){if(r){var g=r.pad;if(void 0===g&&(g=Math.min(12,a.l,a.r,a.t,a.b)),h){var b=(r.l+r.r)/h;b>1&&(r.l/=b,r.r/=b)}if(f){var v=(r.t+r.b)/f;v>1&&(r.t/=v,r.b/=v)}var y=void 0!==r.xl?r.xl:r.x,x=void 0!==r.xr?r.xr:r.x,w=void 0!==r.yt?r.yt:r.y,k=void 0!==r.yb?r.yb:r.y;p[e]={l:{val:y,size:r.l+g},r:{val:x,size:r.r+g},b:{val:k,size:r.b+g},t:{val:w,size:r.t+g}},m[e]=1}else delete p[e],delete m[e];if(!n._replotting)return _.doAutoMargin(t)}},_.doAutoMargin=function(t){var e=t._fullLayout,r=e.width,n=e.height;e._size||(e._size={}),C(e);var i=e._size,o=e.margin,s={t:0,b:0,l:0,r:0},c=u.extendFlat({},i),d=o.l,h=o.r,f=o.t,m=o.b,g=e._pushmargin,b=e._pushmarginIds,v=e.minreducedwidth,y=e.minreducedheight;if(!1!==o.autoexpand){for(var x in g)b[x]||delete g[x];var w=t._fullLayout._reservedMargin;for(var k in w)for(var A in w[k]){var T=w[k][A];s[A]=Math.max(s[A],T)}for(var M in g.base={l:{val:0,size:d},r:{val:1,size:h},t:{val:1,size:f},b:{val:0,size:m}},s){var S=0;for(var E in g)"base"!==E&&a(g[E][M].size)&&(S=g[E][M].size>S?g[E][M].size:S);var z=Math.max(0,o[M]-S);s[M]=Math.max(0,s[M]-z)}for(var L in g){var O=g[L].l||{},D=g[L].b||{},I=O.val,F=O.size,R=D.val,P=D.size,j=r-s.r-s.l,N=n-s.t-s.b;for(var B in g){if(a(F)&&g[B].r){var U=g[B].r.val,V=g[B].r.size;if(U>I){var G=(F*U+(V-j)*I)/(U-I),H=(V*(1-I)+(F-j)*(1-U))/(U-I);G+H>d+h&&(d=G,h=H)}}if(a(P)&&g[B].t){var W=g[B].t.val,q=g[B].t.size;if(W>R){var $=(P*W+(q-N)*R)/(W-R),Y=(q*(1-R)+(P-N)*(1-W))/(W-R);$+Y>m+f&&(m=$,f=Y)}}}}}var Z=u.constrain(r-o.l-o.r,2,v),X=u.constrain(n-o.t-o.b,2,y),J=Math.max(0,r-Z),Q=Math.max(0,n-X);if(J){var K=(d+h)/J;K>1&&(d/=K,h/=K)}if(Q){var tt=(m+f)/Q;tt>1&&(m/=tt,f/=tt)}if(i.l=Math.round(d)+s.l,i.r=Math.round(h)+s.r,i.t=Math.round(f)+s.t,i.b=Math.round(m)+s.b,i.p=Math.round(o.pad),i.w=Math.round(r)-i.l-i.r,i.h=Math.round(n)-i.t-i.b,!e._replotting&&(_.didMarginChange(c,i)||function(t){if("_redrawFromAutoMarginCount"in t._fullLayout)return!1;var e=p.list(t,"",!0);for(var r in e)if(e[r].autoshift||e[r].shift)return!0;return!1}(t))){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var et=3*(1+Object.keys(b).length);if(e._redrawFromAutoMarginCount<et)return l.call("_doPlot",t);e._size=c,u.warn("Too many auto-margin redraws.")}!function(t){var e=p.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(t){for(var r=0;r<e.length;r++){var n=e[r][t];n&&n()}}))}(t)};var z=["l","r","t","b","p","w","h"];function L(t,e,r){var n=!1,i=[_.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},r.prepareFn,_.rehover,_.reselect,function(){return t.emit("plotly_transitioning",[]),new Promise((function(i){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push((function(){n=!0})),r.redraw&&t._transitionData._interruptCallbacks.push((function(){return l.call("redraw",t)})),t._transitionData._interruptCallbacks.push((function(){t.emit("plotly_transitioninterrupted",[])}));var o=0,a=0;function s(){return o++,function(){var e;a++,n||a!==o||(e=i,t._transitionData&&(function(t){if(t)for(;t.length;)t.shift()}(t._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(r.redraw)return l.call("redraw",t)})).then((function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])})).then(e)))}}r.runFn(s),setTimeout(s())}))}],o=u.syncOrAsync(i,t);return o&&o.then||(o=Promise.resolve()),o.then((function(){return t}))}_.didMarginChange=function(t,e){for(var r=0;r<z.length;r++){var n=z[r],i=t[n],o=e[n];if(!a(i)||Math.abs(o-i)>1)return!0}return!1},_.graphJson=function(t,e,r,n,i,o){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&_.supplyDefaults(t);var a=i?t._fullData:t.data,l=i?t._fullLayout:t.layout,c=(t._transitionData||{})._frames;function d(t,e){if("function"==typeof t)return e?"_function_":null;if(u.isPlainObject(t)){var n,i={};return Object.keys(t).sort().forEach((function(o){if(-1===["_","["].indexOf(o.charAt(0)))if("function"!=typeof t[o]){if("keepdata"===r){if("src"===o.substr(o.length-3))return}else if("keepstream"===r){if("string"==typeof(n=t[o+"src"])&&n.indexOf(":")>0&&!u.isPlainObject(t.stream))return}else if("keepall"!==r&&"string"==typeof(n=t[o+"src"])&&n.indexOf(":")>0)return;i[o]=d(t[o],e)}else e&&(i[o]="_function")})),i}var o=Array.isArray(t),a=u.isTypedArray(t);if((o||a)&&t.dtype&&t.shape){var l=t.bdata;return d({dtype:t.dtype,shape:t.shape,bdata:u.isArrayBuffer(l)?s.encode(l):l},e)}return o?t.map((function(t){return d(t,e)})):a?u.simpleMap(t,u.identity):u.isJSDate(t)?u.ms2DateTimeLocal(+t):t}var h={data:(a||[]).map((function(t){var r=d(t);return e&&delete r.fit,r}))};if(!e&&(h.layout=d(l),i)){var f=l._size;h.layout.computed={margin:{b:f.b,l:f.l,r:f.r,t:f.t}}}return c&&(h.frames=d(c)),o&&(h.config=d(t._context,!0)),"object"===n?h:JSON.stringify(h)},_.modifyFrames=function(t,e){var r,n,i,o=t._transitionData._frames,a=t._transitionData._frameHash;for(r=0;r<e.length;r++)switch((n=e[r]).type){case"replace":i=n.value;var s=(o[n.index]||{}).name,l=i.name;o[n.index]=a[l]=i,l!==s&&(delete a[s],a[l]=i);break;case"insert":a[(i=n.value).name]=i,o.splice(n.index,0,i);break;case"delete":delete a[(i=o[n.index]).name],o.splice(n.index,1)}return Promise.resolve()},_.computeFrame=function(t,e){var r,n,i,o,a=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=a[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===c.indexOf(s.name);)l.push(s),c.push(s.name);for(var d={};s=l.pop();)if(s.layout&&(d.layout=_.extendLayout(d.layout,s.layout)),s.data){if(d.data||(d.data=[]),!(n=s.traces))for(n=[],r=0;r<s.data.length;r++)n[r]=r;for(d.traces||(d.traces=[]),r=0;r<s.data.length;r++)null!=(i=n[r])&&(-1===(o=d.traces.indexOf(i))&&(o=d.data.length,d.traces[o]=i),d.data[o]=_.extendTrace(d.data[o],s.data[r]))}return d},_.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},r=t._transitionData._frames,n=0;n<r.length;n++){var i=r[n];i&&i.name&&(e[i.name]=i)}},_.extendObjectWithContainers=function(t,e,r){var n,i,o,a,s,l,c,d=u.extendDeepNoArrays({},e||{}),h=u.expandObjectPaths(d),f={};if(r&&r.length)for(o=0;o<r.length;o++)void 0===(i=(n=u.nestedProperty(h,r[o])).get())?u.nestedProperty(f,r[o]).set(null):(n.set(null),u.nestedProperty(f,r[o]).set(i));if(t=u.extendDeepNoArrays(t||{},h),r&&r.length)for(o=0;o<r.length;o++)if(l=u.nestedProperty(f,r[o]).get()){for(c=(s=u.nestedProperty(t,r[o])).get(),Array.isArray(c)||(c=[],s.set(c)),a=0;a<l.length;a++){var p=l[a];c[a]=null===p?null:_.extendObjectWithContainers(c[a],p)}s.set(c)}return t},_.dataArrayContainers=["transforms","dimensions"],_.layoutArrayContainers=l.layoutArrayContainers,_.extendTrace=function(t,e){return _.extendObjectWithContainers(t,e,_.dataArrayContainers)},_.extendLayout=function(t,e){return _.extendObjectWithContainers(t,e,_.layoutArrayContainers)},_.transition=function(t,e,r,n,i,o){var a={redraw:i.redraw},s={},l=[];return a.prepareFn=function(){for(var i=Array.isArray(e)?e.length:0,o=n.slice(0,i),a=0;a<o.length;a++){var c=o[a],d=t._fullData[c]._module;if(d){if(d.animatable){var h=d.basePlotModule.name;s[h]||(s[h]=[]),s[h].push(c)}t.data[o[a]]=_.extendTrace(t.data[o[a]],e[a])}}var f=u.expandObjectPaths(u.extendDeepNoArrays({},r)),p=/^[xy]axis[0-9]*$/;for(var m in f)p.test(m)&&delete f[m].range;_.extendLayout(t.layout,f),delete t.calcdata,_.supplyDefaults(t),_.doCalcdata(t);var g=u.expandObjectPaths(r);if(g){var b=t._fullLayout._plots;for(var v in b){var y=b[v],x=y.xaxis,w=y.yaxis,k=x.range.slice(),A=w.range.slice(),T=null,M=null,S=null,E=null;Array.isArray(g[x._name+".range"])?T=g[x._name+".range"].slice():Array.isArray((g[x._name]||{}).range)&&(T=g[x._name].range.slice()),Array.isArray(g[w._name+".range"])?M=g[w._name+".range"].slice():Array.isArray((g[w._name]||{}).range)&&(M=g[w._name].range.slice()),k&&T&&(x.r2l(k[0])!==x.r2l(T[0])||x.r2l(k[1])!==x.r2l(T[1]))&&(S={xr0:k,xr1:T}),A&&M&&(w.r2l(A[0])!==w.r2l(M[0])||w.r2l(A[1])!==w.r2l(M[1]))&&(E={yr0:A,yr1:M}),(S||E)&&l.push(u.extendFlat({plotinfo:y},S,E))}}return Promise.resolve()},a.runFn=function(e){var n,i,a=t._fullLayout._basePlotModules,c=l.length;if(r)for(i=0;i<a.length;i++)a[i].transitionAxes&&a[i].transitionAxes(t,l,o,e);for(var d in c?((n=u.extendFlat({},o)).duration=0,delete s.cartesian):n=o,s){var h=s[d];t._fullData[h[0]]._module.basePlotModule.plot(t,h,n,e)}},L(t,o,a)},_.transitionFromReact=function(t,e,r,n){var i=t._fullLayout,o=i.transition,a={},s=[];return a.prepareFn=function(){var t=i._plots;for(var o in a.redraw=!1,"some"===e.anim&&(a.redraw=!0),"some"===r.anim&&(a.redraw=!0),t){var l=t[o],c=l.xaxis,d=l.yaxis,h=n[c._name].range.slice(),f=n[d._name].range.slice(),p=c.range.slice(),m=d.range.slice();c.setScale(),d.setScale();var g=null,b=null;c.r2l(h[0])===c.r2l(p[0])&&c.r2l(h[1])===c.r2l(p[1])||(g={xr0:h,xr1:p}),d.r2l(f[0])===d.r2l(m[0])&&d.r2l(f[1])===d.r2l(m[1])||(b={yr0:f,yr1:m}),(g||b)&&s.push(u.extendFlat({plotinfo:l},g,b))}return Promise.resolve()},a.runFn=function(r){for(var n,i,a,l=t._fullData,c=t._fullLayout._basePlotModules,d=[],h=0;h<l.length;h++)d.push(h);function f(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].transitionAxes&&c[e].transitionAxes(t,s,n,r)}function p(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].plot(t,a,i,r)}s.length&&e.anim?"traces first"===o.ordering?(n=u.extendFlat({},o,{duration:0}),a=d,i=o,setTimeout(f,o.duration),p()):(n=o,a=null,i=u.extendFlat({},o,{duration:0}),setTimeout(p,n.duration),f()):s.length?(n=o,f()):e.anim&&(a=d,i=o,p())},L(t,o,a)},_.doCalcdata=function(t,e){var r,n,i,o,a=p.list(t),s=t._fullData,d=t._fullLayout,h=new Array(s.length),m=(t.calcdata||[]).slice();for(t.calcdata=h,d._numBoxes=0,d._numViolins=0,d._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,d._piecolormap={},d._sunburstcolormap={},d._treemapcolormap={},d._iciclecolormap={},d._funnelareacolormap={},i=0;i<s.length;i++)Array.isArray(e)&&-1===e.indexOf(i)&&(h[i]=m[i]);for(i=0;i<s.length;i++)(r=s[i])._arrayAttrs=c.findArrayAttributes(r),r._extremes={};var g=d._subplots.polar||[];for(i=0;i<g.length;i++)a.push(d[g[i]].radialaxis,d[g[i]].angularaxis);for(var b in d._colorAxes){var v=d[b];!1!==v.cauto&&(delete v.cmin,delete v.cmax)}var y=!1;function x(e){if(r=s[e],n=r._module,!0===r.visible&&r.transforms){if(n&&n.calc){var i=n.calc(t,r);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(o=0;o<r.transforms.length;o++){var a=r.transforms[o];(n=transformsRegistry[a.type])&&n.calcTransform&&(r._hasCalcTransform=!0,y=!0,n.calcTransform(t,r,a))}}}function w(e,i){if(r=s[e],!!(n=r._module).isContainer===i){var a=[];if(!0===r.visible&&0!==r._length){delete r._indexToPoints;var l=r.transforms||[];for(o=l.length-1;o>=0;o--)if(l[o].enabled){r._indexToPoints=l[o]._indexToPoints;break}n&&n.calc&&(a=n.calc(t,r))}Array.isArray(a)&&a[0]||(a=[{x:f,y:f}]),a[0].t||(a[0].t={}),a[0].trace=r,h[e]=a}}for(D(a,s,d),i=0;i<s.length;i++)w(i,!0);for(i=0;i<s.length;i++)x(i);for(y&&D(a,s,d),i=0;i<s.length;i++)w(i,!0);for(i=0;i<s.length;i++)w(i,!1);I(t);var _=function(t,e){var r,n,i,o,a,s=[];function c(t,r,n){var i=r._id.charAt(0);if("histogram2dcontour"===t){var o=r._counterAxes[0],a=p.getFromId(e,o),s="x"===i||"x"===o&&"category"===a.type,l="y"===i||"y"===o&&"category"===a.type;return function(t,e){return 0===t||0===e||s&&t===n[e].length-1||l&&e===n.length-1?-1:("y"===i?e:t)-1}}return function(t,e){return"y"===i?e:t}}var d={min:function(t){return u.aggNums(Math.min,null,t)},max:function(t){return u.aggNums(Math.max,null,t)},sum:function(t){return u.aggNums((function(t,e){return t+e}),null,t)},total:function(t){return u.aggNums((function(t,e){return t+e}),null,t)},mean:function(t){return u.mean(t)},"geometric mean":function(t){return u.geometricMean(t)},median:function(t){return u.median(t)}};function h(t,e){return t[1]-e[1]}function f(t,e){return e[1]-t[1]}for(r=0;r<t.length;r++){var m=t[r];if("category"===m.type){var g=m.categoryorder.match(O);if(g){var b=g[1],v=g[2],y=m._id.charAt(0),x="x"===y,w=[];for(n=0;n<m._categories.length;n++)w.push([m._categories[n],[]]);for(n=0;n<m._traceIndices.length;n++){var _=m._traceIndices[n],k=e._fullData[_];if(!0===k.visible){var A=k.type;l.traceIs(k,"histogram")&&(delete k._xautoBinFinished,delete k._yautoBinFinished);var T="splom"===A,M="scattergl"===A,S=e.calcdata[_];for(i=0;i<S.length;i++){var E,C,z=S[i];if(T){var L=k._axesDim[m._id];if(!x){var D=k._diag[L][0];D&&(m=e._fullLayout[p.id2name(D)])}var I=z.trace.dimensions[L].values;for(o=0;o<I.length;o++)for(E=m._categoriesMap[I[o]],a=0;a<z.trace.dimensions.length;a++)if(a!==L){var F=z.trace.dimensions[a];w[E][1].push(F.values[o])}}else if(M){for(o=0;o<z.t.x.length;o++)x?(E=z.t.x[o],C=z.t.y[o]):(E=z.t.y[o],C=z.t.x[o]),w[E][1].push(C);z.t&&z.t._scene&&delete z.t._scene.dirty}else if(z.hasOwnProperty("z")){C=z.z;var R=c(k.type,m,C);for(o=0;o<C.length;o++)for(a=0;a<C[o].length;a++)(E=R(a,o))+1&&w[E][1].push(C[o][a])}else for(void 0===(E=z.p)&&(E=z[y]),void 0===(C=z.s)&&(C=z.v),void 0===C&&(C=x?z.y:z.x),Array.isArray(C)||(C=void 0===C?[]:[C]),o=0;o<C.length;o++)w[E][1].push(C[o])}}}m._categoriesValue=w;var P=[];for(n=0;n<w.length;n++)P.push([w[n][0],d[b](w[n][1])]);P.sort("descending"===v?f:h),m._categoriesAggregatedValue=P,m._initialCategories=P.map((function(t){return t[0]})),s=s.concat(m.sortByInitialCategories())}}}return s}(a,t);if(_.length){for(d._numBoxes=0,d._numViolins=0,i=0;i<_.length;i++)w(_[i],!0);for(i=0;i<_.length;i++)w(_[i],!1);I(t)}l.getComponentMethod("fx","calc")(t),l.getComponentMethod("errorbars","calc")(t)};var O=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function D(t,e,r){var n={};function i(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),n[t._id]=1}u.simpleMap(t,i);for(var o=r._axisMatchGroups||[],a=0;a<o.length;a++)for(var s in o[a])n[s]||i(r[p.id2name(s)])}function I(t){var e,r,n,i=t._fullLayout,o=i._visibleModules,a={};for(r=0;r<o.length;r++){var s=o[r],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;a[c]?u.pushUnique(a[c],l):a[c]=[l]}}for(n in a){var d=a[n],h=i._subplots[n];if(Array.isArray(h))for(e=0;e<h.length;e++){var f=h[e],p="cartesian"===n?i._plots[f]:i[f];for(r=0;r<d.length;r++)d[r](t,p,f)}else for(r=0;r<d.length;r++)d[r](t)}}_.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},_.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},_.reselect=function(t){var e=t._fullLayout,r=(t.layout||{}).selections,n=e._previousSelections;e._previousSelections=r;var i=e._reselect||JSON.stringify(r)!==JSON.stringify(n);l.getComponentMethod("selections","reselect")(t,i)},_.generalUpdatePerTraceModule=function(t,e,r,n){var i,o=e.traceHash,a={};for(i=0;i<r.length;i++){var s=r[i],l=s[0].trace;l.visible&&(a[l.type]=a[l.type]||[],a[l.type].push(s))}for(var c in o)if(!a[c]){var d=o[c][0];d[0].trace.visible=!1,a[c]=[d]}for(var h in a){var f=a[h];f[0][0].trace._module.plot(t,e,u.filterVisible(f),n)}e.traceHash=a},_.plotBasePlot=function(t,e,r,n,i){var o=l.getModule(t),a=y(e.calcdata,o)[0];o.plot(e,a,n,i)},_.cleanBasePlot=function(t,e,r,n,i){var o=i._has&&i._has(t),a=r._has&&r._has(t);o&&!a&&i["_"+t+"layer"].selectAll("g.trace").remove()}},51183:t=>{var e=/[\'\"]/;t.exports=function(t){return t?(e.test(t.charAt(0))&&(t=t.substr(1)),e.test(t.charAt(t.length-1))&&(t=t.substr(0,t.length-1)),t):""}},51465:(t,e,r)=>{"use strict";var n=r(12822),i=r(25059),o=r(91886),a=r(77982),s=r(32565),l=r(677),c=r(56666),d=r(45952),u=r(86277),h=r(51725),f=r(12261),p=r(46574);t.exports=function(t,e,r,m){function g(r,i){return n.coerce(t,e,a,r,i)}var b=!!t.marker&&o.isOpenSymbol(t.marker.symbol),v=l.isBubble(t),y=c(t,e,m,g);if(y){d(t,e,m,g),g("xhoverformat"),g("yhoverformat");var x=y<s.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("hovertemplate"),g("hovertemplatefallback"),g("mode",x),l.hasMarkers(e)&&(u(t,e,r,m,g,{noAngleRef:!0,noStandOff:!0}),g("marker.line.width",b||v?1:0)),l.hasLines(e)&&(g("connectgaps"),h(t,e,r,m,g),g("line.shape")),l.hasText(e)&&(g("texttemplate"),g("texttemplatefallback"),p(t,e,m,g,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var w=(e.line||{}).color,_=(e.marker||{}).color;g("fill"),"none"!==e.fill&&f(t,e,r,g);var k=i.getComponentMethod("errorbars","supplyDefaults");k(t,e,w||_||r,{axis:"y"}),k(t,e,w||_||r,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(e,g)}else e.visible=!1}},51645:(t,e,r)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=r(34463),s=r(25359),l=r(92173),c=r(4832),d=r(34597),u=r(43236),h=r(9994),f=r(6313),p=r(97e3),m=r(47691),g=r(91101),b=r(94698),v=y;function y(t,e){var r=this;if(!(this instanceof y))return new y(t,e);"function"==typeof t?(e||(e={}),e.regl=t):(e=t,t=null),e&&e.length&&(e.positions=e);var n,i=(t=e.regl)._gl,o=[];this.tooManyColors=m,n=t.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),d(this,{regl:t,gl:i,groups:[],markerCache:[null],markerTextures:[null],palette:o,paletteIds:{},paletteTexture:n,maxColors:255,maxSize:100,canvas:i.canvas}),this.update(e);var a={uniforms:{constPointSize:!!e.constPointSize,opacity:t.prop("opacity"),paletteSize:function(t,e){return[r.tooManyColors?0:255,n.height]},pixelRatio:t.context("pixelRatio"),scale:t.prop("scale"),scaleFract:t.prop("scaleFract"),translate:t.prop("translate"),translateFract:t.prop("translateFract"),markerTexture:t.prop("markerTexture"),paletteTexture:n},attributes:{x:function(t,e){return e.xAttr||{buffer:e.positionBuffer,stride:8,offset:0}},y:function(t,e){return e.yAttr||{buffer:e.positionBuffer,stride:8,offset:4}},xFract:function(t,e){return e.xAttr?{constant:[0,0]}:{buffer:e.positionFractBuffer,stride:8,offset:0}},yFract:function(t,e){return e.yAttr?{constant:[0,0]}:{buffer:e.positionFractBuffer,stride:8,offset:4}},size:function(t,e){return e.size.length?{buffer:e.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*e.size/r.maxSize)]}},borderSize:function(t,e){return e.borderSize.length?{buffer:e.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*e.borderSize/r.maxSize)]}},colorId:function(t,e){return e.color.length?{buffer:e.colorBuffer,stride:r.tooManyColors?8:4,offset:0}:{constant:r.tooManyColors?o.slice(4*e.color,4*e.color+4):[e.color]}},borderColorId:function(t,e){return e.borderColor.length?{buffer:e.colorBuffer,stride:r.tooManyColors?8:4,offset:r.tooManyColors?4:2}:{constant:r.tooManyColors?o.slice(4*e.borderColor,4*e.borderColor+4):[e.borderColor]}},isActive:function(t,e){return!0===e.activation?{constant:[1]}:e.activation?e.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:t.prop("elements"),count:t.prop("count"),offset:t.prop("offset"),primitive:"points"},s=d({},a);s.frag=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),s.vert=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}\n"]),this.drawMarker=t(s);var l=d({},a);l.frag=u(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),l.vert=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),m&&(l.frag=l.frag.replace("smoothstep","smoothStep"),s.frag=s.frag.replace("smoothstep","smoothStep")),this.drawCircle=t(l)}y.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},y.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},y.prototype.draw=function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=this.groups;if(1===r.length&&Array.isArray(r[0])&&(null===r[0][0]||Array.isArray(r[0][0]))&&(r=r[0]),this.regl._refresh(),r.length)for(var o=0;o<r.length;o++)this.drawItem(o,r[o]);else i.forEach((function(e,r){t.drawItem(r)}));return this},y.prototype.drawItem=function(t,e){var r,n=this.groups,a=n[t];if("number"==typeof e&&(t=e,a=n[e],e=null),a&&a.count&&a.opacity){a.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,a,e));for(var s=[],l=1;l<a.activation.length;l++)a.activation[l]&&(!0===a.activation[l]||a.activation[l].data.length)&&s.push.apply(s,function(t){if(Array.isArray(t))return o(t)}(r=this.getMarkerDrawOptions(l,a,e))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||i(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());s.length&&this.drawMarker(s)}},y.prototype.getMarkerDrawOptions=function(t,e,r){var i=e.range,o=e.tree,a=e.viewport,s=e.activation,l=e.selectionBuffer,c=e.count;if(this.regl,!o)return r?[d({},e,{markerTexture:this.markerTextures[t],activation:s[t],count:r.length,elements:r,offset:0})]:[d({},e,{markerTexture:this.markerTextures[t],activation:s[t],offset:0})];var u=[],h=o.range(i,{lod:!0,px:[(i[2]-i[0])/a.width,(i[3]-i[1])/a.height]});if(r){for(var f=s[t].data,p=new Uint8Array(c),m=0;m<r.length;m++){var g=r[m];p[g]=f?f[g]:1}l.subdata(p)}for(var b=h.length;b--;){var v=n(h[b],2),y=v[0],x=v[1];u.push(d({},e,{markerTexture:this.markerTextures[t],activation:r?l:s[t],offset:y,count:x-y}))}return u},y.prototype.update=function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length){1===r.length&&Array.isArray(r[0])&&(r=r[0]);var i=this.groups,o=this.gl,a=this.regl,l=this.maxSize,u=this.maxColors,m=this.palette;this.groups=i=r.map((function(e,r){var n=i[r];if(void 0===e)return n;null===e?e={positions:null}:"function"==typeof e?e={ondraw:e}:"number"==typeof e[0]&&(e={positions:e}),null===(e=h(e,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(e.positions=[]),null!=e.tooManyColors&&(t.tooManyColors=e.tooManyColors),n||(i[r]=n={id:r,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:a.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:a.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},e=d({},y.defaults,e)),e.positions&&!("marker"in e)&&(e.marker=n.marker,delete n.marker),e.marker&&!("positions"in e)&&(e.positions=n.positions,delete n.positions);var v=0,x=0;if(f(n,e,[{snap:!0,size:function(t,e){return null==t&&(t=y.defaults.size),v+=t&&t.length?1:0,t},borderSize:function(t,e){return null==t&&(t=y.defaults.borderSize),v+=t&&t.length?1:0,t},opacity:parseFloat,color:function(e,r){return null==e&&(e=y.defaults.color),e=t.updateColor(e),x++,e},borderColor:function(e,r){return null==e&&(e=y.defaults.borderColor),e=t.updateColor(e),x++,e},bounds:function(t,e,r){return"range"in r||(r.range=null),t},positions:function(t,e,r){var n=e.snap,i=e.positionBuffer,o=e.positionFractBuffer,l=e.selectionBuffer;if(t.x||t.y)return t.x.length?e.xAttr={buffer:a.buffer(t.x),offset:0,stride:4,count:t.x.length}:e.xAttr={buffer:t.x.buffer,offset:4*t.x.offset||0,stride:4*(t.x.stride||1),count:t.x.count},t.y.length?e.yAttr={buffer:a.buffer(t.y),offset:0,stride:4,count:t.y.length}:e.yAttr={buffer:t.y.buffer,offset:4*t.y.offset||0,stride:4*(t.y.stride||1),count:t.y.count},e.count=Math.max(e.xAttr.count,e.yAttr.count),t;t=p(t,"float64");var d=e.count=Math.floor(t.length/2),u=e.bounds=d?s(t,2):null;if(r.range||e.range||(delete e.range,r.range=u),r.marker||e.marker||(delete e.marker,r.marker=null),n&&(!0===n||d>n)?e.tree=c(t,{bounds:u}):n&&n.length&&(e.tree=n),e.tree){var h={primitive:"points",usage:"static",data:e.tree,type:"uint32"};e.elements?e.elements(h):e.elements=a.elements(h)}var f=g.float32(t);return i({data:f,usage:"dynamic"}),o({data:g.fract32(t,f),usage:"dynamic"}),l({data:new Uint8Array(d),type:"uint8",usage:"stream"}),t}},{marker:function(e,r,n){var i=r.activation;if(i.forEach((function(t){return t&&t.destroy&&t.destroy()})),i.length=0,e&&"number"!=typeof e[0]){for(var o=[],s=0,l=Math.min(e.length,r.count);s<l;s++){var c=t.addMarker(e[s]);o[c]||(o[c]=new Uint8Array(r.count)),o[c][s]=1}for(var d=0;d<o.length;d++)if(o[d]){var u={data:o[d],type:"uint8",usage:"static"};i[d]?i[d](u):i[d]=a.buffer(u),i[d].data=o[d]}}else i[t.addMarker(e)]=!0;return e},range:function(t,e,r){var n=e.bounds;if(n)return t||(t=n),e.scale=[1/(t[2]-t[0]),1/(t[3]-t[1])],e.translate=[-t[0],-t[1]],e.scaleFract=g.fract(e.scale),e.translateFract=g.fract(e.translate),t},viewport:function(t){return b(t||[o.drawingBufferWidth,o.drawingBufferHeight])}}]),v){var w=n,_=w.count,k=w.size,A=w.borderSize,T=w.sizeBuffer,M=new Uint8Array(2*_);if(k.length||A.length)for(var S=0;S<_;S++)M[2*S]=Math.round(255*(null==k[S]?k:k[S])/l),M[2*S+1]=Math.round(255*(null==A[S]?A:A[S])/l);T({data:M,usage:"dynamic"})}if(x){var E,C=n,z=C.count,L=C.color,O=C.borderColor,D=C.colorBuffer;if(t.tooManyColors){if(L.length||O.length){E=new Uint8Array(8*z);for(var I=0;I<z;I++){var F=L[I];E[8*I]=m[4*F],E[8*I+1]=m[4*F+1],E[8*I+2]=m[4*F+2],E[8*I+3]=m[4*F+3];var R=O[I];E[8*I+4]=m[4*R],E[8*I+5]=m[4*R+1],E[8*I+6]=m[4*R+2],E[8*I+7]=m[4*R+3]}}}else if(L.length||O.length){E=new Uint8Array(4*z+2);for(var P=0;P<z;P++)null!=L[P]&&(E[4*P]=L[P]%u,E[4*P+1]=Math.floor(L[P]/u)),null!=O[P]&&(E[4*P+2]=O[P]%u,E[4*P+3]=Math.floor(O[P]/u))}D({data:E||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return n}))}},y.prototype.addMarker=function(t){var e,r=this.markerTextures,n=this.regl,i=this.markerCache,o=null==t?0:i.indexOf(t);if(o>=0)return o;if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)e=t;else{e=new Uint8Array(t.length);for(var a=0,s=t.length;a<s;a++)e[a]=255*t[a]}var l=Math.floor(Math.sqrt(e.length));return o=r.length,i.push(t),r.push(n.texture({channels:1,data:e,radius:l,mag:"linear",min:"linear"})),o},y.prototype.updateColor=function(t){var e=this.paletteIds,r=this.palette,n=this.maxColors;Array.isArray(t)||(t=[t]);var i=[];if("number"==typeof t[0]){var o=[];if(Array.isArray(t))for(var s=0;s<t.length;s+=4)o.push(t.slice(s,s+4));else for(var c=0;c<t.length;c+=4)o.push(t.subarray(c,c+4));t=o}for(var d=0;d<t.length;d++){var u=t[d];u=a(u,"uint8");var h=l(u,!1);if(null==e[h]){var f=r.length;e[h]=Math.floor(f/4),r[f]=u[0],r[f+1]=u[1],r[f+2]=u[2],r[f+3]=u[3]}i[d]=e[h]}return!this.tooManyColors&&r.length>4*n&&(this.tooManyColors=!0),this.updatePalette(r),1===i.length?i[0]:i},y.prototype.updatePalette=function(t){if(!this.tooManyColors){var e=this.maxColors,r=this.paletteTexture,n=Math.ceil(.25*t.length/e);if(n>1)for(var i=.25*(t=t.slice()).length%e;i<n*e;i++)t.push(0,0,0,0);r.height<n&&r.resize(e,n),r.subimage({width:Math.min(.25*t.length,e),height:n,data:t},0,0)}},y.prototype.destroy=function(){return this.groups.forEach((function(t){t.sizeBuffer.destroy(),t.positionBuffer.destroy(),t.positionFractBuffer.destroy(),t.colorBuffer.destroy(),t.activation.forEach((function(t){return t&&t.destroy&&t.destroy()})),t.selectionBuffer.destroy(),t.elements&&t.elements.destroy()})),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach((function(t){return t&&t.destroy&&t.destroy()})),this};var x=r(34597);t.exports=function(t,e){var r=new v(t,e),n=r.render.bind(r);return x(n,{render:n,update:r.update.bind(r),draw:r.draw.bind(r),destroy:r.destroy.bind(r),regl:r.regl,gl:r.gl,canvas:r.gl.canvas,groups:r.groups,markers:r.markerCache,palette:r.palette}),n}},51648:t=>{"use strict";t.exports=function(){}},51725:(t,e,r)=>{"use strict";var n=r(12822).isArrayOrTypedArray,i=r(42226).hasColorscale,o=r(94461);t.exports=function(t,e,r,a,s,l){l||(l={});var c=(t.marker||{}).color;c&&c._inputArray&&(c=c._inputArray),s("line.color",r),i(t,"line")?o(t,e,a,s,{prefix:"line.",cLetter:"c"}):s("line.color",!n(c)&&c||r),s("line.width"),l.noDash||s("line.dash"),l.backoff&&s("line.backoff")}},51774:(t,e,r)=>{"use strict";var n=r(12822),i=r(42226).hasColorscale,o=r(42226).extractOpts;t.exports=function(t,e){function r(t,e){var r=t["_"+e];void 0!==r&&(t[e]=r)}function a(t,i){var a=i.container?n.nestedProperty(t,i.container).get():t;if(a)if(a.coloraxis)a._colorAx=e[a.coloraxis];else{var s=o(a),l=s.auto;(l||void 0===s.min)&&r(a,i.min),(l||void 0===s.max)&&r(a,i.max),s.autocolorscale&&r(a,"colorscale")}}for(var s=0;s<t.length;s++){var l=t[s],c=l._module.colorbar;if(c)if(Array.isArray(c))for(var d=0;d<c.length;d++)a(l,c[d]);else a(l,c);i(l,"marker.line")&&a(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in e._colorAxes)a(e[u],{min:"cmin",max:"cmax"})}},51915:(t,e,r)=>{"use strict";var n=r(27941);t.exports=function(t,e,r){var i=t.selectAll("g."+r.replace(/\s/g,".")).data(e,(function(t){return t[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",r),i.order();var o=t.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(t){t[0][o]=n.select(this)})),i}},52148:t=>{var e={toPolygon:function(t,e){function r(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function r(e){var r=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[r]})}for(var n=r(e[0]),i=1;i<e.length;i++)n=t.selectDifference(t.combine(n,r(e[i])));return n}if("Polygon"===e.type)return t.polygon(r(e.coordinates));if("MultiPolygon"===e.type){for(var n=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)n=t.selectUnion(t.combine(n,r(e.coordinates[i])));return t.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,r){function n(t,r){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],r)}function i(t){return{region:t,children:[]}}r=t.polygon(t.segments(r));var o=i(null);function a(t,e){for(var r=0;r<t.children.length;r++)if(n(e,(s=t.children[r]).region))return void a(s,e);var o=i(e);for(r=0;r<t.children.length;r++){var s;n((s=t.children[r]).region,e)&&(o.children.push(s),t.children.splice(r,1),r--)}t.children.push(o)}for(var s=0;s<r.regions.length;s++){var l=r.regions[s];l.length<3||a(o,l)}function c(t,e){for(var r=0,n=t[t.length-1][0],i=t[t.length-1][1],o=[],a=0;a<t.length;a++){var s=t[a][0],l=t[a][1];o.push([s,l]),r+=l*n-s*i,n=s,i=l}return r<0!==e&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var d=[];function u(t){var e=[c(t.region,!1)];d.push(e);for(var r=0;r<t.children.length;r++)e.push(h(t.children[r]))}function h(t){for(var e=0;e<t.children.length;e++)u(t.children[e]);return c(t.region,!0)}for(s=0;s<o.children.length;s++)u(o.children[s]);return d.length<=0?{type:"Polygon",coordinates:[]}:1==d.length?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};t.exports=e},52408:t=>{t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],d=e[9],u=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*n,t[1]=a*i-d*n,t[2]=s*i-u*n,t[3]=l*i-h*n,t[8]=o*n+c*i,t[9]=a*n+d*i,t[10]=s*n+u*i,t[11]=l*n+h*i,t}},52467:(t,e,r)=>{"use strict";var n=r(12822);t.exports=function(t){return n.isPlainObject(t.colorbar)}},52656:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=i.pushUnique,a=!0;t.exports=function(t,e,r){var s=e._fullLayout;if(!e._dragged&&!e._editing){var l,c=s.legend.itemclick,d=s.legend.itemdoubleclick,u=s.legend.groupclick;if(1===r&&"toggle"===c&&"toggleothers"===d&&a&&e.data&&e._context.showTips?(i.notifier(i._(e,"Double-click on legend to isolate one trace"),"long"),a=!1):a=!1,1===r?l=c:2===r&&(l=d),l){var h="togglegroup"===u,f=s.hiddenlabels?s.hiddenlabels.slice():[],p=t.data()[0][0];if(!p.groupTitle||!p.noClick){var m=e._fullData,g=(s.shapes||[]).filter((function(t){return t.showlegend})),b=m.concat(g),v=p.trace;v._isShape&&(v=v._fullInput);var y,x,w,_,k,A=v.legendgroup,T={},M=[],S=[],E=[],C=(s.shapes||[]).map((function(t){return t._input})),z=!1,L=v.legend,O=v._fullInput;if(O&&O._isShape||!n.traceIs(v,"pie-like")){var D,I=A&&A.length,F=[];if(I)for(y=0;y<b.length;y++)(D=b[y]).visible&&D.legendgroup===A&&F.push(y);if("toggle"===l){var R;switch(v.visible){case!0:R="legendonly";break;case!1:R=!1;break;case"legendonly":R=!0}if(I)if(h)for(y=0;y<b.length;y++){var P=b[y];!1!==P.visible&&P.legendgroup===A&&K(P,R)}else K(v,R);else K(v,R)}else if("toggleothers"===l){var j,N,B,U,V=!0;for(y=0;y<b.length;y++)if(j=(U=b[y])===v,N=!0!==U.showlegend,!(j||N||I&&U.legendgroup===A||U.legend!==L||!0!==U.visible||n.traceIs(U,"notLegendIsolatable"))){V=!1;break}for(y=0;y<b.length;y++)if(!1!==(U=b[y]).visible&&U.legend===L&&!n.traceIs(U,"notLegendIsolatable"))switch(v.visible){case"legendonly":K(U,!0);break;case!0:B=!!V||"legendonly",j=U===v,N=!0!==U.showlegend&&!U.legendgroup,K(U,!!(j||I&&U.legendgroup===A||N)||B)}}for(y=0;y<S.length;y++)if(w=S[y]){var G=w.constructUpdate(),H=Object.keys(G);for(x=0;x<H.length;x++)_=H[x],(T[_]=T[_]||[])[E[y]]=G[_]}for(k=Object.keys(T),y=0;y<k.length;y++)for(_=k[y],x=0;x<M.length;x++)T[_].hasOwnProperty(x)||(T[_][x]=void 0);z?n.call("_guiUpdate",e,T,{shapes:C},M):n.call("_guiRestyle",e,T,M)}else{var W=p.label,q=f.indexOf(W);if("toggle"===l)-1===q?f.push(W):f.splice(q,1);else if("toggleothers"===l){var $=-1!==q,Y=[];for(y=0;y<e.calcdata.length;y++){var Z=e.calcdata[y];for(x=0;x<Z.length;x++){var X=Z[x].label;L===Z[0].trace.legend&&W!==X&&(-1===f.indexOf(X)&&($=!0),o(f,X),Y.push(X))}}if(!$)for(var J=0;J<Y.length;J++){var Q=f.indexOf(Y[J]);-1!==Q&&f.splice(Q,1)}}n.call("_guiRelayout",e,"hiddenlabels",f)}}}}function K(t,e){if(!p.groupTitle||h){var r=t._fullInput||t,n=r._isShape,i=r.index;void 0===i&&(i=r._index);var o,a=!1!==r.visible&&e;n?(o=a,C[i].visible=o,z=!0):function(t,e){var r=M.indexOf(t),n=T.visible;n||(n=T.visible=[]),-1===M.indexOf(t)&&(M.push(t),r=M.length-1),n[r]=e}(i,a)}}}},52869:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822);t.exports=function(t,e,r,o){var a,s,l,c,d,u,h=o.counterAxes||[],f=o.overlayableAxes||[],p=o.letter,m=o.grid,g=o.overlayingDomain;m&&(s=m._domains[p][m._axisMap[e._id]],a=m._anchors[e._id],s&&(l=m[p+"side"].split(" ")[0],c=m.domain[p]["right"===l||"top"===l?1:0])),s=s||[0,1],a=a||(n(t.position)?"free":h[0]||"free"),l=l||("x"===p?"bottom":"left"),c=c||0,d=0,u=!1;var b=i.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(h),dflt:a}},"anchor"),v=i.coerce(t,e,{side:{valType:"enumerated",values:"x"===p?["bottom","top"]:["left","right"],dflt:l}},"side");"free"===b&&("y"===p&&(r("autoshift")&&(c="left"===v?g[0]:g[1],u=!e.automargin||e.automargin,d="left"===v?-3:3),r("shift",d)),r("position",c)),r("automargin",u);var y=!1;if(f.length&&(y=i.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!y){var x=r("domain",s);x[0]>x[1]-1/4096&&(e.domain=s),i.noneOrAll(t.domain,e.domain,s),"sync"===e.tickmode&&(e.tickmode="auto")}return r("layer"),e}},53481:(t,e,r)=>{"use strict";t.exports=i;var n=r(12822).distinctVals;function i(t,e){this.traces=t,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var r=1/0,i=e.posAxis._id.charAt(0),o=[],a=0;a<t.length;a++){for(var s=t[a],l=0;l<s.length;l++){var c=s[l],d=c.p;void 0===d&&(d=c[i]),void 0!==d&&o.push(d)}s[0]&&s[0].width1&&(r=Math.min(s[0].width1,r))}this.positions=o;var u=n(o);this.distinctPositions=u.vals,1===u.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(u.minDiff,r);var h=(e.posAxis||{}).type;"category"!==h&&"multicategory"!==h||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}i.prototype.put=function(t,e,r){var n=this.getLabel(t,e,r),i=this.bins[n]||0;return this.bins[n]=i+r,i},i.prototype.get=function(t,e,r){var n=this.getLabel(t,e,r);return this.bins[n]||0},i.prototype.getLabel=function(t,e,r){return(r<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))+"g"+e}},53534:(t,e,r)=>{"use strict";var n=r(92911);t.exports={moduleType:"component",name:n.name,layoutAttributes:r(8421),supplyLayoutDefaults:r(60626),draw:r(23350)}},53572:(t,e,r)=>{"use strict";var n=r(99259),i=r(75058),o=i({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});o.family.dflt=n.HOVERFONT,o.size.dflt=n.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar",description:["Determines the mode of hover interactions.","If *closest*, a single hoverlabel will appear","for the *closest* point within the `hoverdistance`.","If *x* (or *y*), multiple hoverlabels will appear for multiple points","at the *closest* x- (or y-) coordinate within the `hoverdistance`,","with the caveat that no more than one hoverlabel will appear per trace.","If *x unified* (or *y unified*), a single hoverlabel will appear","multiple points at the closest x- (or y-) coordinate within the `hoverdistance`","with the caveat that no more than one hoverlabel will appear per trace.","In this mode, spikelines are enabled by default perpendicular to the specified axis.","If false, hover interactions are disabled."].join(" ")},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none",description:["Determines expansion of hover effects to other subplots","If *single* just the axis pair of the primary point is included without overlaying subplots.","If *overlaying* all subplots using the main axis and occupying the same space are included.","If *axis*, also include stacked subplots using the same axis","when `hovermode` is set to *x*, *x unified*, *y* or *y unified*."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:o,grouptitlefont:i({editType:"none",description:["Sets the font for group titles in hover (unified modes).","Defaults to `hoverlabel.font`."].join(" ")}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none",description:["Sets the horizontal alignment of the text content within hover label box.","Has an effect only if the hover label text spans more two or more lines"].join(" ")},namelength:{valType:"integer",min:-1,dflt:15,editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"none",description:["Sets whether or not to show the hover label arrow/triangle","pointing to the data point."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",description:["When `dragmode` is set to *select*, this limits the selection of the drag to","horizontal, vertical or diagonal. *h* only allows horizontal selection,","*v* only vertical, *d* only diagonal and *any* sets no limit."].join(" "),editType:"none"}}},53644:t=>{"use strict";t.exports={axisRefDescription:function(t,e,r){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+r+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",r,"of the domain of the","second",t,"axis."].join(" ")}}},53824:t=>{t.exports=function(t,e,r,n){var i=t[0],o=t[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var s=n-r,l=0,c=s-1;l<s;c=l++){var d=e[l+r][0],u=e[l+r][1],h=e[c+r][0],f=e[c+r][1];u>o!=f>o&&i<(h-d)*(o-u)/(f-u)+d&&(a=!a)}return a}},53874:t=>{"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",description:"A label by which to identify the frame"},traces:{valType:"any",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},54034:(t,e,r)=>{"use strict";t.exports=r(90329)()?Array.from:r(28741)},54295:t=>{"use strict";var e=Object.prototype.toString,r=e.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||e.call(t)===r)||!1}},54324:t=>{"use strict";t.exports=JSON.parse('["inherit","initial","unset"]')},54387:t=>{"use strict";t.exports=Math.log2||function(t){return Math.log(t)*Math.LOG2E}},54461:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(12822),a=o.ensureSingle,s=o.identity,l=r(40666),c=r(677),d=r(22980),u=r(57931),h=r(92620).tester;function f(t,e,r,u,f,p,m){var g,b=t._context.staticPlot;!function(t,e,r,i,a){var s=r.xaxis,l=r.yaxis,d=n.extent(o.simpleMap(s.range,s.r2c)),u=n.extent(o.simpleMap(l.range,l.r2c)),h=i[0].trace;if(c.hasMarkers(h)){var f=h.marker.maxdisplayed;if(0!==f){var p=i.filter((function(t){return t.x>=d[0]&&t.x<=d[1]&&t.y>=u[0]&&t.y<=u[1]})),m=Math.ceil(p.length/f),g=0;a.forEach((function(t,r){var n=t[0].trace;c.hasMarkers(n)&&n.marker.maxdisplayed>0&&r<e&&g++}));var b=Math.round(g*m/3+Math.floor(g/3)*m/7.1);i.forEach((function(t){delete t.vis})),p.forEach((function(t,e){0===Math.round((e+b)%m)&&(t.vis=!0)}))}}}(0,e,r,u,f);var v=!!m&&m.duration>0;function y(t){return v?t.transition():t}var x=r.xaxis,w=r.yaxis,_=u[0].trace,k=_.line,A=n.select(p),T=a(A,"g","errorbars"),M=a(A,"g","lines"),S=a(A,"g","points"),E=a(A,"g","text");if(i.getComponentMethod("errorbars","plot")(t,T,r,m),!0===_.visible){var C,z;y(A).style("opacity",_.opacity);var L,O,D=_.fill.charAt(_.fill.length-1);"x"!==D&&"y"!==D&&(D=""),"y"===D?(L=1,O=w.c2p(0,!0)):"x"===D&&(L=0,O=x.c2p(0,!0)),u[0][r.isRangePlot?"nodeRangePlot3":"node3"]=A;var I,F,R="",P=[],j=_._prevtrace,N=null,B=null;j&&(R=j._prevRevpath||"",z=j._nextFill,P=j._ownPolygons,N=j._fillsegments,B=j._fillElement);var U,V,G,H,W,q,$="",Y="",Z=[];_._polygons=[];var X=[],J=[],Q=o.noop;if(C=_._ownFill,c.hasLines(_)||"none"!==_.fill){z&&z.datum(u),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(U=l.steps(k.shape),V=l.steps(k.shape.split("").reverse().join(""))):U=V="spline"===k.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?l.smoothclosed(t.slice(1),k.smoothing):l.smoothopen(t,k.smoothing)}:function(t){return"M"+t.join("L")},G=function(t){return V(t.reverse())},J=d(u,{xaxis:x,yaxis:w,trace:_,connectGaps:_.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,backoff:k.backoff,simplify:k.simplify,fill:_.fill}),X=new Array(J.length);var K=0;for(g=0;g<J.length;g++){var tt,et=J[g];tt&&D?tt.push.apply(tt,et):(tt=et.slice(),X[K]=tt,K++)}_._fillElement=null,_._fillExclusionElement=B,_._fillsegments=X.slice(0,K),X=_._fillsegments,J.length&&(H=J[0][0].slice(),q=(W=J[J.length-1])[W.length-1].slice()),Q=function(t){return function(e){if(I=U(e),F=G(e),$?D?($+="L"+I.substr(1),Y=F+"L"+Y.substr(1)):($+="Z"+I,Y=F+"Z"+Y):($=I,Y=F),c.hasLines(_)){var r=n.select(this);if(r.datum(u),t)y(r.style("opacity",0).attr("d",I).call(l.lineGroupStyle)).style("opacity",1);else{var i=y(r);i.attr("d",I),l.singleLineStyle(u,i)}}}}}var rt=M.selectAll(".js-line").data(J);y(rt.exit()).style("opacity",0).remove(),rt.each(Q(!1)),rt.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(l.lineGroupStyle).each(Q(!0)),l.setClipUrl(rt,r.layerClipId,t);var nt=function(){var t=new Array(X.length);for(g=0;g<X.length;g++)t[g]=h(X[g]);return t},it=function(t){var e,r;if(t&&0!==t.length){for(e=new Array(t.length-1+X.length),r=0;r<t.length-1;r++)e[r]=h(t[r]);var n=t[t.length-1].slice();for(n.reverse(),r=0;r<X.length;r++)e[t.length-1+r]=h(X[r].concat(n))}else for(e=new Array(X.length),r=0;r<X.length;r++){var i=X[r][0].slice(),o=X[r][X[r].length-1].slice();i[L]=o[L]=O;var a=[o,i].concat(X[r]);e[r]=h(a)}return e};J.length?(C?(C.datum(u),H&&q&&(D?(H[L]=q[L]=O,y(C).attr("d","M"+q+"L"+H+"L"+$.substr(1)).call(l.singleFillStyle,t),Z=it(null)):(y(C).attr("d",$+"Z").call(l.singleFillStyle,t),Z=nt())),_._polygons=Z,_._fillElement=C):z&&("tonext"===_.fill.substr(0,6)&&$&&R?("tonext"===_.fill?(y(z).attr("d",$+"Z"+R+"Z").call(l.singleFillStyle,t),Z=nt(),_._polygons=Z.concat(P)):(y(z).attr("d",$+"L"+R.substr(1)+"Z").call(l.singleFillStyle,t),Z=it(N),_._polygons=Z),_._fillElement=z):at(z)),_._prevRevpath=Y):(C?at(C):z&&at(z),_._prevRevpath=null),_._ownPolygons=Z,S.datum(u),E.datum(u),function(e,i,o){var a,d=o[0].trace,u=c.hasMarkers(d),h=c.hasText(d),f=ut(d),p=ht,m=ht;if(u||h){var g=s,b=d.stackgroup,_=b&&"infer zero"===t._fullLayout._scatterStackOpts[x._id+w._id][b].stackgaps;d.marker.maxdisplayed||d._needsCull?g=_?lt:st:b&&!_&&(g=ct),u&&(p=g),h&&(m=g)}var k,A=(a=e.selectAll("path.point").data(p,f)).enter().append("path").classed("point",!0);v&&A.call(l.pointStyle,d,t).call(l.translatePoints,x,w).style("opacity",0).transition().style("opacity",1),a.order(),u&&(k=l.makePointStyleFns(d)),a.each((function(e){var i=n.select(this),o=y(i);l.translatePoint(e,o,x,w)?(l.singlePointStyle(e,o,d,k,t),r.layerClipId&&l.hideOutsideRangePoint(e,o,x,w,d.xcalendar,d.ycalendar),d.customdata&&i.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):o.remove()})),v?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=i.selectAll("g").data(m,f)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(t){var e=n.select(this),i=y(e.select("text"));l.translatePoint(t,i,x,w)?r.layerClipId&&l.hideOutsideRangePoint(t,e,x,w,d.xcalendar,d.ycalendar):e.remove()})),a.selectAll("text").call(l.textPointStyle,d,t).each((function(t){var e=x.c2p(t.x),r=w.c2p(t.y);n.select(this).selectAll("tspan.line").each((function(){y(n.select(this)).attr({x:e,y:r})}))})),a.exit().remove()}(S,E,u);var ot=!1===_.cliponaxis?null:r.layerClipId;l.setClipUrl(S,ot,t),l.setClipUrl(E,ot,t)}function at(t){y(t).attr("d","M0,0Z")}function st(t){return t.filter((function(t){return!t.gap&&t.vis}))}function lt(t){return t.filter((function(t){return t.vis}))}function ct(t){return t.filter((function(t){return!t.gap}))}function dt(t){return t.id}function ut(t){if(t.ids)return dt}function ht(){return!1}}t.exports=function(t,e,r,i,o,c){var d,h,p=!o,m=!!o&&o.duration>0,g=u(t,e,r);(d=i.selectAll("g.trace").data(g,(function(t){return t[0].trace.uid}))).enter().append("g").attr("class",(function(t){return"trace scatter trace"+t[0].trace.uid})).style("stroke-miterlimit",2),d.order(),function(t,e,r){e.each((function(e){var i=a(n.select(this),"g","fills");l.setClipUrl(i,r.layerClipId,t);var o=e[0].trace,c=[];o._ownfill&&c.push("_ownFill"),o._nexttrace&&c.push("_nextFill");var d=i.selectAll("g").data(c,s);d.enter().append("g"),d.exit().each((function(t){o[t]=null})).remove(),d.order().each((function(t){o[t]=a(n.select(this),"path","js-fill")}))}))}(t,d,e),m?(c&&(h=c()),n.transition().duration(o.duration).ease(o.easing).each("end",(function(){h&&h()})).each("interrupt",(function(){h&&h()})).each((function(){i.selectAll("g.trace").each((function(r,n){f(t,n,e,r,g,this,o)}))}))):d.each((function(r,n){f(t,n,e,r,g,this,o)})),p&&d.exit().remove(),i.selectAll("path:not([d])").remove()}},54718:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},54747:t=>{"use strict";t.exports=function(t){return Object.keys(t).sort()}},54863:(t,e,r)=>{"use strict";var n=r(93767),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,(function(t){n(t)&&function(t,e){var r;for(r in t)e[r]=t[r]}(Object(t),e)})),e}},54874:(t,e,r)=>{"use strict";var n=r(4832),i=r(12822),o=r(99246),a=r(19496).findExtremes,s=r(15389),l=r(93459),c=l.calcMarkerSize,d=l.calcAxisExpansion,u=l.setFirstScatter,h=r(45065),f=r(77064),p=r(7111),m=r(32994).BADNUM,g=r(49538).TOO_MANY_POINTS;function b(t,e,r){var n=t._extremes[e._id],i=a(e,r._bnds,{padded:!0});n.min=n.min.concat(i.min),n.max=n.max.concat(i.max)}t.exports=function(t,e){var r,a=t._fullLayout,l=e._xA=o.getFromId(t,e.xaxis,"x"),v=e._yA=o.getFromId(t,e.yaxis,"y"),y=a._plots[e.xaxis+e.yaxis],x=e._length,w=x>=g,_=2*x,k={},A=l.makeCalcdata(e,"x"),T=v.makeCalcdata(e,"y"),M=s(e,l,"x",A),S=s(e,v,"y",T),E=M.vals,C=S.vals;e._x=E,e._y=C,e.xperiodalignment&&(e._origX=A,e._xStarts=M.starts,e._xEnds=M.ends),e.yperiodalignment&&(e._origY=T,e._yStarts=S.starts,e._yEnds=S.ends);var z=new Array(_),L=new Array(x);for(r=0;r<x;r++)z[2*r]=E[r]===m?NaN:E[r],z[2*r+1]=C[r]===m?NaN:C[r],L[r]=r;if("log"===l.type)for(r=0;r<_;r+=2)z[r]=l.c2l(z[r]);if("log"===v.type)for(r=1;r<_;r+=2)z[r]=v.c2l(z[r]);w&&"log"!==l.type&&"log"!==v.type?k.tree=n(z):k.ids=L,h(t,e);var O,D=function(t,e,r,n,o,a){var s=f.style(t,r);if(s.marker&&(s.marker.positions=n),s.line&&n.length>1&&i.extendFlat(s.line,f.linePositions(t,r,n)),s.errorX||s.errorY){var l=f.errorBarPositions(t,r,n,o,a);s.errorX&&i.extendFlat(s.errorX,l.x),s.errorY&&i.extendFlat(s.errorY,l.y)}return s.text&&(i.extendFlat(s.text,{positions:n},f.textPosition(t,r,s.text,s.marker)),i.extendFlat(s.textSel,{positions:n},f.textPosition(t,r,s.text,s.markerSel)),i.extendFlat(s.textUnsel,{positions:n},f.textPosition(t,r,s.text,s.markerUnsel))),s}(t,0,e,z,E,C),I=p(t,y);return u(a,e),w?D.marker&&(O=D.marker.sizeAvg||Math.max(D.marker.size,3)):O=c(e,x),d(t,e,l,v,E,C,O),D.errorX&&b(e,l,D.errorX),D.errorY&&b(e,v,D.errorY),D.fill&&!I.fill2d&&(I.fill2d=!0),D.marker&&!I.scatter2d&&(I.scatter2d=!0),D.line&&!I.line2d&&(I.line2d=!0),!D.errorX&&!D.errorY||I.error2d||(I.error2d=!0),D.text&&!I.glText&&(I.glText=!0),D.marker&&(D.marker.snap=x),I.lineOptions.push(D.line),I.errorXOptions.push(D.errorX),I.errorYOptions.push(D.errorY),I.fillOptions.push(D.fill),I.markerOptions.push(D.marker),I.markerSelectedOptions.push(D.markerSel),I.markerUnselectedOptions.push(D.markerUnsel),I.textOptions.push(D.text),I.textSelectedOptions.push(D.textSel),I.textUnselectedOptions.push(D.textUnsel),I.selectBatch.push([]),I.unselectBatch.push([]),k._scene=I,k.index=I.count,k.x=E,k.y=C,k.positions=z,I.count++,[{x:!1,y:!1,t:k,trace:e}]}},55056:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},55334:(t,e,r)=>{"use strict";t.exports=r(42669)()?Math.sign:r(78209)},55351:(t,e,r)=>{"use strict";var n=r(36181),i=r(50406);t.exports=function(t,e,r){r&&r.errorMessage&&(t=n(r.errorMessage));var o=t.indexOf("%v"),a=o>-1?i(e):null;if(r&&r.name){var s,l,c,d,u=t.indexOf("%n");if(u>-1)return o>-1?(u>o?(s=a,c=o,l=r.name,d=u):(s=r.name,c=u,l=a,d=o),t.slice(0,c)+s+t.slice(c+2,d)+l+t.slice(d+2)):t.slice(0,u)+r.name+t.slice(u+2)}return o>-1?t.slice(0,o)+a+t.slice(o+2):t}},55366:t=>{"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},55470:(t,e,r)=>{"use strict";var n=r(12822),i=r(60713),o=r(33369);t.exports=function(t,e,r,a){var s=n.extendFlat({},a.hoverlabel);e.hovertemplate&&(s.namelength=-1),o(t,e,(function(r,o){return n.coerce(t,e,i,r,o)}),s)}},55508:(t,e,r)=>{"use strict";var n=r(12822);t.exports=function(t,e){for(var r=0;r<t.length;r++)t[r].i=r;n.mergeArray(e.text,t,"tx"),n.mergeArray(e.texttemplate,t,"txt"),n.mergeArray(e.hovertext,t,"htx"),n.mergeArray(e.customdata,t,"data"),n.mergeArray(e.textposition,t,"tp"),e.textfont&&(n.mergeArrayCastPositive(e.textfont.size,t,"ts"),n.mergeArray(e.textfont.color,t,"tc"),n.mergeArray(e.textfont.family,t,"tf"),n.mergeArray(e.textfont.weight,t,"tw"),n.mergeArray(e.textfont.style,t,"ty"),n.mergeArray(e.textfont.variant,t,"tv"),n.mergeArray(e.textfont.textcase,t,"tC"),n.mergeArray(e.textfont.lineposition,t,"tE"),n.mergeArray(e.textfont.shadow,t,"tS"));var i=e.marker;if(i){n.mergeArrayCastPositive(i.size,t,"ms"),n.mergeArrayCastPositive(i.opacity,t,"mo"),n.mergeArray(i.symbol,t,"mx"),n.mergeArray(i.angle,t,"ma"),n.mergeArray(i.standoff,t,"mf"),n.mergeArray(i.color,t,"mc");var o=i.line;i.line&&(n.mergeArray(o.color,t,"mlc"),n.mergeArrayCastPositive(o.width,t,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(n.mergeArray(a.type,t,"mgt"),n.mergeArray(a.color,t,"mgc"))}}},55572:(t,e,r)=>{"use strict";var n=r(98496);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},55573:(t,e,r)=>{"use strict";var n=r(83895),i=r(69005),o=r(37779);t.exports=n?function(t){return n(t)}:i?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return i(t)}:o?function(t){return o(t)}:null},55622:(t,e,r)=>{"use strict";r.r(e),r.d(e,{timeDay:()=>b.A,timeDays:()=>b._,timeFriday:()=>v.Sh,timeFridays:()=>v.tz,timeHour:()=>m,timeHours:()=>g,timeInterval:()=>n.A,timeMillisecond:()=>o,timeMilliseconds:()=>a,timeMinute:()=>h,timeMinutes:()=>f,timeMonday:()=>v.By,timeMondays:()=>v.KP,timeMonth:()=>x,timeMonths:()=>w,timeSaturday:()=>v.kS,timeSaturdays:()=>v.t$,timeSecond:()=>c,timeSeconds:()=>d,timeSunday:()=>v.fz,timeSundays:()=>v.se,timeThursday:()=>v.dt,timeThursdays:()=>v.Q$,timeTuesday:()=>v.eQ,timeTuesdays:()=>v.yW,timeWednesday:()=>v.l3,timeWednesdays:()=>v.gf,timeWeek:()=>v.fz,timeWeeks:()=>v.se,timeYear:()=>_.A,timeYears:()=>_.V,utcDay:()=>C.A,utcDays:()=>C.o,utcFriday:()=>z.a1,utcFridays:()=>z.Zn,utcHour:()=>S,utcHours:()=>E,utcMillisecond:()=>o,utcMilliseconds:()=>a,utcMinute:()=>A,utcMinutes:()=>T,utcMonday:()=>z.rt,utcMondays:()=>z.ON,utcMonth:()=>O,utcMonths:()=>D,utcSaturday:()=>z.c8,utcSaturdays:()=>z.Xo,utcSecond:()=>c,utcSeconds:()=>d,utcSunday:()=>z.Hl,utcSundays:()=>z.aZ,utcThursday:()=>z.pT,utcThursdays:()=>z.wr,utcTuesday:()=>z.sr,utcTuesdays:()=>z.jN,utcWednesday:()=>z.z2,utcWednesdays:()=>z.G6,utcWeek:()=>z.Hl,utcWeeks:()=>z.aZ,utcYear:()=>I.A,utcYears:()=>I.j});var n=r(94825),i=(0,n.A)((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?(0,n.A)((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,r){e.setTime(+e+r*t)}),(function(e,r){return(r-e)/t})):i:null};const o=i;var a=i.range,s=r(37968),l=(0,n.A)((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*s.Tt)}),(function(t,e){return(e-t)/s.Tt}),(function(t){return t.getUTCSeconds()}));const c=l;var d=l.range,u=(0,n.A)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*s.Tt)}),(function(t,e){t.setTime(+t+e*s.rR)}),(function(t,e){return(e-t)/s.rR}),(function(t){return t.getMinutes()}));const h=u;var f=u.range,p=(0,n.A)((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*s.Tt-t.getMinutes()*s.rR)}),(function(t,e){t.setTime(+t+e*s.JJ)}),(function(t,e){return(e-t)/s.JJ}),(function(t){return t.getHours()}));const m=p;var g=p.range,b=r(67848),v=r(61396),y=(0,n.A)((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const x=y;var w=y.range,_=r(28397),k=(0,n.A)((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*s.rR)}),(function(t,e){return(e-t)/s.rR}),(function(t){return t.getUTCMinutes()}));const A=k;var T=k.range,M=(0,n.A)((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*s.JJ)}),(function(t,e){return(e-t)/s.JJ}),(function(t){return t.getUTCHours()}));const S=M;var E=M.range,C=r(79896),z=r(64772),L=(0,n.A)((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const O=L;var D=L.range,I=r(34045)},55697:t=>{"use strict";t.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},56173:(t,e,r)=>{"use strict";var n=r(12822),i=r(25059);function o(t,e,r,i){i=i||n.identity,Array.isArray(t)&&(e[0][r]=i(t))}t.exports=function(t){var e=t.calcdata,r=t._fullLayout;function a(t){return function(e){return n.coerceHoverinfo({hoverinfo:e},{_module:t._module},r)}}for(var s=0;s<e.length;s++){var l=e[s],c=l[0].trace;if(!i.traceIs(c,"pie-like")){var d=i.traceIs(c,"2dMap")?o:n.fillArray;d(c.hoverinfo,l,"hi",a(c)),c.hovertemplate&&d(c.hovertemplate,l,"ht"),c.hoverlabel&&(d(c.hoverlabel.bgcolor,l,"hbg"),d(c.hoverlabel.bordercolor,l,"hbc"),d(c.hoverlabel.font.size,l,"hts"),d(c.hoverlabel.font.color,l,"htc"),d(c.hoverlabel.font.family,l,"htf"),d(c.hoverlabel.font.weight,l,"htw"),d(c.hoverlabel.font.style,l,"hty"),d(c.hoverlabel.font.variant,l,"htv"),d(c.hoverlabel.namelength,l,"hnl"),d(c.hoverlabel.align,l,"hta"),d(c.hoverlabel.showarrow,l,"htsa"))}}}},56205:(t,e,r)=>{"use strict";var n=r(12822),i=r(51137),o=r(35852),a=r(58389).dfltConfig,s=n.isPlainObject,l=Array.isArray,c=n.isArrayOrTypedArray;function d(t,e,r,i,o,a){a=a||[];for(var u=Object.keys(t),h=0;h<u.length;h++){var g=u[h],b=a.slice();b.push(g);var v=t[g],y=e[g],x=m(r,g),w=(x||{}).valType,_="info_array"===w,k="colorscale"===w,A=(x||{}).items;if(p(r,g))if(s(v)&&s(y)&&"any"!==w)d(v,y,x,i,o,b);else if(_&&l(v)){v.length>y.length&&i.push(f("unused",o,b.concat(y.length)));var T,M,S,E,C,z=y.length,L=Array.isArray(A);if(L&&(z=Math.min(z,A.length)),2===x.dimensions)for(M=0;M<z;M++)if(l(v[M])){v[M].length>y[M].length&&i.push(f("unused",o,b.concat(M,y[M].length)));var O=y[M].length;for(T=0;T<(L?Math.min(O,A[M].length):O);T++)S=L?A[M][T]:A,E=v[M][T],C=y[M][T],n.validate(E,S)?C!==E&&C!==+E&&i.push(f("dynamic",o,b.concat(M,T),E,C)):i.push(f("value",o,b.concat(M,T),E))}else i.push(f("array",o,b.concat(M),v[M]));else for(M=0;M<z;M++)S=L?A[M]:A,E=v[M],C=y[M],n.validate(E,S)?C!==E&&C!==+E&&i.push(f("dynamic",o,b.concat(M),E,C)):i.push(f("value",o,b.concat(M),E))}else if(x.items&&!_&&l(v)){var D,I,F=A[Object.keys(A)[0]],R=[];for(D=0;D<y.length;D++){var P=y[D]._index||D;if((I=b.slice()).push(P),s(v[P])&&s(y[D])){R.push(P);var j=v[P],N=y[D];s(j)&&!1!==j.visible&&!1===N.visible?i.push(f("invisible",o,I)):d(j,N,F,i,o,I)}}for(D=0;D<v.length;D++)(I=b.slice()).push(D),s(v[D])?-1===R.indexOf(D)&&i.push(f("unused",o,I)):i.push(f("object",o,I,v[D]))}else!s(v)&&s(y)?i.push(f("object",o,b,v)):c(v)||!c(y)||_||k?g in e?n.validate(v,x)?"enumerated"===x.valType&&(x.coerceNumber&&v!==+y||!c(v)&&v!==y||String(v)!==String(y))&&i.push(f("dynamic",o,b,v,y)):i.push(f("value",o,b,v)):i.push(f("unused",o,b,v)):i.push(f("array",o,b,v));else i.push(f("schema",o,b))}return i}t.exports=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var r,c,u=o.get(),h=[],p={_context:n.extendFlat({},a)};l(t)?(p.data=n.extendDeep([],t),r=t):(p.data=[],r=[],h.push(f("array","data"))),s(e)?(p.layout=n.extendDeep({},e),c=e):(p.layout={},c={},arguments.length>1&&h.push(f("object","layout"))),i.supplyDefaults(p);for(var m=p._fullData,g=r.length,b=0;b<g;b++){var v=r[b],y=["data",b];if(s(v)){var x=m[b],w=x.type,_=u.traces[w].attributes;_.type={valType:"enumerated",values:[w]},!1===x.visible&&!1!==v.visible&&h.push(f("invisible",y)),d(v,x,_,h,y)}else h.push(f("object",y))}var k=p._fullLayout,A=function(t,e){for(var r=t.layout.layoutAttributes,i=0;i<e.length;i++){var o=e[i],a=t.traces[o.type],s=a.layoutAttributes;s&&(o.subplot?n.extendFlat(r[a.attributes.subplot.dflt],s):n.extendFlat(r,s))}return r}(u,m);return d(c,k,A,h,"layout"),0===h.length?void 0:h};var u={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":h(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":h(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return h(t)+"key "+e+" is not part of the schema"},unused:function(t,e,r){var n=s(r)?"container":"key";return h(t)+n+" "+e+" did not get coerced"},dynamic:function(t,e,r,n){return[h(t)+"key",e,"(set to '"+r+"')","got reset to","'"+n+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?h(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,r){return[h(t)+"key "+e,"is set to an invalid value ("+r+")"].join(" ")}};function h(t){return l(t)?"In data trace "+t[1]+", ":"In "+t+", "}function f(t,e,r,i,o){var a,s;r=r||"",l(e)?(a=e[0],s=e[1]):(a=e,s=null);var c=function(t){if(!l(t))return String(t);for(var e="",r=0;r<t.length;r++){var n=t[r];"number"==typeof n?e=e.substr(0,e.length-1)+"["+n+"]":e+=n,r<t.length-1&&(e+=".")}return e}(r),d=u[t](e,c,i,o);return n.log(d),{code:t,container:a,trace:s,path:r,astr:c,msg:d}}function p(t,e){var r=b(e),n=r.keyMinusId,i=r.id;return!!(n in t&&t[n]._isSubplotObj&&i)||e in t}function m(t,e){return e in t?t[e]:t[b(e).keyMinusId]}var g=n.counterRegex("([a-z]+)");function b(t){var e=t.match(g);return{keyMinusId:e&&e[1],id:e&&e[2]}}},56384:(t,e,r)=>{"use strict";var n=r(677);t.exports={hasLines:n.hasLines,hasMarkers:n.hasMarkers,hasText:n.hasText,isBubble:n.isBubble,attributes:r(98387),layoutAttributes:r(49114),supplyDefaults:r(28724),crossTraceDefaults:r(30415),supplyLayoutDefaults:r(25229),calc:r(93459).calc,crossTraceCalc:r(30888),arraysToCalcdata:r(55508),plot:r(54461),colorbar:r(89927),formatLabels:r(23315),style:r(21905).style,styleOnSelect:r(21905).styleOnSelect,hoverPoints:r(2686),selectPoints:r(96414),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(29592),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},56539:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},56666:(t,e,r)=>{"use strict";var n=r(12822),i=r(25059);t.exports=function(t,e,r,o){var a,s=o("x"),l=o("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],r),s){var c=n.minRowLength(s);l?a=Math.min(c,n.minRowLength(l)):(a=c,o("y0"),o("dy"))}else{if(!l)return 0;a=n.minRowLength(l),o("x0"),o("dx")}return e._length=a,a}},56694:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2722%27 height=%2722%27 fill=%27%2333b5e5%27 viewBox=%270 0 22 22%27%3E%3Cpath d=%27m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0%27/%3E%3C/svg%3E"},56787:(t,e,r)=>{"use strict";var n=r(12822),i=r(42704),o=r(11148);r(13078),t.exports=function(t,e){var r;return n.isPlainObject(t)||(r=n.getGraphDiv(t)),(e=e||{}).format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise((function(n,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),r&&(r._snapshotInProgress=!0);var s=i(t,e),l=e.filename||t.fn||"newplot";l+="."+e.format.replace("-","."),s.then((function(t){return r&&(r._snapshotInProgress=!1),o(t,l,e.format)})).then((function(t){n(t)})).catch((function(t){r&&(r._snapshotInProgress=!1),a(t)}))}))}},56885:(t,e,r)=>{"use strict";var n,i=r(41888);n="function"==typeof r.g.matchMedia?!r.g.matchMedia("(hover: none)").matches:i,t.exports=n},57154:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},57249:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e"},57255:t=>{"use strict";t.exports=Function.prototype.call},57755:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(56885),a=r(12822),s=a.nestedProperty,l=r(16677),c=r(79385),d=r(25059),u=r(35852),h=r(51137),f=r(75815),p=r(46458),m=r(86130),g=r(40666),b=r(17499),v=r(30977).initInteractions,y=r(25853),x=r(70059).clearOutline,w=r(58389).dfltConfig,_=r(50305),k=r(32862),A=r(39004),T=r(62309),M=r(21197).AX_NAME_PATTERN,S=0;function E(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function C(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){a.error(t)}}function z(t,e){C(t,b.combine(e,"white"))}function L(t,e){if(!t._context){t._context=a.extendDeep({},w);var r=n.select("base");t._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var i,s,l,c=t._context;if(e){for(s=Object.keys(e),i=0;i<s.length;i++)"editable"!==(l=s[i])&&"edits"!==l&&l in c&&("setBackground"===l&&"opaque"===e[l]?c[l]=z:c[l]=e[l]);var d=e.editable;if(void 0!==d)for(c.editable=d,s=Object.keys(c.edits),i=0;i<s.length;i++)c.edits[s[i]]=d;if(e.edits)for(s=Object.keys(e.edits),i=0;i<s.length;i++)(l=s[i])in c.edits&&(c.edits[l]=e.edits[l]);c._exportedPlot=e._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||o||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=C),c._hasZeroHeight=c._hasZeroHeight||0===t.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===t.clientWidth;var u=c.scrollZoom,h=c._scrollZoom={};if(!0===u)h.cartesian=1,h.gl3d=1,h.geo=1,h.mapbox=1,h.map=1;else if("string"==typeof u){var f=u.split("+");for(i=0;i<f.length;i++)h[f[i]]=1}else!1!==u&&(h.gl3d=1,h.geo=1,h.mapbox=1,h.map=1)}function O(t,e){var r,n,i=e+1,o=[];for(r=0;r<t.length;r++)(n=t[r])<0?o.push(i+n):o.push(n);return o}function D(t,e,r){var n,i;for(n=0;n<e.length;n++){if((i=e[n])!==parseInt(i,10))throw new Error("all values in "+r+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(r+" must be valid indices for gd.data.");if(e.indexOf(i,n+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+r+" must be unique.")}}function I(t,e,r){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),D(t,e,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&D(t,r,"newIndices"),void 0!==r&&e.length!==r.length)throw new Error("current and new indices must be of equal length.")}function F(t,e,r,n,o){!function(t,e,r,n){var i=a.isPlainObject(n);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var o in D(t,r,"indices"),e){if(!Array.isArray(e[o])||e[o].length!==r.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in n)||!Array.isArray(n[o])||n[o].length!==e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}(t,e,r,n);for(var l=function(t,e,r,n){var o,l,c,d,u,h=a.isPlainObject(n),f=[];for(var p in Array.isArray(r)||(r=[r]),r=O(r,t.data.length-1),e)for(var m=0;m<r.length;m++){if(o=t.data[r[m]],l=(c=s(o,p)).get(),d=e[p][m],!a.isArrayOrTypedArray(d))throw new Error("attribute: "+p+" index: "+m+" must be an array");if(!a.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+p);if(l.constructor!==d.constructor)throw new Error("cannot extend array with an array of a different type: "+p);u=h?n[p][m]:n,i(u)||(u=-1),f.push({prop:c,target:l,insert:d,maxp:Math.floor(u)})}return f}(t,e,r,n),c={},d={},u=0;u<l.length;u++){var h=l[u].prop,f=l[u].maxp,p=o(l[u].target,l[u].insert,f);h.set(p[0]),Array.isArray(c[h.astr])||(c[h.astr]=[]),c[h.astr].push(p[1]),Array.isArray(d[h.astr])||(d[h.astr]=[]),d[h.astr].push(l[u].target.length)}return{update:c,maxPoints:d}}function R(t,e){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}function P(t,r,n,i){t=a.getGraphDiv(t),k.clearPromiseQueue(t);var o={};if("string"==typeof r)o[r]=n;else{if(!a.isPlainObject(r))return a.warn("Restyle fail.",r,n,i),Promise.reject();o=a.extendFlat({},r),void 0===i&&(i=n)}Object.keys(o).length&&(t.changed=!0);var s=k.coerceTraceIndices(t,i),l=U(t,o,s),d=l.flags;d.calc&&(t.calcdata=void 0),d.clearAxisTypes&&k.clearAxisTypes(t,s,{});var u=[];d.fullReplot?u.push(e._doPlot):(u.push(h.previousPromises),h.supplyDefaults(t),d.markerSize&&(h.doCalcdata(t),H(u)),d.style&&u.push(A.doTraceStyle),d.colorbars&&u.push(A.doColorBars),u.push(E)),u.push(h.rehover,h.redrag,h.reselect),c.add(t,P,[t,l.undoit,l.traces],P,[t,l.redoit,l.traces]);var f=a.syncOrAsync(u,t);return f&&f.then||(f=Promise.resolve()),f.then((function(){return t.emit("plotly_restyle",l.eventData),t}))}function j(t){return void 0===t?null:t}function N(t,e){return e?function(e,r,n){var i=s(e,r),o=i.set;return i.set=function(e){B((n||"")+r,i.get(),e,t),o(e)},i}:s}function B(t,e,r,n){if(Array.isArray(e)||Array.isArray(r))for(var i=Array.isArray(e)?e:[],o=Array.isArray(r)?r:[],s=Math.max(i.length,o.length),l=0;l<s;l++)B(t+"["+l+"]",i[l],o[l],n);else if(a.isPlainObject(e)||a.isPlainObject(r)){var c=a.isPlainObject(e)?e:{},d=a.isPlainObject(r)?r:{},u=a.extendFlat({},c,d);for(var h in u)B(t+"."+h,c[h],d[h],n)}else void 0===n[t]&&(n[t]=j(e))}function U(t,e,r){var n,i,o=t._fullLayout,l=t._fullData,c=t.data,p=o._guiEditing,m=N(o._preGUI,p),g=a.extendDeepAll({},e),b=T.traceFlags(),v={},y={};function x(){return r.map((function(){}))}function w(t){var e=f.id2name(t);-1===i.indexOf(e)&&i.push(e)}function _(t){return"LAYOUT"+t+".autorange"}function A(t){return"LAYOUT"+t+".range"}function M(t){for(var e=t;e<l.length;e++)if(l[e]._input===c[t])return l[e]}function S(n,i,a){if(Array.isArray(n))n.forEach((function(t){S(t,i,a)}));else if(!(n in e)&&!k.hasParent(e,n)){var s;if("LAYOUT"===n.substr(0,6))s=m(t.layout,n.replace("LAYOUT",""));else{var l=r[a];s=N(o._tracePreGUI[M(l)._fullInput.uid],p)(c[l],n)}n in y||(y[n]=x()),void 0===y[n][a]&&(y[n][a]=j(s.get())),void 0!==i&&s.set(i)}}function E(t){return function(e){return l[e][t]}}function C(t){return function(e,n){return!1===e?l[r[n]][t]:null}}for(var z in e){if(k.hasParent(e,z))throw new Error("cannot set "+z+" and a parent attribute simultaneously");var L,O,D,I,F,R,P=e[z];if("autobinx"!==z&&"autobiny"!==z||(z=z.charAt(z.length-1)+"bins",P=Array.isArray(P)?P.map(C(z)):!1===P?r.map(E(z)):null),v[z]=P,"LAYOUT"!==z.substr(0,6)){for(y[z]=x(),n=0;n<r.length;n++)if(L=c[r[n]],O=M(r[n]),I=(D=N(o._tracePreGUI[O._fullInput.uid],p)(L,z)).get(),void 0!==(F=Array.isArray(P)?P[n%P.length]:P)){var B=D.parts[D.parts.length-1],U=z.substr(0,z.length-B.length-1),V=U?U+".":"",G=U?s(O,U).get():O;if((R=u.getTraceValObject(O,D.parts))&&R.impliedEdits&&null!==F)for(var H in R.impliedEdits)S(a.relativeAttr(z,H),R.impliedEdits[H],n);else if("thicknessmode"!==B&&"lenmode"!==B||I===F||"fraction"!==F&&"pixels"!==F||!G){if("type"===z&&("pie"===F!=("pie"===I)||"funnelarea"===F!=("funnelarea"===I))){var W="x",q="y";"bar"!==F&&"bar"!==I||"h"!==L.orientation||(W="y",q="x"),a.swapAttrs(L,["?","?src"],"labels",W),a.swapAttrs(L,["d?","?0"],"label",W),a.swapAttrs(L,["?","?src"],"values",q),"pie"===I||"funnelarea"===I?(s(L,"marker.color").set(s(L,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):d.traceIs(L,"cartesian")&&s(L,"marker.colors").set(s(L,"marker.color").get())}}else{var $=o._size,Y=G.orient,Z="top"===Y||"bottom"===Y;if("thicknessmode"===B){var X=Z?$.h:$.w;S(V+"thickness",G.thickness*("fraction"===F?1/X:X),n)}else{var J=Z?$.w:$.h;S(V+"len",G.len*("fraction"===F?1/J:J),n)}}if(y[z][n]=j(I),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(z)){if("orientation"===z){D.set(F);var Q=L.x&&!L.y?"h":"v";if((D.get()||Q)===O.orientation)continue}else"orientationaxes"===z&&(L.orientation={v:"h",h:"v"}[O.orientation]);k.swapXYData(L),b.calc=b.clearAxisTypes=!0}else-1!==h.dataArrayContainers.indexOf(D.parts[0])?(k.manageArrayContainers(D,F,y),b.calc=!0):(R?R.arrayOk&&!d.traceIs(O,"regl")&&(a.isArrayOrTypedArray(F)||a.isArrayOrTypedArray(I))?b.calc=!0:T.update(b,R):b.calc=!0,D.set(F))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(z)&&f.swap(t,r),"orientationaxes"===z){var K=s(t.layout,"hovermode"),tt=K.get();"x"===tt?K.set("y"):"y"===tt?K.set("x"):"x unified"===tt?K.set("y unified"):"y unified"===tt&&K.set("x unified")}if(-1!==["orientation","type"].indexOf(z)){for(i=[],n=0;n<r.length;n++){var et=c[r[n]];d.traceIs(et,"cartesian")&&(w(et.xaxis||"x"),w(et.yaxis||"y"))}S(i.map(_),!0,0),S(i.map(A),[0,1],0)}}else D=m(t.layout,z.replace("LAYOUT","")),y[z]=[j(D.get())],D.set(Array.isArray(P)?P[0]:P),b.calc=!0}return(b.calc||b.plot)&&(b.fullReplot=!0),{flags:b,undoit:y,redoit:v,traces:r,eventData:a.extendDeepNoArrays([],[g,r])}}function V(t,e,r){t=a.getGraphDiv(t),k.clearPromiseQueue(t);var n={};if("string"==typeof e)n[e]=r;else{if(!a.isPlainObject(e))return a.warn("Relayout fail.",e,r),Promise.reject();n=a.extendFlat({},e)}Object.keys(n).length&&(t.changed=!0);var i=Y(t,n),o=i.flags;o.calc&&(t.calcdata=void 0);var s=[h.previousPromises];o.layoutReplot?s.push(A.layoutReplot):Object.keys(n).length&&(G(t,o,i)||h.supplyDefaults(t),o.legend&&s.push(A.doLegend),o.layoutstyle&&s.push(A.layoutStyles),o.axrange&&H(s,i.rangesAltered),o.ticks&&s.push(A.doTicksRelayout),o.modebar&&s.push(A.doModeBar),o.camera&&s.push(A.doCamera),o.colorbars&&s.push(A.doColorBars),s.push(E)),s.push(h.rehover,h.redrag,h.reselect),c.add(t,V,[t,i.undoit],V,[t,i.redoit]);var l=a.syncOrAsync(s,t);return l&&l.then||(l=Promise.resolve(t)),l.then((function(){return t.emit("plotly_relayout",i.eventData),t}))}function G(t,e,r){var n,i,o=t._fullLayout;if(!e.axrange)return!1;for(var s in e)if("axrange"!==s&&e[s])return!1;var l=function(t,e){return a.coerce(n,i,m,t,e)},c={};for(var d in r.rangesAltered){var u=f.id2name(d);if(n=t.layout[u],i=o[u],p(n,i,l,c),i._matchGroup)for(var h in i._matchGroup)if(h!==d){var g=o[f.id2name(h)];g.autorange=i.autorange,g.range=i.range.slice(),g._input.range=i.range.slice()}}return!0}function H(t,e){var r=e?function(t){var r=[];for(var n in e){var i=f.getFromId(t,n);if(r.push(n),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&r.push(i._anchorAxis._id),i._matchGroup)for(var o in i._matchGroup)e[o]||r.push(o)}return f.draw(t,r,{skipTitle:!0})}:function(t){return f.draw(t,"redraw")};t.push(x,A.doAutoRangeAndConstraints,r,A.drawData,A.finalDraw)}var W=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,q=/^[xyz]axis[0-9]*\.autorange$/,$=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Y(t,e){var r,n,i,o=t.layout,l=t._fullLayout,c=l._guiEditing,h=N(l._preGUI,c),p=Object.keys(e),m=f.list(t),g=a.extendDeepAll({},e),b={};for(p=Object.keys(e),n=0;n<p.length;n++)if(0===p[n].indexOf("allaxes")){for(i=0;i<m.length;i++){var v=m[i]._id.substr(1),y=-1!==v.indexOf("scene")?v+".":"",x=p[n].replace("allaxes",y+m[i]._name);e[x]||(e[x]=e[p[n]])}delete e[p[n]]}var w=T.layoutFlags(),A={},S={};function E(t,r){if(Array.isArray(t))t.forEach((function(t){E(t,r)}));else if(!(t in e)&&!k.hasParent(e,t)){var n=h(o,t);t in S||(S[t]=j(n.get())),void 0!==r&&n.set(r)}}var C,z={};function L(t){var e=f.name2id(t.split(".")[0]);return z[e]=1,e}for(var O in e){if(k.hasParent(e,O))throw new Error("cannot set "+O+" and a parent attribute simultaneously");for(var D=h(o,O),I=e[O],F=D.parts.length-1;F>0&&"string"!=typeof D.parts[F];)F--;var R=D.parts[F],P=D.parts[F-1]+"."+R,B=D.parts.slice(0,F).join("."),U=s(t.layout,B).get(),V=s(l,B).get(),G=D.get();if(void 0!==I){A[O]=I,S[O]="reverse"===R?I:j(G);var H=u.getLayoutValObject(l,D.parts);if(H&&H.impliedEdits&&null!==I)for(var Y in H.impliedEdits)E(a.relativeAttr(O,Y),H.impliedEdits[Y]);if(-1!==["width","height"].indexOf(O))if(I){E("autosize",null);var X="height"===O?"width":"height";E(X,l[X])}else l[O]=t._initialAutoSize[O];else if("autosize"===O)E("width",I?null:l.width),E("height",I?null:l.height);else if(P.match(W))L(P),s(l,B+"._inputRange").set(null);else if(P.match(q)){L(P),s(l,B+"._inputRange").set(null);var J=s(l,B).get();J._inputDomain&&(J._input.domain=J._inputDomain.slice())}else P.match($)&&s(l,B+"._inputDomain").set(null);if("type"===R){C=U;var Q="linear"===V.type&&"log"===I,K="log"===V.type&&"linear"===I;if(Q||K){if(C&&C.range)if(V.autorange)Q&&(C.range=C.range[1]>C.range[0]?[1,2]:[2,1]);else{var tt=C.range[0],et=C.range[1];Q?(tt<=0&&et<=0&&E(B+".autorange",!0),tt<=0?tt=et/1e6:et<=0&&(et=tt/1e6),E(B+".range[0]",Math.log(tt)/Math.LN10),E(B+".range[1]",Math.log(et)/Math.LN10)):(E(B+".range[0]",Math.pow(10,tt)),E(B+".range[1]",Math.pow(10,et)))}else E(B+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[D.parts[0]]&&"radialaxis"===D.parts[1]&&delete l[D.parts[0]]._subplot.viewInitial["radialaxis.range"],d.getComponentMethod("annotations","convertCoords")(t,V,I,E),d.getComponentMethod("images","convertCoords")(t,V,I,E)}else E(B+".autorange",!0),E(B+".range",null);s(l,B+"._inputRange").set(null)}else if(R.match(M)){var rt=s(l,O).get(),nt=(I||{}).type;nt&&"-"!==nt||(nt="linear"),d.getComponentMethod("annotations","convertCoords")(t,rt,nt,E),d.getComponentMethod("images","convertCoords")(t,rt,nt,E)}var it=_.containerArrayMatch(O);if(it){r=it.array,n=it.index;var ot=it.property,at=H||{editType:"calc"};""!==n&&""===ot&&(_.isAddVal(I)?S[O]=null:_.isRemoveVal(I)?S[O]=(s(o,r).get()||[])[n]:a.warn("unrecognized full object value",e)),T.update(w,at),b[r]||(b[r]={});var st=b[r][n];st||(st=b[r][n]={}),st[ot]=I,delete e[O]}else"reverse"===R?(U.range?U.range.reverse():(E(B+".autorange",!0),U.range=[1,0]),V.autorange?w.calc=!0:w.plot=!0):("dragmode"===O&&(!1===I&&!1!==G||!1!==I&&!1===G)||l._has("scatter-like")&&l._has("regl")&&"dragmode"===O&&("lasso"===I||"select"===I)&&"lasso"!==G&&"select"!==G?w.plot=!0:H?T.update(w,H):w.calc=!0,D.set(I))}}for(r in b)_.applyContainerArrayChanges(t,h(o,r),b[r],w,h)||(w.plot=!0);for(var lt in z){var ct=(C=f.getFromId(t,lt))&&C._constraintGroup;if(ct)for(var dt in w.calc=!0,ct)z[dt]||(f.getFromId(t,dt)._constraintShrinkable=!0)}(Z(t)||e.height||e.width)&&(w.plot=!0);var ut=l.shapes;for(n=0;n<ut.length;n++)if(ut[n].showlegend){w.calc=!0;break}return(w.plot||w.calc)&&(w.layoutReplot=!0),{flags:w,rangesAltered:z,undoit:S,redoit:A,eventData:g}}function Z(t){var e=t._fullLayout,r=e.width,n=e.height;return t.layout.autosize&&h.plotAutoSize(t,t.layout,e),e.width!==r||e.height!==n}function X(t,r,n,i){t=a.getGraphDiv(t),k.clearPromiseQueue(t),a.isPlainObject(r)||(r={}),a.isPlainObject(n)||(n={}),Object.keys(r).length&&(t.changed=!0),Object.keys(n).length&&(t.changed=!0);var o=k.coerceTraceIndices(t,i),s=U(t,a.extendFlat({},r),o),l=s.flags,d=Y(t,a.extendFlat({},n)),u=d.flags;(l.calc||u.calc)&&(t.calcdata=void 0),l.clearAxisTypes&&k.clearAxisTypes(t,o,n);var f=[];u.layoutReplot?f.push(A.layoutReplot):l.fullReplot?f.push(e._doPlot):(f.push(h.previousPromises),G(t,u,d)||h.supplyDefaults(t),l.style&&f.push(A.doTraceStyle),(l.colorbars||u.colorbars)&&f.push(A.doColorBars),u.legend&&f.push(A.doLegend),u.layoutstyle&&f.push(A.layoutStyles),u.axrange&&H(f,d.rangesAltered),u.ticks&&f.push(A.doTicksRelayout),u.modebar&&f.push(A.doModeBar),u.camera&&f.push(A.doCamera),f.push(E)),f.push(h.rehover,h.redrag,h.reselect),c.add(t,X,[t,s.undoit,d.undoit,s.traces],X,[t,s.redoit,d.redoit,s.traces]);var p=a.syncOrAsync(f,t);return p&&p.then||(p=Promise.resolve(t)),p.then((function(){return t.emit("plotly_update",{data:s.eventData,layout:d.eventData}),t}))}function J(t){return function(e){e._fullLayout._guiEditing=!0;var r=t.apply(null,arguments);return e._fullLayout._guiEditing=!1,r}}var Q=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],K=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=t.match(n.pattern);if(i){var o=i[1]||"";return{head:o,tail:t.substr(o.length+1),attr:n.attr}}}}function et(t,e){var r=s(e,t).get();if(void 0!==r)return r;var n=t.split(".");for(n.pop();n.length>1;)if(n.pop(),void 0!==(r=s(e,n.join(".")+".uirevision").get()))return r;return e.uirevision}function rt(t,e){for(var r=0;r<e.length;r++)if(e[r]._fullInput.uid===t)return r;return-1}function nt(t,e,r){for(var n=0;n<e.length;n++)if(e[n].uid===t)return n;return!e[r]||e[r].uid?-1:r}function it(t,e){var r=a.isPlainObject(t),n=Array.isArray(t);return r||n?(r&&a.isPlainObject(e)||n&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function ot(t,e,r,n){var i,o,s,l=n.getValObject,c=n.flags,d=n.immutable,u=n.inArray,h=n.arrayIndex;function f(){var t=i.editType;u&&-1!==t.indexOf("arraydraw")?a.pushUnique(c.arrays[u],h):(T.update(c,i),"none"!==t&&c.nChanges++,n.transition&&i.anim&&c.nChangesAnim++,(W.test(s)||q.test(s))&&(c.rangesAltered[r[0]]=1),"datarevision"===o&&(c.newDataRevision=1))}function p(t){return"data_array"===t.valType||t.arrayOk}for(o in t){if(c.calc&&!n.transition)return;var m=t[o],g=e[o],b=r.concat(o);if(s=b.join("."),"_"!==o.charAt(0)&&"function"!=typeof m&&m!==g){if(("tick0"===o||"dtick"===o)&&"geo"!==r[0]){var v=e.tickmode;if("auto"===v||"array"===v||!v)continue}if(("range"!==o||!e.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==e.type)&&(i=l(b))&&(!i._compareAsJSON||JSON.stringify(m)!==JSON.stringify(g))){var y,x=i.valType,w=p(i),_=Array.isArray(m),k=Array.isArray(g);if(_&&k){var A="_input_"+o,M=t[A],S=e[A];if(Array.isArray(M)&&M===S)continue}if(void 0===g)w&&_?c.calc=!0:f();else if(i._isLinkedToArray){var E=[],C=!1;u||(c.arrays[o]=E);var z=Math.min(m.length,g.length),L=Math.max(m.length,g.length);if(z!==L){if("arraydraw"!==i.editType){f();continue}C=!0}for(y=0;y<z;y++)ot(m[y],g[y],b.concat(y),a.extendFlat({inArray:o,arrayIndex:y},n));if(C)for(y=z;y<L;y++)E.push(y)}else!x&&a.isPlainObject(m)?ot(m,g,b,n):w?_&&k?(d&&(c.calc=!0),(d||n.newDataRevision)&&f()):_!==k?c.calc=!0:f():_&&k&&m.length===g.length&&String(m)===String(g)||f()}}}for(o in e)if(!(o in t)&&"_"!==o.charAt(0)&&"function"!=typeof e[o]){if(p(i=l(r.concat(o)))&&Array.isArray(e[o]))return void(c.calc=!0);f()}}function at(t){var e=t._fullLayout,r=t.getBoundingClientRect();if(!a.equalDomRects(r,e._lastBBox)){var n=e._invTransform=a.inverseTransformMatrix(a.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(n[0][0]*n[0][0]+n[0][1]*n[0][1]+n[0][2]*n[0][2]),e._invScaleY=Math.sqrt(n[1][0]*n[1][0]+n[1][1]*n[1][1]+n[1][2]*n[1][2]),e._lastBBox=r}}e.animate=function(t,e,r){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var n=t._transitionData;n._frameQueue||(n._frameQueue=[]);var i=(r=h.supplyAnimationDefaults(r)).transition,o=r.frame;function s(t){return Array.isArray(i)?t>=i.length?i[0]:i[t]:i}function l(t){return Array.isArray(o)?t>=o.length?o[0]:o[t]:o}function c(t,e){var r=0;return function(){if(t&&++r===e)return t()}}return void 0===n._frameWaitingCnt&&(n._frameWaitingCnt=0),new Promise((function(o,d){function u(){t.emit("plotly_animating"),n._lastFrameAt=-1/0,n._timeToNext=0,n._runningTransitions=0,n._currentFrame=null;var e=function(){n._animationRaf=window.requestAnimationFrame(e),Date.now()-n._lastFrameAt>n._timeToNext&&function(){n._currentFrame&&n._currentFrame.onComplete&&n._currentFrame.onComplete();var e=n._currentFrame=n._frameQueue.shift();if(e){var r=e.name?e.name.toString():null;t._fullLayout._currentFrame=r,n._lastFrameAt=Date.now(),n._timeToNext=e.frameOpts.duration,h.transition(t,e.frame.data,e.frame.layout,k.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then((function(){e.onComplete&&e.onComplete()})),t.emit("plotly_animatingframe",{name:r,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(n._animationRaf),n._animationRaf=null}()};e()}var f,p,m=0;function g(t){return Array.isArray(i)?m>=i.length?t.transitionOpts=i[m]:t.transitionOpts=i[0]:t.transitionOpts=i,m++,t}var b=[],v=null==e,y=Array.isArray(e);if(v||y||!a.isPlainObject(e)){if(v||-1!==["string","number"].indexOf(typeof e))for(f=0;f<n._frames.length;f++)(p=n._frames[f])&&(v||String(p.group)===String(e))&&b.push({type:"byname",name:String(p.name),data:g({name:p.name})});else if(y)for(f=0;f<e.length;f++){var x=e[f];-1!==["number","string"].indexOf(typeof x)?(x=String(x),b.push({type:"byname",name:x,data:g({name:x})})):a.isPlainObject(x)&&b.push({type:"object",data:g(a.extendFlat({},x))})}}else b.push({type:"object",data:g(a.extendFlat({},e))});for(f=0;f<b.length;f++)if("byname"===(p=b[f]).type&&!n._frameHash[p.data.name])return a.warn('animate failure: frame not found: "'+p.data.name+'"'),void d();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==n._frameQueue.length){for(;n._frameQueue.length;){var e=n._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&b.reverse();var w=t._fullLayout._currentFrame;if(w&&r.fromcurrent){var _=-1;for(f=0;f<b.length;f++)if("byname"===(p=b[f]).type&&p.name===w){_=f;break}if(_>0&&_<b.length-1){var A=[];for(f=0;f<b.length;f++)p=b[f],("byname"!==b[f].type||f>_)&&A.push(p);b=A}}b.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var a;a="byname"===e[i].type?h.computeFrame(t,e[i].name):e[i].data;var f=l(i),p=s(i);p.duration=Math.min(p.duration,f.duration);var m={frame:a,name:e[i].name,frameOpts:f,transitionOpts:p};i===e.length-1&&(m.onComplete=c(o,2),m.onInterrupt=d),n._frameQueue.push(m)}"immediate"===r.mode&&(n._lastFrameAt=-1/0),n._animationRaf||u()}}(b):(t.emit("plotly_animated"),o())}))},e.addFrames=function(t,e,r){if(t=a.getGraphDiv(t),null==e)return Promise.resolve();if(!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var n,i,o,s,l=t._transitionData._frames,d=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var u=l.length+2*e.length,f=[],p={};for(n=e.length-1;n>=0;n--)if(a.isPlainObject(e[n])){var m=e[n].name,g=(d[m]||p[m]||{}).name,b=e[n].name,v=d[g]||p[g];g&&b&&"number"==typeof b&&v&&S<5&&(S++,a.warn('addFrames: overwriting frame "'+(d[g]||p[g]).name+'" with a frame whose name of type "number" also equates to "'+g+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[m]={name:m},f.push({frame:h.supplyFrameDefaults(e[n]),index:r&&void 0!==r[n]&&null!==r[n]?r[n]:u+n})}f.sort((function(t,e){return t.index>e.index?-1:t.index<e.index?1:0}));var y=[],x=[],w=l.length;for(n=f.length-1;n>=0;n--){if("number"==typeof(i=f[n].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;d[i.name="frame "+t._transitionData._counter++];);if(d[i.name]){for(o=0;o<l.length&&(l[o]||{}).name!==i.name;o++);y.push({type:"replace",index:o,value:i}),x.unshift({type:"replace",index:o,value:l[o]})}else s=Math.max(0,Math.min(f[n].index,w)),y.push({type:"insert",index:s,value:i}),x.unshift({type:"delete",index:s}),w++}var _=h.modifyFrames,k=h.modifyFrames,A=[t,x],T=[t,y];return c&&c.add(t,_,A,k,T),h.modifyFrames(t,y)},e.deleteFrames=function(t,e){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var r,n,i=t._transitionData._frames,o=[],s=[];if(!e)for(e=[],r=0;r<i.length;r++)e.push(r);for((e=e.slice()).sort(),r=e.length-1;r>=0;r--)n=e[r],o.push({type:"delete",index:n}),s.unshift({type:"insert",index:n,value:i[n]});var l=h.modifyFrames,d=h.modifyFrames,u=[t,s],f=[t,o];return c&&c.add(t,l,u,d,f),h.modifyFrames(t,o)},e.addTraces=function t(r,n,i){r=a.getGraphDiv(r);var o,s,l=[],d=e.deleteTraces,u=t,h=[r,l],f=[r,n];for(function(t,e,r){var n,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),n=0;n<e.length;n++)if("object"!=typeof(i=e[n])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(r,n,i),Array.isArray(n)||(n=[n]),n=n.map((function(t){return a.extendFlat({},t)})),k.cleanData(n),o=0;o<n.length;o++)r.data.push(n[o]);for(o=0;o<n.length;o++)l.push(-n.length+o);if(void 0===i)return s=e.redraw(r),c.add(r,d,h,u,f),s;Array.isArray(i)||(i=[i]);try{I(r,l,i)}catch(t){throw r.data.splice(r.data.length-n.length,n.length),t}return c.startSequence(r),c.add(r,d,h,u,f),s=e.moveTraces(r,l,i),c.stopSequence(r),s},e.deleteTraces=function t(r,n){r=a.getGraphDiv(r);var i,o,s=[],l=e.addTraces,d=t,u=[r,s,n],h=[r,n];if(void 0===n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),D(r,n,"indices"),(n=O(n,r.data.length-1)).sort(a.sorterDes),i=0;i<n.length;i+=1)o=r.data.splice(n[i],1)[0],s.push(o);var f=e.redraw(r);return c.add(r,l,u,d,h),f},e.extendTraces=function t(r,n,i,o){var s=F(r=a.getGraphDiv(r),n,i,o,(function(t,e,r){var n,i;if(a.isTypedArray(t))if(r<0){var o=new t.constructor(0),s=R(t,e);r<0?(n=s,i=o):(n=o,i=s)}else if(n=new t.constructor(r),i=new t.constructor(t.length+e.length-r),r===e.length)n.set(e),i.set(t);else if(r<e.length){var l=e.length-r;n.set(e.subarray(l)),i.set(t),i.set(e.subarray(0,l),t.length)}else{var c=r-e.length,d=t.length-c;n.set(t.subarray(d)),n.set(e,c),i.set(t.subarray(0,d))}else n=t.concat(e),i=r>=0&&r<n.length?n.splice(0,n.length-r):[];return[n,i]})),l=e.redraw(r),d=[r,s.update,i,s.maxPoints];return c.add(r,e.prependTraces,d,t,arguments),l},e.moveTraces=function t(r,n,i){var o,s=[],l=[],d=t,u=t,h=[r=a.getGraphDiv(r),i,n],f=[r,n,i];if(I(r,n,i),n=Array.isArray(n)?n:[n],void 0===i)for(i=[],o=0;o<n.length;o++)i.push(-n.length+o);for(i=Array.isArray(i)?i:[i],n=O(n,r.data.length-1),i=O(i,r.data.length-1),o=0;o<r.data.length;o++)-1===n.indexOf(o)&&s.push(r.data[o]);for(o=0;o<n.length;o++)l.push({newIndex:i[o],trace:r.data[n[o]]});for(l.sort((function(t,e){return t.newIndex-e.newIndex})),o=0;o<l.length;o+=1)s.splice(l[o].newIndex,0,l[o].trace);r.data=s;var p=e.redraw(r);return c.add(r,d,h,u,f),p},e.prependTraces=function t(r,n,i,o){var s=F(r=a.getGraphDiv(r),n,i,o,(function(t,e,r){var n,i;if(a.isTypedArray(t))if(r<=0){var o=new t.constructor(0),s=R(e,t);r<0?(n=s,i=o):(n=o,i=s)}else if(n=new t.constructor(r),i=new t.constructor(t.length+e.length-r),r===e.length)n.set(e),i.set(t);else if(r<e.length){var l=e.length-r;n.set(e.subarray(0,l)),i.set(e.subarray(l)),i.set(t,l)}else{var c=r-e.length;n.set(e),n.set(t.subarray(0,c),e.length),i.set(t.subarray(c))}else n=e.concat(t),i=r>=0&&r<n.length?n.splice(r,n.length):[];return[n,i]})),l=e.redraw(r),d=[r,s.update,i,s.maxPoints];return c.add(r,e.extendTraces,d,t,arguments),l},e.newPlot=function(t,r,n,i){return t=a.getGraphDiv(t),h.cleanPlot([],{},t._fullData||[],t._fullLayout||{}),h.purge(t),e._doPlot(t,r,n,i)},e._doPlot=function(t,r,i,o){var s;if(t=a.getGraphDiv(t),l.init(t),a.isPlainObject(r)){var c=r;r=c.data,i=c.layout,o=c.config,s=c.frames}if(!1===l.triggerHandler(t,"plotly_beforeplot",[r,i,o]))return Promise.reject();r||i||a.isPlotDiv(t)||a.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",t),L(t,o),i||(i={}),n.select(t).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(t._promises)||(t._promises=[]);var u=0===(t.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(k.cleanData(r),u?t.data=r:t.data.push.apply(t.data,r),t.empty=!1),t.layout&&!u||(t.layout=k.cleanLayout(i)),h.supplyDefaults(t);var p=t._fullLayout,m=p._has("cartesian");p._replotting=!0,(u||p._shouldCreateBgLayer)&&(function(t){var e=n.select(t),r=t._fullLayout;if(r._calcInverseTransform=at,r._calcInverseTransform(t),r._container=e.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var i={};n.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),r._uid=a.randstr(i)}r._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var o=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=o.append("g").classed("imagelayer",!0),r._shapeLowerLayer=o.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._smithlayer=r._paper.append("g").classed("smithlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._iciclelayer=r._paper.append("g").classed("iciclelayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var s=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=s.append("g").classed("imagelayer",!0),r._shapeUpperLayer=s.append("g").classed("shapelayer",!0),r._selectionLayer=r._toppaper.append("g").classed("selectionlayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}(t),p._shouldCreateBgLayer&&delete p._shouldCreateBgLayer),g.initGradients(t),g.initPatterns(t),u&&f.saveShowSpikeInitial(t);var b=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;b&&h.doCalcdata(t);for(var x=0;x<t.calcdata.length;x++)t.calcdata[x][0].trace=t._fullData[x];t._context.responsive?t._responsiveChartHandler||(t._responsiveChartHandler=function(){a.isHidden(t)||h.resize(t)},window.addEventListener("resize",t._responsiveChartHandler)):a.clearResponsive(t);var w=a.extendFlat({},p._size),_=0;function T(){if(h.clearAutoMarginIds(t),A.drawMarginPushers(t),f.allowAutoMargin(t),t._fullLayout.title.text&&t._fullLayout.title.automargin&&h.allowAutoMargin(t,"title.automargin"),p._has("pie"))for(var e=t._fullData,r=0;r<e.length;r++){var n=e[r];"pie"===n.type&&n.automargin&&h.allowAutoMargin(t,"pie."+n.uid+".automargin")}return h.doAutoMargin(t),h.previousPromises(t)}function M(){t._transitioning||(A.doAutoRangeAndConstraints(t),u&&f.saveRangeInitial(t),d.getComponentMethod("rangeslider","calcAutorange")(t))}var S=[h.previousPromises,function(){if(s)return e.addFrames(t,s)},function e(){for(var r=p._basePlotModules,n=0;n<r.length;n++)r[n].drawFramework&&r[n].drawFramework(t);!p._glcanvas&&p._has("gl")&&(p._glcanvas=p._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(t){return t.key})),p._glcanvas.enter().append("canvas").attr("class",(function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var i=t._context.plotGlPixelRatio;if(p._glcanvas){p._glcanvas.attr("width",p.width*i).attr("height",p.height*i).style("width",p.width+"px").style("height",p.height+"px");var o=p._glcanvas.data()[0].regl;if(o&&(Math.floor(p.width*i)!==o._gl.drawingBufferWidth||Math.floor(p.height*i)!==o._gl.drawingBufferHeight)){var s="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!_)return a.log(s+" Clearing graph and plotting again."),h.cleanPlot([],{},t._fullData,p),h.supplyDefaults(t),p=t._fullLayout,h.doCalcdata(t),_++,e();a.error(s)}}return"h"===p.modebar.orientation?p._modebardiv.style("height",null).style("width","100%"):p._modebardiv.style("width",null).style("height",p.height+"px"),h.previousPromises(t)},T,function(){if(h.didMarginChange(w,p._size))return a.syncOrAsync([T,A.layoutStyles],t)}];m&&S.push((function(){if(b)return a.syncOrAsync([d.getComponentMethod("shapes","calcAutorange"),d.getComponentMethod("annotations","calcAutorange"),M],t);M()})),S.push(A.layoutStyles),m&&S.push((function(){return f.draw(t,u?"":"redraw")}),(function(t){var e=t._fullLayout._insideTickLabelsUpdaterange;if(e)return t._fullLayout._insideTickLabelsUpdaterange=void 0,V(t,e).then((function(){f.saveRangeInitial(t,!0)}))})),S.push(A.drawData,A.finalDraw,v,h.addLinks,h.rehover,h.redrag,h.reselect,h.doAutoMargin,h.previousPromises);var C=a.syncOrAsync(S,t);return C&&C.then||(C=Promise.resolve()),C.then((function(){return E(t),t}))},e.purge=function(t){var e=(t=a.getGraphDiv(t))._fullLayout||{},r=t._fullData||[];return h.cleanPlot([],{},r,e),h.purge(t),l.purge(t),e._container&&e._container.remove(),delete t._context,t},e.react=function(t,r,n,i){var o,l;t=a.getGraphDiv(t),k.clearPromiseQueue(t);var c=t._fullData,f=t._fullLayout;if(a.isPlotDiv(t)&&c&&f){if(a.isPlainObject(r)){var p=r;r=p.data,n=p.layout,i=p.config,o=p.frames}var m=!1;if(i){const e=a.extendDeepAll({},t._context);t._context=void 0,L(t,i),m=!k.collectionsAreEqual(e,t._context)}if(m){const o=t._ev.eventNames().map((e=>[e,t._ev.listeners(e)]));l=e.newPlot(t,r,n,i).then((()=>{for(const[e,r]of o)r.forEach((r=>t.on(e,r)));return e.react(t,r,n,i)}))}else{t.data=r||[],k.cleanData(t.data),t.layout=n||{},k.cleanLayout(t.layout),function(t,e,r,n){var i,o,l,c,d,u,h,f,p,m,g=n._preGUI,b=[],v={},y={};for(i in g){if(d=tt(i,Q)){if(p=d.head,m=d.tail,o=d.attr||p+".uirevision",(c=(l=s(n,o).get())&&et(o,e))&&c===l){if(null===(u=g[i])&&(u=void 0),it(f=(h=s(e,i)).get(),u)){void 0===f&&"autorange"===m&&b.push(p),h.set(j(s(n,i).get()));continue}if("autorange"===m||"range["===m.substr(0,6)){var x=g[p+".range[0]"],w=g[p+".range[1]"],_=g[p+".autorange"];if(_||null===_&&null===x&&null===w){if(!(p in v)){var k=s(e,p).get();v[p]=k&&(k.autorange||!1!==k.autorange&&(!k.range||2!==k.range.length))}if(v[p]){h.set(j(s(n,i).get()));continue}}}}}else a.warn("unrecognized GUI edit: "+i);delete g[i],d&&"range["===d.tail.substr(0,6)&&(y[d.head]=1)}for(var A=0;A<b.length;A++){var T=b[A];if(y[T]){var M=s(e,T).get();M&&delete M.autorange}}var S=n._tracePreGUI;for(var E in S){var C,z=S[E],L=null;for(i in z){if(!L){var O=rt(E,r);if(O<0){delete S[E];break}var D=nt(E,t,(C=r[O]._fullInput).index);if(D<0){delete S[E];break}L=t[D]}if(d=tt(i,K)){if(d.attr?c=(l=s(n,d.attr).get())&&et(d.attr,e):(l=C.uirevision,void 0===(c=L.uirevision)&&(c=e.uirevision)),c&&c===l&&(null===(u=z[i])&&(u=void 0),it(f=(h=s(L,i)).get(),u))){h.set(j(s(C,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i+" in trace uid "+E);delete z[i]}}}(t.data,t.layout,c,f),h.supplyDefaults(t,{skipUpdateCalc:!0});var g=t._fullData,b=t._fullLayout,v=void 0===b.datarevision,y=b.transition,x=function(t,e,r,n,i){var o=T.layoutFlags();for(var a in o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0,r)if((a.startsWith("xaxis")||a.startsWith("yaxis"))&&e[a]){var s=r[a].domain,l=e[a].domain,c=e[a]._inputDomain;e[a]._inputDomain&&(s[0]===c[0]&&s[1]===c[1]?r[a].domain=e[a].domain:s[0]===l[0]&&s[1]===l[1]||(r[a]._inputDomain=null))}return ot(e,r,[],{getValObject:function(t){return u.getLayoutValObject(r,t)},flags:o,immutable:n,transition:i,gd:t}),(o.plot||o.calc)&&(o.layoutReplot=!0),i&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}(t,f,b,v,y),w=x.newDataRevision,_=function(t,e,r,n,i,o){var a=e.length===r.length;if(!i&&!a)return{fullReplot:!0,calc:!0};var s,l,c=T.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var d={getValObject:function(t){var e=u.getTraceValObject(l,t);return!l._module.animatable&&e.anim&&(e.anim=!1),e},flags:c,immutable:n,transition:i,newDataRevision:o,gd:t},h={};for(s=0;s<e.length;s++)if(r[s]){if(h[(l=r[s]._fullInput).uid])continue;h[l.uid]=1,ot(e[s]._fullInput,l,[],d)}return(c.calc||c.plot)&&(c.fullReplot=!0),i&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&a?"all":"some"),c}(t,c,g,v,y,w);if(Z(t)&&(x.layoutReplot=!0),_.calc||x.calc){t.calcdata=void 0;for(var M=Object.getOwnPropertyNames(b),S=0;S<M.length;S++){var C=M[S],z=C.substring(0,5);if("xaxis"===z||"yaxis"===z){var O=b[C]._emptyCategories;O&&O()}}}else h.supplyDefaultsUpdateCalc(t.calcdata,g);var D=[];if(o&&(t._transitionData={},h.createTransitionData(t),D.push((function(){return e.addFrames(t,o)}))),b.transition&&(_.anim||x.anim))x.ticks&&D.push(A.doTicksRelayout),h.doCalcdata(t),A.doAutoRangeAndConstraints(t),D.push((function(){return h.transitionFromReact(t,_,x,f)}));else if(_.fullReplot||x.layoutReplot)t._fullLayout._skipDefaults=!0,D.push(e._doPlot);else{for(var I in x.arrays){var F=x.arrays[I];if(F.length){var R=d.getComponentMethod(I,"drawOne");if(R!==a.noop)for(var P=0;P<F.length;P++)R(t,F[P]);else{var N=d.getComponentMethod(I,"draw");if(N===a.noop)throw new Error("cannot draw components: "+I);N(t)}}}D.push(h.previousPromises),_.style&&D.push(A.doTraceStyle),(_.colorbars||x.colorbars)&&D.push(A.doColorBars),x.legend&&D.push(A.doLegend),x.layoutstyle&&D.push(A.layoutStyles),x.axrange&&H(D),x.ticks&&D.push(A.doTicksRelayout),x.modebar&&D.push(A.doModeBar),x.camera&&D.push(A.doCamera),D.push(E)}D.push(h.rehover,h.redrag,h.reselect),(l=a.syncOrAsync(D,t))&&l.then||(l=Promise.resolve(t))}}else l=e.newPlot(t,r,n,i);return l.then((()=>(m||t.emit("plotly_react",{config:i,data:r,layout:n}),t)))},e.redraw=function(t){if(t=a.getGraphDiv(t),!a.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return k.cleanData(t.data),k.cleanLayout(t.layout),t.calcdata=void 0,e._doPlot(t).then((function(){return t.emit("plotly_redraw"),t}))},e.relayout=V,e.restyle=P,e.setPlotConfig=function(t){return a.extendFlat(w,t)},e.update=X,e._guiRelayout=J(V),e._guiRestyle=J(P),e._guiUpdate=J(X),e._storeDirectGUIEdit=function(t,e,r){for(var n in r)B(n,s(t,n).get(),r[n],e)}},57809:(t,e,r)=>{"use strict";var n=r(35366),i=r(44691),o=r(57255),a=r(63200);t.exports=a||n.call(o,i)},57931:t=>{"use strict";var e={tonextx:1,tonexty:1,tonext:1};t.exports=function(t,r,n){var i,o,a,s,l,c={},d=!1,u=-1,h=0,f=-1;for(o=0;o<n.length;o++)(a=(i=n[o][0].trace).stackgroup||"")?a in c?l=c[a]:(l=c[a]=h,h++):i.fill in e&&f>=0?l=f:(l=f=h,h++),l<u&&(d=!0),i._groupIndex=u=l;var p=n.slice();d&&p.sort((function(t,e){var r=t[0].trace,n=e[0].trace;return r._groupIndex-n._groupIndex||r.index-n.index}));var m={};for(o=0;o<p.length;o++)a=(i=p[o][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in e&&(s=m[a],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),m[a]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}},58146:(t,e,r)=>{"use strict";var n=r(12822);t.exports=function(t,e){n.isArrayOrTypedArray(e.selectedpoints)&&n.tagSelected(t,e)}},58204:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(51137),a=r(17499),s=r(40666),l=r(12822),c=l.strTranslate,d=r(80394),u=r(99246),h=r(89701),f=h.LINE_SPACING,p=h.FROM_TL,m=h.FROM_BR,g=r(12057),b=r(98822);function v(t){return t._id}function y(t,e,r){var n=l.ensureSingle(t,"rect","selector-rect",(function(t){t.attr("shape-rendering","crispEdges")}));n.attr({rx:g.rx,ry:g.ry}),n.call(a.stroke,e.bordercolor).call(a.fill,function(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}(e,r)).style("stroke-width",e.borderwidth+"px")}function x(t,e,r,n){var i,o;l.ensureSingle(t,"text","selector-text",(function(t){t.attr("text-anchor","middle")})).call(s.font,e.font).text((i=r,o=n._fullLayout._meta,i.label?o?l.templateString(i.label,o):i.label:"all"===i.step?"all":i.count+i.step.charAt(0))).call((function(t){d.convertToTspans(t,n)}))}t.exports=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=u.list(t,"x",!0),r=[],n=0;n<e.length;n++){var i=e[n];i.rangeselector&&i.rangeselector.visible&&r.push(i)}return r}(t),v);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each((function(e){var r=n.select(this),a=e,u=a.rangeselector,h=r.selectAll("g.button").data(l.filterVisible(u.buttons));h.enter().append("g").classed("button",!0),h.exit().remove(),h.each((function(e){var r=n.select(this),o=b(a,e);e._isActive=function(t,e,r){if("all"===e.step)return!0===t.autorange;var n=Object.keys(r);return t.range[0]===r[n[0]]&&t.range[1]===r[n[1]]}(a,e,o),r.call(y,u,e),r.call(x,u,e,t),r.on("click",(function(){t._dragged||i.call("_guiRelayout",t,o)})),r.on("mouseover",(function(){e._isHovered=!0,r.call(y,u,e)})),r.on("mouseout",(function(){e._isHovered=!1,r.call(y,u,e)}))})),function(t,e,r,i,a){var u=0,h=0,b=r.borderwidth;e.each((function(){var t=n.select(this).select(".selector-text"),e=r.font.size*f,i=Math.max(e*d.lineCount(t),16)+3;h=Math.max(h,i)})),e.each((function(){var t=n.select(this),e=t.select(".selector-rect"),i=t.select(".selector-text"),o=i.node()&&s.bBox(i.node()).width,a=r.font.size*f,l=d.lineCount(i),p=Math.max(o+10,g.minButtonWidth);t.attr("transform",c(b+u,b)),e.attr({x:0,y:0,width:p,height:h}),d.positionText(i,p/2,h/2-(l-1)*a/2+3),u+=p+5}));var v=t._fullLayout._size,y=v.l+v.w*r.x,x=v.t+v.h*(1-r.y),w="left";l.isRightAnchor(r)&&(y-=u,w="right"),l.isCenterAnchor(r)&&(y-=u/2,w="center");var _="top";l.isBottomAnchor(r)&&(x-=h,_="bottom"),l.isMiddleAnchor(r)&&(x-=h/2,_="middle"),u=Math.ceil(u),h=Math.ceil(h),y=Math.round(y),x=Math.round(x),o.autoMargin(t,i+"-range-selector",{x:r.x,y:r.y,l:u*p[w],r:u*m[w],b:h*m[_],t:h*p[_]}),a.attr("transform",c(y,x))}(t,h,u,a._name,r)}))}},58389:t=>{"use strict";var e={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},typesetMath:{valType:"boolean",dflt:!0,description:["Determines whether math should be typeset or not,","when MathJax (either v2 or v3) is present on the page."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},editSelection:{valType:"boolean",dflt:!0,description:"Enables moving selections."},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v3, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo, mapbox and map subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo, mapbox and map) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments.","To enable predefined modebar buttons e.g. shape drawing, hover and spikelines,","simply provide their string name(s). This could include:","*v1hovermode*, *hoverclosest*, *hovercompare*, *togglehover*, *togglespikelines*,","*drawline*, *drawopenpath*, *drawclosedpath*, *drawcircle*, *drawrect* and *eraseshape*.","Please note that these predefined buttons will only be shown if they are compatible","with all trace types used in a graph."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},r={};!function t(e,r){for(var n in e){var i=e[n];i.valType?r[n]=i.dflt:(r[n]||(r[n]={}),t(i,r[n]))}}(e,r),t.exports={configAttributes:e,dfltConfig:r}},59299:t=>{"use strict";t.exports=ReferenceError},59412:(t,e,r)=>{"use strict";var n,i=r(81665),o=r(94234),a=r(33674),s=r(8975),l=r(59299),c=r(66367),d=r(48744),u=r(63432),h=r(36275),f=r(59813),p=r(89165),m=r(4551),g=r(94077),b=r(795),v=r(69198),y=Function,x=function(t){try{return y('"use strict"; return ('+t+").constructor;")()}catch(t){}},w=r(55572),_=r(38232),k=function(){throw new d},A=w?function(){try{return k}catch(t){try{return w(arguments,"callee").get}catch(t){return k}}}():k,T=r(23266)(),M=r(55573),S=r(69005),E=r(83895),C=r(44691),z=r(57255),L={},O="undefined"!=typeof Uint8Array&&M?M(Uint8Array):n,D={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":T&&M?M([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":L,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&M?M(M([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&T&&M?M((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&T&&M?M((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&M?M(""[Symbol.iterator]()):n,"%Symbol%":T?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":A,"%TypedArray%":O,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":z,"%Function.prototype.apply%":C,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":S,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":b,"%Math.sign%":v,"%Reflect.getPrototypeOf%":E};if(M)try{null.error}catch(t){var I=M(M(t));D["%Error.prototype%"]=I}var F=function t(e){var r;if("%AsyncFunction%"===e)r=x("async function () {}");else if("%GeneratorFunction%"===e)r=x("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=x("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&M&&(r=M(i.prototype))}return D[e]=r,r},R={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=r(35366),j=r(19942),N=P.call(z,Array.prototype.concat),B=P.call(C,Array.prototype.splice),U=P.call(z,String.prototype.replace),V=P.call(z,String.prototype.slice),G=P.call(z,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,q=function(t,e){var r,n=t;if(j(R,n)&&(n="%"+(r=R[n])[0]+"%"),j(D,n)){var i=D[n];if(i===L&&(i=F(n)),void 0===i&&!e)throw new d("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new d('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,t))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=V(t,0,1),r=V(t,-1);if("%"===e&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return U(t,H,(function(t,e,r,i){n[n.length]=r?U(i,W,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",i=q("%"+n+"%",e),o=i.name,a=i.value,s=!1,l=i.alias;l&&(n=l[0],B(r,N([0,1],l)));for(var u=1,h=!0;u<r.length;u+=1){var f=r[u],p=V(f,0,1),m=V(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&h||(s=!0),j(D,o="%"+(n+="."+f)+"%"))a=D[o];else if(null!=a){if(!(f in a)){if(!e)throw new d("base intrinsic for "+t+" exists, but the property is not available.");return}if(w&&u+1>=r.length){var g=w(a,f);a=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else h=j(a,f),a=a[f];h&&!s&&(D[o]=a)}}return a}},59738:t=>{"use strict";t.exports=function(t){return null!=t}},59804:(t,e,r)=>{"use strict";var n=r(31918),i=n.mod,o=n.modHalf,a=Math.PI,s=2*a;function l(t){return Math.abs(t[1]-t[0])>s-1e-14}function c(t,e){return o(e-t,s)}function d(t,e){if(l(e))return!0;var r,n;e[0]<e[1]?(r=e[0],n=e[1]):(r=e[1],n=e[0]),(r=i(r,s))>(n=i(n,s))&&(n+=s);var o=i(t,s),a=o+s;return o>=r&&o<=n||a>=r&&a<=n}function u(t,e,r,n,i,o,c){i=i||0,o=o||0;var d,u,h,f,p,m=l([r,n]);function g(t,e){return[t*Math.cos(e)+i,o-t*Math.sin(e)]}m?(d=0,u=a,h=s):r<n?(d=r,h=n):(d=n,h=r),t<e?(f=t,p=e):(f=e,p=t);var b,v=Math.abs(h-d)<=a?0:1;function y(t,e,r){return"A"+[t,t]+" "+[0,v,r]+" "+g(t,e)}return m?b=null===f?"M"+g(p,d)+y(p,u,0)+y(p,h,0)+"Z":"M"+g(f,d)+y(f,u,0)+y(f,h,0)+"ZM"+g(p,d)+y(p,u,1)+y(p,h,1)+"Z":null===f?(b="M"+g(p,d)+y(p,h,0),c&&(b+="L0,0Z")):b="M"+g(f,d)+"L"+g(p,d)+y(p,h,0)+"L"+g(f,h)+y(f,d,1)+"Z",b}t.exports={deg2rad:function(t){return t/180*a},rad2deg:function(t){return t/a*180},angleDelta:c,angleDist:function(t,e){return Math.abs(c(t,e))},isFullCircle:l,isAngleInsideSector:d,isPtInsideSector:function(t,e,r,n){return!!d(e,n)&&(r[0]<r[1]?(i=r[0],o=r[1]):(i=r[1],o=r[0]),t>=i&&t<=o);var i,o},pathArc:function(t,e,r,n,i){return u(null,t,e,r,n,i,0)},pathSector:function(t,e,r,n,i){return u(null,t,e,r,n,i,1)},pathAnnulus:function(t,e,r,n,i,o){return u(t,e,r,n,i,o,1)}}},59813:t=>{"use strict";t.exports=Math.floor},59952:(t,e,r)=>{"use strict";var n=r(37974),i=r(81436),o=i.CIRCLE_SIDES,a=i.SQRT2,s=r(38554),l=s.p2r,c=s.r2p,d=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function h(t,e){return Math.abs(t-e)<=1e-6}function f(t,e){var r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+n*n)}e.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var r="",n=0;n<e;n++)for(var i=t[n].length,o=0;o<i;o++){var a=t[n][o][0];if("Z"===a)r+="Z";else for(var s=t[n][o].length,l=0;l<s;l++){var c=l;"Q"===a||"S"===a?c=u[l]:"C"===a&&(c=d[l]),r+=t[n][o][c],l>0&&l<s-1&&(r+=",")}}return r},e.readPaths=function(t,e,r,i){var a,s,d,u=n(t),h=[],f=-1,p=0,m=0,g=function(){s=p,d=m};g();for(var b=0;b<u.length;b++){var v,y,x,w,_=[],k=u[b][0],A=k;switch(k){case"M":h[++f]=[],p=+u[b][1],m=+u[b][2],_.push([A,p,m]),g();break;case"Q":case"S":v=+u[b][1],x=+u[b][2],p=+u[b][3],m=+u[b][4],_.push([A,p,m,v,x]);break;case"C":v=+u[b][1],x=+u[b][2],y=+u[b][3],w=+u[b][4],p=+u[b][5],m=+u[b][6],_.push([A,p,m,v,x,y,w]);break;case"T":case"L":p=+u[b][1],m=+u[b][2],_.push([A,p,m]);break;case"H":A="L",p=+u[b][1],_.push([A,p,m]);break;case"V":A="L",m=+u[b][1],_.push([A,p,m]);break;case"A":A="L";var T=+u[b][1],M=+u[b][2];+u[b][4]||(T=-T,M=-M);var S=p-T,E=m;for(a=1;a<=o/2;a++){var C=2*Math.PI*a/o;_.push([A,S+T*Math.cos(C),E+M*Math.sin(C)])}break;case"Z":p===s&&m===d||(p=s,m=d,_.push([A,p,m]))}for(var z=(r||{}).domain,L=e._fullLayout._size,O=r&&"pixel"===r.xsizemode,D=r&&"pixel"===r.ysizemode,I=!1===i,F=0;F<_.length;F++){for(a=0;a+2<7;a+=2){var R=_[F][a+1],P=_[F][a+2];void 0!==R&&void 0!==P&&(p=R,m=P,r&&(r.xaxis&&r.xaxis.p2r?(I&&(R-=r.xaxis._offset),R=O?c(r.xaxis,r.xanchor)+R:l(r.xaxis,R)):(I&&(R-=L.l),z?R=z.x[0]+R/L.w:R/=L.w),r.yaxis&&r.yaxis.p2r?(I&&(P-=r.yaxis._offset),P=D?c(r.yaxis,r.yanchor)-P:l(r.yaxis,P)):(I&&(P-=L.t),P=z?z.y[1]-P/L.h:1-P/L.h)),_[F][a+1]=R,_[F][a+2]=P)}h[f].push(_[F].slice())}}return h},e.pointsOnRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!h(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!h(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!h(t[0][1],t[1][1])&&!h(t[0][1],t[3][1])||!(f(t[0],t[1])*f(t[0],t[3])))},e.pointsOnEllipse=function(t){var e=t.length;if(e!==o+1)return!1;e=o;for(var r=0;r<e;r++){var n=(2*e-r)%e,i=(e/2+n)%e,a=(e/2+r)%e;if(!h(f(t[r],t[a]),f(t[n],t[i])))return!1}return!0},e.handleEllipse=function(t,r,n){if(!t)return[r,n];var i=e.ellipseOver({x0:r[0],y0:r[1],x1:n[0],y1:n[1]}),s=(i.x1+i.x0)/2,l=(i.y1+i.y0)/2,c=(i.x1-i.x0)/2,d=(i.y1-i.y0)/2;c||(c=d/=a),d||(d=c/=a);for(var u=[],h=0;h<o;h++){var f=2*h*Math.PI/o;u.push([s+c*Math.cos(f),l+d*Math.sin(f)])}return u},e.ellipseOver=function(t){var e=t.x0,r=t.y0,n=t.x1,i=t.y1,o=n-e,s=i-r,l=((e-=o)+n)/2,c=((r-=s)+i)/2;return{x0:l-(o*=a),y0:c-(s*=a),x1:l+o,y1:c+s}},e.fixDatesForPaths=function(t,e,r){var n="date"===e.type,i="date"===r.type;if(!n&&!i)return t;for(var o=0;o<t.length;o++)for(var a=0;a<t[o].length;a++)for(var s=0;s+2<t[o][a].length;s+=2)n&&(t[o][a][s+1]=t[o][a][s+1].replace(" ","_")),i&&(t[o][a][s+2]=t[o][a][s+2].replace(" ","_"));return t}},60062:(t,e,r)=>{"use strict";var n=r(51183),i=r(54324),o=r(94316),a=r(99803),s=r(87486),l=r(2362),c=r(46492),d=r(15305).isSize;t.exports=h;var u=h.cache={};function h(t){if("string"!=typeof t)throw new Error("Font argument must be a string.");if(u[t])return u[t];if(""===t)throw new Error("Cannot parse an empty string.");if(-1!==o.indexOf(t))return u[t]={system:t};for(var e,r={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=c(t,/\s+/);e=h.shift();){if(-1!==i.indexOf(e))return["style","variant","weight","stretch"].forEach((function(t){r[t]=e})),u[t]=r;if(-1===s.indexOf(e))if("normal"!==e&&"small-caps"!==e)if(-1===l.indexOf(e)){if(-1===a.indexOf(e)){if(d(e)){var p=c(e,"/");if(r.size=p[0],null!=p[1]?r.lineHeight=f(p[1]):"/"===h[0]&&(h.shift(),r.lineHeight=f(h.shift())),!h.length)throw new Error("Missing required font-family.");return r.family=c(h.join(" "),/\s*,\s*/).map(n),u[t]=r}throw new Error("Unknown or unsupported font token: "+e)}r.weight=e}else r.stretch=e;else r.variant=e;else r.style=e}throw new Error("Missing required font-size.")}function f(t){var e=parseFloat(t);return e.toString()===t?e:t}},60166:(t,e,r)=>{"use strict";var n=r(71422);t.exports={moduleType:"component",name:"shapes",layoutAttributes:r(39677),supplyLayoutDefaults:r(12138),supplyDrawNewShapeDefaults:r(24815),includeBasePlot:r(39859)("shapes"),calcAutorange:r(37358),draw:n.draw,drawOne:n.drawOne}},60245:t=>{"use strict";var e,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,e)}catch(t){t!==r&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(t){try{var e=n.call(t);return o.test(e)}catch(t){return!1}},s=function(t){try{return!a(t)&&(n.call(t),!0)}catch(t){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),u=function(){return!1};if("object"==typeof document){var h=document.all;l.call(h)===l.call(document.all)&&(u=function(t){if((d||!t)&&(void 0===t||"object"==typeof t))try{var e=l.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(u(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==r)return!1}return!a(t)&&s(t)}:function(t){if(u(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(c)return s(t);if(a(t))return!1;var e=l.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&s(t)}},60263:t=>{"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},60393:(t,e,r)=>{"use strict";var n=r(77201),i=n.FORMAT_LINK,o=n.DATE_FORMAT_LINK;function a(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+i+"."].join(" ")}function s(t,e){return a(t,e)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}t.exports={axisHoverFormat:function(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?a:s)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:a,descriptionWithDates:s}},60613:function(t,e,r){var n;!function(i,o){o[i]=o[i]||function(){"use strict";var t,e,r,n=Object.prototype.toString,i="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,r,n){return Object.defineProperty(t,e,{value:r,writable:!0,configurable:!1!==n})}}catch(e){t=function(t,e,r){return t[e]=r,t}}function o(t,n){r.add(t,n),e||(e=i(r.drain))}function a(t){var e,r=typeof t;return null==t||"object"!=r&&"function"!=r||(e=t.then),"function"==typeof e&&e}function s(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,r){var n,i;try{!1===e?r.reject(t.msg):(n=!0===e?t.msg:e.call(void 0,t.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=a(n))?i.call(n,r.resolve,r.reject):r.resolve(n)}catch(t){r.reject(t)}}function c(t){var e,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(e=a(t))?o((function(){var n=new h(r);try{e.call(t,(function(){c.apply(n,arguments)}),(function(){d.apply(n,arguments)}))}catch(t){d.call(n,t)}})):(r.msg=t,r.state=1,r.chain.length>0&&o(s,r))}catch(t){d.call(new h(r),t)}}}function d(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&o(s,e))}function u(t,e,r,n){for(var i=0;i<e.length;i++)!function(i){t.resolve(e[i]).then((function(t){r(i,t)}),n)}(i)}function h(t){this.def=t,this.triggered=!1}function f(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new f(this);this.then=function(t,r){var n={success:"function"!=typeof t||t,failure:"function"==typeof r&&r};return n.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");n.resolve=t,n.reject=e})),e.chain.push(n),0!==e.state&&o(s,e),n.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){c.call(e,t)}),(function(t){d.call(e,t)}))}catch(t){d.call(e,t)}}r=function(){var t,r,n;function i(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,o){n=new i(e,o),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var n=t;for(t=r=e=void 0;n;)n.fn.call(n.self),n=n.next}}}();var m=t({},"constructor",p,!1);return p.prototype=m,t(m,"__NPO__",0,!1),t(p,"resolve",(function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this((function(e,r){if("function"!=typeof e||"function"!=typeof r)throw TypeError("Not a function");e(t)}))})),t(p,"reject",(function(t){return new this((function(e,r){if("function"!=typeof e||"function"!=typeof r)throw TypeError("Not a function");r(t)}))})),t(p,"all",(function(t){var e=this;return"[object Array]"!=n.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var i=t.length,o=Array(i),a=0;u(e,t,(function(t,e){o[t]=e,++a===i&&r(o)}),n)}))})),t(p,"race",(function(t){var e=this;return"[object Array]"!=n.call(t)?e.reject(TypeError("Not an array")):new e((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");u(e,t,(function(t,e){r(e)}),n)}))})),p}(),t.exports?t.exports=o[i]:void 0===(n=function(){return o[i]}.call(e,r,e,t))||(t.exports=n)}("Promise",void 0!==r.g?r.g:this)},60626:(t,e,r)=>{"use strict";var n=r(12822),i=r(35677),o=r(8421),a=r(92911).name,s=o.steps;function l(t,e,r){function a(r,i){return n.coerce(t,e,o,r,i)}for(var s=i(t,e,{name:"steps",handleItemDefaults:c}),l=0,d=0;d<s.length;d++)s[d].visible&&l++;if(l<2?e.visible=!1:a("visible")){e._stepCount=l;var u=e._visibleSteps=n.filterVisible(s);(s[a("active")]||{}).visible||(e.active=u[0]._index),a("x"),a("y"),n.noneOrAll(t,e,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),n.coerceFont(a,"font",r.font),a("currentvalue.visible")&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),n.coerceFont(a,"currentvalue.font",e.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function c(t,e){function r(r,i){return n.coerce(t,e,s,r,i)}if("skip"===t.method||Array.isArray(t.args)?r("visible"):e.visible=!1){r("method"),r("args");var i=r("label","step-"+e._index);r("value",i),r("execute")}}t.exports=function(t,e){i(t,e,{name:a,handleItemDefaults:l})}},60713:(t,e,r)=>{"use strict";var n=r(75058),i=r(53572).hoverlabel,o=r(98260).extendFlat;t.exports={hoverlabel:{bgcolor:o({},i.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:o({},i.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:n({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:o({},i.align,{arrayOk:!0}),namelength:o({},i.namelength,{arrayOk:!0}),showarrow:o({},i.showarrow),editType:"none"}}},60812:(t,e,r)=>{"use strict";var n=r(28371),i=Math.max;t.exports=function(t){return i(0,n(t))}},61085:(t,e,r)=>{var n=r(97883),i=r(25058),o={M:"moveTo",C:"bezierCurveTo"};t.exports=function(t,e){t.beginPath(),i(n(e)).forEach((function(e){var r=e[0],n=e.slice(1);t[o[r]].apply(t,n)})),t.closePath()}},61396:(t,e,r)=>{"use strict";r.d(e,{By:()=>s,KP:()=>p,Q$:()=>b,Sh:()=>u,dt:()=>d,eQ:()=>l,fz:()=>a,gf:()=>g,kS:()=>h,l3:()=>c,se:()=>f,t$:()=>y,tz:()=>v,yW:()=>m});var n=r(94825),i=r(37968);function o(t){return(0,n.A)((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.rR)/i.Fq}))}var a=o(0),s=o(1),l=o(2),c=o(3),d=o(4),u=o(5),h=o(6),f=a.range,p=s.range,m=l.range,g=c.range,b=d.range,v=u.range,y=h.range},61398:(t,e,r)=>{"use strict";var n=r(86928),i=r(38232),o=r(11491),a=r(88832);t.exports=function(t){var e=o(arguments),r=t.length-(arguments.length-1);return n(e,1+(r>0?r:0),!0)},i?i(t.exports,"apply",{value:a}):t.exports.apply=a},61814:(t,e,r)=>{"use strict";var n=r(7370);t.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var r=Math.log(Math.min(e[0],e[1]))/Math.LN10;return n(r)||(r=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),r}},61907:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},62182:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822),o=r(42226).extractOpts;t.exports=function(t,e,r){var a,s=t._fullLayout,l=r.vals,c=r.containerStr,d=c?i.nestedProperty(e,c).get():e,u=o(d),h=!1!==u.auto,f=u.min,p=u.max,m=u.mid,g=function(){return i.aggNums(Math.min,null,l)},b=function(){return i.aggNums(Math.max,null,l)};void 0===f?f=g():h&&(f=d._colorAx&&n(f)?Math.min(f,g()):g()),void 0===p?p=b():h&&(p=d._colorAx&&n(p)?Math.max(p,b()):b()),h&&void 0!==m&&(p-m>m-f?f=m-(p-m):p-m<m-f&&(p=m+(m-f))),f===p&&(f-=.5,p+=.5),u._sync("min",f),u._sync("max",p),u.autocolorscale&&(a=f*p<0?s.colorscale.diverging:f>=0?s.colorscale.sequential:s.colorscale.sequentialminus,u._sync("colorscale",a))}},62309:(t,e,r)=>{"use strict";var n=r(98260).extendFlat,i=r(12517),o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* (re)plots but without first clearing `gd.calcdata`.","*style* only calls `module.style` (or module.editStyle) for all trace modules and redraws the legend.","*markerSize* is like *style*, but propagate axis-range changes due to scatter `marker.size`","*colorbars* only redraws colorbars."].join(" ")},a={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full (re)plot starting by clearing `gd.calcdata`","to force it to be regenerated","*plot* (re)plots but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*axrange* minimal sequence when updating axis ranges.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed.","*colorbars* only redraws colorbars."].join(" ")},s=o.flags.slice().concat(["fullReplot"]),l=a.flags.slice().concat("layoutReplot");function c(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!1;return e}function d(t,e,r){var o=n({},t);for(var a in o){var s=o[a];i(s)&&(o[a]=u(s,e,0,a))}return"from-root"===r&&(o.editType=e),o}function u(t,e,r,i){if(t.valType){var o=n({},t);if(o.editType=e,Array.isArray(t.items)){o.items=new Array(t.items.length);for(var a=0;a<t.items.length;a++)o.items[a]=u(t.items[a],e)}return o}return d(t,e,"_"===i.charAt(0)?"nested":"from-root")}t.exports={traces:o,layout:a,traceFlags:function(){return c(s)},layoutFlags:function(){return c(l)},update:function(t,e){var r=e.editType;if(r&&"none"!==r)for(var n=r.split("+"),i=0;i<n.length;i++)t[n[i]]=!0},overrideAll:d}},62494:(t,e,r)=>{"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:r(3653),supplyLayoutDefaults:r(96658),includeBasePlot:r(39859)("images"),draw:r(87030),convertCoords:r(22470)}},62504:t=>{t.exports=function(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},62621:(t,e,r)=>{"use strict";r.d(e,{A:()=>l});var n=r(78706),i=r.n(n),o=r(72859),a=r.n(o)()(i());a.push([t.id,".chsp-meta {\n    z-index: 1;\n    cursor: pointer;\n}\n\n.chsp-meta .chsp-info-icon {\n    float: right;\n    margin-top: 5px;\n    margin-left: 3px;\n}\n\n.chsp-meta .chsp-info-icon svg {\n    display: block;\n    width: 14px;\n    height: 14px;\n    opacity: 0.6;\n}\n\n.chsp-authors-list {\n    padding: 0;\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: center;\n}\n\n.chsp-authors-list li {\n    border: solid #dee2e6 1px;\n    padding: 10px;\n    list-style-type: none;\n    white-space: nowrap;\n}\n\n.chsp-open-map-settings {\n    position: absolute;\n    top: 3px;\n    left: 5px;\n    z-index: 10;\n}\n\n.chsp-open-viewer-settings {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n}\n\n.chsp-extra-options-btn {\n    margin: auto;\n    display: block;\n}\n\n/* Tooltip text */\n.chsp-tooltip {\n    visibility: hidden;\n    background: #69738a;\n    color: white;\n    padding: 6px;\n    font-size: 12px;\n    line-height: 12px;\n    white-space: nowrap;\n    border-radius: 2px;\n    text-align: center;\n    display: inline-block;\n    width: 9em;\n    position: absolute;\n    z-index: 100000;\n}\n\n.chsp-tooltip-right {\n    top: 0px;\n    right: -9.5em;\n}\n\n.chsp-tooltip-below {\n    top: 35px;\n    left: -3.5em;\n}\n\n.chsp-has-tooltip:hover .chsp-tooltip {\n    visibility: visible;\n}\n\n.chsp-pin-marker {\n    border-radius: 50%;\n    border: solid 1px black;\n    --size: 12px;\n    width: var(--size);\n    height: var(--size);\n    z-index: 10;\n}\n\n.chsp-map-pin-marker {\n    position: absolute;\n    /* ensure the top/right/left/bottom positioning is relative to the center of the div */\n    transform: translate(calc(-50% + var(--size)), -50%);\n}\n\n.chsp-pin-marker:hover {\n    --size: 20px;\n    cursor: pointer;\n}\n\n/* This class is added on top of .chsp-pin-marker for the active pinned structure/environment */\n.chsp-active-pin {\n    border-width: 2px;\n    --size: 20px;\n}\n\n.chsp-active-pin:hover {\n    --size: 22px;\n    cursor: default;\n}\n\n.chsp-viewer-button {\n    position: absolute;\n    padding: 1px;\n    margin: 0;\n    height: 28px;\n    width: 28px;\n    z-index: 10;\n}\n\n.chsp-viewer-action-button {\n    background-color: white;\n    border: none;\n}\n\n.chsp-viewer-action-button:hover {\n    background: white;\n}\n\n.chsp-viewer-action-button svg {\n    opacity: 0.4;\n    transition: opacity 0.15s ease-in-out;\n}\n\n.chsp-viewer-action-button:hover svg {\n    opacity: 0.6;\n}\n\n.chsp-structure-viewer-grid {\n    display: grid;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    grid-column-gap: 2px;\n    grid-row-gap: 2px;\n}\n\n.chsp-structure-viewer-cell {\n    width: 99%;\n    height: 99%;\n    left: 0.5%;\n    top: 0.5%;\n    position: relative;\n    border: 1px solid lightgray;\n    padding: 1px;\n}\n\n.chsp-structure-viewer-cell-active {\n    border-color: gray;\n}\n\n.chsp-map-options {\n    display: grid;\n    grid-template-columns: 1fr 0.5fr;\n    align-items: center;\n    justify-content: center;\n    align-content: start;\n    column-gap: 1em;\n}\n\n.chsp-map-options label {\n    min-width: 6em;\n}\n\n.chsp-map-options > :nth-child(n + 3):not(.chsp-map-extra-options) {\n    margin-top: 1rem;\n}\n\n.chsp-map-extra-options {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: auto 1fr 1fr;\n    column-gap: 1em;\n}\n\n.chsp-map-extra-options > * {\n    margin: 0.4em 0 0 0;\n}\n\n.chsp-map-extra-options label {\n    min-width: auto;\n}\n\n.chsp-map-extra-options {\n    grid-column: 1 / span 2;\n}\n\n.chsp-map-options .form-check-label {\n    width: auto;\n}\n\n.chsp-modal-header {\n    cursor: grab;\n}\n\n.chsp-play-button {\n    border: 0;\n    background: transparent;\n    box-sizing: border-box;\n    height: 1.2em;\n    width: 1.2em;\n    margin-left: 0.5ex;\n\n    border-color: transparent transparent transparent #202020;\n    transition: 100ms all ease;\n    cursor: pointer;\n\n    border-style: solid;\n    border-width: 0.7em 0 0.7em 1em;\n}\n\n.chsp-play-button.chsp-playing {\n    border-style: double;\n    border-width: 0px 0 0px 1.2em;\n}\n\n.chsp-play-button:hover {\n    border-color: transparent transparent transparent #404040;\n}\n\n.chsp-properties-table {\n    height: 100%;\n    width: 90%;\n    margin: auto;\n    border: 1px solid #222;\n    background-color: #ffffffee;\n}\n\n.chsp-properties-table td,\n.chsp-properties-table th {\n    width: 50%;\n    border-top: none;\n}\n\n/* plot container inside property table */\n.chsp-info-plot-holder {\n    width: 80%;\n    margin: 0 auto;\n    aspect-ratio: 16 / 9;\n}\n\n.chsp-settings-section-title {\n    font-weight: bold;\n}\n\n/* Change Plotly modebar style to match the style of the structure grid buttons */\n\n.chsp-map .modebar-group {\n    padding-left: 0 !important;\n}\n\n.chsp-map .modebar-btn {\n    cursor: default !important;\n    font-family: apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n        'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n        'Noto Color Emoji';\n}\n\n.chsp-map .modebar-btn::after {\n    opacity: 0.9;\n}\n\n.chsp-map .icon:hover + .modebar-btn::after {\n    visibility: visible;\n}\n\n.chsp-map .modebar-btn::before {\n    content: none !important;\n}\n\n.chsp-map .modebar-btn .icon {\n    transition: opacity 0.15s ease-in-out;\n    padding: 3px;\n    opacity: 0.3;\n    cursor: pointer;\n}\n\n.chsp-map .modebar-group svg.icon {\n    width: 2em;\n    height: 2em;\n    border-radius: 0.2em;\n}\n\n.chsp-map .modebar-group svg.icon:active {\n    color: #212529;\n    background-color: #dae0e5;\n    border-color: #d3d9df;\n    box-shadow: 0 0 0 0.2rem rgb(216 217 219 / 50%);\n}\n\n.chsp-map .modebar-btn .icon path {\n    transition:\n        color 0.15s ease-in-out,\n        background-color 0.15s ease-in-out,\n        border-color 0.15s ease-in-out,\n        box-shadow 0.15s ease-in-out;\n    fill: black !important;\n}\n\n.chsp-map .modebar-btn .icon:hover {\n    opacity: 0.6;\n}\n\n.chsp-map .modebar-btn.active .icon {\n    opacity: 0.6;\n}\n\n.chsp-info-btns {\n    display: flex;\n    position: relative;\n    margin-bottom: 0.5ex;\n    margin-top: 0.5ex;\n    justify-content: center;\n}\n\n.chsp-info-structure-btn {\n    min-width: 8em;\n    padding-left: 6px;\n    padding-right: 4px;\n    font-weight: bold;\n    font-size: small;\n    background-color: none;\n    border-color: #66a5e8;\n    border-width: 2px;\n    float: left;\n}\n\n.chsp-info-structure-btn:hover {\n    background-color: #5b94d0;\n}\n\n.chsp-info-atom-btn {\n    margin-left: 1em;\n    padding-left: 6px;\n    padding-right: 4px;\n    min-width: 8em;\n    font-weight: bold;\n    font-size: small;\n    background-color: none;\n    border-color: #4cb64c;\n    border-width: 2px;\n}\n\n.chsp-info-atom-btn:hover {\n    background-color: #44a344;\n}\n\n.chsp-info-btns-svg {\n    float: left;\n    padding-right: 6px;\n    padding-top: 3px;\n}\n\n.chsp-info-btns-svg svg {\n    display: block;\n    opacity: 0.6;\n}\n\n.chsp-info-number {\n    -moz-appearance: textfield;\n    appearance: textfield;\n    border: none;\n    transition: background-color 0.15s;\n    background-color: #ebedf0;\n    margin-left: 2px;\n    margin-right: 3px;\n    font-family: inherit;\n    width: 4em;\n}\n\n.chsp-info-atom-btn:hover .chsp-info-number {\n    background-color: #69b569;\n}\n\n.chsp-info-structure-btn:hover .chsp-info-number {\n    background-color: #7ba9d9;\n}\n\n.chsp-info-number::-webkit-outer-spin-button,\n.chsp-info-number::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n.chsp-info-tables {\n    position: relative;\n    width: 100%;\n}\n\n.chsp-info-table {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 10;\n    background-color: transparent;\n    width: 100%;\n    /* max-height is set in JavaScript */\n    overflow: auto;\n}\n\n.chsp-info-table.collapsing {\n    overflow: hidden;\n}\n\n.chsp-info-table table {\n    margin: 0;\n}\n\n.chsp-info-plotarea {\n    background-color: #eeeeeebb !important;\n}\n\n/* Change the atoms slider thumb color to green, to match structure highlight */\n.chsp-atom-slider::-webkit-slider-thumb {\n    background-color: #008000;\n}\n\n.chsp-atom-slider::-moz-range-thumb {\n    background-color: #008000;\n}\n\n.chsp-atom-slider::-ms-thumb {\n    background-color: #008000;\n}\n\n.chsp-atom-slider::-webkit-slider-thumb:active {\n    background-color: #99cc99;\n}\n\n.chsp-atom-slider::-moz-range-thumb:active {\n    background-color: #99cc99;\n}\n\n.chsp-atom-slider::-ms-thumb:active {\n    background-color: #99cc99;\n}\n\n.chsp-atom-slider:focus::-webkit-slider-thumb {\n    box-shadow:\n        0 0 0 1px #fff,\n        0 0 0 0.2rem rgba(0, 255, 0, 0.25);\n}\n\n.chsp-atom-slider:focus::-moz-range-thumb {\n    box-shadow:\n        0 0 0 1px #fff,\n        0 0 0 0.2rem rgba(0, 255, 0, 0.25);\n}\n\n.chsp-atom-slider:focus::-ms-thumb {\n    box-shadow:\n        0 0 0 1px #fff,\n        0 0 0 0.2rem rgba(0, 255, 0, 0.25);\n}\n\n.chsp-settings-representation {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-row-gap: 0.25ex;\n}\n\n.chsp-settings-representation label {\n    cursor: help;\n}\n\n.chsp-settings-supercell {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 2fr;\n}\n\n.chsp-supercell-count {\n    max-width: 3.5em;\n}\n\n.chsp-settings-camera {\n    display: grid;\n    gap: 1em;\n    grid-template-columns: repeat(9, auto);\n    justify-content: center;\n}\n\n.chsp-settings-environments {\n    display: grid;\n    align-items: center;\n    column-gap: 1em;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.chsp-settings-extra-options {\n    display: grid;\n    gap: 1em;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-column: 1 / span 3;\n}\n\n.chsp-settings-extra-options > :nth-child(-n + 3) {\n    margin-top: 1em;\n}\n\n.chsp-settings-trajectory {\n    display: grid;\n    grid-template-columns: 12em 12em;\n    justify-content: center;\n    align-content: center;\n    gap: 1em;\n    margin-bottom: 1ex;\n}\n\n.chsp-cell-info {\n    position: absolute;\n    bottom: 5px;\n    left: 5px;\n    font-size: 0.8em;\n}\n\n.chsp-toggle-plot-btn {\n    display: block;\n    position: relative;\n    margin-top: 3px;\n    margin-bottom: 1px;\n}\n\n.chsp-atom-color-property {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 1em;\n    margin: 0.5em 0;\n}\n\n.chsp-atom-extra-options {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: auto 1fr 1fr;\n    column-gap: 1em;\n}\n\n.chsp-atom-labels-property {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 1em;\n    margin: 0.5em 0;\n}\n\n.chsp-atom-extra-options > * {\n    margin: 0.5em 0;\n}\n\n.chsp-atom-extra-options label {\n    min-width: auto;\n}\n\n.chsp-atom-extra-options {\n    grid-column: 1 / span 2;\n}\n\n.chsp-target-toggle {\n    padding-left: 5px;\n    padding-right: 5px;\n    display: flex;\n    justify-content: flex-end;\n    gap: 5px;\n}\n\n.chsp-target-spinner {\n    width: 25px;\n    height: 25px;\n    margin-left: 5px;\n}\n\n/* make sure there are sane styling options for the modal dialogues,\nto avoid unreadable text when using dark themes */\n:root {\n    --cs-modal-background-light: #eee;\n    --cs-modal-text-light: #222;\n    --cs-modal-background-dark: #222;\n    --cs-modal-text-dark: #eee;\n}\n\n.modal-content,\n.modal-header,\n.modal-footer {\n    color: var(--cs-modal-text-light);\n    background-color: var(--cs-modal-background-light);\n}\n\n@media (prefers-color-scheme: dark) {\n    .modal-content,\n    .modal-header,\n    .modal-footer {\n        background-color: var(--cs-modal-background-dark);\n        color: var(--cs-modal-text-dark);\n    }\n}\n",""]);var s=new CSSStyleSheet;s.replaceSync(a.toString());const l=s},62799:(t,e,r)=>{"use strict";var n=r(7113);t.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar",description:"Sets the orientation of the modebar."},bgcolor:{valType:"color",editType:"modebar",description:"Sets the background color of the modebar."},color:{valType:"color",editType:"modebar",description:"Sets the color of the icons in the modebar."},activecolor:{valType:"color",editType:"modebar",description:"Sets the color of the active or hovered on icons in the modebar."},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes related to the modebar,","including `hovermode`, `dragmode`, and `showspikes` at both the","root level and inside subplots. Defaults to `layout.uirevision`."].join(" ")},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to add.","Please note that these buttons will only be shown if they are","compatible with all trace types used in a graph.","Similar to `config.modeBarButtonsToAdd` option.","This may include *"+n.backButtons.join("*, *")+"*."].join(" ")},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar",description:["Determines which predefined modebar buttons to remove.","Similar to `config.modeBarButtonsToRemove` option.","This may include *"+n.foreButtons.join("*, *")+"*."].join(" ")}}},62945:(t,e,r)=>{var n=r(64487);t.exports=function(t){return n("webgl",t)}},62956:(t,e,r)=>{"use strict";var n=r(10781),i=r(61398),o=r(36560),a=r(43765),s=r(6723),l=i(a(),Object);n(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},62970:(t,e,r)=>{"use strict";var n=r(17499),i=r(17269).castOption,o=r(44380);t.exports=function(t,e,r,a){var s=r.marker.line,l=i(s.color,e.pts)||n.defaultLine,c=i(s.width,e.pts)||0;t.call(o,e,r,a).style("stroke-width",c).call(n.stroke,l)}},63200:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},63306:(t,e,r)=>{"use strict";var n=r(17235),i=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}o.prototype.merge=function(t){for(var e=0;e<3;++e){var r=t[i[e]];r.visible?(this.enabled[e]=r.showspikes,this.colors[e]=n(r.spikecolor),this.drawSides[e]=r.spikesides,this.lineWidth[e]=r.spikethickness):(this.enabled[e]=!1,this.drawSides[e]=!1)}},t.exports=function(t){var e=new o;return e.merge(t),e}},63432:t=>{"use strict";t.exports=URIError},63750:(t,e,r)=>{"use strict";var n=r(14295).selectMode,i=r(8867).clearOutline,o=r(59952),a=o.readPaths,s=o.writePaths,l=o.fixDatesForPaths;t.exports=function(t,e){if(t.length){var r=t[0][0];if(r){var o=r.getAttribute("d"),c=e.gd,d=c._fullLayout.newselection,u=e.plotinfo,h=u.xaxis,f=u.yaxis,p=e.isActiveSelection,m=e.dragmode,g=(c.layout||{}).selections||[];if(!n(m)&&void 0!==p){var b=c._fullLayout._activeSelectionIndex;if(b<g.length)switch(c._fullLayout.selections[b].type){case"rect":m="select";break;case"path":m="lasso"}}var v,y=a(o,c,u,p),x={xref:h._id,yref:f._id,opacity:d.opacity,line:{color:d.line.color,width:d.line.width,dash:d.line.dash}};1===y.length&&(v=y[0]),v&&5===v.length&&"select"===m?(x.type="rect",x.x0=v[0][1],x.y0=v[0][2],x.x1=v[2][1],x.y1=v[2][2]):(x.type="path",h&&f&&l(y,h,f),x.path=s(y),v=null),i(c);for(var w=e.editHelpers,_=(w||{}).modifyItem,k=[],A=0;A<g.length;A++){var T=c._fullLayout.selections[A];if(T){if(k[A]=T._input,void 0!==p&&A===c._fullLayout._activeSelectionIndex){var M=x;switch(T.type){case"rect":_("x0",M.x0),_("x1",M.x1),_("y0",M.y0),_("y1",M.y1);break;case"path":_("path",M.path)}}}else k[A]=T}return void 0===p?(k.push(x),k):w?w.getUpdateObj():{}}}}},63844:(t,e,r)=>{"use strict";t.exports=r(25515)()?globalThis:r(44232)},64083:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=r(46121),a=r(3520),s=r(15524),l=r(13195),c=r(18804);function d(t,e,r,d){var u=e[t]||{},h=o.newContainer(r,t);function f(t,e){return i.coerce(u,h,s,t,e)}var p=i.coerceFont(f,"font",r.font);if(f("bgcolor",r.paper_bgcolor),f("bordercolor"),f("visible")){for(var m,g=function(t,e){var r=m._input,n=m;return i.coerce(r,n,a,t,e)},b=r.font||{},v=i.coerceFont(f,"grouptitlefont",b,{overrideDflt:{size:Math.round(1.1*b.size)}}),y=0,x=!1,w="normal",_=(r.shapes||[]).filter((function(t){return t.showlegend})),k=d.concat(_).filter((function(e){return t===(e.legend||"legend")})),A=0;A<k.length;A++)if((m=k[A]).visible){var T=m._isShape;(m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&!1===m._module.attributes.showlegend.dflt))&&(y++,m.showlegend&&(x=!0,(!T&&n.traceIs(m,"pie-like")||!0===m._input.showlegend)&&y++),i.coerceFont(g,"legendgrouptitle.font",v)),(!T&&n.traceIs(m,"bar")&&"stack"===r.barmode||-1!==["tonextx","tonexty"].indexOf(m.fill))&&(w=c.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),void 0!==m.legendgroup&&""!==m.legendgroup&&(w=c.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var M=i.coerce(e,r,l,"showlegend",x&&y>("legend"===t?1:0));if(!1===M&&(r[t]=void 0),(!1!==M||u.uirevision)&&(f("uirevision",r.uirevision),!1!==M)){f("borderwidth");var S,E,C,z="h"===f("orientation"),L="paper"===f("yref"),O="paper"===f("xref"),D="left";if(z?(S=0,n.getComponentMethod("rangeslider","isVisible")(e.xaxis)?L?(E=1.1,C="bottom"):(E=1,C="top"):L?(E=-.1,C="top"):(E=0,C="bottom")):(E=1,C="auto",O?S=1.02:(S=1,D="right")),i.coerce(u,h,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:S}},"x"),i.coerce(u,h,{y:{valType:"number",editType:"legend",min:L?-2:0,max:L?3:1,dflt:E}},"y"),f("traceorder",w),c.isGrouped(r[t])&&f("tracegroupgap"),f("entrywidth"),f("entrywidthmode"),f("indentation"),f("itemsizing"),f("itemwidth"),f("itemclick"),f("itemdoubleclick"),f("groupclick"),f("xanchor",D),f("yanchor",C),f("maxheight"),f("valign"),i.noneOrAll(u,h,["x","y"]),f("title.text")){f("title.side",z?"left":"top");var I=i.extendFlat({},p,{size:i.bigFont(p.size)});i.coerceFont(f,"title.font",I)}}}}t.exports=function(t,e,r){var n,o=r.slice(),a=e.shapes;if(a)for(n=0;n<a.length;n++){var s=a[n];if(s.showlegend){var l={_input:s._input,visible:s.visible,showlegend:s.showlegend,legend:s.legend};o.push(l)}}var c=["legend"];for(n=0;n<o.length;n++)i.pushUnique(c,o[n].legend);for(e._legends=[],n=0;n<c.length;n++){var u=c[n];d(u,t,e,o),e[u]&&(e[u]._id=u),e._legends.push(u)}}},64347:(t,e,r)=>{"use strict";var n=r(58389).dfltConfig,i=r(39382),o=t.exports={};o.log=function(){var t;if(n.logging>1){var e=["LOG:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(n.notifyOnLogging>1){var r=[];for(t=0;t<arguments.length;t++)r.push(arguments[t]);i(r.join("<br>"),"long")}},o.warn=function(){var t;if(n.logging>0){var e=["WARN:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(n.notifyOnLogging>0){var r=[];for(t=0;t<arguments.length;t++)r.push(arguments[t]);i(r.join("<br>"),"stick")}},o.error=function(){var t;if(n.logging>0){var e=["ERROR:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}if(n.notifyOnLogging>0){var r=[];for(t=0;t<arguments.length;t++)r.push(arguments[t]);i(r.join("<br>"),"stick")}}},64487:t=>{t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var r=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(r.width=e.width),"number"==typeof e.height&&(r.height=e.height);var n,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var a=0;a<o.length;a++)if(n=r.getContext(o[a],i))return n}catch(t){n=null}return n||null}},64620:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(80394),a=r(40666),s=r(59952).readPaths,l=r(23223),c=l.getPathString,d=r(12086),u=r(89701).FROM_TL;t.exports=function(t,e,r,h){if(h.selectAll(".shape-label").remove(),r.label.text||r.label.texttemplate){var f;if(r.label.texttemplate){var p={};if("path"!==r.type){var m=i.getFromId(t,r.xref),g=i.getFromId(t,r.yref);for(var b in d){var v=d[b](r,m,g);void 0!==v&&(p[b]=v)}}f=n.texttemplateStringForShapes({data:[p],fallback:r.label.texttemplatefallback,locale:t._fullLayout._d3locale,template:r.label.texttemplate})}else f=r.label.text;var y,x,w,_,k={"data-index":e},A=r.label.font,T=h.append("g").attr(k).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(f);if(r.path){var M=c(t,r),S=s(M,t);y=1/0,w=1/0,x=-1/0,_=-1/0;for(var E=0;E<S.length;E++)for(var C=0;C<S[E].length;C++)for(var z=S[E][C],L=1;L<z.length;L+=2){var O=z[L],D=z[L+1];y=Math.min(y,O),x=Math.max(x,O),w=Math.min(w,D),_=Math.max(_,D)}}else{var I=i.getFromId(t,r.xref),F=r.x0shift,R=r.x1shift,P=i.getRefType(r.xref),j=i.getFromId(t,r.yref),N=r.y0shift,B=r.y1shift,U=i.getRefType(r.yref),V=function(e,r){return l.getDataToPixel(t,I,r,!1,P)(e)},G=function(e,r){return l.getDataToPixel(t,j,r,!0,U)(e)};y=V(r.x0,F),x=V(r.x1,R),w=G(r.y0,N),_=G(r.y1,B)}var H=r.label.textangle;"auto"===H&&(H="line"===r.type?function(t,e,r,n){var i,o;return o=Math.abs(r-t),i=r>=t?e-n:n-e,-180/Math.PI*Math.atan2(i,o)}(y,w,x,_):0),T.call((function(e){return e.call(a.font,A).attr({}),o.convertToTspans(e,t),e}));var W=function(t,e,r,n,i,o,a){var s,l,c,d,h=i.label.textposition,f=i.label.textangle,p=i.label.padding,m=i.type,g=Math.PI/180*o,b=Math.sin(g),v=Math.cos(g),y=i.label.xanchor,x=i.label.yanchor;if("line"===m){"start"===h?(s=t,l=e):"end"===h?(s=r,l=n):(s=(t+r)/2,l=(e+n)/2),"auto"===y&&(y="start"===h?"auto"===f?r>t?"left":r<t?"right":"center":r>t?"right":r<t?"left":"center":"end"===h?"auto"===f?r>t?"right":r<t?"left":"center":r>t?"left":r<t?"right":"center":"center");var w={bottom:-1,middle:0,top:1};if("auto"===f){var _=w[x];c=-p*b*_,d=p*v*_}else c=p*{left:1,center:0,right:-1}[y],d=p*w[x];s+=c,l+=d}else c=p+3,-1!==h.indexOf("right")?(s=Math.max(t,r)-c,"auto"===y&&(y="right")):-1!==h.indexOf("left")?(s=Math.min(t,r)+c,"auto"===y&&(y="left")):(s=(t+r)/2,"auto"===y&&(y="center")),l=-1!==h.indexOf("top")?Math.min(e,n):-1!==h.indexOf("bottom")?Math.max(e,n):(e+n)/2,d=p,"bottom"===x?l-=d:"top"===x&&(l+=d);var k=u[x],A=i.label.font.size,T=a.height;return{textx:s+(T*k-A)*b,texty:l+-(T*k-A)*v,xanchor:y}}(y,w,x,_,r,H,a.bBox(T.node())),q=W.textx,$=W.texty,Y=W.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Y],y:$,x:q,transform:"rotate("+H+","+q+","+$+")"}).call(o.positionText,q,$)}}},64643:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},64665:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},64772:(t,e,r)=>{"use strict";r.d(e,{G6:()=>g,Hl:()=>a,ON:()=>p,Xo:()=>y,Zn:()=>v,a1:()=>u,aZ:()=>f,c8:()=>h,jN:()=>m,pT:()=>d,rt:()=>s,sr:()=>l,wr:()=>b,z2:()=>c});var n=r(94825),i=r(37968);function o(t){return(0,n.A)((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/i.Fq}))}var a=o(0),s=o(1),l=o(2),c=o(3),d=o(4),u=o(5),h=o(6),f=a.range,p=s.range,m=l.range,g=c.range,b=d.range,v=u.range,y=h.range},65040:t=>{"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},65213:t=>{t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},65280:t=>{"use strict";t.exports=function(t,e){if(e instanceof RegExp){for(var r=e.toString(),n=0;n<t.length;n++)if(t[n]instanceof RegExp&&t[n].toString()===r)return t;t.push(e)}else!e&&0!==e||-1!==t.indexOf(e)||t.push(e);return t}},65412:(t,e,r)=>{"use strict";var n=r(18106).mix,i=r(84226),o=r(12822);t.exports=function(t,e,r,a){var s=(a=a||{}).dfltColor;function l(r,n){return o.coerce2(t,e,a.attributes,r,n)}var c=l("linecolor",s),d=l("linewidth");r("showline",a.showLine||!!c||!!d)||(delete e.linecolor,delete e.linewidth);var u=l("gridcolor",n(s,a.bgColor,a.blend||i.lightFraction).toRgbString()),h=l("gridwidth"),f=l("griddash");if(r("showgrid",a.showGrid||!!u||!!h||!!f)||(delete e.gridcolor,delete e.gridwidth,delete e.griddash),a.hasMinor){var p=l("minor.gridcolor",n(e.gridcolor,a.bgColor,67).toRgbString()),m=l("minor.gridwidth",e.gridwidth||1),g=l("minor.griddash",e.griddash||"solid");r("minor.showgrid",!!p||!!m||!!g)||(delete e.minor.gridcolor,delete e.minor.gridwidth,delete e.minor.griddash)}if(!a.noZeroLine){l("zerolinelayer");var b=l("zerolinecolor",s),v=l("zerolinewidth");r("zeroline",a.showGrid||!!b||!!v)||(delete e.zerolinelayer,delete e.zerolinecolor,delete e.zerolinewidth)}}},65500:(t,e,r)=>{"use strict";const n=r(17507),i=r(23778),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=l,e.IS=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=s(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return l.from(n,e,r);const i=function(t){if(l.isBuffer(t)){const e=0|p(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return d(t),s(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),r=s(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,l.prototype),n}function p(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function m(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(i)return n?-1:q(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return z(this,e,r);case"utf8":case"utf-8":return M(this,e,r);case"ascii":return E(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){let o,a=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(t,o+n)!==c(e,n)){r=!1;break}if(r)return o}return-1}function x(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(e.substr(2*a,2),16);if(X(n))return a;t[r+a]=n}return a}function w(t,e,r,n){return Y(q(e,t.length-r),t,r,n)}function _(t,e,r,n){return Y(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function k(t,e,r,n){return Y($(e),t,r,n)}function A(t,e,r,n){return Y(function(t,e){let r,n,i;const o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function M(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,a=e>239?4:e>223?3:e>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(l=(31&e)<<6|63&r,l>127&&(o=l));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(l=(15&e)<<12|(63&r)<<6|63&n,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:r=t[i+1],n=t[i+2],s=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(l=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,r){return function(t,e,r){return d(t),t<=0?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)}(t,e,r)},l.allocUnsafe=function(t){return u(t)},l.allocUnsafeSlow=function(t){return u(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=l.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Z(e,Uint8Array))i+e.length>n.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?M(this,0,t):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,r,n,i){if(Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0);const s=Math.min(o,a),c=this.slice(n,i),d=t.slice(e,r);for(let t=0;t<s;++t)if(c[t]!==d[t]){o=c[t],a=d[t];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return x(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return _(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function E(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function z(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=J[t[n]];return i}function L(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,n,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n,i){V(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,a>>=8,t[r++]=a,r}function F(t,e,r,n,i){V(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a>>=8,t[r+2]=a,a>>=8,t[r+1]=a,a>>=8,t[r]=a,r+8}function R(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(t,e,r,n,o){return e=+e,r>>>=0,o||R(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,o){return e=+e,r>>>=0,o||R(t,0,r,8),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=Q((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||O(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){t>>>=0,e||O(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=Q((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=Q((function(t){G(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||O(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||O(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||D(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||D(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=Q((function(t,e=0){return I(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(t,e=0){return F(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);D(this,t,e,r,n-1,-n)}let i=0,o=1,a=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o|0)-a&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);D(this,t,e,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o|0)-a&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=Q((function(t,e=0){return I(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(t,e=0){return F(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,r){return P(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return P(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,n),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%a]}return this};const N={};function B(t,e,r){N[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function U(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function V(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){G(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||H(e,t.length-(r+1))}(n,i,o)}function G(t,e){if("number"!=typeof t)throw new N.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){if(Math.floor(t)!==t)throw G(t,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=U(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=U(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function q(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?K:t}function K(){throw new Error("BigInt not supported")}},65534:(t,e,r)=>{"use strict";var n=r(85833),i=r(74434);t.exports={moduleType:"component",name:"annotations",layoutAttributes:r(77061),supplyLayoutDefaults:r(26194),includeBasePlot:r(39859)("annotations"),calcAutorange:r(37830),draw:n.draw,drawOne:n.drawOne,drawRaw:n.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:r(44102)}},65586:(t,e,r)=>{"use strict";var n=r(77061),i=r(98387).line,o=r(68057).T,a=r(98260).extendFlat,s=r(62309).overrideAll,l=r(46121).templatedArray,c=r(53644);t.exports=s(l("selection",{type:{valType:"enumerated",values:["rect","path"],description:["Specifies the selection type to be drawn.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`) and (`x0`,`y1`).","If *path*, draw a custom SVG path using `path`."].join(" ")},xref:a({},n.xref,{description:["Sets the selection's x coordinate axis.",c.axisRefDescription("x","left","right")].join(" ")}),yref:a({},n.yref,{description:["Sets the selection's x coordinate axis.",c.axisRefDescription("y","bottom","top")].join(" ")}),x0:{valType:"any",description:"Sets the selection's starting x position."},x1:{valType:"any",description:"Sets the selection's end x position."},y0:{valType:"any",description:"Sets the selection's starting y position."},y1:{valType:"any",description:"Sets the selection's end y position."},path:{valType:"string",editType:"arraydraw",description:["For `type` *path* - a valid SVG path similar to `shapes.path` in data coordinates.","Allowed segments are: M, L and Z."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw",description:"Sets the opacity of the selection."},line:{color:i.color,width:a({},i.width,{min:1,dflt:1}),dash:a({},o,{dflt:"dot"})}}),"arraydraw","from-root")},65753:(t,e,r)=>{"use strict";var n=r(27941),i=r(17499),o=r(91208),a=r(12822),s=a.strScale,l=a.strRotate,c=a.strTranslate;t.exports=function(t,e,r){var a,d,u,h,f=t.node(),p=o[r.arrowhead||0],m=o[r.startarrowhead||0],g=(r.arrowwidth||1)*(r.arrowsize||1),b=(r.arrowwidth||1)*(r.startarrowsize||1),v=e.indexOf("start")>=0,y=e.indexOf("end")>=0,x=p.backoff*g+r.standoff,w=m.backoff*b+r.startstandoff;if("line"===f.nodeName){a={x:+t.attr("x1"),y:+t.attr("y1")},d={x:+t.attr("x2"),y:+t.attr("y2")};var _=a.x-d.x,k=a.y-d.y;if(h=(u=Math.atan2(k,_))+Math.PI,x&&w&&x+w>Math.sqrt(_*_+k*k))return void I();if(x){if(x*x>_*_+k*k)return void I();var A=x*Math.cos(u),T=x*Math.sin(u);d.x+=A,d.y+=T,t.attr({x2:d.x,y2:d.y})}if(w){if(w*w>_*_+k*k)return void I();var M=w*Math.cos(u),S=w*Math.sin(u);a.x-=M,a.y-=S,t.attr({x1:a.x,y1:a.y})}}else if("path"===f.nodeName){var E=f.getTotalLength(),C="";if(E<x+w)return void I();var z=f.getPointAtLength(0),L=f.getPointAtLength(.1);u=Math.atan2(z.y-L.y,z.x-L.x),a=f.getPointAtLength(Math.min(w,E)),C="0px,"+w+"px,";var O=f.getPointAtLength(E),D=f.getPointAtLength(E-.1);h=Math.atan2(O.y-D.y,O.x-D.x),d=f.getPointAtLength(Math.max(0,E-x)),C+=E-(C?w+x:x)+"px,"+E+"px",t.style("stroke-dasharray",C)}function I(){t.style("stroke-dasharray","0px,100px")}function F(e,o,a,d){e.path&&(e.noRotate&&(a=0),n.select(f.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:c(o.x,o.y)+l(180*a/Math.PI)+s(d)}).style({fill:i.rgb(r.arrowcolor),"stroke-width":0}))}v&&F(m,a,u,b),y&&F(p,d,h,g)}},65837:t=>{"use strict";t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},66311:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill=%27%23fff%27 fill-rule=%27evenodd%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},66367:t=>{"use strict";t.exports=SyntaxError},66379:(t,e)=>{"use strict";e.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},e.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},e.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},e.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},e.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},e.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}},66451:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%230c63e4%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},66529:(t,e,r)=>{"use strict";var n=r(27375);t.exports=function(t){if(!n(t))throw new TypeError(t+" is not an Object");return t}},66582:(t,e,r)=>{var n=r(87894);t.exports=function(t,e,r,i){var o,a,s,l,c,d,u,h,f,p,m=e[0],g=e[1],b=e[2],v=i[0],y=i[1],x=i[2],w=r[0],_=r[1],k=r[2];return Math.abs(m-w)<1e-6&&Math.abs(g-_)<1e-6&&Math.abs(b-k)<1e-6?n(t):(u=m-w,h=g-_,f=b-k,o=y*(f*=p=1/Math.sqrt(u*u+h*h+f*f))-x*(h*=p),a=x*(u*=p)-v*f,s=v*h-y*u,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),l=h*s-f*a,c=f*o-u*s,d=u*a-h*o,(p=Math.sqrt(l*l+c*c+d*d))?(l*=p=1/p,c*=p,d*=p):(l=0,c=0,d=0),t[0]=o,t[1]=l,t[2]=u,t[3]=0,t[4]=a,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=d,t[10]=f,t[11]=0,t[12]=-(o*m+a*g+s*b),t[13]=-(l*m+c*g+d*b),t[14]=-(u*m+h*g+f*b),t[15]=1,t)}},66760:t=>{t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],f=e[10],p=e[11],m=e[12],g=e[13],b=e[14],v=e[15],y=r[0],x=r[1],w=r[2],_=r[3];return t[0]=y*n+x*s+w*u+_*m,t[1]=y*i+x*l+w*h+_*g,t[2]=y*o+x*c+w*f+_*b,t[3]=y*a+x*d+w*p+_*v,y=r[4],x=r[5],w=r[6],_=r[7],t[4]=y*n+x*s+w*u+_*m,t[5]=y*i+x*l+w*h+_*g,t[6]=y*o+x*c+w*f+_*b,t[7]=y*a+x*d+w*p+_*v,y=r[8],x=r[9],w=r[10],_=r[11],t[8]=y*n+x*s+w*u+_*m,t[9]=y*i+x*l+w*h+_*g,t[10]=y*o+x*c+w*f+_*b,t[11]=y*a+x*d+w*p+_*v,y=r[12],x=r[13],w=r[14],_=r[15],t[12]=y*n+x*s+w*u+_*m,t[13]=y*i+x*l+w*h+_*g,t[14]=y*o+x*c+w*f+_*b,t[15]=y*a+x*d+w*p+_*v,t}},66811:(t,e,r)=>{"use strict";var n=r(12822);e.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},e.isTraceInSubplots=function(t,r){if("splom"===t.type){for(var n=t.xaxes||[],i=t.yaxes||[],o=0;o<n.length;o++)for(var a=0;a<i.length;a++)if(-1!==r.indexOf(n[o]+i[a]))return!0;return!1}return-1!==r.indexOf(e.getSubplot(t))},e.flat=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=e;return r},e.p2c=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].p2c(e);return r},e.getDistanceFunction=function(t,r,n,i){return"closest"===t?i||e.quadrature(r,n):"x"===t.charAt(0)?r:n},e.getClosest=function(t,e,r){if(!1!==r.index)r.index>=0&&r.index<t.length?r.distance=0:r.index=!1;else for(var n=1/0,i=t.length,o=0;o<i;o++)(n=e(t[o]))<=r.distance&&(r.index=o,r.distance=n);return r},e.inbox=function(t,e,r){return t*e<0||0===t?r:1/0},e.quadrature=function(t,e){return function(r){var n=t(r),i=e(r);return Math.sqrt(n*n+i*i)}},e.makeEventData=function(t,r,n){var i="index"in t?t.index:t.pointNumber,o={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var a=r._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return r._module.eventData?o=r._module.eventData(o,t,r,n,i):("xVal"in t?o.x=t.xVal:"x"in t&&(o.x=t.x),"yVal"in t?o.y=t.yVal:"y"in t&&(o.y=t.y),t.xa&&(o.xaxis=t.xa),t.ya&&(o.yaxis=t.ya),void 0!==t.zLabelVal&&(o.z=t.zLabelVal)),e.appendArrayPointValue(o,r,i),o},e.appendArrayPointValue=function(t,e,r){var i=e._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],c=o(l);if(void 0===t[c]){var d=a(n.nestedProperty(e,l).get(),r);void 0!==d&&(t[c]=d)}}},e.appendArrayMultiPointValues=function(t,e,r){var i=e._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],c=o(l);if(void 0===t[c]){for(var d=n.nestedProperty(e,l).get(),u=new Array(r.length),h=0;h<r.length;h++)u[h]=a(d,r[h]);t[c]=u}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(t){return i[t]||t}function a(t,e){return Array.isArray(e)?n.isArrayOrTypedArray(t)&&n.isArrayOrTypedArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var s={x:!0,y:!0},l={"x unified":!0,"y unified":!0};e.isUnifiedHover=function(t){return"string"==typeof t&&!!l[t]},e.isXYhover=function(t){return"string"==typeof t&&!!s[t]}},67044:function(t){t.exports=function(){function t(t,e){this.id=q++,this.type=t,this.data=e}function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(1<t.length&&r===n&&('"'===r||"'"===r))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,r.index)).concat(e(r[1])).concat(e(t.substr(r.index+r[0].length)));if(1===(r=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],n=0;n<r.length;++n)t=t.concat(e(r[n]));return t}function r(t){return"["+e(t).join("][")+"]"}function n(t){return"string"==typeof t?t.split():t}function i(t){return"string"==typeof t?document.querySelector(t):t}function o(t){var e,r,o,a,s=t||{};t={};var l=[],c=[],d="undefined"==typeof window?1:window.devicePixelRatio,u=!1,h={},f=function(t){},p=function(){};if("string"==typeof s?e=document.querySelector(s):"object"==typeof s&&("string"==typeof s.nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?e=s:"function"==typeof s.drawArrays||"function"==typeof s.drawElements?o=(a=s).canvas:("gl"in s?a=s.gl:"canvas"in s?o=i(s.canvas):"container"in s&&(r=i(s.container)),"attributes"in s&&(t=s.attributes),"extensions"in s&&(l=n(s.extensions)),"optionalExtensions"in s&&(c=n(s.optionalExtensions)),"onDone"in s&&(f=s.onDone),"profile"in s&&(u=!!s.profile),"pixelRatio"in s&&(d=+s.pixelRatio),"cachedCode"in s&&(h=s.cachedCode))),e&&("canvas"===e.nodeName.toLowerCase()?o=e:r=e),!a){if(!o){if(!(e=function(t,e,r){function n(){var e=window.innerWidth,n=window.innerHeight;t!==document.body&&(e=(n=o.getBoundingClientRect()).right-n.left,n=n.bottom-n.top),o.width=r*e,o.height=r*n}var i,o=document.createElement("canvas");return W(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),t.appendChild(o),t===document.body&&(o.style.position="absolute",W(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(n)}))).observe(t):window.addEventListener("resize",n,!1),n(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",n),t.removeChild(o)}}}(r||document.body,0,d)))return null;o=e.canvas,p=e.onDestroy}void 0===t.premultipliedAlpha&&(t.premultipliedAlpha=!0),a=function(t,e){function r(r){try{return t.getContext(r,e)}catch(t){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}(o,t)}return a?{gl:a,canvas:o,container:r,extensions:l,optionalExtensions:c,pixelRatio:d,profile:u,cachedCode:h,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function a(t,e){for(var r=Array(t),n=0;n<t;++n)r[n]=e(n);return r}function s(t){var e,r;return e=(65535<t)<<4,e|=r=(255<(t>>>=e))<<3,(e|=r=(15<(t>>>=r))<<2)|(r=(3<(t>>>=r))<<1)|t>>>r>>1}function l(){function t(t){t:{for(var e=16;268435456>=e;e*=16)if(t<=e){t=e;break t}t=0}return 0<(e=r[s(t)>>2]).length?e.pop():new ArrayBuffer(t)}function e(t){r[s(t.byteLength)>>2].push(t)}var r=a(8,(function(){return[]}));return{alloc:t,free:e,allocType:function(e,r){var n=null;switch(e){case 5120:n=new Int8Array(t(r),0,r);break;case 5121:n=new Uint8Array(t(r),0,r);break;case 5122:n=new Int16Array(t(2*r),0,r);break;case 5123:n=new Uint16Array(t(2*r),0,r);break;case 5124:n=new Int32Array(t(4*r),0,r);break;case 5125:n=new Uint32Array(t(4*r),0,r);break;case 5126:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(t){e(t.buffer)}}}function c(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||Q(t.data))}function d(t,e,r,n,i,o){for(var a=0;a<e;++a)for(var s=t[a],l=0;l<r;++l)for(var c=s[l],d=0;d<n;++d)i[o++]=c[d]}function u(t,e,r,n,i){for(var o=1,a=r+1;a<e.length;++a)o*=e[a];var s=e[r];if(4==e.length-r){var l=e[r+1],c=e[r+2];for(e=e[r+3],a=0;a<s;++a)d(t[a],l,c,e,n,i),i+=o}else for(a=0;a<s;++a)u(t[a],e,r+1,n,i),i+=o}function h(t){return 0|et[Object.prototype.toString.call(t)]}function f(t,e){for(var r=0;r<e.length;++r)t[r]=e[r]}function p(t,e,r,n,i,o,a){for(var s=0,l=0;l<r;++l)for(var c=0;c<n;++c)t[s++]=e[i*l+o*c+a]}function m(t,e,r,n){function i(e){this.id=l++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}function o(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function a(t,e,r,n,i,a){if(t.usage=r,Array.isArray(e)){if(t.dtype=n||5126,0<e.length)if(Array.isArray(e[0])){i=ot(e);for(var s=n=1;s<i.length;++s)n*=i[s];t.dimension=n,o(t,e=it(e,i,t.dtype),r),a?t.persistentData=e:X.freeType(e)}else"number"==typeof e[0]?(t.dimension=i,f(i=X.allocType(t.dtype,e.length),e),o(t,i,r),a?t.persistentData=i:X.freeType(i)):Q(e[0])&&(t.dimension=e[0].length,t.dtype=n||h(e[0])||5126,o(t,e=it(e,[e.length,e[0].length],t.dtype),r),a?t.persistentData=e:X.freeType(e))}else if(Q(e))t.dtype=n||h(e),t.dimension=i,o(t,e,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(c(e)){i=e.shape;var l=e.stride,d=(s=e.offset,0),u=0,m=0,g=0;1===i.length?(d=i[0],u=1,m=l[0],g=0):2===i.length&&(d=i[0],u=i[1],m=l[0],g=l[1]),t.dtype=n||h(e.data)||5126,t.dimension=u,p(i=X.allocType(t.dtype,d*u),e.data,d,u,m,g,s),o(t,i,r),a?t.persistentData=i:X.freeType(i)}else e instanceof ArrayBuffer&&(t.dtype=5121,t.dimension=i,o(t,e,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(e))))}function s(r){e.bufferCount--,n(r),t.deleteBuffer(r.buffer),r.buffer=null,delete d[r.id]}var l=0,d={};i.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},i.prototype.destroy=function(){s(this)};var u=[];return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(d).forEach((function(e){t+=d[e].stats.size})),t}),{create:function(n,o,l,u){function m(e){var n=35044,i=null,o=0,s=0,l=1;return Array.isArray(e)||Q(e)||c(e)||e instanceof ArrayBuffer?i=e:"number"==typeof e?o=0|e:e&&("data"in e&&(i=e.data),"usage"in e&&(n=nt[e.usage]),"type"in e&&(s=rt[e.type]),"dimension"in e&&(l=0|e.dimension),"length"in e&&(o=0|e.length)),g.bind(),i?a(g,i,n,s,l,u):(o&&t.bufferData(g.type,o,n),g.dtype=s||5121,g.usage=n,g.dimension=l,g.byteLength=o),r.profile&&(g.stats.size=g.byteLength*at[g.dtype]),m}e.bufferCount++;var g=new i(o);return d[g.id]=g,l||m(n),m._reglType="buffer",m._buffer=g,m.subdata=function(e,r){var n,i=0|(r||0);if(g.bind(),Q(e)||e instanceof ArrayBuffer)t.bufferSubData(g.type,i,e);else if(Array.isArray(e)){if(0<e.length)if("number"==typeof e[0]){var o=X.allocType(g.dtype,e.length);f(o,e),t.bufferSubData(g.type,i,o),X.freeType(o)}else(Array.isArray(e[0])||Q(e[0]))&&(n=ot(e),o=it(e,n,g.dtype),t.bufferSubData(g.type,i,o),X.freeType(o))}else if(c(e)){n=e.shape;var a=e.stride,s=o=0,l=0,d=0;1===n.length?(o=n[0],s=1,l=a[0],d=0):2===n.length&&(o=n[0],s=n[1],l=a[0],d=a[1]),n=Array.isArray(e.data)?g.dtype:h(e.data),p(n=X.allocType(n,o*s),e.data,o,s,l,d,e.offset),t.bufferSubData(g.type,i,n),X.freeType(n)}return m},r.profile&&(m.stats=g.stats),m.destroy=function(){s(g)},m},createStream:function(t,e){var r=u.pop();return r||(r=new i(t)),r.bind(),a(r,e,35040,0,1,!1),r},destroyStream:function(t){u.push(t)},clear:function(){K(d).forEach(s),u.forEach(s)},getBuffer:function(t){return t&&t._buffer instanceof i?t._buffer:null},restore:function(){K(d).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:a}}function g(t,e,r,n){function i(t){this.id=l++,s[this.id]=this,this.buffer=t,this.primType=4,this.type=this.vertCount=0}function o(n,i,o,a,s,l,d){var u;if(n.buffer.bind(),i?((u=d)||Q(i)&&(!c(i)||Q(i.data))||(u=e.oes_element_index_uint?5125:5123),r._initBuffer(n.buffer,i,o,u,3)):(t.bufferData(34963,l,o),n.buffer.dtype=u||5121,n.buffer.usage=o,n.buffer.dimension=3,n.buffer.byteLength=l),u=d,!d){switch(n.buffer.dtype){case 5121:case 5120:u=5121;break;case 5123:case 5122:u=5123;break;case 5125:case 5124:u=5125}n.buffer.dtype=u}n.type=u,0>(i=s)&&(i=n.buffer.byteLength,5123===u?i>>=1:5125===u&&(i>>=2)),n.vertCount=i,i=a,0>a&&(i=4,1===(a=n.buffer.dimension)&&(i=0),2===a&&(i=1),3===a&&(i=4)),n.primType=i}function a(t){n.elementsCount--,delete s[t.id],t.buffer.destroy(),t.buffer=null}var s={},l=0,d={uint8:5121,uint16:5123};e.oes_element_index_uint&&(d.uint32=5125),i.prototype.bind=function(){this.buffer.bind()};var u=[];return{create:function(t,e){function s(t){if(t)if("number"==typeof t)l(t),u.primType=4,u.vertCount=0|t,u.type=5121;else{var e=null,r=35044,n=-1,i=-1,a=0,h=0;Array.isArray(t)||Q(t)||c(t)?e=t:("data"in t&&(e=t.data),"usage"in t&&(r=nt[t.usage]),"primitive"in t&&(n=st[t.primitive]),"count"in t&&(i=0|t.count),"type"in t&&(h=d[t.type]),"length"in t?a=0|t.length:(a=i,5123===h||5122===h?a*=2:5125!==h&&5124!==h||(a*=4))),o(u,e,r,n,i,a,h)}else l(),u.primType=4,u.vertCount=0,u.type=5121;return s}var l=r.create(null,34963,!0),u=new i(l._buffer);return n.elementsCount++,s(t),s._reglType="elements",s._elements=u,s.subdata=function(t,e){return l.subdata(t,e),s},s.destroy=function(){a(u)},s},createStream:function(t){var e=u.pop();return e||(e=new i(r.create(null,34963,!0,!1)._buffer)),o(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){u.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof i?t._elements:null},clear:function(){K(s).forEach(a)}}}function b(t){for(var e=X.allocType(5123,t.length),r=0;r<t.length;++r)if(isNaN(t[r]))e[r]=65535;else if(1/0===t[r])e[r]=31744;else if(-1/0===t[r])e[r]=64512;else{lt[0]=t[r];var n=(o=ct[0])>>>31<<15,i=(o<<1>>>24)-127,o=o>>13&1023;e[r]=-24>i?n:-14>i?n+(o+1024>>-14-i):15<i?n+31744:n+(i+15<<10)+o}return e}function v(t){return Array.isArray(t)||Q(t)}function y(t){return"[object "+t+"]"}function x(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function w(t){return!(!Array.isArray(t)||0===t.length||!v(t[0]))}function _(t){return Object.prototype.toString.call(t)}function k(t){if(!t)return!1;var e=_(t);return 0<=yt.indexOf(e)||x(t)||w(t)||c(t)}function A(t,e){36193===t.type?(t.data=b(e),X.freeType(e)):t.data=e}function T(t,e,r,n,i,o){if(t=void 0!==wt[t]?wt[t]:ht[t]*xt[e],o&&(t*=6),i){for(n=0;1<=r;)n+=t*r*r,r/=2;return n}return t*r*n}function M(t,e,r,n,i,o,a){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function l(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function d(t,e){if("object"==typeof e&&e){"premultiplyAlpha"in e&&(t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(t.flipY=e.flipY),"alignment"in e&&(t.unpackAlignment=e.alignment),"colorSpace"in e&&(t.colorSpace=V[e.colorSpace]),"type"in e&&(t.type=G[e.type]);var r=t.width,n=t.height,i=t.channels,o=!1;"shape"in e?(r=e.shape[0],n=e.shape[1],3===e.shape.length&&(i=e.shape[2],o=!0)):("radius"in e&&(r=n=e.radius),"width"in e&&(r=e.width),"height"in e&&(n=e.height),"channels"in e&&(i=e.channels,o=!0)),t.width=0|r,t.height=0|n,t.channels=0|i,r=!1,"format"in e&&(r=e.format,n=t.internalformat=H[r],t.format=ot[n],r in G&&!("type"in e)&&(t.type=G[r]),r in q&&(t.compressed=!0),r=!0),!o&&r?t.channels=ht[t.format]:o&&!r&&t.channels!==ut[t.format]&&(t.format=t.internalformat=ut[t.channels])}}function u(e){t.pixelStorei(37440,e.flipY),t.pixelStorei(37441,e.premultiplyAlpha),t.pixelStorei(37443,e.colorSpace),t.pixelStorei(3317,e.unpackAlignment)}function h(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function f(t,e){var r=null;if(k(e)?r=e:e&&(d(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),k(e.data)&&(r=e.data)),e.copy){var n=i.viewportWidth,o=i.viewportHeight;t.width=t.width||n-t.xOffset,t.height=t.height||o-t.yOffset,t.needsCopy=!0}else if(r){if(Q(r))t.channels=t.channels||4,t.data=r,"type"in e||5121!==t.type||(t.type=0|et[Object.prototype.toString.call(r)]);else if(x(r)){switch(t.channels=t.channels||4,o=(n=r).length,t.type){case 5121:case 5123:case 5125:case 5126:(o=X.allocType(t.type,o)).set(n),t.data=o;break;case 36193:t.data=b(n)}t.alignment=1,t.needsFree=!0}else if(c(r)){n=r.data,Array.isArray(n)||5121!==t.type||(t.type=0|et[Object.prototype.toString.call(n)]),o=r.shape;var a,s,l,u,h=r.stride;3===o.length?(l=o[2],u=h[2]):u=l=1,a=o[0],s=o[1],o=h[0],h=h[1],t.alignment=1,t.width=a,t.height=s,t.channels=l,t.format=t.internalformat=ut[l],t.needsFree=!0,a=u,r=r.offset,l=t.width,u=t.height,s=t.channels;for(var f=X.allocType(36193===t.type?5126:t.type,l*u*s),p=0,m=0;m<u;++m)for(var g=0;g<l;++g)for(var y=0;y<s;++y)f[p++]=n[o*g+h*m+a*y+r];A(t,f)}else if(_(r)===ft||_(r)===pt||_(r)===mt)_(r)===ft||_(r)===pt?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(_(r)===gt)t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(_(r)===bt)t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(_(r)===vt)t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(w(r)){for(n=t.width||r[0].length,o=t.height||r.length,h=t.channels,h=v(r[0][0])?h||r[0][0].length:h||1,a=tt.shape(r),l=1,u=0;u<a.length;++u)l*=a[u];l=X.allocType(36193===t.type?5126:t.type,l),tt.flatten(r,a,"",l),A(t,l),t.alignment=1,t.width=n,t.height=o,t.channels=h,t.format=t.internalformat=ut[h],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4}function p(e,r,i,o,a){var s=e.element,l=e.data,c=e.internalformat,d=e.format,h=e.type,f=e.width,p=e.height;u(e),s?t.texSubImage2D(r,a,i,o,d,h,s):e.compressed?t.compressedTexSubImage2D(r,a,i,o,c,f,p,l):e.needsCopy?(n(),t.copyTexSubImage2D(r,a,i,o,e.xOffset,e.yOffset,f,p)):t.texSubImage2D(r,a,i,o,f,p,d,h,l)}function m(){return at.pop()||new h}function g(t){t.needsFree&&X.freeType(t.data),h.call(t),at.push(t)}function y(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function M(t,e,r){var n=t.images[0]=m();t.mipmask=1,n.width=t.width=e,n.height=t.height=r,n.channels=t.channels=4}function S(t,e){var r=null;if(k(e))l(r=t.images[0]=m(),t),f(r,e),t.mipmask=1;else if(d(t,e),Array.isArray(e.mipmap))for(var n=e.mipmap,i=0;i<n.length;++i)l(r=t.images[i]=m(),t),r.width>>=i,r.height>>=i,f(r,n[i]),t.mipmask|=1<<i;else l(r=t.images[0]=m(),t),f(r,e),t.mipmask=1;l(t,t.images[0])}function E(e,r){for(var i=e.images,o=0;o<i.length&&i[o];++o){var a=i[o],s=r,l=o,c=a.element,d=a.data,h=a.internalformat,f=a.format,p=a.type,m=a.width,g=a.height;u(a),c?t.texImage2D(s,l,f,f,p,c):a.compressed?t.compressedTexImage2D(s,l,h,m,g,0,d):a.needsCopy?(n(),t.copyTexImage2D(s,l,f,a.xOffset,a.yOffset,m,g,0)):t.texImage2D(s,l,f,m,g,0,f,p,d||null)}}function C(){var t=st.pop()||new y;s.call(t);for(var e=t.mipmask=0;16>e;++e)t.images[e]=null;return t}function z(t){for(var e=t.images,r=0;r<e.length;++r)e[r]&&g(e[r]),e[r]=null;st.push(t)}function L(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function O(t,e){"min"in e&&(t.minFilter=U[e.min],0<=dt.indexOf(t.minFilter)&&!("faces"in e)&&(t.genMipmaps=!0)),"mag"in e&&(t.magFilter=B[e.mag]);var r=t.wrapS,n=t.wrapT;if("wrap"in e){var i=e.wrap;"string"==typeof i?r=n=N[i]:Array.isArray(i)&&(r=N[i[0]],n=N[i[1]])}else"wrapS"in e&&(r=N[e.wrapS]),"wrapT"in e&&(n=N[e.wrapT]);if(t.wrapS=r,t.wrapT=n,"anisotropic"in e&&(t.anisotropic=e.anisotropic),"mipmap"in e){switch(r=!1,typeof e.mipmap){case"string":t.mipmapHint=j[e.mipmap],r=t.genMipmaps=!0;break;case"boolean":r=t.genMipmaps=e.mipmap;break;case"object":t.genMipmaps=!1,r=!0}!r||"min"in e||(t.minFilter=9984)}}function D(r,n){t.texParameteri(n,10241,r.minFilter),t.texParameteri(n,10240,r.magFilter),t.texParameteri(n,10242,r.wrapS),t.texParameteri(n,10243,r.wrapT),e.ext_texture_filter_anisotropic&&t.texParameteri(n,34046,r.anisotropic),r.genMipmaps&&(t.hint(33170,r.mipmapHint),t.generateMipmap(n))}function I(e){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=lt++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new L,a.profile&&(this.stats={size:0})}function F(e){t.activeTexture(33984),t.bindTexture(e.target,e.texture)}function R(){var e=xt[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(3553,null)}function P(e){var r=e.texture,n=e.unit,i=e.target;0<=n&&(t.activeTexture(33984+n),t.bindTexture(i,null),xt[n]=null),t.deleteTexture(r),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete ct[e.id],o.textureCount--}var j={"don't care":4352,"dont care":4352,nice:4354,fast:4353},N={repeat:10497,clamp:33071,mirror:33648},B={nearest:9728,linear:9729},U=W({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},B),V={none:0,browser:37444},G={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},H={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},q={};e.ext_srgb&&(H.srgb=35904,H.srgba=35906),e.oes_texture_float&&(G.float32=G.float=5126),e.oes_texture_half_float&&(G.float16=G["half float"]=36193),e.webgl_depth_texture&&(W(H,{depth:6402,"depth stencil":34041}),W(G,{uint16:5123,uint32:5125,"depth stencil":34042})),e.webgl_compressed_texture_s3tc&&W(q,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),e.webgl_compressed_texture_atc&&W(q,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),e.webgl_compressed_texture_pvrtc&&W(q,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),e.webgl_compressed_texture_etc1&&(q["rgb etc1"]=36196);var $=Array.prototype.slice.call(t.getParameter(34467));Object.keys(q).forEach((function(t){var e=q[t];0<=$.indexOf(e)&&(H[t]=e)}));var Y=Object.keys(H);r.textureFormats=Y;var Z=[];Object.keys(H).forEach((function(t){Z[H[t]]=t}));var J=[];Object.keys(G).forEach((function(t){J[G[t]]=t}));var rt=[];Object.keys(B).forEach((function(t){rt[B[t]]=t}));var nt=[];Object.keys(U).forEach((function(t){nt[U[t]]=t}));var it=[];Object.keys(N).forEach((function(t){it[N[t]]=t}));var ot=Y.reduce((function(t,r){var n=H[r];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||e.ext_srgb&&(35904===n||35906===n)?t[n]=n:32855===n||0<=r.indexOf("rgba")?t[n]=6408:t[n]=6407,t}),{}),at=[],st=[],lt=0,ct={},yt=r.maxTextureUnits,xt=Array(yt).map((function(){return null}));return W(I.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(0>e){for(var r=0;r<yt;++r){var n=xt[r];if(n){if(0<n.bindCount)continue;n.unit=-1}xt[r]=this,e=r;break}a.profile&&o.maxTextureUnits<e+1&&(o.maxTextureUnits=e+1),this.unit=e,t.activeTexture(33984+e),t.bindTexture(this.target,this.texture)}return e},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&P(this)}}),a.profile&&(o.getTotalTextureSize=function(){var t=0;return Object.keys(ct).forEach((function(e){t+=ct[e].stats.size})),t}),{create2D:function(e,r){function n(t,e){var r=i.texInfo;L.call(r);var o=C();return"number"==typeof t?M(o,0|t,"number"==typeof e?0|e:0|t):t?(O(r,t),S(o,t)):M(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),i.mipmask=o.mipmask,l(i,o),i.internalformat=o.internalformat,n.width=o.width,n.height=o.height,F(i),E(o,3553),D(r,3553),R(),z(o),a.profile&&(i.stats.size=T(i.internalformat,i.type,o.width,o.height,r.genMipmaps,!1)),n.format=Z[i.internalformat],n.type=J[i.type],n.mag=rt[r.magFilter],n.min=nt[r.minFilter],n.wrapS=it[r.wrapS],n.wrapT=it[r.wrapT],n}var i=new I(3553);return ct[i.id]=i,o.textureCount++,n(e,r),n.subimage=function(t,e,r,o){e|=0,r|=0,o|=0;var a=m();return l(a,i),a.width=0,a.height=0,f(a,t),a.width=a.width||(i.width>>o)-e,a.height=a.height||(i.height>>o)-r,F(i),p(a,3553,e,r,o),R(),g(a),n},n.resize=function(e,r){var o=0|e,s=0|r||o;if(o===i.width&&s===i.height)return n;n.width=i.width=o,n.height=i.height=s,F(i);for(var l=0;i.mipmask>>l;++l){var c=o>>l,d=s>>l;if(!c||!d)break;t.texImage2D(3553,l,i.format,c,d,0,i.format,i.type,null)}return R(),a.profile&&(i.stats.size=T(i.internalformat,i.type,o,s,!1,!1)),n},n._reglType="texture2d",n._texture=i,a.profile&&(n.stats=i.stats),n.destroy=function(){i.decRef()},n},createCube:function(e,r,n,i,s,c){function u(t,e,r,n,i,o){var s,c=h.texInfo;for(L.call(c),s=0;6>s;++s)b[s]=C();if("number"!=typeof t&&t){if("object"==typeof t)if(e)S(b[0],t),S(b[1],e),S(b[2],r),S(b[3],n),S(b[4],i),S(b[5],o);else if(O(c,t),d(h,t),"faces"in t)for(t=t.faces,s=0;6>s;++s)l(b[s],h),S(b[s],t[s]);else for(s=0;6>s;++s)S(b[s],t)}else for(t=0|t||1,s=0;6>s;++s)M(b[s],t,t);for(l(h,b[0]),h.mipmask=c.genMipmaps?(b[0].width<<1)-1:b[0].mipmask,h.internalformat=b[0].internalformat,u.width=b[0].width,u.height=b[0].height,F(h),s=0;6>s;++s)E(b[s],34069+s);for(D(c,34067),R(),a.profile&&(h.stats.size=T(h.internalformat,h.type,u.width,u.height,c.genMipmaps,!0)),u.format=Z[h.internalformat],u.type=J[h.type],u.mag=rt[c.magFilter],u.min=nt[c.minFilter],u.wrapS=it[c.wrapS],u.wrapT=it[c.wrapT],s=0;6>s;++s)z(b[s]);return u}var h=new I(34067);ct[h.id]=h,o.cubeCount++;var b=Array(6);return u(e,r,n,i,s,c),u.subimage=function(t,e,r,n,i){r|=0,n|=0,i|=0;var o=m();return l(o,h),o.width=0,o.height=0,f(o,e),o.width=o.width||(h.width>>i)-r,o.height=o.height||(h.height>>i)-n,F(h),p(o,34069+t,r,n,i),R(),g(o),u},u.resize=function(e){if((e|=0)!==h.width){u.width=h.width=e,u.height=h.height=e,F(h);for(var r=0;6>r;++r)for(var n=0;h.mipmask>>n;++n)t.texImage2D(34069+r,n,h.format,e>>n,e>>n,0,h.format,h.type,null);return R(),a.profile&&(h.stats.size=T(h.internalformat,h.type,u.width,u.height,!1,!0)),u}},u._reglType="textureCube",u._texture=h,a.profile&&(u.stats=h.stats),u.destroy=function(){h.decRef()},u},clear:function(){for(var e=0;e<yt;++e)t.activeTexture(33984+e),t.bindTexture(3553,null),xt[e]=null;K(ct).forEach(P),o.cubeCount=0,o.textureCount=0},getTexture:function(t){return null},restore:function(){for(var e=0;e<yt;++e){var r=xt[e];r&&(r.bindCount=0,r.unit=-1,xt[e]=null)}K(ct).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var r=0;32>r;++r)if(e.mipmask&1<<r)if(3553===e.target)t.texImage2D(3553,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);else for(var n=0;6>n;++n)t.texImage2D(34069+n,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);D(e.texInfo,e.target)}))},refresh:function(){for(var e=0;e<yt;++e){var r=xt[e];r&&(r.bindCount=0,r.unit=-1,xt[e]=null),t.activeTexture(33984+e),t.bindTexture(3553,null),t.bindTexture(34067,null)}}}}function S(t,e,r,n,i,o){function a(t,e,r){this.target=t,this.texture=e,this.renderbuffer=r;var n=t=0;e?(t=e.width,n=e.height):r&&(t=r.width,n=r.height),this.width=t,this.height=n}function s(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function l(t,e,r){t&&(t.texture?t.texture._texture.refCount+=1:t.renderbuffer._renderbuffer.refCount+=1)}function c(e,r){r&&(r.texture?t.framebufferTexture2D(36160,e,r.target,r.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,r.renderbuffer._renderbuffer.renderbuffer))}function d(t){var e=3553,r=null,n=null,i=t;return"object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),"texture2d"===(t=i._reglType)||"textureCube"===t?r=i:"renderbuffer"===t&&(n=i,e=36161),new a(e,r,n)}function u(t,e,r,o,s){return r?((t=n.create2D({width:t,height:e,format:o,type:s}))._texture.refCount=0,new a(3553,t,null)):((t=i.create({width:t,height:e,format:o}))._renderbuffer.refCount=0,new a(36161,null,t))}function h(t){return t&&(t.texture||t.renderbuffer)}function f(t,e,r){t&&(t.texture?t.texture.resize(e,r):t.renderbuffer&&t.renderbuffer.resize(e,r),t.width=e,t.height=r)}function p(){this.id=k++,A[this.id]=this,this.framebuffer=t.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function m(t){t.colorAttachments.forEach(s),s(t.depthAttachment),s(t.stencilAttachment),s(t.depthStencilAttachment)}function g(e){t.deleteFramebuffer(e.framebuffer),e.framebuffer=null,o.framebufferCount--,delete A[e.id]}function b(e){var n;t.bindFramebuffer(36160,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)c(36064+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(36160,36064+n,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),c(36096,e.depthAttachment),c(36128,e.stencilAttachment),c(33306,e.depthStencilAttachment),t.checkFramebufferStatus(36160),t.isContextLost(),t.bindFramebuffer(36160,y.next?y.next.framebuffer:null),y.cur=y.next,t.getError()}function v(t,e){function r(t,e){var i,o=0,a=0,s=!0,c=!0;i=null;var f=!0,p="rgba",g="uint8",v=1,y=null,_=null,k=null,A=!1;"number"==typeof t?(o=0|t,a=0|e||o):t?("shape"in t?(o=(a=t.shape)[0],a=a[1]):("radius"in t&&(o=a=t.radius),"width"in t&&(o=t.width),"height"in t&&(a=t.height)),("color"in t||"colors"in t)&&(i=t.color||t.colors,Array.isArray(i)),i||("colorCount"in t&&(v=0|t.colorCount),"colorTexture"in t&&(f=!!t.colorTexture,p="rgba4"),"colorType"in t&&(g=t.colorType,!f)&&("half float"===g||"float16"===g?p="rgba16f":"float"!==g&&"float32"!==g||(p="rgba32f")),"colorFormat"in t&&(p=t.colorFormat,0<=x.indexOf(p)?f=!0:0<=w.indexOf(p)&&(f=!1))),("depthTexture"in t||"depthStencilTexture"in t)&&(A=!(!t.depthTexture&&!t.depthStencilTexture)),"depth"in t&&("boolean"==typeof t.depth?s=t.depth:(y=t.depth,c=!1)),"stencil"in t&&("boolean"==typeof t.stencil?c=t.stencil:(_=t.stencil,s=!1)),"depthStencil"in t&&("boolean"==typeof t.depthStencil?s=c=t.depthStencil:(k=t.depthStencil,c=s=!1))):o=a=1;var T=null,M=null,S=null,E=null;if(Array.isArray(i))T=i.map(d);else if(i)T=[d(i)];else for(T=Array(v),i=0;i<v;++i)T[i]=u(o,a,f,p,g);for(o=o||T[0].width,a=a||T[0].height,y?M=d(y):s&&!c&&(M=u(o,a,A,"depth","uint32")),_?S=d(_):c&&!s&&(S=u(o,a,!1,"stencil","uint8")),k?E=d(k):!y&&!_&&c&&s&&(E=u(o,a,A,"depth stencil","depth stencil")),s=null,i=0;i<T.length;++i)l(T[i]),T[i]&&T[i].texture&&(c=At[T[i].texture._texture.format]*Tt[T[i].texture._texture.type],null===s&&(s=c));return l(M),l(S),l(E),m(n),n.width=o,n.height=a,n.colorAttachments=T,n.depthAttachment=M,n.stencilAttachment=S,n.depthStencilAttachment=E,r.color=T.map(h),r.depth=h(M),r.stencil=h(S),r.depthStencil=h(E),r.width=n.width,r.height=n.height,b(n),r}var n=new p;return o.framebufferCount++,r(t,e),W(r,{resize:function(t,e){var i=Math.max(0|t,1),o=Math.max(0|e||i,1);if(i===n.width&&o===n.height)return r;for(var a=n.colorAttachments,s=0;s<a.length;++s)f(a[s],i,o);return f(n.depthAttachment,i,o),f(n.stencilAttachment,i,o),f(n.depthStencilAttachment,i,o),n.width=r.width=i,n.height=r.height=o,b(n),r},_reglType:"framebuffer",_framebuffer:n,destroy:function(){g(n),m(n)},use:function(t){y.setFBO({framebuffer:r},t)}})}var y={cur:null,next:null,dirty:!1,setFBO:null},x=["rgba"],w=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&w.push("srgba"),e.ext_color_buffer_half_float&&w.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&w.push("rgba32f");var _=["uint8"];e.oes_texture_half_float&&_.push("half float","float16"),e.oes_texture_float&&_.push("float","float32");var k=0,A={};return W(y,{getFramebuffer:function(t){return"function"==typeof t&&"framebuffer"===t._reglType&&(t=t._framebuffer)instanceof p?t:null},create:v,createCube:function(t){function e(t){var i,o={color:null},a=0,s=null;i="rgba";var l="uint8",c=1;if("number"==typeof t?a=0|t:t?("shape"in t?a=t.shape[0]:("radius"in t&&(a=0|t.radius),"width"in t?a=0|t.width:"height"in t&&(a=0|t.height)),("color"in t||"colors"in t)&&(s=t.color||t.colors,Array.isArray(s)),s||("colorCount"in t&&(c=0|t.colorCount),"colorType"in t&&(l=t.colorType),"colorFormat"in t&&(i=t.colorFormat)),"depth"in t&&(o.depth=t.depth),"stencil"in t&&(o.stencil=t.stencil),"depthStencil"in t&&(o.depthStencil=t.depthStencil)):a=1,s)if(Array.isArray(s))for(t=[],i=0;i<s.length;++i)t[i]=s[i];else t=[s];else for(t=Array(c),s={radius:a,format:i,type:l},i=0;i<c;++i)t[i]=n.createCube(s);for(o.color=Array(t.length),i=0;i<t.length;++i)c=t[i],a=a||c.width,o.color[i]={target:34069,data:t[i]};for(i=0;6>i;++i){for(c=0;c<t.length;++c)o.color[c].target=34069+i;0<i&&(o.depth=r[0].depth,o.stencil=r[0].stencil,o.depthStencil=r[0].depthStencil),r[i]?r[i](o):r[i]=v(o)}return W(e,{width:a,height:a,color:t})}var r=Array(6);return e(t),W(e,{faces:r,resize:function(t){var n=0|t;if(n===e.width)return e;var i=e.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;6>t;++t)r[t].resize(n);return e.width=e.height=n,e},_reglType:"framebufferCube",destroy:function(){r.forEach((function(t){t.destroy()}))}})},clear:function(){K(A).forEach(g)},restore:function(){y.cur=null,y.next=null,y.dirty=!0,K(A).forEach((function(e){e.framebuffer=t.createFramebuffer(),b(e)}))}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function C(t,e,r,n,i,o,a){function s(){this.id=++u,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var t=e.oes_vertex_array_object;this.vao=t?t.createVertexArrayOES():null,h[this.id]=this,this.buffers=[]}var l=r.maxAttributes,d=Array(l);for(r=0;r<l;++r)d[r]=new E;var u=0,h={},f={Record:E,scope:{},state:d,currentVAO:null,targetVAO:null,restore:e.oes_vertex_array_object?function(){e.oes_vertex_array_object&&K(h).forEach((function(t){t.refresh()}))}:function(){},createVAO:function(t){function e(t){var n;Array.isArray(t)?(n=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4):(t.elements?(n=t.elements,r.ownsElements?("function"==typeof n&&"elements"===n._reglType?r.elements.destroy():r.elements(n),r.ownsElements=!1):o.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=o.create(t.elements),r.ownsElements=!0)):(r.elements=null,r.ownsElements=!1),n=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(r.primitive=st[t.primitive])),t={};var a=r.attributes;a.length=n.length;for(var s=0;s<n.length;++s){var l,d=n[s],u=a[s]=new E,h=d.data||d;Array.isArray(h)||Q(h)||c(h)?(r.buffers[s]&&(l=r.buffers[s],Q(h)&&l._buffer.byteLength>=h.byteLength?l.subdata(h):(l.destroy(),r.buffers[s]=null)),r.buffers[s]||(l=r.buffers[s]=i.create(d,34962,!1,!0)),u.buffer=i.getBuffer(l),u.size=0|u.buffer.dimension,u.normalized=!1,u.type=u.buffer.dtype,u.offset=0,u.stride=0,u.divisor=0,u.state=1,t[s]=1):i.getBuffer(d)?(u.buffer=i.getBuffer(d),u.size=0|u.buffer.dimension,u.normalized=!1,u.type=u.buffer.dtype,u.offset=0,u.stride=0,u.divisor=0,u.state=1):i.getBuffer(d.buffer)?(u.buffer=i.getBuffer(d.buffer),u.size=0|(+d.size||u.buffer.dimension),u.normalized=!!d.normalized||!1,u.type="type"in d?rt[d.type]:u.buffer.dtype,u.offset=0|(d.offset||0),u.stride=0|(d.stride||0),u.divisor=0|(d.divisor||0),u.state=1):"x"in d&&(u.x=+d.x||0,u.y=+d.y||0,u.z=+d.z||0,u.w=+d.w||0,u.state=2)}for(l=0;l<r.buffers.length;++l)!t[l]&&r.buffers[l]&&(r.buffers[l].destroy(),r.buffers[l]=null);return r.refresh(),e}var r=new s;return n.vaoCount+=1,e.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},e._vao=r,e._reglType="vao",e(t)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(e){for(var r=0;r<d.length;++r){var n=d[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null)}},setVAO:e.oes_vertex_array_object?function(t){if(t!==f.currentVAO){var r=e.oes_vertex_array_object;t?r.bindVertexArrayOES(t.vao):r.bindVertexArrayOES(null),f.currentVAO=t}}:function(r){if(r!==f.currentVAO){if(r)r.bindAttrs();else{for(var n=e.angle_instanced_arrays,i=0;i<d.length;++i){var o=d[i];o.buffer?(t.enableVertexAttribArray(i),o.buffer.bind(),t.vertexAttribPointer(i,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(i,o.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,o.x,o.y,o.z,o.w))}a.elements?t.bindBuffer(34963,a.elements.buffer.buffer):t.bindBuffer(34963,null)}f.currentVAO=r}},clear:e.oes_vertex_array_object?function(){K(h).forEach((function(t){t.destroy()}))}:function(){}};return s.prototype.bindAttrs=function(){for(var r=e.angle_instanced_arrays,n=this.attributes,i=0;i<n.length;++i){var a=n[i];a.buffer?(t.enableVertexAttribArray(i),t.bindBuffer(34962,a.buffer.buffer),t.vertexAttribPointer(i,a.size,a.type,a.normalized,a.stride,a.offset),r&&a.divisor&&r.vertexAttribDivisorANGLE(i,a.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,a.x,a.y,a.z,a.w))}for(r=n.length;r<l;++r)t.disableVertexAttribArray(r);(r=o.getElements(this.elements))?t.bindBuffer(34963,r.buffer.buffer):t.bindBuffer(34963,null)},s.prototype.refresh=function(){var t=e.oes_vertex_array_object;t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=null,t.bindVertexArrayOES(null))},s.prototype.destroy=function(){if(this.vao){var t=e.oes_vertex_array_object;this===f.currentVAO&&(f.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),h[this.id]&&(delete h[this.id],--n.vaoCount)},f}function z(t,e,r,n){function i(t,e,r,n){this.name=t,this.id=e,this.location=r,this.info=n}function o(t,e){for(var r=0;r<t.length;++r)if(t[r].id===e.id)return void(t[r].location=e.location);t.push(e)}function a(r,n,i){if(!(a=(i=35632===r?c:d)[n])){var o=e.str(n),a=t.createShader(r);t.shaderSource(a,o),t.compileShader(a),i[n]=a}return a}function s(t,e){this.id=f++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(r,s,l){var c;c=a(35632,r.fragId);var d=a(35633,r.vertId);if(s=r.program=t.createProgram(),t.attachShader(s,c),t.attachShader(s,d),l)for(c=0;c<l.length;++c)d=l[c],t.bindAttribLocation(s,d[0],d[1]);t.linkProgram(s),d=t.getProgramParameter(s,35718),n.profile&&(r.stats.uniformsCount=d);var u=r.uniforms;for(c=0;c<d;++c)if(l=t.getActiveUniform(s,c))if(1<l.size)for(var h=0;h<l.size;++h){var f=l.name.replace("[0]","["+h+"]");o(u,new i(f,e.id(f),t.getUniformLocation(s,f),l))}else o(u,new i(l.name,e.id(l.name),t.getUniformLocation(s,l.name),l));for(d=t.getProgramParameter(s,35721),n.profile&&(r.stats.attributesCount=d),r=r.attributes,c=0;c<d;++c)(l=t.getActiveAttrib(s,c))&&o(r,new i(l.name,e.id(l.name),t.getAttribLocation(s,l.name),l))}var c={},d={},u={},h=[],f=0;return n.profile&&(r.getMaxUniformsCount=function(){var t=0;return h.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return h.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);K(c).forEach(e),c={},K(d).forEach(e),d={},h.forEach((function(e){t.deleteProgram(e.program)})),h.length=0,u={},r.shaderCount=0},program:function(e,n,i,o){var a=u[n];a||(a=u[n]={});var f=a[e];if(f&&(f.refCount++,!o))return f;var p=new s(n,e);return r.shaderCount++,l(p,i,o),f||(a[e]=p),h.push(p),W(p,{destroy:function(){if(p.refCount--,0>=p.refCount){t.deleteProgram(p.program);var e=h.indexOf(p);h.splice(e,1),r.shaderCount--}0>=a[p.vertId].refCount&&(t.deleteShader(d[p.vertId]),delete d[p.vertId],delete u[p.fragId][p.vertId]),Object.keys(u[p.fragId]).length||(t.deleteShader(c[p.fragId]),delete c[p.fragId],delete u[p.fragId])}})},restore:function(){c={},d={};for(var t=0;t<h.length;++t)l(h[t],null,h[t].attributes.map((function(t){return[t.location,t.name]})))},shader:a,frag:-1,vert:-1}}function L(t,e,r,n,i,o,a){function s(i){var o;o=null===e.next?5121:e.next.colorAttachments[0].texture._texture.type;var a=0,s=0,l=n.framebufferWidth,c=n.framebufferHeight,d=null;return Q(i)?d=i:i&&(a=0|i.x,s=0|i.y,l=0|(i.width||n.framebufferWidth-a),c=0|(i.height||n.framebufferHeight-s),d=i.data||null),r(),i=l*c*4,d||(5121===o?d=new Uint8Array(i):5126===o&&(d=d||new Float32Array(i))),t.pixelStorei(3333,4),t.readPixels(a,s,l,c,6408,o,d),d}return function(t){return t&&"framebuffer"in t?function(t){var r;return e.setFBO({framebuffer:t.framebuffer},(function(){r=s(t)})),r}(t):s(t)}}function O(t,e){return t>>>e|t<<32-e}function D(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function I(t){return Array.prototype.slice.call(t)}function F(t){return I(t).join("")}function R(t){function e(){var t=[],e=[];return W((function(){t.push.apply(t,I(arguments))}),{def:function(){var r="v"+i++;return e.push(r),0<arguments.length&&(t.push(r,"="),t.push.apply(t,I(arguments)),t.push(";")),r},toString:function(){return F([0<e.length?"var "+e.join(",")+";":"",F(t)])}})}function r(){function t(t,e){n(t,e,"=",r.def(t,e),";")}var r=e(),n=e(),i=r.toString,o=n.toString;return W((function(){r.apply(r,I(arguments))}),{def:r.def,entry:r,exit:n,save:t,set:function(e,n,i){t(e,n),r(e,n,"=",i,";")},toString:function(){return i()+o()}})}var n=t&&t.cache,i=0,o=[],a=[],s=[],l=e(),c={};return{global:l,link:function(t,e){var r=e&&e.stable;if(!r)for(var n=0;n<a.length;++n)if(a[n]===t&&!s[n])return o[n];return n="g"+i++,o.push(n),a.push(t),s.push(r),n},block:e,proc:function(t,e){function n(){var t="a"+i.length;return i.push(t),t}var i=[];e=e||0;for(var o=0;o<e;++o)n();var a=(o=r()).toString;return c[t]=W(o,{arg:n,toString:function(){return F(["function(",i.join(),"){",a(),"}"])}})},scope:r,cond:function(){var t=F(arguments),e=r(),n=r(),i=e.toString,o=n.toString;return W(e,{then:function(){return e.apply(e,I(arguments)),this},else:function(){return n.apply(n,I(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),F(["if(",t,"){",i(),"}",e])}})},compile:function(){var t=['"use strict";',l,"return {"];Object.keys(c).forEach((function(e){t.push('"',e,'":',c[e].toString(),",")})),t.push("}");var e,r=F(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return n&&(e=function(t){for(var e,r="",n=0;n<t.length;n++)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}(function(t){for(var e=Array(t.length>>2),r=0;r<e.length;r++)e[r]=0;for(r=0;r<8*t.length;r+=8)e[r>>5]|=(255&t.charCodeAt(r/8))<<24-r%32;var n,i,o,a,s,l,c,d,u,h,f,p=8*t.length;for(t=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],r=Array(64),e[p>>5]|=128<<24-p%32,e[15+(p+64>>9<<4)]=p,d=0;d<e.length;d+=16){for(p=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=0;64>u;u++){var m;16>u?r[u]=e[u+d]:(h=u,f=D(f=O(f=r[u-2],17)^O(f,19)^f>>>10,r[u-7]),m=O(m=r[u-15],7)^O(m,18)^m>>>3,r[h]=D(D(f,m),r[u-16])),h=D(D(D(D(c,h=O(h=a,6)^O(h,11)^O(h,25)),a&s^~a&l),Mt[u]),r[u]),f=D(c=O(c=p,2)^O(c,13)^O(c,22),p&n^p&i^n&i),c=l,l=s,s=a,a=D(o,h),o=i,i=n,n=p,p=D(h,f)}t[0]=D(p,t[0]),t[1]=D(n,t[1]),t[2]=D(i,t[2]),t[3]=D(o,t[3]),t[4]=D(a,t[4]),t[5]=D(s,t[5]),t[6]=D(l,t[6]),t[7]=D(c,t[7])}for(e="",r=0;r<32*t.length;r+=8)e+=String.fromCharCode(t[r>>5]>>>24-r%32&255);return e}(function(t){for(var e,r,n="",i=-1;++i<t.length;)e=t.charCodeAt(i),r=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&56319>=e&&56320<=r&&57343>=r&&(e=65536+((1023&e)<<10)+(1023&r),i++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n}(r))),n[e])?n[e].apply(null,a):(r=Function.apply(null,o.concat(r)),n&&(n[e]=r),r.apply(null,a))}}}function P(t){return Array.isArray(t)||Q(t)||c(t)}function j(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function N(t,e,r,n){this.thisDep=t,this.contextDep=e,this.propDep=r,this.append=n}function B(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function U(t){return new N(!1,!1,!1,t)}function V(t,e){var r=t.type;if(0===r)return new N(!0,1<=(r=t.data.length),2<=r,e);if(4===r)return new N((r=t.data).thisDep,r.contextDep,r.propDep,e);if(5===r)return new N(!1,!1,!1,e);if(6===r){for(var n=r=!1,i=!1,o=0;o<t.data.length;++o){var a=t.data[o];1===a.type?i=!0:2===a.type?n=!0:3===a.type?r=!0:0===a.type?(r=!0,1<=(a=a.data)&&(n=!0),2<=a&&(i=!0)):4===a.type&&(r=r||a.data.thisDep,n=n||a.data.contextDep,i=i||a.data.propDep)}return new N(r,n,i,e)}return new N(3===r,2===r,1===r,e)}function G(t,e,r,n,i,o,s,l,c,d,u,h,f,p,m,g){function b(t){return t.replace(".","_")}function y(t,e,r){var n=b(t);ot.push(t),it[n]=nt[n]=!!r,at[n]=e}function x(t,e,r){var n=b(t);ot.push(t),Array.isArray(r)?(nt[n]=r.slice(),it[n]=r.slice()):nt[n]=it[n]=r,lt[n]=e}function w(){var t=R({cache:m}),r=t.link,n=t.global;t.id=ut++,t.batchId="0";var i=r(ct),o=t.shared={props:"a0"};Object.keys(ct).forEach((function(t){o[t]=n.def(i,".",t)}));var a=t.next={},s=t.current={};Object.keys(lt).forEach((function(t){Array.isArray(nt[t])&&(a[t]=n.def(o.next,".",t),s[t]=n.def(o.current,".",t))}));var l=t.constants={};Object.keys(dt).forEach((function(t){l[t]=n.def(JSON.stringify(dt[t]))})),t.invoke=function(e,n){switch(n.type){case 0:var i=["this",o.context,o.props,t.batchId];return e.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case 1:return e.def(o.props,n.data);case 2:return e.def(o.context,n.data);case 3:return e.def("this",n.data);case 4:return n.data.append(t,e),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(r){return t.invoke(e,r)}))}},t.attribCache={};var c={};return t.scopeAttrib=function(t){if((t=e.id(t))in c)return c[t];var n=d.scope[t];return n||(n=d.scope[t]=new J),c[t]=r(n)},t}function _(t,e){var r=t.static,n=t.dynamic;if("framebuffer"in r){var i=r.framebuffer;return i?(i=l.getFramebuffer(i),U((function(t,e){var r=t.link(i),n=t.shared;return e.set(n.framebuffer,".next",r),n=n.context,e.set(n,".framebufferWidth",r+".width"),e.set(n,".framebufferHeight",r+".height"),r}))):U((function(t,e){var r=t.shared;return e.set(r.framebuffer,".next","null"),r=r.context,e.set(r,".framebufferWidth",r+".drawingBufferWidth"),e.set(r,".framebufferHeight",r+".drawingBufferHeight"),"null"}))}if("framebuffer"in n){var o=n.framebuffer;return V(o,(function(t,e){var r=t.invoke(e,o),n=t.shared,i=n.framebuffer;return r=e.def(i,".getFramebuffer(",r,")"),e.set(i,".next",r),n=n.context,e.set(n,".framebufferWidth",r+"?"+r+".width:"+n+".drawingBufferWidth"),e.set(n,".framebufferHeight",r+"?"+r+".height:"+n+".drawingBufferHeight"),r}))}return null}function k(t,r,n){function i(t){if(t in o){var r=e.id(o[t]);return(t=U((function(){return r}))).id=r,t}if(t in a){var n=a[t];return V(n,(function(t,e){var r=t.invoke(e,n);return e.def(t.shared.strings,".id(",r,")")}))}return null}var o=t.static,a=t.dynamic,s=i("frag"),l=i("vert"),c=null;return B(s)&&B(l)?(c=u.program(l.id,s.id,null,n),t=U((function(t,e){return t.link(c)}))):t=new N(s&&s.thisDep||l&&l.thisDep,s&&s.contextDep||l&&l.contextDep,s&&s.propDep||l&&l.propDep,(function(t,e){var r,n,i=t.shared.shader;return r=s?s.append(t,e):e.def(i,".","frag"),n=l?l.append(t,e):e.def(i,".","vert"),e.def(i+".program("+n+","+r+")")})),{frag:s,vert:l,progVar:t,program:c}}function A(t,e){function r(t,e){if(t in n){var r=0|n[t];return e?a.offset=r:a.instances=r,U((function(t,n){return e&&(t.OFFSET=r),r}))}if(t in i){var o=i[t];return V(o,(function(t,r){var n=t.invoke(r,o);return e&&(t.OFFSET=n),n}))}if(e){if(c)return U((function(t,e){return t.OFFSET=0}));if(s)return new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.offset:0")}))}else if(s)return new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.instances:-1")}));return null}var n=t.static,i=t.dynamic,a={},s=!1,l=function(){if("vao"in n){var t=n.vao;return null!==t&&null===d.getVAO(t)&&(t=d.createVAO(t)),s=!0,a.vao=t,U((function(e){var r=d.getVAO(t);return r?e.link(r):"null"}))}if("vao"in i){s=!0;var e=i.vao;return V(e,(function(t,r){var n=t.invoke(r,e);return r.def(t.shared.vao+".getVAO("+n+")")}))}return null}(),c=!1,u=function(){if("elements"in n){var t=n.elements;if(a.elements=t,P(t)){var e=a.elements=o.create(t,!0);t=o.getElements(e),c=!0}else t&&(t=o.getElements(t),c=!0);return e=U((function(e,r){if(t){var n=e.link(t);return e.ELEMENTS=n}return e.ELEMENTS=null})),e.value=t,e}if("elements"in i){c=!0;var r=i.elements;return V(r,(function(t,e){var n=(i=t.shared).isBufferArgs,i=i.elements,o=t.invoke(e,r),a=e.def("null");return n=e.def(n,"(",o,")"),o=t.cond(n).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");"),e.entry(o),e.exit(t.cond(n).then(i,".destroyStream(",a,");")),t.ELEMENTS=a}))}return s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.elements+".getElements("+t.shared.vao+".currentVAO.elements):null")})):null}(),h=r("offset",!0),f=function(){if("primitive"in n){var t=n.primitive;return a.primitive=t,U((function(e,r){return st[t]}))}if("primitive"in i){var e=i.primitive;return V(e,(function(t,r){var n=t.constants.primTypes,i=t.invoke(r,e);return r.def(n,"[",i,"]")}))}return c?B(u)?u.value?U((function(t,e){return e.def(t.ELEMENTS,".primType")})):U((function(){return 4})):new N(u.thisDep,u.contextDep,u.propDep,(function(t,e){var r=t.ELEMENTS;return e.def(r,"?",r,".primType:",4)})):s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.primitive:4")})):null}(),p=function(){if("count"in n){var t=0|n.count;return a.count=t,U((function(){return t}))}if("count"in i){var e=i.count;return V(e,(function(t,r){return t.invoke(r,e)}))}return c?B(u)?u?h?new N(h.thisDep,h.contextDep,h.propDep,(function(t,e){return e.def(t.ELEMENTS,".vertCount-",t.OFFSET)})):U((function(t,e){return e.def(t.ELEMENTS,".vertCount")})):U((function(){return-1})):new N(u.thisDep||h.thisDep,u.contextDep||h.contextDep,u.propDep||h.propDep,(function(t,e){var r=t.ELEMENTS;return t.OFFSET?e.def(r,"?",r,".vertCount-",t.OFFSET,":-1"):e.def(r,"?",r,".vertCount:-1")})):s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao,".currentVAO?",t.shared.vao,".currentVAO.count:-1")})):null}(),m=r("instances",!1);return{elements:u,primitive:f,count:p,instances:m,offset:h,vao:l,vaoActive:s,elementsActive:c,static:a}}function T(t,r){var n=t.static,o=t.dynamic,a={};return Object.keys(n).forEach((function(t){var r=n[t],o=e.id(t),s=new J;if(P(r))s.state=1,s.buffer=i.getBuffer(i.create(r,34962,!1,!0)),s.type=0;else if(c=i.getBuffer(r))s.state=1,s.buffer=c,s.type=0;else if("constant"in r){var l=r.constant;s.buffer="null",s.state=2,"number"==typeof l?s.x=l:St.forEach((function(t,e){e<l.length&&(s[t]=l[e])}))}else{var c=P(r.buffer)?i.getBuffer(i.create(r.buffer,34962,!1,!0)):i.getBuffer(r.buffer),d=0|r.offset,u=0|r.stride,h=0|r.size,f=!!r.normalized,p=0;"type"in r&&(p=rt[r.type]),r=0|r.divisor,s.buffer=c,s.state=1,s.size=h,s.normalized=f,s.type=p||c.dtype,s.offset=d,s.stride=u,s.divisor=r}a[t]=U((function(t,e){var r=t.attribCache;if(o in r)return r[o];var n={isStream:!1};return Object.keys(s).forEach((function(t){n[t]=s[t]})),s.buffer&&(n.buffer=t.link(s.buffer),n.type=n.type||n.buffer+".dtype"),r[o]=n}))})),Object.keys(o).forEach((function(t){var e=o[t];a[t]=V(e,(function(t,r){function n(t){r(l[t],"=",i,".",t,"|0;")}var i=t.invoke(r,e),o=t.shared,a=t.constants,s=o.isBufferArgs,l=(o=o.buffer,{isStream:r.def(!1)}),c=new J;c.state=1,Object.keys(c).forEach((function(t){l[t]=r.def(""+c[t])}));var d=l.buffer,u=l.type;return r("if(",s,"(",i,")){",l.isStream,"=true;",d,"=",o,".createStream(",34962,",",i,");",u,"=",d,".dtype;","}else{",d,"=",o,".getBuffer(",i,");","if(",d,"){",u,"=",d,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",2,";","if(typeof "+i+'.constant === "number"){',l[St[0]],"=",i,".constant;",St.slice(1).map((function(t){return l[t]})).join("="),"=0;","}else{",St.map((function(t,e){return l[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",d,"=",o,".createStream(",34962,",",i,".buffer);","}else{",d,"=",o,".getBuffer(",i,".buffer);","}",u,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",d,".dtype;",l.normalized,"=!!",i,".normalized;"),n("size"),n("offset"),n("stride"),n("divisor"),r("}}"),r.exit("if(",l.isStream,"){",o,".destroyStream(",d,");","}"),l}))})),a}function M(t,e,n,i,o){function s(t){var e=c[t];e&&(h[t]=e)}var l=function(t,e){if("string"==typeof(r=t.static).frag&&"string"==typeof r.vert){if(0<Object.keys(e.dynamic).length)return null;var r=e.static,n=Object.keys(r);if(0<n.length&&"number"==typeof r[n[0]]){for(var i=[],o=0;o<n.length;++o)i.push([0|r[n[o]],n[o]]);return i}}return null}(t,e),c=function(t,e){function r(t){if(t in n){var r=n[t];t=!0;var o,a,s=0|r.x,l=0|r.y;return"width"in r?o=0|r.width:t=!1,"height"in r?a=0|r.height:t=!1,new N(!t&&e&&e.thisDep,!t&&e&&e.contextDep,!t&&e&&e.propDep,(function(t,e){var n=t.shared.context,i=o;"width"in r||(i=e.def(n,".","framebufferWidth","-",s));var c=a;return"height"in r||(c=e.def(n,".","framebufferHeight","-",l)),[s,l,i,c]}))}if(t in i){var c=i[t];return t=V(c,(function(t,e){var r=t.invoke(e,c),n=t.shared.context,i=e.def(r,".x|0"),o=e.def(r,".y|0");return[i,o,e.def('"width" in ',r,"?",r,".width|0:","(",n,".","framebufferWidth","-",i,")"),r=e.def('"height" in ',r,"?",r,".height|0:","(",n,".","framebufferHeight","-",o,")")]})),e&&(t.thisDep=t.thisDep||e.thisDep,t.contextDep=t.contextDep||e.contextDep,t.propDep=t.propDep||e.propDep),t}return e?new N(e.thisDep,e.contextDep,e.propDep,(function(t,e){var r=t.shared.context;return[0,0,e.def(r,".","framebufferWidth"),e.def(r,".","framebufferHeight")]})):null}var n=t.static,i=t.dynamic;if(t=r("viewport")){var o=t;t=new N(t.thisDep,t.contextDep,t.propDep,(function(t,e){var r=o.append(t,e),n=t.shared.context;return e.set(n,".viewportWidth",r[2]),e.set(n,".viewportHeight",r[3]),r}))}return{viewport:t,scissor_box:r("scissor.box")}}(t,p=_(t)),u=A(t),h=function(t){var e=t.static,r=t.dynamic,n={};return ot.forEach((function(t){function i(i,a){if(t in e){var s=i(e[t]);n[o]=U((function(){return s}))}else if(t in r){var l=r[t];n[o]=V(l,(function(t,e){return a(t,e,t.invoke(e,l))}))}}var o=b(t);switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return i((function(t){return t}),(function(t,e,r){return r}));case"depth.func":return i((function(t){return zt[t]}),(function(t,e,r){return e.def(t.constants.compareFuncs,"[",r,"]")}));case"depth.range":return i((function(t){return t}),(function(t,e,r){return[e.def("+",r,"[0]"),e=e.def("+",r,"[1]")]}));case"blend.func":return i((function(t){return[Ct["srcRGB"in t?t.srcRGB:t.src],Ct["dstRGB"in t?t.dstRGB:t.dst],Ct["srcAlpha"in t?t.srcAlpha:t.src],Ct["dstAlpha"in t?t.dstAlpha:t.dst]]}),(function(t,e,r){function n(t,n){return e.def('"',t,n,'" in ',r,"?",r,".",t,n,":",r,".",t)}t=t.constants.blendFuncs;var i=n("src","RGB"),o=n("dst","RGB"),a=(i=e.def(t,"[",i,"]"),e.def(t,"[",n("src","Alpha"),"]"));return[i,o=e.def(t,"[",o,"]"),a,t=e.def(t,"[",n("dst","Alpha"),"]")]}));case"blend.equation":return i((function(t){return"string"==typeof t?[Q[t],Q[t]]:"object"==typeof t?[Q[t.rgb],Q[t.alpha]]:void 0}),(function(t,e,r){var n=t.constants.blendEquations,i=e.def(),o=e.def();return(t=t.cond("typeof ",r,'==="string"')).then(i,"=",o,"=",n,"[",r,"];"),t.else(i,"=",n,"[",r,".rgb];",o,"=",n,"[",r,".alpha];"),e(t),[i,o]}));case"blend.color":return i((function(t){return a(4,(function(e){return+t[e]}))}),(function(t,e,r){return a(4,(function(t){return e.def("+",r,"[",t,"]")}))}));case"stencil.mask":return i((function(t){return 0|t}),(function(t,e,r){return e.def(r,"|0")}));case"stencil.func":return i((function(t){return[zt[t.cmp||"keep"],t.ref||0,"mask"in t?t.mask:-1]}),(function(t,e,r){return[t=e.def('"cmp" in ',r,"?",t.constants.compareFuncs,"[",r,".cmp]",":",7680),e.def(r,".ref|0"),e=e.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return i((function(e){return["stencil.opBack"===t?1029:1028,Lt[e.fail||"keep"],Lt[e.zfail||"keep"],Lt[e.zpass||"keep"]]}),(function(e,r,n){function i(t){return r.def('"',t,'" in ',n,"?",o,"[",n,".",t,"]:",7680)}var o=e.constants.stencilOps;return["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return i((function(t){return[0|t.factor,0|t.units]}),(function(t,e,r){return[e.def(r,".factor|0"),e=e.def(r,".units|0")]}));case"cull.face":return i((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),e}),(function(t,e,r){return e.def(r,'==="front"?',1028,":",1029)}));case"frontFace":return i((function(t){return Ot[t]}),(function(t,e,r){return e.def(r+'==="cw"?2304:2305')}));case"colorMask":return i((function(t){return t.map((function(t){return!!t}))}),(function(t,e,r){return a(4,(function(t){return"!!"+r+"["+t+"]"}))}));case"sample.coverage":return i((function(t){return["value"in t?t.value:1,!!t.invert]}),(function(t,e,r){return[e.def('"value" in ',r,"?+",r,".value:1"),e=e.def("!!",r,".invert")]}))}})),n}(t),f=k(t,0,l);s("viewport"),s(b("scissor.box"));var p,m=0<Object.keys(h).length;if((p={framebuffer:p,draw:u,shader:f,state:h,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(t){var e,r=t.static;if(t=t.dynamic,"profile"in r){var n=!!r.profile;(e=U((function(t,e){return n}))).enable=n}else if("profile"in t){var i=t.profile;e=V(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),p.uniforms=function(t){var e=t.static,r=t.dynamic,n={};return Object.keys(e).forEach((function(t){var r,i=e[t];if("number"==typeof i||"boolean"==typeof i)r=U((function(){return i}));else if("function"==typeof i){var o=i._reglType;"texture2d"===o||"textureCube"===o?r=U((function(t){return t.link(i)})):"framebuffer"!==o&&"framebufferCube"!==o||(r=U((function(t){return t.link(i.color[0])})))}else v(i)&&(r=U((function(t){return t.global.def("[",a(i.length,(function(t){return i[t]})),"]")})));r.value=i,n[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];n[t]=V(e,(function(t,r){return t.invoke(r,e)}))})),n}(n),p.drawVAO=p.scopeVAO=u.vao,!p.drawVAO&&f.program&&!l&&r.angle_instanced_arrays&&u.static.elements){var g=!0;if(t=f.program.attributes.map((function(t){return t=e.static[t],g=g&&!!t,t})),g&&0<t.length){var y=d.getVAO(d.createVAO({attributes:t,elements:u.static.elements}));p.drawVAO=new N(null,null,null,(function(t,e){return t.link(y)})),p.useVAO=!0}}return l?p.useVAO=!0:p.attributes=T(e),p.context=function(t){var e=t.static,r=t.dynamic,n={};return Object.keys(e).forEach((function(t){var r=e[t];n[t]=U((function(t,e){return"number"==typeof r||"boolean"==typeof r?""+r:t.link(r)}))})),Object.keys(r).forEach((function(t){var e=r[t];n[t]=V(e,(function(t,r){return t.invoke(r,e)}))})),n}(i),p}function S(t,e,r){var n=t.shared.context,i=t.scope();Object.keys(r).forEach((function(o){e.save(n,"."+o);var a=r[o].append(t,e);Array.isArray(a)?i(n,".",o,"=[",a.join(),"];"):i(n,".",o,"=",a,";")})),e(i)}function E(t,e,r,n){var i,o=(s=t.shared).gl,a=s.framebuffer;tt&&(i=e.def(s.extensions,".webgl_draw_buffers"));var s=(l=t.constants).drawBuffer,l=l.backBuffer;t=r?r.append(t,e):e.def(a,".next"),n||e("if(",t,"!==",a,".cur){"),e("if(",t,"){",o,".bindFramebuffer(",36160,",",t,".framebuffer);"),tt&&e(i,".drawBuffersWEBGL(",s,"[",t,".colorAttachments.length]);"),e("}else{",o,".bindFramebuffer(",36160,",null);"),tt&&e(i,".drawBuffersWEBGL(",l,");"),e("}",a,".cur=",t,";"),n||e("}")}function C(t,e,r){var n=t.shared,i=n.gl,o=t.current,s=t.next,l=n.current,c=n.next,d=t.cond(l,".dirty");ot.forEach((function(e){var n,u;if(!((e=b(e))in r.state))if(e in s){n=s[e],u=o[e];var h=a(nt[e].length,(function(t){return d.def(n,"[",t,"]")}));d(t.cond(h.map((function(t,e){return t+"!=="+u+"["+e+"]"})).join("||")).then(i,".",lt[e],"(",h,");",h.map((function(t,e){return u+"["+e+"]="+t})).join(";"),";"))}else n=d.def(c,".",e),h=t.cond(n,"!==",l,".",e),d(h),e in at?h(t.cond(n).then(i,".enable(",at[e],");").else(i,".disable(",at[e],");"),l,".",e,"=",n,";"):h(i,".",lt[e],"(",n,");",l,".",e,"=",n,";")})),0===Object.keys(r.state).length&&d(l,".dirty=false;"),e(d)}function z(t,e,r,n){var i,o=t.shared,a=t.current,s=o.current,l=o.gl;j(Object.keys(r)).forEach((function(o){var c=r[o];if(!n||n(c)){var d=c.append(t,e);if(at[o]){var u=at[o];B(c)?(i=t.link(d,{stable:!0}),e(t.cond(i).then(l,".enable(",u,");").else(l,".disable(",u,");")),e(s,".",o,"=",i,";")):(e(t.cond(d).then(l,".enable(",u,");").else(l,".disable(",u,");")),e(s,".",o,"=",d,";"))}else if(v(d)){var h=a[o];e(l,".",lt[o],"(",d,");",d.map((function(t,e){return h+"["+e+"]="+t})).join(";"),";")}else B(c)?(i=t.link(d,{stable:!0}),e(l,".",lt[o],"(",i,");",s,".",o,"=",i,";")):e(l,".",lt[o],"(",d,");",s,".",o,"=",d,";")}}))}function L(t,e){K&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function O(t,e,r,n,i){function o(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function a(t){t(c=e.def(),"=",o(),";"),"string"==typeof i?t(h,".count+=",i,";"):t(h,".count++;"),p&&(n?t(d=e.def(),"=",m,".getNumPendingQueries();"):t(m,".beginQuery(",h,");"))}function s(t){t(h,".cpuTime+=",o(),"-",c,";"),p&&(n?t(m,".pushScopeStats(",d,",",m,".getNumPendingQueries(),",h,");"):t(m,".endQuery();"))}function l(t){var r=e.def(f,".profile");e(f,".profile=",t,";"),e.exit(f,".profile=",r,";")}var c,d,u=t.shared,h=t.stats,f=u.current,m=u.timer;if(r=r.profile){if(B(r))return void(r.enable?(a(e),s(e.exit),l("true")):l("false"));l(r=r.append(t,e))}else r=e.def(f,".profile");a(u=t.block()),e("if(",r,"){",u,"}"),s(t=t.block()),e.exit("if(",r,"){",t,"}")}function D(t,e,r,n,i){function o(r,n,i){function o(){e("if(!",d,".buffer){",l,".enableVertexAttribArray(",c,");}");var r,o=i.type;r=i.size?e.def(i.size,"||",n):n,e("if(",d,".type!==",o,"||",d,".size!==",r,"||",f.map((function(t){return d+"."+t+"!=="+i[t]})).join("||"),"){",l,".bindBuffer(",34962,",",u,".buffer);",l,".vertexAttribPointer(",[c,r,o,i.normalized,i.stride,i.offset],");",d,".type=",o,";",d,".size=",r,";",f.map((function(t){return d+"."+t+"="+i[t]+";"})).join(""),"}"),K&&(o=i.divisor,e("if(",d,".divisor!==",o,"){",t.instancing,".vertexAttribDivisorANGLE(",[c,o],");",d,".divisor=",o,";}"))}function s(){e("if(",d,".buffer){",l,".disableVertexAttribArray(",c,");",d,".buffer=null;","}if(",St.map((function(t,e){return d+"."+t+"!=="+h[e]})).join("||"),"){",l,".vertexAttrib4f(",c,",",h,");",St.map((function(t,e){return d+"."+t+"="+h[e]+";"})).join(""),"}")}var l=a.gl,c=e.def(r,".location"),d=e.def(a.attributes,"[",c,"]");r=i.state;var u=i.buffer,h=[i.x,i.y,i.z,i.w],f=["buffer","normalized","offset","stride"];1===r?o():2===r?s():(e("if(",r,"===",1,"){"),o(),e("}else{"),s(),e("}"))}var a=t.shared;n.forEach((function(n){var a,s=n.name,l=r.attributes[s];if(l){if(!i(l))return;a=l.append(t,e)}else{if(!i(Dt))return;var c=t.scopeAttrib(s);a={},Object.keys(new J).forEach((function(t){a[t]=e.def(c,".",t)}))}o(t.link(n),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(n.info.type),a)}))}function I(t,r,n,i,o,s){for(var l,c=t.shared,d=c.gl,u=0;u<i.length;++u){var h,f=(g=i[u]).name,p=g.info.type,m=n.uniforms[f],g=t.link(g)+".location";if(m){if(!o(m))continue;if(B(m)){if(f=m.value,35678===p||35680===p)r(d,".uniform1i(",g,",",(p=t.link(f._texture||f.color[0]._texture))+".bind());"),r.exit(p,".unbind();");else if(35674===p||35675===p||35676===p)m=2,35675===p?m=3:35676===p&&(m=4),r(d,".uniformMatrix",m,"fv(",g,",false,",f=t.global.def("new Float32Array(["+Array.prototype.slice.call(f)+"])"),");");else{switch(p){case 5126:l="1f";break;case 35664:l="2f";break;case 35665:l="3f";break;case 35666:l="4f";break;case 35670:case 5124:l="1i";break;case 35671:case 35667:l="2i";break;case 35672:case 35668:l="3i";break;case 35673:case 35669:l="4i"}r(d,".uniform",l,"(",g,",",v(f)?Array.prototype.slice.call(f):f,");")}continue}h=m.append(t,r)}else{if(!o(Dt))continue;h=r.def(c.uniforms,"[",e.id(f),"]")}switch(35678===p?r("if(",h,"&&",h,'._reglType==="framebuffer"){',h,"=",h,".color[0];","}"):35680===p&&r("if(",h,"&&",h,'._reglType==="framebufferCube"){',h,"=",h,".color[0];","}"),f=1,p){case 35678:case 35680:p=r.def(h,"._texture"),r(d,".uniform1i(",g,",",p,".bind());"),r.exit(p,".unbind();");continue;case 5124:case 35670:l="1i";break;case 35667:case 35671:l="2i",f=2;break;case 35668:case 35672:l="3i",f=3;break;case 35669:case 35673:l="4i",f=4;break;case 5126:l="1f";break;case 35664:l="2f",f=2;break;case 35665:l="3f",f=3;break;case 35666:l="4f",f=4;break;case 35674:l="Matrix2fv";break;case 35675:l="Matrix3fv";break;case 35676:l="Matrix4fv"}if("M"===l.charAt(0)){r(d,".uniform",l,"(",g,","),g=Math.pow(p-35674+2,2);var b=t.global.def("new Float32Array(",g,")");Array.isArray(h)?r("false,(",a(g,(function(t){return b+"["+t+"]="+h[t]})),",",b,")"):r("false,(Array.isArray(",h,")||",h," instanceof Float32Array)?",h,":(",a(g,(function(t){return b+"["+t+"]="+h+"["+t+"]"})),",",b,")"),r(");")}else{if(1<f){p=[];var y=[];for(m=0;m<f;++m)Array.isArray(h)?y.push(h[m]):y.push(r.def(h+"["+m+"]")),s&&p.push(r.def());s&&r("if(!",t.batchId,"||",p.map((function(t,e){return t+"!=="+y[e]})).join("||"),"){",p.map((function(t,e){return t+"="+y[e]+";"})).join("")),r(d,".uniform",l,"(",g,",",y.join(","),");")}else s&&(p=r.def(),r("if(!",t.batchId,"||",p,"!==",h,"){",p,"=",h,";")),r(d,".uniform",l,"(",g,",",h,");");s&&r("}")}}}function F(t,e,r,n){function i(i){var o=h[i];return o?o.contextDep&&n.contextDynamic||o.propDep?o.append(t,r):o.append(t,e):e.def(u,".",i)}function o(){function t(){r(l,".drawElementsInstancedANGLE(",[p,g,b,m+"<<(("+b+"-5121)>>1)",s],");")}function e(){r(l,".drawArraysInstancedANGLE(",[p,m,g,s],");")}f&&"null"!==f?v?t():(r("if(",f,"){"),t(),r("}else{"),e(),r("}")):e()}function a(){function t(){r(d+".drawElements("+[p,g,b,m+"<<(("+b+"-5121)>>1)"]+");")}function e(){r(d+".drawArrays("+[p,m,g]+");")}f&&"null"!==f?v?t():(r("if(",f,"){"),t(),r("}else{"),e(),r("}")):e()}var s,l,c=t.shared,d=c.gl,u=c.draw,h=n.draw,f=function(){var i=h.elements,o=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),i=i.append(t,o),h.elementsActive&&o("if("+i+")"+d+".bindBuffer(34963,"+i+".buffer.buffer);")):(i=o.def(),o(i,"=",u,".","elements",";","if(",i,"){",d,".bindBuffer(",34963,",",i,".buffer.buffer);}","else if(",c.vao,".currentVAO){",i,"=",t.shared.elements+".getElements("+c.vao,".currentVAO.elements);",et?"":"if("+i+")"+d+".bindBuffer(34963,"+i+".buffer.buffer);","}")),i}(),p=i("primitive"),m=i("offset"),g=function(){var i=h.count,o=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),i=i.append(t,o)):i=o.def(u,".","count"),i}();if("number"==typeof g){if(0===g)return}else r("if(",g,"){"),r.exit("}");K&&(s=i("instances"),l=t.instancing);var b=f+".type",v=h.elements&&B(h.elements)&&!h.vaoActive;K&&("number"!=typeof s||0<=s)?"string"==typeof s?(r("if(",s,">0){"),o(),r("}else if(",s,"<0){"),a(),r("}")):o():a()}function G(t,e,r,n,i){return i=(e=w()).proc("body",i),K&&(e.instancing=i.def(e.shared.extensions,".angle_instanced_arrays")),t(e,i,r,n),e.compile().body}function H(t,e,r,n){L(t,e),r.useVAO?r.drawVAO?e(t.shared.vao,".setVAO(",r.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),D(t,e,r,n.attributes,(function(){return!0}))),I(t,e,r,n.uniforms,(function(){return!0}),!1),F(t,e,e,r)}function q(t,e,r,n){function i(){return!0}t.batchId="a1",L(t,e),D(t,e,r,n.attributes,i),I(t,e,r,n.uniforms,i,!1),F(t,e,e,r)}function Y(t,e,r,n){function i(t){return t.contextDep&&a||t.propDep}function o(t){return!i(t)}L(t,e);var a=r.contextDep,s=e.def(),l=e.def();t.shared.props=l,t.batchId=s;var c=t.scope(),d=t.scope();e(c.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",l,"=","a0","[",s,"];",d,"}",c.exit),r.needsContext&&S(t,d,r.context),r.needsFramebuffer&&E(t,d,r.framebuffer),z(t,d,r.state,i),r.profile&&i(r.profile)&&O(t,d,r,!1,!0),n?(r.useVAO?r.drawVAO?i(r.drawVAO)?d(t.shared.vao,".setVAO(",r.drawVAO.append(t,d),");"):c(t.shared.vao,".setVAO(",r.drawVAO.append(t,c),");"):c(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(c(t.shared.vao,".setVAO(null);"),D(t,c,r,n.attributes,o),D(t,d,r,n.attributes,i)),I(t,c,r,n.uniforms,o,!1),I(t,d,r,n.uniforms,i,!0),F(t,c,d,r)):(e=t.global.def("{}"),n=r.shader.progVar.append(t,d),l=d.def(n,".id"),c=d.def(e,"[",l,"]"),d(t.shared.gl,".useProgram(",n,".program);","if(!",c,"){",c,"=",e,"[",l,"]=",t.link((function(e){return G(q,t,r,e,2)})),"(",n,");}",c,".call(this,a0[",s,"],",s,");"))}function Z(t,r){function n(e){var n=r.shader[e];n&&(n=n.append(t,i),isNaN(n)?i.set(o.shader,"."+e,n):i.set(o.shader,"."+e,t.link(n,{stable:!0})))}var i=t.proc("scope",3);t.batchId="a2";var o=t.shared,a=o.current;if(S(t,i,r.context),r.framebuffer&&r.framebuffer.append(t,i),j(Object.keys(r.state)).forEach((function(e){var n=r.state[e],a=n.append(t,i);v(a)?a.forEach((function(r,n){isNaN(r)?i.set(t.next[e],"["+n+"]",r):i.set(t.next[e],"["+n+"]",t.link(r,{stable:!0}))})):B(n)?i.set(o.next,"."+e,t.link(a,{stable:!0})):i.set(o.next,"."+e,a)})),O(t,i,r,!0,!0),["elements","offset","count","instances","primitive"].forEach((function(e){var n=r.draw[e];n&&(n=n.append(t,i),isNaN(n)?i.set(o.draw,"."+e,n):i.set(o.draw,"."+e,t.link(n),{stable:!0}))})),Object.keys(r.uniforms).forEach((function(n){var a=r.uniforms[n].append(t,i);Array.isArray(a)&&(a="["+a.map((function(e){return isNaN(e)?e:t.link(e,{stable:!0})}))+"]"),i.set(o.uniforms,"["+t.link(e.id(n),{stable:!0})+"]",a)})),Object.keys(r.attributes).forEach((function(e){var n=r.attributes[e].append(t,i),o=t.scopeAttrib(e);Object.keys(new J).forEach((function(t){i.set(o,"."+t,n[t])}))})),r.scopeVAO){var s=r.scopeVAO.append(t,i);isNaN(s)?i.set(o.vao,".targetVAO",s):i.set(o.vao,".targetVAO",t.link(s,{stable:!0}))}n("vert"),n("frag"),0<Object.keys(r.state).length&&(i(a,".dirty=true;"),i.exit(a,".dirty=true;")),i("a1(",t.shared.context,",a0,",t.batchId,");")}function X(t,e,r){var n=e.static[r];if(n&&function(t){if("object"==typeof t&&!v(t)){for(var e=Object.keys(t),r=0;r<e.length;++r)if($.isDynamic(t[e[r]]))return!0;return!1}}(n)){var i=t.global,o=Object.keys(n),a=!1,s=!1,l=!1,c=t.global.def("{}");o.forEach((function(e){var r=n[e];if($.isDynamic(r))"function"==typeof r&&(r=n[e]=$.unbox(r)),e=V(r,null),a=a||e.thisDep,l=l||e.propDep,s=s||e.contextDep;else{switch(i(c,".",e,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(t.link(r))}i(";")}})),e.dynamic[r]=new $.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:l,ref:c,append:function(t,e){o.forEach((function(r){var i=n[r];$.isDynamic(i)&&(i=t.invoke(e,i),e(c,".",r,"=",i,";"))}))}}),delete e.static[r]}}var J=d.Record,Q={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(Q.min=32775,Q.max=32776);var K=r.angle_instanced_arrays,tt=r.webgl_draw_buffers,et=r.oes_vertex_array_object,nt={dirty:!0,profile:g.profile},it={},ot=[],at={},lt={};y("dither",3024),y("blend.enable",3042),x("blend.color","blendColor",[0,0,0,0]),x("blend.equation","blendEquationSeparate",[32774,32774]),x("blend.func","blendFuncSeparate",[1,0,1,0]),y("depth.enable",2929,!0),x("depth.func","depthFunc",513),x("depth.range","depthRange",[0,1]),x("depth.mask","depthMask",!0),x("colorMask","colorMask",[!0,!0,!0,!0]),y("cull.enable",2884),x("cull.face","cullFace",1029),x("frontFace","frontFace",2305),x("lineWidth","lineWidth",1),y("polygonOffset.enable",32823),x("polygonOffset.offset","polygonOffset",[0,0]),y("sample.alpha",32926),y("sample.enable",32928),x("sample.coverage","sampleCoverage",[1,!1]),y("stencil.enable",2960),x("stencil.mask","stencilMask",-1),x("stencil.func","stencilFunc",[519,0,-1]),x("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),x("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),y("scissor.enable",3089),x("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),x("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var ct={gl:t,context:f,strings:e,next:it,current:nt,draw:h,elements:o,buffer:i,shader:u,attributes:d.state,vao:d,uniforms:c,framebuffer:l,extensions:r,timer:p,isBufferArgs:P},dt={primTypes:st,compareFuncs:zt,blendFuncs:Ct,blendEquations:Q,stencilOps:Lt,glTypes:rt,orientationType:Ot};tt&&(dt.backBuffer=[1029],dt.drawBuffer=a(n.maxDrawbuffers,(function(t){return 0===t?[0]:a(t,(function(t){return 36064+t}))})));var ut=0;return{next:it,current:nt,procs:function(){var t=w(),e=t.proc("poll"),i=t.proc("refresh"),o=t.block();e(o),i(o);var s,l=(u=t.shared).gl,c=u.next,d=u.current;o(d,".dirty=false;"),E(t,e),E(t,i,null,!0),K&&(s=t.link(K)),r.oes_vertex_array_object&&i(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");var u=i.def(u.attributes),h=i.def(0),f=t.cond(h,".buffer");f.then(l,".enableVertexAttribArray(i);",l,".bindBuffer(",34962,",",h,".buffer.buffer);",l,".vertexAttribPointer(i,",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(l,".disableVertexAttribArray(i);",l,".vertexAttrib4f(i,",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;");var p=t.link(n.maxAttributes,{stable:!0});return i("for(var i=0;i<",p,";++i){",h,"=",u,"[i];",f,"}"),K&&i("for(var i=0;i<",p,";++i){",s,".vertexAttribDivisorANGLE(i,",u,"[i].divisor);","}"),i(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(at).forEach((function(r){var n=at[r],a=o.def(c,".",r),s=t.block();s("if(",a,"){",l,".enable(",n,")}else{",l,".disable(",n,")}",d,".",r,"=",a,";"),i(s),e("if(",a,"!==",d,".",r,"){",s,"}")})),Object.keys(lt).forEach((function(r){var n,s,u=lt[r],h=nt[r],f=t.block();f(l,".",u,"("),v(h)?(u=h.length,n=t.global.def(c,".",r),s=t.global.def(d,".",r),f(a(u,(function(t){return n+"["+t+"]"})),");",a(u,(function(t){return s+"["+t+"]="+n+"["+t+"];"})).join("")),e("if(",a(u,(function(t){return n+"["+t+"]!=="+s+"["+t+"]"})).join("||"),"){",f,"}")):(n=o.def(c,".",r),s=o.def(d,".",r),f(n,");",d,".",r,"=",n,";"),e("if(",n,"!==",s,"){",f,"}")),i(f)})),t.compile()}(),compile:function(t,e,r,n,i){var o=w();o.stats=o.link(i),Object.keys(e.static).forEach((function(t){X(o,e,t)})),Et.forEach((function(e){X(o,t,e)}));var a=M(t,e,r,n);return a.shader.program&&(a.shader.program.attributes.sort((function(t,e){return t.name<e.name?-1:1})),a.shader.program.uniforms.sort((function(t,e){return t.name<e.name?-1:1}))),function(t,e){var r=t.proc("draw",1);L(t,r),S(t,r,e.context),E(t,r,e.framebuffer),C(t,r,e),z(t,r,e.state),O(t,r,e,!1,!0);var n=e.shader.progVar.append(t,r);if(r(t.shared.gl,".useProgram(",n,".program);"),e.shader.program)H(t,r,e,e.shader.program);else{r(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=r.def(n,".id"),a=r.def(i,"[",o,"]");r(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(r){return G(H,t,e,r,1)})),"(",n,");",a,".call(this,a0);"))}0<Object.keys(e.state).length&&r(t.shared.current,".dirty=true;"),t.shared.vao&&r(t.shared.vao,".setVAO(null);")}(o,a),Z(o,a),function(t,e){function r(t){return t.contextDep&&i||t.propDep}var n=t.proc("batch",2);t.batchId="0",L(t,n);var i=!1,o=!0;Object.keys(e.context).forEach((function(t){i=i||e.context[t].propDep})),i||(S(t,n,e.context),o=!1);var a=!1;if((s=e.framebuffer)?(s.propDep?i=a=!0:s.contextDep&&i&&(a=!0),a||E(t,n,s)):E(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(i=!0),C(t,n,e),z(t,n,e.state,(function(t){return!r(t)})),e.profile&&r(e.profile)||O(t,n,e,!1,"a1"),e.contextDep=i,e.needsContext=o,e.needsFramebuffer=a,(o=e.shader.progVar).contextDep&&i||o.propDep)Y(t,n,e,null);else if(o=o.append(t,n),n(t.shared.gl,".useProgram(",o,".program);"),e.shader.program)Y(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var s=t.global.def("{}"),l=(a=n.def(o,".id"),n.def(s,"[",a,"]"));n(t.cond(l).then(l,".call(this,a0,a1);").else(l,"=",s,"[",a,"]=",t.link((function(r){return G(Y,t,e,r,2)})),"(",o,");",l,".call(this,a0,a1);"))}0<Object.keys(e.state).length&&n(t.shared.current,".dirty=true;"),t.shared.vao&&n(t.shared.vao,".setVAO(null);")}(o,a),W(o.compile(),{destroy:function(){a.shader.program.destroy()}})}}}function H(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}var W=function(t,e){for(var r=Object.keys(e),n=0;n<r.length;++n)t[r[n]]=e[r[n]];return t},q=0,$={DynamicVariable:t,define:function(e,n){return new t(e,r(n+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof t},unbox:function e(r,n){return"function"==typeof r?new t(0,r):"number"==typeof r||"boolean"==typeof r?new t(5,r):Array.isArray(r)?new t(6,r.map((function(t,r){return e(t,n+"["+r+"]")}))):r instanceof t?r:void 0},accessor:r},Y={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},Z="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},X=l();X.zero=l();var J=function(t,e){var r=1;e.ext_texture_filter_anisotropic&&(r=t.getParameter(34047));var n=1,i=1;e.webgl_draw_buffers&&(n=t.getParameter(34852),i=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){o=t.createTexture(),t.bindTexture(3553,o),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var a=t.createFramebuffer();if(t.bindFramebuffer(36160,a),t.framebufferTexture2D(36160,36064,3553,o,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var s=X.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,s),t.getError()?o=!1:(t.deleteFramebuffer(a),t.deleteTexture(o),o=1===s[0]),X.freeType(s)}}return s=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(s=t.createTexture(),a=X.allocType(5121,36),t.activeTexture(33984),t.bindTexture(34067,s),t.texImage2D(34069,0,6408,3,3,0,6408,5121,a),X.freeType(a),t.bindTexture(34067,null),t.deleteTexture(s),s=!t.getError()),{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:s}},Q=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},K=function(t){return Object.keys(t).map((function(e){return t[e]}))},tt={shape:function(t){for(var e=[];t.length;t=t[0])e.push(t.length);return e},flatten:function(t,e,r,n){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;switch(r=n||X.allocType(r,i),e.length){case 0:break;case 1:for(n=e[0],e=0;e<n;++e)r[e]=t[e];break;case 2:for(n=e[0],e=e[1],o=i=0;o<n;++o)for(var a=t[o],s=0;s<e;++s)r[i++]=a[s];break;case 3:d(t,e[0],e[1],e[2],r,0);break;default:u(t,e,0,r,0)}return r}},et={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},rt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},nt={dynamic:35048,stream:35040,static:35044},it=tt.flatten,ot=tt.shape,at=[];at[5120]=1,at[5122]=2,at[5124]=4,at[5121]=1,at[5123]=2,at[5125]=4,at[5126]=4;var st={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},lt=new Float32Array(1),ct=new Uint32Array(lt.buffer),dt=[9984,9986,9985,9987],ut=[0,6409,6410,6407,6408],ht={};ht[6409]=ht[6406]=ht[6402]=1,ht[34041]=ht[6410]=2,ht[6407]=ht[35904]=3,ht[6408]=ht[35906]=4;var ft=y("HTMLCanvasElement"),pt=y("OffscreenCanvas"),mt=y("CanvasRenderingContext2D"),gt=y("ImageBitmap"),bt=y("HTMLImageElement"),vt=y("HTMLVideoElement"),yt=Object.keys(et).concat([ft,pt,mt,gt,bt,vt]),xt=[];xt[5121]=1,xt[5126]=4,xt[36193]=2,xt[5123]=2,xt[5125]=4;var wt=[];wt[32854]=2,wt[32855]=2,wt[36194]=2,wt[34041]=4,wt[33776]=.5,wt[33777]=.5,wt[33778]=1,wt[33779]=1,wt[35986]=.5,wt[35987]=1,wt[34798]=1,wt[35840]=.5,wt[35841]=.25,wt[35842]=.5,wt[35843]=.25,wt[36196]=.5;var _t=[];_t[32854]=2,_t[32855]=2,_t[36194]=2,_t[33189]=2,_t[36168]=1,_t[34041]=4,_t[35907]=4,_t[34836]=16,_t[34842]=8,_t[34843]=6;var kt=function(t,e,r,n,i){function o(t){this.id=c++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.height=this.width=0,i.profile&&(this.stats={size:0})}function a(e){var r=e.renderbuffer;t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(r),e.renderbuffer=null,e.refCount=0,delete d[e.id],n.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(s.srgba=35907),e.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),e.webgl_color_buffer_float&&(s.rgba32f=34836);var l=[];Object.keys(s).forEach((function(t){l[s[t]]=t}));var c=0,d={};return o.prototype.decRef=function(){0>=--this.refCount&&a(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var t=0;return Object.keys(d).forEach((function(e){t+=d[e].stats.size})),t}),{create:function(e,r){function a(e,r){var n=0,o=0,d=32854;if("object"==typeof e&&e?("shape"in e?(n=0|(o=e.shape)[0],o=0|o[1]):("radius"in e&&(n=o=0|e.radius),"width"in e&&(n=0|e.width),"height"in e&&(o=0|e.height)),"format"in e&&(d=s[e.format])):"number"==typeof e?(n=0|e,o="number"==typeof r?0|r:n):e||(n=o=1),n!==c.width||o!==c.height||d!==c.format)return a.width=c.width=n,a.height=c.height=o,c.format=d,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,d,n,o),i.profile&&(c.stats.size=_t[c.format]*c.width*c.height),a.format=l[c.format],a}var c=new o(t.createRenderbuffer());return d[c.id]=c,n.renderbufferCount++,a(e,r),a.resize=function(e,r){var n=0|e,o=0|r||n;return n===c.width&&o===c.height||(a.width=c.width=n,a.height=c.height=o,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,c.format,n,o),i.profile&&(c.stats.size=_t[c.format]*c.width*c.height)),a},a._reglType="renderbuffer",a._renderbuffer=c,i.profile&&(a.stats=c.stats),a.destroy=function(){c.decRef()},a},clear:function(){K(d).forEach(a)},restore:function(){K(d).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}},At=[];At[6408]=4,At[6407]=3;var Tt=[];Tt[5121]=1,Tt[5126]=4,Tt[36193]=2;var Mt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],St=["x","y","z","w"],Et="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ct={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},zt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ot={cw:2304,ccw:2305},Dt=new N(!1,!1,!1,(function(){}));return function(t){function e(){if(0===X.length)k&&k.update(),et=null;else{et=Y.next(e),u();for(var t=X.length-1;0<=t;--t){var r=X[t];r&&r(O,null,0)}p.flush(),k&&k.update()}}function r(){!et&&0<X.length&&(et=Y.next(e))}function n(){et&&(Y.cancel(e),et=null)}function i(t){t.preventDefault(),n(),Q.forEach((function(t){t()}))}function a(t){p.getError(),v.restore(),P.restore(),I.restore(),j.restore(),N.restore(),B.restore(),R.restore(),k&&k.restore(),U.procs.refresh(),r(),K.forEach((function(t){t()}))}function s(t){function e(t,e){var r={},n={};return Object.keys(t).forEach((function(i){var o=t[i];if($.isDynamic(o))n[i]=$.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if($.isDynamic(o[a]))return void(n[i]=$.unbox(o,i));r[i]=o}})),{dynamic:n,static:r}}var r=e(t.context||{},!0),n=e(t.uniforms||{},!0),i=e(t.attributes||{},!1);t=e(function(t){function e(t){if(t in r){var e=r[t];delete r[t],Object.keys(e).forEach((function(n){r[t+"."+n]=e[n]}))}}var r=W({},t);return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),e("blend"),e("depth"),e("cull"),e("stencil"),e("polygonOffset"),e("scissor"),e("sample"),"vao"in t&&(r.vao=t.vao),r}(t),!1);var o={gpuTime:0,cpuTime:0,count:0},a=U.compile(t,i,n,r,o),s=a.draw,l=a.batch,c=a.scope,d=[];return W((function(t,e){var r;if("function"==typeof t)return c.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(r=0;r<t;++r)c.call(this,null,e,r);else{if(!Array.isArray(t))return c.call(this,t,e,0);for(r=0;r<t.length;++r)c.call(this,t[r],e,r)}else if("number"==typeof t){if(0<t)return l.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return s.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:o,destroy:function(){a.destroy()}})}function l(t,e){var r=0;U.procs.poll();var n=e.color;n&&(p.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=16384),"depth"in e&&(p.clearDepth(+e.depth),r|=256),"stencil"in e&&(p.clearStencil(0|e.stencil),r|=1024),p.clear(r)}function c(t){return X.push(t),r(),{cancel:function(){var e=H(X,t);X[e]=function t(){var e=H(X,t);X[e]=X[X.length-1],--X.length,0>=X.length&&n()}}}}function d(){var t=V.viewport,e=V.scissor_box;t[0]=t[1]=e[0]=e[1]=0,O.viewportWidth=O.framebufferWidth=O.drawingBufferWidth=t[2]=e[2]=p.drawingBufferWidth,O.viewportHeight=O.framebufferHeight=O.drawingBufferHeight=t[3]=e[3]=p.drawingBufferHeight}function u(){O.tick+=1,O.time=f(),d(),U.procs.poll()}function h(){j.refresh(),d(),U.procs.refresh(),k&&k.update()}function f(){return(Z()-A)/1e3}if(!(t=o(t)))return null;var p=t.gl,b=p.getContextAttributes();p.isContextLost();var v=function(t,e){function r(e){var r;e=e.toLowerCase();try{r=n[e]=t.getExtension(e)}catch(t){}return!!r}for(var n={},i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!r(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw Error("(regl): error restoring extension "+t)}))}}}(p,t);if(!v)return null;var y=function(){var t={"":0},e=[""];return{id:function(r){var n=t[r];return n||(n=t[r]=e.length,e.push(r),n)},str:function(t){return e[t]}}}(),x={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},w=t.cachedCode||{},_=v.extensions,k=function(t,e){function r(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function n(t,e,n){var i=a.pop()||new r;i.startQueryIndex=t,i.endQueryIndex=e,i.sum=0,i.stats=n,s.push(i)}if(!e.ext_disjoint_timer_query)return null;var i=[],o=[],a=[],s=[],l=[],c=[];return{beginQuery:function(t){var r=i.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),n(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:n,update:function(){var t,r;if(0!==(t=o.length)){c.length=Math.max(c.length,t+1),l.length=Math.max(l.length,t+1),l[0]=0;var n=c[0]=0;for(r=t=0;r<o.length;++r){var d=o[r];e.ext_disjoint_timer_query.getQueryObjectEXT(d,34919)?(n+=e.ext_disjoint_timer_query.getQueryObjectEXT(d,34918),i.push(d)):o[t++]=d,l[r+1]=n,c[r+1]=t}for(o.length=t,r=t=0;r<s.length;++r){var u=(n=s[r]).startQueryIndex;d=n.endQueryIndex,n.sum+=l[d]-l[u],u=c[u],(d=c[d])===u?(n.stats.gpuTime+=n.sum/1e6,a.push(n)):(n.startQueryIndex=u,n.endQueryIndex=d,s[t++]=n)}s.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){i.push.apply(i,o);for(var t=0;t<i.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(i[t]);o.length=0,i.length=0},restore:function(){o.length=0,i.length=0}}}(0,_),A=Z(),T=p.drawingBufferWidth,E=p.drawingBufferHeight,O={tick:0,time:0,viewportWidth:T,viewportHeight:E,framebufferWidth:T,framebufferHeight:E,drawingBufferWidth:T,drawingBufferHeight:E,pixelRatio:t.pixelRatio},D=(T={elements:null,primitive:4,count:-1,offset:0,instances:-1},J(p,_)),I=m(p,x,t,(function(t){return R.destroyBuffer(t)})),F=g(p,_,I,x),R=C(p,_,D,x,I,F,T),P=z(p,y,x,t),j=M(p,_,D,(function(){U.procs.poll()}),O,x,t),N=kt(p,_,0,x,t),B=S(p,_,D,j,N,x),U=G(p,y,_,D,I,F,0,B,{},R,P,T,O,k,w,t),V=(y=L(p,B,U.procs.poll,O),U.next),q=p.canvas,X=[],Q=[],K=[],tt=[t.onDestroy],et=null;q&&(q.addEventListener("webglcontextlost",i,!1),q.addEventListener("webglcontextrestored",a,!1));var rt=B.setFBO=s({framebuffer:$.define.call(null,1,"framebuffer")});return h(),b=W(s,{clear:function(t){if("framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;6>e;++e)rt(W({framebuffer:t.framebuffer.faces[e]},t),l);else rt(t,l);else l(0,t)},prop:$.define.bind(null,1),context:$.define.bind(null,2),this:$.define.bind(null,3),draw:s({}),buffer:function(t){return I.create(t,34962,!1,!1)},elements:function(t){return F.create(t,!1)},texture:j.create2D,cube:j.createCube,renderbuffer:N.create,framebuffer:B.create,framebufferCube:B.createCube,vao:R.createVAO,attributes:b,frame:c,on:function(t,e){var r;switch(t){case"frame":return c(e);case"lost":r=Q;break;case"restore":r=K;break;case"destroy":r=tt}return r.push(e),{cancel:function(){for(var t=0;t<r.length;++t)if(r[t]===e){r[t]=r[r.length-1],r.pop();break}}}},limits:D,hasExtension:function(t){return 0<=D.extensions.indexOf(t.toLowerCase())},read:y,destroy:function(){X.length=0,n(),q&&(q.removeEventListener("webglcontextlost",i),q.removeEventListener("webglcontextrestored",a)),P.clear(),B.clear(),N.clear(),R.clear(),j.clear(),F.clear(),I.clear(),k&&k.clear(),tt.forEach((function(t){t()}))},_gl:p,_refresh:h,poll:function(){u(),k&&k.update()},now:f,stats:x,getCachedCode:function(){return w},preloadCachedCode:function(t){Object.entries(t).forEach((function(t){w[t[0]]=t[1]}))}}),t.onDone(null,b),b}}()},67739:(t,e,r)=>{"use strict";var n=r(27941),i=r(12822),o=r(51137),a=r(25059),s=r(16677),l=r(19846),c=r(40666),d=r(17499),u=r(80394),h=r(52656),f=r(4496),p=r(89701),m=p.LINE_SPACING,g=p.FROM_TL,b=p.FROM_BR,v=r(71988),y=r(26972),x=r(18804),w=/^legend[0-9]*$/;function _(t,e){var r,s,h=e||{},p=t._fullLayout,w=L(h),_=h._inHover;if(_?(s=h.layer,r="hover"):(s=p._infolayer,r=w),s){var M;if(r+=p._uid,t._legendMouseDownTime||(t._legendMouseDownTime=0),_){if(!h.entries)return;M=v(h.entries,h)}else{for(var O=(t.calcdata||[]).slice(),D=p.shapes,I=0;I<D.length;I++){var F=D[I];if(F.showlegend){var R={_isShape:!0,_fullInput:F,index:F._index,name:F.name||F.label.text||"shape "+F._index,legend:F.legend,legendgroup:F.legendgroup,legendgrouptitle:F.legendgrouptitle,legendrank:F.legendrank,legendwidth:F.legendwidth,showlegend:F.showlegend,visible:F.visible,opacity:F.opacity,mode:"line"===F.type?"lines":"markers",line:F.line,marker:{line:F.line,color:F.fillcolor,size:12,symbol:"rect"===F.type?"square":"circle"===F.type?"circle":"hexagon2"}};O.push([{trace:R}])}}M=p.showlegend&&v(O,h,p._legends.length>1)}var P=p.hiddenlabels||[];if(!(_||p.showlegend&&M.length))return s.selectAll("."+w).remove(),p._topdefs.select("#"+r).remove(),o.autoMargin(t,w);var j=i.ensureSingle(s,"g",w,(function(t){_||t.attr("pointer-events","all")})),N=i.ensureSingleById(p._topdefs,"clipPath",r,(function(t){t.append("rect")})),B=i.ensureSingle(j,"rect","bg",(function(t){t.attr("shape-rendering","crispEdges")}));B.call(d.stroke,h.bordercolor).call(d.fill,h.bgcolor).style("stroke-width",h.borderwidth+"px");var U,V=i.ensureSingle(j,"g","scrollbox"),G=h.title;h._titleWidth=0,h._titleHeight=0,G.text?((U=i.ensureSingle(V,"text",w+"titletext")).attr("text-anchor","start").call(c.font,G.font).text(G.text),E(U,V,t,h,1)):V.selectAll("."+w+"titletext").remove();var H=i.ensureSingle(j,"rect","scrollbar",(function(t){t.attr(f.scrollBarEnterAttrs).call(d.fill,f.scrollBarColor)})),W=V.selectAll("g.groups").data(M);W.enter().append("g").attr("class","groups"),W.exit().remove();var q=W.selectAll("g.traces").data(i.identity);q.enter().append("g").attr("class","traces"),q.exit().remove(),q.style("opacity",(function(t){var e=t[0].trace;return a.traceIs(e,"pie-like")?-1!==P.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1})).each((function(){n.select(this).call(T,t,h)})).call(y,t,h).each((function(){_||n.select(this).call(S,t,w)})),i.syncOrAsync([o.previousPromises,function(){return function(t,e,r,i){var o=t._fullLayout,a=L(i);i||(i=o[a]);var s=o._size,l=x.isVertical(i),d=x.isGrouped(i),u="fraction"===i.entrywidthmode,h=i.borderwidth,p=2*h,m=f.itemGap,g=i.indentation+i.itemwidth+2*m,b=2*(h+m),v=z(i),y=i.y<0||0===i.y&&"top"===v,w=i.y>1||1===i.y&&"bottom"===v,_=i.tracegroupgap,A={};const{orientation:T,yref:M}=i;let{maxheight:S}=i;const E=y||w||"v"!==T||"paper"!==M;S||=E?.5:1;const O=E?o.height:s.h;i._maxHeight=Math.max(S>1?S:S*O,30);var D=0;i._width=0,i._height=0;var I=function(t){var e=0,r=0,n=t.title.side;return n&&(-1!==n.indexOf("left")&&(e=t._titleWidth),-1!==n.indexOf("top")&&(r=t._titleHeight)),[e,r]}(i);if(l)r.each((function(t){var e=t[0].height;c.setTranslate(this,h+I[0],h+I[1]+i._height+e/2+m),i._height+=e,i._width=Math.max(i._width,t[0].width)})),D=g+i._width,i._width+=m+g+p,i._height+=b,d&&(e.each((function(t,e){c.setTranslate(this,0,e*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var F=C(i),R=i.x<0||0===i.x&&"right"===F,P=i.x>1||1===i.x&&"left"===F,j=w||y,N=o.width/2;i._maxWidth=Math.max(R?j&&"left"===F?s.l+s.w:N:P?j&&"right"===F?s.r+s.w:N:s.w,2*g);var B=0,U=0;r.each((function(t){var e=k(t,i,g);B=Math.max(B,e),U+=e})),D=null;var V=0;if(d){var G=0,H=0,W=0;e.each((function(){var t=0,e=0;n.select(this).selectAll("g.traces").each((function(r){var n=k(r,i,g),o=r[0].height;c.setTranslate(this,I[0],I[1]+h+m+o/2+e),e+=o,t=Math.max(t,n),A[r[0].trace.legendgroup]=t}));var r=t+m;H>0&&r+h+H>i._maxWidth?(V=Math.max(V,H),H=0,W+=G+_,G=e):G=Math.max(G,e),c.setTranslate(this,H,W),H+=r})),i._width=Math.max(V,H)+h,i._height=W+G+b}else{var q=r.size(),$=U+p+(q-1)*m<i._maxWidth,Y=0,Z=0,X=0,J=0;r.each((function(t){var e=t[0].height,r=k(t,i,g),n=$?r:B;u||(n+=m),n+h+Z-m>=i._maxWidth&&(V=Math.max(V,J),Z=0,X+=Y,i._height+=Y,Y=0),c.setTranslate(this,I[0]+h+Z,I[1]+h+X+e/2+m),J=Z+r+m,Z+=n,Y=Math.max(Y,e)})),$?(i._width=Z+p,i._height=Y+b):(i._width=Math.max(V,J)+p,i._height+=Y+b)}}i._width=Math.ceil(Math.max(i._width+I[0],i._titleWidth+2*(h+f.titlePad))),i._height=Math.ceil(Math.max(i._height+I[1],i._titleHeight+2*(h+f.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var Q=t._context.edits,K=Q.legendText||Q.legendPosition;r.each((function(t){var e=n.select(this).select("."+a+"toggle"),r=t[0].height,o=t[0].trace.legendgroup,s=k(t,i,g);d&&""!==o&&(s=A[o]);var h=K?g:D||s;l||u||(h+=m/2),c.setRect(e,0,-r/2,h,r)}))}(t,W,q,h)},function(){var e,d,v,y,x=p._size,k=h.borderwidth,T="paper"===h.xref,M="paper"===h.yref;if(G.text&&function(t,e,r){if("top center"===e.title.side||"top right"===e.title.side){var n=e.title.font.size*m,i=0,o=t.node(),a=c.bBox(o).width;"top center"===e.title.side?i=.5*(e._width-2*r-2*f.titlePad-a):"top right"===e.title.side&&(i=e._width-2*r-2*f.titlePad-a),u.positionText(t,r+f.titlePad+i,r+n)}}(U,h,k),!_){var S,E;S=T?x.l+x.w*h.x-g[C(h)]*h._width:p.width*h.x-g[C(h)]*h._width,E=M?x.t+x.h*(1-h.y)-g[z(h)]*h._effHeight:p.height*(1-h.y)-g[z(h)]*h._effHeight;var L=function(t,e,r,n){var i=t._fullLayout,a=i[e],s=C(a),l=z(a),c="paper"===a.xref,d="paper"===a.yref;t._fullLayout._reservedMargin[e]={};var u=a.y<.5?"b":"t",h=a.x<.5?"l":"r",f={r:i.width-r,l:r+a._width,b:i.height-n,t:n+a._effHeight};if(c&&d)return o.autoMargin(t,e,{x:a.x,y:a.y,l:a._width*g[s],r:a._width*b[s],b:a._effHeight*b[l],t:a._effHeight*g[l]});c?t._fullLayout._reservedMargin[e][u]=f[u]:d||"v"===a.orientation?t._fullLayout._reservedMargin[e][h]=f[h]:t._fullLayout._reservedMargin[e][u]=f[u]}(t,w,S,E);if(L)return;if(p.margin.autoexpand){var O=S,D=E;S=T?i.constrain(S,0,p.width-h._width):O,E=M?i.constrain(E,0,p.height-h._effHeight):D,S!==O&&i.log("Constrain "+w+".x to make legend fit inside graph"),E!==D&&i.log("Constrain "+w+".y to make legend fit inside graph")}c.setTranslate(j,S,E)}if(H.on(".drag",null),j.on("wheel",null),_||h._height<=h._maxHeight||t._context.staticPlot){var I=h._effHeight;_&&(I=h._height),B.attr({width:h._width-k,height:I-k,x:k/2,y:k/2}),c.setTranslate(V,0,0),N.select("rect").attr({width:h._width-2*k,height:I-2*k,x:k,y:k}),c.setClipUrl(V,r,t),c.setRect(H,0,0,0,0),delete h._scrollY}else{var F,R,P,W=Math.max(f.scrollBarMinHeight,h._effHeight*h._effHeight/h._height),q=h._effHeight-W-2*f.scrollBarMargin,$=h._height-h._effHeight,Y=q/$,Z=Math.min(h._scrollY||0,$);B.attr({width:h._width-2*k+f.scrollBarWidth+f.scrollBarMargin,height:h._effHeight-k,x:k/2,y:k/2}),N.select("rect").attr({width:h._width-2*k+f.scrollBarWidth+f.scrollBarMargin,height:h._effHeight-2*k,x:k,y:k+Z}),c.setClipUrl(V,r,t),Q(Z,W,Y),j.on("wheel",(function(){Q(Z=i.constrain(h._scrollY+n.event.deltaY/$*q,0,$),W,Y),0!==Z&&Z!==$&&n.event.preventDefault()}));var X=n.behavior.drag().on("dragstart",(function(){var t=n.event.sourceEvent;F="touchstart"===t.type?t.changedTouches[0].clientY:t.clientY,P=Z})).on("drag",(function(){var t=n.event.sourceEvent;2===t.buttons||t.ctrlKey||(R="touchmove"===t.type?t.changedTouches[0].clientY:t.clientY,Z=function(t,e,r){var n=(r-e)/Y+t;return i.constrain(n,0,$)}(P,F,R),Q(Z,W,Y))}));H.call(X);var J=n.behavior.drag().on("dragstart",(function(){var t=n.event.sourceEvent;"touchstart"===t.type&&(F=t.changedTouches[0].clientY,P=Z)})).on("drag",(function(){var t=n.event.sourceEvent;"touchmove"===t.type&&(R=t.changedTouches[0].clientY,Z=function(t,e,r){var n=(e-r)/Y+t;return i.constrain(n,0,$)}(P,F,R),Q(Z,W,Y))}));V.call(J)}function Q(e,r,n){h._scrollY=t._fullLayout[w]._scrollY=e,c.setTranslate(V,0,-e),c.setRect(H,h._width,f.scrollBarMargin+e*n,f.scrollBarWidth,r),N.select("rect").attr("y",k+e)}t._context.edits.legendPosition&&(j.classed("cursor-move",!0),l.init({element:j.node(),gd:t,prepFn:function(t){if(t.target!==H.node()){var e=c.getTranslate(j);v=e.x,y=e.y}},moveFn:function(t,r){if(void 0!==v&&void 0!==y){var n=v+t,i=y+r;c.setTranslate(j,n,i),e=l.align(n,h._width,x.l,x.l+x.w,h.xanchor),d=l.align(i+h._height,-h._height,x.t+x.h,x.t,h.yanchor)}},doneFn:function(){if(void 0!==e&&void 0!==d){var r={};r[w+".x"]=e,r[w+".y"]=d,a.call("_guiRelayout",t,r)}},clickFn:function(e,r){var n=s.selectAll("g.traces").filter((function(){var t=this.getBoundingClientRect();return r.clientX>=t.left&&r.clientX<=t.right&&r.clientY>=t.top&&r.clientY<=t.bottom}));n.size()>0&&A(t,j,n,e,r)}}))}],t)}}function k(t,e,r){var n=t[0],i=n.width,o=e.entrywidthmode,a=n.trace.legendwidth||e.entrywidth;return"fraction"===o?e._maxWidth*a:r+(a||i)}function A(t,e,r,n,i){var o=r.data()[0][0].trace,l={event:i,node:r.node(),curveNumber:o.index,expandedIndex:o.index,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};o._group&&(l.group=o._group),a.traceIs(o,"pie-like")&&(l.label=r.datum()[0].label);var c=s.triggerHandler(t,"plotly_legendclick",l);if(1===n){if(!1===c)return;e._clickTimeout=setTimeout((function(){t._fullLayout&&h(r,t,n)}),t._context.doubleClickDelay)}else 2===n&&(e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==s.triggerHandler(t,"plotly_legenddoubleclick",l)&&!1!==c&&h(r,t,n))}function T(t,e,r){var n,o,s=L(r),l=t.data()[0][0],d=l.trace,h=a.traceIs(d,"pie-like"),p=!r._inHover&&e._context.edits.legendText&&!h,m=r._maxNameLength;l.groupTitle?(n=l.groupTitle.text,o=l.groupTitle.font):(o=r.font,r.entries?n=l.text:(n=h?l.label:d.name,d._meta&&(n=i.templateString(n,d._meta))));var g=i.ensureSingle(t,"text",s+"text");g.attr("text-anchor","start").call(c.font,o).text(p?M(n,m):n);var b=r.indentation+r.itemwidth+2*f.itemGap;u.positionText(g,b,0),p?g.call(u.makeEditable,{gd:e,text:n}).call(E,t,e,r).on("edit",(function(n){this.text(M(n,m)).call(E,t,e,r);var i=l.trace._fullInput||{},o={};return o.name=n,i._isShape?a.call("_guiRelayout",e,"shapes["+d.index+"].name",o.name):a.call("_guiRestyle",e,o,d.index)})):E(g,t,e,r)}function M(t,e){var r=Math.max(4,e);if(t&&t.trim().length>=r/2)return t;for(var n=r-(t=t||"").length;n>0;n--)t+=" ";return t}function S(t,e,r){var o,a=e._context.doubleClickDelay,s=1,l=i.ensureSingle(t,"rect",r+"toggle",(function(t){e._context.staticPlot||t.style("cursor","pointer").attr("pointer-events","all"),t.call(d.fill,"rgba(0,0,0,0)")}));e._context.staticPlot||(l.on("mousedown",(function(){(o=(new Date).getTime())-e._legendMouseDownTime<a?s+=1:(s=1,e._legendMouseDownTime=o)})),l.on("mouseup",(function(){if(!e._dragged&&!e._editing){var i=e._fullLayout[r];(new Date).getTime()-e._legendMouseDownTime>a&&(s=Math.max(s-1,1)),A(e,i,t,s,n.event)}})))}function E(t,e,r,n,i){n._inHover&&t.attr("data-notex",!0),u.convertToTspans(t,r,(function(){!function(t,e,r,n){var i=t.data()[0][0];if(r._inHover||!i||i.trace.showlegend){var o=t.select("g[class*=math-group]"),a=o.node(),s=L(r);r||(r=e._fullLayout[s]);var l,d,h=r.borderwidth,p=(1===n?r.title.font:i.groupTitle?i.groupTitle.font:r.font).size*m;if(a){var g=c.bBox(a);l=g.height,d=g.width,1===n?c.setTranslate(o,h,h+.75*l):c.setTranslate(o,0,.25*l)}else{var b="."+s+(1===n?"title":"")+"text",v=t.select(b),y=u.lineCount(v),x=v.node();if(l=p*y,d=x?c.bBox(x).width:0,1===n)"left"===r.title.side&&(d+=2*f.itemGap),u.positionText(v,h+f.titlePad,h+p);else{var w=2*f.itemGap+r.indentation+r.itemwidth;i.groupTitle&&(w=f.itemGap,d-=r.indentation+r.itemwidth),u.positionText(v,w,-p*((y-1)/2-.3))}}1===n?(r._titleWidth=d,r._titleHeight=l):(i.lineHeight=p,i.height=Math.max(l,16)+3,i.width=d)}else t.remove()}(e,r,n,i)}))}function C(t){return i.isRightAnchor(t)?"right":i.isCenterAnchor(t)?"center":"left"}function z(t){return i.isBottomAnchor(t)?"bottom":i.isMiddleAnchor(t)?"middle":"top"}function L(t){return t._id||"legend"}t.exports=function(t,e){if(e)_(t,e);else{var r=t._fullLayout,i=r._legends;r._infolayer.selectAll('[class^="legend"]').each((function(){var t=n.select(this),e=t.attr("class").split(" ")[0];e.match(w)&&-1===i.indexOf(e)&&t.remove()}));for(var o=0;o<i.length;o++){var a=i[o];_(t,t._fullLayout[a])}}}},67830:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},67848:(t,e,r)=>{"use strict";r.d(e,{A:()=>a,_:()=>s});var n=r(94825),i=r(37968),o=(0,n.A)((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*i.rR)/i.Nm}),(function(t){return t.getDate()-1}));const a=o;var s=o.range},68007:(t,e,r)=>{"use strict";var n=r(15541)(),i=r(50459)("Object.prototype.toString"),o=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},a=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"length"in t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"callee"in t&&"[object Function]"===i(t.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},68057:(t,e)=>{"use strict";e.T={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")},e.k={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style",description:["Sets the shape of the pattern fill.","By default, no pattern is used for filling the area."].join(" ")},path:{valType:"string",arrayOk:!0,editType:"style",description:["Sets a custom path for pattern fill.","Use with no `shape` or `solidity`, provide an SVG path string for","the regions of the square from (0,0) to (`size`,`size`) to color."].join(" ")},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style",description:["Determines whether `marker.color` should be used","as a default to `bgcolor` or a `fgcolor`."].join(" ")},bgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of background pattern fill.","Defaults to a `marker.color` background when `fillmode` is *overlay*.","Otherwise, defaults to a transparent background."].join(" ")},fgcolor:{valType:"color",arrayOk:!0,editType:"style",description:["When there is no colorscale sets the color of foreground pattern fill.","Defaults to a `marker.color` background when `fillmode` is *replace*.","Otherwise, defaults to dark grey or white","to increase contrast with the `bgcolor`."].join(" ")},fgopacity:{valType:"number",editType:"style",min:0,max:1,description:["Sets the opacity of the foreground pattern fill.","Defaults to a 0.5 when `fillmode` is *overlay*.","Otherwise, defaults to 1."].join(" ")},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style",description:["Sets the size of unit squares of the pattern fill in pixels,","which corresponds to the interval of repetition of the pattern."].join(" ")},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style",description:["Sets the solidity of the pattern fill.","Solidity is roughly the fraction of the area filled by the pattern.","Solidity of 0 shows only the background color without pattern","and solidty of 1 shows only the foreground color without pattern."].join(" ")},editType:"style",description:["Sets the pattern within the marker."].join(" ")}},68164:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},68588:(t,e,r)=>{"use strict";var n=r(91355),i=/^\w*$/;t.exports=function(t,e,r,o){var a,s,l;r=r||"name",o=o||"value";var c={};e&&e.length?(l=n(t,e),s=l.get()):s=t,e=e||"";var d={};if(s)for(a=0;a<s.length;a++)d[s[a][r]]=a;var u=i.test(o),h={set:function(t,e){var i=null===e?4:0;if(!s){if(!l||4===i)return;s=[],l.set(s)}var a=d[t];if(void 0===a){if(4===i)return;i|=3,a=s.length,d[t]=a}else e!==(u?s[a][o]:n(s[a],o).get())&&(i|=2);var f=s[a]=s[a]||{};return f[r]=t,u?f[o]=e:n(f,o).set(e),null!==e&&(i&=-5),c[a]=c[a]|i,h},get:function(t){if(s){var e=d[t];return void 0===e?void 0:u?s[e][o]:n(s[e],o).get()}},rename:function(t,e){var n=d[t];return void 0===n||(c[n]=1|c[n],d[e]=n,delete d[t],s[n][r]=e),h},remove:function(t){var e=d[t];if(void 0===e)return h;var i=s[e];if(Object.keys(i).length>2)return c[e]=2|c[e],h.set(t,null);if(u){for(a=e;a<s.length;a++)c[a]=3|c[a];for(a=e;a<s.length;a++)d[s[a][r]]--;s.splice(e,1),delete d[t]}else n(i,o).set(null),c[e]=6|c[e];return h},constructUpdate:function(){for(var t,i,a={},l=Object.keys(c),d=0;d<l.length;d++)i=l[d],t=e+"["+i+"]",s[i]?(1&c[i]&&(a[t+"."+r]=s[i][r]),2&c[i]&&(a[t+"."+o]=u?4&c[i]?null:s[i][o]:4&c[i]?null:n(s[i],o).get())):a[t]=null;return a}};return h}},68605:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},68673:t=>{t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},68727:t=>{t.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},68735:(t,e,r)=>{"use strict";var n,i,o,a,s=r(37974),l=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},c="M0,0Z",d=Math.sqrt(2),u=Math.sqrt(3),h=Math.PI,f=Math.cos,p=Math.sin;function m(t){return null===t}function g(t,e,r){if(!(t&&t%360!=0||e))return r;if(o===t&&a===e&&n===r)return i;function l(t,r){var n=f(t),i=p(t),o=r[0],a=r[1]+(e||0);return[o*n-a*i,o*i+a*n]}o=t,a=e,n=r;for(var c=t/180*h,d=0,u=0,m=s(r),g="",b=0;b<m.length;b++){var v=m[b],y=v[0],x=d,w=u;if("M"===y||"L"===y)d=+v[1],u=+v[2];else if("m"===y||"l"===y)d+=+v[1],u+=+v[2];else if("H"===y)d=+v[1];else if("h"===y)d+=+v[1];else if("V"===y)u=+v[1];else if("v"===y)u+=+v[1];else if("A"===y){d=+v[1],u=+v[2];var _=l(c,[+v[6],+v[7]]);v[6]=_[0],v[7]=_[1],v[3]=+v[3]+t}"H"!==y&&"V"!==y||(y="L"),"h"!==y&&"v"!==y||(y="l"),"m"!==y&&"l"!==y||(d-=x,u-=w);var k=l(c,[d,u]);"H"!==y&&"V"!==y||(y="L"),"M"!==y&&"L"!==y&&"m"!==y&&"l"!==y||(v[1]=k[0],v[2]=k[1]),v[0]=y,g+=v[0]+v.slice(1).join(",")}return i=g,g}t.exports={circle:{n:0,f:function(t,e,r){if(m(e))return c;var n=l(t,2),i="M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z";return r?g(e,r,i):i}},square:{n:1,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")}},diamond:{n:2,f:function(t,e,r){if(m(e))return c;var n=l(1.3*t,2);return g(e,r,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z")}},cross:{n:3,f:function(t,e,r){if(m(e))return c;var n=l(.4*t,2),i=l(1.2*t,2);return g(e,r,"M"+i+","+n+"H"+n+"V"+i+"H-"+n+"V"+n+"H-"+i+"V-"+n+"H-"+n+"V-"+i+"H"+n+"V-"+n+"H"+i+"Z")}},x:{n:4,f:function(t,e,r){if(m(e))return c;var n=l(.8*t/d,2),i="l"+n+","+n,o="l"+n+",-"+n,a="l-"+n+",-"+n,s="l-"+n+","+n;return g(e,r,"M0,"+n+i+o+a+o+a+s+a+s+i+s+i+"Z")}},"triangle-up":{n:5,f:function(t,e,r){if(m(e))return c;var n=l(2*t/u,2);return g(e,r,"M-"+n+","+l(t/2,2)+"H"+n+"L0,-"+l(t,2)+"Z")}},"triangle-down":{n:6,f:function(t,e,r){if(m(e))return c;var n=l(2*t/u,2);return g(e,r,"M-"+n+",-"+l(t/2,2)+"H"+n+"L0,"+l(t,2)+"Z")}},"triangle-left":{n:7,f:function(t,e,r){if(m(e))return c;var n=l(2*t/u,2);return g(e,r,"M"+l(t/2,2)+",-"+n+"V"+n+"L-"+l(t,2)+",0Z")}},"triangle-right":{n:8,f:function(t,e,r){if(m(e))return c;var n=l(2*t/u,2);return g(e,r,"M-"+l(t/2,2)+",-"+n+"V"+n+"L"+l(t,2)+",0Z")}},"triangle-ne":{n:9,f:function(t,e,r){if(m(e))return c;var n=l(.6*t,2),i=l(1.2*t,2);return g(e,r,"M-"+i+",-"+n+"H"+n+"V"+i+"Z")}},"triangle-se":{n:10,f:function(t,e,r){if(m(e))return c;var n=l(.6*t,2),i=l(1.2*t,2);return g(e,r,"M"+n+",-"+i+"V"+n+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(t,e,r){if(m(e))return c;var n=l(.6*t,2),i=l(1.2*t,2);return g(e,r,"M"+i+","+n+"H-"+n+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(t,e,r){if(m(e))return c;var n=l(.6*t,2),i=l(1.2*t,2);return g(e,r,"M-"+n+","+i+"V-"+n+"H"+i+"Z")}},pentagon:{n:13,f:function(t,e,r){if(m(e))return c;var n=l(.951*t,2),i=l(.588*t,2),o=l(-t,2),a=l(-.309*t,2);return g(e,r,"M"+n+","+a+"L"+i+","+l(.809*t,2)+"H-"+i+"L-"+n+","+a+"L0,"+o+"Z")}},hexagon:{n:14,f:function(t,e,r){if(m(e))return c;var n=l(t,2),i=l(t/2,2),o=l(t*u/2,2);return g(e,r,"M"+o+",-"+i+"V"+i+"L0,"+n+"L-"+o+","+i+"V-"+i+"L0,-"+n+"Z")}},hexagon2:{n:15,f:function(t,e,r){if(m(e))return c;var n=l(t,2),i=l(t/2,2),o=l(t*u/2,2);return g(e,r,"M-"+i+","+o+"H"+i+"L"+n+",0L"+i+",-"+o+"H-"+i+"L-"+n+",0Z")}},octagon:{n:16,f:function(t,e,r){if(m(e))return c;var n=l(.924*t,2),i=l(.383*t,2);return g(e,r,"M-"+i+",-"+n+"H"+i+"L"+n+",-"+i+"V"+i+"L"+i+","+n+"H-"+i+"L-"+n+","+i+"V-"+i+"Z")}},star:{n:17,f:function(t,e,r){if(m(e))return c;var n=1.4*t,i=l(.225*n,2),o=l(.951*n,2),a=l(.363*n,2),s=l(.588*n,2),d=l(-n,2),u=l(-.309*n,2),h=l(.118*n,2),f=l(.809*n,2);return g(e,r,"M"+i+","+u+"H"+o+"L"+a+","+h+"L"+s+","+f+"L0,"+l(.382*n,2)+"L-"+s+","+f+"L-"+a+","+h+"L-"+o+","+u+"H-"+i+"L0,"+d+"Z")}},hexagram:{n:18,f:function(t,e,r){if(m(e))return c;var n=l(.66*t,2),i=l(.38*t,2),o=l(.76*t,2);return g(e,r,"M-"+o+",0l-"+i+",-"+n+"h"+o+"l"+i+",-"+n+"l"+i+","+n+"h"+o+"l-"+i+","+n+"l"+i+","+n+"h-"+o+"l-"+i+","+n+"l-"+i+",-"+n+"h-"+o+"Z")}},"star-triangle-up":{n:19,f:function(t,e,r){if(m(e))return c;var n=l(t*u*.8,2),i=l(.8*t,2),o=l(1.6*t,2),a=l(4*t,2),s="A "+a+","+a+" 0 0 1 ";return g(e,r,"M-"+n+","+i+s+n+","+i+s+"0,-"+o+s+"-"+n+","+i+"Z")}},"star-triangle-down":{n:20,f:function(t,e,r){if(m(e))return c;var n=l(t*u*.8,2),i=l(.8*t,2),o=l(1.6*t,2),a=l(4*t,2),s="A "+a+","+a+" 0 0 1 ";return g(e,r,"M"+n+",-"+i+s+"-"+n+",-"+i+s+"0,"+o+s+n+",-"+i+"Z")}},"star-square":{n:21,f:function(t,e,r){if(m(e))return c;var n=l(1.1*t,2),i=l(2*t,2),o="A "+i+","+i+" 0 0 1 ";return g(e,r,"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z")}},"star-diamond":{n:22,f:function(t,e,r){if(m(e))return c;var n=l(1.4*t,2),i=l(1.9*t,2),o="A "+i+","+i+" 0 0 1 ";return g(e,r,"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z")}},"diamond-tall":{n:23,f:function(t,e,r){if(m(e))return c;var n=l(.7*t,2),i=l(1.4*t,2);return g(e,r,"M0,"+i+"L"+n+",0L0,-"+i+"L-"+n+",0Z")}},"diamond-wide":{n:24,f:function(t,e,r){if(m(e))return c;var n=l(1.4*t,2),i=l(.7*t,2);return g(e,r,"M0,"+i+"L"+n+",0L0,-"+i+"L-"+n+",0Z")}},hourglass:{n:25,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z")},noDot:!0},bowtie:{n:26,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z")},noDot:!0},"circle-cross":{n:27,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t,e,r){if(m(e))return c;var n=l(t,2),i=l(t/d,2);return g(e,r,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t,e,r){if(m(e))return c;var n=l(1.3*t,2);return g(e,r,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t,e,r){if(m(e))return c;var n=l(1.3*t,2),i=l(.65*t,2);return g(e,r,"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t,e,r){if(m(e))return c;var n=l(1.4*t,2);return g(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t,e,r){if(m(e))return c;var n=l(1.2*t,2),i=l(.85*t,2);return g(e,r,"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t,e,r){if(m(e))return c;var n=l(t/2,2),i=l(t,2);return g(e,r,"M"+n+","+i+"V-"+i+"M"+(n-i)+",-"+i+"V"+i+"M"+i+","+n+"H-"+i+"M-"+i+","+(n-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t,e,r){if(m(e))return c;var n=l(1.2*t,2),i=l(1.6*t,2),o=l(.8*t,2);return g(e,r,"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t,e,r){if(m(e))return c;var n=l(1.2*t,2),i=l(1.6*t,2),o=l(.8*t,2);return g(e,r,"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t,e,r){if(m(e))return c;var n=l(1.2*t,2),i=l(1.6*t,2),o=l(.8*t,2);return g(e,r,"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t,e,r){if(m(e))return c;var n=l(1.2*t,2),i=l(1.6*t,2),o=l(.8*t,2);return g(e,r,"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t,e,r){if(m(e))return c;var n=l(1.4*t,2);return g(e,r,"M"+n+",0H-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t,e,r){if(m(e))return c;var n=l(1.4*t,2);return g(e,r,"M0,"+n+"V-"+n)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+",-"+n+"L-"+n+","+n)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M"+n+","+n+"L-"+n+",-"+n)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M0,0L-"+n+","+l(2*t,2)+"H"+n+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M0,0L-"+n+",-"+l(2*t,2)+"H"+n+"Z")},noDot:!0},"arrow-left":{n:47,f:function(t,e,r){if(m(e))return c;var n=l(2*t,2),i=l(t,2);return g(e,r,"M0,0L"+n+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(t,e,r){if(m(e))return c;var n=l(2*t,2),i=l(t,2);return g(e,r,"M0,0L-"+n+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M-"+n+",0H"+n+"M0,0L-"+n+","+l(2*t,2)+"H"+n+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t,e,r){if(m(e))return c;var n=l(t,2);return g(e,r,"M-"+n+",0H"+n+"M0,0L-"+n+",-"+l(2*t,2)+"H"+n+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t,e,r){if(m(e))return c;var n=l(2*t,2),i=l(t,2);return g(e,r,"M0,-"+i+"V"+i+"M0,0L"+n+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t,e,r){if(m(e))return c;var n=l(2*t,2),i=l(t,2);return g(e,r,"M0,-"+i+"V"+i+"M0,0L-"+n+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(t,e,r){if(m(e))return c;var n=h/2.5,i=2*t*f(n),o=2*t*p(n);return g(e,r,"M0,0L"+-i+","+o+"L"+i+","+o+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(t,e,r){if(m(e))return c;var n=h/4,i=2*t*f(n),o=2*t*p(n);return g(e,r,"M0,0L"+-i+","+o+"A "+2*t+","+2*t+" 0 0 1 "+i+","+o+"Z")},backoff:.4,noDot:!0}}},68813:(t,e,r)=>{"use strict";var n=r(86142),i=r(85618),o=Object.create(null);t.exports=function(t){return Object.defineProperties(t,{for:n((function(e){return o[e]?o[e]:o[e]=t(String(e))})),keyFor:n((function(t){var e;for(e in i(t),o)if(o[e]===t)return e}))})}},68871:t=>{t.exports={create:function(){var t={root:{root:!0,next:null},exists:function(e){return null!==e&&e!==t.root},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,r){for(var n=t.root,i=t.root.next;null!==i;){if(r(i))return e.prev=i.prev,e.next=i,i.prev.next=e,void(i.prev=e);n=i,i=i.next}n.next=e,e.prev=n,e.next=null},findTransition:function(e){for(var r=t.root,n=t.root.next;null!==n&&!e(n);)r=n,n=n.next;return{before:r===t.root?null:r,after:n,insert:function(t){return t.prev=r,t.next=n,r.next=t,null!==n&&(n.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},69005:(t,e,r)=>{"use strict";var n=r(81665);t.exports=n.getPrototypeOf||null},69198:(t,e,r)=>{"use strict";var n=r(20266);t.exports=function(t){return n(t)||0===t?t:t<0?-1:1}},69352:(t,e,r)=>{"use strict";var n=r(12822),i=r(19496),o=r(99246).id2name,a=r(86130),s=r(92578),l=r(30632),c=r(32994).ALMOST_EQUAL,d=r(89701).FROM_BL;function u(t,e,r){var i=r.axIds,s=r.layoutOut,l=r.hasImage,c=s._axisConstraintGroups,d=s._axisMatchGroups,u=e._id,m=u.charAt(0),g=((s._splomAxes||{})[m]||{})[u]||{},b=e._id,v="x"===b.charAt(0);function y(r,i){return n.coerce(t,e,a,r,i)}e._matchGroup=null,e._constraintGroup=null,y("constrain",l?"domain":"range"),n.coerce(t,e,{constraintoward:{valType:"enumerated",values:v?["left","center","right"]:["bottom","middle","top"],dflt:v?"center":"middle"}},"constraintoward");var x,w,_=e.type,k=[];for(x=0;x<i.length;x++)(w=i[x])!==b&&s[o(w)].type===_&&k.push(w);var A=f(c,b);if(A){var T=[];for(x=0;x<k.length;x++)A[w=k[x]]||T.push(w);k=T}var M,S,E=k.length;E&&(t.matches||g.matches)&&(M=n.coerce(t,e,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(g.matches)?g.matches:void 0}},"matches"));var C=l&&!v?e.anchor:void 0;if(E&&!M&&(t.scaleanchor||C)&&(S=n.coerce(t,e,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",C)),M){e._matchGroup=p(d,b,M,1);var z=s[o(M)],L=h(s,e)/h(s,z);v!==("x"===M.charAt(0))&&(L=(v?"x":"y")+L),p(c,b,M,L)}else t.matches&&-1!==i.indexOf(t.matches)&&n.warn("ignored "+e._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(S){var O=y("scaleratio");O||(O=e.scaleratio=1),p(c,b,S,O)}else t.scaleanchor&&-1!==i.indexOf(t.scaleanchor)&&n.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function h(t,e){var r=e.domain;return r||(r=t[o(e.overlaying)].domain),r[1]-r[0]}function f(t,e){for(var r=0;r<t.length;r++)if(t[r][e])return t[r];return null}function p(t,e,r,n){var i,o,a,s,l,c=f(t,e);null===c?((c={})[e]=1,l=t.length,t.push(c)):l=t.indexOf(c);var d=Object.keys(c);for(i=0;i<t.length;i++)if(a=t[i],i!==l&&a[r]){var u=a[r];for(o=0;o<d.length;o++)a[s=d[o]]=m(u,m(n,c[s]));return void t.splice(l,1)}if(1!==n)for(o=0;o<d.length;o++){var h=d[o];c[h]=m(n,c[h])}c[r]=1}function m(t,e){var r,n,i="",o="";"string"==typeof t&&(r=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(r)),"string"==typeof e&&(n=(o=e.match(/^[xy]*/)[0]).length,e=+e.substr(n));var a=t*e;return r||n?r&&n&&i.charAt(0)!==o.charAt(0)?r===n?a:(r>n?i.substr(n):o.substr(r))+a:i+o+t*e:a}function g(t,e){for(var r=e._size,n=r.h/r.w,i={},o=Object.keys(t),a=0;a<o.length;a++){var s=o[a],l=t[s];if("string"==typeof l){var c=l.match(/^[xy]*/)[0],d=c.length;l=+l.substr(d);for(var u="y"===c.charAt(0)?n:1/n,h=0;h<d;h++)l*=u}i[s]=l}return i}function b(t,e){var r=t._inputDomain,n=d[t.constraintoward],i=r[0]+(r[1]-r[0])*n;t.domain=t._input.domain=[i+(r[0]-i)/e,i+(r[1]-i)/e],t.setScale()}e.handleDefaults=function(t,e,r){var i,a,s,c,d,h,f,p,m=r.axIds,g=r.axHasImage,b=e._axisConstraintGroups=[],v=e._axisMatchGroups=[];for(i=0;i<m.length;i++)u(d=t[c=o(m[i])],h=e[c],{axIds:m,layoutOut:e,hasImage:g[c]});function y(t,r){for(i=0;i<t.length;i++)for(s in a=t[i])e[o(s)][r]=a}for(y(v,"_matchGroup"),i=0;i<b.length;i++)for(s in a=b[i])if((h=e[o(s)]).fixedrange){for(var x in a){var w=o(x);!1===(t[w]||{}).fixedrange&&n.warn("fixedrange was specified as false for axis "+w+" but was overridden because another axis in its constraint group has fixedrange true"),e[w].fixedrange=!0}break}for(i=0;i<b.length;){for(s in a=b[i]){(h=e[o(s)])._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(a).length&&(b.splice(i,1),i--);break}i++}y(b,"_constraintGroup");var _=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,A=!1;function T(){p=h[f],"rangebreaks"===f&&(A=h._hasDayOfWeekBreaks)}for(i=0;i<v.length;i++){a=v[i];for(var M=0;M<_.length;M++){var S;for(s in f=_[M],p=null,a)if(d=t[c=o(s)],h=e[c],f in h){if(!h.matches&&(S=h,f in d)){T();break}null===p&&f in d&&T()}if("range"===f&&p&&d.range&&2===d.range.length&&null!==d.range[0]&&null!==d.range[1]&&(k=!0),"autorange"===f&&null===p&&k&&(p=!1),null===p&&f in S&&(p=S[f]),null!==p)for(s in a)(h=e[o(s)])[f]="range"===f?p.slice():p,"rangebreaks"===f&&(h._hasDayOfWeekBreaks=A,l(h,e))}}},e.enforce=function(t){var e,r,n,a,l,d,u,h,f=t._fullLayout,p=f._axisConstraintGroups||[];for(e=0;e<p.length;e++){n=g(p[e],f);var m=Object.keys(n),v=1/0,y=0,x=1/0,w={},_={},k=!1;for(r=0;r<m.length;r++)_[a=m[r]]=l=f[o(a)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),w[a]=d=Math.abs(l._m)/n[a],v=Math.min(v,d),"domain"!==l.constrain&&l._constraintShrinkable||(x=Math.min(x,d)),delete l._constraintShrinkable,y=Math.max(y,d),"domain"===l.constrain&&(k=!0);if(!(v>c*y)||k)for(r=0;r<m.length;r++)if(d=w[a=m[r]],u=(l=_[a]).constrain,d!==x||"domain"===u)if(h=d/x,"range"===u)s(l,h);else{var A=l._inputDomain,T=(l.domain[1]-l.domain[0])/(A[1]-A[0]),M=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if((h/=T)*M<1){l.domain=l._input.domain=A.slice(),s(l,h);continue}if(M<1&&(l.range=l._input.range=l._inputRange.slice(),h*=M),l.autorange){var S=l.r2l(l.range[0]),E=l.r2l(l.range[1]),C=(S+E)/2,z=C,L=C,O=Math.abs(E-C),D=C-O*h*1.0001,I=C+O*h*1.0001,F=i.makePadFn(f,l,0),R=i.makePadFn(f,l,1);b(l,h);var P,j,N=Math.abs(l._m),B=i.concatExtremes(t,l),U=B.min,V=B.max;for(j=0;j<U.length;j++)(P=U[j].val-F(U[j])/N)>D&&P<z&&(z=P);for(j=0;j<V.length;j++)(P=V[j].val+R(V[j])/N)<I&&P>L&&(L=P);h/=(L-z)/(2*O),z=l.l2r(z),L=l.l2r(L),l.range=l._input.range=S<E?[z,L]:[L,z]}b(l,h)}}},e.getAxisGroup=function(t,e){for(var r=t._axisMatchGroups,n=0;n<r.length;n++)if(r[n][e])return"g"+n;return e},e.clean=function(t,e){if(e._inputDomain){for(var r=!1,n=e._id,i=t._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][n]){r=!0;break}r&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},69440:(t,e,r)=>{"use strict";var n=r(7370),i=r(25059),o=r(12822),a=r(46121),s=r(96647);t.exports=function(t,e,r,l){var c="error_"+l.axis,d=a.newContainer(e,c),u=t[c]||{};function h(t,e){return o.coerce(u,d,s,t,e)}if(!1!==h("visible",void 0!==u.array||void 0!==u.value||"sqrt"===u.type)){var f=h("type","array"in u?"data":"percent"),p=!0;"sqrt"!==f&&(p=h("symmetric",!(("data"===f?"arrayminus":"valueminus")in u))),"data"===f?(h("array"),h("traceref"),p||(h("arrayminus"),h("tracerefminus"))):"percent"!==f&&"constant"!==f||(h("value"),p||h("valueminus"));var m="copy_"+l.inherit+"style";l.inherit&&(e["error_"+l.inherit]||{}).visible&&h(m,!(u.color||n(u.thickness)||n(u.width))),l.inherit&&d[m]||(h("color",r),h("thickness"),h("width",i.traceIs(e,"gl3d")?0:4))}}},69499:(t,e,r)=>{"use strict";var n=r(82393),i=r(9994),o=r(83029),a=r(6627),s=r(41456),l=r(34463),c=r(81937),d=r(31888),u=r(94698),h=r(35867),f=r(3202),p=r(70665),m=r(3812),g=r(34597),b=r(45250),v=r(97e3),y=r(88828).nextPow2,x=new s,w=!1;if(document.body){var _=document.body.appendChild(document.createElement("div"));_.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(_).fontStretch&&(w=!0),document.body.removeChild(_)}var k=function(t){!function(t){return"function"==typeof t&&t._gl&&t.prop&&t.texture&&t.buffer}(t)?this.gl=a(t):(t={regl:t},this.gl=t.regl._gl),this.shader=x.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=t.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),x.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(h(t)?t:{})};k.prototype.createShader=function(){var t=this.regl,e=t({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:t.prop("count"),offset:t.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:t.this("sizeBuffer")},width:{offset:0,stride:8,buffer:t.this("sizeBuffer")},char:t.this("charBuffer"),position:t.this("position")},uniforms:{atlasSize:function(t,e){return[e.atlas.width,e.atlas.height]},atlasDim:function(t,e){return[e.atlas.cols,e.atlas.rows]},atlas:function(t,e){return e.atlas.texture},charStep:function(t,e){return e.atlas.step},em:function(t,e){return e.atlas.em},color:t.prop("color"),opacity:t.prop("opacity"),viewport:t.this("viewportArray"),scale:t.this("scale"),align:t.prop("align"),baseline:t.prop("baseline"),translate:t.this("translate"),positionOffset:t.prop("positionOffset")},primitive:"points",viewport:t.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:t,draw:e,atlas:{}}},k.prototype.update=function(t){var e=this;if("string"==typeof t)t={text:t};else if(!t)return;null!=(t=i(t,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(Array.isArray(t.opacity)?this.opacity=t.opacity.map((function(t){return parseFloat(t)})):this.opacity=parseFloat(t.opacity)),null!=t.viewport&&(this.viewport=u(t.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=t.kerning&&(this.kerning=t.kerning),null!=t.offset&&("number"==typeof t.offset&&(t.offset=[t.offset,0]),this.positionOffset=v(t.offset)),t.direction&&(this.direction=t.direction),t.range&&(this.range=t.range,this.scale=[1/(t.range[2]-t.range[0]),1/(t.range[3]-t.range[1])],this.translate=[-t.range[0],-t.range[1]]),t.scale&&(this.scale=t.scale),t.translate&&(this.translate=t.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||t.font||(t.font=k.baseFontSize+"px sans-serif");var r,o=!1,a=!1;if(t.font&&(Array.isArray(t.font)?t.font:[t.font]).forEach((function(t,r){if("string"==typeof t)try{t=n.parse(t)}catch(e){t=n.parse(k.baseFontSize+"px "+t)}else{var i=t.style,s=t.weight,l=t.stretch,c=t.variant;t=n.parse(n.stringify(t)),i&&(t.style=i),s&&(t.weight=s),l&&(t.stretch=l),c&&(t.variant=c)}var d=n.stringify({size:k.baseFontSize,family:t.family,stretch:w?t.stretch:void 0,variant:t.variant,weight:t.weight,style:t.style}),u=f(t.size),h=Math.round(u[0]*p(u[1]));if(h!==e.fontSize[r]&&(a=!0,e.fontSize[r]=h),!(e.font[r]&&d==e.font[r].baseString||(o=!0,e.font[r]=k.fonts[d],e.font[r]))){var m=t.family.join(", "),g=[t.style];t.style!=t.variant&&g.push(t.variant),t.variant!=t.weight&&g.push(t.weight),w&&t.weight!=t.stretch&&g.push(t.stretch),e.font[r]={baseString:d,family:m,weight:t.weight,stretch:t.stretch,style:t.style,variant:t.variant,width:{},kerning:{},metrics:b(m,{origin:"top",fontSize:k.baseFontSize,fontStyle:g.join(" ")})},k.fonts[d]=e.font[r]}})),(o||a)&&this.font.forEach((function(r,i){var o=n.stringify({size:e.fontSize[i],family:r.family,stretch:w?r.stretch:void 0,variant:r.variant,weight:r.weight,style:r.style});if(e.fontAtlas[i]=e.shader.atlas[o],!e.fontAtlas[i]){var a=r.metrics;e.shader.atlas[o]=e.fontAtlas[i]={fontString:o,step:2*Math.ceil(e.fontSize[i]*a.bottom*.5),em:e.fontSize[i],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:e.regl.texture()}}null==t.text&&(t.text=e.text)})),"string"==typeof t.text&&t.position&&t.position.length>2){for(var s=Array(.5*t.position.length),h=0;h<s.length;h++)s[h]=t.text;t.text=s}if(null!=t.text||o){if(this.textOffsets=[0],Array.isArray(t.text)){this.count=t.text[0].length,this.counts=[this.count];for(var x=1;x<t.text.length;x++)this.textOffsets[x]=this.textOffsets[x-1]+t.text[x-1].length,this.count+=t.text[x].length,this.counts.push(t.text[x].length);this.text=t.text.join("")}else this.text=t.text,this.count=this.text.length,this.counts=[this.count];r=[],this.font.forEach((function(t,n){k.atlasContext.font=t.baseString;for(var i=e.fontAtlas[n],o=0;o<e.text.length;o++){var a=e.text.charAt(o);if(null==i.ids[a]&&(i.ids[a]=i.chars.length,i.chars.push(a),r.push(a)),null==t.width[a]&&(t.width[a]=k.atlasContext.measureText(a).width/k.baseFontSize,e.kerning)){var s=[];for(var l in t.width)s.push(l+a,a+l);g(t.kerning,m(t.family,{pairs:s}))}}}))}if(t.position)if(t.position.length>2){for(var _=!t.position[0].length,A=d.mallocFloat(2*this.count),T=0,M=0;T<this.counts.length;T++){var S=this.counts[T];if(_)for(var E=0;E<S;E++)A[M++]=t.position[2*T],A[M++]=t.position[2*T+1];else for(var C=0;C<S;C++)A[M++]=t.position[T][0],A[M++]=t.position[T][1]}this.position.call?this.position({type:"float",data:A}):this.position=this.regl.buffer({type:"float",data:A}),d.freeFloat(A)}else this.position.destroy&&this.position.destroy(),this.position={constant:t.position};if(t.text||o){var z=d.mallocUint8(this.count),L=d.mallocFloat(2*this.count);this.textWidth=[];for(var O=0,D=0;O<this.counts.length;O++){for(var I=this.counts[O],F=this.font[O]||this.font[0],R=this.fontAtlas[O]||this.fontAtlas[0],P=0;P<I;P++){var j=this.text.charAt(D),N=this.text.charAt(D-1);if(z[D]=R.ids[j],L[2*D]=F.width[j],P){var B=L[2*D-2],U=L[2*D],V=L[2*D-1]+.5*B+.5*U;if(this.kerning){var G=F.kerning[N+j];G&&(V+=.001*G)}L[2*D+1]=V}else L[2*D+1]=.5*L[2*D];D++}this.textWidth.push(L.length?.5*L[2*D-2]+L[2*D-1]:0)}t.align||(t.align=this.align),this.charBuffer({data:z,type:"uint8",usage:"stream"}),this.sizeBuffer({data:L,type:"float",usage:"stream"}),d.freeUint8(z),d.freeFloat(L),r.length&&this.font.forEach((function(t,r){var n=e.fontAtlas[r],i=n.step,o=Math.floor(k.maxAtlasSize/i),a=Math.min(o,n.chars.length),s=Math.ceil(n.chars.length/a),l=y(a*i),d=y(s*i);n.width=l,n.height=d,n.rows=s,n.cols=a,n.em&&n.texture({data:c({canvas:k.atlasCanvas,font:n.fontString,chars:n.chars,shape:[l,d],step:[i,i]})})}))}if(t.align&&(this.align=t.align,this.alignOffset=this.textWidth.map((function(t,r){var n=Array.isArray(e.align)?e.align.length>1?e.align[r]:e.align[0]:e.align;if("number"==typeof n)return n;switch(n){case"right":case"end":return-t;case"center":case"centre":case"middle":return.5*-t}return 0}))),null==this.baseline&&null==t.baseline&&(t.baseline=0),null!=t.baseline&&(this.baseline=t.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map((function(t,r){var n=(e.font[r]||e.font[0]).metrics,i=0;return i+=.5*n.bottom,-1*(i+="number"==typeof t?t-n.baseline:-n[t])}))),null!=t.color)if(t.color||(t.color="transparent"),"string"!=typeof t.color&&isNaN(t.color)){var H;if("number"==typeof t.color[0]&&t.color.length>this.counts.length){var W=t.color.length;H=d.mallocUint8(W);for(var q=(t.color.subarray||t.color.slice).bind(t.color),$=0;$<W;$+=4)H.set(l(q($,$+4),"uint8"),$)}else{var Y=t.color.length;H=d.mallocUint8(4*Y);for(var Z=0;Z<Y;Z++)H.set(l(t.color[Z]||0,"uint8"),4*Z)}this.color=H}else this.color=l(t.color,"uint8");if(t.position||t.text||t.color||t.baseline||t.align||t.font||t.offset||t.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var X=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(X);for(var J=0;J<this.batch.length;J++)this.batch[J]={count:this.counts.length>1?this.counts[J]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[J]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*J,4*J+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[J]:this.opacity,baseline:null!=this.baselineOffset[J]?this.baselineOffset[J]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[J]?this.alignOffset[J]:this.alignOffset[0]:0,atlas:this.fontAtlas[J]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*J,2*J+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},k.prototype.destroy=function(){},k.prototype.kerning=!0,k.prototype.position={constant:new Float32Array(2)},k.prototype.translate=null,k.prototype.scale=null,k.prototype.font=null,k.prototype.text="",k.prototype.positionOffset=[0,0],k.prototype.opacity=1,k.prototype.color=new Uint8Array([0,0,0,255]),k.prototype.alignOffset=[0,0],k.maxAtlasSize=1024,k.atlasCanvas=document.createElement("canvas"),k.atlasContext=k.atlasCanvas.getContext("2d",{alpha:!1}),k.baseFontSize=64,k.fonts={},t.exports=k},70059:(t,e,r)=>{"use strict";var n=r(70445),i=r(80191);t.exports={moduleType:"component",name:"selections",layoutAttributes:r(65586),supplyLayoutDefaults:r(8037),supplyDrawNewSelectionDefaults:r(80857),includeBasePlot:r(39859)("selections"),draw:n.draw,drawOne:n.drawOne,reselect:i.reselect,prepSelect:i.prepSelect,clearOutline:i.clearOutline,clearSelectionsCache:i.clearSelectionsCache,selectOnClick:i.selectOnClick}},70410:(t,e,r)=>{"use strict";var n=r(27941),i=r(12822),o=r(19846),a=r(66811),s=r(53572),l=r(87408);t.exports={moduleType:"component",name:"fx",constants:r(99259),schema:{layout:s},attributes:r(60713),layoutAttributes:s,supplyLayoutGlobalDefaults:r(26271),supplyDefaults:r(55470),supplyLayoutDefaults:r(3315),calc:r(56173),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(t,e,r){return i.castOption(t,e,"hoverlabel."+r)},castHoverinfo:function(t,e,r){return i.castOption(t,r,"hoverinfo",(function(r){return i.coerceHoverinfo({hoverinfo:r},{_module:t._module},e)}))},hover:l.hover,unhover:o.unhover,loneHover:l.loneHover,loneUnhover:function(t){var e=i.isD3Selection(t)?t:n.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:r(43006)}},70445:(t,e,r)=>{"use strict";var n=r(59952).readPaths,i=r(49244),o=r(8867).clearOutlineControllers,a=r(17499),s=r(40666),l=r(46121).arrayEditor,c=r(23223),d=c.getPathString;function u(t){var e=t._fullLayout;for(var r in o(t),e._selectionLayer.selectAll("path").remove(),e._plots){var n=e._plots[r].selectionLayer;n&&n.selectAll("path").remove()}for(var i=0;i<e.selections.length;i++)f(t,i)}function h(t){return t._context.editSelection}function f(t,e){t._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+e+'"]').remove();var r=c.makeSelectionsOptionsAndPlotinfo(t,e),o=r.options,f=r.plotinfo;o._input&&function(r){var c=d(t,o),g={"data-index":e,"fill-rule":"evenodd",d:c},b=o.opacity,v="rgba(0,0,0,0)",y=o.line.color||a.contrast(t._fullLayout.plot_bgcolor),x=o.line.width,w=o.line.dash;x||(x=5,w="solid");var _=h(t)&&t._fullLayout._activeSelectionIndex===e;_&&(v=t._fullLayout.activeselection.fillcolor,b=t._fullLayout.activeselection.opacity);for(var k=[],A=1;A>=0;A--){var T=r.append("path").attr(g).style("opacity",A?.1:b).call(a.stroke,y).call(a.fill,v).call(s.dashLine,A?"solid":w,A?4+x:x);if(p(T,t,o),_){var M=l(t.layout,"selections",o);T.style({cursor:"move"});var S={element:T.node(),plotinfo:f,gd:t,editHelpers:M,isActiveSelection:!0},E=n(c,t);i(E,T,S)}else T.style("pointer-events",A?"all":"none");k[A]=T}var C=k[0];k[1].node().addEventListener("click",(function(){return function(t,e){if(h(t)){var r=+e.node().getAttribute("data-index");if(r>=0){if(r===t._fullLayout._activeSelectionIndex)return void m(t);t._fullLayout._activeSelectionIndex=r,t._fullLayout._deactivateSelection=m,u(t)}}}(t,C)}))}(t._fullLayout._selectionLayer)}function p(t,e,r){var n=r.xref+r.yref;s.setClipUrl(t,"clip"+e._fullLayout._uid+n,e)}function m(t){h(t)&&t._fullLayout._activeSelectionIndex>=0&&(o(t),delete t._fullLayout._activeSelectionIndex,u(t))}t.exports={draw:u,drawOne:f,activateLastSelection:function(t){if(h(t)){var e=t._fullLayout.selections.length-1;t._fullLayout._activeSelectionIndex=e,t._fullLayout._deactivateSelection=m,u(t)}}}},70665:(t,e,r)=>{"use strict";var n=r(3202);t.exports=a;var i=96;function o(t,e){var r=n(getComputedStyle(t).getPropertyValue(e));return r[0]*a(r[1],t)}function a(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var r=document.createElement("div");r.style["font-size"]="128"+t,e.appendChild(r);var n=o(r,"font-size")/128;return e.removeChild(r),n}(t,e);case"em":return o(e,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},71422:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(12822),a=r(75815),s=r(59952).readPaths,l=r(49244),c=r(64620),d=r(8867).clearOutlineControllers,u=r(17499),h=r(40666),f=r(46121).arrayEditor,p=r(19846),m=r(76292),g=r(6583),b=r(23223),v=b.getPathString;function y(t){var e=t._fullLayout;for(var r in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeUpperLayer.selectAll("text").remove(),e._shapeLowerLayer.selectAll("text").remove(),e._plots){var n=e._plots[r].shapelayer;n&&(n.selectAll("path").remove(),n.selectAll("text").remove())}for(var i=0;i<e.shapes.length;i++)!0===e.shapes[i].visible&&_(t,i)}function x(t){return!!t._fullLayout._outlining}function w(t){return!t._context.edits.shapePosition}function _(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var r=b.makeShapesOptionsAndPlotinfo(t,e),d=r.options,_=r.plotinfo;function M(r){var M=v(t,d),S={"data-index":e,"fill-rule":d.fillrule,d:M},E=d.opacity,C=d.fillcolor,z=d.line.width?d.line.color:"rgba(0,0,0,0)",L=d.line.width,O=d.line.dash;L||!0!==d.editable||(L=5,O="solid");var D="Z"!==M[M.length-1],I=w(t)&&d.editable&&t._fullLayout._activeShapeIndex===e;I&&(C=D?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,E=t._fullLayout.activeshape.opacity);var F,R=r.append("g").classed("shape-group",!0).attr({"data-index":e}),P=R.append("path").attr(S).style("opacity",E).call(u.stroke,z).call(u.fill,C).call(h.dashLine,O,L);if(k(R,t,d),c(t,e,d,R),(I||t._context.edits.shapePosition)&&(F=f(t.layout,"shapes",d)),I){P.style({cursor:"move"});var j={element:P.node(),plotinfo:_,gd:t,editHelpers:F,hasText:d.label.text||d.label.texttemplate,isActiveShape:!0},N=s(M,t);l(N,P,j)}else t._context.edits.shapePosition?function(t,e,r,s,l,d){var u,f,y,w,_,T,M,S,E,C,z,L,O,D,I,F,R="pixel"===r.xsizemode,P="pixel"===r.ysizemode,j="line"===r.type,N="path"===r.type,B=d.modifyItem,U=n.select(e.node().parentNode),V=a.getFromId(t,r.xref),G=a.getRefType(r.xref),H=a.getFromId(t,r.yref),W=a.getRefType(r.yref),q=r.x0shift,$=r.x1shift,Y=r.y0shift,Z=r.y1shift,X=function(e,r){return b.getDataToPixel(t,V,r,!1,G)(e)},J=function(e,r){return b.getDataToPixel(t,H,r,!0,W)(e)},Q=b.getPixelToData(t,V,!1,G),K=b.getPixelToData(t,H,!0,W),tt=j?function(){var t=10,n=Math.max(r.line.width,t),i=l.append("g").attr("data-index",s).attr("drag-helper",!0);i.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":n,"stroke-opacity":"0"});var o={"fill-opacity":"0"},a=Math.max(n/2,t);return i.append("circle").attr({"data-line-point":"start-point",cx:R?X(r.xanchor)+r.x0:X(r.x0,q),cy:P?J(r.yanchor)-r.y0:J(r.y0,Y),r:a}).style(o).classed("cursor-grab",!0),i.append("circle").attr({"data-line-point":"end-point",cx:R?X(r.xanchor)+r.x1:X(r.x1,$),cy:P?J(r.yanchor)-r.y1:J(r.y1,Z),r:a}).style(o).classed("cursor-grab",!0),i}():e,et={element:tt.node(),gd:t,prepFn:function(n){x(t)||(R&&(_=X(r.xanchor)),P&&(T=J(r.yanchor)),"path"===r.type?I=r.path:(u=R?r.x0:X(r.x0),f=P?r.y0:J(r.y0),y=R?r.x1:X(r.x1),w=P?r.y1:J(r.y1)),u<y?(E=u,O="x0",C=y,D="x1"):(E=y,O="x1",C=u,D="x0"),!P&&f<w||P&&f>w?(M=f,z="y0",S=w,L="y1"):(M=w,z="y1",S=f,L="y0"),rt(n),ot(l,r),function(t,e,r){var n=e.xref,i=e.yref,o=a.getFromId(r,n),s=a.getFromId(r,i),l="";"paper"===n||o.autorange||(l+=n),"paper"===i||s.autorange||(l+=i),h.setClipUrl(t,l?"clip"+r._fullLayout._uid+l:null,r)}(e,r,t),et.moveFn="move"===F?nt:it,et.altKey=n.altKey)},doneFn:function(){x(t)||(m(e),at(l),k(e,t,r),i.call("_guiRelayout",t,d.getUpdateObj()))},clickFn:function(){x(t)||at(l)}};function rt(r){if(x(t))F=null;else if(j)F="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=et.element.getBoundingClientRect(),i=n.right-n.left,o=n.bottom-n.top,a=r.clientX-n.left,s=r.clientY-n.top,l=!N&&i>10&&o>10&&!r.shiftKey?p.getCursor(a/i,1-s/o):"move";m(e,l),F=l.split("-")[0]}}function nt(n,i){if("path"===r.type){var o=function(t){return t},a=o,d=o;R?B("xanchor",r.xanchor=Q(_+n)):(a=function(t){return Q(X(t)+n)},V&&"date"===V.type&&(a=b.encodeDate(a))),P?B("yanchor",r.yanchor=K(T+i)):(d=function(t){return K(J(t)+i)},H&&"date"===H.type&&(d=b.encodeDate(d))),B("path",r.path=A(I,a,d))}else R?B("xanchor",r.xanchor=Q(_+n)):(B("x0",r.x0=Q(u+n)),B("x1",r.x1=Q(y+n))),P?B("yanchor",r.yanchor=K(T+i)):(B("y0",r.y0=K(f+i)),B("y1",r.y1=K(w+i)));e.attr("d",v(t,r)),ot(l,r),c(t,s,r,U)}function it(n,i){if(N){var o=function(t){return t},a=o,d=o;R?B("xanchor",r.xanchor=Q(_+n)):(a=function(t){return Q(X(t)+n)},V&&"date"===V.type&&(a=b.encodeDate(a))),P?B("yanchor",r.yanchor=K(T+i)):(d=function(t){return K(J(t)+i)},H&&"date"===H.type&&(d=b.encodeDate(d))),B("path",r.path=A(I,a,d))}else if(j){if("resize-over-start-point"===F){var h=u+n,p=P?f-i:f+i;B("x0",r.x0=R?h:Q(h)),B("y0",r.y0=P?p:K(p))}else if("resize-over-end-point"===F){var m=y+n,g=P?w-i:w+i;B("x1",r.x1=R?m:Q(m)),B("y1",r.y1=P?g:K(g))}}else{var x=function(t){return-1!==F.indexOf(t)},k=x("n"),G=x("s"),W=x("w"),q=x("e"),$=k?M+i:M,Y=G?S+i:S,Z=W?E+n:E,tt=q?C+n:C;P&&(k&&($=M-i),G&&(Y=S-i)),(!P&&Y-$>10||P&&$-Y>10)&&(B(z,r[z]=P?$:K($)),B(L,r[L]=P?Y:K(Y))),tt-Z>10&&(B(O,r[O]=R?Z:Q(Z)),B(D,r[D]=R?tt:Q(tt)))}e.attr("d",v(t,r)),ot(l,r),c(t,s,r,U)}function ot(t,e){(R||P)&&function(){var r="path"!==e.type,n=t.selectAll(".visual-cue").data([0]);n.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var i=X(R?e.xanchor:o.midRange(r?[e.x0,e.x1]:b.extractPathCoords(e.path,g.paramIsX))),a=J(P?e.yanchor:o.midRange(r?[e.y0,e.y1]:b.extractPathCoords(e.path,g.paramIsY)));if(i=b.roundPositionForSharpStrokeRendering(i,1),a=b.roundPositionForSharpStrokeRendering(a,1),R&&P){var s="M"+(i-1-1)+","+(a-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";n.attr("d",s)}else if(R){var l="M"+(i-1-1)+","+(a-9-1)+"v18 h2 v-18 Z";n.attr("d",l)}else{var c="M"+(i-9-1)+","+(a-1-1)+"h18 v2 h-18 Z";n.attr("d",c)}}()}function at(t){t.selectAll(".visual-cue").remove()}p.init(et),tt.node().onmousemove=rt}(t,P,d,e,r,F):!0===d.editable&&P.style("pointer-events",D||u.opacity(C)*E<=.5?"stroke":"all");P.node().addEventListener("click",(function(){return function(t,e){if(w(t)){var r=+e.node().getAttribute("data-index");if(r>=0){if(r===t._fullLayout._activeShapeIndex)return void T(t);t._fullLayout._activeShapeIndex=r,t._fullLayout._deactivateShape=T,y(t)}}}(t,P)}))}d._input&&!0===d.visible&&("above"===d.layer?M(t._fullLayout._shapeUpperLayer):"paper"===d.xref||"paper"===d.yref?M(t._fullLayout._shapeLowerLayer):"between"===d.layer?M(_.shapelayerBetween):_._hadPlotinfo?M((_.mainplotinfo||_).shapelayer):M(t._fullLayout._shapeLowerLayer))}function k(t,e,r){var n=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");h.setClipUrl(t,n?"clip"+e._fullLayout._uid+n:null,e)}function A(t,e,r){return t.replace(g.segmentRE,(function(t){var n=0,i=t.charAt(0),o=g.paramIsX[i],a=g.paramIsY[i],s=g.numParams[i];return i+t.substr(1).replace(g.paramRE,(function(t){return n>=s||(o[n]?t=e(t):a[n]&&(t=r(t)),n++),t}))}))}function T(t){w(t)&&t._fullLayout._activeShapeIndex>=0&&(d(t),delete t._fullLayout._activeShapeIndex,y(t))}t.exports={draw:y,drawOne:_,eraseActiveShape:function(t){if(w(t)){d(t);var e=t._fullLayout._activeShapeIndex,r=(t.layout||{}).shapes||[];if(e<r.length){for(var n=[],o=0;o<r.length;o++)o!==e&&n.push(r[o]);return delete t._fullLayout._activeShapeIndex,i.call("_guiRelayout",t,{shapes:n})}}},drawLabel:c}},71988:(t,e,r)=>{"use strict";var n=r(25059),i=r(18804);t.exports=function(t,e,r){var o,a,s=e._inHover,l=i.isGrouped(e),c=i.isReversed(e),d={},u=[],h=!1,f={},p=0,m=0;function g(t,n,o){if(!1!==e.visible&&(!r||t===e._id))if(""!==n&&i.isGrouped(e))-1===u.indexOf(n)?(u.push(n),h=!0,d[n]=[o]):d[n].push(o);else{var a="~~i"+p;u.push(a),d[a]=[o],p++}}for(o=0;o<t.length;o++){var b=t[o],v=b[0],y=v.trace,x=y.legend,w=y.legendgroup;if(s||y.visible&&y.showlegend)if(n.traceIs(y,"pie-like"))for(f[w]||(f[w]={}),a=0;a<b.length;a++){var _=b[a].label;f[w][_]||(g(x,w,{label:_,color:b[a].color,i:b[a].i,trace:y,pts:b[a].pts}),f[w][_]=!0,m=Math.max(m,(_||"").length))}else g(x,w,v),m=Math.max(m,(y.name||"").length)}if(!u.length)return[];var k=!h||!l,A=[];for(o=0;o<u.length;o++){var T=d[u[o]];k?A.push(T[0]):A.push(T)}for(k&&(A=[A]),o=0;o<A.length;o++){var M=1/0;for(a=0;a<A[o].length;a++){var S=A[o][a].trace.legendrank;M>S&&(M=S)}A[o][0]._groupMinRank=M,A[o][0]._preGroupSort=o}var E=function(t,e){return t.trace.legendrank-e.trace.legendrank||t._preSort-e._preSort};for(A.forEach((function(t,e){t[0]._preGroupSort=e})),A.sort((function(t,e){return t[0]._groupMinRank-e[0]._groupMinRank||t[0]._preGroupSort-e[0]._preGroupSort})),o=0;o<A.length;o++){A[o].forEach((function(t,e){t._preSort=e})),A[o].sort(E);var C=A[o][0].trace,z=null;for(a=0;a<A[o].length;a++){var L=A[o][a].trace.legendgrouptitle;if(L&&L.text){z=L,s&&(L.font=e._groupTitleFont);break}}if(c&&A[o].reverse(),z){var O=!1;for(a=0;a<A[o].length;a++)if(n.traceIs(A[o][a].trace,"pie-like")){O=!0;break}A[o].unshift({i:-1,groupTitle:z,noClick:O,trace:{showlegend:C.showlegend,legendgroup:C.legendgroup,visible:"toggleitem"===e.groupclick||C.visible}})}for(a=0;a<A[o].length;a++)A[o][a]=[A[o][a]]}return e._lgroupsLength=A.length,e._maxNameLength=m,A}},72010:(t,e,r)=>{"use strict";t.exports=r(46443)},72268:t=>{"use strict";t.exports=function(t,e,r){if("function"==typeof Array.prototype.findIndex)return t.findIndex(e,r);if("function"!=typeof e)throw new TypeError("predicate must be a function");var n=Object(t),i=n.length;if(0===i)return-1;for(var o=0;o<i;o++)if(e.call(r,n[o],o,n))return o;return-1}},72478:t=>{"use strict";function e(t,e,r,n,i){for(var o=i+1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)>=0?(o=a,i=a-1):n=a+1}return o}function r(t,e,r,n,i){for(var o=i+1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)>0?(o=a,i=a-1):n=a+1}return o}function n(t,e,r,n,i){for(var o=n-1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)<0?(o=a,n=a+1):i=a-1}return o}function i(t,e,r,n,i){for(var o=n-1;n<=i;){var a=n+i>>>1,s=t[a];(void 0!==r?r(s,e):s-e)<=0?(o=a,n=a+1):i=a-1}return o}function o(t,e,r,n,i){for(;n<=i;){var o=n+i>>>1,a=t[o],s=void 0!==r?r(a,e):a-e;if(0===s)return o;s<=0?n=o+1:i=o-1}return-1}function a(t,e,r,n,i,o){return"function"==typeof r?o(t,e,r,void 0===n?0:0|n,void 0===i?t.length-1:0|i):o(t,e,void 0,void 0===r?0:0|r,void 0===n?t.length-1:0|n)}t.exports={ge:function(t,r,n,i,o){return a(t,r,n,i,o,e)},gt:function(t,e,n,i,o){return a(t,e,n,i,o,r)},lt:function(t,e,r,i,o){return a(t,e,r,i,o,n)},le:function(t,e,r,n,o){return a(t,e,r,n,o,i)},eq:function(t,e,r,n,i){return a(t,e,r,n,i,o)}}},72560:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=2*Math.PI,i=function(t,e,r,n,i,o,a){var s=t.x,l=t.y;return{x:n*(s*=e)-i*(l*=r)+o,y:i*s+n*l+a}},o=function(t,e){var r=1.5707963267948966===e?.551915024494:-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:n-i*r,y:i+n*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]},a=function(t,e,r,n){var i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),(t*n-e*r<0?-1:1)*Math.acos(i)};const s=function(t){var e=t.px,r=t.py,s=t.cx,l=t.cy,c=t.rx,d=t.ry,u=t.xAxisRotation,h=void 0===u?0:u,f=t.largeArcFlag,p=void 0===f?0:f,m=t.sweepFlag,g=void 0===m?0:m,b=[];if(0===c||0===d)return[];var v=Math.sin(h*n/360),y=Math.cos(h*n/360),x=y*(e-s)/2+v*(r-l)/2,w=-v*(e-s)/2+y*(r-l)/2;if(0===x&&0===w)return[];c=Math.abs(c),d=Math.abs(d);var _=Math.pow(x,2)/Math.pow(c,2)+Math.pow(w,2)/Math.pow(d,2);_>1&&(c*=Math.sqrt(_),d*=Math.sqrt(_));var k=function(t,e,r,i,o,s,l,c,d,u,h,f){var p=Math.pow(o,2),m=Math.pow(s,2),g=Math.pow(h,2),b=Math.pow(f,2),v=p*m-p*b-m*g;v<0&&(v=0),v/=p*b+m*g;var y=(v=Math.sqrt(v)*(l===c?-1:1))*o/s*f,x=v*-s/o*h,w=u*y-d*x+(t+r)/2,_=d*y+u*x+(e+i)/2,k=(h-y)/o,A=(f-x)/s,T=(-h-y)/o,M=(-f-x)/s,S=a(1,0,k,A),E=a(k,A,T,M);return 0===c&&E>0&&(E-=n),1===c&&E<0&&(E+=n),[w,_,S,E]}(e,r,s,l,c,d,p,g,v,y,x,w),A=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(k,4),T=A[0],M=A[1],S=A[2],E=A[3],C=Math.abs(E)/(n/4);Math.abs(1-C)<1e-7&&(C=1);var z=Math.max(Math.ceil(C),1);E/=z;for(var L=0;L<z;L++)b.push(o(S,E)),S+=E;return b.map((function(t){var e=i(t[0],c,d,y,v,T,M),r=e.x,n=e.y,o=i(t[1],c,d,y,v,T,M),a=o.x,s=o.y,l=i(t[2],c,d,y,v,T,M);return{x1:r,y1:n,x2:a,y2:s,x:l.x,y:l.y}}))}},72859:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);n&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},73290:t=>{"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"}},74036:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822);function o(t,e,r){var n,o,a,s=!1;if("data"===e.type)n=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;n=t._fullLayout}return o=i.nestedProperty(n,e.prop).get(),(a=r[e.type]=r[e.type]||{}).hasOwnProperty(e.prop)&&a[e.prop]!==o&&(s=!0),a[e.prop]=o,{changed:s,value:o}}function a(t,e){var r=[],n=e[0],o={};if("string"==typeof n)o[n]=e[1];else{if(!i.isPlainObject(n))return r;o=n}return l(o,(function(t,e,n){r.push({type:"layout",prop:t,value:n})}),"",0),r}function s(t,e){var r,n,o,a,s=[];if(n=e[0],o=e[1],r=e[2],a={},"string"==typeof n)a[n]=o;else{if(!i.isPlainObject(n))return s;a=n,void 0===r&&(r=o)}return void 0===r&&(r=null),l(a,(function(e,n,i){var o,a;if(Array.isArray(i)){a=i.slice();var l=Math.min(a.length,t.data.length);r&&(l=Math.min(l,r.length)),o=[];for(var c=0;c<l;c++)o[c]=r?r[c]:c}else a=i,o=r?r.slice():null;if(null===o)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(o)){if(!Array.isArray(a)){var d=a;a=[];for(var u=0;u<o.length;u++)a[u]=d}a.length=Math.min(o.length,a.length)}s.push({type:"data",prop:e,traces:o,value:a})}),"",0),s}function l(t,e,r,n){Object.keys(t).forEach((function(o){var a=t[o];if("_"!==o[0]){var s=r+(n>0?".":"")+o;i.isPlainObject(a)?l(a,e,s,n+1):e(s,o,a)}}))}e.manageCommandObserver=function(t,r,n,a){var s={},l=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var c=e.hasSimpleAPICommandBindings(t,n,s.lookupTable);if(r&&r._commandObserver){if(c)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(c){o(t,c,s.cache),s.check=function(){if(l){var e=o(t,c,s.cache);return e.changed&&a&&void 0!==s.lookupTable[e.value]&&(s.disable(),Promise.resolve(a({value:e.value,type:c.type,prop:c.prop,traces:c.traces,index:s.lookupTable[e.value]})).then(s.enable,s.enable)),e.changed}};for(var d=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],u=0;u<d.length;u++)t._internalOn(d[u],s.check);s.remove=function(){for(var e=0;e<d.length;e++)t._removeInternalListener(d[e],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},r&&(r._commandObserver=s),s},e.hasSimpleAPICommandBindings=function(t,r,n){var i,o,a=r.length;for(i=0;i<a;i++){var s,l=r[i],c=l.method,d=l.args;if(Array.isArray(d)||(d=[]),!c)return!1;var u=e.computeAPICommandBindings(t,c,d);if(1!==u.length)return!1;if(o){if((s=u[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var h=0;h<o.traces.length;h++)if(o.traces[h]!==s.traces[h])return!1}else if(s.prop!==o.prop)return!1}else o=u[0],Array.isArray(o.traces)&&o.traces.sort();var f=(s=u[0]).value;if(Array.isArray(f)){if(1!==f.length)return!1;f=f[0]}n&&(n[f]=i)}return o},e.executeAPICommand=function(t,e,r){if("skip"===e)return Promise.resolve();var o=n.apiMethodRegistry[e],a=[t];Array.isArray(r)||(r=[]);for(var s=0;s<r.length;s++)a.push(r[s]);return o.apply(null,a).catch((function(t){return i.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)}))},e.computeAPICommandBindings=function(t,e,r){var n;switch(Array.isArray(r)||(r=[]),e){case"restyle":n=s(t,r);break;case"relayout":n=a(0,r);break;case"update":n=s(t,[r[0],r[2]]).concat(a(0,[r[1]]));break;case"animate":n=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,r);break;default:n=[]}return n}},74040:t=>{t.exports=function(t,e,r,n,i,o,a){var s=1/(e-r),l=1/(n-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*l,t[14]=(a+o)*c,t[15]=1,t}},74165:t=>{"use strict";t.exports=function(t){try{return t.toString()}catch(e){try{return String(t)}catch(t){return null}}}},74205:(t,e,r)=>{"use strict";var n,i=r(50459),o=r(92912)(/^\s*(?:function)?\*/),a=r(15541)(),s=r(55573),l=i("Object.prototype.toString"),c=i("Function.prototype.toString");t.exports=function(t){if("function"!=typeof t)return!1;if(o(c(t)))return!0;if(!a)return"[object GeneratorFunction]"===l(t);if(!s)return!1;if(void 0===n){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();n=!!e&&s(e)}return s(t)===n}},74434:(t,e,r)=>{"use strict";var n=r(12822),i=r(25059),o=r(46121).arrayEditor;function a(t,e){var r,n,i,o,a,l,c,d=t._fullLayout.annotations,u=[],h=[],f=[],p=(e||[]).length;for(r=0;r<d.length;r++)if(o=(i=d[r]).clicktoshow){for(n=0;n<p;n++)if(l=(a=e[n]).xaxis,c=a.yaxis,l._id===i.xref&&c._id===i.yref&&l.d2r(a.x)===s(i._xclick,l)&&c.d2r(a.y)===s(i._yclick,c)){(i.visible?"onout"===o?h:f:u).push(r);break}n===p&&i.visible&&"onout"===o&&h.push(r)}return{on:u,off:h,explicitOff:f}}function s(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}t.exports={hasClickToShow:function(t,e){var r=a(t,e);return r.on.length>0||r.explicitOff.length>0},onClick:function(t,e){var r,s,l=a(t,e),c=l.on,d=l.off.concat(l.explicitOff),u={},h=t._fullLayout.annotations;if(c.length||d.length){for(r=0;r<c.length;r++)(s=o(t.layout,"annotations",h[c[r]])).modifyItem("visible",!0),n.extendFlat(u,s.getUpdateObj());for(r=0;r<d.length;r++)(s=o(t.layout,"annotations",h[d[r]])).modifyItem("visible",!1),n.extendFlat(u,s.getUpdateObj());return i.call("update",t,{},u)}}}},74858:(t,e,r)=>{"use strict";var n=r(61398),i=r(10781),o=r(87266),a=r(29419),s=r(50317),l=n(a(),Number);i(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},74930:(t,e,r)=>{"use strict";t.exports=function(t){for(var e,r=[],a=0,s=0,l=0,c=0,d=null,u=null,h=0,f=0,p=0,m=t.length;p<m;p++){var g=t[p],b=g[0];switch(b){case"M":l=g[1],c=g[2];break;case"A":var v=n({px:h,py:f,cx:g[6],cy:g[7],rx:g[1],ry:g[2],xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5]});if(!v.length)continue;for(var y,x=0;x<v.length;x++)g=["C",(y=v[x]).x1,y.y1,y.x2,y.y2,y.x,y.y],x<v.length-1&&r.push(g);break;case"S":var w=h,_=f;"C"!=e&&"S"!=e||(w+=w-a,_+=_-s),g=["C",w,_,g[1],g[2],g[3],g[4]];break;case"T":"Q"==e||"T"==e?(d=2*h-d,u=2*f-u):(d=h,u=f),g=o(h,f,d,u,g[1],g[2]);break;case"Q":d=g[1],u=g[2],g=o(h,f,g[1],g[2],g[3],g[4]);break;case"L":g=i(h,f,g[1],g[2]);break;case"H":g=i(h,f,g[1],f);break;case"V":g=i(h,f,h,g[1]);break;case"Z":g=i(h,f,l,c)}e=b,h=g[g.length-2],f=g[g.length-1],g.length>4?(a=g[g.length-4],s=g[g.length-3]):(a=h,s=f),r.push(g)}return r};var n=r(72560);function i(t,e,r,n){return["C",t,e,r,n,r,n]}function o(t,e,r,n,i,o){return["C",t/3+2/3*r,e/3+2/3*n,i/3+2/3*r,o/3+2/3*n,i,o]}},75058:t=>{"use strict";t.exports=function(t){var e=t.variantValues,r=t.editType,n=t.colorEditType;void 0===n&&(n=r);var i={editType:r,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal",description:["Sets the weight (or boldness) of the font."].join(" ")};t.noNumericWeightValues&&(i.valType="enumerated",i.values=i.extras,i.extras=void 0,i.min=void 0,i.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:r,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser can only apply a font if it is available on the system where","it runs. Provide multiple font families, separated by commas, to indicate","the order in which to apply fonts if they aren't available."].join(" ")},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:n},weight:i,style:{editType:r,valType:"enumerated",values:["normal","italic"],dflt:"normal",description:["Sets whether a font should be styled with a normal or italic face from its family."].join(" ")},variant:t.noFontVariant?void 0:{editType:r,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal",description:["Sets the variant of the font."].join(" ")},textcase:t.noFontTextcase?void 0:{editType:r,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal",description:["Sets capitalization of text.","It can be used to make text appear in all-uppercase or all-lowercase,","or with each word capitalized."].join(" ")},lineposition:t.noFontLineposition?void 0:{editType:r,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none",description:["Sets the kind of decoration line(s) with text,","such as an *under*, *over* or *through*","as well as combinations e.g. *under+over*, etc."].join(" ")},shadow:t.noFontShadow?void 0:{editType:r,valType:"string",dflt:t.autoShadowDflt?"auto":"none",description:["Sets the shape and color of the shadow behind text.","*auto* places minimal shadow and applies contrast text font color.","See https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow for additional options."].join(" ")},editType:r,description:""+(t.description||"")};return t.autoSize&&(o.size.dflt="auto"),t.autoColor&&(o.color.dflt="auto"),t.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,t.noFontVariant||(o.variant.arrayOk=!0),t.noFontTextcase||(o.textcase.arrayOk=!0),t.noFontLineposition||(o.lineposition.arrayOk=!0),t.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}},75208:(t,e,r)=>{"use strict";var n=r(97905),i="undefined"==typeof globalThis?r.g:globalThis;t.exports=function(){for(var t=[],e=0;e<n.length;e++)"function"==typeof i[n[e]]&&(t[t.length]=n[e]);return t}},75250:t=>{"use strict";t.exports=function(t){return t}},75717:(t,e,r)=>{"use strict";var n=r(79538);e.init2dArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=new Array(e);return r},e.transposeRagged=function(t){var e,r,n=0,i=t.length;for(e=0;e<i;e++)n=Math.max(n,t[e].length);var o=new Array(n);for(e=0;e<n;e++)for(o[e]=new Array(i),r=0;r<i;r++)o[e][r]=t[r][e];return o},e.dot=function(t,r){if(!t.length||!r.length||t.length!==r.length)return null;var n,i,o=t.length;if(t[0].length)for(n=new Array(o),i=0;i<o;i++)n[i]=e.dot(t[i],r);else if(r[0].length){var a=e.transposeRagged(r);for(n=new Array(a.length),i=0;i<a.length;i++)n[i]=e.dot(t,a[i])}else for(n=0,i=0;i<o;i++)n+=t[i]*r[i];return n},e.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},e.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},e.rotationXYMatrix=function(t,r,n){return e.dot(e.dot(e.translationMatrix(r,n),e.rotationMatrix(t)),e.translationMatrix(-r,-n))},e.apply3DTransform=function(t){return function(){var r=arguments,n=1===arguments.length?r[0]:[r[0],r[1],r[2]||0];return e.dot(t,[n[0],n[1],n[2],1]).slice(0,3)}},e.apply2DTransform=function(t){return function(){var r=arguments;3===r.length&&(r=r[0]);var n=1===arguments.length?r[0]:[r[0],r[1]];return e.dot(t,[n[0],n[1],1]).slice(0,2)}},e.apply2DTransform2=function(t){var r=e.apply2DTransform(t);return function(t){return r(t.slice(0,2)).concat(r(t.slice(2,4)))}},e.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},e.inverseTransformMatrix=function(t){var e=[];return n.invert(e,t),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}},75796:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23aaa%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},75798:(t,e,r)=>{"use strict";var n=r(37974),i=r(97883),o=r(74930),a=r(12611);t.exports=function(t){if(Array.isArray(t)&&1===t.length&&"string"==typeof t[0]&&(t=t[0]),"string"==typeof t){if(!a(t))throw Error("String is not an SVG path.");t=n(t)}if(!Array.isArray(t))throw Error("Argument should be a string or an array of path segments.");if(t=i(t),!(t=o(t)).length)return[0,0,0,0];for(var e=[1/0,1/0,-1/0,-1/0],r=0,s=t.length;r<s;r++)for(var l=t[r].slice(1),c=0;c<l.length;c+=2)l[c+0]<e[0]&&(e[0]=l[c+0]),l[c+1]<e[1]&&(e[1]=l[c+1]),l[c+0]>e[2]&&(e[2]=l[c+0]),l[c+1]>e[3]&&(e[3]=l[c+1]);return e}},75815:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(51137),a=r(25059),s=r(12822),l=s.strTranslate,c=r(80394),d=r(6883),u=r(17499),h=r(40666),f=r(86130),p=r(84696),m=r(32994),g=m.ONEMAXYEAR,b=m.ONEAVGYEAR,v=m.ONEMINYEAR,y=m.ONEMAXQUARTER,x=m.ONEAVGQUARTER,w=m.ONEMINQUARTER,_=m.ONEMAXMONTH,k=m.ONEAVGMONTH,A=m.ONEMINMONTH,T=m.ONEWEEK,M=m.ONEDAY,S=M/2,E=m.ONEHOUR,C=m.ONEMIN,z=m.ONESEC,L=m.ONEMILLI,O=m.ONEMICROSEC,D=m.MINUS_SIGN,I=m.BADNUM,F={K:"zeroline"},R={K:"gridline",L:"path"},P={K:"minor-gridline",L:"path"},j={K:"tick",L:"path"},N={K:"tick",L:"text"},B={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=r(89701),V=U.MID_SHIFT,G=U.CAP_SHIFT,H=U.LINE_SPACING,W=U.OPPOSITE_SIDE,q=t.exports={};q.setConvert=r(30632);var $=r(17821),Y=r(99246),Z=Y.idSort,X=Y.isLinked;q.id2name=Y.id2name,q.name2id=Y.name2id,q.cleanId=Y.cleanId,q.list=Y.list,q.listIds=Y.listIds,q.getFromId=Y.getFromId,q.getFromTrace=Y.getFromTrace;var J=r(19496);function Q(t){var e=1e-4*(t[1]-t[0]);return[t[0]-e,t[1]+e]}q.getAutoRange=J.getAutoRange,q.findExtremes=J.findExtremes,q.coerceRef=function(t,e,r,n,i,o){var a=n.charAt(n.length-1),l=r._fullLayout._subplots[a+"axis"],c=n+"ref",d={};return i||(i=l[0]||("string"==typeof o?o:o[0])),o||(o=i),l=l.concat(l.map((function(t){return t+" domain"}))),d[c]={valType:"enumerated",values:l.concat(o?"string"==typeof o?[o]:o:[]),dflt:i},s.coerce(t,e,d,c)},q.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},q.coercePosition=function(t,e,r,n,i,o){var a,l;if("range"!==q.getRefType(n))a=s.ensureNumber,l=r(i,o);else{var c=q.getFromId(e,n);l=r(i,o=c.fraction2r(o)),a=c.cleanPos}t[i]=a(l)},q.cleanPosition=function(t,e,r){return("paper"===r||"pixel"===r?s.ensureNumber:q.getFromId(e,r).cleanPos)(t)},q.redrawComponents=function(t,e){e=e||q.listIds(t);var r=t._fullLayout;function n(n,i,o,s){for(var l=a.getComponentMethod(n,i),c={},d=0;d<e.length;d++)for(var u=r[q.id2name(e[d])][o],h=0;h<u.length;h++){var f=u[h];if(!c[f]&&(l(t,f),c[f]=1,s))return}}n("annotations","drawOne","_annIndices"),n("shapes","drawOne","_shapeIndices"),n("images","draw","_imgIndices",!0),n("selections","drawOne","_selectionIndices")};var K=q.getDataConversions=function(t,e,r,n){var i,o="x"===r||"y"===r||"z"===r?r:n;if(s.isArrayOrTypedArray(o)){if(i={type:$(n,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},q.setConvert(i),"category"===i.type)for(var a=0;a<n.length;a++)i.d2c(n[a])}else i=q.getFromTrace(t,e,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:et,c2d:et}:{d2c:tt,c2d:tt}};function tt(t){return+t}function et(t){return String(t)}function rt(t,e){return Math.abs((t/e+.5)%1-.5)<.001}function nt(t,e){return Math.abs(t/e-1)<.001}function it(t){return+t.substring(1)}function ot(t,e){return t.rangebreaks&&(e=e.filter((function(e){return t.maskBreaks(e.x)!==I}))),e}function at(t){var e=t._mainAxis,r=[];if(e._vals)for(var n=0;n<e._vals.length;n++)if(!e._vals[n].noTick){var i=e.l2p(e._vals[n].x),o=t.p2l(i),a=q.tickText(t,o);e._vals[n].minor&&(a.minor=!0,a.text=""),r.push(a)}return ot(t,r)}function st(t,e){var r=Q(s.simpleMap(t.range,t.r2l)),n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var a=[],l=0;l<=1;l++)if((void 0===e||!(e&&l||!1===e&&!l))&&(!l||t.minor)){var c=l?t.minor.tickvals:t.tickvals,d=l?[]:t.ticktext;if(c){s.isArrayOrTypedArray(d)||(d=[]);for(var u=0;u<c.length;u++){var h=o(c[u]);if(h>n&&h<i){var f=q.tickText(t,h,!1,String(d[u]));l&&(f.minor=!0,f.text=""),a.push(f)}}}}return ot(t,a)}q.getDataToCoordFunc=function(t,e,r,n){return K(t,e,r,n).d2c},q.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},q.minDtick=function(t,e,r,n){-1===["log","category","multicategory"].indexOf(t.type)&&n?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},q.saveRangeInitial=function(t,e){for(var r=q.list(t,"",!0),n=!1,i=0;i<r.length;i++){var o=r[i],a=void 0===o._rangeInitial0&&void 0===o._rangeInitial1,s=a||o.range[0]!==o._rangeInitial0||o.range[1]!==o._rangeInitial1,l=o.autorange;(a&&!0!==l||e&&s)&&(o._rangeInitial0="min"===l||"max reversed"===l?void 0:o.range[0],o._rangeInitial1="max"===l||"min reversed"===l?void 0:o.range[1],o._autorangeInitial=l,n=!0)}return n},q.saveShowSpikeInitial=function(t,e){for(var r=q.list(t,"",!0),n=!1,i="on",o=0;o<r.length;o++){var a=r[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||e&&l)&&(a._showSpikeInitial=a.showspikes,n=!0),"on"!==i||a.showspikes||(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,n},q.autoBin=function(t,e,r,n,o,a){var l,c=s.aggNums(Math.min,null,t),d=s.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:c-.5,end:d+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:d-c};if(o||(o=e.calendar),l="log"===e.type?{type:"linear",range:[c,d]}:{type:e.type,range:s.simpleMap([c,d],e.c2r,0,o),calendar:o},q.setConvert(l),a=a&&p.dtick(a,l.type))l.dtick=a,l.tick0=p.tick0(void 0,l.type,o);else{var u;if(r)u=(d-c)/r;else{var h=s.distinctVals(t),f=Math.pow(10,Math.floor(Math.log(h.minDiff)/Math.LN10)),m=f*s.roundUp(h.minDiff/f,[.9,1.9,4.9,9.9],!0);u=Math.max(m,2*s.stdev(t)/Math.pow(t.length,n?.25:.4)),i(u)||(u=1)}q.autoTicks(l,u)}var g,b=l.dtick,v=q.tickIncrement(q.tickFirst(l),b,"reverse",o);if("number"==typeof b)v=function(t,e,r,n,o){var a=0,s=0,l=0,c=0;function d(e){return(1+100*(e-t)/r.dtick)%100<2}for(var u=0;u<e.length;u++)e[u]%1==0?l++:i(e[u])||c++,d(e[u])&&a++,d(e[u]+r.dtick/2)&&s++;var h=e.length-c;if(l===h&&"date"!==r.type)r.dtick<1?t=n-.5*r.dtick:(t-=.5)+r.dtick<n&&(t+=r.dtick);else if(s<.1*h&&(a>.3*h||d(n)||d(o))){var f=r.dtick/2;t+=t+f<n?f:-f}return t}(v,t,l,c,d),g=v+(1+Math.floor((d-v)/b))*b;else for("M"===l.dtick.charAt(0)&&(v=function(t,e,r,n,i){var o=s.findExactDates(e,i);if(o.exactDays>.8){var a=Number(r.substr(1));o.exactYears>.8&&a%12==0?t=q.tickIncrement(t,"M6","reverse")+1.5*M:o.exactMonths>.8?t=q.tickIncrement(t,"M1","reverse")+15.5*M:t-=S;var l=q.tickIncrement(t,r);if(l<=n)return l}return t}(v,t,b,c,o)),g=v;g<=d;)g=q.tickIncrement(g,b,!1,o);return{start:e.c2r(v,0,o),end:e.c2r(g,0,o),size:b,_dataSpan:d-c}},q.prepMinorTicks=function(t,e,r){if(!e.minor.dtick){delete t.dtick;var n,o=e.dtick&&i(e._tmin);if(o){var a=q.tickIncrement(e._tmin,e.dtick,!0);n=[e._tmin,.99*a+.01*e._tmin]}else{var l=s.simpleMap(e.range,e.r2l);n=[l[0],.8*l[0]+.2*l[1]]}if(t.range=s.simpleMap(n,e.l2r),t._isMinor=!0,q.prepTicks(t,r),o){var c=i(e.dtick),d=i(t.dtick),u=c?e.dtick:+e.dtick.substring(1),h=d?t.dtick:+t.dtick.substring(1);c&&d?rt(u,h)?u===2*T&&h===2*M&&(t.dtick=T):u===2*T&&h===3*M?t.dtick=T:u!==T||(e._input.minor||{}).nticks?nt(u/h,2.5)?t.dtick=u/2:t.dtick=u:t.dtick=M:"M"===String(e.dtick).charAt(0)?d?t.dtick="M1":rt(u,h)?u>=12&&2===h&&(t.dtick="M3"):t.dtick=e.dtick:"L"===String(t.dtick).charAt(0)?"L"===String(e.dtick).charAt(0)?rt(u,h)||(t.dtick=nt(u/h,2.5)?e.dtick/2:e.dtick):t.dtick="D1":"D2"===t.dtick&&+e.dtick>1&&(t.dtick=1)}t.range=e.range}void 0===e.minor._tick0Init&&(t.tick0=e.tick0)},q.prepTicks=function(t,e){var r=s.simpleMap(t.range,t.r2l,void 0,void 0,e);if("auto"===t.tickmode||!t.dtick){var n,o=t.nticks;o||("category"===t.type||"multicategory"===t.type?(n=t.tickfont?s.bigFont(t.tickfont.size||12):15,o=t._length/n):(n="y"===t._id.charAt(0)?40:80,o=s.constrain(t._length/n,4,9)+1),"radialaxis"===t._name&&(o*=2)),t.minor&&"array"!==t.minor.tickmode||"array"===t.tickmode&&(o*=100),t._roughDTick=Math.abs(r[1]-r[0])/o,q.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&function(t){var e;function r(){return!(i(t.dtick)||"M"!==t.dtick.charAt(0))}var n=r(),o=q.getTickFormat(t);if(o){var a=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(o)||(/%[HI]/.test(o)?(e=E,a&&!n&&t.dtick<E&&(t.dtick=E)):/%p/.test(o)?(e=S,a&&!n&&t.dtick<S&&(t.dtick=S)):/%[Aadejuwx]/.test(o)?(e=M,a&&!n&&t.dtick<M&&(t.dtick=M)):/%[UVW]/.test(o)?(e=T,a&&!n&&t.dtick<T&&(t.dtick=T)):/%[Bbm]/.test(o)?(e=k,a&&(n?it(t.dtick)<1:t.dtick<A)&&(t.dtick="M1")):/%[q]/.test(o)?(e=x,a&&(n?it(t.dtick)<3:t.dtick<w)&&(t.dtick="M3")):/%[Yy]/.test(o)&&(e=b,a&&(n?it(t.dtick)<12:t.dtick<v)&&(t.dtick="M12")))}(n=r())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0),t._definedDelta=e}(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),gt(t)},q.calcTicks=function(t,e){for(var r,n,o,a,l=t.type,c=t.calendar,d=t.ticklabelstep,u="period"===t.ticklabelmode,h=t.range[0]>t.range[1],f=!t.ticklabelindex||s.isArrayOrTypedArray(t.ticklabelindex)?t.ticklabelindex:[t.ticklabelindex],p=s.simpleMap(t.range,t.r2l,void 0,void 0,e),m=p[1]<p[0],D=Math.min(p[0],p[1]),F=Math.max(p[0],p[1]),R=Math.max(1e3,t._length||0),P=[],j=[],N=[],B=[],U=[],V=t.minor&&(t.minor.ticks||t.minor.showgrid),G=1;G>=(V?0:1);G--){var H=!G;G?(t._dtickInit=t.dtick,t._tick0Init=t.tick0):(t.minor._dtickInit=t.minor.dtick,t.minor._tick0Init=t.minor.tick0);var W=G?t:s.extendFlat({},t,t.minor);if(H?q.prepMinorTicks(W,t,e):q.prepTicks(W,e),"array"!==W.tickmode)if("sync"!==W.tickmode){var $=Q(p),Y=$[0],Z=$[1],X=i(W.dtick),J="log"===l&&!(X||"L"===W.dtick.charAt(0)),K=q.tickFirst(W,e);if(G){if(t._tmin=K,K<Y!==m)break;"category"!==l&&"multicategory"!==l||(Z=m?Math.max(-.5,Z):Math.min(t._categories.length-.5,Z))}var tt,et,rt=null,nt=K;G&&(X?et=t.dtick:"date"===l?"string"==typeof t.dtick&&"M"===t.dtick.charAt(0)&&(et=k*t.dtick.substring(1)):et=t._roughDTick,tt=Math.round((t.r2l(nt)-t.r2l(t.tick0))/et)-1);var it=W.dtick;for(W.rangebreaks&&W._tick0Init!==W.tick0&&(nt=jt(nt,t),m||(nt=q.tickIncrement(nt,it,!m,c))),G&&u&&(nt=q.tickIncrement(nt,it,!m,c),tt--);m?nt>=Z:nt<=Z;nt=q.tickIncrement(nt,it,m,c)){if(G&&tt++,W.rangebreaks&&!m){if(nt<Y)continue;if(W.maskBreaks(nt)===I&&jt(nt,W)>=F)break}if(N.length>R||nt===rt)break;rt=nt;var ot={value:nt};G?(J&&nt!==(0|nt)&&(ot.simpleLabel=!0),d>1&&tt%d&&(ot.skipLabel=!0),N.push(ot)):(ot.minor=!0,B.push(ot))}}else N=[],P=at(t);else G?(N=[],P=st(t,!H)):(B=[],j=st(t,!H))}!B||B.length<2?f=!1:(r=(B[1].value-B[0].value)*(h?-1:1),n=t.tickformat,(/%f/.test(n)?r>=O:/%L/.test(n)?r>=L:/%[SX]/.test(n)?r>=z:/%M/.test(n)?r>=C:/%[HI]/.test(n)?r>=E:/%p/.test(n)?r>=S:/%[Aadejuwx]/.test(n)?r>=M:/%[UVW]/.test(n)?r>=T:/%[Bbm]/.test(n)?r>=A:/%[q]/.test(n)?r>=w:!/%[Yy]/.test(n)||r>=v)||(f=!1));if(f){var lt=N.concat(B);u&&N.length&&(lt=lt.slice(1)),(lt=lt.sort((function(t,e){return t.value-e.value})).filter((function(t,e,r){return 0===e||t.value!==r[e-1].value}))).map((function(t,e){return void 0!==t.minor||t.skipLabel?null:e})).filter((function(t){return null!==t})).forEach((function(t){f.map((function(e){var r=t+e;r>=0&&r<lt.length&&s.pushUnique(U,lt[r])}))}))}else U=N;if(V&&!("inside"===t.minor.ticks&&"outside"===t.ticks||"outside"===t.minor.ticks&&"inside"===t.ticks)){for(var ct=N.map((function(t){return t.value})),dt=[],ut=0;ut<B.length;ut++){var ht=B[ut],ft=ht.value;if(-1===ct.indexOf(ft)){for(var pt=!1,mt=0;!pt&&mt<N.length;mt++)1e7+N[mt].value===1e7+ft&&(pt=!0);pt||dt.push(ht)}}B=dt}if(u&&function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n].value,o=n,a=n+1;n<t.length-1?(o=n,a=n+1):n>0?(o=n-1,a=n):(o=n,a=n);var s,l=t[o].value,c=t[a].value,d=Math.abs(c-l),u=r||d,h=0;u>=v?h=d>=v&&d<=g?d:b:r===x&&u>=w?h=d>=w&&d<=y?d:x:u>=A?h=d>=A&&d<=_?d:k:r===T&&u>=T?h=T:u>=M?h=M:r===S&&u>=S?h=S:r===E&&u>=E&&(h=E),h>=d&&(h=d,s=!0);var f=i+h;if(e.rangebreaks&&h>0){for(var p=0,m=0;m<84;m++){var C=(m+.5)/84;e.maskBreaks(i*(1-C)+C*f)!==I&&p++}(h*=p/84)||(t[n].drop=!0),s&&d>T&&(h=d)}(h>0||0===n)&&(t[n].periodX=i+h/2)}}(U,t,t._definedDelta),t.rangebreaks){var gt="y"===t._id.charAt(0),bt=1;"auto"===t.tickmode&&(bt=t.tickfont?t.tickfont.size:12);var vt=NaN;for(o=N.length-1;o>-1;o--)if(N[o].drop)N.splice(o,1);else{N[o].value=jt(N[o].value,t);var yt=t.c2p(N[o].value);(gt?vt>yt-bt:vt<yt+bt)?N.splice(m?o+1:o,1):vt=yt}}Pt(t)&&360===Math.abs(p[1]-p[0])&&N.pop(),t._tmax=(N[N.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var xt,wt=function(e){e.text="",t._prevDateHead=a};function _t(t,e){var r=q.tickText(t,e.value,!1,e.simpleLabel),n=e.periodX;return void 0!==n&&(r.periodX=n,(n>F||n<D)&&(n>F&&(r.periodX=F),n<D&&(r.periodX=D),wt(r))),r}for(N=N.concat(B),o=0;o<N.length;o++){var kt=N[o].minor,At=N[o].value;kt?((xt=f&&-1!==U.indexOf(N[o])?_t(t,N[o]):{x:At}).minor=!0,j.push(xt)):(a=t._prevDateHead,xt=_t(t,N[o]),(N[o].skipLabel||f&&-1===U.indexOf(N[o]))&&wt(xt),P.push(xt))}return P=P.concat(j),t._inCalcTicks=!1,u&&P.length&&(P[0].noTick=!0),P};var lt=[2,5,10],ct=[1,2,3,6,12],dt=[1,2,5,10,15,30],ut=[1,2,3,7,14],ht=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ft=[-.301,0,.301,.699,1],pt=[15,30,45,90,180];function mt(t,e,r){return e*s.roundUp(t/e,r)}function gt(t){var e=t.dtick;if(t._tickexponent=0,i(e)||"string"==typeof e||(e=1),"category"!==t.type&&"multicategory"!==t.type||(t._tickround=null),"date"===t.type){var r=t.r2l(t.tick0),n=t.l2r(r).replace(/(^-|i)/g,""),o=n.length;if("M"===String(e).charAt(0))o>10||"01-01"!==n.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=M&&o<=10||e>=15*M)t._tickround="d";else if(e>=C&&o<=16||e>=E)t._tickround="M";else if(e>=z&&o<=19||e>=C)t._tickround="S";else{var a=t.l2r(r+e).replace(/^-/,"").length;t._tickround=Math.max(o,a)-20,t._tickround<0&&(t._tickround=4)}}else if(i(e)||"L"===e.charAt(0)){var s=t.range.map(t.r2d||Number);i(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),c=Math.floor(Math.log(l)/Math.LN10+.01),d=void 0===t.minexponent?3:t.minexponent;Math.abs(c)>d&&(xt(t.exponentformat)&&"SI extended"!==t.exponentformat&&!wt(c)||xt(t.exponentformat)&&"SI extended"===t.exponentformat&&!_t(c)?t._tickexponent=3*Math.round((c-1)/3):t._tickexponent=c)}else t._tickround=null}function bt(t,e,r){var n=t.tickfont||{};return{x:e,dx:0,dy:0,text:r||"",fontSize:n.size,font:n.family,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontTextcase:n.textcase,fontLineposition:n.lineposition,fontShadow:n.shadow,fontColor:n.color}}q.autoTicks=function(t,e,r){var n;function o(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=s.dateTick0(t.calendar,0);var a=2*e;if(a>b)e/=b,n=o(10),t.dtick="M"+12*mt(e,n,lt);else if(a>k)e/=k,t.dtick="M"+mt(e,1,ct);else if(a>M){if(t.dtick=mt(e,M,t._hasDayOfWeekBreaks?[1,2,7,14]:ut),!r){var l=q.getTickFormat(t),c="period"===t.ticklabelmode;c&&(t._rawTick0=t.tick0),/%[uVW]/.test(l)?t.tick0=s.dateTick0(t.calendar,2):t.tick0=s.dateTick0(t.calendar,1),c&&(t._dowTick0=t.tick0)}}else a>E?t.dtick=mt(e,E,ct):a>C?t.dtick=mt(e,C,dt):a>z?t.dtick=mt(e,z,dt):(n=o(10),t.dtick=mt(e,n,lt))}else if("log"===t.type){t.tick0=0;var d=s.simpleMap(t.range,t.r2l);if(t._isMinor&&(e*=1.5),e>.7)t.dtick=Math.ceil(e);else if(Math.abs(d[1]-d[0])<1){var u=1.5*Math.abs((d[1]-d[0])/e);e=Math.abs(Math.pow(10,d[1])-Math.pow(10,d[0]))/u,n=o(10),t.dtick="L"+mt(e,n,lt)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):Pt(t)?(t.tick0=0,n=1,t.dtick=mt(e,n,pt)):(t.tick0=0,n=o(10),t.dtick=mt(e,n,lt));if(0===t.dtick&&(t.dtick=1),!i(t.dtick)&&"string"!=typeof t.dtick){var h=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(h)}},q.tickIncrement=function(t,e,r,o){var a=r?-1:1;if(i(e))return s.increment(t,a*e);var l=e.charAt(0),c=a*Number(e.substr(1));if("M"===l)return s.incrementMonth(t,c,o);if("L"===l)return Math.log(Math.pow(10,t)+c)/Math.LN10;if("D"===l){var d="D2"===e?ft:ht,u=t+.01*a,h=s.roundUp(s.mod(u,1),d,r);return Math.floor(u)+Math.log(n.round(Math.pow(10,h),1))/Math.LN10}throw"unrecognized dtick "+String(e)},q.tickFirst=function(t,e){var r=t.r2l||Number,o=s.simpleMap(t.range,r,void 0,void 0,e),a=o[1]<o[0],l=a?Math.floor:Math.ceil,c=Q(o)[0],d=t.dtick,u=r(t.tick0);if(i(d)){var h=l((c-u)/d)*d+u;return"category"!==t.type&&"multicategory"!==t.type||(h=s.constrain(h,0,t._categories.length-1)),h}var f=d.charAt(0),p=Number(d.substr(1));if("M"===f){for(var m,g,b,v=0,y=u;v<10;){if(((m=q.tickIncrement(y,d,a,t.calendar))-c)*(y-c)<=0)return a?Math.min(y,m):Math.max(y,m);g=(c-(y+m)/2)/(m-y),b=f+(Math.abs(Math.round(g))||1)*p,y=q.tickIncrement(y,b,g<0?!a:a,t.calendar),v++}return s.error("tickFirst did not converge",t),y}if("L"===f)return Math.log(l((Math.pow(10,c)-u)/p)*p+u)/Math.LN10;if("D"===f){var x="D2"===d?ft:ht,w=s.roundUp(s.mod(c,1),x,a);return Math.floor(c)+Math.log(n.round(Math.pow(10,w),1))/Math.LN10}throw"unrecognized dtick "+String(d)},q.tickText=function(t,e,r,n){var o,a=bt(t,e),l="array"===t.tickmode,c=r||l,d=t.type,u="category"===d?t.d2l_noadd:t.d2l,h=function(e){var r=t.l2p(e);return r>=0&&r<=t._length?e:null};if(l&&s.isArrayOrTypedArray(t.ticktext)){var f=s.simpleMap(t.range,t.r2l),p=(Math.abs(f[1]-f[0])-(t._lBreaks||0))/1e4;for(o=0;o<t.ticktext.length&&!(Math.abs(e-u(t.tickvals[o]))<p);o++);if(o<t.ticktext.length)return a.text=String(t.ticktext[o]),a.xbnd=[h(a.x-.5),h(a.x+t.dtick-.5)],a}function m(n){if(void 0===n)return!0;if(r)return"none"===n;var i={first:t._tmin,last:t._tmax}[n];return"all"!==n&&e!==i}var g=r?"never":"none"!==t.exponentformat&&m(t.showexponent)?"hide":"";if("date"===d?function(t,e,r,n){var o=t._tickround,a=r&&t.hoverformat||q.getTickFormat(t);(n=!a&&n)&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var l,c=s.formatDate(e.x,a,o,t._dateFormat,t.calendar,t._extraFormat),d=c.indexOf("\n");if(-1!==d&&(l=c.substr(d+1),c=c.substr(0,d)),n&&(void 0===l||"00:00:00"!==c&&"00:00"!==c?8===c.length&&(c=c.replace(/:00$/,"")):(c=l,l="")),l)if(r)"d"===o?c+=", "+l:c=l+(c?", "+c:"");else if(t._inCalcTicks&&t._prevDateHead===l){var u=Nt(t),h=t._trueSide||t.side;(!u&&"top"===h||u&&"bottom"===h)&&(c+="<br> ")}else t._prevDateHead=l,c+="<br>"+l;e.text=c}(t,a,r,c):"log"===d?function(t,e,r,n,o){var a=t.dtick,l=e.x,c=t.tickformat,d="string"==typeof a&&a.charAt(0);if("never"===o&&(o=""),n&&"L"!==d&&(a="L3",d="L"),c||"L"===d)e.text=kt(Math.pow(10,l),t,o,n);else if(i(a)||"D"===d&&("complete"===t.minorloglabels||s.mod(l+.01,1)<.1)){"complete"!==t.minorloglabels||s.mod(l+.01,1)<.1||(e.fontSize*=.75);var u=Math.pow(10,l).toExponential(0).split("e"),h=+u[1],f=Math.abs(h),p=t.exponentformat;"power"===p||xt(p)&&"SI extended"!==p&&wt(h)||xt(p)&&"SI extended"===p&&_t(h)?(e.text=u[0],f>0&&(e.text+="x10"),"1x10"===e.text&&(e.text="10"),0!==h&&1!==h&&(e.text+="<sup>"+(h>0?"":D)+f+"</sup>"),e.fontSize*=1.25):("e"===p||"E"===p)&&f>2?e.text=u[0]+p+(h>0?"+":D)+f:(e.text=kt(Math.pow(10,l),t,"","fakehover"),"D1"===a&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==d)throw"unrecognized dtick "+String(a);e.text="none"===t.minorloglabels?"":String(Math.round(Math.pow(10,s.mod(l,1)))),e.fontSize*=.75}if("D1"===t.dtick){var m=String(e.text).charAt(0);"0"!==m&&"1"!==m||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(l<0?.5:.25)))}}(t,a,0,c,g):"category"===d?function(t,e){var r=t._categories[Math.round(e.x)];void 0===r&&(r=""),e.text=String(r)}(t,a):"multicategory"===d?function(t,e,r){var n=Math.round(e.x),i=t._categories[n]||[],o=void 0===i[1]?"":String(i[1]),a=void 0===i[0]?"":String(i[0]);r?e.text=a+" - "+o:(e.text=o,e.text2=a)}(t,a,r):Pt(t)?function(t,e,r,n,i){if("radians"!==t.thetaunit||r)e.text=kt(e.x,t,i,n);else{var o=e.x/180;if(0===o)e.text="0";else{var a=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}var r=function(t){for(var r=1;!e(Math.round(t*r)/r,t);)r*=10;return r}(t),n=t*r,i=Math.abs(function t(r,n){return e(n,0)?r:t(n,r%n)}(n,r));return[Math.round(n/i),Math.round(r/i)]}(o);if(a[1]>=100)e.text=kt(s.deg2rad(e.x),t,i,n);else{var l=e.x<0;1===a[1]?1===a[0]?e.text="":e.text=a[0]+"":e.text=["<sup>",a[0],"</sup>","","<sub>",a[1],"</sub>",""].join(""),l&&(e.text=D+e.text)}}}}(t,a,r,c,g):function(t,e,r,n,i){"never"===i?i="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide"),e.text=kt(e.x,t,i,n)}(t,a,0,c,g),n||(t.tickprefix&&!m(t.showtickprefix)&&(a.text=t.tickprefix+a.text),t.ticksuffix&&!m(t.showticksuffix)&&(a.text+=t.ticksuffix)),t.labelalias&&t.labelalias.hasOwnProperty(a.text)){var b=t.labelalias[a.text];"string"==typeof b&&(a.text=b)}return("boundaries"===t.tickson||t.showdividers)&&(a.xbnd=[h(a.x-.5),h(a.x+t.dtick-.5)]),a},q.hoverLabelText=function(t,e,r){r&&(t=s.extendFlat({},t,{hoverformat:r}));var n=s.isArrayOrTypedArray(e)?e[0]:e,i=s.isArrayOrTypedArray(e)?e[1]:void 0;if(void 0!==i&&i!==n)return q.hoverLabelText(t,n,r)+" - "+q.hoverLabelText(t,i,r);var o="log"===t.type&&n<=0,a=q.tickText(t,t.c2l(o?-n:n),"hover").text;return o?0===n?"0":D+a:a};var vt=["f","p","n","","m","","k","M","G","T"],yt=["q","r","y","z","a",...vt,"P","E","Z","Y","R","Q"];const xt=t=>["SI","SI extended","B"].includes(t);function wt(t){return t>14||t<-15}function _t(t){return t>32||t<-30}function kt(t,e,r,n){var o=t<0,a=e._tickround,l=r||e.exponentformat||"B",c=e._tickexponent,d=q.getTickFormat(e),u=e.separatethousands;if(n){var h={exponentformat:l,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:i(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};gt(h),a=(Number(h._tickround)||0)+4,c=h._tickexponent,e.hoverformat&&(d=e.hoverformat)}if(d)return e._numFormat(d)(t).replace(/-/g,D);var f,p=Math.pow(10,-a)/2;if("none"===l&&(c=0),(t=Math.abs(t))<p)t="0",o=!1;else{if(t+=p,c&&(t*=Math.pow(10,-c),a+=c),0===a)t=String(Math.floor(t));else if(a<0){t=(t=String(Math.round(t))).substr(0,t.length+a);for(var m=a;m<0;m++)t+="0"}else{var g=(t=String(t)).indexOf(".")+1;g&&(t=t.substr(0,g+a).replace(/\.?0+$/,""))}t=s.numSeparate(t,e._separators,u)}return c&&"hide"!==l&&(function(t,e){return!(!xt(e)||!("SI extended"===e&&_t(t)||"SI extended"!==e&&wt(t)))}(c,l)&&(l="power"),f=c<0?D+-c:"power"!==l?"+"+c:String(c),"e"===l||"E"===l?t+=l+f:"power"===l?t+="10<sup>"+f+"</sup>":"B"===l&&9===c?t+="B":xt(l)&&(t+="SI extended"===l?yt[c/3+10]:vt[c/3+5])),o?D+t:t}function At(t,e){if(t){var r=Object.keys(B).reduce((function(t,r){return-1!==e.indexOf(r)&&B[r].forEach((function(e){t[e]=1})),t}),{});Object.keys(t).forEach((function(e){r[e]||(1===e.length?t[e]=0:delete t[e])}))}}function Tt(t,e){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i];n[o.text2]?n[o.text2].push(o.x):n[o.text2]=[o.x]}for(var a in n)r.push(bt(t,s.interp(n[a],.5),a));return r}function Mt(t){return void 0!==t.periodX?t.periodX:t.x}function St(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function Et(t){var e=t.title.font.size,r=(t.title.text.match(c.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?e*(G+r*H):r?e*(r+1)*H:e}function Ct(t,e){var r=t.l2p(e);return r>1&&r<t._length-1}function zt(t){var e=n.select(t),r=e.select(".text-math-group");return r.empty()?e.select("text"):r}function Lt(t){return t._id+".automargin"}function Ot(t){return Lt(t)+".mirror"}function Dt(t){return t._id+".rangeslider"}function It(t,e){for(var r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r])}function Ft(t,e,r){var n,i,o=[],a=[],l=t.layout;for(n=0;n<e.length;n++)o.push(q.getFromId(t,e[n]));for(n=0;n<r.length;n++)a.push(q.getFromId(t,r[n]));var c=Object.keys(f),d=["anchor","domain","overlaying","position","side","tickangle","editType"],u=["linear","log"];for(n=0;n<c.length;n++){var h=c[n],p=o[0][h],m=a[0][h],g=!0,b=!1,v=!1;if("_"!==h.charAt(0)&&"function"!=typeof p&&-1===d.indexOf(h)){for(i=1;i<o.length&&g;i++){var y=o[i][h];"type"===h&&-1!==u.indexOf(p)&&-1!==u.indexOf(y)&&p!==y?b=!0:y!==p&&(g=!1)}for(i=1;i<a.length&&g;i++){var x=a[i][h];"type"===h&&-1!==u.indexOf(m)&&-1!==u.indexOf(x)&&m!==x?v=!0:a[i][h]!==m&&(g=!1)}g&&(b&&(l[o[0]._name].type="linear"),v&&(l[a[0]._name].type="linear"),Rt(l,h,o,a,t._fullLayout._dfltTitle))}}for(n=0;n<t._fullLayout.annotations.length;n++){var w=t._fullLayout.annotations[n];-1!==e.indexOf(w.xref)&&-1!==r.indexOf(w.yref)&&s.swapAttrs(l.annotations[n],["?"])}}function Rt(t,e,r,n,i){var o,a=s.nestedProperty,l=a(t[r[0]._name],e).get(),c=a(t[n[0]._name],e).get();for("title"===e&&(l&&l.text===i.x&&(l.text=i.y),c&&c.text===i.y&&(c.text=i.x)),o=0;o<r.length;o++)a(t,r[o]._name+"."+e).set(c);for(o=0;o<n.length;o++)a(t,n[o]._name+"."+e).set(l)}function Pt(t){return"angularaxis"===t._id}function jt(t,e){for(var r=e._rangebreaks.length,n=0;n<r;n++){var i=e._rangebreaks[n];if(t>=i.min&&t<i.max)return i.max}return t}function Nt(t){return-1!==(t.ticklabelposition||"").indexOf("inside")}function Bt(t,e){Nt(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}function Ut(t,e,r,n){var i,o="free"===t.anchor||void 0!==t.overlaying&&!1!==t.overlaying?t.overlaying:t._id;i=n?"right"===t.side?e:-e:e,o in r||(r[o]={}),t.side in r[o]||(r[o][t.side]=0),r[o][t.side]+=i}q.getTickFormat=function(t){var e,r,n,i,o,a,s,l;function c(t){return"string"!=typeof t?t:Number(t.replace("M",""))*k}function d(t,e){var r=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var n=r.indexOf(t.charAt(0)),i=r.indexOf(e.charAt(0));return n===i?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):n-i}return"number"==typeof t?1:-1}function u(t,e){var r=null===e[0],n=null===e[1],i=d(t,e[0])>=0,o=d(t,e[1])<=0;return(r||i)&&(n||o)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((n=t.tickformatstops[e]).enabled&&(i=t.dtick,a=void 0,void 0,void 0,a=c||function(t){return t},s=(o=n.dtickrange)[0],l=o[1],(!s&&"number"!=typeof s||a(s)<=a(i))&&(!l&&"number"!=typeof l||a(l)>=a(i)))){r=n;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((n=t.tickformatstops[e]).enabled&&u(t.dtick,n.dtickrange)){r=n;break}}return r?r.value:t.tickformat},q.getSubplots=function(t,e){var r=t._fullLayout._subplots,n=r.cartesian.concat(r.gl2d||[]),i=e?q.findSubplotsWithAxis(n,e):n;return i.sort((function(t,e){var r=t.substr(1).split("y"),n=e.substr(1).split("y");return r[0]===n[0]?+r[1]-+n[1]:+r[0]-+n[0]})),i},q.findSubplotsWithAxis=function(t,e){for(var r=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),n=[],i=0;i<t.length;i++){var o=t[i];r.test(o)&&n.push(o)}return n},q.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var r,i,o={_offset:0,_length:e.width,_id:""},a={_offset:0,_length:e.height,_id:""},s=q.list(t,"x",!0),l=q.list(t,"y",!0),c=[];for(r=0;r<s.length;r++)for(c.push({x:s[r],y:a}),i=0;i<l.length;i++)0===r&&c.push({x:o,y:l[i]}),c.push({x:s[r],y:l[i]});var d=e._clips.selectAll(".axesclip").data(c,(function(t){return t.x._id+t.y._id}));d.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(t){return"clip"+e._uid+t.x._id+t.y._id})).append("rect"),d.exit().remove(),d.each((function(t){n.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})}))}},q.draw=function(t,e,r){var n=t._fullLayout;"redraw"===e&&n._paper.selectAll("g.subplot").each((function(t){var e=t[0],r=n._plots[e];if(r){var i=r.xaxis,o=r.yaxis;r.xaxislayer.selectAll("."+i._id+"tick").remove(),r.yaxislayer.selectAll("."+o._id+"tick").remove(),r.xaxislayer.selectAll("."+i._id+"tick2").remove(),r.yaxislayer.selectAll("."+o._id+"tick2").remove(),r.xaxislayer.selectAll("."+i._id+"divider").remove(),r.yaxislayer.selectAll("."+o._id+"divider").remove(),r.minorGridlayer&&r.minorGridlayer.selectAll("path").remove(),r.gridlayer&&r.gridlayer.selectAll("path").remove(),r.zerolinelayer&&r.zerolinelayer.selectAll("path").remove(),r.zerolinelayerAbove&&r.zerolinelayerAbove.selectAll("path").remove(),n._infolayer.select(".g-"+i._id+"title").remove(),n._infolayer.select(".g-"+o._id+"title").remove()}}));var i=e&&"redraw"!==e?e:q.listIds(t),o=q.list(t).filter((function(t){return t.autoshift})).map((function(t){return t.overlaying}));i.map((function(e){var r=q.getFromId(t,e);if("sync"===r.tickmode&&r.overlaying){var n=i.findIndex((function(t){return t===r.overlaying}));n>=0&&i.unshift(i.splice(n,1).shift())}}));var a={false:{left:0,right:0}};return s.syncOrAsync(i.map((function(e){return function(){if(e){var n=q.getFromId(t,e);r||(r={}),r.axShifts=a,r.overlayingShiftedAx=o;var i=q.drawOne(t,n,r);return n._shiftPusher&&Ut(n,n._fullDepth||0,a,!0),n._r=n.range.slice(),n._rl=s.simpleMap(n._r,n.r2l),i}}})))},q.drawOne=function(t,e,r){var n,i,l,f=(r=r||{}).axShifts||{},p=r.overlayingShiftedAx||[];e.setScale();var m=t._fullLayout,g=e._id,b=g.charAt(0),v=q.counterLetter(g),y=m._plots[e._mainSubplot],x="above traces"===e.zerolinelayer;if(y){if(e._shiftPusher=e.autoshift||-1!==p.indexOf(e._id)||-1!==p.indexOf(e.overlaying),e._shiftPusher&"free"===e.anchor){var w=e.linewidth/2||0;"inside"===e.ticks&&(w+=e.ticklen),Ut(e,w,f,!0),Ut(e,e.shift||0,f,!1)}!0===r.skipTitle&&void 0!==e._shift||(e._shift=function(t,e){return t.autoshift?e[t.overlaying][t.side]:t.shift||0}(e,f));var _=y[b+"axislayer"],k=e._mainLinePosition,A=k+=e._shift,T=e._mainMirrorPosition,M=e._vals=q.calcTicks(e),S=[e.mirror,A,T].join("_");for(n=0;n<M.length;n++)M[n].axInfo=S;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var E={};if(e.visible){var C,z,L=q.makeTransTickFn(e),O=q.makeTransTickLabelFn(e),D="inside"===e.ticks,I="outside"===e.ticks;if("boundaries"===e.tickson){var F=function(t,e){var r,n=[],i=function(t,e){var r=t.xbnd[e];null!==r&&n.push(s.extendFlat({},t,{x:r}))};if(e.length){for(r=0;r<e.length;r++)i(e[r],0);i(e[r-1],1)}return n}(0,M);z=q.clipEnds(e,F),C=D?z:F}else z=q.clipEnds(e,M),C=D&&"period"!==e.ticklabelmode?z:M;var R,P=e._gridVals=z,j=function(t,e){var r,n,i=[],o=e.length&&e[e.length-1].x<e[0].x,a=function(t,e){var r=t.xbnd[e];null!==r&&i.push(s.extendFlat({},t,{x:r}))};if(t.showdividers&&e.length){for(r=0;r<e.length;r++){var l=e[r];l.text2!==n&&a(l,o?1:0),n=l.text2}a(e[r-1],o?0:1)}return i}(e,M);if(!m._hasOnlyLargeSploms){var N=e._subplotsWith,B={};for(n=0;n<N.length;n++){i=N[n];var U=(l=m._plots[i])[v+"axis"],$=U._mainAxis._id;if(!B[$]){B[$]=1;var Y="x"===b?"M0,"+U._offset+"v"+U._length:"M"+U._offset+",0h"+U._length;q.drawGrid(t,e,{vals:P,counterAxis:U,layer:l.gridlayer.select("."+g),minorLayer:l.minorGridlayer.select("."+g),path:Y,transFn:L}),q.drawZeroLine(t,e,{counterAxis:U,layer:x?l.zerolinelayerAbove:l.zerolinelayer,path:Y,transFn:L})}}}var Z=q.getTickSigns(e),X=q.getTickSigns(e,"minor");if(e.ticks||e.minor&&e.minor.ticks){var J,Q,K,tt,et=q.makeTickPath(e,A,Z[2]),rt=q.makeTickPath(e,A,X[2],{minor:!0});if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(J=q.makeTickPath(e,T,Z[3]),Q=q.makeTickPath(e,T,X[3],{minor:!0}),K=et+J,tt=rt+Q):(J="",Q="",K=et,tt=rt),e.showdividers&&I&&"boundaries"===e.tickson){var nt={};for(n=0;n<j.length;n++)nt[j[n].x]=1;R=function(t){return nt[t.x]?J:K}}else R=function(t){return t.minor?tt:K}}if(q.drawTicks(t,e,{vals:C,layer:_,path:R,transFn:L}),"allticks"===e.mirror){var it=Object.keys(e._linepositions||{});for(n=0;n<it.length;n++){i=it[n],l=m._plots[i];var ot=e._linepositions[i]||[],at=ot[0],st=ot[1],lt=ot[2],ct=q.makeTickPath(e,at,lt?Z[0]:X[0],{minor:lt})+q.makeTickPath(e,st,lt?Z[1]:X[1],{minor:lt});q.drawTicks(t,e,{vals:C,layer:l[b+"axislayer"],path:ct,transFn:L})}}var dt=[];if(dt.push((function(){return q.drawLabels(t,e,{vals:M,layer:_,plotinfo:l,transFn:O,labelFns:q.makeLabelFns(e,A)})})),"multicategory"===e.type){var ut={x:2,y:10}[b];dt.push((function(){var r={x:"height",y:"width"}[b],n=ft()[r]+ut+(e._tickAngles[g+"tick"]?e.tickfont.size*H:0);return q.drawLabels(t,e,{vals:Tt(e,M),layer:_,cls:g+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:L,labelFns:q.makeLabelFns(e,A+n*Z[4])})})),dt.push((function(){return e._depth=Z[4]*(ft("tick2")[e.side]-A),function(t,e,r){var n=e._id+"divider",i=r.vals,o=r.layer.selectAll("path."+n).data(i,St);o.exit().remove(),o.enter().insert("path",":first-child").classed(n,1).classed("crisp",1).call(u.stroke,e.dividercolor).style("stroke-width",h.crispRound(t,e.dividerwidth,1)+"px"),o.attr("transform",r.transFn).attr("d",r.path)}(t,e,{vals:j,layer:_,path:q.makeTickPath(e,A,Z[4],{len:e._depth}),transFn:L})}))}else e.title.hasOwnProperty("standoff")&&dt.push((function(){e._depth=Z[4]*(ft()[e.side]-A)}));var ht=a.getComponentMethod("rangeslider","isVisible")(e);return r.skipTitle||ht&&"bottom"===e.side||dt.push((function(){return function(t,e){var r,n=t._fullLayout,i=e._id,o=i.charAt(0),a=e.title.font.size,s=(e.title.text.match(c.BR_TAG_ALL)||[]).length;if(e.title.hasOwnProperty("standoff"))"bottom"===e.side||"right"===e.side?r=e._depth+e.title.standoff+a*G:"top"!==e.side&&"left"!==e.side||(r=e._depth+e.title.standoff+a*(V+s*H));else{var l=Nt(e);if("multicategory"===e.type)r=e._depth;else{var u=1.5*a;l&&(u=.5*a,"outside"===e.ticks&&(u+=e.ticklen)),r=10+u+(e.linewidth?e.linewidth-1:0)}l||(r+="x"===o?"top"===e.side?a*(e.showticklabels?1:0):a*(e.showticklabels?1.5:.5):"right"===e.side?a*(e.showticklabels?1:.5):a*(e.showticklabels?.5:0))}var f,p,m,g,b=q.getPxPosition(t,e);if("x"===o?(p=e._offset+e._length/2,m="top"===e.side?b-r:b+r):(m=e._offset+e._length/2,p="right"===e.side?b+r:b-r,f={rotate:"-90",offset:0}),"multicategory"!==e.type){var v=e._selections[e._id+"tick"];if(g={selection:v,side:e.side},v&&v.node()&&v.node().parentNode){var y=h.getTranslate(v.node().parentNode);g.offsetLeft=y.x,g.offsetTop=y.y}e.title.hasOwnProperty("standoff")&&(g.pad=0)}return e._titleStandoff=r,d.draw(t,i+"title",{propContainer:e,propName:e._name+".title.text",placeholder:n._dfltTitle[o],avoid:g,transform:f,attributes:{x:p,y:m,"text-anchor":"middle"}})}(t,e)})),dt.push((function(){var r,n,i,s,l=e.side.charAt(0),c=W[e.side].charAt(0),d=q.getPxPosition(t,e),u=I?e.ticklen:0;(e.automargin||ht||e._shiftPusher)&&("multicategory"===e.type?r=ft("tick2"):(r=ft(),"x"===b&&"b"===l&&(e._depth=Math.max(r.width>0?r.bottom-d:0,u))));var h=0,f=0;if(e._shiftPusher&&(h=Math.max(u,r.height>0?"l"===l?d-r.left:r.right-d:0),e.title.text!==m._dfltTitle[b]&&(f=(e._titleStandoff||0)+(e._titleScoot||0),"l"===l&&(f+=Et(e))),e._fullDepth=Math.max(h,f)),e.automargin){n={x:0,y:0,r:0,l:0,t:0,b:0};var p=[0,1],g="number"==typeof e._shift?e._shift:0;if("x"===b){if("b"===l?n[l]=e._depth:(n[l]=e._depth=Math.max(r.width>0?d-r.top:0,u),p.reverse()),r.width>0){var y=r.right-(e._offset+e._length);y>0&&(n.xr=1,n.r=y);var x=e._offset-r.left;x>0&&(n.xl=0,n.l=x)}}else if("l"===l?(e._depth=Math.max(r.height>0?d-r.left:0,u),n[l]=e._depth-g):(e._depth=Math.max(r.height>0?r.right-d:0,u),n[l]=e._depth+g,p.reverse()),r.height>0){var w=r.bottom-(e._offset+e._length);w>0&&(n.yb=0,n.b=w);var _=e._offset-r.top;_>0&&(n.yt=1,n.t=_)}n[v]="free"===e.anchor?e.position:e._anchorAxis.domain[p[0]],e.title.text!==m._dfltTitle[b]&&(n[l]+=Et(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[c]=e.linewidth,e.mirror&&!0!==e.mirror&&(i[c]+=u),!0===e.mirror||"ticks"===e.mirror?i[v]=e._anchorAxis.domain[p[1]]:"all"!==e.mirror&&"allticks"!==e.mirror||(i[v]=[e._counterDomainMin,e._counterDomainMax][p[1]]))}ht&&(s=a.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),"string"==typeof e.automargin&&(At(n,e.automargin),At(i,e.automargin)),o.autoMargin(t,Lt(e),n),o.autoMargin(t,Ot(e),i),o.autoMargin(t,Dt(e),s)})),s.syncOrAsync(dt)}}function ft(t){var r=g+(t||"tick");return E[r]||(E[r]=function(t,e,r){var n,i,o,a;if(t._selections[e].size())n=1/0,i=-1/0,o=1/0,a=-1/0,t._selections[e].each((function(){var t=zt(this);if("none"!==t.node().style.display){var e=h.bBox(t.node().parentNode);n=Math.min(n,e.top),i=Math.max(i,e.bottom),o=Math.min(o,e.left),a=Math.max(a,e.right)}}));else{var s=q.makeLabelFns(t,r);n=i=s.yFn({dx:0,dy:0,fontSize:0}),o=a=s.xFn({dx:0,dy:0,fontSize:0})}return{top:n,bottom:i,left:o,right:a,height:i-n,width:a-o}}(e,r,A)),E[r]}},q.getTickSigns=function(t,e){var r=t._id.charAt(0),n={x:"top",y:"right"}[r],i=t.side===n?1:-1,o=[-1,1,i,-i];return"inside"!==(e?(t.minor||{}).ticks:t.ticks)==("x"===r)&&(o=o.map((function(t){return-t}))),t.side&&o.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),o},q.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return l(t._offset+t.l2p(e.x),0)}:function(e){return l(0,t._offset+t.l2p(e.x))}},q.makeTransTickLabelFn=function(t){var e=function(t){var e=t.ticklabelposition||"",r=t.tickson||"",n=function(t){return-1!==e.indexOf(t)},i=n("top"),o=n("left"),a=n("right"),s=n("bottom"),l=n("inside"),c="boundaries"!==r&&(s||o||i||a);if(!c&&!l)return[0,0];var d=t.side,u=c?(t.tickwidth||0)/2:0,h=3,f=t.tickfont?t.tickfont.size:12;return(s||i)&&(u+=f*G,h+=(t.linewidth||0)/2),(o||a)&&(u+=(t.linewidth||0)/2,h+=3),l&&"top"===d&&(h-=f*(1-G)),(o||i)&&(u=-u),"bottom"!==d&&"right"!==d||(h=-h),[c?u:0,l?h:0]}(t),r=t.ticklabelshift||0,n=t.ticklabelstandoff||0,i=e[0],o=e[1],a=t.range[0]>t.range[1],s=t.ticklabelposition&&-1!==t.ticklabelposition.indexOf("inside"),c=!s;if(r&&(r*=a?-1:1),n){var d=t.side;n*=s&&("top"===d||"left"===d)||c&&("bottom"===d||"right"===d)?1:-1}return"x"===t._id.charAt(0)?function(e){return l(i+t._offset+t.l2p(Mt(e))+r,o+n)}:function(e){return l(o+n,i+t._offset+t.l2p(Mt(e))+r)}},q.makeTickPath=function(t,e,r,n){n||(n={});var i=n.minor;if(i&&!t.minor)return"";var o=void 0!==n.len?n.len:i?t.minor.ticklen:t.ticklen,a=t._id.charAt(0),s=(t.linewidth||1)/2;return"x"===a?"M0,"+(e+s*r)+"v"+o*r:"M"+(e+s*r)+",0h"+o*r},q.makeLabelFns=function(t,e,r){var n=t.ticklabelposition||"",o=t.tickson||"",a=function(t){return-1!==n.indexOf(t)},l=a("top"),c=a("left"),d=a("right"),u=a("bottom"),h="boundaries"!==o&&(u||c||l||d),f=a("inside"),p="inside"===n&&"inside"===t.ticks||!f&&"outside"===t.ticks&&"boundaries"!==o,m=0,g=0,b=p?t.ticklen:0;if(f?b*=-1:h&&(b=0),p&&(m+=b,r)){var v=s.deg2rad(r);m=b*Math.cos(v)+1,g=b*Math.sin(v)}t.showticklabels&&(p||t.showline)&&(m+=.2*t.tickfont.size);var y,x,w,_,k,A={labelStandoff:m+=(t.linewidth||1)/2*(f?-1:1),labelShift:g},T=0,M=t.side,S=t._id.charAt(0),E=t.tickangle;if("x"===S)_=(k=!f&&"bottom"===M||f&&"top"===M)?1:-1,f&&(_*=-1),y=g*_,x=e+m*_,w=k?1:-.2,90===Math.abs(E)&&(f?w+=V:w=-90===E&&"bottom"===M?G:90===E&&"top"===M?V:.5,T=V/2*(E/90)),A.xFn=function(t){return t.dx+y+T*t.fontSize},A.yFn=function(t){return t.dy+x+t.fontSize*w},A.anchorFn=function(t,e){if(h){if(c)return"end";if(d)return"start"}return i(e)&&0!==e&&180!==e?e*_<0!==f?"end":"start":"middle"},A.heightFn=function(e,r,n){return r<-60||r>60?-.5*n:"top"===t.side!==f?-n:0};else if("y"===S){if(_=(k=!f&&"left"===M||f&&"right"===M)?1:-1,f&&(_*=-1),y=m,x=g*_,w=0,f||90!==Math.abs(E)||(w=-90===E&&"left"===M||90===E&&"right"===M?G:.5),f){var C=i(E)?+E:0;if(0!==C){var z=s.deg2rad(C);T=Math.abs(Math.sin(z))*G*_,w=0}}A.xFn=function(t){return t.dx+e-(y+t.fontSize*w)*_+T*t.fontSize},A.yFn=function(t){return t.dy+x+t.fontSize*V},A.anchorFn=function(t,e){return i(e)&&90===Math.abs(e)?"middle":k?"end":"start"},A.heightFn=function(e,r,n){return"right"===t.side&&(r*=-1),r<-30?-n:r<30?-.5*n:0}}return A},q.drawTicks=function(t,e,r){r=r||{};var i=e._id+"tick",o=[].concat(e.minor&&e.minor.ticks?r.vals.filter((function(t){return t.minor&&!t.noTick})):[]).concat(e.ticks?r.vals.filter((function(t){return!t.minor&&!t.noTick})):[]),a=r.layer.selectAll("path."+i).data(o,St);a.exit().remove(),a.enter().append("path").classed(i,1).classed("ticks",1).classed("crisp",!1!==r.crisp).each((function(t){return u.stroke(n.select(this),t.minor?e.minor.tickcolor:e.tickcolor)})).style("stroke-width",(function(r){return h.crispRound(t,r.minor?e.minor.tickwidth:e.tickwidth,1)+"px"})).attr("d",r.path).style("display",null),Bt(e,[j]),a.attr("transform",r.transFn)},q.drawGrid=function(t,e,r){if(r=r||{},"sync"!==e.tickmode){var i=e._id+"grid",o=e.minor&&e.minor.showgrid,a=o?r.vals.filter((function(t){return t.minor})):[],s=e.showgrid?r.vals.filter((function(t){return!t.minor})):[],l=r.counterAxis;if(l&&q.shouldShowZeroLine(t,e,l))for(var c="array"===e.tickmode,d=0;d<s.length;d++){var f=s[d].x;if(c?!f:Math.abs(f)<e.dtick/100){if(s=s.slice(0,d).concat(s.slice(d+1)),!c)break;d--}}e._gw=h.crispRound(t,e.gridwidth,1);for(var p=o?h.crispRound(t,e.minor.gridwidth,1):0,m=r.layer,g=r.minorLayer,b=1;b>=0;b--){var v=b?m:g;if(v){var y=v.selectAll("path."+i).data(b?s:a,St);y.exit().remove(),y.enter().append("path").classed(i,1).classed("crisp",!1!==r.crisp),y.attr("transform",r.transFn).attr("d",r.path).each((function(t){return u.stroke(n.select(this),t.minor?e.minor.gridcolor:e.gridcolor||"#ddd")})).style("stroke-dasharray",(function(t){return h.dashStyle(t.minor?e.minor.griddash:e.griddash,t.minor?e.minor.gridwidth:e.gridwidth)})).style("stroke-width",(function(t){return(t.minor?p:e._gw)+"px"})).style("display",null),"function"==typeof r.path&&y.attr("d",r.path)}}Bt(e,[R,P])}},q.drawZeroLine=function(t,e,r){r=r||r;var n=e._id+"zl",i=q.shouldShowZeroLine(t,e,r.counterAxis),o=r.layer.selectAll("path."+n).data(i?[{x:0,id:e._id}]:[]);o.exit().remove(),o.enter().append("path").classed(n,1).classed("zl",1).classed("crisp",!1!==r.crisp).each((function(){r.layer.selectAll("path").sort((function(t,e){return Z(t.id,e.id)}))})),o.attr("transform",r.transFn).attr("d",r.path).call(u.stroke,e.zerolinecolor||u.defaultLine).style("stroke-width",h.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),Bt(e,[F])},q.drawLabels=function(t,e,r){r=r||{};var o=t._fullLayout,a=e._id,d="above traces"===e.zerolinelayer,u=r.cls||a+"tick",f=r.vals.filter((function(t){return t.text})),p=r.labelFns,m=r.secondary?0:e.tickangle,g=(e._prevTickAngles||{})[u],b=r.layer.selectAll("g."+u).data(e.showticklabels?f:[],St),v=[];function y(t,o){t.each((function(t){var a=n.select(this),s=a.select(".text-math-group"),d=p.anchorFn(t,o),u=r.transFn.call(a.node(),t)+(i(o)&&0!=+o?" rotate("+o+","+p.xFn(t)+","+(p.yFn(t)-t.fontSize/2)+")":""),f=c.lineCount(a),m=H*t.fontSize,g=p.heightFn(t,i(o)?+o:0,(f-1)*m);if(g&&(u+=l(0,g)),s.empty()){var b=a.select("text");b.attr({transform:u,"text-anchor":d}),b.style("display",null),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var v=h.bBox(s.node()).width*{end:-.5,start:.5}[d];s.attr("transform",u+l(v,0))}}))}b.enter().append("g").classed(u,1).append("text").attr("text-anchor","middle").each((function(e){var r=n.select(this),i=t._promises.length;r.call(c.positionText,p.xFn(e),p.yFn(e)).call(h.font,{family:e.font,size:e.fontSize,color:e.fontColor,weight:e.fontWeight,style:e.fontStyle,variant:e.fontVariant,textcase:e.fontTextcase,lineposition:e.fontLineposition,shadow:e.fontShadow}).text(e.text).call(c.convertToTspans,t),t._promises[i]?v.push(t._promises.pop().then((function(){y(r,m)}))):y(r,m)})),Bt(e,[N]),b.exit().remove(),r.repositionOnUpdate&&b.each((function(t){n.select(this).select("text").call(c.positionText,p.xFn(t),p.yFn(t))})),e._adjustTickLabelsOverflow=function(){var r=e.ticklabeloverflow;if(r&&"allow"!==r){var i=-1!==r.indexOf("hide"),a="x"===e._id.charAt(0),l=0,c=a?t._fullLayout.width:t._fullLayout.height;if(-1!==r.indexOf("domain")){var d=s.simpleMap(e.range,e.r2l);l=e.l2p(d[0])+e._offset,c=e.l2p(d[1])+e._offset}var u=Math.min(l,c),f=Math.max(l,c),p=e.side,m=1/0,g=-1/0;for(var v in b.each((function(t){var r=n.select(this);if(r.select(".text-math-group").empty()){var o=h.bBox(r.node()),s=0;a?(o.right>f||o.left<u)&&(s=1):(o.bottom>f||o.top+(e.tickangle?0:t.fontSize/4)<u)&&(s=1);var l=r.select("text");s?i&&l.style("display","none"):"none"!==l.node().style.display&&(l.style("display",null),m="bottom"===p||"right"===p?Math.min(m,a?o.top:o.left):-1/0,g="top"===p||"left"===p?Math.max(g,a?o.bottom:o.right):1/0)}})),o._plots){var y=o._plots[v];if(e._id===y.xaxis._id||e._id===y.yaxis._id){var x=a?y.yaxis:y.xaxis;x&&(x["_visibleLabelMin_"+e._id]=m,x["_visibleLabelMax_"+e._id]=g)}}}},e._hideCounterAxisInsideTickLabels=function(t){var r="x"===e._id.charAt(0),i=[];for(var a in o._plots){var s=o._plots[a];e._id!==s.xaxis._id&&e._id!==s.yaxis._id||i.push(r?s.yaxis:s.xaxis)}i.forEach((function(r,i){r&&Nt(r)&&(t||[F,P,R,j,N]).forEach((function(t){var a="tick"===t.K&&"text"===t.L&&"period"===e.ticklabelmode,s=o._plots[e._mainSubplot];(t.K===F.K?(d?s.zerolinelayerAbove:s.zerolinelayer).selectAll("."+e._id+"zl"):t.K===P.K?s.minorGridlayer.selectAll("."+e._id):t.K===R.K?s.gridlayer.selectAll("."+e._id):s[e._id.charAt(0)+"axislayer"]).each((function(){var o=n.select(this);t.L&&(o=o.selectAll(t.L)),o.each((function(o){var s=e.l2p(a?Mt(o):o.x)+e._offset,l=n.select(this);s<e["_visibleLabelMax_"+r._id]&&s>e["_visibleLabelMin_"+r._id]?l.style("display","none"):"tick"!==t.K||i||"none"===l.node().style.display||l.style("display",null)}))}))}))}))},y(b,g+1?g:m);var x=null;e._selections&&(e._selections[u]=b);var w=[function(){return v.length&&Promise.all(v)}];e.automargin&&o._redrawFromAutoMarginCount&&90===g?(x=g,w.push((function(){y(b,g)}))):w.push((function(){if(y(b,m),f.length&&e.autotickangles&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){x=e.autotickangles[0];var t,n=0,i=[],o=1;b.each((function(t){n=Math.max(n,t.fontSize);var r=e.l2p(t.x),a=zt(this),s=h.bBox(a.node());o=Math.max(o,c.lineCount(a)),i.push({top:0,bottom:10,height:10,left:r-s.width/2,right:r+s.width/2+2,width:s.width+2})}));var a=("boundaries"===e.tickson||e.showdividers)&&!r.secondary,l=f.length,d=Math.abs((f[l-1].x-f[0].x)*e._m)/(l-1),u=a?d/2:d,p=a?e.ticklen:1.25*n*o,g=u/Math.sqrt(Math.pow(u,2)+Math.pow(p,2)),v=e.autotickangles.map((function(t){return t*Math.PI/180})),w=v.find((function(t){return Math.abs(Math.cos(t))<=g}));void 0===w&&(w=v.reduce((function(t,e){return Math.abs(Math.cos(t))<Math.abs(Math.cos(e))?t:e}),v[0]));var _=w*(180/Math.PI);if(a){var k=2;for(e.ticks&&(k+=e.tickwidth/2),t=0;t<i.length;t++){var A=f[t].xbnd,T=i[t];if(null!==A[0]&&T.left-e.l2p(A[0])<k||null!==A[1]&&e.l2p(A[1])-T.right<k){x=_;break}}}else{var M=e.ticklabelposition||"",S=e.tickson||"",E=function(t){return-1!==M.indexOf(t)},C=E("top"),z=E("left"),L=E("right"),O=E("bottom"),D="boundaries"!==S&&(O||z||C||L)?(e.tickwidth||0)+6:0;for(t=0;t<i.length-1;t++)if(s.bBoxIntersect(i[t],i[t+1],D)){x=_;break}}x&&y(b,x)}})),e._tickAngles&&w.push((function(){e._tickAngles[u]=null===x?i(m)?m:0:x}));var _=function(){var t=0,r=0;return b.each((function(n,i){var o,a=zt(this);a.select(".text-math-group").empty()&&(e._vals[i]&&(o=e._vals[i].bb||h.bBox(a.node()),e._vals[i].bb=o),t=Math.max(t,o.width),r=Math.max(r,o.height))})),{labelsMaxW:t,labelsMaxH:r}},k=e._anchorAxis;if(k&&(k.autorange||k.insiderange)&&Nt(e)&&!X(o,e._id)&&(o._insideTickLabelsUpdaterange||(o._insideTickLabelsUpdaterange={}),k.autorange&&(o._insideTickLabelsUpdaterange[k._name+".autorange"]=k.autorange,w.push(_)),k.insiderange)){var A=_(),T="y"===e._id.charAt(0)?A.labelsMaxW:A.labelsMaxH;T+=6,"inside"===e.ticklabelposition&&(T+=e.ticklen||0);var M="right"===e.side||"top"===e.side?1:-1,S=1===M?1:0,E=1===M?0:1,C=[];C[E]=k.range[E];var z=k.range,L=k.r2p(z[S]),O=k.r2p(z[E]),D=o._insideTickLabelsUpdaterange[k._name+".range"];if(D){var I=k.r2p(D[S]),B=k.r2p(D[E]),U=M*("y"===e._id.charAt(0)?1:-1);U*L<U*I&&(L=I,C[S]=z[S]=D[S]),U*O>U*B&&(O=B,C[E]=z[E]=D[E])}var V=Math.abs(O-L);V-T>0?T*=1+T/(V-=T):T=0,"y"!==e._id.charAt(0)&&(T=-T),C[S]=k.p2r(k.r2p(z[S])+M*T),"min"===k.autorange||"max reversed"===k.autorange?(C[0]=null,k._rangeInitial0=void 0,k._rangeInitial1=void 0):"max"!==k.autorange&&"min reversed"!==k.autorange||(C[1]=null,k._rangeInitial0=void 0,k._rangeInitial1=void 0),o._insideTickLabelsUpdaterange[k._name+".range"]=C}var G=s.syncOrAsync(w);return G&&G.then&&t._promises.push(G),G},q.getPxPosition=function(t,e){var r,n=t._fullLayout._size,i=e._id.charAt(0),o=e.side;return"free"!==e.anchor?r=e._anchorAxis:"x"===i?r={_offset:n.t+(1-(e.position||0))*n.h,_length:0}:"y"===i&&(r={_offset:n.l+(e.position||0)*n.w+e._shift,_length:0}),"top"===o||"left"===o?r._offset:"bottom"===o||"right"===o?r._offset+r._length:void 0},q.shouldShowZeroLine=function(t,e,r){var n=s.simpleMap(e.range,e.r2l);return n[0]*n[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===I)&&(Ct(e,0)||!function(t,e,r,n){var i=r._mainAxis;if(i){var o=t._fullLayout,a=e._id.charAt(0),s=q.counterLetter(e._id),l=e._offset+(Math.abs(n[0])<Math.abs(n[1])==("x"===a)?0:e._length),c=o._plots[r._mainSubplot];if(!(c.mainplotinfo||c).overlays.length)return f(r);for(var d=q.list(t,s),u=0;u<d.length;u++){var h=d[u];if(h._mainAxis===i&&f(h))return!0}}function f(t){if(!t.showline||!t.linewidth)return!1;var r=Math.max((t.linewidth+e.zerolinewidth)/2,1);function n(t){return"number"==typeof t&&Math.abs(t-l)<r}if(n(t._mainLinePosition)||n(t._mainMirrorPosition))return!0;var i=t._linepositions||{};for(var o in i)if(n(i[o][0])||n(i[o][1]))return!0}}(t,e,r,n)||function(t,e){for(var r=t._fullData,n=e._mainSubplot,i=e._id.charAt(0),o=0;o<r.length;o++){var s=r[o];if(!0===s.visible&&s.xaxis+s.yaxis===n){if(a.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}(t,e))},q.clipEnds=function(t,e){return e.filter((function(e){return Ct(t,e.x)}))},q.allowAutoMargin=function(t){for(var e=q.list(t,"",!0),r=0;r<e.length;r++){var n=e[r];n.automargin&&(o.allowAutoMargin(t,Lt(n)),n.mirror&&o.allowAutoMargin(t,Ot(n))),a.getComponentMethod("rangeslider","isVisible")(n)&&o.allowAutoMargin(t,Dt(n))}},q.swap=function(t,e){for(var r=function(t,e){var r,n,i=[];for(r=0;r<e.length;r++){var o=[],a=t._fullData[e[r]].xaxis,s=t._fullData[e[r]].yaxis;if(a&&s){for(n=0;n<i.length;n++)-1===i[n].x.indexOf(a)&&-1===i[n].y.indexOf(s)||o.push(n);if(o.length){var l,c=i[o[0]];if(o.length>1)for(n=1;n<o.length;n++)l=i[o[n]],It(c.x,l.x),It(c.y,l.y);It(c.x,[a]),It(c.y,[s])}else i.push({x:[a],y:[s]})}}return i}(t,e),n=0;n<r.length;n++)Ft(t,r[n].x,r[n].y)}},75932:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},76023:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(35677),a=r(35486),s=r(98368);function l(t,e,r,o){function l(r,i){return n.coerce(t,e,s,r,i)}function c(t){var n=t+"axis",o={_fullLayout:{}};return o._fullLayout[n]=r[n],i.coercePosition(e,o,l,t,t,.5)}l("visible")&&(a(t,e,o.fullLayout,l),c("x"),c("y"),c("z"),n.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",l("ax",-10),l("ay",-30),n.noneOrAll(t,e,["ax","ay"])))}t.exports=function(t,e,r){o(t,e,{name:"annotations",handleItemDefaults:l,fullLayout:r.fullLayout})}},76292:t=>{"use strict";t.exports=function(t,e){(t.attr("class")||"").split(" ").forEach((function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)})),e&&t.classed("cursor-"+e,!0)}},76324:(t,e)=>{"use strict";var r={};function n(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}e.throttle=function(t,e,i){var o=r[t],a=Date.now();if(!o){for(var s in r)r[s].ts<a-6e4&&delete r[s];o=r[t]={ts:0,timer:null}}function l(){i(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}n(o),a>o.ts+e?l():o.timer=setTimeout((function(){l(),o.timer=null}),e)},e.done=function(t){var e=r[t];return e&&e.timer?new Promise((function(t){var r=e.onDone;e.onDone=function(){r&&r(),t(),e.onDone=null}})):Promise.resolve()},e.clear=function(t){if(t)n(r[t]),delete r[t];else for(var i in r)e.clear(i)}},76699:(t,e,r)=>{"use strict";var n=r(86130),i=r(75058),o=r(98260).extendFlat,a=r(62309).overrideAll;t.exports=a({orientation:{valType:"enumerated",values:["h","v"],dflt:"v",description:"Sets the orientation of the colorbar."},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",description:["Sets the x position with respect to `xref` of the color bar (in plot fraction).","When `xref` is *paper*, defaults to 1.02 when `orientation` is *v* and","0.5 when `orientation` is *h*.","When `xref` is *container*, defaults to *1* when `orientation` is *v* and","0.5 when `orientation` is *h*.","Must be between *0* and *1* if `xref` is *container*","and between *-2* and *3* if `xref` is *paper*."].join(" ")},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar.","Defaults to *left* when `orientation` is *v* and","*center* when `orientation` is *h*."].join(" ")},xpad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",description:["Sets the y position with respect to `yref` of the color bar (in plot fraction).","When `yref` is *paper*, defaults to 0.5 when `orientation` is *v* and","1.02 when `orientation` is *h*.","When `yref` is *container*, defaults to 0.5 when `orientation` is *v* and","1 when `orientation` is *h*.","Must be between *0* and *1* if `yref` is *container*","and between *-2* and *3* if `yref` is *paper*."].join(" ")},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar.","Defaults to *middle* when `orientation` is *v* and","*bottom* when `orientation` is *h*."].join(" ")},ypad:{valType:"number",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:n.minor.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:o({},n.ticks,{dflt:""}),ticklabeloverflow:o({},n.ticklabeloverflow,{description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","In other cases the default is *hide past div*."].join(" ")}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",description:["Determines where tick labels are drawn relative to the ticks.","Left and right options are used when `orientation` is *h*,","top and bottom when `orientation` is *v*."].join(" ")},ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,tickfont:i({description:"Sets the color bar's tick label font"}),tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,minexponent:n.minexponent,showexponent:n.showexponent,title:{text:{valType:"string",description:"Sets the title of the color bar."},font:i({description:"Sets this color bar's title font."}),side:{valType:"enumerated",values:["right","top","bottom"],description:["Determines the location of color bar's title","with respect to the color bar.","Defaults to *top* when `orientation` if *v* and ","defaults to *right* when `orientation` if *h*."].join(" ")}}},"colorbars","from-root")},76743:t=>{t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=n+n,l=i+i,c=o+o,d=n*s,u=n*l,h=n*c,f=i*l,p=i*c,m=o*c,g=a*s,b=a*l,v=a*c;return t[0]=1-(f+m),t[1]=u+v,t[2]=h-b,t[3]=0,t[4]=u-v,t[5]=1-(d+m),t[6]=p+g,t[7]=0,t[8]=h+b,t[9]=p-g,t[10]=1-(d+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},76787:(t,e,r)=>{"use strict";var n=r(677),i=r(4673).styleTextSelection;t.exports=function(t,e){var r=t.cd,o=t.xaxis,a=t.yaxis,s=[],l=r[0].trace,c=r[0].t,d=l._length,u=c.x,h=c.y,f=c._scene,p=c.index;if(!f)return s;var m=n.hasText(l),g=n.hasMarkers(l),b=!g&&!m;if(!0!==l.visible||b)return s;var v=[],y=[];if(!1!==e&&!e.degenerate)for(var x=0;x<d;x++)e.contains([c.xpx[x],c.ypx[x]],!1,x,t)?(v.push(x),s.push({pointNumber:x,x:o.c2d(u[x]),y:a.c2d(h[x])})):y.push(x);if(g){var w=f.scatter2d;if(v.length||y.length){if(!f.selectBatch[p].length&&!f.unselectBatch[p].length){var _=new Array(f.count);_[p]=f.markerUnselectedOptions[p],w.update.apply(w,_)}}else{var k=new Array(f.count);k[p]=f.markerOptions[p],w.update.apply(w,k)}}return f.selectBatch[p]=v,f.unselectBatch[p]=y,m&&i(r),s}},76814:t=>{"use strict";t.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},76927:(t,e,r)=>{"use strict";var n=r(75058),i=r(84226),o=(0,r(46121).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")});t.exports={visible:{valType:"boolean",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:n({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},77035:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},77061:(t,e,r)=>{"use strict";var n=r(91208),i=r(75058),o=r(21197),a=r(46121).templatedArray,s=r(53644);function l(t){return["In order for absolute positioning of the arrow to work, *a"+t+"ref* must be exactly the same as *"+t+"ref*, otherwise *a"+t+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+t+"ref* can be set to *pixel*,","in which case the *a"+t+"* value is specified in pixels","relative to *"+t+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function c(t,e,r){return["Sets the",t,"component of the arrow tail about the arrow head.","If `a"+t+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",r,"to",e,"("+e,"to",r+").","If `a"+t+"ref` is not `pixel` and is exactly the same as `"+t+"ref`,","this is an absolute value on that axis,","like `"+t+"`, specified in the same coordinates as `"+t+"ref`."].join(" ")}t.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (`<br>`), bold (`<b></b>`), italics (`<i></i>`),","hyperlinks (`<a href='...'></a>`). Tags `<em>`, `<sup>`,","`<sub>`, `<s>`, `<u>`, and `<span>` are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",editType:"calc+arraydraw",description:[c("x","left","right")].join(" ")},ay:{valType:"any",editType:"calc+arraydraw",description:[c("y","top","bottom")].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",s.axisRefDescription("x","left","right"),l("x")].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",s.axisRefDescription("y","bottom","top"),l("y")].join(" ")},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc",description:["Sets the annotation's x coordinate axis.",s.axisRefDescription("x","left","right")].join(" ")},x:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc",description:["Sets the annotation's y coordinate axis.",s.axisRefDescription("y","bottom","top")].join(" ")},y:{valType:"any",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:i({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc"})},77064:(t,e,r)=>{"use strict";var n=r(7370),i=r(77622),o=r(34463),a=r(25059),s=r(12822),l=s.isArrayOrTypedArray,c=r(40666),d=r(99246),u=r(25069).formatColor,h=r(677),f=r(43710),p=r(91886),m=r(49538),g=r(11891).DESELECTDIM,b={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},v=r(66811).appendArrayPointValue;function y(t,e){var r,i=t._fullLayout,o=e._length,a=e.textfont,c=e.textposition,d=l(c)?c:[c],u=a.color,h=a.size,f=a.family,p=a.weight,m=a.style,g=a.variant,b={},y=t._context.plotGlPixelRatio,w=e.texttemplate;if(w){b.text=[];var _=i._d3locale,k=Array.isArray(w),A=k?Math.min(w.length,o):o,T=k?function(t){return w[t]}:function(){return w};for(r=0;r<A;r++){var M={i:r},S=e._module.formatLabels(M,e,i),E={};v(E,e,r),b.text.push(s.texttemplateString({data:[E,M,e._meta],fallback:e.texttemplatefallback,labels:S,locale:_,template:T(r)}))}}else l(e.text)&&e.text.length<o?b.text=e.text.slice():b.text=e.text;if(l(b.text))for(r=b.text.length;r<o;r++)b.text[r]="";for(b.opacity=e.opacity,b.font={},b.align=[],b.baseline=[],r=0;r<d.length;r++){var C=d[r].split(/\s+/);switch(C[1]){case"left":b.align.push("right");break;case"right":b.align.push("left");break;default:b.align.push(C[1])}switch(C[0]){case"top":b.baseline.push("bottom");break;case"bottom":b.baseline.push("top");break;default:b.baseline.push(C[0])}}if(l(u))for(b.color=new Array(o),r=0;r<o;r++)b.color[r]=u[r];else b.color=u;if(l(h)||Array.isArray(f)||l(p)||Array.isArray(m)||Array.isArray(g))for(b.font=new Array(o),r=0;r<o;r++){var z=b.font[r]={};z.size=(s.isTypedArray(h)?h[r]:l(h)?n(h[r])?h[r]:0:h)*y,z.family=Array.isArray(f)?f[r]:f,z.weight=x(l(p)?p[r]:p),z.style=Array.isArray(m)?m[r]:m,z.variant=Array.isArray(g)?g[r]:g}else b.font={size:h*y,family:f,weight:x(p),style:m,variant:g};return b}function x(t){return t<=1e3?t>500?"bold":"normal":t}function w(t,e){var r,n,i=e._length,a=e.marker,s={},c=l(a.symbol),d=l(a.angle),h=l(a.color),m=l(a.line.color),g=l(a.opacity),b=l(a.size),v=l(a.line.width);if(c||(n=p.isOpenSymbol(a.symbol)),c||h||m||g||d){s.symbols=new Array(i),s.angles=new Array(i),s.colors=new Array(i),s.borderColors=new Array(i);var y=a.symbol,x=a.angle,w=u(a,a.opacity,i),_=u(a.line,a.opacity,i);if(!l(_[0])){var k=_;for(_=Array(i),r=0;r<i;r++)_[r]=k}if(!l(w[0])){var A=w;for(w=Array(i),r=0;r<i;r++)w[r]=A}if(!l(y)){var T=y;for(y=Array(i),r=0;r<i;r++)y[r]=T}if(!l(x)){var M=x;for(x=Array(i),r=0;r<i;r++)x[r]=M}for(s.symbols=y,s.angles=x,s.colors=w,s.borderColors=_,r=0;r<i;r++)c&&(n=p.isOpenSymbol(a.symbol[r])),n&&(_[r]=w[r].slice(),w[r]=w[r].slice(),w[r][3]=0);for(s.opacity=e.opacity,s.markers=new Array(i),r=0;r<i;r++)s.markers[r]=z({mx:s.symbols[r],ma:s.angles[r]},e)}else n?(s.color=o(a.color,"uint8"),s.color[3]=0,s.borderColor=o(a.color,"uint8")):(s.color=o(a.color,"uint8"),s.borderColor=o(a.line.color,"uint8")),s.opacity=e.opacity*a.opacity,s.marker=z({mx:a.symbol,ma:a.angle},e);var S,E=f(e,1);if(b||v){var C,L=s.sizes=new Array(i),O=s.borderSizes=new Array(i),D=0;if(b){for(r=0;r<i;r++)L[r]=E(a.size[r]),D+=L[r];C=D/i}else for(S=E(a.size),r=0;r<i;r++)L[r]=S;if(v)for(r=0;r<i;r++)O[r]=a.line.width[r];else for(S=a.line.width,r=0;r<i;r++)O[r]=S;s.sizeAvg=C}else s.size=E(a&&a.size||10),s.borderSizes=E(a.line.width);return s}function _(t,e,r){var n=e.marker,i={};return r?(r.marker&&r.marker.symbol?i=w(0,s.extendFlat({},n,r.marker)):r.marker&&(r.marker.size&&(i.size=r.marker.size),r.marker.color&&(i.colors=r.marker.color),void 0!==r.marker.opacity&&(i.opacity=r.marker.opacity)),i):i}function k(t,e,r){var n={};if(!r)return n;if(r.textfont){var i={opacity:1,text:e.text,texttemplate:e.texttemplate,textposition:e.textposition,textfont:s.extendFlat({},e.textfont)};r.textfont&&s.extendFlat(i.textfont,r.textfont),n=y(t,i)}return n}function A(t,e,r){var n={capSize:2*e.width*r,lineWidth:e.thickness*r,color:e.color};return e.copy_ystyle&&(n=t.error_y),n}var T=m.SYMBOL_SDF_SIZE,M=m.SYMBOL_SIZE,S=m.SYMBOL_STROKE,E={},C=c.symbolFuncs[0](.05*M);function z(t,e){var r,n,o=t.mx;if("circle"===o)return null;var a=c.symbolNumber(o),s=c.symbolFuncs[a%100],l=!!c.symbolNoDot[a%100],d=!!c.symbolNoFill[a%100],u=p.isDotSymbol(o);if(t.ma&&(o+="_"+t.ma),E[o])return E[o];var h=c.getMarkerAngle(t,e);return r=u&&!l?s(1.1*M,h)+C:s(M,h),n=i(r,{w:T,h:T,viewBox:[-M,-M,M,M],stroke:d?S:-S}),E[o]=n,n||null}t.exports={style:function(t,e){var r,n={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},i=t._context.plotGlPixelRatio;if(!0!==e.visible)return n;if(h.hasText(e)&&(n.text=y(t,e),n.textSel=k(t,e,e.selected),n.textUnsel=k(t,e,e.unselected)),h.hasMarkers(e)&&(n.marker=w(0,e),n.markerSel=_(0,e,e.selected),n.markerUnsel=_(0,e,e.unselected),!e.unselected&&l(e.marker.opacity))){var o=e.marker.opacity;for(n.markerUnsel.opacity=new Array(o.length),r=0;r<o.length;r++)n.markerUnsel.opacity[r]=g*o[r]}if(h.hasLines(e)){n.line={overlay:!0,thickness:e.line.width*i,color:e.line.color,opacity:e.opacity};var a=(m.DASHES[e.line.dash]||[1]).slice();for(r=0;r<a.length;++r)a[r]*=e.line.width*i;n.line.dashes=a}return e.error_x&&e.error_x.visible&&(n.errorX=A(e,e.error_x,i)),e.error_y&&e.error_y.visible&&(n.errorY=A(e,e.error_y,i)),e.fill&&"none"!==e.fill&&(n.fill={closed:!0,fill:e.fillcolor,thickness:0}),n},markerStyle:w,markerSelection:_,linePositions:function(t,e,r){var n,i,o=r.length,a=o/2;if(h.hasLines(e)&&a)if("hv"===e.line.shape){for(n=[],i=0;i<a-1;i++)isNaN(r[2*i])||isNaN(r[2*i+1])?n.push(NaN,NaN,NaN,NaN):(n.push(r[2*i],r[2*i+1]),isNaN(r[2*i+2])||isNaN(r[2*i+3])?n.push(NaN,NaN):n.push(r[2*i+2],r[2*i+1]));n.push(r[o-2],r[o-1])}else if("hvh"===e.line.shape){for(n=[],i=0;i<a-1;i++)if(isNaN(r[2*i])||isNaN(r[2*i+1])||isNaN(r[2*i+2])||isNaN(r[2*i+3]))isNaN(r[2*i])||isNaN(r[2*i+1])?n.push(NaN,NaN):n.push(r[2*i],r[2*i+1]),n.push(NaN,NaN);else{var s=(r[2*i]+r[2*i+2])/2;n.push(r[2*i],r[2*i+1],s,r[2*i+1],s,r[2*i+3])}n.push(r[o-2],r[o-1])}else if("vhv"===e.line.shape){for(n=[],i=0;i<a-1;i++)if(isNaN(r[2*i])||isNaN(r[2*i+1])||isNaN(r[2*i+2])||isNaN(r[2*i+3]))isNaN(r[2*i])||isNaN(r[2*i+1])?n.push(NaN,NaN):n.push(r[2*i],r[2*i+1]),n.push(NaN,NaN);else{var l=(r[2*i+1]+r[2*i+3])/2;n.push(r[2*i],r[2*i+1],r[2*i],l,r[2*i+2],l)}n.push(r[o-2],r[o-1])}else if("vh"===e.line.shape){for(n=[],i=0;i<a-1;i++)isNaN(r[2*i])||isNaN(r[2*i+1])?n.push(NaN,NaN,NaN,NaN):(n.push(r[2*i],r[2*i+1]),isNaN(r[2*i+2])||isNaN(r[2*i+3])?n.push(NaN,NaN):n.push(r[2*i],r[2*i+3]));n.push(r[o-2],r[o-1])}else n=r;var c=!1;for(i=0;i<n.length;i++)if(isNaN(n[i])){c=!0;break}var d=c||n.length>m.TOO_MANY_POINTS||h.hasMarkers(e)?"rect":"round";if(c&&e.connectgaps){var u=n[0],f=n[1];for(i=0;i<n.length;i+=2)isNaN(n[i])||isNaN(n[i+1])?(n[i]=u,n[i+1]=f):(u=n[i],f=n[i+1])}return{join:d,positions:n}},errorBarPositions:function(t,e,r,i,o){var s=a.getComponentMethod("errorbars","makeComputeError"),l=d.getFromId(t,e.xaxis,"x"),c=d.getFromId(t,e.yaxis,"y"),u=r.length/2,h={};function f(t,i){var o=i._id.charAt(0),a=e["error_"+o];if(a&&a.visible&&("linear"===i.type||"log"===i.type)){for(var l=s(a),c={x:0,y:1}[o],d={x:[0,1,2,3],y:[2,3,0,1]}[o],f=new Float64Array(4*u),p=1/0,m=-1/0,g=0,b=0;g<u;g++,b+=4){var v=t[g];if(n(v)){var y=r[2*g+c],x=l(v,g),w=x[0],_=x[1];if(n(w)&&n(_)){var k=v-w,A=v+_;f[b+d[0]]=y-i.c2l(k),f[b+d[1]]=i.c2l(A)-y,f[b+d[2]]=0,f[b+d[3]]=0,p=Math.min(p,v-w),m=Math.max(m,v+_)}}}h[o]={positions:r,errors:f,_bnds:[p,m]}}}return f(i,l),f(o,c),h},textPosition:function(t,e,r,n){var i,o=e._length,a={};if(h.hasMarkers(e)){var s=r.font,c=r.align,d=r.baseline;for(a.offset=new Array(o),i=0;i<o;i++){var u=n.sizes?n.sizes[i]:n.size,f=l(s)?s[i].size:s.size,p=l(c)?c.length>1?c[i]:c[0]:c,m=l(d)?d.length>1?d[i]:d[0]:d,g=b[p],v=b[m],y=u?u/.8+1:0,x=-v*y-.5*v;a.offset[i]=[g*y/f,x/f]}}return a}}},77201:t=>{"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},77622:(t,e,r)=>{"use strict";var n,i=r(75798),o=r(37974),a=r(61085),s=r(12611),l=r(25875),c=document.createElement("canvas"),d=c.getContext("2d");t.exports=function(t,e){if(!s(t))throw Error("Argument should be valid svg path string");var r,u;e||(e={}),e.shape?(r=e.shape[0],u=e.shape[1]):(r=c.width=e.w||e.width||200,u=c.height=e.h||e.height||200);var h=Math.min(r,u),f=e.stroke||0,p=e.viewbox||e.viewBox||i(t),m=[r/(p[2]-p[0]),u/(p[3]-p[1])],g=Math.min(m[0]||0,m[1]||0)/2;if(d.fillStyle="black",d.fillRect(0,0,r,u),d.fillStyle="white",f&&("number"!=typeof f&&(f=1),d.strokeStyle=f>0?"white":"black",d.lineWidth=Math.abs(f)),d.translate(.5*r,.5*u),d.scale(g,g),function(){if(null!=n)return n;var t=document.createElement("canvas").getContext("2d");if(t.canvas.width=t.canvas.height=1,!window.Path2D)return n=!1;var e=new Path2D("M0,0h1v1h-1v-1Z");t.fillStyle="black",t.fill(e);var r=t.getImageData(0,0,1,1);return n=r&&r.data&&255===r.data[3]}()){var b=new Path2D(t);d.fill(b),f&&d.stroke(b)}else{var v=o(t);a(d,v),d.fill(),f&&d.stroke()}return d.setTransform(1,0,0,1,0,0),l(d,{cutoff:null!=e.cutoff?e.cutoff:.5,radius:null!=e.radius?e.radius:.5*h})}},77656:t=>{t.exports=function(t,e,r){var n,i,o,a,s,l,c,d,u,h,f,p,m=r[0],g=r[1],b=r[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*b+e[12],t[13]=e[1]*m+e[5]*g+e[9]*b+e[13],t[14]=e[2]*m+e[6]*g+e[10]*b+e[14],t[15]=e[3]*m+e[7]*g+e[11]*b+e[15]):(n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],f=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=h,t[10]=f,t[11]=p,t[12]=n*m+s*g+u*b+e[12],t[13]=i*m+l*g+h*b+e[13],t[14]=o*m+c*g+f*b+e[14],t[15]=a*m+d*g+p*b+e[15]),t}},77659:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},77881:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822).isArrayOrTypedArray,o=r(32994).BADNUM,a=r(25059),s=r(75815),l=r(69352).getAxisGroup,c=r(53481);function d(t,e,r,a,l){if(a.length){var d,f,v,y;switch(function(t,e){var r,o;for(r=0;r<e.length;r++){var a,s=e[r],l=s[0].trace,c="funnel"===l.type?l._base:l.base,d="h"===l.orientation?l.xcalendar:l.ycalendar,u="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(i(c)){for(o=0;o<Math.min(c.length,s.length);o++)a=u(c[o],0,d),n(a)?(s[o].b=+a,s[o].hasB=1):s[o].b=0;for(;o<s.length;o++)s[o].b=0}else{a=u(c,0,d);var h=n(a);for(a=h?a:0,o=0;o<s.length;o++)s[o].b=a,h&&(s[o].hasB=1)}}}(r,a),l.mode){case"overlay":u(t,e,r,a,l);break;case"group":for(d=[],f=[],v=0;v<a.length;v++)void 0===(y=a[v])[0].trace.offset?f.push(y):d.push(y);f.length&&function(t,e,r,n,i){var a=new c(n,{posAxis:e,sepNegVal:!1,overlapNoMerge:!i.norm});h(t,e,a,i),function(t,e){for(var r=t.traces,n=0;n<r.length;n++){var i=r[n],a=i[0].trace,s=i[0].t.offsetindex;if(void 0===a.base)for(var l=new c([i],{posAxis:e,sepNegVal:!0,overlapNoMerge:!0}),d=0;d<i.length;d++){var u=i[d];if(u.p!==o){var h=l.put(u.p,s,u.b+u.s);h&&(u.b=h)}}}}(a,e),i.norm?(m(a),g(r,a,i)):p(r,a)}(t,e,r,f,l),d.length&&u(t,e,r,d,l);break;case"stack":case"relative":for(d=[],f=[],v=0;v<a.length;v++)void 0===(y=a[v])[0].trace.base?f.push(y):d.push(y);!function(t){if(!(t.length<2)){var e,r,i,o,a,s;for(e=0;e<t.length&&void 0===(o=(r=t[e][0].trace).marker?r.marker.cornerradius:void 0);e++);if(void 0!==o)for(a=n(o)?+o:+o.slice(0,-1),s=n(o)?"px":"%",e=0;e<t.length;e++)(i=t[e][0].t).cornerradiusvalue=a,i.cornerradiusform=s}}(f),f.length&&function(t,e,r,n,i){var a=new c(n,{posAxis:e,sepNegVal:"relative"===i.mode,overlapNoMerge:!(i.norm||"stack"===i.mode||"relative"===i.mode)});h(t,e,a,i),function(t,e,r){var n,i,a,l,c,d,u,h=b(t),f=e.traces;for(l=0;l<f.length;l++)if("funnel"===(i=(n=f[l])[0].trace).type)for(u=n[0].t.offsetindex,c=0;c<n.length;c++)(d=n[c]).s!==o&&e.put(d.p,u,-.5*d.s);for(l=0;l<f.length;l++){a="funnel"===(i=(n=f[l])[0].trace).type,u="barpolar"===i.type?0:n[0].t.offsetindex;var p=[];for(c=0;c<n.length;c++)if((d=n[c]).s!==o){var m;m=a?d.s:d.s+d.b;var g=e.put(d.p,u,m),v=g+m;d.b=g,d[h]=v,r.norm||(p.push(v),d.hasB&&p.push(g))}r.norm||(i._extremes[t._id]=s.findExtremes(t,p,{tozero:!0,padded:!0}))}}(r,a,i);for(var l=0;l<n.length;l++)for(var d=n[l],u=d[0].t.offsetindex,f=0;f<d.length;f++){var p=d[f];p.s!==o&&p.b+p.s===a.get(p.p,u,p.s)&&(p._outmost=!0)}i.norm&&g(r,a,i)}(t,e,r,f,l),d.length&&u(t,e,r,d,l)}!function(t){var e,r,i,o,a,s,l;for(e=0;e<t.length;e++)i=(r=t[e])[0].trace,void 0===(o=r[0].t).cornerradiusvalue&&void 0!==(a=i.marker?i.marker.cornerradius:void 0)&&(s=n(a)?+a:+a.slice(0,-1),l=n(a)?"px":"%",o.cornerradiusvalue=s,o.cornerradiusform=l)}(a),function(t,e){var r,o,a,s=b(e),l={},c=1/0,d=-1/0;for(r=0;r<t.length;r++)for(a=t[r],o=0;o<a.length;o++){var u=a[o].p;n(u)&&(c=Math.min(c,u),d=Math.max(d,u))}var h=1e4/(d-c),f=l.round=function(t){return String(Math.round(h*(t-c)))},p={},m={},g=t.some((function(t){var e=t[0].trace;return"marker"in e&&e.marker.cornerradius}));for(r=0;r<t.length;r++){(a=t[r])[0].t.extents=l;var v=a[0].t.poffset,y=i(v);for(o=0;o<a.length;o++){var x=a[o],w=x[s]-x.w/2;if(n(w)){var _=x[s]+x.w/2,k=f(x.p);l[k]?l[k]=[Math.min(w,l[k][0]),Math.max(_,l[k][1])]:l[k]=[w,_]}if(x.p0=x.p+(y?v[o]:v),x.p1=x.p0+x.w,x.s0=x.b,x.s1=x.s0+x.s,g){var A=Math.min(x.s0,x.s1)||0,T=Math.max(x.s0,x.s1)||0,M=x[s];p[M]=M in p?Math.min(p[M],A):A,m[M]=M in m?Math.max(m[M],T):T}}}g&&function(t,e,r,n){for(var i=b(n),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s],c=l[i];l._sMin=e[c],l._sMax=r[c]}}(t,p,m,e)}(a,e)}}function u(t,e,r,n,i){for(var o=0;o<n.length;o++){var a=n[o],s=new c([a],{posAxis:e,sepNegVal:!1,overlapNoMerge:!i.norm});h(t,e,s,i),i.norm?(m(s),g(r,s,i)):p(r,s)}}function h(t,e,r,o){var a,s,c,d,u=t._fullLayout,h=r.positions,p=r.distinctPositions,m=r.minDiff,g=r.traces,v=g.length,y=h.length!==p.length,x=m*(1-o.gap);if("angularaxis"===e._id)c=-(s=(a=x)*(1-(o.groupgap||0)))/2;else{var w=l(u,e._id)+g[0][0].trace.orientation;d=u._alignmentOpts[w]||{}}for(var _=0;_<v;_++){var k=g[_],A=k[0].trace;if("angularaxis"!==e._id){var T=d[A.alignmentgroup]||{},M=Object.keys(T.offsetGroups||{}).length;s=(a=M?x/M:y?x/v:x)*(1-(o.groupgap||0)),c=M?((2*A._offsetIndex+1-M)*a-s)/2:y?((2*_+1-v)*a-s)/2:-s/2}var S=k[0].t;S.barwidth=s,S.offsetindex=A._offsetIndex||0,S.poffset=c,S.bargroupwidth=x,S.bardelta=m}r.binWidth=g[0][0].t.barwidth/100,function(t){var e,r,o=t.traces;for(e=0;e<o.length;e++){var a,s=o[e],l=s[0],c=l.trace,d=l.t,u=c._offset||c.offset,h=d.poffset;if(i(u)){for(a=Array.prototype.slice.call(u,0,s.length),r=0;r<a.length;r++)n(a[r])||(a[r]=h);for(r=a.length;r<s.length;r++)a.push(h);d.poffset=a}else void 0!==u&&(d.poffset=u);var f=c._width||c.width,p=d.barwidth;if(i(f)){var m=Array.prototype.slice.call(f,0,s.length);for(r=0;r<m.length;r++)n(m[r])||(m[r]=p);for(r=m.length;r<s.length;r++)m.push(p);if(d.barwidth=m,void 0===u){for(a=[],r=0;r<s.length;r++)a.push(h+(p-m[r])/2);d.poffset=a}}else void 0!==f&&(d.barwidth=f,void 0===u&&(d.poffset=h+(p-f)/2))}}(r),function(t,e){for(var r=e.traces,n=b(t),o=0;o<r.length;o++)for(var a=r[o],s=a[0].t,l=s.poffset,c=i(l),d=s.barwidth,u=i(d),h=0;h<a.length;h++){var f=a[h],p=f.w=u?d[h]:d;void 0===f.p&&(f.p=f[n],f["orig_"+n]=f[n]);var m=(c?l[h]:l)+p/2;f[n]=f.p+m}}(e,r),"angularaxis"===e._id?f(e,r):f(e,r,y)}function f(t,e,r){var n=e.traces,o=e.minDiff/2;s.minDtick(t,e.minDiff,e.distinctPositions[0],r);for(var a=0;a<n.length;a++){var l,c,d,u,h=n[a],f=h[0],p=f.trace,m=[];for(u=0;u<h.length;u++)c=(l=h[u]).p-o,d=l.p+o,m.push(c,d);if(p.width||p.offset){var g=f.t,b=g.poffset,v=g.barwidth,y=i(b),x=i(v);for(u=0;u<h.length;u++){l=h[u];var w=y?b[u]:b,_=x?v[u]:v;d=(c=l.p+w)+_,m.push(c,d)}}p._extremes[t._id]=s.findExtremes(t,m,{padded:!1})}}function p(t,e){for(var r=e.traces,n=b(t),i=0;i<r.length;i++){for(var o=r[i],a=o[0].trace,l="scatter"===a.type,c="v"===a.orientation,d=[],u=!1,h=0;h<o.length;h++){var f=o[h],p=l?0:f.b,m=l?c?f.y:f.x:p+f.s;f[n]=m,d.push(m),f.hasB&&d.push(p),f.hasB&&f.b||(u=!0)}a._extremes[t._id]=s.findExtremes(t,d,{tozero:u,padded:!0})}}function m(t){for(var e=t.traces,r=0;r<e.length;r++)for(var n=e[r],i=n[0].t.offsetindex,a=0;a<n.length;a++){var s=n[a];s.s!==o&&t.put(s.p,i,s.b+s.s)}}function g(t,e,r){var i=e.traces,a=b(t),l="fraction"===r.norm?1:100,c=l/1e9,d=t.l2c(t.c2l(0)),u="stack"===r.mode?l:d;function h(e){return n(t.c2l(e))&&(e<d-c||e>u+c||!n(d))}for(var f=0;f<i.length;f++){for(var p=i[f],m=p[0].t.offsetindex,g=p[0].trace,v=[],y=!1,x=!1,w=0;w<p.length;w++){var _=p[w];if(_.s!==o){var k=Math.abs(l/e.get(_.p,m,_.s));_.b*=k,_.s*=k;var A=_.b,T=A+_.s;_[a]=T,v.push(T),x=x||h(T),_.hasB&&(v.push(A),x=x||h(A)),_.hasB&&_.b||(y=!0)}}g._extremes[t._id]=s.findExtremes(t,v,{tozero:y,padded:x})}}function b(t){return t._id.charAt(0)}t.exports={crossTraceCalc:function(t,e){for(var r=e.xaxis,n=e.yaxis,i=t._fullLayout,o=t._fullData,s=t.calcdata,l=[],c=[],u=0;u<o.length;u++){var h=o[u];if(!0===h.visible&&a.traceIs(h,"bar")&&h.xaxis===r._id&&h.yaxis===n._id&&("h"===h.orientation?l.push(s[u]):c.push(s[u]),h._computePh))for(var f=t.calcdata[u],p=0;p<f.length;p++)"function"==typeof f[p].ph0&&(f[p].ph0=f[p].ph0()),"function"==typeof f[p].ph1&&(f[p].ph1=f[p].ph1())}var m={xCat:"category"===r.type||"multicategory"===r.type,yCat:"category"===n.type||"multicategory"===n.type,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};d(t,r,n,c,m),d(t,n,r,l,m)},setGroupPositions:d}},77908:(t,e,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(12724),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===o.call(t),n=a(t),s=e&&"[object String]"===o.call(t),h=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=c&&r;if(s&&t.length>0&&!i.call(t,0))for(var m=0;m<t.length;++m)h.push(String(m));if(n&&t.length>0)for(var g=0;g<t.length;++g)h.push(String(g));else for(var b in t)p&&"prototype"===b||!i.call(t,b)||h.push(String(b));if(l)for(var v=function(t){if("undefined"==typeof window||!f)return u(t);try{return u(t)}catch(t){return!1}}(t),y=0;y<d.length;++y)v&&"constructor"===d[y]||!i.call(t,d[y])||h.push(d[y]);return h}}t.exports=n},77982:(t,e,r)=>{"use strict";var n=r(3520),i=r(75058),o=r(43591),a=r(98387),s=r(60393).axisHoverFormat,l=r(89322),c=r(54747),d=r(98260).extendFlat,u=r(62309).overrideAll,h=r(49538).DASHES,f=a.line,p=a.marker,m=p.line,g=t.exports=u({x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:s("x"),yhoverformat:s("y"),text:a.text,hovertext:a.hovertext,textposition:a.textposition,textfont:i({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"],description:"Sets the text font."}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],description:["Determines the drawing mode for this scatter trace."].join(" ")},line:{color:f.color,width:f.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot",description:["Determines the line shape.","The values correspond to step-wise line shapes."].join(" ")},dash:{valType:"enumerated",values:c(h),dflt:"solid",description:"Sets the style of the lines."}},marker:d({},l("marker"),{symbol:p.symbol,angle:p.angle,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,opacity:p.opacity,colorbar:p.colorbar,line:d({},l("marker.line"),{width:m.width})}),connectgaps:a.connectgaps,fill:d({},a.fill,{dflt:"none"}),fillcolor:o(),selected:{marker:a.selected.marker,textfont:a.selected.textfont},unselected:{marker:a.unselected.marker,textfont:a.unselected.textfont},opacity:n.opacity},"calc","nested");g.x.editType=g.y.editType=g.x0.editType=g.y0.editType="calc+clearAxisTypes",g.hovertemplate=a.hovertemplate,g.hovertemplatefallback=a.hovertemplatefallback,g.texttemplate=a.texttemplate,g.texttemplatefallback=a.texttemplatefallback},78209:t=>{"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},78706:t=>{"use strict";t.exports=function(t){return t[1]}},78718:(t,e,r)=>{"use strict";var n=r(86142),i=Object.create,o=Object.defineProperty,a=Object.prototype,s=i(null);t.exports=function(t){for(var e,r,i=0;s[t+(i||"")];)++i;return s[t+=i||""]=!0,o(a,e="@@"+t,n.gs(null,(function(t){r||(r=!0,o(this,e,n(t)),r=!1)}))),e}},78737:(t,e,r)=>{"use strict";var n=r(88625);t.exports={moduleType:"trace",name:"scattergl",basePlotModule:r(29592),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:r(77982),supplyDefaults:r(51465),crossTraceDefaults:r(30415),colorbar:r(89927),formatLabels:r(18948),calc:r(54874),hoverPoints:n.hoverPoints,selectPoints:r(76787),meta:{hrName:"scatter_gl",description:["The data visualized as scatter point or lines is set in `x` and `y`","using the WebGL plotting engine.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to a numerical arrays."].join(" ")}}},78826:(t,e,r)=>{"use strict";var n=r(55366),i=r(2033),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(r,c){var d,u=arguments[2],h=arguments[3];return r=Object(i(r)),n(c),d=s(r),h&&d.sort("function"==typeof h?o.call(h,r):void 0),"function"!=typeof t&&(t=d[t]),a.call(t,d,(function(t,n){return l.call(r,t)?a.call(c,u,r[t],t,r,n):e}))}}},78900:(t,e,r)=>{"use strict";var n=r(12822),i=r(40959),o=r(73290),a=r(93729);t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:n.extendFlat({},i,{yaxis:o})}}},layoutAttributes:r(40959),handleDefaults:r(4504),calcAutorange:r(99224),draw:r(19260),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},78920:(t,e,r)=>{"use strict";var n=r(18106),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=i.RdBu;function a(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var r=0;r<t.length;r++){var i=t[r];if(2!==i.length||+i[0]<e||!n(i[1]).isValid())return!1;e=+i[0]}return!0}t.exports={scales:i,defaultScale:o,get:function(t,e){if(e||(e=o),!t)return e;function r(){try{t=i[t]||JSON.parse(t)}catch(r){t=e}}return"string"==typeof t&&(r(),"string"==typeof t&&r()),a(t)?t:e},isValid:function(t){return void 0!==i[t]||a(t)}}},79385:(t,e,r)=>{"use strict";var n=r(12822),i=r(58389).dfltConfig,o={add:function(t,e,r,n,o){var a,s;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,a),t.undoQueue.index+=1):a=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(e),a.undo.args.unshift(r),a.redo.calls.push(n),a.redo.args.push(o)),t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,r;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,r=0;r<e.undo.calls.length;r++)o.plotDo(t,e.undo.calls[r],e.undo.args[r]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,r;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,r=0;r<e.redo.calls.length;r++)o.plotDo(t,e.redo.calls[r],e.redo.args[r]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},plotDo:function(t,e,r){t.autoplay=!0,r=function(t,e){for(var r,i=[],o=0;o<e.length;o++)r=e[o],i[o]=r===t?r:"object"==typeof r?Array.isArray(r)?n.extendDeep([],r):n.extendDeepAll({},r):r;return i}(t,r),e.apply(null,r)}};t.exports=o},79538:(t,e,r)=>{t.exports={create:r(46864),clone:r(1903),copy:r(42981),identity:r(87894),transpose:r(45665),invert:r(27608),adjoint:r(4813),determinant:r(49921),multiply:r(66760),translate:r(77656),scale:r(62504),rotate:r(26079),rotateX:r(15567),rotateY:r(52408),rotateZ:r(27089),fromRotation:r(7354),fromRotationTranslation:r(76743),fromScaling:r(90367),fromTranslation:r(68673),fromXRotation:r(80180),fromYRotation:r(68727),fromZRotation:r(96402),fromQuat:r(17399),frustum:r(29192),perspective:r(4772),perspectiveFromFieldOfView:r(11882),ortho:r(74040),lookAt:r(66582),str:r(65213)}},79813:(t,e,r)=>{"use strict";t.exports=r(82844)()?String.prototype.contains:r(65040)},79896:(t,e,r)=>{"use strict";r.d(e,{A:()=>a,o:()=>s});var n=r(94825),i=r(37968),o=(0,n.A)((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/i.Nm}),(function(t){return t.getUTCDate()-1}));const a=o;var s=o.range},79969:(t,e,r)=>{"use strict";r.d(e,{DC:()=>p,de:()=>h,aL:()=>m});var n=r(64772),i=r(79896),o=r(61396),a=r(67848),s=r(28397),l=r(34045);function c(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function d(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function u(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function h(t){var e=t.dateTime,r=t.date,s=t.time,l=t.periods,h=t.days,f=t.shortDays,p=t.months,m=t.shortMonths,b=_(l),v=k(l),y=_(h),x=k(h),w=_(f),et=k(f),wt=_(p),Dt=k(p),It=_(m),Ft=k(m),Rt={a:function(t){return f[t.getDay()]},A:function(t){return h[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return p[t.getMonth()]},c:null,d:H,e:H,f:Z,g:at,G:lt,H:W,I:q,j:$,L:Y,m:X,M:J,p:function(t){return l[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Lt,s:Ot,S:Q,u:K,U:tt,V:rt,w:nt,W:it,x:null,X:null,y:ot,Y:st,Z:ct,"%":zt},Pt={a:function(t){return f[t.getUTCDay()]},A:function(t){return h[t.getUTCDay()]},b:function(t){return m[t.getUTCMonth()]},B:function(t){return p[t.getUTCMonth()]},c:null,d:dt,e:dt,f:mt,g:Mt,G:Et,H:ut,I:ht,j:ft,L:pt,m:gt,M:bt,p:function(t){return l[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Lt,s:Ot,S:vt,u:yt,U:xt,V:_t,w:kt,W:At,x:null,X:null,y:Tt,Y:St,Z:Ct,"%":zt},jt={a:function(t,e,r){var n=w.exec(e.slice(r));return n?(t.w=et[n[0].toLowerCase()],r+n[0].length):-1},A:function(t,e,r){var n=y.exec(e.slice(r));return n?(t.w=x[n[0].toLowerCase()],r+n[0].length):-1},b:function(t,e,r){var n=It.exec(e.slice(r));return n?(t.m=Ft[n[0].toLowerCase()],r+n[0].length):-1},B:function(t,e,r){var n=wt.exec(e.slice(r));return n?(t.m=Dt[n[0].toLowerCase()],r+n[0].length):-1},c:function(t,r,n){return Ut(t,e,r,n)},d:I,e:I,f:B,g:z,G:C,H:R,I:R,j:F,L:N,m:D,M:P,p:function(t,e,r){var n=b.exec(e.slice(r));return n?(t.p=v[n[0].toLowerCase()],r+n[0].length):-1},q:O,Q:V,s:G,S:j,u:T,U:M,V:S,w:A,W:E,x:function(t,e,n){return Ut(t,r,e,n)},X:function(t,e,r){return Ut(t,s,e,r)},y:z,Y:C,Z:L,"%":U};function Nt(t,e){return function(r){var n,i,o,a=[],s=-1,l=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=g[n=t.charAt(++s)])?n=t.charAt(++s):i="e"===n?" ":"0",(o=e[n])&&(n=o(r,i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function Bt(t,e){return function(r){var s,l,h=u(1900,void 0,1);if(Ut(h,t,r+="",0)!=r.length)return null;if("Q"in h)return new Date(h.Q);if("s"in h)return new Date(1e3*h.s+("L"in h?h.L:0));if(e&&!("Z"in h)&&(h.Z=0),"p"in h&&(h.H=h.H%12+12*h.p),void 0===h.m&&(h.m="q"in h?h.q:0),"V"in h){if(h.V<1||h.V>53)return null;"w"in h||(h.w=1),"Z"in h?(l=(s=d(u(h.y,0,1))).getUTCDay(),s=l>4||0===l?n.rt.ceil(s):(0,n.rt)(s),s=i.A.offset(s,7*(h.V-1)),h.y=s.getUTCFullYear(),h.m=s.getUTCMonth(),h.d=s.getUTCDate()+(h.w+6)%7):(l=(s=c(u(h.y,0,1))).getDay(),s=l>4||0===l?o.By.ceil(s):(0,o.By)(s),s=a.A.offset(s,7*(h.V-1)),h.y=s.getFullYear(),h.m=s.getMonth(),h.d=s.getDate()+(h.w+6)%7)}else("W"in h||"U"in h)&&("w"in h||(h.w="u"in h?h.u%7:"W"in h?1:0),l="Z"in h?d(u(h.y,0,1)).getUTCDay():c(u(h.y,0,1)).getDay(),h.m=0,h.d="W"in h?(h.w+6)%7+7*h.W-(l+5)%7:h.w+7*h.U-(l+6)%7);return"Z"in h?(h.H+=h.Z/100|0,h.M+=h.Z%100,d(h)):c(h)}}function Ut(t,e,r,n){for(var i,o,a=0,s=e.length,l=r.length;a<s;){if(n>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=jt[i in g?e.charAt(a++):i])||(n=o(t,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return Rt.x=Nt(r,Rt),Rt.X=Nt(s,Rt),Rt.c=Nt(e,Rt),Pt.x=Nt(r,Pt),Pt.X=Nt(s,Pt),Pt.c=Nt(e,Pt),{format:function(t){var e=Nt(t+="",Rt);return e.toString=function(){return t},e},parse:function(t){var e=Bt(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Nt(t+="",Pt);return e.toString=function(){return t},e},utcParse:function(t){var e=Bt(t+="",!0);return e.toString=function(){return t},e}}}var f,p,m,g={"-":"",_:" ",0:"0"},b=/^\s*\d+/,v=/^%/,y=/[\\^$*+?|[\]().{}]/g;function x(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function w(t){return t.replace(y,"\\$&")}function _(t){return new RegExp("^(?:"+t.map(w).join("|")+")","i")}function k(t){for(var e={},r=-1,n=t.length;++r<n;)e[t[r].toLowerCase()]=r;return e}function A(t,e,r){var n=b.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function T(t,e,r){var n=b.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function M(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function S(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function E(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function C(t,e,r){var n=b.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function z(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function L(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function O(t,e,r){var n=b.exec(e.slice(r,r+1));return n?(t.q=3*n[0]-3,r+n[0].length):-1}function D(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function I(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function F(t,e,r){var n=b.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function R(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function P(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function j(t,e,r){var n=b.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function N(t,e,r){var n=b.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function B(t,e,r){var n=b.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function U(t,e,r){var n=v.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function V(t,e,r){var n=b.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function G(t,e,r){var n=b.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function H(t,e){return x(t.getDate(),e,2)}function W(t,e){return x(t.getHours(),e,2)}function q(t,e){return x(t.getHours()%12||12,e,2)}function $(t,e){return x(1+a.A.count((0,s.A)(t),t),e,3)}function Y(t,e){return x(t.getMilliseconds(),e,3)}function Z(t,e){return Y(t,e)+"000"}function X(t,e){return x(t.getMonth()+1,e,2)}function J(t,e){return x(t.getMinutes(),e,2)}function Q(t,e){return x(t.getSeconds(),e,2)}function K(t){var e=t.getDay();return 0===e?7:e}function tt(t,e){return x(o.fz.count((0,s.A)(t)-1,t),e,2)}function et(t){var e=t.getDay();return e>=4||0===e?(0,o.dt)(t):o.dt.ceil(t)}function rt(t,e){return t=et(t),x(o.dt.count((0,s.A)(t),t)+(4===(0,s.A)(t).getDay()),e,2)}function nt(t){return t.getDay()}function it(t,e){return x(o.By.count((0,s.A)(t)-1,t),e,2)}function ot(t,e){return x(t.getFullYear()%100,e,2)}function at(t,e){return x((t=et(t)).getFullYear()%100,e,2)}function st(t,e){return x(t.getFullYear()%1e4,e,4)}function lt(t,e){var r=t.getDay();return x((t=r>=4||0===r?(0,o.dt)(t):o.dt.ceil(t)).getFullYear()%1e4,e,4)}function ct(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+x(e/60|0,"0",2)+x(e%60,"0",2)}function dt(t,e){return x(t.getUTCDate(),e,2)}function ut(t,e){return x(t.getUTCHours(),e,2)}function ht(t,e){return x(t.getUTCHours()%12||12,e,2)}function ft(t,e){return x(1+i.A.count((0,l.A)(t),t),e,3)}function pt(t,e){return x(t.getUTCMilliseconds(),e,3)}function mt(t,e){return pt(t,e)+"000"}function gt(t,e){return x(t.getUTCMonth()+1,e,2)}function bt(t,e){return x(t.getUTCMinutes(),e,2)}function vt(t,e){return x(t.getUTCSeconds(),e,2)}function yt(t){var e=t.getUTCDay();return 0===e?7:e}function xt(t,e){return x(n.Hl.count((0,l.A)(t)-1,t),e,2)}function wt(t){var e=t.getUTCDay();return e>=4||0===e?(0,n.pT)(t):n.pT.ceil(t)}function _t(t,e){return t=wt(t),x(n.pT.count((0,l.A)(t),t)+(4===(0,l.A)(t).getUTCDay()),e,2)}function kt(t){return t.getUTCDay()}function At(t,e){return x(n.rt.count((0,l.A)(t)-1,t),e,2)}function Tt(t,e){return x(t.getUTCFullYear()%100,e,2)}function Mt(t,e){return x((t=wt(t)).getUTCFullYear()%100,e,2)}function St(t,e){return x(t.getUTCFullYear()%1e4,e,4)}function Et(t,e){var r=t.getUTCDay();return x((t=r>=4||0===r?(0,n.pT)(t):n.pT.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ct(){return"+0000"}function zt(){return"%"}function Lt(t){return+t}function Ot(t){return Math.floor(+t/1e3)}f=h({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),p=f.format,f.parse,m=f.utcFormat,f.utcParse},80180:t=>{t.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},80191:(t,e,r)=>{"use strict";var n=r(48439),i=r(53824),o=r(25059),a=r(40666).dashStyle,s=r(17499),l=r(70410),c=r(66811).makeEventData,d=r(14295),u=d.freeMode,h=d.rectMode,f=d.drawMode,p=d.openMode,m=d.selectMode,g=r(23223),b=r(6583),v=r(49244),y=r(8867).clearOutline,x=r(59952),w=x.handleEllipse,_=x.readPaths,k=r(81941).newShapes,A=r(63750),T=r(70445).activateLastSelection,M=r(12822),S=M.sorterAsc,E=r(92620),C=r(76324),z=r(99246).getFromId,L=r(86748),O=r(39004).redrawReglTraces,D=r(76814),I=D.MINSELECT,F=E.filter,R=E.tester,P=r(38554),j=P.p2r,N=P.axValue,B=P.getTransform;function U(t){return void 0!==t.subplot}function V(t,e,r,n,i,o,a){var s,l,c,d,u,h,f,m,g,b=e._hoverdata,y=e._fullLayout.clickmode.indexOf("event")>-1,x=[];if(function(t){return t&&Array.isArray(t)&&!0!==t[0].hoverOnBox}(b)){q(t,e,o);var w=function(t,e){var r,n,i=t[0],o=-1,a=[];for(n=0;n<e.length;n++)if(r=e[n],i.fullData.index===r.cd[0].trace.index){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?o=i.pointNumber:void 0!==i.binNumber&&(o=i.binNumber,a=i.pointNumbers);break}return{pointNumber:o,pointNumbers:a,searchInfo:r}}(b,s=Z(e,r,n,i));if(w.pointNumbers.length>0?function(t,e){var r,n,i,o=[];for(i=0;i<t.length;i++)(r=t[i]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&o.push(r);if(1===o.length&&o[0]===e.searchInfo&&(n=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length){for(i=0;i<e.pointNumbers.length;i++)if(n.selectedpoints.indexOf(e.pointNumbers[i])<0)return!1;return!0}return!1}(s,w):function(t){var e,r,n=0;for(r=0;r<t.length;r++)if((e=t[r].cd[0].trace).selectedpoints){if(e.selectedpoints.length>1)return!1;if((n+=e.selectedpoints.length)>1)return!1}return 1===n}(s)&&(h=J(w))){for(a&&a.remove(),g=0;g<s.length;g++)(l=s[g])._module.selectPoints(l,!1);Q(e,s),$(o),y&&ht(e)}else{for(f=t.shiftKey&&(void 0!==h?h:J(w)),c=function(t,e,r){return{pointNumber:t,searchInfo:e,subtract:!!r}}(w.pointNumber,w.searchInfo,f),d=W(o.selectionDefs.concat([c])),g=0;g<s.length;g++)if(u=tt(s[g]._module.selectPoints(s[g],d),s[g]),x.length)for(var _=0;_<u.length;_++)x.push(u[_]);else x=u;if(Q(e,s,m={points:x}),c&&o&&o.selectionDefs.push(c),a){var k=o.mergedPolygons,A=p(o.dragmode);v(et(k,A),a,o)}y&&ut(e,m)}}}function G(t){return"pointNumber"in t&&"searchInfo"in t}function H(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,r,n,i){var o=t.searchInfo.cd[0].trace.index;return i.cd[0].trace.index===o&&n===t.pointNumber},isRect:!1,degenerate:!1,subtract:!!t.subtract}}function W(t){if(t.length){for(var e=[],r=G(t[0])?0:t[0][0][0],n=r,i=G(t[0])?0:t[0][0][1],o=i,a=0;a<t.length;a++)if(G(t[a]))e.push(H(t[a]));else{var s=R(t[a]);s.subtract=!!t[a].subtract,e.push(s),r=Math.min(r,s.xmin),n=Math.max(n,s.xmax),i=Math.min(i,s.ymin),o=Math.max(o,s.ymax)}return{xmin:r,xmax:n,ymin:i,ymax:o,pts:[],contains:function(t,r,n,i){for(var o=!1,a=0;a<e.length;a++)e[a].contains(t,r,n,i)&&(o=!e[a].subtract);return o},isRect:!1,degenerate:!1}}}function q(t,e,r){var n=e._fullLayout,i=r.plotinfo,o=r.dragmode,a=n._lastSelectedSubplot&&n._lastSelectedSubplot===i.id,s=(t.shiftKey||t.altKey)&&!(f(o)&&p(o));a&&s&&i.selection&&i.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=i.selection.selectionDefs,r.mergedPolygons=i.selection.mergedPolygons):s&&i.selection||$(r),a||(y(e),n._lastSelectedSubplot=i.id)}function $(t,e){var r=t.dragmode,n=t.plotinfo,i=t.gd;(function(t){return t._fullLayout._activeShapeIndex>=0})(i)&&i._fullLayout._deactivateShape(i),function(t){return t._fullLayout._activeSelectionIndex>=0}(i)&&i._fullLayout._deactivateSelection(i);var a=i._fullLayout._zoomlayer,s=f(r),l=m(r);if(s||l){var c,d,u=a.selectAll(".select-outline-"+n.id);u&&i._fullLayout._outlining&&(s&&(c=k(u,t)),c&&o.call("_guiRelayout",i,{shapes:c}),l&&!U(t)&&(d=A(u,t)),d&&(i._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",i,{selections:d}).then((function(){e&&T(i)}))),i._fullLayout._outlining=!1)}n.selection={},n.selection.selectionDefs=t.selectionDefs=[],n.selection.mergedPolygons=t.mergedPolygons=[]}function Y(t){return t._id}function Z(t,e,r,n){if(!t.calcdata)return[];var i,o,a,s=[],l=e.map(Y),c=r.map(Y);for(a=0;a<t.calcdata.length;a++)if(!0===(o=(i=t.calcdata[a])[0].trace).visible&&o._module&&o._module.selectPoints)if(!U({subplot:n})||o.subplot!==n&&o.geo!==n)if("splom"===o.type){if(o._xaxes[l[0]]&&o._yaxes[c[0]]){var d=X(o._module,i,e[0],r[0]);d.scene=t._fullLayout._splomScenes[o.uid],s.push(d)}}else if("sankey"===o.type){var u=X(o._module,i,e[0],r[0]);s.push(u)}else{if(!(-1!==l.indexOf(o.xaxis)||o._xA&&o._xA.overlaying))continue;if(!(-1!==c.indexOf(o.yaxis)||o._yA&&o._yA.overlaying))continue;s.push(X(o._module,i,z(t,o.xaxis),z(t,o.yaxis)))}else s.push(X(o._module,i,e[0],r[0]));return s}function X(t,e,r,n){return{_module:t,cd:e,xaxis:r,yaxis:n}}function J(t){var e=t.searchInfo.cd[0].trace,r=t.pointNumber,n=t.pointNumbers,i=n.length>0?n[0]:r;return!!e.selectedpoints&&e.selectedpoints.indexOf(i)>-1}function Q(t,e,r){var n,i;for(n=0;n<e.length;n++){var a=e[n].cd[0].trace._fullInput,s=t._fullLayout._tracePreGUI[a.uid]||{};void 0===s.selectedpoints&&(s.selectedpoints=a._input.selectedpoints||null)}if(r){var l=r.points||[];for(n=0;n<e.length;n++)(i=e[n].cd[0].trace)._input.selectedpoints=i._fullInput.selectedpoints=[],i._fullInput!==i&&(i.selectedpoints=[]);for(var c=0;c<l.length;c++){var d=l[c],u=d.data,h=d.fullData,f=d.pointIndex,p=d.pointIndices;p?([].push.apply(u.selectedpoints,p),i._fullInput!==i&&[].push.apply(h.selectedpoints,p)):(u.selectedpoints.push(f),i._fullInput!==i&&h.selectedpoints.push(f))}}else for(n=0;n<e.length;n++)delete(i=e[n].cd[0].trace).selectedpoints,delete i._input.selectedpoints,i._fullInput!==i&&delete i._fullInput.selectedpoints;!function(t,e){for(var r=!1,n=0;n<e.length;n++){var i=e[n],a=i.cd;o.traceIs(a[0].trace,"regl")&&(r=!0);var s=i._module,l=s.styleOnSelect||s.style;l&&(l(t,a,a[0].node3),a[0].nodeRangePlot3&&l(t,a,a[0].nodeRangePlot3))}r&&(L(t),O(t))}(t,e)}function K(t,e,r){for(var i=(r?n.difference:n.union)({regions:t},{regions:[e]}).regions.reverse(),o=0;o<i.length;o++){var a=i[o];a.subtract=st(a,i.slice(0,o))}return i}function tt(t,e){if(Array.isArray(t))for(var r=e.cd,n=e.cd[0].trace,i=0;i<t.length;i++)t[i]=c(t[i],n,r);return t}function et(t,e){for(var r=[],n=0;n<t.length;n++){r[n]=[];for(var i=0;i<t[n].length;i++){r[n][i]=[],r[n][i][0]=i?"L":"M";for(var o=0;o<t[n][i].length;o++)r[n][i].push(t[n][i][o])}e||r[n].push(["Z",r[n][0][1],r[n][0][2]])}return r}function rt(t,e){for(var r,n,i=[],o=[],a=0;a<e.length;a++){var s=e[a];n=s._module.selectPoints(s,t),o.push(n),r=tt(n,s),i=i.concat(r)}return i}function nt(t,e,r,n,i){var o,a,s,l=!!n;i&&(o=i.plotinfo,a=i.xaxes[0]._id,s=i.yaxes[0]._id);var c=[],d=[],u=at(t),h=t._fullLayout;if(o){var p=h._zoomlayer,g=h.dragmode,b=f(g),v=m(g);if(b||v){var y=z(t,a,"x"),x=z(t,s,"y");if(y&&x){var w=p.selectAll(".select-outline-"+o.id);if(w&&t._fullLayout._outlining&&w.length){for(var k=w[0][0].getAttribute("d"),A=_(k,t,o),T=[],M=0;M<A.length;M++){for(var S=A[M],E=[],C=0;C<S.length;C++)E.push([lt(y,S[C][1]),lt(x,S[C][2])]);E.xref=a,E.yref=s,E.subtract=st(E,T),T.push(E)}u=u.concat(T)}}}}var L=a&&s?[a+s]:h._subplots.cartesian;!function(t){var e=t.calcdata;if(e)for(var r=0;r<e.length;r++){var n=e[r][0].trace,i=t._fullLayout._splomScenes;if(i){var o=i[n.uid];o&&(o.selectBatch=[])}}}(t);for(var O={},D=0;D<L.length;D++){var I=L[D],F=I.indexOf("y"),R=I.slice(0,F),P=I.slice(F),j=a&&s?r:void 0;if(j=ot(u,R,P,j)){var N=n;if(!l){var B=z(t,R,"x"),U=z(t,P,"y");N=Z(t,[B],[U],I);for(var V=0;V<N.length;V++){var G=N[V],H=G.cd[0],W=H.trace;if("scattergl"===G._module.name&&!H.t.xpx){var q=W.x,$=W.y,Y=W._length;H.t.xpx=[],H.t.ypx=[];for(var X=0;X<Y;X++)H.t.xpx[X]=B.c2p(q[X]),H.t.ypx[X]=U.c2p($[X])}"splom"===G._module.name&&(O[W.uid]||(O[W.uid]=!0))}}var J=rt(j,N);c=c.concat(J),d=d.concat(N)}}var K={points:c};Q(t,d,K);var tt=h.clickmode.indexOf("event")>-1&&e;if(!o&&e){var et=at(t,!0);if(et.length){var nt=et[0].xref,ft=et[0].yref;if(nt&&ft){var pt=ct(et);dt([z(t,nt,"x"),z(t,ft,"y")])(K,pt)}}t._fullLayout._noEmitSelectedAtStart?t._fullLayout._noEmitSelectedAtStart=!1:tt&&ut(t,K),h._reselect=!1}if(!o&&h._deselect){var mt=h._deselect;(function(t,e,r){for(var n=0;n<r.length;n++){var i=r[n];if(i.xaxis&&i.xaxis._id===t&&i.yaxis&&i.yaxis._id===e)return!0}return!1})(a=mt.xref,s=mt.yref,d)||it(t,a,s,n),tt&&(K.points.length?ut(t,K):ht(t)),h._deselect=!1}return{eventData:K,selectionTesters:r}}function it(t,e,r,n){n=Z(t,[z(t,e,"x")],[z(t,r,"y")],e+r);for(var i=0;i<n.length;i++){var o=n[i];o._module.selectPoints(o,!1)}Q(t,n)}function ot(t,e,r,n){for(var i,o=0;o<t.length;o++){var a=t[o];e===a.xref&&r===a.yref&&(i?n=W(i=K(i,a,!!a.subtract)):(i=[a],n=R(a)))}return n}function at(t,e){for(var r=[],n=t._fullLayout,i=n.selections,o=i.length,a=0;a<o;a++)if(!e||a===n._activeSelectionIndex){var s=i[a];if(s){var l,c,d,u,h,f=s.xref,p=s.yref,m=z(t,f,"x"),v=z(t,p,"y");if("rect"===s.type){h=[];var y=lt(m,s.x0),x=lt(m,s.x1),w=lt(v,s.y0),_=lt(v,s.y1);h=[[y,w],[y,_],[x,_],[x,w]],l=Math.min(y,x),c=Math.max(y,x),d=Math.min(w,_),u=Math.max(w,_),h.xmin=l,h.xmax=c,h.ymin=d,h.ymax=u,h.xref=f,h.yref=p,h.subtract=!1,h.isRect=!0,r.push(h)}else if("path"===s.type)for(var k=s.path.split("Z"),A=[],T=0;T<k.length;T++){var M=k[T];if(M){M+="Z";var S=g.extractPathCoords(M,b.paramIsX,"raw"),E=g.extractPathCoords(M,b.paramIsY,"raw");l=1/0,c=-1/0,d=1/0,u=-1/0,h=[];for(var C=0;C<S.length;C++){var L=lt(m,S[C]),O=lt(v,E[C]);h.push([L,O]),l=Math.min(L,l),c=Math.max(L,c),d=Math.min(O,d),u=Math.max(O,u)}h.xmin=l,h.xmax=c,h.ymin=d,h.ymax=u,h.xref=f,h.yref=p,h.subtract=st(h,A),A.push(h),r.push(h)}}}}return r}function st(t,e){for(var r=!1,n=0;n<e.length;n++)for(var o=e[n],a=0;a<t.length;a++)if(i(t[a],o)){r=!r;break}return r}function lt(t,e){return"date"===t.type&&(e=e.replace("_"," ")),"log"===t.type?t.c2p(e):t.r2p(e,null,t.calendar)}function ct(t){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];r=(r=r.concat(i)).concat([i[0]])}return(o=r).isRect=5===o.length&&o[0][0]===o[4][0]&&o[0][1]===o[4][1]&&o[0][0]===o[1][0]&&o[2][0]===o[3][0]&&o[0][1]===o[3][1]&&o[1][1]===o[2][1]||o[0][1]===o[1][1]&&o[2][1]===o[3][1]&&o[0][0]===o[3][0]&&o[1][0]===o[2][0],o.isRect&&(o.xmin=Math.min(o[0][0],o[2][0]),o.xmax=Math.max(o[0][0],o[2][0]),o.ymin=Math.min(o[0][1],o[2][1]),o.ymax=Math.max(o[0][1],o[2][1])),o;var o}function dt(t){return function(e,r){for(var n,i,o=0;o<t.length;o++){var a=t[o],s=a._id,l=s.charAt(0);if(r.isRect){n||(n={});var c=r[l+"min"],d=r[l+"max"];void 0!==c&&void 0!==d&&(n[s]=[j(a,c),j(a,d)].sort(S))}else i||(i={}),i[s]=r.map(N(a))}n&&(e.range=n),i&&(e.lassoPoints=i)}}function ut(t,e){e&&(e.selections=(t.layout||{}).selections||[]),t.emit("plotly_selected",e)}function ht(t){t.emit("plotly_deselect",null)}t.exports={reselect:nt,prepSelect:function(t,e,r,n,i){var c=!U(n),d=u(i),g=h(i),b=p(i),y=f(i),x=m(i),_="drawcircle"===i,k="drawline"===i||_,A=n.gd,T=A._fullLayout,S=x&&"immediate"===T.newselection.mode&&c,E=T._zoomlayer,z=n.element.getBoundingClientRect(),L=n.plotinfo,O=B(L),P=e-z.left,j=r-z.top;T._calcInverseTransform(A);var N=M.apply3DTransform(T._invTransform)(P,j);P=N[0],j=N[1];var G,H,Y,X,J,tt,ot,at=T._invScaleX,st=T._invScaleY,lt=P,ft=j,pt="M"+P+","+j,mt=n.xaxes[0],gt=n.yaxes[0],bt=mt._length,vt=gt._length,yt=t.altKey&&!(f(i)&&b);q(t,A,n),d&&(G=F([[P,j]],D.BENDPX));var xt=E.selectAll("path.select-outline-"+L.id).data([1]),wt=y?T.newshape:T.newselection;y&&(n.hasText=wt.label.text||wt.label.texttemplate);var _t=y&&!b?wt.fillcolor:"rgba(0,0,0,0)",kt=wt.line.color||(c?s.contrast(A._fullLayout.plot_bgcolor):"#7f7f7f");xt.enter().append("path").attr("class","select-outline select-outline-"+L.id).style({opacity:y?wt.opacity/2:1,"stroke-dasharray":a(wt.line.dash,wt.line.width),"stroke-width":wt.line.width+"px","shape-rendering":"crispEdges"}).call(s.stroke,kt).call(s.fill,_t).attr("fill-rule","evenodd").classed("cursor-move",!!y).attr("transform",O).attr("d",pt+"Z");var At=E.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1}).attr("transform",O).attr("d","M0,0Z");if(y&&n.hasText){var Tt=E.select(".label-temp");Tt.empty()&&(Tt=E.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Mt=T._uid+D.SELECTID,St=[],Et=Z(A,n.xaxes,n.yaxes,n.subplot);S&&!t.shiftKey&&(n._clearSubplotSelections=function(){if(c){var t=mt._id,e=gt._id;it(A,t,e,Et);for(var r=(A.layout||{}).selections||[],n=[],i=!1,a=0;a<r.length;a++){var s=T.selections[a];s&&s.xref===t&&s.yref===e?i=!0:n.push(r[a])}i&&(A._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",A,{selections:n}))}});var Ct=function(t){return t.plotinfo.fillRangeItems||dt(t.xaxes.concat(t.yaxes))}(n);n.moveFn=function(t,e){n._clearSubplotSelections&&(n._clearSubplotSelections(),n._clearSubplotSelections=void 0),lt=Math.max(0,Math.min(bt,at*t+P)),ft=Math.max(0,Math.min(vt,st*e+j));var r=Math.abs(lt-P),i=Math.abs(ft-j);if(g){var o,a,s;if(x){var l=T.selectdirection;switch(o="any"===l?i<Math.min(.6*r,I)?"h":r<Math.min(.6*i,I)?"v":"d":l){case"h":a=_?vt/2:0,s=vt;break;case"v":a=_?bt/2:0,s=bt}}if(y)switch(T.newshape.drawdirection){case"vertical":o="h",a=_?vt/2:0,s=vt;break;case"horizontal":o="v",a=_?bt/2:0,s=bt;break;case"ortho":r<i?(o="h",a=j,s=ft):(o="v",a=P,s=lt);break;default:o="d"}"h"===o?((X=k?w(_,[lt,a],[lt,s]):[[P,a],[P,s],[lt,s],[lt,a]]).xmin=k?lt:Math.min(P,lt),X.xmax=k?lt:Math.max(P,lt),X.ymin=Math.min(a,s),X.ymax=Math.max(a,s),At.attr("d","M"+X.xmin+","+(j-I)+"h-4v"+2*I+"h4ZM"+(X.xmax-1)+","+(j-I)+"h4v"+2*I+"h-4Z")):"v"===o?((X=k?w(_,[a,ft],[s,ft]):[[a,j],[a,ft],[s,ft],[s,j]]).xmin=Math.min(a,s),X.xmax=Math.max(a,s),X.ymin=k?ft:Math.min(j,ft),X.ymax=k?ft:Math.max(j,ft),At.attr("d","M"+(P-I)+","+X.ymin+"v-4h"+2*I+"v4ZM"+(P-I)+","+(X.ymax-1)+"v4h"+2*I+"v-4Z")):"d"===o&&((X=k?w(_,[P,j],[lt,ft]):[[P,j],[P,ft],[lt,ft],[lt,j]]).xmin=Math.min(P,lt),X.xmax=Math.max(P,lt),X.ymin=Math.min(j,ft),X.ymax=Math.max(j,ft),At.attr("d","M0,0Z"))}else d&&(G.addPt([lt,ft]),X=G.filtered);if(n.selectionDefs&&n.selectionDefs.length?(Y=K(n.mergedPolygons,X,yt),X.subtract=yt,H=W(n.selectionDefs.concat([X]))):(Y=[X],H=R(X)),v(et(Y,b),xt,n),x){var c,u=nt(A,!1),h=u.eventData?u.eventData.points.slice():[];u=nt(A,!1,H,Et,n),H=u.selectionTesters,ot=u.eventData,c=G?G.filtered:ct(Y),C.throttle(Mt,D.SELECTDELAY,(function(){for(var t=(St=rt(H,Et)).slice(),e=0;e<h.length;e++){for(var r=h[e],n=!1,i=0;i<t.length;i++)if(t[i].curveNumber===r.curveNumber&&t[i].pointNumber===r.pointNumber){n=!0;break}n||t.push(r)}t.length&&(ot||(ot={}),ot.points=t),Ct(ot,c),function(t,e){t.emit("plotly_selecting",e)}(A,ot)}))}},n.clickFn=function(t,e){if(At.remove(),A._fullLayout._activeShapeIndex>=0)A._fullLayout._deactivateShape(A);else if(!y){var r=T.clickmode;C.done(Mt).then((function(){if(C.clear(Mt),2===t){for(xt.remove(),J=0;J<Et.length;J++)(tt=Et[J])._module.selectPoints(tt,!1);if(Q(A,Et),$(n),ht(A),Et.length){var i=Et[0].xaxis,a=Et[0].yaxis;if(i&&a){for(var s=[],c=A._fullLayout.selections,d=0;d<c.length;d++){var u=c[d];u&&(u.xref===i._id&&u.yref===a._id||s.push(u))}s.length<c.length&&(A._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",A,{selections:s}))}}}else r.indexOf("select")>-1&&V(e,A,n.xaxes,n.yaxes,n.subplot,n,xt),"event"===r&&ut(A,void 0);l.click(A,e,L.id)})).catch(M.error)}},n.doneFn=function(){At.remove(),C.done(Mt).then((function(){C.clear(Mt),!S&&X&&n.selectionDefs&&(X.subtract=yt,n.selectionDefs.push(X),n.mergedPolygons.length=0,[].push.apply(n.mergedPolygons,Y)),(S||y)&&$(n,S),n.doneFnCompleted&&n.doneFnCompleted(St),x&&ut(A,ot)})).catch(M.error)}},clearOutline:y,clearSelectionsCache:$,selectOnClick:V}},80216:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},80394:(t,e,r)=>{"use strict";var n=r(27941),i=r(12822),o=i.strTranslate,a=r(25853),s=r(89701).LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;e.convertToTspans=function(t,r,g){var S=t.text(),E=!t.attr("data-notex")&&r&&r._context.typesetMath&&"undefined"!=typeof MathJax&&S.match(l),L=n.select(t.node().parentNode);if(!L.empty()){var O=t.attr("class")?t.attr("class").split(" ")[0]:"text";return O+="-math",L.selectAll("svg."+O).remove(),L.selectAll("g."+O+"-group").remove(),t.style("display",null).attr({"data-unformatted":S,"data-math":"N"}),E?(r&&r._promises||[]).push(new Promise((function(e){t.style("display","none");var r=parseInt(t.node().style.fontSize,10),a={fontSize:r};!function(t,e,r){var o,a,s,l,h=parseInt((MathJax.version||"").split(".")[0]);if(2===h||3===h){var f=function(){var r="math-output-"+i.randstr({},64),o=(l=n.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute","font-size":e.fontSize+"px"}).text(t.replace(c,"\\lt ").replace(d,"\\gt "))).node();return 2===h?MathJax.Hub.Typeset(o):MathJax.typeset([o])},p=function(){var e=l.select(2===h?".MathJax_SVG":".MathJax"),o=!e.empty()&&l.select("svg").node();if(o){var a,s=o.getBoundingClientRect();a=2===h?n.select("body").select("#MathJax_SVG_glyphs"):e.select("defs"),r(e,a,s)}else i.log("There was an error in the tex syntax.",t),r();l.remove()};2===h?MathJax.Hub.Queue((function(){return a=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})}),(function(){if("SVG"!==(o=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),f,p,(function(){if("SVG"!==o)return MathJax.Hub.setRenderer(o)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(a)})):3===h&&(a=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(o=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then((function(){f(),p(),"svg"!==o&&(MathJax.config.startup.output=o),MathJax.config=a})))}else i.warn("No MathJax version:",MathJax.version)}(E[2],a,(function(n,i,a){L.selectAll("svg."+O).remove(),L.selectAll("g."+O+"-group").remove();var s=n&&n.select("svg");if(!s||!s.node())return D(),void e();var l=L.append("g").classed(O+"-group",!0).attr({"pointer-events":"none","data-unformatted":S,"data-math":"Y"});l.node().appendChild(s.node()),i&&i.node()&&s.node().insertBefore(i.node().cloneNode(!0),s.node().firstChild);var c=a.width,d=a.height;s.attr({class:O,height:d,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=t.node().style.fill||"black",h=s.select("g");h.attr({fill:u,stroke:u});var f=h.node().getBoundingClientRect(),p=f.width,m=f.height;(p>c||m>d)&&(s.style("overflow","hidden"),p=(f=s.node().getBoundingClientRect()).width,m=f.height);var b=+t.attr("x"),v=+t.attr("y"),y=-(r||t.node().getBoundingClientRect().height)/4;if("y"===O[0])l.attr({transform:"rotate("+[-90,b,v]+")"+o(-p/2,y-m/2)});else if("l"===O[0])v=y-m/2;else if("a"===O[0]&&0!==O.indexOf("atitle"))b=0,v=y;else{var x=t.attr("text-anchor");b-=p*("middle"===x?.5:"end"===x?1:0),v=v+y-m/2}s.attr({x:b,y:v}),g&&g.call(t,l),e(l)}))}))):D(),t}function D(){L.empty()||(O=t.attr("class")+"-math",L.select("svg."+O).remove()),t.text("").style("white-space","pre");var r=function(t,e){e=e.replace(b," ");var r,o=!1,l=[],c=-1;function d(){c++;var e=document.createElementNS(a.svg,"tspan");n.select(e).attr({class:"line",dy:c*s+"em"}),t.appendChild(e),r=e;var i=l;if(l=[{node:e}],i.length>1)for(var o=1;o<i.length;o++)u(i[o])}function u(t){var e,i=t.type,o={};if("a"===i){e="a";var s=t.target,c=t.href,d=t.popup;c&&(o={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":c},d&&(o.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+d+'");return false;'))}else e="tspan";t.style&&(o.style=t.style);var u=document.createElementNS(a.svg,e);if("sup"===i||"sub"===i){g(r,m),r.appendChild(u);var h=document.createElementNS(a.svg,"tspan");g(h,m),n.select(h).attr("dy",p[i]),o.dy=f[i],r.appendChild(u),r.appendChild(h)}else r.appendChild(u);n.select(u).attr(o),r=t.node=u,l.push(t)}function g(t,e){t.appendChild(document.createTextNode(e))}function S(t){if(1!==l.length){var n=l.pop();t!==n.type&&i.log("Start tag <"+n.type+"> doesnt match end tag <"+t+">. Pretending it did match.",e),r=l[l.length-1].node}else i.log("Ignoring unexpected end tag </"+t+">.",e)}x.test(e)?d():(r=t,l=[{node:t}]);for(var E=e.split(v),L=0;L<E.length;L++){var O=E[L],D=O.match(y),I=D&&D[2].toLowerCase(),F=h[I];if("br"===I)d();else if(void 0===F)g(r,C(O));else if(D[1])S(I);else{var R=D[4],P={type:I},j=T(R,w);if(j?(j=j.replace(M,"$1 fill:"),F&&(j+=";"+F)):F&&(j=F),j&&(P.style=j),"a"===I){o=!0;var N=T(R,_);if(N){var B=z(N);B&&(P.href=B,P.target=T(R,k)||"_blank",P.popup=T(R,A))}}u(P)}}return o}(t.node(),S);r&&t.style("pointer-events","all"),e.positionText(t),g&&g.call(t)}};var c=/(<|&lt;|&#60;)/g,d=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],h={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},p={sub:"-0.21em",sup:"0.42em"},m="",g=["http:","https:","mailto:","",void 0,":"],b=e.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,x=/<br(\s+.*)?>/i;e.BR_TAG_ALL=/<br(\s+.*)?>/gi;var w=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,_=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,A=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(t,e){if(!t)return null;var r=t.match(e),n=r&&(r[3]||r[4]);return n&&C(n)}var M=/(^|;)\s*color:/;e.plainText=function(t,e){for(var r=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,n=void 0!==e.allowedTags?e.allowedTags:["br"],i=t.split(v),o=[],a="",s=0,l=0;l<i.length;l++){var c=i[l],d=c.match(y),u=d&&d[2].toLowerCase();if(u)-1!==n.indexOf(u)&&(o.push(c),a=u);else{var h=c.length;if(s+h<r)o.push(c),s+=h;else if(s<r){var f=r-s;a&&("br"!==a||f<=3||h<=3)&&o.pop(),r>3?o.push(c.substr(0,f-3)+"..."):o.push(c.substr(0,f));break}a=""}}return o.join("")};var S={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(t){return t.replace(E,(function(t,e){return("#"===e.charAt(0)?function(t){if(!(t>1114111)){var e=String.fromCodePoint;if(e)return e(t);var r=String.fromCharCode;return t<=65535?r(t):r(55232+(t>>10),t%1024+56320)}}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):S[e])||t}))}function z(t){var e=encodeURI(decodeURI(t)),r=document.createElement("a"),n=document.createElement("a");r.href=t,n.href=e;var i=r.protocol,o=n.protocol;return-1!==g.indexOf(i)&&-1!==g.indexOf(o)?e:""}function L(t,e,r){var n,o,a,s=r.horizontalAlign,l=r.verticalAlign||"top",c=t.node().getBoundingClientRect(),d=e.node().getBoundingClientRect();return o="bottom"===l?function(){return c.bottom-n.height}:"middle"===l?function(){return c.top+(c.height-n.height)/2}:function(){return c.top},a="right"===s?function(){return c.right-n.width}:"center"===s?function(){return c.left+(c.width-n.width)/2}:function(){return c.left},function(){n=this.node().getBoundingClientRect();var t=a()-d.left,e=o()-d.top,s=r.gd||{};if(r.gd){s._fullLayout._calcInverseTransform(s);var l=i.apply3DTransform(s._fullLayout._invTransform)(t,e);t=l[0],e=l[1]}return this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}e.convertEntities=C,e.sanitizeHTML=function(t){t=t.replace(b," ");for(var e=document.createElement("p"),r=e,i=[],o=t.split(v),a=0;a<o.length;a++){var s=o[a],l=s.match(y),c=l&&l[2].toLowerCase();if(c in h)if(l[1])i.length&&(r=i.pop());else{var d=l[4],u=T(d,w),f=u?{style:u}:{};if("a"===c){var p=T(d,_);if(p){var m=z(p);if(m){f.href=m;var g=T(d,k);g&&(f.target=g)}}}var x=document.createElement(c);r.appendChild(x),n.select(x).attr(f),r=x,i.push(x)}else r.appendChild(document.createTextNode(C(s)))}return e.innerHTML},e.lineCount=function(t){return t.selectAll("tspan.line").size()||1},e.positionText=function(t,e,r){return t.each((function(){var t=n.select(this);function i(e,r){return void 0===r?null===(r=t.attr(e))&&(t.attr(e,0),r=0):t.attr(e,r),r}var o=i("x",e),a=i("y",r);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:o,y:a})}))};var O="1px ";e.makeTextShadow=function(t){return O+O+O+t+", -"+O+"-"+O+O+t+", "+O+"-"+O+O+t+", -"+O+O+O+t},e.makeEditable=function(t,e){var r=e.gd,i=e.delegate,o=n.dispatch("edit","input","cancel"),a=i||t;if(t.style({"pointer-events":i?"none":"all"}),1!==t.size())throw new Error("boo");function s(){var i,s,c,d,u;i=n.select(r).select(".svg-container"),s=i.append("div"),c=t.node().style,d=parseFloat(c.fontSize||12),void 0===(u=e.text)&&(u=t.attr("data-unformatted")),s.classed("plugin-editable editable",!0).style({position:"absolute","font-family":c.fontFamily||"Arial","font-size":d,color:e.fill||c.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-d/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(u).call(L(t,i,e)).on("blur",(function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var e,i=n.select(this).attr("class");(e=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(t.node().parentNode).select(e).style({opacity:0});var a=this.textContent;n.select(this).transition().duration(0).remove(),n.select(document).on("mouseup",null),o.edit.call(t,a)})).on("focus",(function(){var t=this;r._editing=!0,n.select(document).on("mouseup",(function(){if(n.event.target===t)return!1;document.activeElement===s.node()&&s.node().blur()}))})).on("keyup",(function(){27===n.event.which?(r._editing=!1,t.style({opacity:1}),n.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),o.cancel.call(t,this.textContent)):(o.input.call(t,this.textContent),n.select(this).call(L(t,i,e)))})).on("keydown",(function(){13===n.event.which&&this.blur()})).call(l),t.style({opacity:0});var h,f=a.attr("class");(h=f?"."+f.split(" ")[0]+"-math-group":"[class*=-math-group]")&&n.select(t.node().parentNode).select(h).style({opacity:0})}function l(t){var e=t.node(),r=document.createRange();r.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),e.focus()}return e.immediate?s():a.on("click",s),n.rebind(t,o,"on")}},80755:(t,e,r)=>{"use strict";var n=r(78920),i=r(42226);t.exports={moduleType:"component",name:"colorscale",attributes:r(89322),layoutAttributes:r(92425),supplyLayoutDefaults:r(28558),handleDefaults:r(94461),crossTraceDefaults:r(51774),calc:r(62182),scales:n.scales,defaultScale:n.defaultScale,getScale:n.get,isValidScale:n.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},80857:t=>{"use strict";t.exports=function(t,e,r){r("newselection.mode"),r("newselection.line.width")&&(r("newselection.line.color"),r("newselection.line.dash")),r("activeselection.fillcolor"),r("activeselection.opacity")}},81030:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815);function o(t,e){var r=e.fullSceneLayout.domain,o=e.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},n.extendFlat(t._xa,a),i.setConvert(t._xa),t._xa._offset=o.l+r.x[0]*o.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*o.w*(r.x[1]-r.x[0])},t._ya={},n.extendFlat(t._ya,a),i.setConvert(t._ya),t._ya._offset=o.t+(1-r.y[1])*o.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*o.h*(r.y[1]-r.y[0])}}t.exports=function(t){for(var e=t.fullSceneLayout.annotations,r=0;r<e.length;r++)o(e[r],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},81114:(t,e,r)=>{"use strict";var n=r(59738),i=r(55351);t.exports=function(t,e,r){if(r&&!n(t)){if("default"in r)return r.default;if(r.isOptional)return null}var o=new(r&&r.Error||TypeError)(i(e,t,r));throw r&&r.errorCode&&(o.code=r.errorCode),o}},81146:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}var a,s,l={};function c(t,e,r){r||(r=Error);var a=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(d,r);var a,s,l,c=(s=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=o(s);if(l){var r=o(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function d(r,n,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),o=c.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,i)),o.code=t,o}return a=d,Object.defineProperty(a,"prototype",{writable:!1}),a}(r);l[t]=a}function d(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s,l,c,u;if(void 0===a&&(a=r(34961)),a("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(s="not ",e.substr(0,4)===s)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))l="The ".concat(t," ").concat(o," ").concat(d(e,"type"));else{var h=("number"!=typeof u&&(u=0),u+1>(c=t).length||-1===c.indexOf(".",u)?"argument":"property");l='The "'.concat(t,'" ').concat(h," ").concat(o," ").concat(d(e,"type"))}return l+". Received type ".concat(n(i))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=r(11276));var i=s.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(t,e,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===a&&(a=r(34961)),a(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=l},81309:(t,e,r)=>{"use strict";var n=r(99864);t.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return t!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}return!1}()?n:Object.assign:n}},81436:t=>{"use strict";t.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},81665:t=>{"use strict";t.exports=Object},81692:(t,e,r)=>{"use strict";var n=r(12822),i=r(46121),o=r(49342),a=r(8736),s=r(84411),l=r(12213),c=r(76699);t.exports=function(t,e,r){var d=i.newContainer(e,"colorbar"),u=t.colorbar||{};function h(t,e){return n.coerce(u,d,c,t,e)}var f=r.margin||{t:0,b:0,l:0,r:0},p=r.width-f.l-f.r,m=r.height-f.t-f.b,g="v"===h("orientation"),b=h("thicknessmode");h("thickness","fraction"===b?30/(g?p:m):30);var v=h("lenmode");h("len","fraction"===v?1:g?m:p);var y,x,w,_="paper"===h("yref"),k="paper"===h("xref"),A="left";g?(w="middle",A=k?"left":"right",y=k?1.02:1,x=.5):(w=_?"bottom":"top",A="center",y=.5,x=_?1.02:1),n.coerce(u,d,{x:{valType:"number",min:k?-2:0,max:k?3:1,dflt:y}},"x"),n.coerce(u,d,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:x}},"y"),h("xanchor",A),h("xpad"),h("yanchor",w),h("ypad"),n.noneOrAll(u,d,["x","y"]),h("outlinecolor"),h("outlinewidth"),h("bordercolor"),h("borderwidth"),h("bgcolor");var T=n.coerce(u,d,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:g?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");h("ticklabeloverflow",-1!==T.indexOf("inside")?"hide past domain":"hide past div"),o(u,d,h,"linear");var M=r.font,S={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:M};-1!==T.indexOf("inside")&&(S.bgColor="black"),l(u,d,h,"linear",S),s(u,d,h,"linear",S),a(u,d,h,"linear",S),h("title.text",r._dfltTitle.colorbar);var E=d.showticklabels?d.tickfont:M,C=n.extendFlat({},M,{family:E.family,size:n.bigFont(E.size)});n.coerceFont(h,"title.font",C),h("title.side",g?"top":"right")}},81776:(t,e,r)=>{"use strict";var n=r(25059);t.exports=function(t){for(var e,r,i=n.layoutArrayContainers,o=n.layoutArrayRegexes,a=t.split("[")[0],s=0;s<o.length;s++)if((r=t.match(o[s]))&&0===r.index){e=r[0];break}if(e||(e=i[i.indexOf(a)]),!e)return!1;var l=t.substr(e.length);return l?!!(r=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(r[1]),property:r[3]||""}:{array:e,index:"",property:""}}},81937:(t,e,r)=>{"use strict";var n=r(40288),i=[32,126];t.exports=function(t){var e=(t=t||{}).shape?t.shape:t.canvas?[t.canvas.width,t.canvas.height]:[512,512],r=t.canvas||document.createElement("canvas"),o=t.font,a="number"==typeof t.step?[t.step,t.step]:t.step||[32,32],s=t.chars||i;if(o&&"string"!=typeof o&&(o=n(o)),Array.isArray(s)){if(2===s.length&&"number"==typeof s[0]&&"number"==typeof s[1]){for(var l=[],c=s[0],d=0;c<=s[1];c++)l[d++]=String.fromCharCode(c);s=l}}else s=String(s).split("");e=e.slice(),r.width=e[0],r.height=e[1];var u=r.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,r.width,r.height),u.font=o,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";var h=a[0]/2,f=a[1]/2;for(c=0;c<s.length;c++)u.fillText(s[c],h,f),(h+=a[0])>e[0]-a[0]/2&&(h=a[0]/2,f+=a[1]);return r}},81941:(t,e,r)=>{"use strict";var n=r(99246),i=r(14295),o=i.drawMode,a=i.openMode,s=r(81436),l=s.i000,c=s.i090,d=s.i180,u=s.i270,h=s.cos45,f=s.sin45,p=r(38554),m=p.p2r,g=p.r2p,b=r(8867).clearOutline,v=r(59952),y=v.readPaths,x=v.writePaths,w=v.ellipseOver,_=v.fixDatesForPaths;function k(t,e,r){var n,i=t[0][0],o=e.gd,s=i.getAttribute("d"),p=o._fullLayout.newshape,b=e.plotinfo,v=e.isActiveShape,k=b.xaxis,A=b.yaxis,T=!!b.domain||!b.xaxis,M=!!b.domain||!b.yaxis,S=a(r),E=y(s,o,b,v),C={editable:!0,visible:p.visible,name:p.name,showlegend:p.showlegend,legend:p.legend,legendwidth:p.legendwidth,legendgroup:p.legendgroup,legendgrouptitle:{text:p.legendgrouptitle.text,font:p.legendgrouptitle.font},legendrank:p.legendrank,label:p.label,xref:T?"paper":k._id,yref:M?"paper":A._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};if(S||(C.fillcolor=p.fillcolor,C.fillrule=p.fillrule),1===E.length&&(n=E[0]),n&&5===n.length&&"drawrect"===r)C.type="rect",C.x0=n[0][1],C.y0=n[0][2],C.x1=n[2][1],C.y1=n[2][2];else if(n&&"drawline"===r)C.type="line",C.x0=n[0][1],C.y0=n[0][2],C.x1=n[1][1],C.y1=n[1][2];else if(n&&"drawcircle"===r){C.type="circle";var z=n[l][1],L=n[c][1],O=n[d][1],D=n[u][1],I=n[l][2],F=n[c][2],R=n[d][2],P=n[u][2],j=b.xaxis&&("date"===b.xaxis.type||"log"===b.xaxis.type),N=b.yaxis&&("date"===b.yaxis.type||"log"===b.yaxis.type);j&&(z=g(b.xaxis,z),L=g(b.xaxis,L),O=g(b.xaxis,O),D=g(b.xaxis,D)),N&&(I=g(b.yaxis,I),F=g(b.yaxis,F),R=g(b.yaxis,R),P=g(b.yaxis,P));var B=(L+D)/2,U=(I+R)/2,V=w({x0:B,y0:U,x1:B+(D-L+O-z)/2*h,y1:U+(P-F+R-I)/2*f});j&&(V.x0=m(b.xaxis,V.x0),V.x1=m(b.xaxis,V.x1)),N&&(V.y0=m(b.yaxis,V.y0),V.y1=m(b.yaxis,V.y1)),C.x0=V.x0,C.y0=V.y0,C.x1=V.x1,C.y1=V.y1}else C.type="path",k&&A&&_(E,k,A),C.path=x(E),n=null;return C}t.exports={newShapes:function(t,e){if(t.length&&t[0][0]){var r=e.gd,i=e.isActiveShape,a=e.dragmode,s=(r.layout||{}).shapes||[];if(!o(a)&&void 0!==i){var l=r._fullLayout._activeShapeIndex;if(l<s.length)switch(r._fullLayout.shapes[l].type){case"rect":a="drawrect";break;case"circle":a="drawcircle";break;case"line":a="drawline";break;case"path":var c=s[l].path||"";a="Z"===c[c.length-1]?"drawclosedpath":"drawopenpath"}}var d=k(t,e,a);b(r);for(var u=e.editHelpers,h=(u||{}).modifyItem,f=[],p=0;p<s.length;p++){var m=r._fullLayout.shapes[p];if(f[p]=m._input,void 0!==i&&p===r._fullLayout._activeShapeIndex){var g=d;switch(m.type){case"line":case"rect":case"circle":var v=n.getFromId(r,m.xref);"x"===m.xref.charAt(0)&&v.type.includes("category")?(h("x0",g.x0-(m.x0shift||0)),h("x1",g.x1-(m.x1shift||0))):(h("x0",g.x0),h("x1",g.x1));var y=n.getFromId(r,m.yref);"y"===m.yref.charAt(0)&&y.type.includes("category")?(h("y0",g.y0-(m.y0shift||0)),h("y1",g.y1-(m.y1shift||0))):(h("y0",g.y0),h("y1",g.y1));break;case"path":h("path",g.path)}}}return void 0===i?(f.push(d),f):u?u.getUpdateObj():{}}},createShapeObj:k}},82349:t=>{"use strict";var e=["orientation","groupnorm","stackgaps"];t.exports=function(t,r,n,i){var o=n._scatterStackOpts,a=i("stackgroup");if(a){var s=r.xaxis+r.yaxis,l=o[s];l||(l=o[s]={});var c=l[a],d=!1;c?c.traces.push(r):(c=l[a]={traceIndices:[],traces:[r]},d=!0);for(var u={orientation:r.x&&!r.y?"h":"v"},h=0;h<e.length;h++){var f=e[h],p=f+"Found";if(!c[p]){var m=void 0!==t[f],g="orientation"===f;if((m||d)&&(c[f]=i(f,u[f]),g&&(c.fillDflt="h"===c[f]?"tonextx":"tonexty"),m&&(c[p]=!0,!d&&(delete c.traces[0][f],g))))for(var b=0;b<c.traces.length-1;b++){var v=c.traces[b];v._input.fill!==v.fill&&(v.fill=c.fillDflt)}}}return c}}},82393:(t,e,r)=>{"use strict";t.exports={parse:r(60062),stringify:r(40288)}},82678:(t,e,r)=>{"use strict";var n=r(17235),i=r(12822),o=["xaxis","yaxis","zaxis"];function a(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}a.prototype.merge=function(t,e){for(var r=this,a=0;a<3;++a){var s=e[o[a]];s.visible?(r.labels[a]=t._meta?i.templateString(s.title.text,t._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(r.labelColor[a]=n(s.title.font.color)),s.title.font.family&&(r.labelFont[a]=s.title.font.family),s.title.font.size&&(r.labelSize[a]=s.title.font.size),s.title.font.weight&&(r.labelFontWeight[a]=s.title.font.weight),s.title.font.style&&(r.labelFontStyle[a]=s.title.font.style),s.title.font.variant&&(r.labelFontVariant[a]=s.title.font.variant)),"showline"in s&&(r.lineEnable[a]=s.showline),"linecolor"in s&&(r.lineColor[a]=n(s.linecolor)),"linewidth"in s&&(r.lineWidth[a]=s.linewidth),"showgrid"in s&&(r.gridEnable[a]=s.showgrid),"gridcolor"in s&&(r.gridColor[a]=n(s.gridcolor)),"gridwidth"in s&&(r.gridWidth[a]=s.gridwidth),"log"===s.type?r.zeroEnable[a]=!1:"zeroline"in s&&(r.zeroEnable[a]=s.zeroline),"zerolinecolor"in s&&(r.zeroLineColor[a]=n(s.zerolinecolor)),"zerolinewidth"in s&&(r.zeroLineWidth[a]=s.zerolinewidth),"ticks"in s&&s.ticks?r.lineTickEnable[a]=!0:r.lineTickEnable[a]=!1,"ticklen"in s&&(r.lineTickLength[a]=r._defaultLineTickLength[a]=s.ticklen),"tickcolor"in s&&(r.lineTickColor[a]=n(s.tickcolor)),"tickwidth"in s&&(r.lineTickWidth[a]=s.tickwidth),"tickangle"in s&&(r.tickAngle[a]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(r.tickEnable[a]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(r.tickColor[a]=n(s.tickfont.color)),s.tickfont.family&&(r.tickFont[a]=s.tickfont.family),s.tickfont.size&&(r.tickSize[a]=s.tickfont.size),s.tickfont.weight&&(r.tickFontWeight[a]=s.tickfont.weight),s.tickfont.style&&(r.tickFontStyle[a]=s.tickfont.style),s.tickfont.variant&&(r.tickFontVariant[a]=s.tickfont.variant)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(r.lineTickMirror[a]=!0,r.lineMirror[a]=!0):!0===s.mirror?(r.lineTickMirror[a]=!1,r.lineMirror[a]=!0):(r.lineTickMirror[a]=!1,r.lineMirror[a]=!1):r.lineMirror[a]=!1,"showbackground"in s&&!1!==s.showbackground?(r.backgroundEnable[a]=!0,r.backgroundColor[a]=n(s.backgroundcolor)):r.backgroundEnable[a]=!1):(r.tickEnable[a]=!1,r.labelEnable[a]=!1,r.lineEnable[a]=!1,r.lineTickEnable[a]=!1,r.gridEnable[a]=!1,r.zeroEnable[a]=!1,r.backgroundEnable[a]=!1)}},t.exports=function(t,e){var r=new a;return r.merge(t,e),r}},82844:t=>{"use strict";var e="razdwatrzy";t.exports=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}},82854:(t,e,r)=>{"use strict";var n=r(17499),i=r(86130),o=r(98260).extendFlat,a=r(62309).overrideAll;t.exports=a({visible:i.visible,showspikes:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes starting from","data points to this axis' wall are shown on hover."].join(" ")},spikesides:{valType:"boolean",dflt:!0,description:["Sets whether or not spikes extending from the","projection data points to this axis' wall boundaries","are shown on hover."].join(" ")},spikethickness:{valType:"number",min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",dflt:n.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",dflt:!1,description:["Sets whether or not this axis' wall","has a background color."].join(" ")},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",dflt:!0,description:"Sets whether or not this axis is labeled"},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:{text:i.title.text,font:i.title.font},type:o({},i.type,{values:["-","linear","log","date","category"]}),autotypenumbers:i.autotypenumbers,autorange:i.autorange,autorangeoptions:{minallowed:i.autorangeoptions.minallowed,maxallowed:i.autorangeoptions.maxallowed,clipmin:i.autorangeoptions.clipmin,clipmax:i.autorangeoptions.clipmax,include:i.autorangeoptions.include,editType:"plot"},rangemode:i.rangemode,minallowed:i.minallowed,maxallowed:i.maxallowed,range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,labelalias:i.labelalias,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:o({},i.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth},"plot","from-root")},83029:function(t){t.exports=function(){function t(t,e){this.id=q++,this.type=t,this.data=e}function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(1<t.length&&r===n&&('"'===r||"'"===r))return['"'+t.substr(1,t.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))return e(t.substr(0,r.index)).concat(e(r[1])).concat(e(t.substr(r.index+r[0].length)));if(1===(r=t.split(".")).length)return['"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(t=[],n=0;n<r.length;++n)t=t.concat(e(r[n]));return t}function r(t){return"["+e(t).join("][")+"]"}function n(t){return"string"==typeof t?t.split():t}function i(t){return"string"==typeof t?document.querySelector(t):t}function o(t){var e,r,o,a,s=t||{};t={};var l=[],c=[],d="undefined"==typeof window?1:window.devicePixelRatio,u=!1,h={},f=function(t){},p=function(){};if("string"==typeof s?e=document.querySelector(s):"object"==typeof s&&("string"==typeof s.nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?e=s:"function"==typeof s.drawArrays||"function"==typeof s.drawElements?o=(a=s).canvas:("gl"in s?a=s.gl:"canvas"in s?o=i(s.canvas):"container"in s&&(r=i(s.container)),"attributes"in s&&(t=s.attributes),"extensions"in s&&(l=n(s.extensions)),"optionalExtensions"in s&&(c=n(s.optionalExtensions)),"onDone"in s&&(f=s.onDone),"profile"in s&&(u=!!s.profile),"pixelRatio"in s&&(d=+s.pixelRatio),"cachedCode"in s&&(h=s.cachedCode))),e&&("canvas"===e.nodeName.toLowerCase()?o=e:r=e),!a){if(!o){if(!(e=function(t,e,r){function n(){var e=window.innerWidth,n=window.innerHeight;t!==document.body&&(e=(n=o.getBoundingClientRect()).right-n.left,n=n.bottom-n.top),o.width=r*e,o.height=r*n}var i,o=document.createElement("canvas");return W(o.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),t.appendChild(o),t===document.body&&(o.style.position="absolute",W(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(n)}))).observe(t):window.addEventListener("resize",n,!1),n(),{canvas:o,onDestroy:function(){i?i.disconnect():window.removeEventListener("resize",n),t.removeChild(o)}}}(r||document.body,0,d)))return null;o=e.canvas,p=e.onDestroy}void 0===t.premultipliedAlpha&&(t.premultipliedAlpha=!0),a=function(t,e){function r(r){try{return t.getContext(r,e)}catch(t){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}(o,t)}return a?{gl:a,canvas:o,container:r,extensions:l,optionalExtensions:c,pixelRatio:d,profile:u,cachedCode:h,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function a(t,e){for(var r=Array(t),n=0;n<t;++n)r[n]=e(n);return r}function s(t){var e,r;return e=(65535<t)<<4,e|=r=(255<(t>>>=e))<<3,(e|=r=(15<(t>>>=r))<<2)|(r=(3<(t>>>=r))<<1)|t>>>r>>1}function l(){function t(t){t:{for(var e=16;268435456>=e;e*=16)if(t<=e){t=e;break t}t=0}return 0<(e=r[s(t)>>2]).length?e.pop():new ArrayBuffer(t)}function e(t){r[s(t.byteLength)>>2].push(t)}var r=a(8,(function(){return[]}));return{alloc:t,free:e,allocType:function(e,r){var n=null;switch(e){case 5120:n=new Int8Array(t(r),0,r);break;case 5121:n=new Uint8Array(t(r),0,r);break;case 5122:n=new Int16Array(t(2*r),0,r);break;case 5123:n=new Uint16Array(t(2*r),0,r);break;case 5124:n=new Int32Array(t(4*r),0,r);break;case 5125:n=new Uint32Array(t(4*r),0,r);break;case 5126:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(t){e(t.buffer)}}}function c(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||Q(t.data))}function d(t,e,r,n,i,o){for(var a=0;a<e;++a)for(var s=t[a],l=0;l<r;++l)for(var c=s[l],d=0;d<n;++d)i[o++]=c[d]}function u(t,e,r,n,i){for(var o=1,a=r+1;a<e.length;++a)o*=e[a];var s=e[r];if(4==e.length-r){var l=e[r+1],c=e[r+2];for(e=e[r+3],a=0;a<s;++a)d(t[a],l,c,e,n,i),i+=o}else for(a=0;a<s;++a)u(t[a],e,r+1,n,i),i+=o}function h(t){return 0|et[Object.prototype.toString.call(t)]}function f(t,e){for(var r=0;r<e.length;++r)t[r]=e[r]}function p(t,e,r,n,i,o,a){for(var s=0,l=0;l<r;++l)for(var c=0;c<n;++c)t[s++]=e[i*l+o*c+a]}function m(t,e,r,n){function i(e){this.id=l++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}function o(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function a(t,e,r,n,i,a){if(t.usage=r,Array.isArray(e)){if(t.dtype=n||5126,0<e.length)if(Array.isArray(e[0])){i=ot(e);for(var s=n=1;s<i.length;++s)n*=i[s];t.dimension=n,o(t,e=it(e,i,t.dtype),r),a?t.persistentData=e:X.freeType(e)}else"number"==typeof e[0]?(t.dimension=i,f(i=X.allocType(t.dtype,e.length),e),o(t,i,r),a?t.persistentData=i:X.freeType(i)):Q(e[0])&&(t.dimension=e[0].length,t.dtype=n||h(e[0])||5126,o(t,e=it(e,[e.length,e[0].length],t.dtype),r),a?t.persistentData=e:X.freeType(e))}else if(Q(e))t.dtype=n||h(e),t.dimension=i,o(t,e,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(c(e)){i=e.shape;var l=e.stride,d=(s=e.offset,0),u=0,m=0,g=0;1===i.length?(d=i[0],u=1,m=l[0],g=0):2===i.length&&(d=i[0],u=i[1],m=l[0],g=l[1]),t.dtype=n||h(e.data)||5126,t.dimension=u,p(i=X.allocType(t.dtype,d*u),e.data,d,u,m,g,s),o(t,i,r),a?t.persistentData=i:X.freeType(i)}else e instanceof ArrayBuffer&&(t.dtype=5121,t.dimension=i,o(t,e,r),a&&(t.persistentData=new Uint8Array(new Uint8Array(e))))}function s(r){e.bufferCount--,n(r),t.deleteBuffer(r.buffer),r.buffer=null,delete d[r.id]}var l=0,d={};i.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},i.prototype.destroy=function(){s(this)};var u=[];return r.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(d).forEach((function(e){t+=d[e].stats.size})),t}),{create:function(n,o,l,u){function m(e){var n=35044,i=null,o=0,s=0,l=1;return Array.isArray(e)||Q(e)||c(e)||e instanceof ArrayBuffer?i=e:"number"==typeof e?o=0|e:e&&("data"in e&&(i=e.data),"usage"in e&&(n=nt[e.usage]),"type"in e&&(s=rt[e.type]),"dimension"in e&&(l=0|e.dimension),"length"in e&&(o=0|e.length)),g.bind(),i?a(g,i,n,s,l,u):(o&&t.bufferData(g.type,o,n),g.dtype=s||5121,g.usage=n,g.dimension=l,g.byteLength=o),r.profile&&(g.stats.size=g.byteLength*at[g.dtype]),m}e.bufferCount++;var g=new i(o);return d[g.id]=g,l||m(n),m._reglType="buffer",m._buffer=g,m.subdata=function(e,r){var n,i=0|(r||0);if(g.bind(),Q(e)||e instanceof ArrayBuffer)t.bufferSubData(g.type,i,e);else if(Array.isArray(e)){if(0<e.length)if("number"==typeof e[0]){var o=X.allocType(g.dtype,e.length);f(o,e),t.bufferSubData(g.type,i,o),X.freeType(o)}else(Array.isArray(e[0])||Q(e[0]))&&(n=ot(e),o=it(e,n,g.dtype),t.bufferSubData(g.type,i,o),X.freeType(o))}else if(c(e)){n=e.shape;var a=e.stride,s=o=0,l=0,d=0;1===n.length?(o=n[0],s=1,l=a[0],d=0):2===n.length&&(o=n[0],s=n[1],l=a[0],d=a[1]),n=Array.isArray(e.data)?g.dtype:h(e.data),p(n=X.allocType(n,o*s),e.data,o,s,l,d,e.offset),t.bufferSubData(g.type,i,n),X.freeType(n)}return m},r.profile&&(m.stats=g.stats),m.destroy=function(){s(g)},m},createStream:function(t,e){var r=u.pop();return r||(r=new i(t)),r.bind(),a(r,e,35040,0,1,!1),r},destroyStream:function(t){u.push(t)},clear:function(){K(d).forEach(s),u.forEach(s)},getBuffer:function(t){return t&&t._buffer instanceof i?t._buffer:null},restore:function(){K(d).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:a}}function g(t,e,r,n){function i(t){this.id=l++,s[this.id]=this,this.buffer=t,this.primType=4,this.type=this.vertCount=0}function o(n,i,o,a,s,l,d){var u;if(n.buffer.bind(),i?((u=d)||Q(i)&&(!c(i)||Q(i.data))||(u=e.oes_element_index_uint?5125:5123),r._initBuffer(n.buffer,i,o,u,3)):(t.bufferData(34963,l,o),n.buffer.dtype=u||5121,n.buffer.usage=o,n.buffer.dimension=3,n.buffer.byteLength=l),u=d,!d){switch(n.buffer.dtype){case 5121:case 5120:u=5121;break;case 5123:case 5122:u=5123;break;case 5125:case 5124:u=5125}n.buffer.dtype=u}n.type=u,0>(i=s)&&(i=n.buffer.byteLength,5123===u?i>>=1:5125===u&&(i>>=2)),n.vertCount=i,i=a,0>a&&(i=4,1===(a=n.buffer.dimension)&&(i=0),2===a&&(i=1),3===a&&(i=4)),n.primType=i}function a(t){n.elementsCount--,delete s[t.id],t.buffer.destroy(),t.buffer=null}var s={},l=0,d={uint8:5121,uint16:5123};e.oes_element_index_uint&&(d.uint32=5125),i.prototype.bind=function(){this.buffer.bind()};var u=[];return{create:function(t,e){function s(t){if(t)if("number"==typeof t)l(t),u.primType=4,u.vertCount=0|t,u.type=5121;else{var e=null,r=35044,n=-1,i=-1,a=0,h=0;Array.isArray(t)||Q(t)||c(t)?e=t:("data"in t&&(e=t.data),"usage"in t&&(r=nt[t.usage]),"primitive"in t&&(n=st[t.primitive]),"count"in t&&(i=0|t.count),"type"in t&&(h=d[t.type]),"length"in t?a=0|t.length:(a=i,5123===h||5122===h?a*=2:5125!==h&&5124!==h||(a*=4))),o(u,e,r,n,i,a,h)}else l(),u.primType=4,u.vertCount=0,u.type=5121;return s}var l=r.create(null,34963,!0),u=new i(l._buffer);return n.elementsCount++,s(t),s._reglType="elements",s._elements=u,s.subdata=function(t,e){return l.subdata(t,e),s},s.destroy=function(){a(u)},s},createStream:function(t){var e=u.pop();return e||(e=new i(r.create(null,34963,!0,!1)._buffer)),o(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){u.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof i?t._elements:null},clear:function(){K(s).forEach(a)}}}function b(t){for(var e=X.allocType(5123,t.length),r=0;r<t.length;++r)if(isNaN(t[r]))e[r]=65535;else if(1/0===t[r])e[r]=31744;else if(-1/0===t[r])e[r]=64512;else{lt[0]=t[r];var n=(o=ct[0])>>>31<<15,i=(o<<1>>>24)-127,o=o>>13&1023;e[r]=-24>i?n:-14>i?n+(o+1024>>-14-i):15<i?n+31744:n+(i+15<<10)+o}return e}function v(t){return Array.isArray(t)||Q(t)}function y(t){return"[object "+t+"]"}function x(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function w(t){return!(!Array.isArray(t)||0===t.length||!v(t[0]))}function _(t){return Object.prototype.toString.call(t)}function k(t){if(!t)return!1;var e=_(t);return 0<=yt.indexOf(e)||x(t)||w(t)||c(t)}function A(t,e){36193===t.type?(t.data=b(e),X.freeType(e)):t.data=e}function T(t,e,r,n,i,o){if(t=void 0!==wt[t]?wt[t]:ht[t]*xt[e],o&&(t*=6),i){for(n=0;1<=r;)n+=t*r*r,r/=2;return n}return t*r*n}function M(t,e,r,n,i,o,a){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function l(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function d(t,e){if("object"==typeof e&&e){"premultiplyAlpha"in e&&(t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(t.flipY=e.flipY),"alignment"in e&&(t.unpackAlignment=e.alignment),"colorSpace"in e&&(t.colorSpace=V[e.colorSpace]),"type"in e&&(t.type=G[e.type]);var r=t.width,n=t.height,i=t.channels,o=!1;"shape"in e?(r=e.shape[0],n=e.shape[1],3===e.shape.length&&(i=e.shape[2],o=!0)):("radius"in e&&(r=n=e.radius),"width"in e&&(r=e.width),"height"in e&&(n=e.height),"channels"in e&&(i=e.channels,o=!0)),t.width=0|r,t.height=0|n,t.channels=0|i,r=!1,"format"in e&&(r=e.format,n=t.internalformat=H[r],t.format=ot[n],r in G&&!("type"in e)&&(t.type=G[r]),r in q&&(t.compressed=!0),r=!0),!o&&r?t.channels=ht[t.format]:o&&!r&&t.channels!==ut[t.format]&&(t.format=t.internalformat=ut[t.channels])}}function u(e){t.pixelStorei(37440,e.flipY),t.pixelStorei(37441,e.premultiplyAlpha),t.pixelStorei(37443,e.colorSpace),t.pixelStorei(3317,e.unpackAlignment)}function h(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function f(t,e){var r=null;if(k(e)?r=e:e&&(d(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),k(e.data)&&(r=e.data)),e.copy){var n=i.viewportWidth,o=i.viewportHeight;t.width=t.width||n-t.xOffset,t.height=t.height||o-t.yOffset,t.needsCopy=!0}else if(r){if(Q(r))t.channels=t.channels||4,t.data=r,"type"in e||5121!==t.type||(t.type=0|et[Object.prototype.toString.call(r)]);else if(x(r)){switch(t.channels=t.channels||4,o=(n=r).length,t.type){case 5121:case 5123:case 5125:case 5126:(o=X.allocType(t.type,o)).set(n),t.data=o;break;case 36193:t.data=b(n)}t.alignment=1,t.needsFree=!0}else if(c(r)){n=r.data,Array.isArray(n)||5121!==t.type||(t.type=0|et[Object.prototype.toString.call(n)]),o=r.shape;var a,s,l,u,h=r.stride;3===o.length?(l=o[2],u=h[2]):u=l=1,a=o[0],s=o[1],o=h[0],h=h[1],t.alignment=1,t.width=a,t.height=s,t.channels=l,t.format=t.internalformat=ut[l],t.needsFree=!0,a=u,r=r.offset,l=t.width,u=t.height,s=t.channels;for(var f=X.allocType(36193===t.type?5126:t.type,l*u*s),p=0,m=0;m<u;++m)for(var g=0;g<l;++g)for(var y=0;y<s;++y)f[p++]=n[o*g+h*m+a*y+r];A(t,f)}else if(_(r)===ft||_(r)===pt||_(r)===mt)_(r)===ft||_(r)===pt?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(_(r)===gt)t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(_(r)===bt)t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(_(r)===vt)t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(w(r)){for(n=t.width||r[0].length,o=t.height||r.length,h=t.channels,h=v(r[0][0])?h||r[0][0].length:h||1,a=tt.shape(r),l=1,u=0;u<a.length;++u)l*=a[u];l=X.allocType(36193===t.type?5126:t.type,l),tt.flatten(r,a,"",l),A(t,l),t.alignment=1,t.width=n,t.height=o,t.channels=h,t.format=t.internalformat=ut[h],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4}function p(e,r,i,o,a){var s=e.element,l=e.data,c=e.internalformat,d=e.format,h=e.type,f=e.width,p=e.height;u(e),s?t.texSubImage2D(r,a,i,o,d,h,s):e.compressed?t.compressedTexSubImage2D(r,a,i,o,c,f,p,l):e.needsCopy?(n(),t.copyTexSubImage2D(r,a,i,o,e.xOffset,e.yOffset,f,p)):t.texSubImage2D(r,a,i,o,f,p,d,h,l)}function m(){return at.pop()||new h}function g(t){t.needsFree&&X.freeType(t.data),h.call(t),at.push(t)}function y(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function M(t,e,r){var n=t.images[0]=m();t.mipmask=1,n.width=t.width=e,n.height=t.height=r,n.channels=t.channels=4}function S(t,e){var r=null;if(k(e))l(r=t.images[0]=m(),t),f(r,e),t.mipmask=1;else if(d(t,e),Array.isArray(e.mipmap))for(var n=e.mipmap,i=0;i<n.length;++i)l(r=t.images[i]=m(),t),r.width>>=i,r.height>>=i,f(r,n[i]),t.mipmask|=1<<i;else l(r=t.images[0]=m(),t),f(r,e),t.mipmask=1;l(t,t.images[0])}function E(e,r){for(var i=e.images,o=0;o<i.length&&i[o];++o){var a=i[o],s=r,l=o,c=a.element,d=a.data,h=a.internalformat,f=a.format,p=a.type,m=a.width,g=a.height;u(a),c?t.texImage2D(s,l,f,f,p,c):a.compressed?t.compressedTexImage2D(s,l,h,m,g,0,d):a.needsCopy?(n(),t.copyTexImage2D(s,l,f,a.xOffset,a.yOffset,m,g,0)):t.texImage2D(s,l,f,m,g,0,f,p,d||null)}}function C(){var t=st.pop()||new y;s.call(t);for(var e=t.mipmask=0;16>e;++e)t.images[e]=null;return t}function z(t){for(var e=t.images,r=0;r<e.length;++r)e[r]&&g(e[r]),e[r]=null;st.push(t)}function L(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function O(t,e){"min"in e&&(t.minFilter=U[e.min],0<=dt.indexOf(t.minFilter)&&!("faces"in e)&&(t.genMipmaps=!0)),"mag"in e&&(t.magFilter=B[e.mag]);var r=t.wrapS,n=t.wrapT;if("wrap"in e){var i=e.wrap;"string"==typeof i?r=n=N[i]:Array.isArray(i)&&(r=N[i[0]],n=N[i[1]])}else"wrapS"in e&&(r=N[e.wrapS]),"wrapT"in e&&(n=N[e.wrapT]);if(t.wrapS=r,t.wrapT=n,"anisotropic"in e&&(t.anisotropic=e.anisotropic),"mipmap"in e){switch(r=!1,typeof e.mipmap){case"string":t.mipmapHint=j[e.mipmap],r=t.genMipmaps=!0;break;case"boolean":r=t.genMipmaps=e.mipmap;break;case"object":t.genMipmaps=!1,r=!0}!r||"min"in e||(t.minFilter=9984)}}function D(r,n){t.texParameteri(n,10241,r.minFilter),t.texParameteri(n,10240,r.magFilter),t.texParameteri(n,10242,r.wrapS),t.texParameteri(n,10243,r.wrapT),e.ext_texture_filter_anisotropic&&t.texParameteri(n,34046,r.anisotropic),r.genMipmaps&&(t.hint(33170,r.mipmapHint),t.generateMipmap(n))}function I(e){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=lt++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new L,a.profile&&(this.stats={size:0})}function F(e){t.activeTexture(33984),t.bindTexture(e.target,e.texture)}function R(){var e=xt[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(3553,null)}function P(e){var r=e.texture,n=e.unit,i=e.target;0<=n&&(t.activeTexture(33984+n),t.bindTexture(i,null),xt[n]=null),t.deleteTexture(r),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete ct[e.id],o.textureCount--}var j={"don't care":4352,"dont care":4352,nice:4354,fast:4353},N={repeat:10497,clamp:33071,mirror:33648},B={nearest:9728,linear:9729},U=W({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},B),V={none:0,browser:37444},G={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},H={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},q={};e.ext_srgb&&(H.srgb=35904,H.srgba=35906),e.oes_texture_float&&(G.float32=G.float=5126),e.oes_texture_half_float&&(G.float16=G["half float"]=36193),e.webgl_depth_texture&&(W(H,{depth:6402,"depth stencil":34041}),W(G,{uint16:5123,uint32:5125,"depth stencil":34042})),e.webgl_compressed_texture_s3tc&&W(q,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),e.webgl_compressed_texture_atc&&W(q,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),e.webgl_compressed_texture_pvrtc&&W(q,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),e.webgl_compressed_texture_etc1&&(q["rgb etc1"]=36196);var $=Array.prototype.slice.call(t.getParameter(34467));Object.keys(q).forEach((function(t){var e=q[t];0<=$.indexOf(e)&&(H[t]=e)}));var Y=Object.keys(H);r.textureFormats=Y;var Z=[];Object.keys(H).forEach((function(t){Z[H[t]]=t}));var J=[];Object.keys(G).forEach((function(t){J[G[t]]=t}));var rt=[];Object.keys(B).forEach((function(t){rt[B[t]]=t}));var nt=[];Object.keys(U).forEach((function(t){nt[U[t]]=t}));var it=[];Object.keys(N).forEach((function(t){it[N[t]]=t}));var ot=Y.reduce((function(t,r){var n=H[r];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||e.ext_srgb&&(35904===n||35906===n)?t[n]=n:32855===n||0<=r.indexOf("rgba")?t[n]=6408:t[n]=6407,t}),{}),at=[],st=[],lt=0,ct={},yt=r.maxTextureUnits,xt=Array(yt).map((function(){return null}));return W(I.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(0>e){for(var r=0;r<yt;++r){var n=xt[r];if(n){if(0<n.bindCount)continue;n.unit=-1}xt[r]=this,e=r;break}a.profile&&o.maxTextureUnits<e+1&&(o.maxTextureUnits=e+1),this.unit=e,t.activeTexture(33984+e),t.bindTexture(this.target,this.texture)}return e},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&P(this)}}),a.profile&&(o.getTotalTextureSize=function(){var t=0;return Object.keys(ct).forEach((function(e){t+=ct[e].stats.size})),t}),{create2D:function(e,r){function n(t,e){var r=i.texInfo;L.call(r);var o=C();return"number"==typeof t?M(o,0|t,"number"==typeof e?0|e:0|t):t?(O(r,t),S(o,t)):M(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),i.mipmask=o.mipmask,l(i,o),i.internalformat=o.internalformat,n.width=o.width,n.height=o.height,F(i),E(o,3553),D(r,3553),R(),z(o),a.profile&&(i.stats.size=T(i.internalformat,i.type,o.width,o.height,r.genMipmaps,!1)),n.format=Z[i.internalformat],n.type=J[i.type],n.mag=rt[r.magFilter],n.min=nt[r.minFilter],n.wrapS=it[r.wrapS],n.wrapT=it[r.wrapT],n}var i=new I(3553);return ct[i.id]=i,o.textureCount++,n(e,r),n.subimage=function(t,e,r,o){e|=0,r|=0,o|=0;var a=m();return l(a,i),a.width=0,a.height=0,f(a,t),a.width=a.width||(i.width>>o)-e,a.height=a.height||(i.height>>o)-r,F(i),p(a,3553,e,r,o),R(),g(a),n},n.resize=function(e,r){var o=0|e,s=0|r||o;if(o===i.width&&s===i.height)return n;n.width=i.width=o,n.height=i.height=s,F(i);for(var l=0;i.mipmask>>l;++l){var c=o>>l,d=s>>l;if(!c||!d)break;t.texImage2D(3553,l,i.format,c,d,0,i.format,i.type,null)}return R(),a.profile&&(i.stats.size=T(i.internalformat,i.type,o,s,!1,!1)),n},n._reglType="texture2d",n._texture=i,a.profile&&(n.stats=i.stats),n.destroy=function(){i.decRef()},n},createCube:function(e,r,n,i,s,c){function u(t,e,r,n,i,o){var s,c=h.texInfo;for(L.call(c),s=0;6>s;++s)b[s]=C();if("number"!=typeof t&&t){if("object"==typeof t)if(e)S(b[0],t),S(b[1],e),S(b[2],r),S(b[3],n),S(b[4],i),S(b[5],o);else if(O(c,t),d(h,t),"faces"in t)for(t=t.faces,s=0;6>s;++s)l(b[s],h),S(b[s],t[s]);else for(s=0;6>s;++s)S(b[s],t)}else for(t=0|t||1,s=0;6>s;++s)M(b[s],t,t);for(l(h,b[0]),h.mipmask=c.genMipmaps?(b[0].width<<1)-1:b[0].mipmask,h.internalformat=b[0].internalformat,u.width=b[0].width,u.height=b[0].height,F(h),s=0;6>s;++s)E(b[s],34069+s);for(D(c,34067),R(),a.profile&&(h.stats.size=T(h.internalformat,h.type,u.width,u.height,c.genMipmaps,!0)),u.format=Z[h.internalformat],u.type=J[h.type],u.mag=rt[c.magFilter],u.min=nt[c.minFilter],u.wrapS=it[c.wrapS],u.wrapT=it[c.wrapT],s=0;6>s;++s)z(b[s]);return u}var h=new I(34067);ct[h.id]=h,o.cubeCount++;var b=Array(6);return u(e,r,n,i,s,c),u.subimage=function(t,e,r,n,i){r|=0,n|=0,i|=0;var o=m();return l(o,h),o.width=0,o.height=0,f(o,e),o.width=o.width||(h.width>>i)-r,o.height=o.height||(h.height>>i)-n,F(h),p(o,34069+t,r,n,i),R(),g(o),u},u.resize=function(e){if((e|=0)!==h.width){u.width=h.width=e,u.height=h.height=e,F(h);for(var r=0;6>r;++r)for(var n=0;h.mipmask>>n;++n)t.texImage2D(34069+r,n,h.format,e>>n,e>>n,0,h.format,h.type,null);return R(),a.profile&&(h.stats.size=T(h.internalformat,h.type,u.width,u.height,!1,!0)),u}},u._reglType="textureCube",u._texture=h,a.profile&&(u.stats=h.stats),u.destroy=function(){h.decRef()},u},clear:function(){for(var e=0;e<yt;++e)t.activeTexture(33984+e),t.bindTexture(3553,null),xt[e]=null;K(ct).forEach(P),o.cubeCount=0,o.textureCount=0},getTexture:function(t){return null},restore:function(){for(var e=0;e<yt;++e){var r=xt[e];r&&(r.bindCount=0,r.unit=-1,xt[e]=null)}K(ct).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var r=0;32>r;++r)if(e.mipmask&1<<r)if(3553===e.target)t.texImage2D(3553,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);else for(var n=0;6>n;++n)t.texImage2D(34069+n,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);D(e.texInfo,e.target)}))},refresh:function(){for(var e=0;e<yt;++e){var r=xt[e];r&&(r.bindCount=0,r.unit=-1,xt[e]=null),t.activeTexture(33984+e),t.bindTexture(3553,null),t.bindTexture(34067,null)}}}}function S(t,e,r,n,i,o){function a(t,e,r){this.target=t,this.texture=e,this.renderbuffer=r;var n=t=0;e?(t=e.width,n=e.height):r&&(t=r.width,n=r.height),this.width=t,this.height=n}function s(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function l(t,e,r){t&&(t.texture?t.texture._texture.refCount+=1:t.renderbuffer._renderbuffer.refCount+=1)}function c(e,r){r&&(r.texture?t.framebufferTexture2D(36160,e,r.target,r.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,r.renderbuffer._renderbuffer.renderbuffer))}function d(t){var e=3553,r=null,n=null,i=t;return"object"==typeof t&&(i=t.data,"target"in t&&(e=0|t.target)),"texture2d"===(t=i._reglType)||"textureCube"===t?r=i:"renderbuffer"===t&&(n=i,e=36161),new a(e,r,n)}function u(t,e,r,o,s){return r?((t=n.create2D({width:t,height:e,format:o,type:s}))._texture.refCount=0,new a(3553,t,null)):((t=i.create({width:t,height:e,format:o}))._renderbuffer.refCount=0,new a(36161,null,t))}function h(t){return t&&(t.texture||t.renderbuffer)}function f(t,e,r){t&&(t.texture?t.texture.resize(e,r):t.renderbuffer&&t.renderbuffer.resize(e,r),t.width=e,t.height=r)}function p(){this.id=k++,A[this.id]=this,this.framebuffer=t.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function m(t){t.colorAttachments.forEach(s),s(t.depthAttachment),s(t.stencilAttachment),s(t.depthStencilAttachment)}function g(e){t.deleteFramebuffer(e.framebuffer),e.framebuffer=null,o.framebufferCount--,delete A[e.id]}function b(e){var n;t.bindFramebuffer(36160,e.framebuffer);var i=e.colorAttachments;for(n=0;n<i.length;++n)c(36064+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(36160,36064+n,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),c(36096,e.depthAttachment),c(36128,e.stencilAttachment),c(33306,e.depthStencilAttachment),t.checkFramebufferStatus(36160),t.isContextLost(),t.bindFramebuffer(36160,y.next?y.next.framebuffer:null),y.cur=y.next,t.getError()}function v(t,e){function r(t,e){var i,o=0,a=0,s=!0,c=!0;i=null;var f=!0,p="rgba",g="uint8",v=1,y=null,_=null,k=null,A=!1;"number"==typeof t?(o=0|t,a=0|e||o):t?("shape"in t?(o=(a=t.shape)[0],a=a[1]):("radius"in t&&(o=a=t.radius),"width"in t&&(o=t.width),"height"in t&&(a=t.height)),("color"in t||"colors"in t)&&(i=t.color||t.colors,Array.isArray(i)),i||("colorCount"in t&&(v=0|t.colorCount),"colorTexture"in t&&(f=!!t.colorTexture,p="rgba4"),"colorType"in t&&(g=t.colorType,!f)&&("half float"===g||"float16"===g?p="rgba16f":"float"!==g&&"float32"!==g||(p="rgba32f")),"colorFormat"in t&&(p=t.colorFormat,0<=x.indexOf(p)?f=!0:0<=w.indexOf(p)&&(f=!1))),("depthTexture"in t||"depthStencilTexture"in t)&&(A=!(!t.depthTexture&&!t.depthStencilTexture)),"depth"in t&&("boolean"==typeof t.depth?s=t.depth:(y=t.depth,c=!1)),"stencil"in t&&("boolean"==typeof t.stencil?c=t.stencil:(_=t.stencil,s=!1)),"depthStencil"in t&&("boolean"==typeof t.depthStencil?s=c=t.depthStencil:(k=t.depthStencil,c=s=!1))):o=a=1;var T=null,M=null,S=null,E=null;if(Array.isArray(i))T=i.map(d);else if(i)T=[d(i)];else for(T=Array(v),i=0;i<v;++i)T[i]=u(o,a,f,p,g);for(o=o||T[0].width,a=a||T[0].height,y?M=d(y):s&&!c&&(M=u(o,a,A,"depth","uint32")),_?S=d(_):c&&!s&&(S=u(o,a,!1,"stencil","uint8")),k?E=d(k):!y&&!_&&c&&s&&(E=u(o,a,A,"depth stencil","depth stencil")),s=null,i=0;i<T.length;++i)l(T[i]),T[i]&&T[i].texture&&(c=At[T[i].texture._texture.format]*Tt[T[i].texture._texture.type],null===s&&(s=c));return l(M),l(S),l(E),m(n),n.width=o,n.height=a,n.colorAttachments=T,n.depthAttachment=M,n.stencilAttachment=S,n.depthStencilAttachment=E,r.color=T.map(h),r.depth=h(M),r.stencil=h(S),r.depthStencil=h(E),r.width=n.width,r.height=n.height,b(n),r}var n=new p;return o.framebufferCount++,r(t,e),W(r,{resize:function(t,e){var i=Math.max(0|t,1),o=Math.max(0|e||i,1);if(i===n.width&&o===n.height)return r;for(var a=n.colorAttachments,s=0;s<a.length;++s)f(a[s],i,o);return f(n.depthAttachment,i,o),f(n.stencilAttachment,i,o),f(n.depthStencilAttachment,i,o),n.width=r.width=i,n.height=r.height=o,b(n),r},_reglType:"framebuffer",_framebuffer:n,destroy:function(){g(n),m(n)},use:function(t){y.setFBO({framebuffer:r},t)}})}var y={cur:null,next:null,dirty:!1,setFBO:null},x=["rgba"],w=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&w.push("srgba"),e.ext_color_buffer_half_float&&w.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&w.push("rgba32f");var _=["uint8"];e.oes_texture_half_float&&_.push("half float","float16"),e.oes_texture_float&&_.push("float","float32");var k=0,A={};return W(y,{getFramebuffer:function(t){return"function"==typeof t&&"framebuffer"===t._reglType&&(t=t._framebuffer)instanceof p?t:null},create:v,createCube:function(t){function e(t){var i,o={color:null},a=0,s=null;i="rgba";var l="uint8",c=1;if("number"==typeof t?a=0|t:t?("shape"in t?a=t.shape[0]:("radius"in t&&(a=0|t.radius),"width"in t?a=0|t.width:"height"in t&&(a=0|t.height)),("color"in t||"colors"in t)&&(s=t.color||t.colors,Array.isArray(s)),s||("colorCount"in t&&(c=0|t.colorCount),"colorType"in t&&(l=t.colorType),"colorFormat"in t&&(i=t.colorFormat)),"depth"in t&&(o.depth=t.depth),"stencil"in t&&(o.stencil=t.stencil),"depthStencil"in t&&(o.depthStencil=t.depthStencil)):a=1,s)if(Array.isArray(s))for(t=[],i=0;i<s.length;++i)t[i]=s[i];else t=[s];else for(t=Array(c),s={radius:a,format:i,type:l},i=0;i<c;++i)t[i]=n.createCube(s);for(o.color=Array(t.length),i=0;i<t.length;++i)c=t[i],a=a||c.width,o.color[i]={target:34069,data:t[i]};for(i=0;6>i;++i){for(c=0;c<t.length;++c)o.color[c].target=34069+i;0<i&&(o.depth=r[0].depth,o.stencil=r[0].stencil,o.depthStencil=r[0].depthStencil),r[i]?r[i](o):r[i]=v(o)}return W(e,{width:a,height:a,color:t})}var r=Array(6);return e(t),W(e,{faces:r,resize:function(t){var n=0|t;if(n===e.width)return e;var i=e.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;6>t;++t)r[t].resize(n);return e.width=e.height=n,e},_reglType:"framebufferCube",destroy:function(){r.forEach((function(t){t.destroy()}))}})},clear:function(){K(A).forEach(g)},restore:function(){y.cur=null,y.next=null,y.dirty=!0,K(A).forEach((function(e){e.framebuffer=t.createFramebuffer(),b(e)}))}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function C(t,e,r,n,i,o,a){function s(){this.id=++u,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var t=e.oes_vertex_array_object;this.vao=t?t.createVertexArrayOES():null,h[this.id]=this,this.buffers=[]}var l=r.maxAttributes,d=Array(l);for(r=0;r<l;++r)d[r]=new E;var u=0,h={},f={Record:E,scope:{},state:d,currentVAO:null,targetVAO:null,restore:e.oes_vertex_array_object?function(){e.oes_vertex_array_object&&K(h).forEach((function(t){t.refresh()}))}:function(){},createVAO:function(t){function e(t){var n;Array.isArray(t)?(n=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4):(t.elements?(n=t.elements,r.ownsElements?("function"==typeof n&&"elements"===n._reglType?r.elements.destroy():r.elements(n),r.ownsElements=!1):o.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=o.create(t.elements),r.ownsElements=!0)):(r.elements=null,r.ownsElements=!1),n=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(r.primitive=st[t.primitive])),t={};var a=r.attributes;a.length=n.length;for(var s=0;s<n.length;++s){var l,d=n[s],u=a[s]=new E,h=d.data||d;Array.isArray(h)||Q(h)||c(h)?(r.buffers[s]&&(l=r.buffers[s],Q(h)&&l._buffer.byteLength>=h.byteLength?l.subdata(h):(l.destroy(),r.buffers[s]=null)),r.buffers[s]||(l=r.buffers[s]=i.create(d,34962,!1,!0)),u.buffer=i.getBuffer(l),u.size=0|u.buffer.dimension,u.normalized=!1,u.type=u.buffer.dtype,u.offset=0,u.stride=0,u.divisor=0,u.state=1,t[s]=1):i.getBuffer(d)?(u.buffer=i.getBuffer(d),u.size=0|u.buffer.dimension,u.normalized=!1,u.type=u.buffer.dtype,u.offset=0,u.stride=0,u.divisor=0,u.state=1):i.getBuffer(d.buffer)?(u.buffer=i.getBuffer(d.buffer),u.size=0|(+d.size||u.buffer.dimension),u.normalized=!!d.normalized||!1,u.type="type"in d?rt[d.type]:u.buffer.dtype,u.offset=0|(d.offset||0),u.stride=0|(d.stride||0),u.divisor=0|(d.divisor||0),u.state=1):"x"in d&&(u.x=+d.x||0,u.y=+d.y||0,u.z=+d.z||0,u.w=+d.w||0,u.state=2)}for(l=0;l<r.buffers.length;++l)!t[l]&&r.buffers[l]&&(r.buffers[l].destroy(),r.buffers[l]=null);return r.refresh(),e}var r=new s;return n.vaoCount+=1,e.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},e._vao=r,e._reglType="vao",e(t)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(e){for(var r=0;r<d.length;++r){var n=d[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null)}},setVAO:e.oes_vertex_array_object?function(t){if(t!==f.currentVAO){var r=e.oes_vertex_array_object;t?r.bindVertexArrayOES(t.vao):r.bindVertexArrayOES(null),f.currentVAO=t}}:function(r){if(r!==f.currentVAO){if(r)r.bindAttrs();else{for(var n=e.angle_instanced_arrays,i=0;i<d.length;++i){var o=d[i];o.buffer?(t.enableVertexAttribArray(i),o.buffer.bind(),t.vertexAttribPointer(i,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(i,o.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,o.x,o.y,o.z,o.w))}a.elements?t.bindBuffer(34963,a.elements.buffer.buffer):t.bindBuffer(34963,null)}f.currentVAO=r}},clear:e.oes_vertex_array_object?function(){K(h).forEach((function(t){t.destroy()}))}:function(){}};return s.prototype.bindAttrs=function(){for(var r=e.angle_instanced_arrays,n=this.attributes,i=0;i<n.length;++i){var a=n[i];a.buffer?(t.enableVertexAttribArray(i),t.bindBuffer(34962,a.buffer.buffer),t.vertexAttribPointer(i,a.size,a.type,a.normalized,a.stride,a.offset),r&&a.divisor&&r.vertexAttribDivisorANGLE(i,a.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,a.x,a.y,a.z,a.w))}for(r=n.length;r<l;++r)t.disableVertexAttribArray(r);(r=o.getElements(this.elements))?t.bindBuffer(34963,r.buffer.buffer):t.bindBuffer(34963,null)},s.prototype.refresh=function(){var t=e.oes_vertex_array_object;t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),f.currentVAO=null,t.bindVertexArrayOES(null))},s.prototype.destroy=function(){if(this.vao){var t=e.oes_vertex_array_object;this===f.currentVAO&&(f.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),h[this.id]&&(delete h[this.id],--n.vaoCount)},f}function z(t,e,r,n){function i(t,e,r,n){this.name=t,this.id=e,this.location=r,this.info=n}function o(t,e){for(var r=0;r<t.length;++r)if(t[r].id===e.id)return void(t[r].location=e.location);t.push(e)}function a(r,n,i){if(!(a=(i=35632===r?c:d)[n])){var o=e.str(n),a=t.createShader(r);t.shaderSource(a,o),t.compileShader(a),i[n]=a}return a}function s(t,e){this.id=f++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function l(r,s,l){var c;c=a(35632,r.fragId);var d=a(35633,r.vertId);if(s=r.program=t.createProgram(),t.attachShader(s,c),t.attachShader(s,d),l)for(c=0;c<l.length;++c)d=l[c],t.bindAttribLocation(s,d[0],d[1]);t.linkProgram(s),d=t.getProgramParameter(s,35718),n.profile&&(r.stats.uniformsCount=d);var u=r.uniforms;for(c=0;c<d;++c)if(l=t.getActiveUniform(s,c))if(1<l.size)for(var h=0;h<l.size;++h){var f=l.name.replace("[0]","["+h+"]");o(u,new i(f,e.id(f),t.getUniformLocation(s,f),l))}else o(u,new i(l.name,e.id(l.name),t.getUniformLocation(s,l.name),l));for(d=t.getProgramParameter(s,35721),n.profile&&(r.stats.attributesCount=d),r=r.attributes,c=0;c<d;++c)(l=t.getActiveAttrib(s,c))&&o(r,new i(l.name,e.id(l.name),t.getAttribLocation(s,l.name),l))}var c={},d={},u={},h=[],f=0;return n.profile&&(r.getMaxUniformsCount=function(){var t=0;return h.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return h.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);K(c).forEach(e),c={},K(d).forEach(e),d={},h.forEach((function(e){t.deleteProgram(e.program)})),h.length=0,u={},r.shaderCount=0},program:function(e,n,i,o){var a=u[n];a||(a=u[n]={});var f=a[e];if(f&&(f.refCount++,!o))return f;var p=new s(n,e);return r.shaderCount++,l(p,i,o),f||(a[e]=p),h.push(p),W(p,{destroy:function(){if(p.refCount--,0>=p.refCount){t.deleteProgram(p.program);var e=h.indexOf(p);h.splice(e,1),r.shaderCount--}0>=a[p.vertId].refCount&&(t.deleteShader(d[p.vertId]),delete d[p.vertId],delete u[p.fragId][p.vertId]),Object.keys(u[p.fragId]).length||(t.deleteShader(c[p.fragId]),delete c[p.fragId],delete u[p.fragId])}})},restore:function(){c={},d={};for(var t=0;t<h.length;++t)l(h[t],null,h[t].attributes.map((function(t){return[t.location,t.name]})))},shader:a,frag:-1,vert:-1}}function L(t,e,r,n,i,o,a){function s(i){var o;o=null===e.next?5121:e.next.colorAttachments[0].texture._texture.type;var a=0,s=0,l=n.framebufferWidth,c=n.framebufferHeight,d=null;return Q(i)?d=i:i&&(a=0|i.x,s=0|i.y,l=0|(i.width||n.framebufferWidth-a),c=0|(i.height||n.framebufferHeight-s),d=i.data||null),r(),i=l*c*4,d||(5121===o?d=new Uint8Array(i):5126===o&&(d=d||new Float32Array(i))),t.pixelStorei(3333,4),t.readPixels(a,s,l,c,6408,o,d),d}return function(t){return t&&"framebuffer"in t?function(t){var r;return e.setFBO({framebuffer:t.framebuffer},(function(){r=s(t)})),r}(t):s(t)}}function O(t,e){return t>>>e|t<<32-e}function D(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function I(t){return Array.prototype.slice.call(t)}function F(t){return I(t).join("")}function R(t){function e(){var t=[],e=[];return W((function(){t.push.apply(t,I(arguments))}),{def:function(){var r="v"+i++;return e.push(r),0<arguments.length&&(t.push(r,"="),t.push.apply(t,I(arguments)),t.push(";")),r},toString:function(){return F([0<e.length?"var "+e.join(",")+";":"",F(t)])}})}function r(){function t(t,e){n(t,e,"=",r.def(t,e),";")}var r=e(),n=e(),i=r.toString,o=n.toString;return W((function(){r.apply(r,I(arguments))}),{def:r.def,entry:r,exit:n,save:t,set:function(e,n,i){t(e,n),r(e,n,"=",i,";")},toString:function(){return i()+o()}})}var n=t&&t.cache,i=0,o=[],a=[],s=[],l=e(),c={};return{global:l,link:function(t,e){var r=e&&e.stable;if(!r)for(var n=0;n<a.length;++n)if(a[n]===t&&!s[n])return o[n];return n="g"+i++,o.push(n),a.push(t),s.push(r),n},block:e,proc:function(t,e){function n(){var t="a"+i.length;return i.push(t),t}var i=[];e=e||0;for(var o=0;o<e;++o)n();var a=(o=r()).toString;return c[t]=W(o,{arg:n,toString:function(){return F(["function(",i.join(),"){",a(),"}"])}})},scope:r,cond:function(){var t=F(arguments),e=r(),n=r(),i=e.toString,o=n.toString;return W(e,{then:function(){return e.apply(e,I(arguments)),this},else:function(){return n.apply(n,I(arguments)),this},toString:function(){var e=o();return e&&(e="else{"+e+"}"),F(["if(",t,"){",i(),"}",e])}})},compile:function(){var t=['"use strict";',l,"return {"];Object.keys(c).forEach((function(e){t.push('"',e,'":',c[e].toString(),",")})),t.push("}");var e,r=F(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return n&&(e=function(t){for(var e,r="",n=0;n<t.length;n++)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}(function(t){for(var e=Array(t.length>>2),r=0;r<e.length;r++)e[r]=0;for(r=0;r<8*t.length;r+=8)e[r>>5]|=(255&t.charCodeAt(r/8))<<24-r%32;var n,i,o,a,s,l,c,d,u,h,f,p=8*t.length;for(t=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],r=Array(64),e[p>>5]|=128<<24-p%32,e[15+(p+64>>9<<4)]=p,d=0;d<e.length;d+=16){for(p=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=0;64>u;u++){var m;16>u?r[u]=e[u+d]:(h=u,f=D(f=O(f=r[u-2],17)^O(f,19)^f>>>10,r[u-7]),m=O(m=r[u-15],7)^O(m,18)^m>>>3,r[h]=D(D(f,m),r[u-16])),h=D(D(D(D(c,h=O(h=a,6)^O(h,11)^O(h,25)),a&s^~a&l),Mt[u]),r[u]),f=D(c=O(c=p,2)^O(c,13)^O(c,22),p&n^p&i^n&i),c=l,l=s,s=a,a=D(o,h),o=i,i=n,n=p,p=D(h,f)}t[0]=D(p,t[0]),t[1]=D(n,t[1]),t[2]=D(i,t[2]),t[3]=D(o,t[3]),t[4]=D(a,t[4]),t[5]=D(s,t[5]),t[6]=D(l,t[6]),t[7]=D(c,t[7])}for(e="",r=0;r<32*t.length;r+=8)e+=String.fromCharCode(t[r>>5]>>>24-r%32&255);return e}(function(t){for(var e,r,n="",i=-1;++i<t.length;)e=t.charCodeAt(i),r=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&56319>=e&&56320<=r&&57343>=r&&(e=65536+((1023&e)<<10)+(1023&r),i++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n}(r))),n[e])?n[e].apply(null,a):(r=Function.apply(null,o.concat(r)),n&&(n[e]=r),r.apply(null,a))}}}function P(t){return Array.isArray(t)||Q(t)||c(t)}function j(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function N(t,e,r,n){this.thisDep=t,this.contextDep=e,this.propDep=r,this.append=n}function B(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function U(t){return new N(!1,!1,!1,t)}function V(t,e){var r=t.type;if(0===r)return new N(!0,1<=(r=t.data.length),2<=r,e);if(4===r)return new N((r=t.data).thisDep,r.contextDep,r.propDep,e);if(5===r)return new N(!1,!1,!1,e);if(6===r){for(var n=r=!1,i=!1,o=0;o<t.data.length;++o){var a=t.data[o];1===a.type?i=!0:2===a.type?n=!0:3===a.type?r=!0:0===a.type?(r=!0,1<=(a=a.data)&&(n=!0),2<=a&&(i=!0)):4===a.type&&(r=r||a.data.thisDep,n=n||a.data.contextDep,i=i||a.data.propDep)}return new N(r,n,i,e)}return new N(3===r,2===r,1===r,e)}function G(t,e,r,n,i,o,s,l,c,d,u,h,f,p,m,g){function b(t){return t.replace(".","_")}function y(t,e,r){var n=b(t);ot.push(t),it[n]=nt[n]=!!r,at[n]=e}function x(t,e,r){var n=b(t);ot.push(t),Array.isArray(r)?(nt[n]=r.slice(),it[n]=r.slice()):nt[n]=it[n]=r,lt[n]=e}function w(){var t=R({cache:m}),r=t.link,n=t.global;t.id=ut++,t.batchId="0";var i=r(ct),o=t.shared={props:"a0"};Object.keys(ct).forEach((function(t){o[t]=n.def(i,".",t)}));var a=t.next={},s=t.current={};Object.keys(lt).forEach((function(t){Array.isArray(nt[t])&&(a[t]=n.def(o.next,".",t),s[t]=n.def(o.current,".",t))}));var l=t.constants={};Object.keys(dt).forEach((function(t){l[t]=n.def(JSON.stringify(dt[t]))})),t.invoke=function(e,n){switch(n.type){case 0:var i=["this",o.context,o.props,t.batchId];return e.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case 1:return e.def(o.props,n.data);case 2:return e.def(o.context,n.data);case 3:return e.def("this",n.data);case 4:return n.data.append(t,e),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(r){return t.invoke(e,r)}))}},t.attribCache={};var c={};return t.scopeAttrib=function(t){if((t=e.id(t))in c)return c[t];var n=d.scope[t];return n||(n=d.scope[t]=new J),c[t]=r(n)},t}function _(t,e){var r=t.static,n=t.dynamic;if("framebuffer"in r){var i=r.framebuffer;return i?(i=l.getFramebuffer(i),U((function(t,e){var r=t.link(i),n=t.shared;return e.set(n.framebuffer,".next",r),n=n.context,e.set(n,".framebufferWidth",r+".width"),e.set(n,".framebufferHeight",r+".height"),r}))):U((function(t,e){var r=t.shared;return e.set(r.framebuffer,".next","null"),r=r.context,e.set(r,".framebufferWidth",r+".drawingBufferWidth"),e.set(r,".framebufferHeight",r+".drawingBufferHeight"),"null"}))}if("framebuffer"in n){var o=n.framebuffer;return V(o,(function(t,e){var r=t.invoke(e,o),n=t.shared,i=n.framebuffer;return r=e.def(i,".getFramebuffer(",r,")"),e.set(i,".next",r),n=n.context,e.set(n,".framebufferWidth",r+"?"+r+".width:"+n+".drawingBufferWidth"),e.set(n,".framebufferHeight",r+"?"+r+".height:"+n+".drawingBufferHeight"),r}))}return null}function k(t,r,n){function i(t){if(t in o){var r=e.id(o[t]);return(t=U((function(){return r}))).id=r,t}if(t in a){var n=a[t];return V(n,(function(t,e){var r=t.invoke(e,n);return e.def(t.shared.strings,".id(",r,")")}))}return null}var o=t.static,a=t.dynamic,s=i("frag"),l=i("vert"),c=null;return B(s)&&B(l)?(c=u.program(l.id,s.id,null,n),t=U((function(t,e){return t.link(c)}))):t=new N(s&&s.thisDep||l&&l.thisDep,s&&s.contextDep||l&&l.contextDep,s&&s.propDep||l&&l.propDep,(function(t,e){var r,n,i=t.shared.shader;return r=s?s.append(t,e):e.def(i,".","frag"),n=l?l.append(t,e):e.def(i,".","vert"),e.def(i+".program("+n+","+r+")")})),{frag:s,vert:l,progVar:t,program:c}}function A(t,e){function r(t,e){if(t in n){var r=0|n[t];return e?a.offset=r:a.instances=r,U((function(t,n){return e&&(t.OFFSET=r),r}))}if(t in i){var o=i[t];return V(o,(function(t,r){var n=t.invoke(r,o);return e&&(t.OFFSET=n),n}))}if(e){if(c)return U((function(t,e){return t.OFFSET=0}));if(s)return new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.offset:0")}))}else if(s)return new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.instances:-1")}));return null}var n=t.static,i=t.dynamic,a={},s=!1,l=function(){if("vao"in n){var t=n.vao;return null!==t&&null===d.getVAO(t)&&(t=d.createVAO(t)),s=!0,a.vao=t,U((function(e){var r=d.getVAO(t);return r?e.link(r):"null"}))}if("vao"in i){s=!0;var e=i.vao;return V(e,(function(t,r){var n=t.invoke(r,e);return r.def(t.shared.vao+".getVAO("+n+")")}))}return null}(),c=!1,u=function(){if("elements"in n){var t=n.elements;if(a.elements=t,P(t)){var e=a.elements=o.create(t,!0);t=o.getElements(e),c=!0}else t&&(t=o.getElements(t),c=!0);return e=U((function(e,r){if(t){var n=e.link(t);return e.ELEMENTS=n}return e.ELEMENTS=null})),e.value=t,e}if("elements"in i){c=!0;var r=i.elements;return V(r,(function(t,e){var n=(i=t.shared).isBufferArgs,i=i.elements,o=t.invoke(e,r),a=e.def("null");return n=e.def(n,"(",o,")"),o=t.cond(n).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");"),e.entry(o),e.exit(t.cond(n).then(i,".destroyStream(",a,");")),t.ELEMENTS=a}))}return s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.elements+".getElements("+t.shared.vao+".currentVAO.elements):null")})):null}(),h=r("offset",!0),f=function(){if("primitive"in n){var t=n.primitive;return a.primitive=t,U((function(e,r){return st[t]}))}if("primitive"in i){var e=i.primitive;return V(e,(function(t,r){var n=t.constants.primTypes,i=t.invoke(r,e);return r.def(n,"[",i,"]")}))}return c?B(u)?u.value?U((function(t,e){return e.def(t.ELEMENTS,".primType")})):U((function(){return 4})):new N(u.thisDep,u.contextDep,u.propDep,(function(t,e){var r=t.ELEMENTS;return e.def(r,"?",r,".primType:",4)})):s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao+".currentVAO?"+t.shared.vao+".currentVAO.primitive:4")})):null}(),p=function(){if("count"in n){var t=0|n.count;return a.count=t,U((function(){return t}))}if("count"in i){var e=i.count;return V(e,(function(t,r){return t.invoke(r,e)}))}return c?B(u)?u?h?new N(h.thisDep,h.contextDep,h.propDep,(function(t,e){return e.def(t.ELEMENTS,".vertCount-",t.OFFSET)})):U((function(t,e){return e.def(t.ELEMENTS,".vertCount")})):U((function(){return-1})):new N(u.thisDep||h.thisDep,u.contextDep||h.contextDep,u.propDep||h.propDep,(function(t,e){var r=t.ELEMENTS;return t.OFFSET?e.def(r,"?",r,".vertCount-",t.OFFSET,":-1"):e.def(r,"?",r,".vertCount:-1")})):s?new N(l.thisDep,l.contextDep,l.propDep,(function(t,e){return e.def(t.shared.vao,".currentVAO?",t.shared.vao,".currentVAO.count:-1")})):null}(),m=r("instances",!1);return{elements:u,primitive:f,count:p,instances:m,offset:h,vao:l,vaoActive:s,elementsActive:c,static:a}}function T(t,r){var n=t.static,o=t.dynamic,a={};return Object.keys(n).forEach((function(t){var r=n[t],o=e.id(t),s=new J;if(P(r))s.state=1,s.buffer=i.getBuffer(i.create(r,34962,!1,!0)),s.type=0;else if(c=i.getBuffer(r))s.state=1,s.buffer=c,s.type=0;else if("constant"in r){var l=r.constant;s.buffer="null",s.state=2,"number"==typeof l?s.x=l:St.forEach((function(t,e){e<l.length&&(s[t]=l[e])}))}else{var c=P(r.buffer)?i.getBuffer(i.create(r.buffer,34962,!1,!0)):i.getBuffer(r.buffer),d=0|r.offset,u=0|r.stride,h=0|r.size,f=!!r.normalized,p=0;"type"in r&&(p=rt[r.type]),r=0|r.divisor,s.buffer=c,s.state=1,s.size=h,s.normalized=f,s.type=p||c.dtype,s.offset=d,s.stride=u,s.divisor=r}a[t]=U((function(t,e){var r=t.attribCache;if(o in r)return r[o];var n={isStream:!1};return Object.keys(s).forEach((function(t){n[t]=s[t]})),s.buffer&&(n.buffer=t.link(s.buffer),n.type=n.type||n.buffer+".dtype"),r[o]=n}))})),Object.keys(o).forEach((function(t){var e=o[t];a[t]=V(e,(function(t,r){function n(t){r(l[t],"=",i,".",t,"|0;")}var i=t.invoke(r,e),o=t.shared,a=t.constants,s=o.isBufferArgs,l=(o=o.buffer,{isStream:r.def(!1)}),c=new J;c.state=1,Object.keys(c).forEach((function(t){l[t]=r.def(""+c[t])}));var d=l.buffer,u=l.type;return r("if(",s,"(",i,")){",l.isStream,"=true;",d,"=",o,".createStream(",34962,",",i,");",u,"=",d,".dtype;","}else{",d,"=",o,".getBuffer(",i,");","if(",d,"){",u,"=",d,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",2,";","if(typeof "+i+'.constant === "number"){',l[St[0]],"=",i,".constant;",St.slice(1).map((function(t){return l[t]})).join("="),"=0;","}else{",St.map((function(t,e){return l[t]+"="+i+".constant.length>"+e+"?"+i+".constant["+e+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",d,"=",o,".createStream(",34962,",",i,".buffer);","}else{",d,"=",o,".getBuffer(",i,".buffer);","}",u,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",d,".dtype;",l.normalized,"=!!",i,".normalized;"),n("size"),n("offset"),n("stride"),n("divisor"),r("}}"),r.exit("if(",l.isStream,"){",o,".destroyStream(",d,");","}"),l}))})),a}function M(t,e,n,i,o){function s(t){var e=c[t];e&&(h[t]=e)}var l=function(t,e){if("string"==typeof(r=t.static).frag&&"string"==typeof r.vert){if(0<Object.keys(e.dynamic).length)return null;var r=e.static,n=Object.keys(r);if(0<n.length&&"number"==typeof r[n[0]]){for(var i=[],o=0;o<n.length;++o)i.push([0|r[n[o]],n[o]]);return i}}return null}(t,e),c=function(t,e){function r(t){if(t in n){var r=n[t];t=!0;var o,a,s=0|r.x,l=0|r.y;return"width"in r?o=0|r.width:t=!1,"height"in r?a=0|r.height:t=!1,new N(!t&&e&&e.thisDep,!t&&e&&e.contextDep,!t&&e&&e.propDep,(function(t,e){var n=t.shared.context,i=o;"width"in r||(i=e.def(n,".","framebufferWidth","-",s));var c=a;return"height"in r||(c=e.def(n,".","framebufferHeight","-",l)),[s,l,i,c]}))}if(t in i){var c=i[t];return t=V(c,(function(t,e){var r=t.invoke(e,c),n=t.shared.context,i=e.def(r,".x|0"),o=e.def(r,".y|0");return[i,o,e.def('"width" in ',r,"?",r,".width|0:","(",n,".","framebufferWidth","-",i,")"),r=e.def('"height" in ',r,"?",r,".height|0:","(",n,".","framebufferHeight","-",o,")")]})),e&&(t.thisDep=t.thisDep||e.thisDep,t.contextDep=t.contextDep||e.contextDep,t.propDep=t.propDep||e.propDep),t}return e?new N(e.thisDep,e.contextDep,e.propDep,(function(t,e){var r=t.shared.context;return[0,0,e.def(r,".","framebufferWidth"),e.def(r,".","framebufferHeight")]})):null}var n=t.static,i=t.dynamic;if(t=r("viewport")){var o=t;t=new N(t.thisDep,t.contextDep,t.propDep,(function(t,e){var r=o.append(t,e),n=t.shared.context;return e.set(n,".viewportWidth",r[2]),e.set(n,".viewportHeight",r[3]),r}))}return{viewport:t,scissor_box:r("scissor.box")}}(t,p=_(t)),u=A(t),h=function(t){var e=t.static,r=t.dynamic,n={};return ot.forEach((function(t){function i(i,a){if(t in e){var s=i(e[t]);n[o]=U((function(){return s}))}else if(t in r){var l=r[t];n[o]=V(l,(function(t,e){return a(t,e,t.invoke(e,l))}))}}var o=b(t);switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return i((function(t){return t}),(function(t,e,r){return r}));case"depth.func":return i((function(t){return zt[t]}),(function(t,e,r){return e.def(t.constants.compareFuncs,"[",r,"]")}));case"depth.range":return i((function(t){return t}),(function(t,e,r){return[e.def("+",r,"[0]"),e=e.def("+",r,"[1]")]}));case"blend.func":return i((function(t){return[Ct["srcRGB"in t?t.srcRGB:t.src],Ct["dstRGB"in t?t.dstRGB:t.dst],Ct["srcAlpha"in t?t.srcAlpha:t.src],Ct["dstAlpha"in t?t.dstAlpha:t.dst]]}),(function(t,e,r){function n(t,n){return e.def('"',t,n,'" in ',r,"?",r,".",t,n,":",r,".",t)}t=t.constants.blendFuncs;var i=n("src","RGB"),o=n("dst","RGB"),a=(i=e.def(t,"[",i,"]"),e.def(t,"[",n("src","Alpha"),"]"));return[i,o=e.def(t,"[",o,"]"),a,t=e.def(t,"[",n("dst","Alpha"),"]")]}));case"blend.equation":return i((function(t){return"string"==typeof t?[Q[t],Q[t]]:"object"==typeof t?[Q[t.rgb],Q[t.alpha]]:void 0}),(function(t,e,r){var n=t.constants.blendEquations,i=e.def(),o=e.def();return(t=t.cond("typeof ",r,'==="string"')).then(i,"=",o,"=",n,"[",r,"];"),t.else(i,"=",n,"[",r,".rgb];",o,"=",n,"[",r,".alpha];"),e(t),[i,o]}));case"blend.color":return i((function(t){return a(4,(function(e){return+t[e]}))}),(function(t,e,r){return a(4,(function(t){return e.def("+",r,"[",t,"]")}))}));case"stencil.mask":return i((function(t){return 0|t}),(function(t,e,r){return e.def(r,"|0")}));case"stencil.func":return i((function(t){return[zt[t.cmp||"keep"],t.ref||0,"mask"in t?t.mask:-1]}),(function(t,e,r){return[t=e.def('"cmp" in ',r,"?",t.constants.compareFuncs,"[",r,".cmp]",":",7680),e.def(r,".ref|0"),e=e.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return i((function(e){return["stencil.opBack"===t?1029:1028,Lt[e.fail||"keep"],Lt[e.zfail||"keep"],Lt[e.zpass||"keep"]]}),(function(e,r,n){function i(t){return r.def('"',t,'" in ',n,"?",o,"[",n,".",t,"]:",7680)}var o=e.constants.stencilOps;return["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return i((function(t){return[0|t.factor,0|t.units]}),(function(t,e,r){return[e.def(r,".factor|0"),e=e.def(r,".units|0")]}));case"cull.face":return i((function(t){var e=0;return"front"===t?e=1028:"back"===t&&(e=1029),e}),(function(t,e,r){return e.def(r,'==="front"?',1028,":",1029)}));case"frontFace":return i((function(t){return Ot[t]}),(function(t,e,r){return e.def(r+'==="cw"?2304:2305')}));case"colorMask":return i((function(t){return t.map((function(t){return!!t}))}),(function(t,e,r){return a(4,(function(t){return"!!"+r+"["+t+"]"}))}));case"sample.coverage":return i((function(t){return["value"in t?t.value:1,!!t.invert]}),(function(t,e,r){return[e.def('"value" in ',r,"?+",r,".value:1"),e=e.def("!!",r,".invert")]}))}})),n}(t),f=k(t,0,l);s("viewport"),s(b("scissor.box"));var p,m=0<Object.keys(h).length;if((p={framebuffer:p,draw:u,shader:f,state:h,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(t){var e,r=t.static;if(t=t.dynamic,"profile"in r){var n=!!r.profile;(e=U((function(t,e){return n}))).enable=n}else if("profile"in t){var i=t.profile;e=V(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),p.uniforms=function(t){var e=t.static,r=t.dynamic,n={};return Object.keys(e).forEach((function(t){var r,i=e[t];if("number"==typeof i||"boolean"==typeof i)r=U((function(){return i}));else if("function"==typeof i){var o=i._reglType;"texture2d"===o||"textureCube"===o?r=U((function(t){return t.link(i)})):"framebuffer"!==o&&"framebufferCube"!==o||(r=U((function(t){return t.link(i.color[0])})))}else v(i)&&(r=U((function(t){return t.global.def("[",a(i.length,(function(t){return i[t]})),"]")})));r.value=i,n[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];n[t]=V(e,(function(t,r){return t.invoke(r,e)}))})),n}(n),p.drawVAO=p.scopeVAO=u.vao,!p.drawVAO&&f.program&&!l&&r.angle_instanced_arrays&&u.static.elements){var g=!0;if(t=f.program.attributes.map((function(t){return t=e.static[t],g=g&&!!t,t})),g&&0<t.length){var y=d.getVAO(d.createVAO({attributes:t,elements:u.static.elements}));p.drawVAO=new N(null,null,null,(function(t,e){return t.link(y)})),p.useVAO=!0}}return l?p.useVAO=!0:p.attributes=T(e),p.context=function(t){var e=t.static,r=t.dynamic,n={};return Object.keys(e).forEach((function(t){var r=e[t];n[t]=U((function(t,e){return"number"==typeof r||"boolean"==typeof r?""+r:t.link(r)}))})),Object.keys(r).forEach((function(t){var e=r[t];n[t]=V(e,(function(t,r){return t.invoke(r,e)}))})),n}(i),p}function S(t,e,r){var n=t.shared.context,i=t.scope();Object.keys(r).forEach((function(o){e.save(n,"."+o);var a=r[o].append(t,e);Array.isArray(a)?i(n,".",o,"=[",a.join(),"];"):i(n,".",o,"=",a,";")})),e(i)}function E(t,e,r,n){var i,o=(s=t.shared).gl,a=s.framebuffer;tt&&(i=e.def(s.extensions,".webgl_draw_buffers"));var s=(l=t.constants).drawBuffer,l=l.backBuffer;t=r?r.append(t,e):e.def(a,".next"),n||e("if(",t,"!==",a,".cur){"),e("if(",t,"){",o,".bindFramebuffer(",36160,",",t,".framebuffer);"),tt&&e(i,".drawBuffersWEBGL(",s,"[",t,".colorAttachments.length]);"),e("}else{",o,".bindFramebuffer(",36160,",null);"),tt&&e(i,".drawBuffersWEBGL(",l,");"),e("}",a,".cur=",t,";"),n||e("}")}function C(t,e,r){var n=t.shared,i=n.gl,o=t.current,s=t.next,l=n.current,c=n.next,d=t.cond(l,".dirty");ot.forEach((function(e){var n,u;if(!((e=b(e))in r.state))if(e in s){n=s[e],u=o[e];var h=a(nt[e].length,(function(t){return d.def(n,"[",t,"]")}));d(t.cond(h.map((function(t,e){return t+"!=="+u+"["+e+"]"})).join("||")).then(i,".",lt[e],"(",h,");",h.map((function(t,e){return u+"["+e+"]="+t})).join(";"),";"))}else n=d.def(c,".",e),h=t.cond(n,"!==",l,".",e),d(h),e in at?h(t.cond(n).then(i,".enable(",at[e],");").else(i,".disable(",at[e],");"),l,".",e,"=",n,";"):h(i,".",lt[e],"(",n,");",l,".",e,"=",n,";")})),0===Object.keys(r.state).length&&d(l,".dirty=false;"),e(d)}function z(t,e,r,n){var i,o=t.shared,a=t.current,s=o.current,l=o.gl;j(Object.keys(r)).forEach((function(o){var c=r[o];if(!n||n(c)){var d=c.append(t,e);if(at[o]){var u=at[o];B(c)?(i=t.link(d,{stable:!0}),e(t.cond(i).then(l,".enable(",u,");").else(l,".disable(",u,");")),e(s,".",o,"=",i,";")):(e(t.cond(d).then(l,".enable(",u,");").else(l,".disable(",u,");")),e(s,".",o,"=",d,";"))}else if(v(d)){var h=a[o];e(l,".",lt[o],"(",d,");",d.map((function(t,e){return h+"["+e+"]="+t})).join(";"),";")}else B(c)?(i=t.link(d,{stable:!0}),e(l,".",lt[o],"(",i,");",s,".",o,"=",i,";")):e(l,".",lt[o],"(",d,");",s,".",o,"=",d,";")}}))}function L(t,e){K&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function O(t,e,r,n,i){function o(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function a(t){t(c=e.def(),"=",o(),";"),"string"==typeof i?t(h,".count+=",i,";"):t(h,".count++;"),p&&(n?t(d=e.def(),"=",m,".getNumPendingQueries();"):t(m,".beginQuery(",h,");"))}function s(t){t(h,".cpuTime+=",o(),"-",c,";"),p&&(n?t(m,".pushScopeStats(",d,",",m,".getNumPendingQueries(),",h,");"):t(m,".endQuery();"))}function l(t){var r=e.def(f,".profile");e(f,".profile=",t,";"),e.exit(f,".profile=",r,";")}var c,d,u=t.shared,h=t.stats,f=u.current,m=u.timer;if(r=r.profile){if(B(r))return void(r.enable?(a(e),s(e.exit),l("true")):l("false"));l(r=r.append(t,e))}else r=e.def(f,".profile");a(u=t.block()),e("if(",r,"){",u,"}"),s(t=t.block()),e.exit("if(",r,"){",t,"}")}function D(t,e,r,n,i){function o(r,n,i){function o(){e("if(!",d,".buffer){",l,".enableVertexAttribArray(",c,");}");var r,o=i.type;r=i.size?e.def(i.size,"||",n):n,e("if(",d,".type!==",o,"||",d,".size!==",r,"||",f.map((function(t){return d+"."+t+"!=="+i[t]})).join("||"),"){",l,".bindBuffer(",34962,",",u,".buffer);",l,".vertexAttribPointer(",[c,r,o,i.normalized,i.stride,i.offset],");",d,".type=",o,";",d,".size=",r,";",f.map((function(t){return d+"."+t+"="+i[t]+";"})).join(""),"}"),K&&(o=i.divisor,e("if(",d,".divisor!==",o,"){",t.instancing,".vertexAttribDivisorANGLE(",[c,o],");",d,".divisor=",o,";}"))}function s(){e("if(",d,".buffer){",l,".disableVertexAttribArray(",c,");",d,".buffer=null;","}if(",St.map((function(t,e){return d+"."+t+"!=="+h[e]})).join("||"),"){",l,".vertexAttrib4f(",c,",",h,");",St.map((function(t,e){return d+"."+t+"="+h[e]+";"})).join(""),"}")}var l=a.gl,c=e.def(r,".location"),d=e.def(a.attributes,"[",c,"]");r=i.state;var u=i.buffer,h=[i.x,i.y,i.z,i.w],f=["buffer","normalized","offset","stride"];1===r?o():2===r?s():(e("if(",r,"===",1,"){"),o(),e("}else{"),s(),e("}"))}var a=t.shared;n.forEach((function(n){var a,s=n.name,l=r.attributes[s];if(l){if(!i(l))return;a=l.append(t,e)}else{if(!i(Dt))return;var c=t.scopeAttrib(s);a={},Object.keys(new J).forEach((function(t){a[t]=e.def(c,".",t)}))}o(t.link(n),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(n.info.type),a)}))}function I(t,r,n,i,o,s){for(var l,c=t.shared,d=c.gl,u=0;u<i.length;++u){var h,f=(g=i[u]).name,p=g.info.type,m=n.uniforms[f],g=t.link(g)+".location";if(m){if(!o(m))continue;if(B(m)){if(f=m.value,35678===p||35680===p)r(d,".uniform1i(",g,",",(p=t.link(f._texture||f.color[0]._texture))+".bind());"),r.exit(p,".unbind();");else if(35674===p||35675===p||35676===p)m=2,35675===p?m=3:35676===p&&(m=4),r(d,".uniformMatrix",m,"fv(",g,",false,",f=t.global.def("new Float32Array(["+Array.prototype.slice.call(f)+"])"),");");else{switch(p){case 5126:l="1f";break;case 35664:l="2f";break;case 35665:l="3f";break;case 35666:l="4f";break;case 35670:case 5124:l="1i";break;case 35671:case 35667:l="2i";break;case 35672:case 35668:l="3i";break;case 35673:case 35669:l="4i"}r(d,".uniform",l,"(",g,",",v(f)?Array.prototype.slice.call(f):f,");")}continue}h=m.append(t,r)}else{if(!o(Dt))continue;h=r.def(c.uniforms,"[",e.id(f),"]")}switch(35678===p?r("if(",h,"&&",h,'._reglType==="framebuffer"){',h,"=",h,".color[0];","}"):35680===p&&r("if(",h,"&&",h,'._reglType==="framebufferCube"){',h,"=",h,".color[0];","}"),f=1,p){case 35678:case 35680:p=r.def(h,"._texture"),r(d,".uniform1i(",g,",",p,".bind());"),r.exit(p,".unbind();");continue;case 5124:case 35670:l="1i";break;case 35667:case 35671:l="2i",f=2;break;case 35668:case 35672:l="3i",f=3;break;case 35669:case 35673:l="4i",f=4;break;case 5126:l="1f";break;case 35664:l="2f",f=2;break;case 35665:l="3f",f=3;break;case 35666:l="4f",f=4;break;case 35674:l="Matrix2fv";break;case 35675:l="Matrix3fv";break;case 35676:l="Matrix4fv"}if("M"===l.charAt(0)){r(d,".uniform",l,"(",g,","),g=Math.pow(p-35674+2,2);var b=t.global.def("new Float32Array(",g,")");Array.isArray(h)?r("false,(",a(g,(function(t){return b+"["+t+"]="+h[t]})),",",b,")"):r("false,(Array.isArray(",h,")||",h," instanceof Float32Array)?",h,":(",a(g,(function(t){return b+"["+t+"]="+h+"["+t+"]"})),",",b,")"),r(");")}else{if(1<f){p=[];var y=[];for(m=0;m<f;++m)Array.isArray(h)?y.push(h[m]):y.push(r.def(h+"["+m+"]")),s&&p.push(r.def());s&&r("if(!",t.batchId,"||",p.map((function(t,e){return t+"!=="+y[e]})).join("||"),"){",p.map((function(t,e){return t+"="+y[e]+";"})).join("")),r(d,".uniform",l,"(",g,",",y.join(","),");")}else s&&(p=r.def(),r("if(!",t.batchId,"||",p,"!==",h,"){",p,"=",h,";")),r(d,".uniform",l,"(",g,",",h,");");s&&r("}")}}}function F(t,e,r,n){function i(i){var o=h[i];return o?o.contextDep&&n.contextDynamic||o.propDep?o.append(t,r):o.append(t,e):e.def(u,".",i)}function o(){function t(){r(l,".drawElementsInstancedANGLE(",[p,g,b,m+"<<(("+b+"-5121)>>1)",s],");")}function e(){r(l,".drawArraysInstancedANGLE(",[p,m,g,s],");")}f&&"null"!==f?v?t():(r("if(",f,"){"),t(),r("}else{"),e(),r("}")):e()}function a(){function t(){r(d+".drawElements("+[p,g,b,m+"<<(("+b+"-5121)>>1)"]+");")}function e(){r(d+".drawArrays("+[p,m,g]+");")}f&&"null"!==f?v?t():(r("if(",f,"){"),t(),r("}else{"),e(),r("}")):e()}var s,l,c=t.shared,d=c.gl,u=c.draw,h=n.draw,f=function(){var i=h.elements,o=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),i=i.append(t,o),h.elementsActive&&o("if("+i+")"+d+".bindBuffer(34963,"+i+".buffer.buffer);")):(i=o.def(),o(i,"=",u,".","elements",";","if(",i,"){",d,".bindBuffer(",34963,",",i,".buffer.buffer);}","else if(",c.vao,".currentVAO){",i,"=",t.shared.elements+".getElements("+c.vao,".currentVAO.elements);",et?"":"if("+i+")"+d+".bindBuffer(34963,"+i+".buffer.buffer);","}")),i}(),p=i("primitive"),m=i("offset"),g=function(){var i=h.count,o=e;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(o=r),i=i.append(t,o)):i=o.def(u,".","count"),i}();if("number"==typeof g){if(0===g)return}else r("if(",g,"){"),r.exit("}");K&&(s=i("instances"),l=t.instancing);var b=f+".type",v=h.elements&&B(h.elements)&&!h.vaoActive;K&&("number"!=typeof s||0<=s)?"string"==typeof s?(r("if(",s,">0){"),o(),r("}else if(",s,"<0){"),a(),r("}")):o():a()}function G(t,e,r,n,i){return i=(e=w()).proc("body",i),K&&(e.instancing=i.def(e.shared.extensions,".angle_instanced_arrays")),t(e,i,r,n),e.compile().body}function H(t,e,r,n){L(t,e),r.useVAO?r.drawVAO?e(t.shared.vao,".setVAO(",r.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),D(t,e,r,n.attributes,(function(){return!0}))),I(t,e,r,n.uniforms,(function(){return!0}),!1),F(t,e,e,r)}function q(t,e,r,n){function i(){return!0}t.batchId="a1",L(t,e),D(t,e,r,n.attributes,i),I(t,e,r,n.uniforms,i,!1),F(t,e,e,r)}function Y(t,e,r,n){function i(t){return t.contextDep&&a||t.propDep}function o(t){return!i(t)}L(t,e);var a=r.contextDep,s=e.def(),l=e.def();t.shared.props=l,t.batchId=s;var c=t.scope(),d=t.scope();e(c.entry,"for(",s,"=0;",s,"<","a1",";++",s,"){",l,"=","a0","[",s,"];",d,"}",c.exit),r.needsContext&&S(t,d,r.context),r.needsFramebuffer&&E(t,d,r.framebuffer),z(t,d,r.state,i),r.profile&&i(r.profile)&&O(t,d,r,!1,!0),n?(r.useVAO?r.drawVAO?i(r.drawVAO)?d(t.shared.vao,".setVAO(",r.drawVAO.append(t,d),");"):c(t.shared.vao,".setVAO(",r.drawVAO.append(t,c),");"):c(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(c(t.shared.vao,".setVAO(null);"),D(t,c,r,n.attributes,o),D(t,d,r,n.attributes,i)),I(t,c,r,n.uniforms,o,!1),I(t,d,r,n.uniforms,i,!0),F(t,c,d,r)):(e=t.global.def("{}"),n=r.shader.progVar.append(t,d),l=d.def(n,".id"),c=d.def(e,"[",l,"]"),d(t.shared.gl,".useProgram(",n,".program);","if(!",c,"){",c,"=",e,"[",l,"]=",t.link((function(e){return G(q,t,r,e,2)})),"(",n,");}",c,".call(this,a0[",s,"],",s,");"))}function Z(t,r){function n(e){var n=r.shader[e];n&&(n=n.append(t,i),isNaN(n)?i.set(o.shader,"."+e,n):i.set(o.shader,"."+e,t.link(n,{stable:!0})))}var i=t.proc("scope",3);t.batchId="a2";var o=t.shared,a=o.current;if(S(t,i,r.context),r.framebuffer&&r.framebuffer.append(t,i),j(Object.keys(r.state)).forEach((function(e){var n=r.state[e],a=n.append(t,i);v(a)?a.forEach((function(r,n){isNaN(r)?i.set(t.next[e],"["+n+"]",r):i.set(t.next[e],"["+n+"]",t.link(r,{stable:!0}))})):B(n)?i.set(o.next,"."+e,t.link(a,{stable:!0})):i.set(o.next,"."+e,a)})),O(t,i,r,!0,!0),["elements","offset","count","instances","primitive"].forEach((function(e){var n=r.draw[e];n&&(n=n.append(t,i),isNaN(n)?i.set(o.draw,"."+e,n):i.set(o.draw,"."+e,t.link(n),{stable:!0}))})),Object.keys(r.uniforms).forEach((function(n){var a=r.uniforms[n].append(t,i);Array.isArray(a)&&(a="["+a.map((function(e){return isNaN(e)?e:t.link(e,{stable:!0})}))+"]"),i.set(o.uniforms,"["+t.link(e.id(n),{stable:!0})+"]",a)})),Object.keys(r.attributes).forEach((function(e){var n=r.attributes[e].append(t,i),o=t.scopeAttrib(e);Object.keys(new J).forEach((function(t){i.set(o,"."+t,n[t])}))})),r.scopeVAO){var s=r.scopeVAO.append(t,i);isNaN(s)?i.set(o.vao,".targetVAO",s):i.set(o.vao,".targetVAO",t.link(s,{stable:!0}))}n("vert"),n("frag"),0<Object.keys(r.state).length&&(i(a,".dirty=true;"),i.exit(a,".dirty=true;")),i("a1(",t.shared.context,",a0,",t.batchId,");")}function X(t,e,r){var n=e.static[r];if(n&&function(t){if("object"==typeof t&&!v(t)){for(var e=Object.keys(t),r=0;r<e.length;++r)if($.isDynamic(t[e[r]]))return!0;return!1}}(n)){var i=t.global,o=Object.keys(n),a=!1,s=!1,l=!1,c=t.global.def("{}");o.forEach((function(e){var r=n[e];if($.isDynamic(r))"function"==typeof r&&(r=n[e]=$.unbox(r)),e=V(r,null),a=a||e.thisDep,l=l||e.propDep,s=s||e.contextDep;else{switch(i(c,".",e,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(t.link(r))}i(";")}})),e.dynamic[r]=new $.DynamicVariable(4,{thisDep:a,contextDep:s,propDep:l,ref:c,append:function(t,e){o.forEach((function(r){var i=n[r];$.isDynamic(i)&&(i=t.invoke(e,i),e(c,".",r,"=",i,";"))}))}}),delete e.static[r]}}var J=d.Record,Q={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(Q.min=32775,Q.max=32776);var K=r.angle_instanced_arrays,tt=r.webgl_draw_buffers,et=r.oes_vertex_array_object,nt={dirty:!0,profile:g.profile},it={},ot=[],at={},lt={};y("dither",3024),y("blend.enable",3042),x("blend.color","blendColor",[0,0,0,0]),x("blend.equation","blendEquationSeparate",[32774,32774]),x("blend.func","blendFuncSeparate",[1,0,1,0]),y("depth.enable",2929,!0),x("depth.func","depthFunc",513),x("depth.range","depthRange",[0,1]),x("depth.mask","depthMask",!0),x("colorMask","colorMask",[!0,!0,!0,!0]),y("cull.enable",2884),x("cull.face","cullFace",1029),x("frontFace","frontFace",2305),x("lineWidth","lineWidth",1),y("polygonOffset.enable",32823),x("polygonOffset.offset","polygonOffset",[0,0]),y("sample.alpha",32926),y("sample.enable",32928),x("sample.coverage","sampleCoverage",[1,!1]),y("stencil.enable",2960),x("stencil.mask","stencilMask",-1),x("stencil.func","stencilFunc",[519,0,-1]),x("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),x("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),y("scissor.enable",3089),x("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),x("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var ct={gl:t,context:f,strings:e,next:it,current:nt,draw:h,elements:o,buffer:i,shader:u,attributes:d.state,vao:d,uniforms:c,framebuffer:l,extensions:r,timer:p,isBufferArgs:P},dt={primTypes:st,compareFuncs:zt,blendFuncs:Ct,blendEquations:Q,stencilOps:Lt,glTypes:rt,orientationType:Ot};tt&&(dt.backBuffer=[1029],dt.drawBuffer=a(n.maxDrawbuffers,(function(t){return 0===t?[0]:a(t,(function(t){return 36064+t}))})));var ut=0;return{next:it,current:nt,procs:function(){var t=w(),e=t.proc("poll"),i=t.proc("refresh"),o=t.block();e(o),i(o);var s,l=(u=t.shared).gl,c=u.next,d=u.current;o(d,".dirty=false;"),E(t,e),E(t,i,null,!0),K&&(s=t.link(K)),r.oes_vertex_array_object&&i(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");var u=i.def(u.attributes),h=i.def(0),f=t.cond(h,".buffer");f.then(l,".enableVertexAttribArray(i);",l,".bindBuffer(",34962,",",h,".buffer.buffer);",l,".vertexAttribPointer(i,",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(l,".disableVertexAttribArray(i);",l,".vertexAttrib4f(i,",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;");var p=t.link(n.maxAttributes,{stable:!0});return i("for(var i=0;i<",p,";++i){",h,"=",u,"[i];",f,"}"),K&&i("for(var i=0;i<",p,";++i){",s,".vertexAttribDivisorANGLE(i,",u,"[i].divisor);","}"),i(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(at).forEach((function(r){var n=at[r],a=o.def(c,".",r),s=t.block();s("if(",a,"){",l,".enable(",n,")}else{",l,".disable(",n,")}",d,".",r,"=",a,";"),i(s),e("if(",a,"!==",d,".",r,"){",s,"}")})),Object.keys(lt).forEach((function(r){var n,s,u=lt[r],h=nt[r],f=t.block();f(l,".",u,"("),v(h)?(u=h.length,n=t.global.def(c,".",r),s=t.global.def(d,".",r),f(a(u,(function(t){return n+"["+t+"]"})),");",a(u,(function(t){return s+"["+t+"]="+n+"["+t+"];"})).join("")),e("if(",a(u,(function(t){return n+"["+t+"]!=="+s+"["+t+"]"})).join("||"),"){",f,"}")):(n=o.def(c,".",r),s=o.def(d,".",r),f(n,");",d,".",r,"=",n,";"),e("if(",n,"!==",s,"){",f,"}")),i(f)})),t.compile()}(),compile:function(t,e,r,n,i){var o=w();o.stats=o.link(i),Object.keys(e.static).forEach((function(t){X(o,e,t)})),Et.forEach((function(e){X(o,t,e)}));var a=M(t,e,r,n);return a.shader.program&&(a.shader.program.attributes.sort((function(t,e){return t.name<e.name?-1:1})),a.shader.program.uniforms.sort((function(t,e){return t.name<e.name?-1:1}))),function(t,e){var r=t.proc("draw",1);L(t,r),S(t,r,e.context),E(t,r,e.framebuffer),C(t,r,e),z(t,r,e.state),O(t,r,e,!1,!0);var n=e.shader.progVar.append(t,r);if(r(t.shared.gl,".useProgram(",n,".program);"),e.shader.program)H(t,r,e,e.shader.program);else{r(t.shared.vao,".setVAO(null);");var i=t.global.def("{}"),o=r.def(n,".id"),a=r.def(i,"[",o,"]");r(t.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",t.link((function(r){return G(H,t,e,r,1)})),"(",n,");",a,".call(this,a0);"))}0<Object.keys(e.state).length&&r(t.shared.current,".dirty=true;"),t.shared.vao&&r(t.shared.vao,".setVAO(null);")}(o,a),Z(o,a),function(t,e){function r(t){return t.contextDep&&i||t.propDep}var n=t.proc("batch",2);t.batchId="0",L(t,n);var i=!1,o=!0;Object.keys(e.context).forEach((function(t){i=i||e.context[t].propDep})),i||(S(t,n,e.context),o=!1);var a=!1;if((s=e.framebuffer)?(s.propDep?i=a=!0:s.contextDep&&i&&(a=!0),a||E(t,n,s)):E(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(i=!0),C(t,n,e),z(t,n,e.state,(function(t){return!r(t)})),e.profile&&r(e.profile)||O(t,n,e,!1,"a1"),e.contextDep=i,e.needsContext=o,e.needsFramebuffer=a,(o=e.shader.progVar).contextDep&&i||o.propDep)Y(t,n,e,null);else if(o=o.append(t,n),n(t.shared.gl,".useProgram(",o,".program);"),e.shader.program)Y(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var s=t.global.def("{}"),l=(a=n.def(o,".id"),n.def(s,"[",a,"]"));n(t.cond(l).then(l,".call(this,a0,a1);").else(l,"=",s,"[",a,"]=",t.link((function(r){return G(Y,t,e,r,2)})),"(",o,");",l,".call(this,a0,a1);"))}0<Object.keys(e.state).length&&n(t.shared.current,".dirty=true;"),t.shared.vao&&n(t.shared.vao,".setVAO(null);")}(o,a),W(o.compile(),{destroy:function(){a.shader.program.destroy()}})}}}function H(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}var W=function(t,e){for(var r=Object.keys(e),n=0;n<r.length;++n)t[r[n]]=e[r[n]];return t},q=0,$={DynamicVariable:t,define:function(e,n){return new t(e,r(n+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof t},unbox:function e(r,n){return"function"==typeof r?new t(0,r):"number"==typeof r||"boolean"==typeof r?new t(5,r):Array.isArray(r)?new t(6,r.map((function(t,r){return e(t,n+"["+r+"]")}))):r instanceof t?r:void 0},accessor:r},Y={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},Z="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},X=l();X.zero=l();var J=function(t,e){var r=1;e.ext_texture_filter_anisotropic&&(r=t.getParameter(34047));var n=1,i=1;e.webgl_draw_buffers&&(n=t.getParameter(34852),i=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){o=t.createTexture(),t.bindTexture(3553,o),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var a=t.createFramebuffer();if(t.bindFramebuffer(36160,a),t.framebufferTexture2D(36160,36064,3553,o,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var s=X.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,s),t.getError()?o=!1:(t.deleteFramebuffer(a),t.deleteTexture(o),o=1===s[0]),X.freeType(s)}}return s=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(s=t.createTexture(),a=X.allocType(5121,36),t.activeTexture(33984),t.bindTexture(34067,s),t.texImage2D(34069,0,6408,3,3,0,6408,5121,a),X.freeType(a),t.bindTexture(34067,null),t.deleteTexture(s),s=!t.getError()),{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:s}},Q=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},K=function(t){return Object.keys(t).map((function(e){return t[e]}))},tt={shape:function(t){for(var e=[];t.length;t=t[0])e.push(t.length);return e},flatten:function(t,e,r,n){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;switch(r=n||X.allocType(r,i),e.length){case 0:break;case 1:for(n=e[0],e=0;e<n;++e)r[e]=t[e];break;case 2:for(n=e[0],e=e[1],o=i=0;o<n;++o)for(var a=t[o],s=0;s<e;++s)r[i++]=a[s];break;case 3:d(t,e[0],e[1],e[2],r,0);break;default:u(t,e,0,r,0)}return r}},et={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},rt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},nt={dynamic:35048,stream:35040,static:35044},it=tt.flatten,ot=tt.shape,at=[];at[5120]=1,at[5122]=2,at[5124]=4,at[5121]=1,at[5123]=2,at[5125]=4,at[5126]=4;var st={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},lt=new Float32Array(1),ct=new Uint32Array(lt.buffer),dt=[9984,9986,9985,9987],ut=[0,6409,6410,6407,6408],ht={};ht[6409]=ht[6406]=ht[6402]=1,ht[34041]=ht[6410]=2,ht[6407]=ht[35904]=3,ht[6408]=ht[35906]=4;var ft=y("HTMLCanvasElement"),pt=y("OffscreenCanvas"),mt=y("CanvasRenderingContext2D"),gt=y("ImageBitmap"),bt=y("HTMLImageElement"),vt=y("HTMLVideoElement"),yt=Object.keys(et).concat([ft,pt,mt,gt,bt,vt]),xt=[];xt[5121]=1,xt[5126]=4,xt[36193]=2,xt[5123]=2,xt[5125]=4;var wt=[];wt[32854]=2,wt[32855]=2,wt[36194]=2,wt[34041]=4,wt[33776]=.5,wt[33777]=.5,wt[33778]=1,wt[33779]=1,wt[35986]=.5,wt[35987]=1,wt[34798]=1,wt[35840]=.5,wt[35841]=.25,wt[35842]=.5,wt[35843]=.25,wt[36196]=.5;var _t=[];_t[32854]=2,_t[32855]=2,_t[36194]=2,_t[33189]=2,_t[36168]=1,_t[34041]=4,_t[35907]=4,_t[34836]=16,_t[34842]=8,_t[34843]=6;var kt=function(t,e,r,n,i){function o(t){this.id=c++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.height=this.width=0,i.profile&&(this.stats={size:0})}function a(e){var r=e.renderbuffer;t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(r),e.renderbuffer=null,e.refCount=0,delete d[e.id],n.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(s.srgba=35907),e.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),e.webgl_color_buffer_float&&(s.rgba32f=34836);var l=[];Object.keys(s).forEach((function(t){l[s[t]]=t}));var c=0,d={};return o.prototype.decRef=function(){0>=--this.refCount&&a(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var t=0;return Object.keys(d).forEach((function(e){t+=d[e].stats.size})),t}),{create:function(e,r){function a(e,r){var n=0,o=0,d=32854;if("object"==typeof e&&e?("shape"in e?(n=0|(o=e.shape)[0],o=0|o[1]):("radius"in e&&(n=o=0|e.radius),"width"in e&&(n=0|e.width),"height"in e&&(o=0|e.height)),"format"in e&&(d=s[e.format])):"number"==typeof e?(n=0|e,o="number"==typeof r?0|r:n):e||(n=o=1),n!==c.width||o!==c.height||d!==c.format)return a.width=c.width=n,a.height=c.height=o,c.format=d,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,d,n,o),i.profile&&(c.stats.size=_t[c.format]*c.width*c.height),a.format=l[c.format],a}var c=new o(t.createRenderbuffer());return d[c.id]=c,n.renderbufferCount++,a(e,r),a.resize=function(e,r){var n=0|e,o=0|r||n;return n===c.width&&o===c.height||(a.width=c.width=n,a.height=c.height=o,t.bindRenderbuffer(36161,c.renderbuffer),t.renderbufferStorage(36161,c.format,n,o),i.profile&&(c.stats.size=_t[c.format]*c.width*c.height)),a},a._reglType="renderbuffer",a._renderbuffer=c,i.profile&&(a.stats=c.stats),a.destroy=function(){c.decRef()},a},clear:function(){K(d).forEach(a)},restore:function(){K(d).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}},At=[];At[6408]=4,At[6407]=3;var Tt=[];Tt[5121]=1,Tt[5126]=4,Tt[36193]=2;var Mt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],St=["x","y","z","w"],Et="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ct={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},zt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ot={cw:2304,ccw:2305},Dt=new N(!1,!1,!1,(function(){}));return function(t){function e(){if(0===X.length)k&&k.update(),et=null;else{et=Y.next(e),u();for(var t=X.length-1;0<=t;--t){var r=X[t];r&&r(O,null,0)}p.flush(),k&&k.update()}}function r(){!et&&0<X.length&&(et=Y.next(e))}function n(){et&&(Y.cancel(e),et=null)}function i(t){t.preventDefault(),n(),Q.forEach((function(t){t()}))}function a(t){p.getError(),v.restore(),P.restore(),I.restore(),j.restore(),N.restore(),B.restore(),R.restore(),k&&k.restore(),U.procs.refresh(),r(),K.forEach((function(t){t()}))}function s(t){function e(t,e){var r={},n={};return Object.keys(t).forEach((function(i){var o=t[i];if($.isDynamic(o))n[i]=$.unbox(o,i);else{if(e&&Array.isArray(o))for(var a=0;a<o.length;++a)if($.isDynamic(o[a]))return void(n[i]=$.unbox(o,i));r[i]=o}})),{dynamic:n,static:r}}var r=e(t.context||{},!0),n=e(t.uniforms||{},!0),i=e(t.attributes||{},!1);t=e(function(t){function e(t){if(t in r){var e=r[t];delete r[t],Object.keys(e).forEach((function(n){r[t+"."+n]=e[n]}))}}var r=W({},t);return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),e("blend"),e("depth"),e("cull"),e("stencil"),e("polygonOffset"),e("scissor"),e("sample"),"vao"in t&&(r.vao=t.vao),r}(t),!1);var o={gpuTime:0,cpuTime:0,count:0},a=U.compile(t,i,n,r,o),s=a.draw,l=a.batch,c=a.scope,d=[];return W((function(t,e){var r;if("function"==typeof t)return c.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(r=0;r<t;++r)c.call(this,null,e,r);else{if(!Array.isArray(t))return c.call(this,t,e,0);for(r=0;r<t.length;++r)c.call(this,t[r],e,r)}else if("number"==typeof t){if(0<t)return l.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return s.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:o,destroy:function(){a.destroy()}})}function l(t,e){var r=0;U.procs.poll();var n=e.color;n&&(p.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=16384),"depth"in e&&(p.clearDepth(+e.depth),r|=256),"stencil"in e&&(p.clearStencil(0|e.stencil),r|=1024),p.clear(r)}function c(t){return X.push(t),r(),{cancel:function(){var e=H(X,t);X[e]=function t(){var e=H(X,t);X[e]=X[X.length-1],--X.length,0>=X.length&&n()}}}}function d(){var t=V.viewport,e=V.scissor_box;t[0]=t[1]=e[0]=e[1]=0,O.viewportWidth=O.framebufferWidth=O.drawingBufferWidth=t[2]=e[2]=p.drawingBufferWidth,O.viewportHeight=O.framebufferHeight=O.drawingBufferHeight=t[3]=e[3]=p.drawingBufferHeight}function u(){O.tick+=1,O.time=f(),d(),U.procs.poll()}function h(){j.refresh(),d(),U.procs.refresh(),k&&k.update()}function f(){return(Z()-A)/1e3}if(!(t=o(t)))return null;var p=t.gl,b=p.getContextAttributes();p.isContextLost();var v=function(t,e){function r(e){var r;e=e.toLowerCase();try{r=n[e]=t.getExtension(e)}catch(t){}return!!r}for(var n={},i=0;i<e.extensions.length;++i){var o=e.extensions[i];if(!r(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw Error("(regl): error restoring extension "+t)}))}}}(p,t);if(!v)return null;var y=function(){var t={"":0},e=[""];return{id:function(r){var n=t[r];return n||(n=t[r]=e.length,e.push(r),n)},str:function(t){return e[t]}}}(),x={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},w=t.cachedCode||{},_=v.extensions,k=function(t,e){function r(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function n(t,e,n){var i=a.pop()||new r;i.startQueryIndex=t,i.endQueryIndex=e,i.sum=0,i.stats=n,s.push(i)}if(!e.ext_disjoint_timer_query)return null;var i=[],o=[],a=[],s=[],l=[],c=[];return{beginQuery:function(t){var r=i.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),n(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:n,update:function(){var t,r;if(0!==(t=o.length)){c.length=Math.max(c.length,t+1),l.length=Math.max(l.length,t+1),l[0]=0;var n=c[0]=0;for(r=t=0;r<o.length;++r){var d=o[r];e.ext_disjoint_timer_query.getQueryObjectEXT(d,34919)?(n+=e.ext_disjoint_timer_query.getQueryObjectEXT(d,34918),i.push(d)):o[t++]=d,l[r+1]=n,c[r+1]=t}for(o.length=t,r=t=0;r<s.length;++r){var u=(n=s[r]).startQueryIndex;d=n.endQueryIndex,n.sum+=l[d]-l[u],u=c[u],(d=c[d])===u?(n.stats.gpuTime+=n.sum/1e6,a.push(n)):(n.startQueryIndex=u,n.endQueryIndex=d,s[t++]=n)}s.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){i.push.apply(i,o);for(var t=0;t<i.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(i[t]);o.length=0,i.length=0},restore:function(){o.length=0,i.length=0}}}(0,_),A=Z(),T=p.drawingBufferWidth,E=p.drawingBufferHeight,O={tick:0,time:0,viewportWidth:T,viewportHeight:E,framebufferWidth:T,framebufferHeight:E,drawingBufferWidth:T,drawingBufferHeight:E,pixelRatio:t.pixelRatio},D=(T={elements:null,primitive:4,count:-1,offset:0,instances:-1},J(p,_)),I=m(p,x,t,(function(t){return R.destroyBuffer(t)})),F=g(p,_,I,x),R=C(p,_,D,x,I,F,T),P=z(p,y,x,t),j=M(p,_,D,(function(){U.procs.poll()}),O,x,t),N=kt(p,_,0,x,t),B=S(p,_,D,j,N,x),U=G(p,y,_,D,I,F,0,B,{},R,P,T,O,k,w,t),V=(y=L(p,B,U.procs.poll,O),U.next),q=p.canvas,X=[],Q=[],K=[],tt=[t.onDestroy],et=null;q&&(q.addEventListener("webglcontextlost",i,!1),q.addEventListener("webglcontextrestored",a,!1));var rt=B.setFBO=s({framebuffer:$.define.call(null,1,"framebuffer")});return h(),b=W(s,{clear:function(t){if("framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;6>e;++e)rt(W({framebuffer:t.framebuffer.faces[e]},t),l);else rt(t,l);else l(0,t)},prop:$.define.bind(null,1),context:$.define.bind(null,2),this:$.define.bind(null,3),draw:s({}),buffer:function(t){return I.create(t,34962,!1,!1)},elements:function(t){return F.create(t,!1)},texture:j.create2D,cube:j.createCube,renderbuffer:N.create,framebuffer:B.create,framebufferCube:B.createCube,vao:R.createVAO,attributes:b,frame:c,on:function(t,e){var r;switch(t){case"frame":return c(e);case"lost":r=Q;break;case"restore":r=K;break;case"destroy":r=tt}return r.push(e),{cancel:function(){for(var t=0;t<r.length;++t)if(r[t]===e){r[t]=r[r.length-1],r.pop();break}}}},limits:D,hasExtension:function(t){return 0<=D.extensions.indexOf(t.toLowerCase())},read:y,destroy:function(){X.length=0,n(),q&&(q.removeEventListener("webglcontextlost",i),q.removeEventListener("webglcontextrestored",a)),P.clear(),B.clear(),N.clear(),R.clear(),j.clear(),F.clear(),I.clear(),k&&k.clear(),tt.forEach((function(t){t()}))},_gl:p,_refresh:h,poll:function(){u(),k&&k.update()},now:f,stats:x,getCachedCode:function(){return w},preloadCachedCode:function(t){Object.entries(t).forEach((function(t){w[t[0]]=t[1]}))}}),t.onDone(null,b),b}}()},83385:t=>{"use strict";t.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},83493:(t,e,r)=>{"use strict";var n=r(99246),i=r(677),o=r(25059),a=r(66811).isUnifiedHover,s=r(27756),l=r(47685),c=r(7113).DRAW_MODES,d=r(12822).extendDeep;t.exports=function(t){var e=t._fullLayout,r=t._context,u=e._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var h,f=r.modeBarButtons;h=Array.isArray(f)&&f.length?function(t){for(var e=d([],t),r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;i++){var o=n[i];if("string"==typeof o){if(void 0===l[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[r][i]=l[o]}}return e}(f):!r.displayModeBar&&r.watermark?[]:function(t){var e=t._fullLayout,r=t._fullData,s=t._context;function d(t,e){if("string"==typeof e){if(e.toLowerCase()===t.toLowerCase())return!0}else{var r=e.name,n=e._cat||e.name;if(r===t||n===t.toLowerCase())return!0}return!1}var u=e.modebar.add;"string"==typeof u&&(u=[u]);var h=e.modebar.remove;"string"==typeof h&&(h=[h]);var f=s.modeBarButtonsToAdd.concat(u.filter((function(t){for(var e=0;e<s.modeBarButtonsToRemove.length;e++)if(d(t,s.modeBarButtonsToRemove[e]))return!1;return!0}))),p=s.modeBarButtonsToRemove.concat(h.filter((function(t){for(var e=0;e<s.modeBarButtonsToAdd.length;e++)if(d(t,s.modeBarButtonsToAdd[e]))return!1;return!0}))),m=e._has("cartesian"),g=e._has("gl3d"),b=e._has("geo"),v=e._has("pie"),y=e._has("funnelarea"),x=e._has("ternary"),w=e._has("mapbox"),_=e._has("map"),k=e._has("polar"),A=e._has("smith"),T=e._has("sankey"),M=function(t){for(var e=n.list({_fullLayout:t},null,!0),r=0;r<e.length;r++){var i=e[r].modebardisable;if(!e[r].fixedrange&&"autoscale+zoominout"!==i&&"zoominout+autoscale"!==i)return!1}return!0}(e),S=a(e.hovermode),E=[];function C(t){if(t.length){for(var e=[],r=0;r<t.length;r++){for(var n=t[r],i=l[n],o=i.name.toLowerCase(),a=(i._cat||i.name).toLowerCase(),s=!1,c=0;c<p.length;c++){var d=p[c].toLowerCase();if(d===o||d===a){s=!0;break}}s||e.push(l[n])}E.push(e)}}var z=["toImage"];s.showEditInChartStudio?z.push("editInChartStudio"):s.showSendToCloud&&z.push("sendDataToCloud"),C(z);var L=[],O=[],D=[],I=[];(m||v||y||x)+b+g+w+_+k+A>1?(O=["toggleHover"],D=["resetViews"]):b?(L=["zoomInGeo","zoomOutGeo"],O=["hoverClosestGeo"],D=["resetGeo"]):g?(O=["hoverClosest3d"],D=["resetCameraDefault3d","resetCameraLastSave3d"]):w?(L=["zoomInMapbox","zoomOutMapbox"],O=["toggleHover"],D=["resetViewMapbox"]):_?(L=["zoomInMap","zoomOutMap"],O=["toggleHover"],D=["resetViewMap"]):v?O=["hoverClosestPie"]:T?(O=["hoverClosestCartesian","hoverCompareCartesian"],D=["resetViewSankey"]):O=["toggleHover"],m&&O.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(function(t){for(var e=0;e<t.length;e++)if(!o.traceIs(t[e],"noHover"))return!1;return!0}(r)||S)&&(O=[]),m&&!M&&(L=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==D[0]&&(D=["resetScale2d"])),g?I=["zoom3d","pan3d","orbitRotation","tableRotation"]:m&&!M||x?I=["zoom2d","pan2d"]:w||_||b?I=["pan2d"]:k&&(I=["zoom2d"]),function(t){for(var e=!1,r=0;r<t.length&&!e;r++){var n=t[r];n._module&&n._module.selectPoints&&(o.traceIs(n,"scatter-like")?(i.hasMarkers(n)||i.hasText(n))&&(e=!0):o.traceIs(n,"box-violin")&&"all"!==n.boxpoints&&"all"!==n.points||(e=!0))}return e}(r)&&I.push("select2d","lasso2d");var F=[],R=function(t){-1===F.indexOf(t)&&-1!==O.indexOf(t)&&F.push(t)};if(Array.isArray(f)){for(var P=[],j=0;j<f.length;j++){var N=f[j];"string"==typeof N?(N=N.toLowerCase(),-1!==c.indexOf(N)?(e._has("mapbox")||e._has("map")||e._has("cartesian"))&&I.push(N):"togglespikelines"===N?R("toggleSpikelines"):"togglehover"===N?R("toggleHover"):"hovercompare"===N?R("hoverCompareCartesian"):"hoverclosest"===N?(R("hoverClosestCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestPie")):"v1hovermode"===N&&(R("hoverClosestCartesian"),R("hoverCompareCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestPie"))):P.push(N)}f=P}return C(I),C(L.concat(D)),C(F),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e);return t}(E,f)}(t),u?u.update(t,h):e._modeBar=s(t,h)}else u&&(u.destroy(),delete e._modeBar)}},83579:(t,e,r)=>{"use strict";t.exports=r(11314)()?Object.setPrototypeOf:r(786)},83821:(t,e,r)=>{"use strict";var n=r(27941),i=r(17499);t.exports=function(t){t.each((function(t){var e=t[0].trace,r=e.error_y||{},o=e.error_x||{},a=n.select(this);a.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(i.stroke,r.color),o.copy_ystyle&&(o=r),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)}))}},83895:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},84226:(t,e)=>{"use strict";e.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],e.defaultLine="#444",e.lightLine="#eee",e.background="#fff",e.borderLine="#BEC8D9",e.lightFraction=1e3/11},84313:(t,e,r)=>{"use strict";var n=r(12822),i=r(46121),o=r(40365).N;t.exports=function(t,e,r,a){var s,l,c=a.type,d=a.attributes,u=a.handleDefaults,h=a.partition||"x",f=e._subplots[c],p=f.length,m=p&&f[0].replace(/\d+$/,"");function g(t,e){return n.coerce(s,l,d,t,e)}for(var b=0;b<p;b++){var v=f[b];s=t[v]?t[v]:t[v]={},l=i.newContainer(e,v,m),a.noUirevision||g("uirevision",e.uirevision);var y={};y[h]=[b/p,(b+1)/p],o(l,e,g,y),a.id=v,u(s,l,g,a)}}},84411:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499).contrast,o=r(86130),a=r(95768),s=r(35677);function l(t,e){function r(r,i){return n.coerce(t,e,o.tickformatstops,r,i)}r("enabled")&&(r("dtickrange"),r("value"))}t.exports=function(t,e,r,c,d){d||(d={});var u=r("labelalias");n.isPlainObject(u)||delete e.labelalias;var h=a(t);if(r("showticklabels")){d.noTicklabelshift||r("ticklabelshift"),d.noTicklabelstandoff||r("ticklabelstandoff");var f=d.font||{},p=e.color,m=-1!==(e.ticklabelposition||"").indexOf("inside")?i(d.bgColor):p&&p!==o.color.dflt?p:f.color;if(n.coerceFont(r,"tickfont",f,{overrideDflt:{color:m}}),d.noTicklabelstep||"multicategory"===c||"log"===c||r("ticklabelstep"),!d.noAng){var g=r("tickangle");d.noAutotickangles||"auto"!==g||r("autotickangles")}if("category"!==c){var b=r("tickformat");s(t,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:l}),e.tickformatstops.length||delete e.tickformatstops,d.noExp||b||"date"===c||(r("showexponent",h),r("exponentformat"),r("minexponent"),r("separatethousands"))}d.noMinorloglabels||"log"!==c||r("minorloglabels")}}},84414:t=>{"use strict";t.exports=function(t){for(var e={},r=[],n=0,i=0;i<t.length;i++){var o=t[i];1!==e[o]&&(e[o]=1,r[n++]=o)}return r}},84696:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822),o=r(32994),a=o.ONEDAY,s=o.ONEWEEK;e.dtick=function(t,e){var r="log"===e,i="date"===e,o="category"===e,s=i?a:1;if(!t)return s;if(n(t))return(t=Number(t))<=0?s:o?Math.max(1,Math.round(t)):i?Math.max(.1,t):t;if("string"!=typeof t||!i&&!r)return s;var l=t.charAt(0),c=t.substr(1);return(c=n(c)?Number(c):0)<=0||!(i&&"M"===l&&c===Math.round(c)||r&&"L"===l||r&&"D"===l&&(1===c||2===c))?s:t},e.tick0=function(t,e,r,o){return"date"===e?i.cleanDate(t,i.dateTick0(r,o%s==0?1:0)):"D1"!==o&&"D2"!==o?n(t)?Number(t):0:void 0}},84848:t=>{"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}},85072:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],c=n.base?l[0]+n.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var h=r(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var p=i(f,n);n.byIndex=s,e.splice(s,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var o=n(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=r(o[a]);e[s].references--}for(var l=n(t,i),c=0;c<o.length;c++){var d=r(o[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},85400:(t,e,r)=>{"use strict";var n=r(12822),i=r(53572);t.exports=function(t,e){function r(r,o){return void 0!==e[r]?e[r]:n.coerce(t,e,i,r,o)}return r("clickmode"),r("hoversubplots"),r("hovermode")}},85538:t=>{"use strict";t.exports=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,editType:e,description:"The amount of padding (in px) on the left side of the component."},editType:e}}},85573:(t,e,r)=>{"use strict";var n=r(60245),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var a,s;arguments.length>=3&&(a=r),s=t,"[object Array]"===i.call(s)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,a):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)}(t,e,a):function(t,e,r){for(var n in t)o.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))}(t,e,a)}},85618:(t,e,r)=>{"use strict";var n=r(84848);t.exports=function(t){if(!n(t))throw new TypeError(t+" is not a symbol");return t}},85833:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(51137),a=r(12822),s=a.strTranslate,l=r(75815),c=r(17499),d=r(40666),u=r(70410),h=r(80394),f=r(76292),p=r(19846),m=r(46121).arrayEditor,g=r(65753);function b(t,e){var r=t._fullLayout.annotations[e]||{},n=l.getFromId(t,r.xref),i=l.getFromId(t,r.yref);n&&n.setScale(),i&&i.setScale(),y(t,r,e,!1,n,i)}function v(t,e,r,n,i){var o=i[r],a=i[r+"ref"],s=-1!==r.indexOf("y"),c="domain"===l.getRefType(a),d=s?n.h:n.w;return t?c?o+(s?-e:e)/t._length:t.p2r(t.r2p(o)+e):o+(s?-e:e)/d}function y(t,e,r,o,b,y){var x,w,_=t._fullLayout,k=t._fullLayout._size,A=t._context.edits;o?(x="annotation-"+o,w=o+".annotations"):(x="annotation",w="annotations");var T=m(t.layout,w,e),M=T.modifyBase,S=T.modifyItem,E=T.getUpdateObj;_._infolayer.selectAll("."+x+'[data-index="'+r+'"]').remove();var C="clip"+_._uid+"_ann"+r;if(e._input&&!1!==e.visible){var z={x:{},y:{}},L=+e.textangle||0,O=_._infolayer.append("g").classed(x,!0).attr("data-index",String(r)).style("opacity",e.opacity),D=O.append("g").classed("annotation-text-g",!0),I=A[e.showarrow?"annotationTail":"annotationPosition"],F=e.captureevents||A.annotationText||I,R=D.append("g").style("pointer-events",F?"all":null).call(f,"pointer").on("click",(function(){t._dragging=!1,t.emit("plotly_clickannotation",q(n.event))}));e.hovertext&&R.on("mouseover",(function(){var r=e.hoverlabel,n=r.font,i=this.getBoundingClientRect(),o=t.getBoundingClientRect();u.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:e.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:n.family,fontSize:n.size,fontColor:n.color,fontWeight:n.weight,fontStyle:n.style,fontVariant:n.variant,fontShadow:n.fontShadow,fontLineposition:n.fontLineposition,fontTextcase:n.fontTextcase},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:t})})).on("mouseout",(function(){u.loneUnhover(_._hoverlayer.node())}));var P=e.borderwidth,j=e.borderpad,N=P+j,B=R.append("rect").attr("class","bg").style("stroke-width",P+"px").call(c.stroke,e.bordercolor).call(c.fill,e.bgcolor),U=e.width||e.height,V=_._topclips.selectAll("#"+C).data(U?[0]:[]);V.enter().append("clipPath").classed("annclip",!0).attr("id",C).append("rect"),V.exit().remove();var G=e.font,H=_._meta?a.templateString(e.text,_._meta):e.text,W=R.append("text").classed("annotation-text",!0).text(H);A.annotationText?W.call(h.makeEditable,{delegate:R,gd:t}).call($).on("edit",(function(r){e.text=r,this.call($),S("text",r),b&&b.autorange&&M(b._name+".autorange",!0),y&&y.autorange&&M(y._name+".autorange",!0),i.call("_guiRelayout",t,E())})):W.call($)}else n.selectAll("#"+C).remove();function q(t){var n={index:r,annotation:e._input,fullAnnotation:e,event:t};return o&&(n.subplotId=o),n}function $(r){return r.call(d.font,G).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),h.convertToTspans(r,t,Y),r}function Y(){var r=W.selectAll("a");1===r.size()&&r.text()===W.text()&&R.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(B.node());var n=R.select(".annotation-text-math-group"),u=!n.empty(),m=d.bBox((u?n:W).node()),x=m.width,w=m.height,T=e.width||x,F=e.height||w,j=Math.round(T+2*N),G=Math.round(F+2*N);function H(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var $=!1,Y=["x","y"],Z=0;Z<Y.length;Z++){var X,J,Q,K,tt,et=Y[Z],rt=e[et+"ref"]||et,nt=e["a"+et+"ref"],it={x:b,y}[et],ot=(L+("x"===et?0:-90))*Math.PI/180,at=j*Math.cos(ot),st=G*Math.sin(ot),lt=Math.abs(at)+Math.abs(st),ct=e[et+"anchor"],dt=e[et+"shift"]*("x"===et?1:-1),ut=z[et],ht=l.getRefType(rt);if(it&&"domain"!==ht){var ft=it.r2fraction(e[et]);(ft<0||ft>1)&&(nt===rt?((ft=it.r2fraction(e["a"+et]))<0||ft>1)&&($=!0):$=!0),X=it._offset+it.r2p(e[et]),K=.5}else{var pt="domain"===ht;"x"===et?(Q=e[et],X=pt?it._offset+it._length*Q:X=k.l+k.w*Q):(Q=1-e[et],X=pt?it._offset+it._length*Q:X=k.t+k.h*Q),K=e.showarrow?.5:Q}if(e.showarrow){ut.head=X;var mt=e["a"+et];if(tt=at*H(.5,e.xanchor)-st*H(.5,e.yanchor),nt===rt){var gt=l.getRefType(nt);"domain"===gt?("y"===et&&(mt=1-mt),ut.tail=it._offset+it._length*mt):"paper"===gt?"y"===et?(mt=1-mt,ut.tail=k.t+k.h*mt):ut.tail=k.l+k.w*mt:ut.tail=it._offset+it.r2p(mt),J=tt}else ut.tail=X+mt,J=tt+mt;ut.text=ut.tail+tt;var bt=_["x"===et?"width":"height"];if("paper"===rt&&(ut.head=a.constrain(ut.head,1,bt-1)),"pixel"===nt){var vt=-Math.max(ut.tail-3,ut.text),yt=Math.min(ut.tail+3,ut.text)-bt;vt>0?(ut.tail+=vt,ut.text+=vt):yt>0&&(ut.tail-=yt,ut.text-=yt)}ut.tail+=dt,ut.head+=dt}else J=tt=lt*H(K,ct),ut.text=X+tt;ut.text+=dt,tt+=dt,J+=dt,e["_"+et+"padplus"]=lt/2+J,e["_"+et+"padminus"]=lt/2-J,e["_"+et+"size"]=lt,e["_"+et+"shift"]=tt}if($)R.remove();else{var xt=0,wt=0;if("left"!==e.align&&(xt=(T-x)*("center"===e.align?.5:1)),"top"!==e.valign&&(wt=(F-w)*("middle"===e.valign?.5:1)),u)n.select("svg").attr({x:N+xt-1,y:N+wt}).call(d.setClipUrl,U?C:null,t);else{var _t=N+wt-m.top,kt=N+xt-m.left;W.call(h.positionText,kt,_t).call(d.setClipUrl,U?C:null,t)}V.select("rect").call(d.setRect,N,N,T,F),B.call(d.setRect,P/2,P/2,j-P,G-P),R.call(d.setTranslate,Math.round(z.x.text-j/2),Math.round(z.y.text-G/2)),D.attr({transform:"rotate("+L+","+z.x.text+","+z.y.text+")"});var At,Tt=function(r,n){O.selectAll(".annotation-arrow-g").remove();var l=z.x.head,u=z.y.head,h=z.x.tail+r,f=z.y.tail+n,m=z.x.text+r,x=z.y.text+n,w=a.rotationXYMatrix(L,m,x),_=a.apply2DTransform(w),T=a.apply2DTransform2(w),C=+B.attr("width"),I=+B.attr("height"),F=m-.5*C,P=F+C,j=x-.5*I,N=j+I,U=[[F,j,F,N],[F,N,P,N],[P,N,P,j],[P,j,F,j]].map(T);if(!U.reduce((function(t,e){return t^!!a.segmentsIntersect(l,u,l+1e6,u+1e6,e[0],e[1],e[2],e[3])}),!1)){U.forEach((function(t){var e=a.segmentsIntersect(h,f,l,u,t[0],t[1],t[2],t[3]);e&&(h=e.x,f=e.y)}));var V=e.arrowwidth,G=e.arrowcolor,H=e.arrowside,W=O.append("g").style({opacity:c.opacity(G)}).classed("annotation-arrow-g",!0),q=W.append("path").attr("d","M"+h+","+f+"L"+l+","+u).style("stroke-width",V+"px").call(c.stroke,c.rgb(G));if(g(q,H,e),A.annotationPosition&&q.node().parentNode&&!o){var $=l,Y=u;if(e.standoff){var Z=Math.sqrt(Math.pow(l-h,2)+Math.pow(u-f,2));$+=e.standoff*(h-l)/Z,Y+=e.standoff*(f-u)/Z}var X,J,Q=W.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(h-$)+","+(f-Y),transform:s($,Y)}).style("stroke-width",V+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");p.init({element:Q.node(),gd:t,prepFn:function(){var t=d.getTranslate(R);X=t.x,J=t.y,b&&b.autorange&&M(b._name+".autorange",!0),y&&y.autorange&&M(y._name+".autorange",!0)},moveFn:function(t,r){var n=_(X,J),i=n[0]+t,o=n[1]+r;R.call(d.setTranslate,i,o),S("x",v(b,t,"x",k,e)),S("y",v(y,r,"y",k,e)),e.axref===e.xref&&S("ax",v(b,t,"ax",k,e)),e.ayref===e.yref&&S("ay",v(y,r,"ay",k,e)),W.attr("transform",s(t,r)),D.attr({transform:"rotate("+L+","+i+","+o+")"})},doneFn:function(){i.call("_guiRelayout",t,E());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};e.showarrow&&Tt(0,0),I&&p.init({element:R.node(),gd:t,prepFn:function(){At=D.attr("transform")},moveFn:function(t,r){var n="pointer";if(e.showarrow)e.axref===e.xref?S("ax",v(b,t,"ax",k,e)):S("ax",e.ax+t),e.ayref===e.yref?S("ay",v(y,r,"ay",k.w,e)):S("ay",e.ay+r),Tt(t,r);else{if(o)return;var i,a;if(b)i=v(b,t,"x",k,e);else{var l=e._xsize/k.w,c=e.x+(e._xshift-e.xshift)/k.w-l/2;i=p.align(c+t/k.w,l,0,1,e.xanchor)}if(y)a=v(y,r,"y",k,e);else{var d=e._ysize/k.h,u=e.y-(e._yshift+e.yshift)/k.h-d/2;a=p.align(u-r/k.h,d,0,1,e.yanchor)}S("x",i),S("y",a),b&&y||(n=p.getCursor(b?.5:i,y?.5:a,e.xanchor,e.yanchor))}D.attr({transform:s(t,r)+At}),f(R,n)},clickFn:function(r,n){e.captureevents&&t.emit("plotly_clickannotation",q(n))},doneFn:function(){f(R),i.call("_guiRelayout",t,E());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}t.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var r=0;r<e.annotations.length;r++)e.annotations[r].visible&&b(t,r);return o.previousPromises(t)},drawOne:b,drawRaw:y}},85875:t=>{"use strict";var e=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(t){return"function"==typeof t&&r(e.call(t))}},86130:(t,e,r)=>{"use strict";var n=r(75058),i=r(84226),o=r(68057).T,a=r(98260).extendFlat,s=r(46121).templatedArray,l=r(24131).templateFormatStringDescription,c=r(60393).descriptionWithDates,d=r(32994).ONEDAY,u=r(21197),h=u.HOUR_PATTERN,f=u.WEEKDAY_PATTERN,p={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},m=a({},p,{values:p.values.slice().concat(["sync"]),description:[p.description,"If *sync*, the number of ticks will sync with the overlayed axis","set by `overlaying` property."].join(" ")});function g(t){return{valType:"integer",min:0,dflt:t?5:0,editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")}}var b={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},y={valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")};function w(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the tick length (in px)."};return t||(e.dflt=5),e}function _(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the tick width (in px)."};return t||(e.dflt=1),e}var k={valType:"color",dflt:i.defaultLine,editType:"ticks",description:"Sets the tick color."},A={valType:"color",dflt:i.lightLine,editType:"ticks",description:"Sets the color of the grid lines."};function T(t){var e={valType:"number",min:0,editType:"ticks",description:"Sets the width (in px) of the grid lines."};return t||(e.dflt=1),e}var M=a({},o,{editType:"ticks"}),S={valType:"boolean",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")};t.exports={visible:{valType:"boolean",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:i.defaultLine,editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{text:{valType:"string",editType:"ticks",description:"Sets the title of this axis."},font:n({editType:"ticks",description:"Sets this axis' title font."}),standoff:{valType:"number",min:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis labels and the title text","The default value is a function of the axis tick labels, the title `font.size`","and the axis `linewidth`.","Note that the axis title position is always constrained within the margins,","so the actual standoff distance is always less than the set or default value.","By setting `standoff` and turning on `automargin`, plotly.js will push the","margins to fit the axis title at given standoff distance."].join(" ")},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0,description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","Defaults to layout.autotypenumbers."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided and it has a value for both the","lower and upper bound, `autorange` is set to *false*.","Using *min* applies autorange only to set the minimum.","Using *max* applies autorange only to set the maximum.","Using *min reversed* applies autorange only to set the minimum on a reversed axis.","Using *max reversed* applies autorange only to set the maximum on a reversed axis.","Using *reversed* applies autorange on both ends and reverses the axis direction."].join(" ")},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Use this value exactly as autorange minimum."].join(" ")},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Use this value exactly as autorange maximum."].join(" ")},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Clip autorange minimum if it goes beyond this value.","Has no effect when `autorangeoptions.minallowed` is provided."].join(" ")},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Clip autorange maximum if it goes beyond this value.","Has no effect when `autorangeoptions.maxallowed` is provided."].join(" ")},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Ensure this value is included in autorange."].join(" ")},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","Applies only to linear axes."].join(" ")},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0,description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears.","Leaving either or both elements `null` impacts the default `autorange`."].join(" ")},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1},description:["Determines the minimum range of this axis."].join(" ")},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1},description:["Determines the maximum range of this axis."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar",description:["Disables certain modebar buttons for this axis.","*autoscale* disables the autoscale buttons, *zoominout*","disables the zoom-in and zoom-out buttons."].join(" ")},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Could be used to set the desired inside range of this axis","(excluding the labels) when `ticklabelposition` of","the anchored axis has *inside*.","Not implemented for axes with `type` *log*.","This would be ignored when `range` is provided."].join(" ")},scaleanchor:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString(),!1],editType:"plot",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Setting `false` allows to remove a default constraint (occasionally,","you may need to prevent a default `scaleanchor` constraint from",'being applied, eg. when having an image trace `yaxis: {scaleanchor: "x"}`',"is set automatically in order for pixels to be rendered as squares,","setting `yaxis: {scaleanchor: false}` allows to remove the constraint)."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range*, or by decreasing the *domain*.","Default is *domain* for axes containing image traces, *range* otherwise."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},matches:{valType:"enumerated",values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","will match the range of the corresponding axis in data-coordinates space.","Moreover, matching axes share auto-range values, category lists and","histogram auto-bins.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Moreover, note that matching axes must have the same `type`."].join(" ")},rangebreaks:s("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether this axis rangebreak is enabled or disabled.","Please note that `rangebreaks` only work for *date* axis type."].join(" ")},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the lower and upper bounds of this axis rangebreak.","Can be used with `pattern`."].join(" ")},pattern:{valType:"enumerated",values:[f,h,""],editType:"calc",description:["Determines a pattern on the time line that generates breaks.","If *"+f+"* - days of the week in English e.g. 'Sunday' or `sun`","(matching is case-insensitive and considers only the first three characters),","as well as Sunday-based integers between 0 and 6.","If *"+h+"* - hour (24-hour clock) as decimal numbers between 0 and 24.","for more info.","Examples:","- { pattern: '"+f+"', bounds: [6, 1] }"," or simply { bounds: ['sat', 'mon'] }","  breaks from Saturday to Monday (i.e. skips the weekends).","- { pattern: '"+h+"', bounds: [17, 8] }","  breaks from 5pm to 8am (i.e. skips non-work hours)."].join(" ")},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"},description:["Sets the coordinate values corresponding to the rangebreaks.","An alternative to `bounds`.","Use `dvalue` to set the size of the values along the axis."].join(" ")},dvalue:{valType:"number",editType:"calc",min:0,dflt:d,description:["Sets the size of each `values` item.","The default is one day in milliseconds."].join(" ")},editType:"calc"}),tickmode:m,nticks:g(),tick0:b,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks",description:["Sets the spacing between tick labels as compared to the spacing between ticks.","A value of 1 (default) means each tick gets a label.","A value of 2 means shows every 2nd label.","A larger value n means only every nth tick is labeled.","`tick0` determines which labels are shown.","Not implemented for axes with `type` *log* or *multicategory*, or when `tickmode` is *array*."].join(" ")},tickvals:y,ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks",description:["Determines where ticks and grid lines are drawn with respect to their","corresponding tick labels.","Only has an effect for axes of `type` *category* or *multicategory*.","When set to *boundaries*, ticks and grid lines are drawn half a category","to the left/bottom of labels."].join(" ")},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks",description:["Determines where tick labels are drawn with respect to their","corresponding ticks and grid lines.","Only has an effect for axes of `type` *date*","When set to *period*, tick labels are drawn in the middle of the period","between ticks."].join(" ")},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc",description:["Determines where tick labels are drawn with respect to the axis.","Please note that","top or bottom has no effect on x axes or when `ticklabelmode` is set to *period*","or when `tickson` is set to *boundaries*. Similarly,","left or right has no effect on y axes or when `ticklabelmode` is set to *period*","or when `tickson` is set to *boundaries*.","Has no effect on *multicategory* axes.","When used on axes linked by `matches` or `scaleanchor`,","no extra padding for inside labels would be added by autorange,","so that the scales could match."].join(" ")},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc",description:["Determines how we handle tick labels that would overflow either the graph div or the domain of the axis.","The default value for inside tick labels is *hide past domain*.","Otherwise on *category* and *multicategory* axes the default is *allow*.","In other cases the default is *hide past div*."].join(" ")},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks",description:["Shifts the tick labels by the specified number of pixels in parallel to the axis.","Positive values move the labels in the positive direction of the axis."].join(" ")},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis tick labels and their default position.","A positive `ticklabelstandoff` moves the labels farther away from the plot area","if `ticklabelposition` is *outside*, and deeper into the plot area if","`ticklabelposition` is *inside*. A negative `ticklabelstandoff` works in the opposite","direction, moving outside ticks towards the plot area and inside ticks towards","the outside. If the negative value is large enough, inside ticks can even end up","outside and vice versa."].join(" ")},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc",description:["Only for axes with `type` *date* or *linear*.","Instead of drawing the major tick label, draw the label for the minor tick","that is n positions away from the major tick. E.g. to always draw the label for the","minor tick before each major tick, choose `ticklabelindex` -1. This is useful for date","axes with `ticklabelmode` *period* if you want to label the period that ends with each","major tick instead of the period that begins there."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:w(),tickwidth:_(),tickcolor:k,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks",description:"Determines whether or not the tick labels are drawn."},labelalias:{valType:"any",dflt:!1,editType:"ticks",description:["Replacement text for specific tick or hover labels.","For example using {US: 'USA', CA: 'Canada'} changes US to USA","and CA to Canada. The labels we would have shown must match","the keys exactly, after adding any tickprefix or ticksuffix.","For negative numbers the minus sign symbol used (U+2212) is wider than the regular ascii dash.","That means you need to use 1 instead of -1.","labelalias can be used with any axis type, and both keys (if needed)","and values (if desired) can include html-like tags or MathJax."].join(" ")},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks",description:["Determines whether long tick labels automatically grow the figure","margins."].join(" ")},showspikes:{valType:"boolean",dflt:!1,editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:n({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks",description:["When `tickangle` is set to *auto*, it will be set to the first","angle in this array that is large enough to prevent label","overlap."].join(" ")},tickprefix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B.",'*SI* uses prefixes from "femto" f (10^-15) to "tera" T (10^12).','*SI extended* covers instead the full SI range from "quecto" q (10^-30) to "quetta" Q (10^30).',"If *SI* or *SI extended* is used and the exponent is beyond the above ranges, the formatting rule","will automatically be switched to the power notation."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks",description:["Hide SI prefix for 10^n if |n| is below this number.","This only has an effect when `tickformat` is *SI* or *B*."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",editType:"ticks",description:c("tick label")},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not this stop is used.","If `false`, this stop is ignored even within its `dtickrange`."].join(" ")},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:c("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none",description:["Template string used for rendering the title that appear on x or y unified hover box.",l()].join(" ")},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:S,gridcolor:A,gridwidth:T(),griddash:M,zeroline:{valType:"boolean",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks",description:"Sets the line color of the zero line."},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot",description:["Sets the layer on which this zeroline is displayed.","If *above traces*, this zeroline is displayed above all the subplot's traces","If *below traces*, this zeroline is displayed below all the subplot's traces,","but above the grid lines. Limitation: *zerolinelayer* currently has no effect","if the *zorder* property is set on any trace."].join(" ")},zerolinewidth:{valType:"number",dflt:1,editType:"ticks",description:"Sets the width (in px) of the zero line."},showdividers:{valType:"boolean",dflt:!0,editType:"ticks",description:["Determines whether or not a dividers are drawn","between the category levels of this axis.","Only has an effect on *multicategory* axes."].join(" ")},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks",description:["Sets the color of the dividers","Only has an effect on *multicategory* axes."].join(" ")},dividerwidth:{valType:"number",dflt:1,editType:"ticks",description:["Sets the width (in px) of the dividers","Only has an effect on *multicategory* axes."].join(" ")},anchor:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",u.idRegex.x.toString(),u.idRegex.y.toString()],editType:"plot",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis, with traces and axes visible for both","axes.","If *false*, this axis does not overlay any same-letter axes.","In this case, for axes with overlapping domains only the highest-numbered","axis will be visible."].join(" ")},minor:{tickmode:p,nticks:g("minor"),tick0:b,dtick:v,tickvals:y,ticks:x,ticklen:w("minor"),tickwidth:_("minor"),tickcolor:k,gridcolor:A,gridwidth:T("minor"),griddash:M,showgrid:S,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc",description:["Determines how minor log labels are displayed.","If *small digits*, small digits i.e. 2 or 5 are displayed.","If *complete*, complete digits are displayed.","If *none*, no labels are displayed."].join(" ")},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},autoshift:{valType:"boolean",dflt:!1,editType:"plot",description:["Automatically reposition the axis to avoid","overlap with other axes with the same `overlaying` value.","This repositioning will account for any `shift` amount applied to other","axes on the same side with `autoshift` is set to true.","Only has an effect if `anchor` is set to *free*."].join(" ")},shift:{valType:"number",editType:"plot",description:["Moves the axis a given number of pixels from where it would have been otherwise.","Accepts both positive and negative values, which will shift the axis either right","or left, respectively.","If `autoshift` is set to true, then this defaults to a padding of -3 if `side` is set to *left*.","and defaults to +3 if `side` is set to *right*. Defaults to 0 if `autoshift` is set to false.","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`.","Set `categoryorder` to *total ascending* or *total descending* if order should be determined by the","numerical order of the values.","Similarly, the order can be determined by the min, max, sum, mean, geometric mean or median of all the values."].join(" ")},categoryarray:{valType:"data_array",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, and `title` if in `editable: true` configuration.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},86142:(t,e,r)=>{"use strict";var n=r(59738),i=r(15034),o=r(18021),a=r(54863),s=r(79813);(t.exports=function(t,e){var r,i,l,c,d;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],n(t)?(r=s.call(t,"c"),i=s.call(t,"e"),l=s.call(t,"w")):(r=l=!0,i=!1),d={value:e,configurable:r,enumerable:i,writable:l},c?o(a(c),d):d}).gs=function(t,e,r){var l,c,d,u;return"string"!=typeof t?(d=r,r=e,e=t,t=null):d=arguments[3],n(e)?i(e)?n(r)?i(r)||(d=r,r=void 0):r=void 0:(d=e,e=r=void 0):e=void 0,n(t)?(l=s.call(t,"c"),c=s.call(t,"e")):(l=!0,c=!1),u={get:e,set:r,configurable:l,enumerable:c},d?o(a(d),u):u}},86191:(t,e,r)=>{"use strict";var n=r(85833).drawRaw,i=r(40747),o=["x","y","z"];t.exports=function(t){for(var e=t.fullSceneLayout,r=t.dataScale,a=e.annotations,s=0;s<a.length;s++){for(var l=a[s],c=!1,d=0;d<3;d++){var u=o[d],h=l[u],f=e[u+"axis"].r2fraction(h);if(f<0||f>1){c=!0;break}}c?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+s+'"]').remove():(l._pdata=i(t.glplot.cameraParams,[e.xaxis.r2l(l.x)*r[0],e.yaxis.r2l(l.y)*r[1],e.zaxis.r2l(l.z)*r[2]]),n(t.graphDiv,l,s,t.id,l._xa,l._ya))}}},86277:(t,e,r)=>{"use strict";var n=r(17499),i=r(42226).hasColorscale,o=r(94461),a=r(677);t.exports=function(t,e,r,s,l,c){var d=a.isBubble(t),u=(t.line||{}).color;c=c||{},u&&(r=u),l("marker.symbol"),l("marker.opacity",d?.7:1),l("marker.size"),c.noAngle||(l("marker.angle"),c.noAngleRef||l("marker.angleref"),c.noStandOff||l("marker.standoff")),l("marker.color",r),i(t,"marker")&&o(t,e,s,l,{prefix:"marker.",cLetter:"c"}),c.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),c.noLine||(l("marker.line.color",u&&!Array.isArray(u)&&e.marker.color!==u?u:d?n.background:n.defaultLine),i(t,"marker.line")&&o(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",d?1:0)),d&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),c.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},86373:(t,e,r)=>{"use strict";var n=r(25359),i=r(34463),o=r(6313),a=r(9994),s=r(34597),l=r(97e3),c=r(91101),d=c.float32,u=c.fract32;t.exports=function(t,e){if("function"==typeof t?(e||(e={}),e.regl=t):e=t,e.length&&(e.positions=e),!(t=e.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var r,c,f,p,m,g,b=t._gl,v={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return p=t.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),f=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),m=t.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=t.buffer({usage:"static",type:"float",data:h}),k(e),r=t({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:t.prop("range"),lineWidth:t.prop("lineWidth"),capSize:t.prop("capSize"),opacity:t.prop("opacity"),scale:t.prop("scale"),translate:t.prop("translate"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),viewport:function(t,e){return[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]}},attributes:{color:{buffer:p,offset:function(t,e){return 4*e.offset},divisor:1},position:{buffer:c,offset:function(t,e){return 8*e.offset},divisor:1},positionFract:{buffer:f,offset:function(t,e){return 8*e.offset},divisor:1},error:{buffer:m,offset:function(t,e){return 16*e.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport"),stencil:!1,instances:t.prop("count"),count:h.length}),s(x,{update:k,draw:w,destroy:A,regl:t,gl:b,canvas:b.canvas,groups:y}),x;function x(t){t?k(t):null===t&&A(),w()}function w(e){if("number"==typeof e)return _(e);e&&!Array.isArray(e)&&(e=[e]),t._refresh(),y.forEach((function(t,r){t&&(e&&(e[r]?t.draw=!0:t.draw=!1),t.draw?_(r):t.draw=!0)}))}function _(t){"number"==typeof t&&(t=y[t]),null!=t&&t&&t.count&&t.color&&t.opacity&&t.positions&&t.positions.length>1&&(t.scaleRatio=[t.scale[0]*t.viewport.width,t.scale[1]*t.viewport.height],r(t),t.after&&t.after(t))}function k(t){if(t){null!=t.length?"number"==typeof t[0]&&(t=[{positions:t}]):Array.isArray(t)||(t=[t]);var e=0,r=0;if(x.groups=y=t.map((function(t,c){var d=y[c];return t?("function"==typeof t?t={after:t}:"number"==typeof t[0]&&(t={positions:t}),t=a(t,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),d||(y[c]=d={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},t=s({},v,t)),o(d,t,[{lineWidth:function(t){return.5*+t},capSize:function(t){return.5*+t},opacity:parseFloat,errors:function(t){return t=l(t),r+=t.length,t},positions:function(t,r){return t=l(t,"float64"),r.count=Math.floor(t.length/2),r.bounds=n(t,2),r.offset=e,e+=r.count,t}},{color:function(t,e){var r=e.count;if(t||(t="transparent"),!Array.isArray(t)||"number"==typeof t[0]){var n=t;t=Array(r);for(var o=0;o<r;o++)t[o]=n}if(t.length<r)throw Error("Not enough colors");for(var a=new Uint8Array(4*r),s=0;s<r;s++){var l=i(t[s],"uint8");a.set(l,4*s)}return a},range:function(t,e,r){var n=e.bounds;return t||(t=n),e.scale=[1/(t[2]-t[0]),1/(t[3]-t[1])],e.translate=[-t[0],-t[1]],e.scaleFract=u(e.scale),e.translateFract=u(e.translate),t},viewport:function(t){var e;return Array.isArray(t)?e={x:t[0],y:t[1],width:t[2]-t[0],height:t[3]-t[1]}:t?(e={x:t.x||t.left||0,y:t.y||t.top||0},t.right?e.width=t.right-e.x:e.width=t.w||t.width||0,t.bottom?e.height=t.bottom-e.y:e.height=t.h||t.height||0):e={x:0,y:0,width:b.drawingBufferWidth,height:b.drawingBufferHeight},e}}]),d):d})),e||r){var h=y.reduce((function(t,e,r){return t+(e?e.count:0)}),0),g=new Float64Array(2*h),w=new Uint8Array(4*h),_=new Float32Array(4*h);y.forEach((function(t,e){if(t){var r=t.positions,n=t.count,i=t.offset,o=t.color,a=t.errors;n&&(w.set(o,4*i),_.set(a,4*i),g.set(r,2*i))}}));var k=d(g);c(k);var A=u(g,k);f(A),p(w),m(_)}}}function A(){c.destroy(),f.destroy(),p.destroy(),m.destroy(),g.destroy()}};var h=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},86626:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,o,a,c;if(s(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=t,d.type=e,d.count=a.length,c=d,console&&console.warn&&console.warn(c)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function h(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)n(l,this,e);else{var c=l.length,d=p(l,c);for(r=0;r<c;++r)n(d[r],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,u(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,u(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,a;if(s(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},86643:()=>{!function(){"use strict";if("undefined"!=typeof document&&!("adoptedStyleSheets"in document)){var t="ShadyCSS"in window&&!ShadyCSS.nativeShadow,e=document.implementation.createHTMLDocument(""),r=new WeakMap,n="object"==typeof DOMException?Error:DOMException,i=Object.defineProperty,o=Array.prototype.forEach,a=/@import.+?;?$/gm,s=CSSStyleSheet.prototype;s.replace=function(){return Promise.reject(new n("Can't call replace on non-constructed CSSStyleSheets."))},s.replaceSync=function(){throw new n("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=S.prototype;h.replace=function(t){try{return this.replaceSync(t),Promise.resolve(this)}catch(t){return Promise.reject(t)}},h.replaceSync=function(t){if(M(this),"string"==typeof t){var e=this;l.get(e).textContent=function(t){var e=t.replace(a,"");return e!==t&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),e.trim()}(t),u.set(e,[]),c.get(e).forEach((function(t){t.isConnected()&&T(e,A(e,t))}))}},i(h,"cssRules",{configurable:!0,enumerable:!0,get:function(){return M(this),l.get(this).sheet.cssRules}}),i(h,"media",{configurable:!0,enumerable:!0,get:function(){return M(this),l.get(this).sheet.media}}),["addRule","deleteRule","insertRule","removeRule"].forEach((function(t){h[t]=function(){var e=this;M(e);var r=arguments;u.get(e).push({method:t,args:r}),c.get(e).forEach((function(n){if(n.isConnected()){var i=A(e,n).sheet;i[t].apply(i,r)}}));var n=l.get(e).sheet;return n[t].apply(n,r)}})),i(S,Symbol.hasInstance,{configurable:!0,value:_});var f={childList:!0,subtree:!0},p=new WeakMap,m=new WeakMap,g=new WeakMap,b=new WeakMap;if(D.prototype={isConnected:function(){var t=m.get(this);return t instanceof Document?"loading"!==t.readyState:function(t){return"isConnected"in t?t.isConnected:document.contains(t)}(t.host)},connect:function(){var t=L(this);b.get(this).observe(t,f),g.get(this).length>0&&O(this),z(t,(function(t){E(t).connect()}))},disconnect:function(){b.get(this).disconnect()},update:function(t){var e=this,r=m.get(e)===document?"Document":"ShadowRoot";if(!Array.isArray(t))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+r+": Iterator getter is not callable.");if(!t.every(_))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+r+": Failed to convert value to 'CSSStyleSheet'");if(t.some(k))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+r+": Can't adopt non-constructed stylesheets");e.sheets=t;var n,i,o=g.get(e),a=(n=t).filter((function(t,e){return n.indexOf(t)===e}));(i=a,o.filter((function(t){return-1===i.indexOf(t)}))).forEach((function(t){var r;(r=A(t,e)).parentNode.removeChild(r),function(t,e){d.get(t).delete(e),c.set(t,c.get(t).filter((function(t){return t!==e})))}(t,e)})),g.set(e,a),e.isConnected()&&a.length>0&&O(e)}},window.CSSStyleSheet=S,C(Document),"ShadowRoot"in window){C(ShadowRoot);var v=Element.prototype,y=v.attachShadow;v.attachShadow=function(t){var e=y.call(this,t);return"closed"===t.mode&&r.set(this,e),e}}var x=E(document);x.isConnected()?x.connect():document.addEventListener("DOMContentLoaded",x.connect.bind(x))}function w(t){return t.shadowRoot||r.get(t)}function _(t){return"object"==typeof t&&(h.isPrototypeOf(t)||s.isPrototypeOf(t))}function k(t){return"object"==typeof t&&s.isPrototypeOf(t)}function A(t,e){return d.get(t).get(e)}function T(t,e){requestAnimationFrame((function(){e.textContent=l.get(t).textContent,u.get(t).forEach((function(t){return e.sheet[t.method].apply(e.sheet,t.args)}))}))}function M(t){if(!l.has(t))throw new TypeError("Illegal invocation")}function S(){var t=this,r=document.createElement("style");e.body.appendChild(r),l.set(t,r),c.set(t,[]),d.set(t,new WeakMap),u.set(t,[])}function E(t){var e=p.get(t);return e||(e=new D(t),p.set(t,e)),e}function C(t){i(t.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return E(this).sheets},set:function(t){E(this).update(t)}})}function z(t,e){for(var r=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,(function(t){return w(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),null,!1),n=void 0;n=r.nextNode();)e(w(n))}function L(t){var e=m.get(t);return e instanceof Document?e.body:e}function O(t){var e=document.createDocumentFragment(),r=g.get(t),n=b.get(t),i=L(t);n.disconnect(),r.forEach((function(r){e.appendChild(A(r,t)||function(t,e){var r=document.createElement("style");return d.get(t).set(e,r),c.get(t).push(e),r}(r,t))})),i.insertBefore(e,null),n.observe(i,f),r.forEach((function(e){T(e,A(e,t))}))}function D(e){var r=this;r.sheets=[],m.set(r,e),g.set(r,[]),b.set(r,new MutationObserver((function(e,n){document?e.forEach((function(e){t||o.call(e.addedNodes,(function(t){t instanceof Element&&z(t,(function(t){E(t).connect()}))})),o.call(e.removedNodes,(function(e){e instanceof Element&&(function(t,e){return e instanceof HTMLStyleElement&&g.get(t).some((function(e){return A(e,t)}))}(r,e)&&O(r),t||z(e,(function(t){E(t).disconnect()})))}))})):n.disconnect()})))}}()},86748:t=>{"use strict";t.exports=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each((function(t){t.regl&&t.regl.clear({color:!0,depth:!0})}))}},86898:(t,e,r)=>{"use strict";var n=r(46692);t.exports=function(t){if(!n(t))throw new TypeError(t+" is not iterable");return t}},86925:(t,e,r)=>{"use strict";var n=r(27941),i=r(51137),o=r(17499),a=r(40666),s=r(12822),l=r(80394),c=r(46121).arrayEditor,d=r(89701).LINE_SPACING,u=r(13518),h=r(90633);function f(t){return t._index}function p(t,e){return+t.attr(u.menuIndexAttrName)===e._index}function m(t,e,r,n,i,o,a,s){e.active=a,c(t.layout,u.name,e).applyUpdate("active",a),"buttons"===e.type?b(t,n,null,null,e):"dropdown"===e.type&&(i.attr(u.menuIndexAttrName,"-1"),g(t,n,i,o,e),s||b(t,n,i,o,e))}function g(t,e,r,n,i){var o=s.ensureSingle(e,"g",u.headerClassName,(function(t){t.style("pointer-events","all")})),l=i._dims,c=i.active,d=i.buttons[c]||u.blankHeaderOpts,h={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},f={width:l.headerWidth,height:l.headerHeight};o.call(v,i,d,t).call(M,i,h,f),s.ensureSingle(e,"text",u.headerArrowClassName,(function(t){t.attr("text-anchor","end").call(a.font,i.font).text(u.arrowSymbol[i.direction])})).attr({x:l.headerWidth-u.arrowOffsetX+i.pad.l,y:l.headerHeight/2+u.textOffsetY+i.pad.t}),o.on("click",(function(){r.call(S,String(p(r,i)?-1:i._index)),b(t,e,r,n,i)})),o.on("mouseover",(function(){o.call(_)})),o.on("mouseout",(function(){o.call(k,i)})),a.setTranslate(e,l.lx,l.ly)}function b(t,e,r,o,a){r||(r=e).attr("pointer-events","all");var l=function(t){return-1==+t.attr(u.menuIndexAttrName)}(r)&&"buttons"!==a.type?[]:a.buttons,c="dropdown"===a.type?u.dropdownButtonClassName:u.buttonClassName,d=r.selectAll("g."+c).data(s.filterVisible(l)),h=d.enter().append("g").classed(c,!0),f=d.exit();"dropdown"===a.type?(h.attr("opacity","0").transition().attr("opacity","1"),f.transition().attr("opacity","0").remove()):f.remove();var p=0,g=0,b=a._dims,y=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(y?g=b.headerHeight+u.gapButtonHeader:p=b.headerWidth+u.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(g=-u.gapButtonHeader+u.gapButton-b.openHeight),"dropdown"===a.type&&"left"===a.direction&&(p=-u.gapButtonHeader+u.gapButton-b.openWidth);var x={x:b.lx+p+a.pad.l,y:b.ly+g+a.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},A={l:x.x+a.borderwidth,t:x.y+a.borderwidth};d.each((function(s,l){var c=n.select(this);c.call(v,a,s,t).call(M,a,x),c.on("click",(function(){n.event.defaultPrevented||(s.execute&&(s.args2&&a.active===l?(m(t,a,0,e,r,o,-1),i.executeAPICommand(t,s.method,s.args2)):(m(t,a,0,e,r,o,l),i.executeAPICommand(t,s.method,s.args))),t.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))})),c.on("mouseover",(function(){c.call(_)})),c.on("mouseout",(function(){c.call(k,a),d.call(w,a)}))})),d.call(w,a),y?(A.w=Math.max(b.openWidth,b.headerWidth),A.h=x.y-A.t):(A.w=x.x-A.l,A.h=Math.max(b.openHeight,b.headerHeight)),A.direction=a.direction,o&&(d.size()?function(t,e,r,n,i,o){var a,s,l,c=i.direction,d="up"===c||"down"===c,h=i._dims,f=i.active;if(d)for(s=0,l=0;l<f;l++)s+=h.heights[l]+u.gapButton;else for(a=0,l=0;l<f;l++)a+=h.widths[l]+u.gapButton;n.enable(o,a,s),n.hbar&&n.hbar.attr("opacity","0").transition().attr("opacity","1"),n.vbar&&n.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,a,A):function(t){var e=!!t.hbar,r=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",(function(){e=!1,r||t.disable()})),r&&t.vbar.transition().attr("opacity","0").each("end",(function(){r=!1,e||t.disable()}))}(o))}function v(t,e,r,n){t.call(y,e).call(x,e,r,n)}function y(t,e){s.ensureSingle(t,"rect",u.itemRectClassName,(function(t){t.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})})).call(o.stroke,e.bordercolor).call(o.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function x(t,e,r,n){var i=s.ensureSingle(t,"text",u.itemTextClassName,(function(t){t.attr({"text-anchor":"start","data-notex":1})})),o=r.label,c=n._fullLayout._meta;c&&(o=s.templateString(o,c)),i.call(a.font,e.font).text(o).call(l.convertToTspans,n)}function w(t,e){var r=e.active;t.each((function(t,i){var a=n.select(this);i===r&&e.showactive&&a.select("rect."+u.itemRectClassName).call(o.fill,u.activeColor)}))}function _(t){t.select("rect."+u.itemRectClassName).call(o.fill,u.hoverColor)}function k(t,e){t.select("rect."+u.itemRectClassName).call(o.fill,e.bgcolor)}function A(t,e){var r=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=a.tester.selectAll("g."+u.dropdownButtonClassName).data(s.filterVisible(e.buttons));o.enter().append("g").classed(u.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(e.direction);o.each((function(i,o){var s=n.select(this);s.call(v,e,i,t);var h=s.select("."+u.itemTextClassName),f=h.node()&&a.bBox(h.node()).width,p=Math.max(f+u.textPadX,u.minWidth),m=e.font.size*d,g=l.lineCount(h),b=Math.max(m*g,u.minHeight)+u.textOffsetY;b=Math.ceil(b),p=Math.ceil(p),r.widths[o]=p,r.heights[o]=b,r.height1=Math.max(r.height1,b),r.width1=Math.max(r.width1,p),c?(r.totalWidth=Math.max(r.totalWidth,p),r.openWidth=r.totalWidth,r.totalHeight+=b+u.gapButton,r.openHeight+=b+u.gapButton):(r.totalWidth+=p+u.gapButton,r.openWidth+=p+u.gapButton,r.totalHeight=Math.max(r.totalHeight,b),r.openHeight=r.totalHeight)})),c?r.totalHeight-=u.gapButton:r.totalWidth-=u.gapButton,r.headerWidth=r.width1+u.arrowPadX,r.headerHeight=r.height1,"dropdown"===e.type&&(c?(r.width1+=u.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=u.arrowPadX),o.remove();var h=r.totalWidth+e.pad.l+e.pad.r,f=r.totalHeight+e.pad.t+e.pad.b,p=t._fullLayout._size;r.lx=p.l+p.w*e.x,r.ly=p.t+p.h*(1-e.y);var m="left";s.isRightAnchor(e)&&(r.lx-=h,m="right"),s.isCenterAnchor(e)&&(r.lx-=h/2,m="center");var g="top";s.isBottomAnchor(e)&&(r.ly-=f,g="bottom"),s.isMiddleAnchor(e)&&(r.ly-=f/2,g="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),i.autoMargin(t,T(e),{x:e.x,y:e.y,l:h*({right:1,center:.5}[m]||0),r:h*({left:1,center:.5}[m]||0),b:f*({top:1,middle:.5}[g]||0),t:f*({bottom:1,middle:.5}[g]||0)})}function T(t){return u.autoMarginIdRoot+t._index}function M(t,e,r,n){n=n||{};var i=t.select("."+u.itemRectClassName),o=t.select("."+u.itemTextClassName),s=e.borderwidth,c=r.index,h=e._dims;a.setTranslate(t,s+r.x,s+r.y);var f=-1!==["up","down"].indexOf(e.direction),p=n.height||(f?h.heights[c]:h.height1);i.attr({x:0,y:0,width:n.width||(f?h.width1:h.widths[c]),height:p});var m=e.font.size*d,g=(l.lineCount(o)-1)*m/2;l.positionText(o,u.textOffsetX,p/2-g+u.textOffsetY),f?r.y+=h.heights[c]+r.yPad:r.x+=h.widths[c]+r.xPad,r.index++}function S(t,e){t.attr(u.menuIndexAttrName,e||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}t.exports=function(t){var e=t._fullLayout,r=s.filterVisible(e[u.name]);function o(e){i.autoMargin(t,T(e))}var a=e._menulayer.selectAll("g."+u.containerClassName).data(r.length>0?[0]:[]);if(a.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),a.exit().each((function(){n.select(this).selectAll("g."+u.headerGroupClassName).each(o)})).remove(),0!==r.length){var l=a.selectAll("g."+u.headerGroupClassName).data(r,f);l.enter().append("g").classed(u.headerGroupClassName,!0);for(var c=s.ensureSingle(a,"g",u.dropdownButtonGroupClassName,(function(t){t.style("pointer-events","all")})),d=0;d<r.length;d++){var v=r[d];A(t,v)}var y="updatemenus"+e._uid,x=new h(t,c,y);l.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(S)),l.exit().each((function(t){c.call(S),o(t)})).remove(),l.each((function(e){var r=n.select(this),o="dropdown"===e.type?c:null;i.manageCommandObserver(t,e,e.buttons,(function(n){m(t,e,e.buttons[n.index],r,o,x,n.index,!0)})),"dropdown"===e.type?(g(t,r,c,x,e),p(c,e)&&b(t,r,c,x,e)):b(t,r,null,null,e)}))}}},86928:(t,e,r)=>{"use strict";var n=r(59412),i=r(43362),o=r(20419)(),a=r(55572),s=r(48744),l=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new s("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in t&&a){var d=a(t,"length");d&&!d.configurable&&(n=!1),d&&!d.writable&&(c=!1)}return(n||c||!r)&&(o?i(t,"length",e,!0,!0):i(t,"length",e)),t}},87030:(t,e,r)=>{"use strict";var n=r(27941),i=r(40666),o=r(75815),a=r(99246),s=r(25853);t.exports=function(t){var e,r,l=t._fullLayout,c=[],d={},u=[];for(r=0;r<l.images.length;r++){var h=l.images[r];if(h.visible)if("below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref){e=a.ref2id(h.xref)+a.ref2id(h.yref);var f=l._plots[e];if(!f){u.push(h);continue}f.mainplot&&(e=f.mainplot.id),d[e]||(d[e]=[]),d[e].push(h)}else"above"===h.layer?c.push(h):u.push(h)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},m={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function g(e){var r=n.select(this);if(this._imgSrc!==e.source)if(r.attr("xmlns",s.svg),!t._context.staticPlot||e.source&&"data:"===e.source.slice(0,5))r.attr("xlink:href",e.source),this._imgSrc=e.source;else{var i=new Promise(function(t){var n=new Image;function i(){r.remove(),t()}this.img=n,n.setAttribute("crossOrigin","anonymous"),n.onerror=i,n.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var n=e.toDataURL("image/png");r.attr("xlink:href",n),t()},r.on("error",i),n.src=e.source,this._imgSrc=e.source}.bind(this));t._promises.push(i)}}function b(e){var r,a,s=n.select(this),c=o.getFromId(t,e.xref),d=o.getFromId(t,e.yref),u="domain"===o.getRefType(e.xref),h="domain"===o.getRefType(e.yref),f=l._size;r=void 0!==c?"string"==typeof e.xref&&u?c._length*e.sizex:Math.abs(c.l2p(e.sizex)-c.l2p(0)):e.sizex*f.w,a=void 0!==d?"string"==typeof e.yref&&h?d._length*e.sizey:Math.abs(d.l2p(e.sizey)-d.l2p(0)):e.sizey*f.h;var g,b,v=r*p[e.xanchor].offset,y=a*m[e.yanchor].offset,x=p[e.xanchor].sizing+m[e.yanchor].sizing;switch(g=void 0!==c?"string"==typeof e.xref&&u?c._length*e.x+c._offset:c.r2p(e.x)+c._offset:e.x*f.w+f.l,g+=v,b=void 0!==d?"string"==typeof e.yref&&h?d._length*(1-e.y)+d._offset:d.r2p(e.y)+d._offset:f.h-e.y*f.h+f.t,b+=y,e.sizing){case"fill":x+=" slice";break;case"stretch":x="none"}s.attr({x:g,y:b,width:r,height:a,preserveAspectRatio:x,opacity:e.opacity});var w=(c&&"domain"!==o.getRefType(e.xref)?c._id:"")+(d&&"domain"!==o.getRefType(e.yref)?d._id:"");i.setClipUrl(s,w?"clip"+l._uid+w:null,t)}function v(t){return[t.xref,t.x,t.sizex,t.yref,t.y,t.sizey].join("_")}function y(t,e){return t._index-e._index}var x=l._imageLowerLayer.selectAll("image").data(u,v),w=l._imageUpperLayer.selectAll("image").data(c,v);x.enter().append("image"),w.enter().append("image"),x.exit().remove(),w.exit().remove(),x.each((function(t){g.bind(this)(t),b.bind(this)(t)})),w.each((function(t){g.bind(this)(t),b.bind(this)(t)})),x.sort(y),w.sort(y);var _=Object.keys(l._plots);for(r=0;r<_.length;r++){e=_[r];var k=l._plots[e];if(k.imagelayer){var A=k.imagelayer.selectAll("image").data(d[e]||[],v);A.enter().append("image"),A.exit().remove(),A.each((function(t){g.bind(this)(t),b.bind(this)(t)})),A.sort(y)}}}},87266:t=>{"use strict";t.exports=function(t){return t!=t}},87317:(t,e,r)=>{"use strict";var n=r(39807);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){var n,i,o;n=t,i=e,o=r[e],(i=s(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t){if("object"!==m(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}function l(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){var e="function"==typeof Map?new Map:void 0;return d=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)},d(t)}function u(t,e,r){return u=h()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&f(i,r.prototype),i},u.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}var g=r(11276).inspect,b=r(81146).codes.ERR_INVALID_ARG_TYPE;function v(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}var y="",x="",w="",_="",k={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function A(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){r[e]=t[e]})),Object.defineProperty(r,"message",{value:t.message}),r}function T(t){return g(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var M=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(M,t);var r,i,s,d,u=(r=M,i=h(),function(){var t,e=p(r);if(i){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return l(this,t)});function M(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,M),"object"!==m(t)||null===t)throw new b("options","Object",t);var r=t.message,i=t.operator,o=t.stackStartFn,a=t.actual,s=t.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)e=u.call(this,String(r));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(y="[34m",x="[32m",_="[39m",w="[31m"):(y="",x="",_="",w="")),"object"===m(a)&&null!==a&&"object"===m(s)&&null!==s&&"stack"in a&&a instanceof Error&&"stack"in s&&s instanceof Error&&(a=A(a),s=A(s)),"deepStrictEqual"===i||"strictEqual"===i)e=u.call(this,function(t,e,r){var i="",o="",a=0,s="",l=!1,c=T(t),d=c.split("\n"),u=T(e).split("\n"),h=0,f="";if("strictEqual"===r&&"object"===m(t)&&"object"===m(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===d.length&&1===u.length&&d[0]!==u[0]){var p=d[0].length+u[0].length;if(p<=10){if(!("object"===m(t)&&null!==t||"object"===m(e)&&null!==e||0===t&&0===e))return"".concat(k[r],"\n\n")+"".concat(d[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==r&&p<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;d[0][h]===u[0][h];)h++;h>2&&(f="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}(" ",h),"^"),h=0)}}for(var g=d[d.length-1],b=u[u.length-1];g===b&&(h++<2?s="\n  ".concat(g).concat(s):i=g,d.pop(),u.pop(),0!==d.length&&0!==u.length);)g=d[d.length-1],b=u[u.length-1];var A=Math.max(d.length,u.length);if(0===A){var M=c.split("\n");if(M.length>30)for(M[26]="".concat(y,"...").concat(_);M.length>27;)M.pop();return"".concat(k.notIdentical,"\n\n").concat(M.join("\n"),"\n")}h>3&&(s="\n".concat(y,"...").concat(_).concat(s),l=!0),""!==i&&(s="\n  ".concat(i).concat(s),i="");var S=0,E=k[r]+"\n".concat(x,"+ actual").concat(_," ").concat(w,"- expected").concat(_),C=" ".concat(y,"...").concat(_," Lines skipped");for(h=0;h<A;h++){var z=h-a;if(d.length<h+1)z>1&&h>2&&(z>4?(o+="\n".concat(y,"...").concat(_),l=!0):z>3&&(o+="\n  ".concat(u[h-2]),S++),o+="\n  ".concat(u[h-1]),S++),a=h,i+="\n".concat(w,"-").concat(_," ").concat(u[h]),S++;else if(u.length<h+1)z>1&&h>2&&(z>4?(o+="\n".concat(y,"...").concat(_),l=!0):z>3&&(o+="\n  ".concat(d[h-2]),S++),o+="\n  ".concat(d[h-1]),S++),a=h,o+="\n".concat(x,"+").concat(_," ").concat(d[h]),S++;else{var L=u[h],O=d[h],D=O!==L&&(!v(O,",")||O.slice(0,-1)!==L);D&&v(L,",")&&L.slice(0,-1)===O&&(D=!1,O+=","),D?(z>1&&h>2&&(z>4?(o+="\n".concat(y,"...").concat(_),l=!0):z>3&&(o+="\n  ".concat(d[h-2]),S++),o+="\n  ".concat(d[h-1]),S++),a=h,o+="\n".concat(x,"+").concat(_," ").concat(O),i+="\n".concat(w,"-").concat(_," ").concat(L),S+=2):(o+=i,i="",1!==z&&0!==h||(o+="\n  ".concat(O),S++))}if(S>20&&h<A-2)return"".concat(E).concat(C,"\n").concat(o,"\n").concat(y,"...").concat(_).concat(i,"\n")+"".concat(y,"...").concat(_)}return"".concat(E).concat(l?C:"","\n").concat(o).concat(i).concat(s).concat(f)}(a,s,i));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var h=k[i],f=T(a).split("\n");if("notStrictEqual"===i&&"object"===m(a)&&null!==a&&(h=k.notStrictEqualObject),f.length>30)for(f[26]="".concat(y,"...").concat(_);f.length>27;)f.pop();e=1===f.length?u.call(this,"".concat(h," ").concat(f[0])):u.call(this,"".concat(h,"\n\n").concat(f.join("\n"),"\n"))}else{var p=T(a),g="",S=k[i];"notDeepEqual"===i||"notEqual"===i?(p="".concat(k[i],"\n\n").concat(p)).length>1024&&(p="".concat(p.slice(0,1021),"...")):(g="".concat(T(s)),p.length>512&&(p="".concat(p.slice(0,509),"...")),g.length>512&&(g="".concat(g.slice(0,509),"...")),"deepEqual"===i||"equal"===i?p="".concat(S,"\n\n").concat(p,"\n\nshould equal\n\n"):g=" ".concat(i," ").concat(g)),e=u.call(this,"".concat(p).concat(g))}return Error.stackTraceLimit=d,e.generatedMessage=!r,Object.defineProperty(c(e),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),e.code="ERR_ASSERTION",e.actual=a,e.expected=s,e.operator=i,Error.captureStackTrace&&Error.captureStackTrace(c(e),o),e.stack,e.name="AssertionError",l(e)}return s=M,(d=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(t,e){return g(this,o(o({},e),{},{customInspect:!1,depth:0}))}}])&&a(s.prototype,d),Object.defineProperty(s,"prototype",{writable:!1}),M}(d(Error),g.custom);t.exports=M},87408:(t,e,r)=>{"use strict";var n=r(27941),i=r(7370),o=r(18106),a=r(12822),s=a.pushUnique,l=a.strTranslate,c=a.strRotate,d=r(16677),u=r(80394),h=r(27517),f=r(40666),p=r(17499),m=r(19846),g=r(75815),b=r(21197).zindexSeparator,v=r(25059),y=r(66811),x=r(99259),w=r(64083),_=r(67739),k=x.YANGLE,A=Math.PI*k/180,T=1/Math.sin(A),M=Math.cos(A),S=Math.sin(A),E=x.HOVERARROWSIZE,C=x.HOVERTEXTPAD,z={box:!0,ohlc:!0,violin:!0,candlestick:!0},L={scatter:!0,scattergl:!0,splom:!0};function O(t,e){return t.distance-e.distance}function D(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa?t.xa._id:"",t.ya?t.ya._id:""].join(",")}e.hover=function(t,e,r,o){t=a.getGraphDiv(t);var l=e.target;a.throttle(t._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,(function(){!function(t,e,r,o,l){r||(r="xy"),"string"==typeof r&&(r=r.split(b)[0]);var c,u,f,x=Array.isArray(r)?r:[r],w=t._fullLayout,_=w.hoversubplots,k=w._plots||[],A=k[r],M=w._has("cartesian"),S=e.hovermode||w.hovermode,C="x"===(S||"").charAt(0),I="y"===(S||"").charAt(0);if(M&&(C||I)&&"axis"===_)for(var R=x.length,V=0;V<R;V++)if(k[c=x[V]]){u=g.getFromId(t,c,"x"),f=g.getFromId(t,c,"y");var q=(C?u:f)._subplotsWith;if(q&&q.length)for(var $=0;$<q.length;$++)s(x,q[$])}if(A&&"single"!==_){var Y=A.overlays.map((function(t){return t.id}));x=x.concat(Y)}for(var Z=x.length,X=new Array(Z),J=new Array(Z),Q=!1,K=0;K<Z;K++)if(k[c=x[K]])Q=!0,X[K]=k[c].xaxis,J[K]=k[c].yaxis;else{if(!w[c]||!w[c]._subplot)return void a.warn("Unrecognized subplot: "+c);var tt=w[c]._subplot;X[K]=tt.xaxis,J[K]=tt.yaxis}if(S&&!Q&&(S="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(S)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return m.unhoverRaw(t,e);var et=w.hoverdistance;-1===et&&(et=1/0);var rt=w.spikedistance;-1===rt&&(rt=1/0);var nt,it,ot,at,st,lt,ct,dt,ut,ht,ft,pt,mt,gt=[],bt=[],vt={hLinePoint:null,vLinePoint:null},yt=!1;if(Array.isArray(e))for(S="array",ot=0;ot<e.length;ot++)(st=t.calcdata[e[ot].curveNumber||0])&&(lt=st[0].trace,"skip"!==st[0].trace.hoverinfo&&(bt.push(st),"h"===lt.orientation&&(yt=!0)));else{var xt,wt,_t=t.calcdata.slice();for(_t.sort((function(t,e){return(t[0].trace.zorder||0)-(e[0].trace.zorder||0)})),at=0;at<_t.length;at++)st=_t[at],"skip"!==(lt=st[0].trace).hoverinfo&&y.isTraceInSubplots(lt,x)&&(bt.push(st),"h"===lt.orientation&&(yt=!0));if(l){if(!1===d.triggerHandler(t,"plotly_beforehover",e))return;var kt=l.getBoundingClientRect();xt=e.clientX-kt.left,wt=e.clientY-kt.top,w._calcInverseTransform(t);var At=a.apply3DTransform(w._invTransform)(xt,wt);if(xt=At[0],wt=At[1],xt<0||xt>X[0]._length||wt<0||wt>J[0]._length)return m.unhoverRaw(t,e)}else xt="xpx"in e?e.xpx:X[0]._length/2,wt="ypx"in e?e.ypx:J[0]._length/2;if(e.pointerX=xt+X[0]._offset,e.pointerY=wt+J[0]._offset,nt="xval"in e?y.flat(x,e.xval):y.p2c(X,xt),it="yval"in e?y.flat(x,e.yval):y.p2c(J,wt),!i(nt[0])||!i(it[0]))return a.warn("Fx.hover failed",e,t),m.unhoverRaw(t,e)}var Tt=1/0;function Mt(r,n){for(at=0;at<bt.length;at++)if((st=bt[at])&&st[0]&&st[0].trace&&!0===(lt=st[0].trace).visible&&0!==lt._length&&-1===["carpet","contourcarpet"].indexOf(lt._module.name)){if(ut=S,y.isUnifiedHover(ut)&&(ut=ut.charAt(0)),"splom"===lt.type?ct=x[dt=0]:(ct=y.getSubplot(lt),dt=x.indexOf(ct)),pt={cd:st,trace:lt,xa:X[dt],ya:J[dt],maxHoverDistance:et,maxSpikeDistance:rt,index:!1,distance:Math.min(Tt,et),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:lt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},w[ct]&&(pt.subplot=w[ct]._subplot),w._splomScenes&&w._splomScenes[lt.uid]&&(pt.scene=w._splomScenes[lt.uid]),"array"===ut){var o=e[at];"pointNumber"in o?(pt.index=o.pointNumber,ut="closest"):(ut="","xval"in o&&(ht=o.xval,ut="x"),"yval"in o&&(ft=o.yval,ut=ut?"closest":"y"))}else void 0!==r&&void 0!==n?(ht=r,ft=n):(ht=nt[dt],ft=it[dt]);if(mt=gt.length,0!==et)if(lt._module&&lt._module.hoverPoints){var s=lt._module.hoverPoints(pt,ht,ft,ut,{finiteRange:!0,hoverLayer:w._hoverlayer,hoversubplots:_,gd:t});if(s)for(var l,c=0;c<s.length;c++)l=s[c],i(l.x0)&&i(l.y0)&&gt.push(N(l,S))}else a.log("Unrecognized trace type in hover:",lt);if("closest"===S&&gt.length>mt&&(gt.splice(0,mt),Tt=gt[0].distance),M&&0!==rt&&0===gt.length){pt.distance=rt,pt.index=!1;var d=lt._module.hoverPoints(pt,ht,ft,"closest",{hoverLayer:w._hoverlayer});if(d&&(d=d.filter((function(t){return t.spikeDistance<=rt}))),d&&d.length){var u,h=d.filter((function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap}));if(h.length){var f=h[0];i(f.x0)&&i(f.y0)&&(u=Et(f),(!vt.vLinePoint||vt.vLinePoint.spikeDistance>u.spikeDistance)&&(vt.vLinePoint=u))}var m=d.filter((function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap}));if(m.length){var g=m[0];i(g.x0)&&i(g.y0)&&(u=Et(g),(!vt.hLinePoint||vt.hLinePoint.spikeDistance>u.spikeDistance)&&(vt.hLinePoint=u))}}}}}function St(t,e,r){for(var n,i=null,o=1/0,a=0;a<t.length;a++)u&&u._id!==t[a].xa._id||f&&f._id!==t[a].ya._id||(n=t[a].spikeDistance,r&&0===a&&(n=-1/0),n<=o&&n<=e&&(i=t[a],o=n));return i}function Et(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}Mt();var Ct={fullLayout:w,container:w._hoverlayer,event:e},zt=t._spikepoints,Lt={vLinePoint:vt.vLinePoint,hLinePoint:vt.hLinePoint};t._spikepoints=Lt;var Ot=function(){var t=gt.filter((function(t){return u&&u._id===t.xa._id&&f&&f._id===t.ya._id})),e=gt.filter((function(t){return!(u&&u._id===t.xa._id&&f&&f._id===t.ya._id)}));t.sort(O),e.sort(O),gt=function(t,e){for(var r=e.charAt(0),n=[],i=[],o=[],a=0;a<t.length;a++){var s=t[a];v.traceIs(s.trace,"bar-like")||v.traceIs(s.trace,"box-violin")?o.push(s):s.trace[r+"period"]?i.push(s):n.push(s)}return n.concat(i).concat(o)}(gt=t.concat(e),S)};Ot();var Dt=S.charAt(0),It=("x"===Dt||"y"===Dt)&&gt[0]&&L[gt[0].trace.type];if(M&&0!==rt&&0!==gt.length){var Ft=St(gt.filter((function(t){return t.ya.showspikes})),rt,It);vt.hLinePoint=Et(Ft);var Rt=St(gt.filter((function(t){return t.xa.showspikes})),rt,It);vt.vLinePoint=Et(Rt)}if(0===gt.length){var Pt=m.unhoverRaw(t,e);return!M||null===vt.hLinePoint&&null===vt.vLinePoint||U(zt)&&B(t,vt,Ct),Pt}if(M&&U(zt)&&B(t,vt,Ct),y.isXYhover(ut)&&0!==gt[0].length&&"splom"!==gt[0].trace.type){var jt=gt[0],Nt=(gt=z[jt.trace.type]?gt.filter((t=>t.trace.index===jt.trace.index)):[jt]).length;Mt(G("x",jt,w),G("y",jt,w));var Bt,Ut=[],Vt={},Gt=0,Ht=function(t){var e=z[t.trace.type]?D(t):t.trace.index;if(Vt[e]){var r=Vt[e]-1,n=Ut[r];r>0&&Math.abs(t.distance)<Math.abs(n.distance)&&(Ut[r]=t)}else Gt++,Vt[e]=Gt,Ut.push(t)};for(Bt=0;Bt<Nt;Bt++)Ht(gt[Bt]);for(Bt=gt.length-1;Bt>Nt-1;Bt--)Ht(gt[Bt]);gt=Ut,Ot()}var Wt=t._hoverdata,qt=[],$t=H(t),Yt=W(t);for(const t of gt){var Zt=y.makeEventData(t,t.trace,t.cd);if(!1!==t.hovertemplate){var Xt=!1;t.cd[t.index]&&t.cd[t.index].ht&&(Xt=t.cd[t.index].ht),t.hovertemplate=Xt||t.trace.hovertemplate||!1}if(t.xa&&t.ya){var Jt=t.x0+t.xa._offset,Qt=t.x1+t.xa._offset,Kt=t.y0+t.ya._offset,te=t.y1+t.ya._offset,ee=Math.min(Jt,Qt),re=Math.max(Jt,Qt),ne=Math.min(Kt,te),ie=Math.max(Kt,te);Zt.bbox={x0:ee+Yt,x1:re+Yt,y0:ne+$t,y1:ie+$t}}t.eventData=[Zt],qt.push(Zt)}t._hoverdata=qt;var oe="y"===S&&(bt.length>1||gt.length>1)||"closest"===S&&yt&&gt.length>1,ae=p.combine(w.plot_bgcolor||p.background,w.paper_bgcolor),se=F(gt,{gd:t,hovermode:S,rotateLabels:oe,bgColor:ae,container:w._hoverlayer,outerContainer:w._paper.node(),commonLabelOpts:w.hoverlabel,hoverdistance:w.hoverdistance}),le=se.hoverLabels;if(y.isUnifiedHover(S)||(function(t,e,r,n){var i,o,a,s,l,c,d,u=e?"xa":"ya",h=e?"ya":"xa",f=0,p=1,m=t.size(),g=new Array(m),b=0,v=n.minX,y=n.maxX,x=n.minY,w=n.maxY,_=function(t){return t*r._invScaleX},k=function(t){return t*r._invScaleY};function A(t){var e=t[0],r=t[t.length-1];if(o=e.pmin-e.pos-e.dp+e.size,a=r.pos+r.dp+r.size-e.pmax,o>.01){for(l=t.length-1;l>=0;l--)t[l].dp+=o;i=!1}if(!(a<.01)){if(o<-.01){for(l=t.length-1;l>=0;l--)t[l].dp-=a;i=!1}if(i){var n=0;for(s=0;s<t.length;s++)(c=t[s]).pos+c.dp+c.size>e.pmax&&n++;for(s=t.length-1;s>=0&&!(n<=0);s--)(c=t[s]).pos>e.pmax-1&&(c.del=!0,n--);for(s=0;s<t.length&&!(n<=0);s++)if((c=t[s]).pos<e.pmin+1)for(c.del=!0,n--,a=2*c.size,l=t.length-1;l>=0;l--)t[l].dp-=a;for(s=t.length-1;s>=0&&!(n<=0);s--)(c=t[s]).pos+c.dp+c.size>e.pmax&&(c.del=!0,n--)}}}for(t.each((function(t){var n=t[u],i=t[h],o="x"===n._id.charAt(0),a=n.range;0===b&&a&&a[0]>a[1]!==o&&(p=-1);var s=0,l=o?r.width:r.height;if("x"===r.hovermode||"y"===r.hovermode){var c,d,f=P(t,e),m=t.anchor,A="end"===m?-1:1;if("middle"===m)d=(c=t.crossPos+(o?k(f.y-t.by/2):_(t.bx/2+t.tx2width/2)))+(o?k(t.by):_(t.bx));else if(o)d=(c=t.crossPos+k(E+f.y)-k(t.by/2-E))+k(t.by);else{var M=_(A*E+f.x),S=M+_(A*t.bx);c=t.crossPos+Math.min(M,S),d=t.crossPos+Math.max(M,S)}o?void 0!==x&&void 0!==w&&Math.min(d,w)-Math.max(c,x)>1&&("left"===i.side?(s=i._mainLinePosition,l=r.width):l=i._mainLinePosition):void 0!==v&&void 0!==y&&Math.min(d,y)-Math.max(c,v)>1&&("top"===i.side?(s=i._mainLinePosition,l=r.height):l=i._mainLinePosition)}g[b++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(o?T:1)/2,pmin:s,pmax:l}]})),g.sort((function(t,e){return t[0].posref-e[0].posref||p*(e[0].traceIndex-t[0].traceIndex)}));!i&&f<=m;){for(f++,i=!0,s=0;s<g.length-1;){var M=g[s],S=g[s+1],C=M[M.length-1],z=S[0];if((o=C.pos+C.dp+C.size-z.pos-z.dp+z.size)>.01){for(l=S.length-1;l>=0;l--)S[l].dp+=o;for(M.push.apply(M,S),g.splice(s+1,1),d=0,l=M.length-1;l>=0;l--)d+=M[l].dp;for(a=d/M.length,l=M.length-1;l>=0;l--)M[l].dp-=a;i=!1}else s++}g.forEach(A)}for(s=g.length-1;s>=0;s--){var L=g[s];for(l=L.length-1;l>=0;l--){var O=L[l],D=O.datum;D.offset=O.dp,D.del=O.del}}}(le,oe,w,se.commonLabelBoundingBox),j(le,oe,w._invScaleX,w._invScaleY)),l&&l.tagName){var ce=v.getComponentMethod("annotations","hasClickToShow")(t,qt);h(n.select(l),ce?"pointer":"")}l&&!o&&function(t,e,r){if(!r||r.length!==t._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var i=r[n],o=t._hoverdata[n];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber)||String(i.pointNumbers)!==String(o.pointNumbers)||i.binNumber!==o.binNumber)return!0}return!1}(t,0,Wt)&&(Wt&&t.emit("plotly_unhover",{event:e,points:Wt}),t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:X,yaxes:J,xvals:nt,yvals:it}))}(t,e,r,o,l)}))},e.loneHover=function(t,e){var r=!0;Array.isArray(t)||(r=!1,t=[t]);var i=e.gd,o=H(i),a=W(i),s=!1,l=F(t.map((function(t){var r=t._x0||t.x0||t.x||0,n=t._x1||t.x1||t.x||0,s=t._y0||t.y0||t.y||0,l=t._y1||t.y1||t.y||0,c=t.eventData;if(c){var d=Math.min(r,n),u=Math.max(r,n),h=Math.min(s,l),f=Math.max(s,l),m=t.trace;if(v.traceIs(m,"gl3d")){var g=i._fullLayout[m.scene]._scene.container,b=g.offsetLeft,y=g.offsetTop;d+=b,u+=b,h+=y,f+=y}c.bbox={x0:d+a,x1:u+a,y0:h+o,y1:f+o},e.inOut_bbox&&e.inOut_bbox.push(c.bbox)}else c=!1;return{color:t.color||p.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,hovertemplateLabels:t.hovertemplateLabels||!1,eventData:c}})),{gd:i,hovermode:"closest",rotateLabels:s,bgColor:e.bgColor||p.background,container:n.select(e.container),outerContainer:e.outerContainer||e.container}).hoverLabels,c=0,d=0;return l.sort((function(t,e){return t.y0-e.y0})).each((function(t,r){var n=t.y0-t.by/2;t.offset=n-5<c?c-n+5:0,c=n+t.by+t.offset,r===e.anchorIndex&&(d=t.offset)})).each((function(t){t.offset-=d})),j(l,s,i._fullLayout._invScaleX,i._fullLayout._invScaleY),r?l:l.node()};var I=/<extra>([\s\S]*)<\/extra>/;function F(t,e){var r=e.gd,i=r._fullLayout,o=e.hovermode,s=e.rotateLabels,d=e.bgColor,h=e.container,m=e.outerContainer,g=e.commonLabelOpts||{};if(0===t.length)return[[]];var b=e.fontFamily||x.HOVERFONT,A=e.fontSize||x.HOVERFONTSIZE,T=e.fontWeight||i.font.weight,M=e.fontStyle||i.font.style,S=e.fontVariant||i.font.variant,z=e.fontTextcase||i.font.textcase,L=e.fontLineposition||i.font.lineposition,O=e.fontShadow||i.font.shadow,I=t[0],F=I.xa,P=I.ya,j=o.charAt(0),N=j+"Label",B=I[N];if(void 0===B&&"multicategory"===F.type)for(var U=0;U<t.length&&void 0===(B=t[U][N]);U++);var V=q(r,m),G=V.top,H=V.width,W=V.height,$=void 0!==B&&I.distance<=e.hoverdistance&&("x"===o||"y"===o);if($){var Y,Z,X=!0;for(Y=0;Y<t.length;Y++)if(X&&void 0===t[Y].zLabel&&(X=!1),Z=t[Y].hoverinfo||t[Y].trace.hoverinfo){var J=Array.isArray(Z)?Z:Z.split("+");if(-1===J.indexOf("all")&&-1===J.indexOf(o)){$=!1;break}}X&&($=!1)}var Q=h.selectAll("g.axistext").data($?[0]:[]);Q.enter().append("g").classed("axistext",!0),Q.exit().remove();var K={minX:0,maxX:0,minY:0,maxY:0};if(Q.each((function(){var t=n.select(this),e=a.ensureSingle(t,"path","",(function(t){t.style({"stroke-width":"1px"})})),s=a.ensureSingle(t,"text","",(function(t){t.attr("data-notex",1)})),c=g.bgcolor||p.defaultLine,d=g.bordercolor||p.contrast(c),h=p.contrast(c),m=g.font,v={weight:m.weight||T,style:m.style||M,variant:m.variant||S,textcase:m.textcase||z,lineposition:m.lineposition||L,shadow:m.shadow||O,family:m.family||b,size:m.size||A,color:m.color||h};e.style({fill:c,stroke:d}),s.text(B).call(f.font,v).call(u.positionText,0,0).call(u.convertToTspans,r),t.attr("transform","");var y,x,w=q(r,s.node());if("x"===o){var _="top"===F.side?"-":"";s.attr("text-anchor","middle").call(u.positionText,0,"top"===F.side?G-w.bottom-E-C:G-w.top+E+C),y=F._offset+(I.x0+I.x1)/2,x=P._offset+("top"===F.side?0:P._length);var k=w.width/2+C,D=y;y<k?D=k:y>i.width-k&&(D=i.width-k),e.attr("d","M"+(y-D)+",0L"+(y-D+E)+","+_+E+"H"+k+"v"+_+(2*C+w.height)+"H"+-k+"V"+_+E+"H"+(y-D-E)+"Z"),y=D,K.minX=y-k,K.maxX=y+k,"top"===F.side?(K.minY=x-(2*C+w.height),K.maxY=x-C):(K.minY=x+C,K.maxY=x+(2*C+w.height))}else{var R,j,N;"right"===P.side?(R="start",j=1,N="",y=F._offset+F._length):(R="end",j=-1,N="-",y=F._offset),x=P._offset+(I.y0+I.y1)/2,s.attr("text-anchor",R),e.attr("d","M0,0L"+N+E+","+E+"V"+(C+w.height/2)+"h"+N+(2*C+w.width)+"V-"+(C+w.height/2)+"H"+N+E+"V-"+E+"Z"),K.minY=x-(C+w.height/2),K.maxY=x+(C+w.height/2),"right"===P.side?(K.minX=y+E,K.maxX=y+E+(2*C+w.width)):(K.minX=y-E-(2*C+w.width),K.maxX=y-E);var U,V=w.height/2,H=G-w.top-V,W="clip"+i._uid+"commonlabel"+P._id;if(y<w.width+2*C+E){U="M-"+(E+C)+"-"+V+"h-"+(w.width-C)+"V"+V+"h"+(w.width-C)+"Z";var $=w.width-y+C;u.positionText(s,$,H),"end"===R&&s.selectAll("tspan").each((function(){var t=n.select(this),e=f.tester.append("text").text(t.text()).call(f.font,v),i=q(r,e.node());Math.round(i.width)<Math.round(w.width)&&t.attr("x",$-i.width),e.remove()}))}else u.positionText(s,j*(C+E),H),U=null;var Y=i._topclips.selectAll("#"+W).data(U?[0]:[]);Y.enter().append("clipPath").attr("id",W).append("path"),Y.exit().remove(),Y.select("path").attr("d",U),f.setClipUrl(s,U?W:null,r)}t.attr("transform",l(y,x))})),y.isUnifiedHover(o)){h.selectAll("g.hovertext").remove();const e=t.filter((t=>"none"!==t.hoverinfo));if(0===e.length)return[];var tt=i.hoverlabel,et=tt.font,rt=e[0],nt=(("x unified"===o?rt.xa:rt.ya).unifiedhovertitle||{}).text,it={showlegend:!0,legend:{title:{text:nt?a.hovertemplateString({data:"x unified"===o?[{xa:rt.xa,x:rt.xVal}]:[{ya:rt.ya,y:rt.yVal}],fallback:rt.trace.hovertemplatefallback,locale:i._d3locale,template:nt}):B,font:et},font:et,bgcolor:tt.bgcolor,bordercolor:tt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},ot={font:et};w(it,ot,r._fullData);var at=ot.legend;at.entries=[];for(var st=0;st<e.length;st++){var lt=e[st];if("none"!==lt.hoverinfo){var ct=R(lt,!0,o,i,B),dt=ct[0],ut=ct[1];lt.name=ut,lt.text=""!==ut?ut+" : "+dt:dt;var ht=lt.cd[lt.index];ht&&(ht.mc&&(lt.mc=ht.mc),ht.mcc&&(lt.mc=ht.mcc),ht.mlc&&(lt.mlc=ht.mlc),ht.mlcc&&(lt.mlc=ht.mlcc),ht.mlw&&(lt.mlw=ht.mlw),ht.mrc&&(lt.mrc=ht.mrc),ht.dir&&(lt.dir=ht.dir)),lt._distinct=!0,at.entries.push([lt])}}at.entries.sort((function(t,e){return t[0].trace.index-e[0].trace.index})),at.layer=h,at._inHover=!0,at._groupTitleFont=tt.grouptitlefont,_(r,at);var ft,pt,mt,gt,bt=h.select("g.legend"),vt=q(r,bt.node()),yt=vt.width+2*C,xt=vt.height+2*C,wt=e[0],_t=(wt.x0+wt.x1)/2,kt=(wt.y0+wt.y1)/2,At=!(v.traceIs(wt.trace,"bar-like")||v.traceIs(wt.trace,"box-violin"));"y"===j?At?(pt=kt-C,ft=kt+C):(pt=Math.min.apply(null,e.map((function(t){return Math.min(t.y0,t.y1)}))),ft=Math.max.apply(null,e.map((function(t){return Math.max(t.y0,t.y1)})))):pt=ft=a.mean(e.map((function(t){return(t.y0+t.y1)/2})))-xt/2,"x"===j?At?(mt=_t+C,gt=_t-C):(mt=Math.max.apply(null,e.map((function(t){return Math.max(t.x0,t.x1)}))),gt=Math.min.apply(null,e.map((function(t){return Math.min(t.x0,t.x1)})))):mt=gt=a.mean(e.map((function(t){return(t.x0+t.x1)/2})))-yt/2;var Tt,Mt,St=F._offset,Et=P._offset;return gt+=St-yt,pt+=Et-xt,Tt=(mt+=St)+yt<H&&mt>=0?mt:gt+yt<H&&gt>=0?gt:St+yt<H?St:mt-_t<_t-gt+yt?H-yt:0,Tt+=C,Mt=(ft+=Et)+xt<W&&ft>=0?ft:pt+xt<W&&pt>=0?pt:Et+xt<W?Et:ft-kt<kt-pt+xt?W-xt:0,Mt+=C,bt.attr("transform",l(Tt-1,Mt-1)),bt}var Ct=h.selectAll("g.hovertext").data(t,(function(t){return D(t)}));return Ct.enter().append("g").classed("hovertext",!0).each((function(){var t=n.select(this);t.append("rect").call(p.fill,p.addOpacity(d,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(f.font,{weight:T,style:M,variant:S,textcase:z,lineposition:L,shadow:O,family:b,size:A})})),Ct.exit().remove(),Ct.each((function(t){var e=n.select(this).attr("transform",""),a=t.color;Array.isArray(a)&&(a=a[t.eventData[0].pointNumber]);var h=t.bgcolor||a,m=p.combine(p.opacity(h)?h:p.defaultLine,d),g=p.combine(p.opacity(a)?a:p.defaultLine,d),v=t.borderColor||p.contrast(m),y=R(t,$,o,i,B,e),x=y[0],w=y[1],_=e.select("text.nums").call(f.font,{family:t.fontFamily||b,size:t.fontSize||A,color:t.fontColor||v,weight:t.fontWeight||T,style:t.fontStyle||M,variant:t.fontVariant||S,textcase:t.fontTextcase||z,lineposition:t.fontLineposition||L,shadow:t.fontShadow||O}).text(x).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r),D=e.select("text.name"),I=0,F=0;if(w&&w!==x){D.call(f.font,{family:t.fontFamily||b,size:t.fontSize||A,color:g,weight:t.fontWeight||T,style:t.fontStyle||M,variant:t.fontVariant||S,textcase:t.fontTextcase||z,lineposition:t.fontLineposition||L,shadow:t.fontShadow||O}).text(w).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r);var P=q(r,D.node());I=P.width+2*C,F=P.height+2*C}else D.remove(),e.select("rect").remove();e.select("path").style({fill:m,stroke:v});var j=t.xa._offset+(t.x0+t.x1)/2,N=t.ya._offset+(t.y0+t.y1)/2,U=Math.abs(t.x1-t.x0),V=Math.abs(t.y1-t.y0),Y=q(r,_.node()),Z=Y.width/i._invScaleX,X=Y.height/i._invScaleY;t.ty0=(G-Y.top)/i._invScaleY,t.bx=Z+2*C,t.by=Math.max(X+2*C,F),t.anchor="start",t.txwidth=Z,t.tx2width=I,t.offset=0;var J,Q,K=(Z+E+C+I)*i._invScaleX;if(s)t.pos=j,J=N+V/2+K<=W,Q=N-V/2-K>=0,"top"!==t.idealAlign&&J||!Q?J?(N+=V/2,t.anchor="start"):t.anchor="middle":(N-=V/2,t.anchor="end"),t.crossPos=N;else{if(t.pos=N,J=j+U/2+K<=H,Q=j-U/2-K>=0,"left"!==t.idealAlign&&J||!Q)if(J)j+=U/2,t.anchor="start";else{t.anchor="middle";var tt=K/2,et=j+tt-H,rt=j-tt;et>0&&(j-=et),rt<0&&(j+=-rt)}else j-=U/2,t.anchor="end";t.crossPos=j}_.attr("text-anchor",t.anchor),I&&D.attr("text-anchor",t.anchor),e.attr("transform",l(j,N)+(s?c(k):""))})),{hoverLabels:Ct,commonLabelBoundingBox:K}}function R(t,e,r,n,i,o){var s="",l="";void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=a.templateString(t.name,t.trace._meta)),s=V(t.name,t.nameLength));var c=r.charAt(0),d="x"===c?"y":"x";void 0!==t.zLabel?(void 0!==t.xLabel&&(l+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(l+="y: "+t.yLabel+"<br>"),"choropleth"!==t.trace.type&&"choroplethmapbox"!==t.trace.type&&"choroplethmap"!==t.trace.type&&(l+=(l?"z: ":"")+t.zLabel)):e&&t[c+"Label"]===i?l=t[d+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&"scattercarpet"!==t.trace.type&&(l=t.yLabel):l=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",!t.text&&0!==t.text||Array.isArray(t.text)||(l+=(l?"<br>":"")+t.text),void 0!==t.extraText&&(l+=(l?"<br>":"")+t.extraText),o&&""===l&&!t.hovertemplate&&(""===s&&o.remove(),l=s),t.trace?.hoverlabel?.split&&(t.hovertemplate="");const{hovertemplate:u=!1}=t;if(u){const e=t.hovertemplateLabels||t;t[c+"Label"]!==i&&(e[c+"other"]=e[c+"Val"],e[c+"otherLabel"]=e[c+"Label"]),l=(l=a.hovertemplateString({data:[t.eventData[0]||{},t.trace._meta],fallback:t.trace.hovertemplatefallback,labels:e,locale:n._d3locale,template:u})).replace(I,((e,r)=>(s=V(r,t.nameLength),"")))}return[l,s]}function P(t,e){var r=0,n=t.offset;return e&&(n*=-S,r=t.offset*M),{x:r,y:n}}function j(t,e,r,i){var o=function(t){return t*r},a=function(t){return t*i};t.each((function(t){var r=n.select(this);if(t.del)return r.remove();var i,s,l,c,d,h=r.select("text.nums"),p=t.anchor,m="end"===p?-1:1,g=(c=(l=(s={start:1,end:-1,middle:0}[(i=t).anchor])*(E+C))+s*(i.txwidth+C),"middle"===i.anchor&&(l-=i.tx2width/2,c+=i.txwidth/2+C),{alignShift:s,textShiftX:l,text2ShiftX:c}),b=P(t,e),v=b.x,y=b.y,x="middle"===p,w=!("hoverlabel"in t.trace)||t.trace.hoverlabel.showarrow;d=x?"M-"+o(t.bx/2+t.tx2width/2)+","+a(y-t.by/2)+"h"+o(t.bx)+"v"+a(t.by)+"h-"+o(t.bx)+"Z":w?"M0,0L"+o(m*E+v)+","+a(E+y)+"v"+a(t.by/2-E)+"h"+o(m*t.bx)+"v-"+a(t.by)+"H"+o(m*E+v)+"V"+a(y-E)+"Z":"M"+o(m*E+v)+","+a(y-t.by/2)+"h"+o(m*t.bx)+"v"+a(t.by)+"h"+o(-m*t.bx)+"Z",r.select("path").attr("d",d);var _=v+g.textShiftX,k=y+t.ty0-t.by/2+C,A=t.textAlign||"auto";"auto"!==A&&("left"===A&&"start"!==p?(h.attr("text-anchor","start"),_=x?-t.bx/2-t.tx2width/2+C:-t.bx-C):"right"===A&&"end"!==p&&(h.attr("text-anchor","end"),_=x?t.bx/2-t.tx2width/2-C:t.bx+C)),h.call(u.positionText,o(_),a(k)),t.tx2width&&(r.select("text.name").call(u.positionText,o(g.text2ShiftX+g.alignShift*C+v),a(y+t.ty0-t.by/2+C)),r.select("rect").call(f.setRect,o(g.text2ShiftX+(g.alignShift-1)*t.tx2width/2+v),a(y-t.by/2-1),o(t.tx2width),a(t.by+2)))}))}function N(t,e){var r=t.index,n=t.trace||{},o=t.cd[0],s=t.cd[r]||{};function l(t){return t||i(t)&&0===t}var c=Array.isArray(r)?function(t,e){var i=a.castOption(o,r,t);return l(i)?i:a.extractOption({},n,"",e)}:function(t,e){return a.extractOption(s,n,t,e)};function d(e,r,n){var i=c(r,n);l(i)&&(t[e]=i)}if(d("hoverinfo","hi","hoverinfo"),d("bgcolor","hbg","hoverlabel.bgcolor"),d("borderColor","hbc","hoverlabel.bordercolor"),d("fontFamily","htf","hoverlabel.font.family"),d("fontSize","hts","hoverlabel.font.size"),d("fontColor","htc","hoverlabel.font.color"),d("fontWeight","htw","hoverlabel.font.weight"),d("fontStyle","hty","hoverlabel.font.style"),d("fontVariant","htv","hoverlabel.font.variant"),d("nameLength","hnl","hoverlabel.namelength"),d("textAlign","hta","hoverlabel.align"),t.posref="y"===e||"closest"===e&&"h"===n.orientation?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=a.constrain(t.x0,0,t.xa._length),t.x1=a.constrain(t.x1,0,t.xa._length),t.y0=a.constrain(t.y0,0,t.ya._length),t.y1=a.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:g.hoverLabelText(t.xa,t.xLabelVal,n.xhoverformat),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:g.hoverLabelText(t.ya,t.yLabelVal,n.yhoverformat),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var u=g.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+u+" / -"+g.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+="  "+u,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var h=g.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+h+" / -"+g.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+="  "+h,"y"===e&&(t.distance+=1)}var f=t.hoverinfo||t.trace.hoverinfo;return f&&"all"!==f&&(-1===(f=Array.isArray(f)?f:f.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===f.indexOf("y")&&(t.yLabel=void 0),-1===f.indexOf("z")&&(t.zLabel=void 0),-1===f.indexOf("text")&&(t.text=void 0),-1===f.indexOf("name")&&(t.name=void 0)),t}function B(t,e,r){var n,i,a=r.container,s=r.fullLayout,l=s._size,c=r.event,d=!!e.hLinePoint,u=!!e.vLinePoint;if(a.selectAll(".spikeline").remove(),u||d){var h=p.combine(s.plot_bgcolor,s.paper_bgcolor);if(d){var m,b,v=e.hLinePoint;n=v&&v.xa,"cursor"===(i=v&&v.ya).spikesnap?(m=c.pointerX,b=c.pointerY):(m=n._offset+v.x,b=i._offset+v.y);var y,x,w=o.readability(v.color,h)<1.5?p.contrast(h):v.color,_=i.spikemode,k=i.spikethickness,A=i.spikecolor||w,T=g.getPxPosition(t,i);if(-1!==_.indexOf("toaxis")||-1!==_.indexOf("across")){if(-1!==_.indexOf("toaxis")&&(y=T,x=m),-1!==_.indexOf("across")){var M=i._counterDomainMin,S=i._counterDomainMax;"free"===i.anchor&&(M=Math.min(M,i.position),S=Math.max(S,i.position)),y=l.l+M*l.w,x=l.l+S*l.w}a.insert("line",":first-child").attr({x1:y,x2:x,y1:b,y2:b,"stroke-width":k,stroke:A,"stroke-dasharray":f.dashStyle(i.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:y,x2:x,y1:b,y2:b,"stroke-width":k+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}-1!==_.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:T+("right"!==i.side?k:-k),cy:b,r:k,fill:A}).classed("spikeline",!0)}if(u){var E,C,z=e.vLinePoint;n=z&&z.xa,i=z&&z.ya,"cursor"===n.spikesnap?(E=c.pointerX,C=c.pointerY):(E=n._offset+z.x,C=i._offset+z.y);var L,O,D=o.readability(z.color,h)<1.5?p.contrast(h):z.color,I=n.spikemode,F=n.spikethickness,R=n.spikecolor||D,P=g.getPxPosition(t,n);if(-1!==I.indexOf("toaxis")||-1!==I.indexOf("across")){if(-1!==I.indexOf("toaxis")&&(L=P,O=C),-1!==I.indexOf("across")){var j=n._counterDomainMin,N=n._counterDomainMax;"free"===n.anchor&&(j=Math.min(j,n.position),N=Math.max(N,n.position)),L=l.t+(1-N)*l.h,O=l.t+(1-j)*l.h}a.insert("line",":first-child").attr({x1:E,x2:E,y1:L,y2:O,"stroke-width":F,stroke:R,"stroke-dasharray":f.dashStyle(n.spikedash,F)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:E,x2:E,y1:L,y2:O,"stroke-width":F+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0)}-1!==I.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:E,cy:P-("top"!==n.side?F:-F),r:F,fill:R}).classed("spikeline",!0)}}}function U(t,e){return!e||e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint}function V(t,e){return u.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function G(t,e,r){var n=e[t+"a"],i=e[t+"Val"],o=e.cd[0];if("category"===n.type||"multicategory"===n.type)i=n._categoriesMap[i];else if("date"===n.type){var a=e.trace[t+"periodalignment"];if(a){var s=e.cd[e.index],l=s[t+"Start"];void 0===l&&(l=s[t]);var c=s[t+"End"];void 0===c&&(c=s[t]);var d=c-l;"end"===a?i+=d:"middle"===a&&(i+=d/2)}i=n.d2c(i)}return o&&o.t&&o.t.posLetter===n._id&&("group"!==r.boxmode&&"group"!==r.violinmode||(i+=o.t.dPos)),i}const H=t=>t.offsetTop+t.clientTop,W=t=>t.offsetLeft+t.clientLeft;function q(t,e){var r=t._fullLayout,n=e.getBoundingClientRect(),i=n.left,o=n.top,s=i+n.width,l=o+n.height,c=a.apply3DTransform(r._invTransform)(i,o),d=a.apply3DTransform(r._invTransform)(s,l),u=c[0],h=c[1],f=d[0],p=d[1];return{x:u,y:h,width:f-u,height:p-h,top:Math.min(h,p),left:Math.min(u,f),right:Math.max(u,f),bottom:Math.max(h,p)}}},87486:t=>{"use strict";t.exports=JSON.parse('["normal","italic","oblique"]')},87494:(t,e,r)=>{"use strict";var n=r(63844),i={object:!0,symbol:!0};t.exports=function(){var t,e=n.Symbol;if("function"!=typeof e)return!1;t=e("test symbol");try{String(t)}catch(t){return!1}return!!i[typeof e.iterator]&&!!i[typeof e.toPrimitive]&&!!i[typeof e.toStringTag]}},87841:(t,e,r)=>{"use strict";var n,i=r(93767),o=r(83579),a=r(66529),s=r(2033),l=r(36434),c=r(86142),d=r(28753),u=r(88822),h=r(89791).toStringTag,f=r(99037),p=Array.isArray,m=Object.defineProperty,g=Object.prototype.hasOwnProperty,b=Object.getPrototypeOf;t.exports=n=function(){var t,e=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return t=f&&o&&WeakMap!==n?o(new WeakMap,b(this)):this,i(e)&&(p(e)||(e=d(e))),m(t,"__weakMapData__",c("c","$weakMap$"+l())),e?(u(e,(function(e){s(e),t.set(e[0],e[1])})),t):t},f&&(o&&o(n,WeakMap),n.prototype=Object.create(WeakMap.prototype,{constructor:c(n)})),Object.defineProperties(n.prototype,{delete:c((function(t){return!!g.call(a(t),this.__weakMapData__)&&(delete t[this.__weakMapData__],!0)})),get:c((function(t){if(g.call(a(t),this.__weakMapData__))return t[this.__weakMapData__]})),has:c((function(t){return g.call(a(t),this.__weakMapData__)})),set:c((function(t,e){return m(a(t),this.__weakMapData__,c("c",e)),this})),toString:c((function(){return"[object WeakMap]"}))}),m(n.prototype,h,c("c","WeakMap"))},87894:t=>{t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},87984:(t,e,r)=>{"use strict";t.exports=r(60263)()?Object.keys:r(42351)},88313:(t,e,r)=>{"use strict";var n=r(27941),i=r(25059),o=r(12822),a=r(40666),s=r(75815);t.exports=function(t,e,r,l){var c=t._fullLayout;if(0!==e.length){var d,u,h,f;l&&(d=l());var p=n.ease(r.easing);return t._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(f),f=null,function(){for(var r={},n=0;n<e.length;n++){var o=e[n],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr0&&(r[a._name+".range"]=o.xr0.slice()),o.yr0&&(r[s._name+".range"]=o.yr0.slice())}return i.call("relayout",t,r).then((function(){for(var t=0;t<e.length;t++)m(e[t].plotinfo)}))}()})),u=Date.now(),f=window.requestAnimationFrame((function n(){h=Date.now();for(var o=Math.min(1,(h-u)/r.duration),a=p(o),s=0;s<e.length;s++)g(e[s],a);h-u>r.duration?(function(){for(var r={},n=0;n<e.length;n++){var o=e[n],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr1&&(r[a._name+".range"]=o.xr1.slice()),o.yr1&&(r[s._name+".range"]=o.yr1.slice())}d&&d(),i.call("relayout",t,r).then((function(){for(var t=0;t<e.length;t++)m(e[t].plotinfo)}))}(),f=window.cancelAnimationFrame(n)):f=window.requestAnimationFrame(n)})),Promise.resolve()}function m(t){var e=t.xaxis,r=t.yaxis;c._defs.select("#"+t.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),t.plot.call(a.setTranslate,e._offset,r._offset).call(a.setScale,1,1);var n=t.plot.selectAll(".scatterlayer .trace");n.selectAll(".point").call(a.setPointGroupScale,1,1),n.selectAll(".textpoint").call(a.setTextPointsScale,1,1),n.call(a.hideOutsideRangePoints,t)}function g(e,r){var n=e.plotinfo,i=n.xaxis,l=n.yaxis,c=i._length,d=l._length,u=!!e.xr1,h=!!e.yr1,f=[];if(u){var p=o.simpleMap(e.xr0,i.r2l),m=o.simpleMap(e.xr1,i.r2l),g=p[1]-p[0],b=m[1]-m[0];f[0]=(p[0]*(1-r)+r*m[0]-p[0])/(p[1]-p[0])*c,f[2]=c*(1-r+r*b/g),i.range[0]=i.l2r(p[0]*(1-r)+r*m[0]),i.range[1]=i.l2r(p[1]*(1-r)+r*m[1])}else f[0]=0,f[2]=c;if(h){var v=o.simpleMap(e.yr0,l.r2l),y=o.simpleMap(e.yr1,l.r2l),x=v[1]-v[0],w=y[1]-y[0];f[1]=(v[1]*(1-r)+r*y[1]-v[1])/(v[0]-v[1])*d,f[3]=d*(1-r+r*w/x),l.range[0]=i.l2r(v[0]*(1-r)+r*y[0]),l.range[1]=l.l2r(v[1]*(1-r)+r*y[1])}else f[1]=0,f[3]=d;s.drawOne(t,i,{skipTitle:!0}),s.drawOne(t,l,{skipTitle:!0}),s.redrawComponents(t,[i._id,l._id]);var _=u?c/f[2]:1,k=h?d/f[3]:1,A=u?f[0]:0,T=h?f[1]:0,M=u?f[0]/f[2]*c:0,S=h?f[1]/f[3]*d:0,E=i._offset-M,C=l._offset-S;n.clipRect.call(a.setTranslate,A,T).call(a.setScale,1/_,1/k),n.plot.call(a.setTranslate,E,C).call(a.setScale,_,k),a.setPointGroupScale(n.zoomScalePts,1/_,1/k),a.setTextPointsScale(n.zoomScaleTxt,1/_,1/k)}s.redrawComponents(t)}},88479:(t,e,r)=>{"use strict";var n=r(78737);n.plot=r(96360),t.exports=n},88566:(t,e)=>{"use strict";e.version="3.3.0"},88625:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822),o=r(90566);function a(t,e,r,a){var s=t.xa,l=t.ya,c=t.distance,d=t.dxy,u=t.index,h={pointNumber:u,x:e[u],y:r[u]};h.tx=i.isArrayOrTypedArray(a.text)?a.text[u]:a.text,h.htx=Array.isArray(a.hovertext)?a.hovertext[u]:a.hovertext,h.data=Array.isArray(a.customdata)?a.customdata[u]:a.customdata,h.tp=Array.isArray(a.textposition)?a.textposition[u]:a.textposition;var f=a.textfont;f&&(h.ts=i.isArrayOrTypedArray(f.size)?f.size[u]:f.size,h.tc=i.isArrayOrTypedArray(f.color)?f.color[u]:f.color,h.tf=Array.isArray(f.family)?f.family[u]:f.family,h.tw=Array.isArray(f.weight)?f.weight[u]:f.weight,h.ty=Array.isArray(f.style)?f.style[u]:f.style,h.tv=Array.isArray(f.variant)?f.variant[u]:f.variant);var p=a.marker;p&&(h.ms=i.isArrayOrTypedArray(p.size)?p.size[u]:p.size,h.mo=i.isArrayOrTypedArray(p.opacity)?p.opacity[u]:p.opacity,h.mx=i.isArrayOrTypedArray(p.symbol)?p.symbol[u]:p.symbol,h.ma=i.isArrayOrTypedArray(p.angle)?p.angle[u]:p.angle,h.mc=i.isArrayOrTypedArray(p.color)?p.color[u]:p.color);var m=p&&p.line;m&&(h.mlc=Array.isArray(m.color)?m.color[u]:m.color,h.mlw=i.isArrayOrTypedArray(m.width)?m.width[u]:m.width);var g=p&&p.gradient;g&&"none"!==g.type&&(h.mgt=Array.isArray(g.type)?g.type[u]:g.type,h.mgc=Array.isArray(g.color)?g.color[u]:g.color);var b=s.c2p(h.x,!0),v=l.c2p(h.y,!0),y=h.mrc||1,x=a.hoverlabel;x&&(h.hbg=Array.isArray(x.bgcolor)?x.bgcolor[u]:x.bgcolor,h.hbc=Array.isArray(x.bordercolor)?x.bordercolor[u]:x.bordercolor,h.hts=i.isArrayOrTypedArray(x.font.size)?x.font.size[u]:x.font.size,h.htc=Array.isArray(x.font.color)?x.font.color[u]:x.font.color,h.htf=Array.isArray(x.font.family)?x.font.family[u]:x.font.family,h.hnl=i.isArrayOrTypedArray(x.namelength)?x.namelength[u]:x.namelength);var w=a.hoverinfo;w&&(h.hi=Array.isArray(w)?w[u]:w);var _=a.hovertemplate;_&&(h.ht=Array.isArray(_)?_[u]:_);var k={};k[t.index]=h;var A=a._origX,T=a._origY,M=i.extendFlat({},t,{color:o(a,h),x0:b-y,x1:b+y,xLabelVal:A?A[u]:h.x,y0:v-y,y1:v+y,yLabelVal:T?T[u]:h.y,cd:k,distance:c,spikeDistance:d,hovertemplate:h.ht});return h.htx?M.text=h.htx:h.tx?M.text=h.tx:a.text&&(M.text=a.text),i.fillText(h,a,M),n.getComponentMethod("errorbars","hoverInfo")(h,a,M),M}t.exports={hoverPoints:function(t,e,r,n){var i,o,s,l,c,d,u,h,f,p,m=t.cd,g=m[0].t,b=m[0].trace,v=t.xa,y=t.ya,x=g.x,w=g.y,_=v.c2p(e),k=y.c2p(r),A=t.distance;if(g.tree){var T=v.p2c(_-A),M=v.p2c(_+A),S=y.p2c(k-A),E=y.p2c(k+A);i="x"===n?g.tree.range(Math.min(T,M),Math.min(y._rl[0],y._rl[1]),Math.max(T,M),Math.max(y._rl[0],y._rl[1])):g.tree.range(Math.min(T,M),Math.min(S,E),Math.max(T,M),Math.max(S,E))}else i=g.ids;var C=A;if("x"===n){var z=!!b.xperiodalignment,L=!!b.yperiodalignment;for(d=0;d<i.length;d++){if(l=x[o=i[d]],u=Math.abs(v.c2p(l)-_),z){var O=v.c2p(b._xStarts[o]),D=v.c2p(b._xEnds[o]);u=_>=Math.min(O,D)&&_<=Math.max(O,D)?0:1/0}if(u<C){if(C=u,c=w[o],h=y.c2p(c)-k,L){var I=y.c2p(b._yStarts[o]),F=y.c2p(b._yEnds[o]);h=k>=Math.min(I,F)&&k<=Math.max(I,F)?0:1/0}p=Math.sqrt(u*u+h*h),s=i[d]}}}else for(d=i.length-1;d>-1;d--)l=x[o=i[d]],c=w[o],u=v.c2p(l)-_,h=y.c2p(c)-k,(f=Math.sqrt(u*u+h*h))<C&&(C=p=f,s=o);return t.index=s,t.distance=C,t.dxy=p,void 0===s?[t]:[a(t,x,w,b)]},calcHover:a}},88822:(t,e,r)=>{"use strict";var n=r(40471),i=r(55366),o=r(54295),a=r(28753),s=Array.isArray,l=Function.prototype.call,c=Array.prototype.some;t.exports=function(t,e){var r,d,u,h,f,p,m,g,b=arguments[2];if(s(t)||n(t)?r="array":o(t)?r="string":t=a(t),i(e),u=function(){h=!0},"array"!==r)if("string"!==r)for(d=t.next();!d.done;){if(l.call(e,b,d.value,u),h)return;d=t.next()}else for(p=t.length,f=0;f<p&&(m=t[f],f+1<p&&(g=m.charCodeAt(0))>=55296&&g<=56319&&(m+=t[++f]),l.call(e,b,m,u),!h);++f);else c.call(t,(function(t){return l.call(e,b,t,u),h}))}},88828:(t,e)=>{"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},88832:(t,e,r)=>{"use strict";var n=r(35366),i=r(44691),o=r(57809);t.exports=function(){return o(n,i,arguments)}},88884:(t,e,r)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var a=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},l=function(t){var e=[];return t.forEach((function(t,r){return e.push([r,t])})),e},c=Object.is?Object.is:r(62956),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:r(74858);function h(t){return t.call.bind(t)}var f=h(Object.prototype.hasOwnProperty),p=h(Object.prototype.propertyIsEnumerable),m=h(Object.prototype.toString),g=r(11276).types,b=g.isAnyArrayBuffer,v=g.isArrayBufferView,y=g.isDate,x=g.isMap,w=g.isRegExp,_=g.isSet,k=g.isNativeError,A=g.isBoxedPrimitive,T=g.isNumberObject,M=g.isStringObject,S=g.isBooleanObject,E=g.isBigIntObject,C=g.isSymbolObject,z=g.isFloat32Array,L=g.isFloat64Array;function O(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function D(t){return Object.keys(t).filter(O).concat(d(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function I(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function F(t,e,r,n){if(t===e)return 0!==t||!r||c(t,e);if(r){if("object"!==o(t))return"number"==typeof t&&u(t)&&u(e);if("object"!==o(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==o(t))return(null===e||"object"!==o(e))&&t==e;if(null===e||"object"!==o(e))return!1}var i,s,l,d,h=m(t);if(h!==m(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var f=D(t),p=D(e);return f.length===p.length&&P(t,e,r,n,1,f)}if("[object Object]"===h&&(!x(t)&&x(e)||!_(t)&&_(e)))return!1;if(y(t)){if(!y(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(w(t)){if(!w(e)||(l=t,d=e,!(a?l.source===d.source&&l.flags===d.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(d))))return!1}else if(k(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(v(t)){if(r||!z(t)&&!L(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===I(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;var g=D(t),O=D(e);return g.length===O.length&&P(t,e,r,n,0,g)}if(_(t))return!(!_(e)||t.size!==e.size)&&P(t,e,r,n,2);if(x(t))return!(!x(e)||t.size!==e.size)&&P(t,e,r,n,3);if(b(t)){if(s=e,(i=t).byteLength!==s.byteLength||0!==I(new Uint8Array(i),new Uint8Array(s)))return!1}else if(A(t)&&!function(t,e){return T(t)?T(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):M(t)?M(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):S(t)?S(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):E(t)?E(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):C(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return P(t,e,r,n,0)}function R(t,e){return e.filter((function(e){return p(t,e)}))}function P(t,e,r,i,a,c){if(5===arguments.length){c=Object.keys(t);var u=Object.keys(e);if(c.length!==u.length)return!1}for(var h=0;h<c.length;h++)if(!f(e,c[h]))return!1;if(r&&5===arguments.length){var m=d(t);if(0!==m.length){var g=0;for(h=0;h<m.length;h++){var b=m[h];if(p(t,b)){if(!p(e,b))return!1;c.push(b),g++}else if(p(e,b))return!1}var v=d(e);if(m.length!==v.length&&R(e,v).length!==g)return!1}else{var y=d(e);if(0!==y.length&&0!==R(e,y).length)return!1}}if(0===c.length&&(0===a||1===a&&0===t.length||0===t.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var x=i.val1.get(t);if(void 0!==x){var w=i.val2.get(e);if(void 0!==w)return x===w}i.position++}i.val1.set(t,i.position),i.val2.set(e,i.position);var _=function(t,e,r,i,a,c){var d=0;if(2===c){if(!function(t,e,r,n){for(var i=null,a=s(t),l=0;l<a.length;l++){var c=a[l];if("object"===o(c)&&null!==c)null===i&&(i=new Set),i.add(c);else if(!e.has(c)){if(r)return!1;if(!B(t,e,c))return!1;null===i&&(i=new Set),i.add(c)}}if(null!==i){for(var d=s(e),u=0;u<d.length;u++){var h=d[u];if("object"===o(h)&&null!==h){if(!j(i,h,r,n))return!1}else if(!r&&!t.has(h)&&!j(i,h,r,n))return!1}return 0===i.size}return!0}(t,e,r,a))return!1}else if(3===c){if(!function(t,e,r,i){for(var a=null,s=l(t),c=0;c<s.length;c++){var d=n(s[c],2),u=d[0],h=d[1];if("object"===o(u)&&null!==u)null===a&&(a=new Set),a.add(u);else{var f=e.get(u);if(void 0===f&&!e.has(u)||!F(h,f,r,i)){if(r)return!1;if(!U(t,e,u,h,i))return!1;null===a&&(a=new Set),a.add(u)}}}if(null!==a){for(var p=l(e),m=0;m<p.length;m++){var g=n(p[m],2),b=g[0],v=g[1];if("object"===o(b)&&null!==b){if(!V(a,t,b,v,r,i))return!1}else if(!(r||t.has(b)&&F(t.get(b),v,!1,i)||V(a,t,b,v,!1,i)))return!1}return 0===a.size}return!0}(t,e,r,a))return!1}else if(1===c)for(;d<t.length;d++){if(!f(t,d)){if(f(e,d))return!1;for(var u=Object.keys(t);d<u.length;d++){var h=u[d];if(!f(e,h)||!F(t[h],e[h],r,a))return!1}return u.length===Object.keys(e).length}if(!f(e,d)||!F(t[d],e[d],r,a))return!1}for(d=0;d<i.length;d++){var p=i[d];if(!F(t[p],e[p],r,a))return!1}return!0}(t,e,r,c,i,a);return i.val1.delete(t),i.val2.delete(e),_}function j(t,e,r,n){for(var i=s(t),o=0;o<i.length;o++){var a=i[o];if(F(e,a,r,n))return t.delete(a),!0}return!1}function N(t){switch(o(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(u(t))return!1}return!0}function B(t,e,r){var n=N(r);return null!=n?n:e.has(n)&&!t.has(n)}function U(t,e,r,n,i){var o=N(r);if(null!=o)return o;var a=e.get(o);return!(void 0===a&&!e.has(o)||!F(n,a,!1,i))&&!t.has(o)&&F(n,a,!1,i)}function V(t,e,r,n,i,o){for(var a=s(t),l=0;l<a.length;l++){var c=a[l];if(F(r,c,i,o)&&F(n,e.get(c),i,o))return t.delete(c),!0}return!1}t.exports={isDeepEqual:function(t,e){return F(t,e,!1)},isDeepStrictEqual:function(t,e){return F(t,e,!0)}}},89165:t=>{"use strict";t.exports=Math.max},89170:(t,e,r)=>{"use strict";var n=r(12822),i=n.isPlainObject,o=r(35852),a=r(51137),s=r(3520),l=r(46121),c=r(58389).dfltConfig;function d(t,e){t=n.extendDeep({},t);var r,o,a=Object.keys(t).sort();function s(e,r,n){if(i(r)&&i(e))d(e,r);else if(Array.isArray(r)&&Array.isArray(e)){var a=l.arrayTemplater({_template:t},n);for(o=0;o<r.length;o++){var s=r[o],c=a.newItem(s)._template;c&&d(c,s)}var u=a.defaultItems();for(o=0;o<u.length;o++)r.push(u[o]._template);for(o=0;o<r.length;o++)delete r[o].templateitemname}}for(r=0;r<a.length;r++){var c=a[r],h=t[c];if(c in e?s(h,e[c],c):e[c]=h,u(c)===c)for(var f in e){var p=u(f);f===p||p!==c||f in t||s(h,e[f],c)}}}function u(t){return t.replace(/[0-9]+$/,"")}function h(t,e,r,o,a){var s=a&&r(a);for(var c in t){var d=t[c],f=m(t,c,o),p=m(t,c,a),g=r(p);if(!g){var b=u(c);b!==c&&(g=r(p=m(t,b,a)))}if(!(s&&s===g||!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(d)))if(!g.valType&&i(d))h(d,e,r,f,p);else if(g._isLinkedToArray&&Array.isArray(d))for(var v=!1,y=0,x={},w=0;w<d.length;w++){var _=d[w];if(i(_)){var k=_.name;if(k)x[k]||(h(_,e,r,m(d,y,f),m(d,y,p)),y++,x[k]=1);else if(!v){var A=m(t,l.arrayDefaultKey(c),o),T=m(d,y,f);h(_,e,r,T,m(d,y,p));var M=n.nestedProperty(e,T);n.nestedProperty(e,A).set(M.get()),M.set(null),v=!0}}}else n.nestedProperty(e,f).set(d)}}function f(t,e){return o.getLayoutValObject(t,n.nestedProperty({},e).parts)}function p(t,e){return o.getTraceValObject(t,n.nestedProperty({},e).parts)}function m(t,e,r){return r?Array.isArray(t)?r+"["+e+"]":r+"."+e:e}function g(t){for(var e=0;e<t.length;e++)if(i(t[e]))return!0}function b(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}e.makeTemplate=function(t){t=n.isPlainObject(t)?t:n.getGraphDiv(t),t=n.extendDeep({_context:c},{data:t.data,layout:t.layout}),a.supplyDefaults(t);var e=t.data||[],r=t.layout||{};r._basePlotModules=t._fullLayout._basePlotModules,r._modules=t._fullLayout._modules;var o={data:{},layout:{}};e.forEach((function(t){var e={};h(t,e,p.bind(null,t));var r=n.coerce(t,{},s,"type"),i=o.data[r];i||(i=o.data[r]=[]),i.push(e)})),h(r,o.layout,f.bind(null,r)),delete o.layout.template;var l=r.template;if(i(l)){var u,m,g,b,v,y,x=l.layout;i(x)&&d(x,o.layout);var w=l.data;if(i(w)){for(m in o.data)if(g=w[m],Array.isArray(g)){for(y=(v=o.data[m]).length,b=g.length,u=0;u<y;u++)d(g[u%b],v[u]);for(u=y;u<b;u++)v.push(n.extendDeep({},g[u]))}for(m in w)m in o.data||(o.data[m]=n.extendDeep([],w[m]))}}return o},e.validateTemplate=function(t,e){var r=n.extendDeep({},{_context:c,data:t.data,layout:t.layout}),o=r.layout||{};i(e)||(e=o.template||{});var s=e.layout,l=e.data,d=[];r.layout=o,r.layout.template=e,a.supplyDefaults(r);var h=r._fullLayout,f=r._fullData,p={};if(i(s)?(function t(e,r){for(var n in e)if("_"!==n.charAt(0)&&i(e[n])){var o,a=u(n),s=[];for(o=0;o<r.length;o++)s.push(m(e,n,r[o])),a!==n&&s.push(m(e,a,r[o]));for(o=0;o<s.length;o++)p[s[o]]=1;t(e[n],s)}}(h,["layout"]),function t(e,r){for(var n in e)if(-1===n.indexOf("defaults")&&i(e[n])){var o=m(e,n,r);p[o]?t(e[n],o):d.push({code:"unused",path:o})}}(s,"layout")):d.push({code:"layout"}),i(l)){for(var v,y={},x=0;x<f.length;x++){var w=f[x];y[v=w.type]=(y[v]||0)+1,w._fullInput._template||d.push({code:"missing",index:w.index,traceType:v})}for(v in l){var _=l[v].length,k=y[v]||0;_>k?d.push({code:"unused",traceType:v,templateCount:_,dataCount:k}):k>_&&d.push({code:"reused",traceType:v,templateCount:_,dataCount:k})}}else d.push({code:"data"});if(function t(e,r){for(var n in e)if("_"!==n.charAt(0)){var o=e[n],a=m(e,n,r);i(o)?(Array.isArray(e)&&!1===o._template&&o.templateitemname&&d.push({code:"missing",path:a,templateitemname:o.templateitemname}),t(o,a)):Array.isArray(o)&&g(o)&&t(o,a)}}({data:f,layout:h},""),d.length)return d.map(b)}},89322:(t,e,r)=>{"use strict";var n=r(76699),i=r(46233).counter,o=r(54747),a=r(78920).scales,s=o(a);function l(t){return"`"+t+"`"}t.exports=function(t,e){t=t||"";var r,o,c=(e=e||{}).cLetter||"c",d="onlyIfNumerical"in e?e.onlyIfNumerical:Boolean(t),u="noScale"in e?e.noScale:"marker.line"===t,h="showScaleDflt"in e?e.showScaleDflt:"z"===c,f="string"==typeof e.colorscaleDflt?a[e.colorscaleDflt]:null,p=e.editTypeOverride||"",m=t?t+".":"";"colorAttr"in e?(r=e.colorAttr,o=e.colorAttr):o="in "+l(m+(r={z:"z",c:"color"}[c]));var g=d?" Has an effect only if "+o+" is set to a numerical array.":"",b=c+"auto",v=c+"min",y=c+"max",x=c+"mid",w=l(m+b),_=l(m+v),k=l(m+y),A=_+" and "+k,T={};T[v]=T[y]=void 0;var M={};M[b]=!1;var S={};return"color"===r&&(S.color={valType:"color",arrayOk:!0,editType:p||"style",description:["Sets the",t,"color.","It accepts either a specific color","or an array of numbers that are mapped to the colorscale","relative to the max and min values of the array or relative to",A,"if set."].join(" ")},e.anim&&(S.color.anim=!0)),S[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:T,description:["Determines whether or not the color domain is computed","with respect to the input data (here "+o+") or the bounds set in",A+g,"Defaults to `false` when",A,"are set by the user."].join(" ")},S[v]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:M,description:["Sets the lower bound of the color domain."+g,"Value should have the same units as",o,"and if set,",k,"must be set as well."].join(" ")},S[y]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:M,description:["Sets the upper bound of the color domain."+g,"Value should have the same units as",o,"and if set,",_,"must be set as well."].join(" ")},S[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:T,description:["Sets the mid-point of the color domain by scaling",_,"and/or",k,"to be equidistant to this point."+g,"Value should have the same units as",o+".","Has no effect when",w,"is `false`."].join(" ")},S.colorscale={valType:"colorscale",editType:"calc",dflt:f,impliedEdits:{autocolorscale:!1},description:["Sets the colorscale."+g,"The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in color space,","use",A+".","Alternatively, `colorscale` may be a palette name string","of the following list: "+s+"."].join(" ")},S.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by",l(m+"colorscale")+"."+g,"In case `colorscale` is unspecified or `autocolorscale` is true, the default","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed."].join(" ")},S.reversescale={valType:"boolean",dflt:!1,editType:"plot",description:["Reverses the color mapping if true."+g,"If true,",_,"will correspond to the last color","in the array and",k,"will correspond to the first color."].join(" ")},u||(S.showscale={valType:"boolean",dflt:h,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace."+g].join(" ")},S.colorbar=n),e.noColorAxis||(S.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc",description:["Sets a reference to a shared color axis.","References to these shared color axes are *coloraxis*, *coloraxis2*, *coloraxis3*, etc.","Settings for these shared color axes are set in the layout, under","`layout.coloraxis`, `layout.coloraxis2`, etc.","Note that multiple color scales can be linked to the same color axis."].join(" ")}),S}},89528:t=>{t.exports=function(){var t,e=0,r=!1;function n(e,r){return t.list.push({type:e,data:r?JSON.parse(JSON.stringify(r)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return n("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return n("div_seg",{seg:t,pt:e}),n("chop",{seg:t,pt:e})},statusRemove:function(t){return n("pop_seg",{seg:t})},segmentUpdate:function(t){return n("seg_update",{seg:t})},segmentNew:function(t,e){return n("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return n("rem_seg",{seg:t})},tempStatus:function(t,e,r){return n("temp_status",{seg:t,above:e,below:r})},rewind:function(t){return n("rewind",{seg:t})},status:function(t,e,r){return n("status",{seg:t,above:e,below:r})},vert:function(e){return e===r?t:(r=e,n("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),n("log",{txt:t})},reset:function(){return n("reset")},selected:function(t){return n("selected",{segs:t})},chainStart:function(t){return n("chain_start",{seg:t})},chainRemoveHead:function(t,e){return n("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return n("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return n("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return n("chain_match",{index:t})},chainClose:function(t){return n("chain_close",{index:t})},chainAddHead:function(t,e){return n("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return n("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return n("chain_con",{index1:t,index2:e})},chainReverse:function(t){return n("chain_rev",{index:t})},chainJoin:function(t,e){return n("chain_join",{index1:t,index2:e})},done:function(){return n("done")}}}},89701:t=>{"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},89791:(t,e,r)=>{"use strict";t.exports=r(87494)()?r(63844).Symbol:r(44164)},89927:t=>{"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},90107:t=>{"use strict";function e(t){return!0===t.visible}function r(t){var e=t[0].trace;return!0===e.visible&&0!==e._length}t.exports=function(t){for(var n,i=(n=t,Array.isArray(n)&&Array.isArray(n[0])&&n[0][0]&&n[0][0].trace?r:e),o=[],a=0;a<t.length;a++){var s=t[a];i(s)&&o.push(s)}return o}},90120:(t,e,r)=>{"use strict";var n=r(12822),i=r(17499),o=r(46121),a=r(62799);t.exports=function(t,e){var r=t.modebar||{},s=o.newContainer(e,"modebar");function l(t,e){return n.coerce(r,s,a,t,e)}l("orientation"),l("bgcolor",i.addOpacity(e.paper_bgcolor,.5));var c=i.contrast(i.rgb(e.modebar.bgcolor));l("color",i.addOpacity(c,.3)),l("activecolor",i.addOpacity(c,.7)),l("uirevision",e.uirevision),l("add"),l("remove")}},90156:(t,e,r)=>{"use strict";var n=r(12822),i=r(62309).overrideAll,o=r(96647),a={error_x:n.extendFlat({},o),error_y:n.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var s={error_x:n.extendFlat({},o),error_y:n.extendFlat({},o),error_z:n.extendFlat({},o)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(s,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:r(69440),calc:r(8295),makeComputeError:r(27512),plot:r(42961),style:r(83821),hoverInfo:function(t,e,r){(e.error_y||{}).visible&&(r.yerr=t.yh-t.y,e.error_y.symmetric||(r.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(r.xerr=t.xh-t.x,e.error_x.symmetric||(r.xerrneg=t.x-t.xs))}}},90329:t=>{"use strict";t.exports=function(){var t,e,r=Array.from;return"function"==typeof r&&(e=r(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},90367:t=>{t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},90566:(t,e,r)=>{"use strict";var n=r(17499),i=r(677);t.exports=function(t,e){var r,o;if("lines"===t.mode)return(r=t.line.color)&&n.opacity(r)?r:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var a=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return(o=a&&n.opacity(a)?a:s&&n.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"")?n.opacity(o)<.3?n.addOpacity(o,.3):o:(r=(t.line||{}).color)&&n.opacity(r)&&i.hasLines(t)&&t.line.width?r:t.fillcolor}},90633:(t,e,r)=>{"use strict";t.exports=s;var n=r(27941),i=r(17499),o=r(40666),a=r(12822);function s(t,e,r){this.gd=t,this.container=e,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(t,e,r){var a=this.gd._fullLayout,l=a.width,c=a.height;this.position=t;var d,u,h,f,p=this.position.l,m=this.position.w,g=this.position.t,b=this.position.h,v=this.position.direction,y="down"===v,x="left"===v,w="up"===v,_=m,k=b;y||x||"right"===v||w||(this.position.direction="down",y=!0),y||w?(u=(d=p)+_,y?(h=g,k=(f=Math.min(h+k,c))-h):k=(f=g+k)-(h=Math.max(f-k,0))):(f=(h=g)+k,x?_=(u=p+_)-(d=Math.max(u-_,0)):(d=p,_=(u=Math.min(d+_,l))-d)),this._box={l:d,t:h,w:_,h:k};var A=m>_,T=s.barLength+2*s.barPad,M=s.barWidth+2*s.barPad,S=p,E=g+b;E+M>c&&(E=c-M);var C=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);C.exit().on(".drag",null).remove(),C.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),A?(this.hbar=C.attr({rx:s.barRadius,ry:s.barRadius,x:S,y:E,width:T,height:M}),this._hbarXMin=S+T/2,this._hbarTranslateMax=_-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=b>k,L=s.barWidth+2*s.barPad,O=s.barLength+2*s.barPad,D=p+m,I=g;D+L>l&&(D=l-L);var F=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),z?(this.vbar=F.attr({rx:s.barRadius,ry:s.barRadius,x:D,y:I,width:L,height:O}),this._vbarYMin=I+O/2,this._vbarTranslateMax=k-O):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var R=this.id,P=d-.5,j=z?u+L+.5:u+.5,N=h-.5,B=A?f+M+.5:f+.5,U=a._topdefs.selectAll("#"+R).data(A||z?[0]:[]);if(U.exit().remove(),U.enter().append("clipPath").attr("id",R).append("rect"),A||z?(this._clipRect=U.select("rect").attr({x:Math.floor(P),y:Math.floor(N),width:Math.ceil(j)-Math.floor(P),height:Math.ceil(B)-Math.floor(N)}),this.container.call(o.setClipUrl,R,this.gd),this.bg.attr({x:p,y:g,width:m,height:b})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),A||z){var V=n.behavior.drag().on("dragstart",(function(){n.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var G=n.behavior.drag().on("dragstart",(function(){n.event.sourceEvent.preventDefault(),n.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(G),z&&this.vbar.on(".drag",null).call(G)}this.setTranslate(e,r)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=n.event.dx),this.vbar&&(e-=n.event.dy),this.setTranslate(t,e)},s.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=n.event.deltaY),this.vbar&&(e+=n.event.deltaY),this.setTranslate(t,e)},s.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var r=t+this._hbarXMin,i=r+this._hbarTranslateMax;t=(a.constrain(n.event.x,r,i)-r)/(i-r)*(this.position.w-this._box.w)}if(this.vbar){var o=e+this._vbarYMin,s=o+this._vbarTranslateMax;e=(a.constrain(n.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(t,e)},s.prototype.setTranslate=function(t,e){var r=this.position.w-this._box.w,n=this.position.h-this._box.h;if(t=a.constrain(t||0,0,r),e=a.constrain(e||0,0,n),this.translateX=t,this.translateY=e,this.container.call(o.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var i=t/r;this.hbar.call(o.setTranslate,t+i*this._hbarTranslateMax,e)}if(this.vbar){var s=e/n;this.vbar.call(o.setTranslate,t,e+s*this._vbarTranslateMax)}}},90897:t=>{t.exports=function(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}},91101:t=>{"use strict";t.exports=r,t.exports.float32=t.exports.float=r,t.exports.fract32=t.exports.fract=function(t,e){if(t.length){if(t instanceof Float32Array)return new Float32Array(t.length);e instanceof Float32Array||(e=r(t));for(var n=0,i=e.length;n<i;n++)e[n]=t[n]-e[n];return e}return r(t-r(t))};var e=new Float32Array(1);function r(t){return t.length?t instanceof Float32Array?t:new Float32Array(t):(e[0]=t,e[0])}},91117:(t,e,r)=>{"use strict";var n=r(86626).EventEmitter,i=r(25059),o=r(12822),a=r(13078),s=r(5041),l=r(48402),c=r(40241);t.exports=function(t,e){var r=new n,d=s(t,{format:"png"}),u=d.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);var h=a.getRedrawFunc(u);return i.call("_doPlot",u,d.data,d.layout,d.config).then(h).then((function(){var t=a.getDelay(u._fullLayout);setTimeout((function(){var t=l(u),n=document.createElement("canvas");n.id=o.randstr(),(r=c({format:e.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:n,emitter:r,svg:t})).clean=function(){u&&document.body.removeChild(u)}}),t)})).catch((function(t){r.emit("error",t)})),r}},91200:(t,e,r)=>{"use strict";var n=r(7370),i=r(25059),o=r(12822),a=r(46121),s=r(35677),l=r(86130),c=r(49342),d=r(8736),u=r(84411),h=r(12213),f=r(33322),p=r(65412),m=r(46458),g=r(30632),b=r(21197).WEEKDAY_PATTERN,v=r(21197).HOUR_PATTERN;function y(t,e,r){function i(r,n){return o.coerce(t,e,l.rangebreaks,r,n)}if(i("enabled")){var a=i("bounds");if(a&&a.length>=2){var s,c,d="";if(2===a.length)for(s=0;s<2;s++)if(c=w(a[s])){d=b;break}var u=i("pattern",d);if(u===b)for(s=0;s<2;s++)(c=w(a[s]))&&(e.bounds[s]=a[s]=c-1);if(u)for(s=0;s<2;s++)switch(c=a[s],u){case b:if(!n(c))return void(e.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(e.enabled=!1);e.bounds[s]=a[s]=c;break;case v:if(!n(c))return void(e.enabled=!1);if((c=+c)<0||c>24)return void(e.enabled=!1);e.bounds[s]=a[s]=c}if(!1===r.autorange){var h=r.range;if(h[0]<h[1]){if(a[0]<h[0]&&a[1]>h[1])return void(e.enabled=!1)}else if(a[0]>h[0]&&a[1]<h[1])return void(e.enabled=!1)}}else{var f=i("values");if(!f||!f.length)return void(e.enabled=!1);i("dvalue")}}}t.exports=function(t,e,r,n,v){var x,w=n.letter,_=n.font||{},k=n.splomStash||{},A=r("visible",!n.visibleDflt),T=e._template||{},M=e.type||T.type||"-";"date"===M&&(i.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",n.calendar),n.noTicklabelmode||(x=r("ticklabelmode"))),n.noTicklabelindex||"date"!==M&&"linear"!==M||r("ticklabelindex");var S="";n.noTicklabelposition&&"multicategory"!==M||(S=o.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===x?["outside","inside"]:"x"===w?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),n.noTicklabeloverflow||r("ticklabeloverflow",-1!==S.indexOf("inside")?"hide past domain":"category"===M||"multicategory"===M?"allow":"hide past div"),g(e,v),m(t,e,r,n),f(t,e,r,n),n.noHover||("category"!==M&&r("hoverformat"),n.noUnifiedhovertitle||r("unifiedhovertitle.text"));var E=r("color"),C=E!==l.color.dflt?E:_.color,z=k.label||v._dfltTitle[w];if(h(t,e,r,M,n),!A)return e;r("title.text",z),o.coerceFont(r,"title.font",_,{overrideDflt:{size:o.bigFont(_.size),color:C}}),c(t,e,r,M);var L=n.hasMinor;if(L&&(a.newContainer(e,"minor"),c(t,e,r,M,{isMinor:!0})),u(t,e,r,M,n),d(t,e,r,n),L){var O=n.isMinor;n.isMinor=!0,d(t,e,r,n),n.isMinor=O}p(t,e,r,{dfltColor:E,bgColor:n.bgColor,showGrid:n.showGrid,hasMinor:L,attributes:l}),!L||e.minor.ticks||e.minor.showgrid||delete e.minor,(e.showline||e.ticks)&&r("mirror");var D="multicategory"===M;if(n.noTickson||"category"!==M&&!D||!e.ticks&&!e.showgrid||(D?(r("tickson","boundaries"),delete e.ticklabelposition):r("tickson")),D&&r("showdividers")&&(r("dividercolor"),r("dividerwidth")),"date"===M)if(s(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:y}),e.rangebreaks.length){for(var I=0;I<e.rangebreaks.length;I++)if(e.rangebreaks[I].pattern===b){e._hasDayOfWeekBreaks=!0;break}if(g(e,v),v._has("scattergl")||v._has("splom"))for(var F=0;F<n.data.length;F++){var R=n.data[F];"scattergl"!==R.type&&"splom"!==R.type||(R.visible=!1,o.warn(R.type+" traces do not work on axes with rangebreaks. Setting trace "+R.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function w(t){if("string"==typeof t)return x[t.substr(0,3).toLowerCase()]}},91203:(t,e,r)=>{"use strict";var n=r(17499),i=function(){};t.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=i);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var r=document.createElement("div");r.className="no-webgl",r.style.cursor="pointer",r.style.fontSize="24px",r.style.color=n.defaults[0],r.style.position="absolute",r.style.left=r.style.top="0px",r.style.width=r.style.height="100%",r.style["background-color"]=n.lightLine,r.style["z-index"]=30;var o=document.createElement("p");return o.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",o.style.position="relative",o.style.top="50%",o.style.left="50%",o.style.height="30%",o.style.width="50%",o.style.margin="-15% 0 0 -25%",r.appendChild(o),t.container.appendChild(r),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("https://get.webgl.org")},!1}},91208:t=>{"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},91355:(t,e,r)=>{"use strict";var n=r(7370),i=r(98507).isArrayOrTypedArray;function o(t,e){return function(r){var n,a,s,l,c,d=t;for(l=0;l<e.length-1;l++){if(-1===(n=e[l])){for(a=!0,s=[],c=0;c<d.length;c++)s[c]=o(d[c],e.slice(l+1))(r),s[c]!==s[0]&&(a=!1);return a?s[0]:s}if("number"==typeof n&&!i(d))return;if("object"!=typeof(d=d[n])||null===d)return}if("object"==typeof d&&null!==d&&(s=d[e[l]],r||null!==s))return s}}t.exports=function(t,e){if(n(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";var r,i,a,s,c=e.split(".");for(s=0;s<c.length;s++)if("__"===String(c[s]).slice(0,2))throw"bad property string";for(s=0;s<c.length;){if(r=String(c[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])c[s]=r[1];else{if(0!==s)throw"bad property string";c.splice(0,1)}for(i=r[2].substr(1,r[2].length-2).split("]["),a=0;a<i.length;a++)s++,c.splice(s,0,Number(i[a]))}s++}return"object"!=typeof t?function(t,e,r){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:r,obj:t}}(t,e,c):{set:l(t,c,e),get:o(t,c),astr:e,parts:c,obj:t}};var a=/(^|\.)args\[/;function s(t,e){return void 0===t||null===t&&!e.match(a)}function l(t,e,r){return function(n){var o,a,l=t,h="",f=[[t,h]],p=s(n,r);for(a=0;a<e.length-1;a++){if("number"==typeof(o=e[a])&&!i(l))throw"array index but container is not an array";if(-1===o){if(p=!d(l,e.slice(a+1),n,r))break;return}if(!u(l,o,e[a+1],p))break;if("object"!=typeof(l=l[o])||null===l)throw"container is not an object";h=c(h,o),f.push([l,h])}if(p){if(a===e.length-1&&(delete l[e[a]],Array.isArray(l)&&+e[a]==l.length-1))for(;l.length&&void 0===l[l.length-1];)l.pop()}else l[e[a]]=n}}function c(t,e){var r=e;return n(e)?r="["+e+"]":t&&(r="."+e),t+r}function d(t,e,r,n){var o,a=i(r),c=!0,d=r,h=n.replace("-1",0),f=!a&&s(r,h),p=e[0];for(o=0;o<t.length;o++)h=n.replace("-1",o),a&&(f=s(d=r[o%r.length],h)),f&&(c=!1),u(t,o,p,f)&&l(t[o],e,n.replace("-1",o))(d);return c}function u(t,e,r,n){if(void 0===t[e]){if(n)return!1;t[e]="number"==typeof r?[]:{}}return!0}},91413:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z%27/%3E%3C/svg%3E"},91683:(t,e,r)=>{"use strict";r.d(e,{eS:()=>a,GI:()=>f,El:()=>g,HL:()=>u,JZ:()=>b,Nl:()=>c,VT:()=>d,V6:()=>m,o:()=>h,Lz:()=>l,eB:()=>o,jY:()=>v,HB:()=>p});var n=r(34961),i=r.n(n);function o(t,e){const r=t.querySelector(e);if(null===r)throw Error(`no element matching '${e}'`);const n=e=>{const r=t.dragOffset;i()(void 0!==r,"offset !== undefined");const n=e.clientX-r.x,o=e.clientY-r.y;t.style.left=`${n}px`,t.style.top=`${o}px`},o=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)};r.addEventListener("mousedown",(e=>{const r=e;t.dragOffset={x:r.clientX-t.offsetLeft,y:r.clientY-t.offsetTop},t.style.left=`${t.offsetLeft}px`,t.style.top=`${t.offsetTop}px`,t.style.width=`${t.offsetWidth}px`,t.style.margin="0",t.style.position="absolute",document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",o,!1)}),!1)}class a{constructor(){this.defaultTimeout=0,this.handlersList=[t=>console.warn(t)]}addHandler(t){this.handlersList.push(t)}sendMessage(t,e=0){const r=e||this.defaultTimeout;if(!(r<0))for(const e of this.handlersList)e(t,r)}}const s=["red","yellow","green","blue","orange","aqua","purple","teal","silver"];function l(t){for(const e of s)if(!t.includes(e))return e;throw Error("required more colors than available")}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function d(t,e=document){let r;if(r=e instanceof HTMLElement?e.querySelector(`#${t}`):e.getElementById(t),null===r)throw Error(`unable to get element with id ${t}`);return r}function u(t){return{[Symbol.iterator]:function*(){let e=0;for(const r of t)yield[e,r],e++}}}function h(t,e){i()(t.size>=1,"map.size >= 1");const r=t.keys(),n=r.next().value;return void 0!==e&&n===e?(i()(t.size>=2,"map.size >= 2"),r.next().value):n}function f(t){let e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const n of t)null!==n&&(n>e&&isFinite(n)&&(e=n),n<r&&isFinite(n)&&(r=n));return i()(isFinite(r)&&isFinite(e),"isFinite(min) && isFinite(max)"),{max:e,min:r}}function p(){throw Error("unreachable code entered, this is a bug")}function m(t){return"string"!=typeof t?(i()(t instanceof HTMLElement,"element instanceof HTMLElement"),t):d(t)}function g(t,e){let r,n=0,i=t.length-1;for(;n<=i;){if(r=n+i>>>1,t[r]===e)return r;t[r]<e?n=r+1:i=r-1}return-1}function b(t,e=4){if(0===t)return"0";if(t>0){if(t<Math.pow(10,e)&&t>.9*Math.pow(.1,e-2)){if(Number.isInteger(t))return t.toString();{let r=t.toFixed(e-1).substring(0,e);return"."===r[3]&&(r=r.substring(0,e-1)),r}}return t.toExponential(0).replace("+","")}if(t>-Math.pow(10,e-1)&&t<-.9*Math.pow(.1,e-3)){if(Number.isInteger(t))return t.toString();{let r=t.toFixed(e-1).substring(0,e);return"."===r[3]&&(r=r.substring(0,e)),r}}return t.toExponential(0).replace("+","")}function v(t,e,r){let n=t;switch(e){case"inverse":n=r?`(${n})<sup>-1</sup>`:`(${n})`;break;case"log":n=r?`log<sub>10</sub>(${n})`:`log(${n})`;break;case"sqrt":n=r?`&#x221A;(${n})`:`(${n})`}return n}},91886:(t,e,r)=>{"use strict";var n=r(49538);e.isOpenSymbol=function(t){return"string"==typeof t?n.OPEN_RE.test(t):t%200>100},e.isDotSymbol=function(t){return"string"==typeof t?n.DOT_RE.test(t):t>200}},92173:(t,e,r)=>{"use strict";var n=r(90897);function i(t,e){null==e&&(e=!0);var r=t[0],i=t[1],o=t[2],a=t[3];return null==a&&(a=e?1:255),e&&(r*=255,i*=255,o*=255,a*=255),16777216*(r=255&n(r,0,255))+((i=255&n(i,0,255))<<16)+((o=255&n(o,0,255))<<8)+(255&n(a,0,255))}t.exports=i,t.exports.to=i,t.exports.from=function(t,e){var r=(t=+t)>>>24,n=(16711680&t)>>>16,i=(65280&t)>>>8,o=255&t;return!1===e?[r,n,i,o]:[r/255,n/255,i/255,o/255]}},92228:t=>{"use strict";t.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%2333b5e5%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},92425:(t,e,r)=>{"use strict";var n=r(98260).extendFlat,i=r(89322),o=r(78920).scales,a="Note that `autocolorscale` must be true for this attribute to work.";t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc",description:["Sets the default sequential colorscale for positive values.",a].join(" ")},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc",description:["Sets the default sequential colorscale for negative values.",a].join(" ")},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc",description:["Sets the default diverging colorscale.",a].join(" ")}},coloraxis:n({_isSubplotObj:!0,editType:"calc",description:[""].join(" ")},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},92578:(t,e,r)=>{"use strict";var n=r(89701).FROM_BL;t.exports=function(t,e,r){void 0===r&&(r=n[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=i[0]+(i[1]-i[0])*r;t.range=t._input.range=[t.l2r(o+(i[0]-o)*e),t.l2r(o+(i[1]-o)*e)],t.setScale()}},92601:t=>{"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},92620:(t,e,r)=>{"use strict";var n=r(75717).dot,i=r(32994).BADNUM,o=t.exports={};o.tester=function(t){var e,r=t.slice(),n=r[0][0],o=n,a=r[0][1],s=a;for(r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),e=1;e<r.length;e++)n=Math.min(n,r[e][0]),o=Math.max(o,r[e][0]),a=Math.min(a,r[e][1]),s=Math.max(s,r[e][1]);var l,c=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(c=!0,l=function(t){return t[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(c=!0,l=function(t){return t[1]===r[0][1]}));var d=!0,u=r[0];for(e=1;e<r.length;e++)if(u[0]!==r[e][0]||u[1]!==r[e][1]){d=!1;break}return{xmin:n,xmax:o,ymin:a,ymax:s,pts:r,contains:c?function(t,e){var r=t[0],c=t[1];return!(r===i||r<n||r>o||c===i||c<a||c>s||e&&l(t))}:function(t,e){var l=t[0],c=t[1];if(l===i||l<n||l>o||c===i||c<a||c>s)return!1;var d,u,h,f,p,m=r.length,g=r[0][0],b=r[0][1],v=0;for(d=1;d<m;d++)if(u=g,h=b,g=r[d][0],b=r[d][1],!(l<(f=Math.min(u,g))||l>Math.max(u,g)||c>Math.max(h,b)))if(c<Math.min(h,b))l!==f&&v++;else{if(c===(p=g===u?c:h+(l-u)*(b-h)/(g-u)))return 1!==d||!e;c<=p&&l!==f&&v++}return v%2==1},isRect:c,degenerate:d}},o.isSegmentBent=function(t,e,r,i){var o,a,s,l=t[e],c=[t[r][0]-l[0],t[r][1]-l[1]],d=n(c,c),u=Math.sqrt(d),h=[-c[1]/u,c[0]/u];for(o=e+1;o<r;o++)if(a=[t[o][0]-l[0],t[o][1]-l[1]],(s=n(a,c))<0||s>d||Math.abs(n(a,h))>i)return!0;return!1},o.filter=function(t,e){var r=[t[0]],n=0,i=0;function a(a){t.push(a);var s=r.length,l=n;r.splice(i+1);for(var c=l+1;c<t.length;c++)(c===t.length-1||o.isSegmentBent(t,l,c+1,e))&&(r.push(t[c]),r.length<s-2&&(n=c,i=r.length-1),l=c)}return t.length>1&&a(t.pop()),{addPt:a,raw:t,filtered:r}}},92903:(t,e,r)=>{"use strict";var n=r(25059);t.exports=function(t,e){for(var r=t._context.locale,i=0;i<2;i++){for(var o=t._context.locales,a=0;a<2;a++){var s=(o[r]||{}).dictionary;if(s){var l=s[e];if(l)return l}o=n.localeRegistry}var c=r.split("-")[0];if(c===r)break;r=c}return e}},92911:t=>{"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},92912:(t,e,r)=>{"use strict";var n=r(50459),i=r(45684),o=n("RegExp.prototype.exec"),a=r(48744);t.exports=function(t){if(!i(t))throw new a("`regex` must be a RegExp");return function(e){return null!==o(t,e)}}},93272:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},93459:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822),o=r(75815),a=r(15389),s=r(32994).BADNUM,l=r(677),c=r(45065),d=r(55508),u=r(58146);function h(t,e,r,n,i,a,s){var c=e._length,d=t._fullLayout,u=r._id,h=n._id,f=d._firstScatter[m(e)]===e.uid,p=(g(e,d,r,n)||{}).orientation,b=e.fill;r._minDtick=0,n._minDtick=0;var v={padded:!0},y={padded:!0};s&&(v.ppad=y.ppad=s);var x=c<2||i[0]!==i[c-1]||a[0]!==a[c-1];x&&("tozerox"===b||"tonextx"===b&&(f||"h"===p))?v.tozero=!0:(e.error_y||{}).visible||"tonexty"!==b&&"tozeroy"!==b&&(l.hasMarkers(e)||l.hasText(e))||(v.padded=!1,v.ppad=0),x&&("tozeroy"===b||"tonexty"===b&&(f||"v"===p))?y.tozero=!0:"tonextx"!==b&&"tozerox"!==b||(y.padded=!1),u&&(e._extremes[u]=o.findExtremes(r,i,v)),h&&(e._extremes[h]=o.findExtremes(n,a,y))}function f(t,e){if(l.hasMarkers(t)){var r,n=t.marker,a=1.6*(t.marker.sizeref||1);if(r="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/a),3)}:function(t){return Math.max((t||0)/a,3)},i.isArrayOrTypedArray(n.size)){var s={type:"linear"};o.setConvert(s);for(var c=s.makeCalcdata(t.marker,"size"),d=new Array(e),u=0;u<e;u++)d[u]=r(c[u]);return d}return r(n.size)}}function p(t,e){var r=m(e),n=t._firstScatter;n[r]||(n[r]=e.uid)}function m(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function g(t,e,r,n){var i=t.stackgroup;if(i){var o=e._scatterStackOpts[r._id+n._id][i],a="v"===o.orientation?n:r;return"linear"===a.type||"log"===a.type?o:void 0}}t.exports={calc:function(t,e){var r,l,m,b,v,y,x=t._fullLayout,w=e._xA=o.getFromId(t,e.xaxis||"x","x"),_=e._yA=o.getFromId(t,e.yaxis||"y","y"),k=w.makeCalcdata(e,"x"),A=_.makeCalcdata(e,"y"),T=a(e,w,"x",k),M=a(e,_,"y",A),S=T.vals,E=M.vals,C=e._length,z=new Array(C),L=e.ids,O=g(e,x,w,_),D=!1;p(x,e);var I,F="x",R="y";O?(i.pushUnique(O.traceIndices,e.index),(r="v"===O.orientation)?(R="s",I="x"):(F="s",I="y"),v="interpolate"===O.stackgaps):h(t,e,w,_,S,E,f(e,C));var P=!!e.xperiodalignment,j=!!e.yperiodalignment;for(l=0;l<C;l++){var N=z[l]={},B=n(S[l]),U=n(E[l]);B&&U?(N[F]=S[l],N[R]=E[l],P&&(N.orig_x=k[l],N.xEnd=T.ends[l],N.xStart=T.starts[l]),j&&(N.orig_y=A[l],N.yEnd=M.ends[l],N.yStart=M.starts[l])):O&&(r?B:U)?(N[I]=r?S[l]:E[l],N.gap=!0,v?(N.s=s,D=!0):N.s=0):N[F]=N[R]=s,L&&(N.id=String(L[l]))}if(d(z,e),c(t,e),u(z,e),O){for(l=0;l<z.length;)z[l][I]===s?z.splice(l,1):l++;if(i.sort(z,(function(t,e){return t[I]-e[I]||t.i-e.i})),D){for(l=0;l<z.length-1&&z[l].gap;)l++;for((y=z[l].s)||(y=z[l].s=0),m=0;m<l;m++)z[m].s=y;for(b=z.length-1;b>l&&z[b].gap;)b--;for(y=z[b].s,m=z.length-1;m>b;m--)z[m].s=y;for(;l<b;)if(z[++l].gap){for(m=l+1;z[m].gap;)m++;for(var V=z[l-1][I],G=z[l-1].s,H=(z[m].s-G)/(z[m][I]-V);l<m;)z[l].s=G+(z[l][I]-V)*H,l++}}}return z},calcMarkerSize:f,calcAxisExpansion:h,setFirstScatter:p,getStackOpts:g}},93729:(t,e,r)=>{"use strict";var n=r(99246),i=r(80394),o=r(92601),a=r(89701).LINE_SPACING,s=o.name;function l(t){var e=t&&t[s];return e&&e.visible}e.isVisible=l,e.makeData=function(t){for(var e=n.list({_fullLayout:t},"x",!0),r=t.margin,i=[],o=0;o<e.length;o++){var a=e[o];if(l(a)){i.push(a);var c=a[s];c._id=s+a._id,c._height=(t.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}t._rangeSliderData=i},e.autoMarginOpts=function(t,e){var r=t._fullLayout,n=e[s],l=e._id.charAt(0),c=0,d=0;return"bottom"===e.side&&(c=e._depth,e.title.text!==r._dfltTitle[l]&&(d=1.5*e.title.font.size+10+n._offsetShift,d+=(e.title.text.match(i.BR_TAG_ALL)||[]).length*e.title.font.size*a)),{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:n._height+c+Math.max(r.margin.b,d),pad:o.extraPad+2*n._offsetShift}}},93767:(t,e,r)=>{"use strict";var n=r(20450)();t.exports=function(t){return t!==n&&null!==t}},94077:t=>{"use strict";t.exports=Math.pow},94179:(t,e,r)=>{"use strict";var n=r(17478);t.exports=function(t){return!!n(t)}},94234:t=>{"use strict";t.exports=Error},94316:t=>{"use strict";t.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')},94461:(t,e,r)=>{"use strict";var n=r(7370),i=r(12822),o=r(52467),a=r(81692),s=r(78920).isValid,l=r(25059).traceIs;function c(t,e){var r=e.slice(0,e.length-1);return e?i.nestedProperty(t,r).get()||{}:t}t.exports=function t(e,r,d,u,h){var f=h.prefix,p=h.cLetter,m="_module"in r,g=c(e,f),b=c(r,f),v=c(r._template||{},f)||{},y=function(){return delete e.coloraxis,delete r.coloraxis,t(e,r,d,u,h)};if(m){var x=d._colorAxes||{},w=u(f+"coloraxis");if(w){var _=l(r,"contour")&&i.nestedProperty(r,"contours.coloring").get()||"heatmap",k=x[w];return void(k?(k[2].push(y),k[0]!==_&&(k[0]=!1,i.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[w]=[_,r,[y]])}}var A=g[p+"min"],T=g[p+"max"],M=n(A)&&n(T)&&A<T;u(f+p+"auto",!M)?u(f+p+"mid"):(u(f+p+"min"),u(f+p+"max"));var S,E,C=g.colorscale,z=v.colorscale;void 0!==C&&(S=!s(C)),void 0!==z&&(S=!s(z)),u(f+"autocolorscale",S),u(f+"colorscale"),u(f+"reversescale"),"marker.line."!==f&&(f&&m&&(E=o(g)),u(f+"showscale",E)&&(f&&v&&(b._template=v),a(g,b,d)))}},94638:t=>{function e(t,e,r){var n=[];return t.forEach((function(t){var i=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[i]&&n.push({id:r?r.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})})),r&&r.selected(n),n}var r={union:function(t,r){return e(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],r)},intersect:function(t,r){return e(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],r)},difference:function(t,r){return e(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],r)},differenceRev:function(t,r){return e(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],r)},xor:function(t,r){return e(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],r)}};t.exports=r},94646:(t,e,r)=>{"use strict";t.exports=r(88479)},94698:(t,e,r)=>{"use strict";var n=r(9994);t.exports=function(t){var e;return arguments.length>1&&(t=arguments),"string"==typeof t?t=t.split(/\s/).map(parseFloat):"number"==typeof t&&(t=[t]),t.length&&"number"==typeof t[0]?e=1===t.length?{width:t[0],height:t[0],x:0,y:0}:2===t.length?{width:t[0],height:t[1],x:0,y:0}:{x:t[0],y:t[1],width:t[2]-t[0]||0,height:t[3]-t[1]||0}:t&&(e={x:(t=n(t,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:t.top||0},null==t.width?t.right?e.width=t.right-e.x:e.width=0:e.width=t.width,null==t.height?t.bottom?e.height=t.bottom-e.y:e.height=0:e.height=t.height),e}},94825:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=new Date,i=new Date;function o(t,e,r,a){function s(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return s.floor=function(e){return t(e=new Date(+e)),e},s.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},s.round=function(t){var e=s(t),r=s.ceil(t);return t-e<r-t?e:r},s.offset=function(t,r){return e(t=new Date(+t),null==r?1:Math.floor(r)),t},s.range=function(r,n,i){var o,a=[];if(r=s.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return a;do{a.push(o=new Date(+r)),e(r,i),t(r)}while(o<r&&r<n);return a},s.filter=function(r){return o((function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)}),(function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;e(t,-1),!r(t););else for(;--n>=0;)for(;e(t,1),!r(t););}))},r&&(s.count=function(e,o){return n.setTime(+e),i.setTime(+o),t(n),t(i),Math.floor(r(n,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}},95768:t=>{"use strict";t.exports=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter((function(e){return void 0!==t[e]}));if(e.every((function(r){return t[r]===t[e[0]]}))||1===e.length)return t[e[0]]}},95997:(t,e,r)=>{"use strict";var n=r(25059),i=r(12822);t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(98368)}}},layoutAttributes:r(98368),handleDefaults:r(76023),includeBasePlot:function(t,e){var r=n.subplotsRegistry.gl3d;if(r)for(var o=r.attrRegex,a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];o.test(l)&&(t[l].annotations||[]).length&&(i.pushUnique(e._basePlotModules,r),i.pushUnique(e._subplots.gl3d,l))}},convert:r(81030),draw:r(86191)}},96144:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>b});var n=r(85072),i=r.n(n),o=r(97825),a=r.n(o),s=r(77659),l=r.n(s),c=r(55056),d=r.n(c),u=r(10540),h=r.n(u),f=r(41113),p=r.n(f),m=r(5955),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const b=m.A&&m.A.locals?m.A.locals:void 0},96360:(t,e,r)=>{"use strict";var n=r(51645),i=r(98331),o=r(86373),a=r(69499),s=r(12822),l=r(14295).selectMode,c=r(41246),d=r(677),u=r(57931),h=r(4673).styleTextSelection,f={};function p(t,e,r,n){var i=t._size,o=t.width*n,a=t.height*n,s=i.l*n,l=i.b*n,c=i.r*n,d=i.t*n,u=i.w*n,h=i.h*n;return[s+e.domain[0]*u,l+r.domain[0]*h,o-c-(1-e.domain[1])*u,a-d-(1-r.domain[1])*h]}(t.exports=function(t,e,r){if(r.length){var m,g,b=t._fullLayout,v=e._scene,y=e.xaxis,x=e.yaxis;if(v)if(c(t,["ANGLE_instanced_arrays","OES_element_index_uint"],f)){var w=v.count,_=b._glcanvas.data()[0].regl;if(u(t,e,r),v.dirty){if(!v.line2d&&!v.error2d||v.scatter2d||v.fill2d||v.glText||_.clear({color:!0,depth:!0}),!0===v.error2d&&(v.error2d=o(_)),!0===v.line2d&&(v.line2d=i(_)),!0===v.scatter2d&&(v.scatter2d=n(_)),!0===v.fill2d&&(v.fill2d=i(_)),!0===v.glText)for(v.glText=new Array(w),m=0;m<w;m++)v.glText[m]=new a(_);if(v.glText){if(w>v.glText.length){var k=w-v.glText.length;for(m=0;m<k;m++)v.glText.push(new a(_))}else if(w<v.glText.length){var A=v.glText.length-w;v.glText.splice(w,A).forEach((function(t){t.destroy()}))}for(m=0;m<w;m++)v.glText[m].update(v.textOptions[m])}if(v.line2d&&(v.line2d.update(v.lineOptions),v.lineOptions=v.lineOptions.map((function(t){if(t&&t.positions){for(var e=t.positions,r=0;r<e.length&&(isNaN(e[r])||isNaN(e[r+1]));)r+=2;for(var n=e.length-2;n>r&&(isNaN(e[n])||isNaN(e[n+1]));)n-=2;t.positions=e.slice(r,n+2)}return t})),v.line2d.update(v.lineOptions)),v.error2d){var T=(v.errorXOptions||[]).concat(v.errorYOptions||[]);v.error2d.update(T)}v.scatter2d&&v.scatter2d.update(v.markerOptions),v.fillOrder=s.repeat(null,w),v.fill2d&&(v.fillOptions=v.fillOptions.map((function(t,e){var n=r[e];if(t&&n&&n[0]&&n[0].trace){var i,o,a=n[0],s=a.trace,l=a.t,c=v.lineOptions[e],d=[];s._ownfill&&d.push(e),s._nexttrace&&d.push(e+1),d.length&&(v.fillOrder[e]=d);var u,h,f=[],p=c&&c.positions||l.positions;if("tozeroy"===s.fill){for(u=0;u<p.length&&isNaN(p[u+1]);)u+=2;for(h=p.length-2;h>u&&isNaN(p[h+1]);)h-=2;0!==p[u+1]&&(f=[p[u],0]),f=f.concat(p.slice(u,h+2)),0!==p[h+1]&&(f=f.concat([p[h],0]))}else if("tozerox"===s.fill){for(u=0;u<p.length&&isNaN(p[u]);)u+=2;for(h=p.length-2;h>u&&isNaN(p[h]);)h-=2;0!==p[u]&&(f=[0,p[u+1]]),f=f.concat(p.slice(u,h+2)),0!==p[h]&&(f=f.concat([0,p[h+1]]))}else if("toself"===s.fill||"tonext"===s.fill){for(f=[],i=0,t.splitNull=!0,o=0;o<p.length;o+=2)(isNaN(p[o])||isNaN(p[o+1]))&&((f=f.concat(p.slice(i,o))).push(p[i],p[i+1]),f.push(null,null),i=o+2);f=f.concat(p.slice(i)),i&&f.push(p[i],p[i+1])}else{var m=s._nexttrace;if(m){var g=v.lineOptions[e+1];if(g){var b=g.positions;if("tonexty"===s.fill){for(f=p.slice(),e=Math.floor(b.length/2);e--;){var y=b[2*e],x=b[2*e+1];isNaN(y)||isNaN(x)||f.push(y,x)}t.fill=m.fillcolor}}}}if(s._prevtrace&&"tonext"===s._prevtrace.fill){var w=v.lineOptions[e-1].positions,_=f.length/2,k=[i=_];for(o=0;o<w.length;o+=2)(isNaN(w[o])||isNaN(w[o+1]))&&(k.push(o/2+_+1),i=o+2);f=f.concat(w),t.hole=k}return t.fillmode=s.fill,t.opacity=s.opacity,t.positions=f,t}})),v.fill2d.update(v.fillOptions))}var M=b.dragmode,S=l(M),E=b.clickmode.indexOf("select")>-1;for(m=0;m<w;m++){var C=r[m][0],z=C.trace,L=C.t,O=L.index,D=z._length,I=L.x,F=L.y;if(z.selectedpoints||S||E){if(S||(S=!0),z.selectedpoints){var R=v.selectBatch[O]=s.selIndices2selPoints(z),P={};for(g=0;g<R.length;g++)P[R[g]]=1;var j=[];for(g=0;g<D;g++)P[g]||j.push(g);v.unselectBatch[O]=j}var N=L.xpx=new Array(D),B=L.ypx=new Array(D);for(g=0;g<D;g++)N[g]=y.c2p(I[g]),B[g]=x.c2p(F[g])}else L.xpx=L.ypx=null}if(S){if(v.select2d||(v.select2d=n(b._glcanvas.data()[1].regl)),v.scatter2d){var U=new Array(w);for(m=0;m<w;m++)U[m]=v.selectBatch[m].length||v.unselectBatch[m].length?v.markerUnselectedOptions[m]:{};v.scatter2d.update(U)}v.select2d&&(v.select2d.update(v.markerOptions),v.select2d.update(v.markerSelectedOptions)),v.glText&&r.forEach((function(t){var e=((t||[])[0]||{}).trace||{};d.hasText(e)&&h(t)}))}else v.scatter2d&&v.scatter2d.update(v.markerOptions);var V={viewport:p(b,y,x,t._context.plotGlPixelRatio),range:[(y._rl||y.range)[0],(x._rl||x.range)[0],(y._rl||y.range)[1],(x._rl||x.range)[1]]},G=s.repeat(V,v.count);v.fill2d&&v.fill2d.update(G),v.line2d&&v.line2d.update(G),v.error2d&&v.error2d.update(G.concat(G)),v.scatter2d&&v.scatter2d.update(G),v.select2d&&v.select2d.update(G),v.glText&&v.glText.forEach((function(t){t.update(V)}))}else v.init()}}).reglPrecompiled=f},96402:t=>{t.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},96414:(t,e,r)=>{"use strict";var n=r(677);t.exports=function(t,e){var r,i,o,a,s=t.cd,l=t.xaxis,c=t.yaxis,d=[],u=s[0].trace;if(!n.hasMarkers(u)&&!n.hasText(u))return[];if(!1===e)for(r=0;r<s.length;r++)s[r].selected=0;else for(r=0;r<s.length;r++)i=s[r],o=l.c2p(i.x),a=c.c2p(i.y),null!==i.i&&e.contains([o,a],!1,r,t)?(d.push({pointNumber:i.i,x:l.c2d(i.x),y:c.c2d(i.y)}),i.selected=1):i.selected=0;return d}},96647:t=>{"use strict";t.exports={visible:{valType:"boolean",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant*, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the square of the","underlying data.","If *data*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style",description:"Sets the stroke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc"}},96658:(t,e,r)=>{"use strict";var n=r(12822),i=r(75815),o=r(35677),a=r(3653);function s(t,e,r){function o(r,i){return n.coerce(t,e,a,r,i)}var s=o("source");if(!o("visible",!!s))return e;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:r},c=["x","y"],d=0;d<2;d++){var u=c[d],h=i.coerceRef(t,e,l,u,"paper",void 0);"paper"!==h&&i.getFromId(l,h)._imgIndices.push(e._index),i.coercePosition(e,l,o,h,u,0)}return e}t.exports=function(t,e){o(t,e,{name:"images",handleItemDefaults:s})}},97e3:(t,e,r)=>{var n=r(22366);t.exports=function(t,e,r){if(!t)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(t)&&t[0]&&"number"==typeof t[0][0]){var i,o,a,s,l=t[0].length,c=t.length*l;e&&"string"!=typeof e||(e=new(n(e||"float32"))(c+r));var d=e.length-r;if(c!==d)throw new Error("source length "+c+" ("+l+"x"+t.length+") does not match destination length "+d);for(i=0,a=r;i<t.length;i++)for(o=0;o<l;o++)e[a++]=null===t[i][o]?NaN:t[i][o]}else if(e&&"string"!=typeof e)e.set(t,r);else{var u=n(e||"float32");if(Array.isArray(t)||"array"===e)for(i=0,a=r,s=(e=new u(t.length+r)).length;a<s;a++,i++)e[a]=null===t[i]?NaN:t[i];else 0===r?e=new u(t):(e=new u(t.length+r)).set(t,r)}return e}},97825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},97833:(t,e,r)=>{"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:r(15524),supplyLayoutDefaults:r(64083),draw:r(67739),style:r(26972)}},97883:t=>{t.exports=function(t){var e=0,r=0,n=0,i=0;return t.map((function(t){var o=(t=t.slice())[0],a=o.toUpperCase();if(o!=a)switch(t[0]=a,o){case"a":t[6]+=n,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=n;break;default:for(var s=1;s<t.length;)t[s++]+=n,t[s++]+=i}switch(a){case"Z":n=e,i=r;break;case"H":n=t[1];break;case"V":i=t[1];break;case"M":n=e=t[1],i=r=t[2];break;default:n=t[t.length-2],i=t[t.length-1]}return t}))}},97905:t=>{"use strict";t.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},98030:(t,e,r)=>{"use strict";var n=r(62309).overrideAll,i=r(53572),o=r(8214),a=r(47388).KO,s=r(12822),l=r(25853),c="gl3d",d="scene";e.name=c,e.attr=d,e.idRoot=d,e.idRegex=e.attrRegex=s.counterRegex("scene"),e.attributes=r(816),e.layoutAttributes=r(41019),e.baseLayoutAttrOverrides=n({hoverlabel:i.hoverlabel},"plot","nested"),e.supplyLayoutDefaults=r(13351),e.plot=function(t){for(var e=t._fullLayout,r=t._fullData,n=e._subplots[c],i=0;i<n.length;i++){var s=n[i],l=a(r,c,s),d=e[s],u=d.camera,h=d._scene;h||(h=new o({id:s,graphDiv:t,container:t.querySelector(".gl-container"),staticPlot:t._context.staticPlot,plotGlPixelRatio:t._context.plotGlPixelRatio,camera:u},e),d._scene=h),h.viewInitial||(h.viewInitial={up:{x:u.up.x,y:u.up.y,z:u.up.z},eye:{x:u.eye.x,y:u.eye.y,z:u.eye.z},center:{x:u.center.x,y:u.center.y,z:u.center.z}}),h.plot(l,e,t.layout)}},e.clean=function(t,e,r,n){for(var i=n._subplots[c]||[],o=0;o<i.length;o++){var a=i[o];!e[a]&&n[a]._scene&&(n[a]._scene.destroy(),n._infolayer&&n._infolayer.selectAll(".annotation-"+a).remove())}},e.toSVG=function(t){for(var e=t._fullLayout,r=e._subplots[c],n=e._size,i=0;i<r.length;i++){var o=e[r[i]],a=o.domain,s=o._scene,d=s.toImage("png");e._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":d,x:n.l+n.w*a.x[0],y:n.t+n.h*(1-a.y[1]),width:n.w*(a.x[1]-a.x[0]),height:n.h*(a.y[1]-a.y[0]),preserveAspectRatio:"none"}),s.destroy()}},e.cleanId=function(t){if(t.match(/^scene[0-9]*$/)){var e=t.substr(5);return"1"===e&&(e=""),d+e}},e.updateFx=function(t){for(var e=t._fullLayout,r=e._subplots[c],n=0;n<r.length;n++)e[r[n]]._scene.updateFx(e.dragmode,e.hovermode)}},98260:(t,e,r)=>{"use strict";var n=r(12517),i=Array.isArray;function o(t,e,r,a){var s,l,c,d,u,h,f,p=t[0],m=t.length;if(2===m&&i(p)&&i(t[1])&&0===p.length){if(f=function(t,e){var r,n;for(r=0;r<t.length;r++){if(null!==(n=t[r])&&"object"==typeof n)return!1;void 0!==n&&(e[r]=n)}return!0}(t[1],p),f)return p;p.splice(0,p.length)}for(var g=1;g<m;g++)for(l in s=t[g])c=p[l],d=s[l],a&&i(d)?p[l]=d:e&&d&&(n(d)||(u=i(d)))?(u?(u=!1,h=c&&i(c)?c:[]):h=c&&n(c)?c:{},p[l]=o([h,d],e,r,a)):(void 0!==d||r)&&(p[l]=d);return p}e.extendFlat=function(){return o(arguments,!1,!1,!1)},e.extendDeep=function(){return o(arguments,!0,!1,!1)},e.extendDeepAll=function(){return o(arguments,!0,!0,!1)},e.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},98331:(t,e,r)=>{"use strict";var n=r(34463),i=r(25359),o=r(34597),a=r(9994),s=r(97e3),l=r(31587),c=r(2433),d=r(91101),u=d.float32,h=d.fract32,f=r(41456),p=r(94698),m=r(72268);function g(t,e){if(!(this instanceof g))return new g(t,e);if("function"==typeof t?(e||(e={}),e.regl=t):e=t,e.length&&(e.positions=e),!(t=e.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=t._gl,this.regl=t,this.passes=[],this.shaders=g.shaders.has(t)?g.shaders.get(t):g.shaders.set(t,g.createShaders(t)).get(t),this.update(e)}t.exports=g,g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new f,g.createShaders=function(t){var e,r=t.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),n={primitive:"triangle strip",instances:t.prop("count"),count:4,offset:0,uniforms:{miterMode:function(t,e){return"round"===e.join?2:1},miterLimit:t.prop("miterLimit"),scale:t.prop("scale"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),translate:t.prop("translate"),thickness:t.prop("thickness"),dashTexture:t.prop("dashTexture"),opacity:t.prop("opacity"),pixelRatio:t.context("pixelRatio"),id:t.prop("id"),dashLength:t.prop("dashLength"),viewport:function(t,e){return[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]},depth:t.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(t,e){return!e.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:t.prop("viewport")},viewport:t.prop("viewport")},i=t(o({vert:"\nprecision highp float;\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n",frag:"\nprecision highp float;\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n",attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:t.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:t.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:t.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},n));try{e=t(o({cull:{enable:!0,face:"back"},vert:"\nprecision highp float;\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n",frag:"\nprecision highp float;\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n",attributes:{lineEnd:{buffer:r,divisor:0,stride:8,offset:0},lineTop:{buffer:r,divisor:0,stride:8,offset:4},aColor:{buffer:t.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:t.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:t.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},n))}catch(t){e=i}return{fill:t({primitive:"triangle",elements:function(t,e){return e.triangles},offset:0,vert:"\nprecision highp float;\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n",frag:"\nprecision highp float;\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n",uniforms:{scale:t.prop("scale"),color:t.prop("fill"),scaleFract:t.prop("scaleFract"),translateFract:t.prop("translateFract"),translate:t.prop("translate"),opacity:t.prop("opacity"),pixelRatio:t.context("pixelRatio"),id:t.prop("id"),viewport:function(t,e){return[e.viewport.x,e.viewport.y,t.viewportWidth,t.viewportHeight]}},attributes:{position:{buffer:t.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:t.prop("positionFractBuffer"),stride:8,offset:8}},blend:n.blend,depth:{enable:!1},scissor:n.scissor,stencil:n.stencil,viewport:n.viewport}),rect:i,miter:e}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var t,e=[],r=arguments.length;r--;)e[r]=arguments[r];e.length&&(t=this).update.apply(t,e),this.draw()},g.prototype.draw=function(){for(var t=this,e=[],r=arguments.length;r--;)e[r]=arguments[r];return(e.length?e:this.passes).forEach((function(e,r){var n;if(e&&Array.isArray(e))return(n=t).draw.apply(n,e);"number"==typeof e&&(e=t.passes[e]),e&&e.count>1&&e.opacity&&(t.regl._refresh(),e.fill&&e.triangles&&e.triangles.length>2&&t.shaders.fill(e),e.thickness&&(e.scale[0]*e.viewport.width>g.precisionThreshold||e.scale[1]*e.viewport.height>g.precisionThreshold||"rect"===e.join||!e.join&&(e.thickness<=2||e.count>=g.maxPoints)?t.shaders.rect(e):t.shaders.miter(e)))})),this},g.prototype.update=function(t){var e=this;if(t){null!=t.length?"number"==typeof t[0]&&(t=[{positions:t}]):Array.isArray(t)||(t=[t]);var r=this.regl,d=this.gl;if(t.forEach((function(t,f){var b=e.passes[f];if(void 0!==t)if(null!==t){if("number"==typeof t[0]&&(t={positions:t}),t=a(t,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),b||(e.passes[f]=b={id:f,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:r.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:r.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},t=o({},g.defaults,t)),null!=t.thickness&&(b.thickness=parseFloat(t.thickness)),null!=t.opacity&&(b.opacity=parseFloat(t.opacity)),null!=t.miterLimit&&(b.miterLimit=parseFloat(t.miterLimit)),null!=t.overlay&&(b.overlay=!!t.overlay,f<g.maxLines&&(b.depth=2*(g.maxLines-1-f%g.maxLines)/g.maxLines-1)),null!=t.join&&(b.join=t.join),null!=t.hole&&(b.hole=t.hole),null!=t.fill&&(b.fill=t.fill?n(t.fill,"uint8"):null),null!=t.viewport&&(b.viewport=p(t.viewport)),b.viewport||(b.viewport=p([d.drawingBufferWidth,d.drawingBufferHeight])),null!=t.close&&(b.close=t.close),null===t.positions&&(t.positions=[]),t.positions){var v,y;if(t.positions.x&&t.positions.y){var x=t.positions.x,w=t.positions.y;y=b.count=Math.max(x.length,w.length),v=new Float64Array(2*y);for(var _=0;_<y;_++)v[2*_]=x[_],v[2*_+1]=w[_]}else v=s(t.positions,"float64"),y=b.count=Math.floor(v.length/2);var k=b.bounds=i(v,2);if(b.fill){for(var A=[],T={},M=0,S=0,E=0,C=b.count;S<C;S++){var z=v[2*S],L=v[2*S+1];isNaN(z)||isNaN(L)||null==z||null==L?(z=v[2*M],L=v[2*M+1],T[S]=M):M=S,A[E++]=z,A[E++]=L}if(t.splitNull){b.count-1 in T||(T[b.count]=b.count-1);var O=Object.keys(T).map(Number).sort((function(t,e){return t-e})),D=[],I=0,F=null!=b.hole?b.hole[0]:null;if(null!=F){var R=m(O,(function(t){return t>=F}));(O=O.slice(0,R)).push(F)}for(var P=function(t){var e=A.slice(2*I,2*O[t]).concat(F?A.slice(2*F):[]),r=(b.hole||[]).map((function(e){return e-F+(O[t]-I)})),n=l(e,r);n=n.map((function(e){return e+I+(e+I<O[t]?0:F-O[t])})),D.push.apply(D,n),I=O[t]+1},j=0;j<O.length;j++)P(j);for(var N=0,B=D.length;N<B;N++)null!=T[D[N]]&&(D[N]=T[D[N]]);b.triangles=D}else{for(var U=l(A,b.hole||[]),V=0,G=U.length;V<G;V++)null!=T[U[V]]&&(U[V]=T[U[V]]);b.triangles=U}}var H=new Float64Array(v);c(H,2,k);var W=new Float64Array(2*y+6);b.close?v[0]===v[2*y-2]&&v[1]===v[2*y-1]?(W[0]=H[2*y-4],W[1]=H[2*y-3]):(W[0]=H[2*y-2],W[1]=H[2*y-1]):(W[0]=H[0],W[1]=H[1]),W.set(H,2),b.close?v[0]===v[2*y-2]&&v[1]===v[2*y-1]?(W[2*y+2]=H[2],W[2*y+3]=H[3],b.count-=1):(W[2*y+2]=H[0],W[2*y+3]=H[1],W[2*y+4]=H[2],W[2*y+5]=H[3]):(W[2*y+2]=H[2*y-2],W[2*y+3]=H[2*y-1],W[2*y+4]=H[2*y-2],W[2*y+5]=H[2*y-1]);var q=u(W);b.positionBuffer(q);var $=h(W,q);b.positionFractBuffer($)}if(t.range?b.range=t.range:b.range||(b.range=b.bounds),(t.range||t.positions)&&b.count){var Y=b.bounds,Z=Y[2]-Y[0],X=Y[3]-Y[1],J=b.range[2]-b.range[0],Q=b.range[3]-b.range[1];b.scale=[Z/J,X/Q],b.translate=[-b.range[0]/J+Y[0]/J||0,-b.range[1]/Q+Y[1]/Q||0],b.scaleFract=h(b.scale),b.translateFract=h(b.translate)}if(t.dashes){var K,tt=0;if(!t.dashes||t.dashes.length<2)tt=1,K=new Uint8Array([255,255,255,255,255,255,255,255]);else{tt=0;for(var et=0;et<t.dashes.length;++et)tt+=t.dashes[et];K=new Uint8Array(tt*g.dashMult);for(var rt=0,nt=255,it=0;it<2;it++)for(var ot=0;ot<t.dashes.length;++ot){for(var at=0,st=t.dashes[ot]*g.dashMult*.5;at<st;++at)K[rt++]=nt;nt^=255}}b.dashLength=tt,b.dashTexture({channels:1,data:K,width:K.length,height:1,mag:"linear",min:"linear"},0,0)}if(t.color){var lt=b.count,ct=t.color;ct||(ct="transparent");var dt=new Uint8Array(4*lt+4);if(Array.isArray(ct)&&"number"!=typeof ct[0]){for(var ut=0;ut<lt;ut++){var ht=n(ct[ut],"uint8");dt.set(ht,4*ut)}dt.set(n(ct[0],"uint8"),4*lt)}else for(var ft=n(ct,"uint8"),pt=0;pt<lt+1;pt++)dt.set(ft,4*pt);b.colorBuffer({usage:"dynamic",type:"uint8",data:dt})}}else e.passes[f]=null})),t.length<this.passes.length){for(var f=t.length;f<this.passes.length;f++){var b=this.passes[f];b&&(b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy())}this.passes.length=t.length}for(var v=[],y=0;y<this.passes.length;y++)null!==this.passes[y]&&v.push(this.passes[y]);return this.passes=v,this}},g.prototype.destroy=function(){return this.passes.forEach((function(t){t.colorBuffer.destroy(),t.positionBuffer.destroy(),t.dashTexture.destroy()})),this.passes.length=0,this}},98368:(t,e,r)=>{"use strict";var n=r(77061),i=r(62309).overrideAll,o=r(46121).templatedArray;t.exports=i(o("annotation",{visible:n.visible,x:{valType:"any",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:n.xanchor,xshift:n.xshift,yanchor:n.yanchor,yshift:n.yshift,text:n.text,textangle:n.textangle,font:n.font,width:n.width,height:n.height,opacity:n.opacity,align:n.align,valign:n.valign,bgcolor:n.bgcolor,bordercolor:n.bordercolor,borderpad:n.borderpad,borderwidth:n.borderwidth,showarrow:n.showarrow,arrowcolor:n.arrowcolor,arrowhead:n.arrowhead,startarrowhead:n.startarrowhead,arrowside:n.arrowside,arrowsize:n.arrowsize,startarrowsize:n.startarrowsize,arrowwidth:n.arrowwidth,standoff:n.standoff,startstandoff:n.startstandoff,hovertext:n.hovertext,hoverlabel:n.hoverlabel,captureevents:n.captureevents}),"calc","from-root")},98387:(t,e,r)=>{"use strict";var n=r(60393).axisHoverFormat;const{hovertemplateAttrs:i,texttemplateAttrs:o,templatefallbackAttrs:a}=r(24131);var s=r(89322),l=r(75058),c=r(68057).T,d=r(68057).k,u=r(40666),h=r(32565),f=r(98260).extendFlat,p=r(43591);function m(t){return{valType:"any",dflt:0,editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the period positioning in milliseconds or *M<n>* on the "+t+" axis.","Special values in the form of *M<n>* could be used to declare","the number of months. In this case `n` must be a positive integer."].join(" ")}}function g(t){return{valType:"any",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the base for period positioning in milliseconds or date string on the "+t+" axis.","When `"+t+"period` is round number of weeks,","the `"+t+"period0` by default would be on a Sunday i.e. 2000-01-02,","otherwise it would be at 2000-01-01."].join(" ")}}function b(t){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the alignment of data points on the "+t+" axis."].join(" ")}}t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,editType:"calc",anim:!0,description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},xperiod:m("x"),yperiod:m("y"),xperiod0:g("x0"),yperiod0:g("y0"),xperiodalignment:b("x"),yperiodalignment:b("y"),xhoverformat:n("x"),yhoverformat:n("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},stackgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several scatter traces (on the same subplot) to the same","stackgroup in order to add their y values (or their x values if","`orientation` is *h*). If blank or omitted this trace will not be","stacked. Stacking also turns `fill` on by default, using *tonexty*","(*tonextx*) if `orientation` is *h* (*v*) and sets the default","`mode` to *lines* irrespective of point count.","You can only stack on a numeric (linear or log) axis.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],editType:"calc",description:["Only relevant in the following cases:","1. when `scattermode` is set to *group*.","2. when `stackgroup` is used, and only the first","`orientation` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`. Sets the","stacking direction. With *v* (*h*), the y (x) values of subsequent","traces are added. Also affects the default value of `fill`."].join(" ")},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`groupnorm` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Sets the normalization for the sum of this `stackgroup`.","With *fraction*, the value of each trace at each location is","divided by the sum of all trace values at that location.","*percent* is the same but multiplied by 100 to show percentages.","If there are multiple subplots, or multiple `stackgroup`s on one","subplot, each will be normalized within its own set."].join(" ")},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`stackgaps` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Determines how we handle locations at which other traces in this","group have data but this one does not.","With *infer zero* we insert a zero at these locations.","With *interpolate* we linearly interpolate between existing","values, and extrapolate a constant beyond the existing values."].join(" ")},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},texttemplate:o(),texttemplatefallback:a({editType:"calc"}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+h.PTS_LINESONLY+" points","and the trace is not stacked","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},hovertemplate:i({},{keys:h.eventDataKeys}),hovertemplatefallback:a(),line:{color:{valType:"color",editType:"style",anim:!0,description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0,description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:f({},c,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot",description:["Sets the line back off from the end point of the nth line segment (in px).","This option is useful e.g. to avoid overlap with arrowhead markers.","With *auto* the lines would trim before markers if `marker.angleref` is set to *previous*."].join(" ")},simplify:{valType:"boolean",dflt:!0,editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc",description:["Sets the area to fill with a solid color.","Defaults to *none* unless this trace is stacked, then it gets","*tonexty* (*tonextx*) if `orientation` is *v* (*h*)","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},fillcolor:p(!0),fillgradient:f({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc",description:["Sets the type/orientation of the color gradient for the fill.","Defaults to *none*."].join(" ")},start:{valType:"number",editType:"calc",description:["Sets the gradient start value.","It is given as the absolute position on the axis determined by","the orientiation. E.g., if orientation is *horizontal*, the","gradient will be horizontal and start from the x-position","given by start. If omitted, the gradient starts at the lowest","value of the trace along the respective axis.","Ignored if orientation is *radial*."].join(" ")},stop:{valType:"number",editType:"calc",description:["Sets the gradient end value.","It is given as the absolute position on the axis determined by","the orientiation. E.g., if orientation is *horizontal*, the","gradient will be horizontal and end at the x-position","given by end. If omitted, the gradient ends at the highest","value of the trace along the respective axis.","Ignored if orientation is *radial*."].join(" ")},colorscale:{valType:"colorscale",editType:"style",description:["Sets the fill gradient colors as a color scale.","The color scale is interpreted as a gradient","applied in the direction specified by *orientation*,","from the lowest to the highest value of the scatter","plot along that axis, or from the center to the most","distant point from it, if orientation is *radial*."].join(" ")},editType:"calc",description:["Sets a fill gradient.","If not specified, the fillcolor is used instead."].join(" ")}),fillpattern:d,marker:f({symbol:{valType:"enumerated",values:u.symbolList,dflt:"circle",arrayOk:!0,editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0,description:"Sets the marker opacity."},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1,description:["Sets the marker angle in respect to `angleref`."].join(" ")},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1,description:["Sets the reference for marker angle.","With *previous*, angle 0 points along the line from the previous point to this one.","With *up*, angle 0 points toward the top of the screen."].join(" ")},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0,description:["Moves the marker away from the data point in the direction of `angle` (in px).","This can be useful for example if you have another marker at this","location and you want to point an arrowhead marker at it."].join(" ")},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0,description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},line:f({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0,description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},s("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},s("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:l({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),zorder:{valType:"integer",dflt:0,editType:"plot",description:["Sets the layer on which this trace is displayed, relative to","other SVG traces on the same subplot. SVG traces with higher `zorder`","appear in front of those with lower `zorder`."].join(" ")}}},98479:(t,e,r)=>{"use strict";var n=r(38251);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!n(t)}},98496:t=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},98507:(t,e,r)=>{"use strict";var n=r(44514).decode,i=r(12517),o=Array.isArray,a=ArrayBuffer,s=DataView;function l(t){return a.isView(t)&&!(t instanceof s)}function c(t){return o(t)||l(t)}e.isTypedArray=l,e.isArrayOrTypedArray=c,e.isArray1D=function(t){return!c(t[0])},e.ensureArray=function(t,e){return o(t)||(t=[]),t.length=e,t};var d={u1c:"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,i1:"undefined"==typeof Int8Array?void 0:Int8Array,u1:"undefined"==typeof Uint8Array?void 0:Uint8Array,i2:"undefined"==typeof Int16Array?void 0:Int16Array,u2:"undefined"==typeof Uint16Array?void 0:Uint16Array,i4:"undefined"==typeof Int32Array?void 0:Int32Array,u4:"undefined"==typeof Uint32Array?void 0:Uint32Array,f4:"undefined"==typeof Float32Array?void 0:Float32Array,f8:"undefined"==typeof Float64Array?void 0:Float64Array};function u(t){return t.constructor===ArrayBuffer}function h(t,e,r){if(c(t)){if(c(t[0])){for(var n=r,i=0;i<t.length;i++)n=e(n,t[i].length);return n}return t.length}return 0}d.uint8c=d.u1c,d.uint8=d.u1,d.int8=d.i1,d.uint16=d.u2,d.int16=d.i2,d.uint32=d.u4,d.int32=d.i4,d.float32=d.f4,d.float64=d.f8,e.isArrayBuffer=u,e.decodeTypedArraySpec=function(t){var e=[],r=function(t){return{bdata:t.bdata,dtype:t.dtype,shape:t.shape}}(t),i=r.dtype,o=d[i];if(!o)throw new Error('Error in dtype: "'+i+'"');var a=o.BYTES_PER_ELEMENT,s=r.bdata;u(s)||(s=n(s));var l=void 0===r.shape?[s.byteLength/a]:(""+r.shape).split(",");l.reverse();var c,h,f=l.length,p=+l[0],m=a*p,g=0;if(1===f)e=new o(s);else if(2===f)for(c=+l[1],h=0;h<c;h++)e[h]=new o(s,g,p),g+=m;else{if(3!==f)throw new Error("ndim: "+f+'is not supported with the shape:"'+r.shape+'"');c=+l[1];for(var b=+l[2],v=0;v<b;v++)for(e[v]=[],h=0;h<c;h++)e[v][h]=new o(s,g,p),g+=m}return e.bdata=r.bdata,e.dtype=r.dtype,e.shape=l.reverse().join(","),t._inputArray=e,e},e.isTypedArraySpec=function(t){return i(t)&&t.hasOwnProperty("dtype")&&"string"==typeof t.dtype&&t.hasOwnProperty("bdata")&&("string"==typeof t.bdata||u(t.bdata))&&(void 0===t.shape||t.hasOwnProperty("shape")&&("string"==typeof t.shape||"number"==typeof t.shape))},e.concat=function(){var t,e,r,n,i,a,s,l,c=[],d=!0,u=0;for(r=0;r<arguments.length;r++)(a=(n=arguments[r]).length)&&(e?c.push(n):(e=n,i=a),o(n)?t=!1:(d=!1,u?t!==n.constructor&&(t=!1):t=n.constructor),u+=a);if(!u)return[];if(!c.length)return e;if(d)return e.concat.apply(e,c);if(t){for((s=new t(u)).set(e),r=0;r<c.length;r++)n=c[r],s.set(n,i),i+=n.length;return s}for(s=new Array(u),l=0;l<e.length;l++)s[l]=e[l];for(r=0;r<c.length;r++){for(n=c[r],l=0;l<n.length;l++)s[i+l]=n[l];i+=l}return s},e.maxRowLength=function(t){return h(t,Math.max,0)},e.minRowLength=function(t){return h(t,Math.min,1/0)}},98803:t=>{"use strict";t.exports=function(t,e){if(!e)return t;var r=1/Math.abs(e),n=r>1?(r*t+r*e)/r:t+e,i=String(n).length;if(i>16){var o=String(e).length;if(i>=String(t).length+o){var a=parseFloat(n).toPrecision(12);-1===a.indexOf("e+")&&(n=+a)}}return n}},98822:(t,e,r)=>{"use strict";var n=r(55622),i=r(12822).titleCase;t.exports=function(t,e){var r=t._name,o={};if("all"===e.step)o[r+".autorange"]=!0;else{var a=function(t,e){var r,o=t.range,a=new Date(t.r2l(o[1])),s=e.step,l=n["utc"+i(s)],c=e.count;switch(e.stepmode){case"backward":r=t.l2r(+l.offset(a,-c));break;case"todate":var d=l.offset(a,-c);r=t.l2r(+l.ceil(d))}return[r,o[1]]}(t,e);o[r+".range[0]"]=a[0],o[r+".range[1]"]=a[1]}return o}},99037:t=>{"use strict";t.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},99224:(t,e,r)=>{"use strict";var n=r(99246).list,i=r(19496).getAutoRange,o=r(92601);t.exports=function(t){for(var e=n(t,"x",!0),r=0;r<e.length;r++){var a=e[r],s=a[o.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(t,a))}}},99246:(t,e,r)=>{"use strict";var n=r(25059),i=r(21197);function o(t,e){if(e&&e.length)for(var r=0;r<e.length;r++)if(e[r][t])return!0;return!1}e.id2name=function(t){if("string"==typeof t&&t.match(i.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},e.name2id=function(t){if(t.match(i.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},e.cleanId=function(t,e,r){var n=/( domain)$/.test(t);if("string"==typeof t&&t.match(i.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!n||r)){var o=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===o&&(o=""),t.charAt(0)+o+(n&&r?" domain":"")}},e.list=function(t,r,n){var i=t._fullLayout;if(!i)return[];var o,a=e.listIds(t,r),s=new Array(a.length);for(o=0;o<a.length;o++){var l=a[o];s[o]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!n){var c=i._subplots.gl3d||[];for(o=0;o<c.length;o++){var d=i[c[o]];r?s.push(d[r+"axis"]):s.push(d.xaxis,d.yaxis,d.zaxis)}}return s},e.listIds=function(t,e){var r=t._fullLayout;if(!r)return[];var n=r._subplots;return e?n[e+"axis"]:n.xaxis.concat(n.yaxis)},e.getFromId=function(t,r,n){var i=t._fullLayout;return r=void 0===r||"string"!=typeof r?r:r.replace(" domain",""),"x"===n?r=r.replace(/y[0-9]*/,""):"y"===n&&(r=r.replace(/x[0-9]*/,"")),i[e.id2name(r)]},e.getFromTrace=function(t,r,i){var o=t._fullLayout,a=null;if(n.traceIs(r,"gl3d")){var s=r.scene;"scene"===s.substr(0,5)&&(a=o[s][i+"axis"])}else a=e.getFromId(t,r[i+"axis"]||i);return a},e.idSort=function(t,e){var r=t.charAt(0),n=e.charAt(0);return r!==n?r>n?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},e.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},e.isLinked=function(t,e){return o(e,t._axisMatchGroups)||o(e,t._axisConstraintGroups)}},99259:t=>{"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},99484:t=>{"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},99573:(t,e,r)=>{"use strict";var n=r(16677),i=r(76324),o=r(16822).getGraphDiv,a=r(99259),s=t.exports={};s.wrapped=function(t,e,r){(t=o(t))._fullLayout&&i.clear(t._fullLayout._uid+a.HOVERID),s.raw(t,e,r)},s.raw=function(t,e){var r=t._fullLayout,i=t._hoverdata;e||(e={}),e.target&&!t._dragged&&!1===n.triggerHandler(t,"plotly_beforehover",e)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&i&&t.emit("plotly_unhover",{event:e,points:i}))}},99803:t=>{"use strict";t.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},99864:(t,e,r)=>{"use strict";var n=r(99952),i=r(93272)(),o=r(50459),a=r(81665),s=o("Array.prototype.push"),l=o("Object.prototype.propertyIsEnumerable"),c=i?a.getOwnPropertySymbols:null;t.exports=function(t,e){if(null==t)throw new TypeError("target must be an object");var r=a(t);if(1===arguments.length)return r;for(var o=1;o<arguments.length;++o){var d=a(arguments[o]),u=n(d),h=i&&(a.getOwnPropertySymbols||c);if(h)for(var f=h(d),p=0;p<f.length;++p){var m=f[p];l(d,m)&&s(u,m)}for(var g=0;g<u.length;++g){var b=u[g];if(l(d,b)){var v=d[b];r[b]=v}}}return r}},99952:(t,e,r)=>{"use strict";var n=Array.prototype.slice,i=r(12724),o=Object.keys,a=o?function(t){return o(t)}:r(77908),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?s(n.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChemiscopeApp:()=>Jl});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{afterMain:()=>x,afterRead:()=>b,afterWrite:()=>k,applyStyles:()=>z,arrow:()=>X,auto:()=>o,basePlacements:()=>a,beforeMain:()=>v,beforeRead:()=>m,beforeWrite:()=>w,bottom:()=>r,clippingParents:()=>c,computeStyles:()=>tt,createPopper:()=>Ct,createPopperBase:()=>Et,createPopperLite:()=>zt,detectOverflow:()=>mt,end:()=>l,eventListeners:()=>rt,flip:()=>gt,hide:()=>yt,left:()=>i,main:()=>y,modifierPhases:()=>A,offset:()=>xt,placements:()=>p,popper:()=>u,popperGenerator:()=>St,popperOffsets:()=>wt,preventOverflow:()=>_t,read:()=>g,reference:()=>h,right:()=>n,start:()=>s,top:()=>e,variationPlacements:()=>f,viewport:()=>d,write:()=>_});var e="top",r="bottom",n="right",i="left",o="auto",a=[e,r,n,i],s="start",l="end",c="clippingParents",d="viewport",u="popper",h="reference",f=a.reduce((function(t,e){return t.concat([e+"-"+s,e+"-"+l])}),[]),p=[].concat(a,[o]).reduce((function(t,e){return t.concat([e,e+"-"+s,e+"-"+l])}),[]),m="beforeRead",g="read",b="afterRead",v="beforeMain",y="main",x="afterMain",w="beforeWrite",_="write",k="afterWrite",A=[m,g,b,v,y,x,w,_,k];function T(t){return t?(t.nodeName||"").toLowerCase():null}function M(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function S(t){return t instanceof M(t).Element||t instanceof Element}function E(t){return t instanceof M(t).HTMLElement||t instanceof HTMLElement}function C(t){return"undefined"!=typeof ShadowRoot&&(t instanceof M(t).ShadowRoot||t instanceof ShadowRoot)}const z={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},i=e.elements[t];E(i)&&T(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(t){var e=n[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce((function(t,e){return t[e]="",t}),{});E(n)&&T(n)&&(Object.assign(n.style,o),Object.keys(i).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]};function L(t){return t.split("-")[0]}var O=Math.max,D=Math.min,I=Math.round;function F(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function R(){return!/^((?!chrome|android).)*safari/i.test(F())}function P(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&E(t)&&(i=t.offsetWidth>0&&I(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&I(n.height)/t.offsetHeight||1);var a=(S(t)?M(t):window).visualViewport,s=!R()&&r,l=(n.left+(s&&a?a.offsetLeft:0))/i,c=(n.top+(s&&a?a.offsetTop:0))/o,d=n.width/i,u=n.height/o;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function j(t){var e=P(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function N(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&C(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function B(t){return M(t).getComputedStyle(t)}function U(t){return["table","td","th"].indexOf(T(t))>=0}function V(t){return((S(t)?t.ownerDocument:t.document)||window.document).documentElement}function G(t){return"html"===T(t)?t:t.assignedSlot||t.parentNode||(C(t)?t.host:null)||V(t)}function H(t){return E(t)&&"fixed"!==B(t).position?t.offsetParent:null}function W(t){for(var e=M(t),r=H(t);r&&U(r)&&"static"===B(r).position;)r=H(r);return r&&("html"===T(r)||"body"===T(r)&&"static"===B(r).position)?e:r||function(t){var e=/firefox/i.test(F());if(/Trident/i.test(F())&&E(t)&&"fixed"===B(t).position)return null;var r=G(t);for(C(r)&&(r=r.host);E(r)&&["html","body"].indexOf(T(r))<0;){var n=B(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(t)||e}function q(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $(t,e,r){return O(t,D(e,r))}function Y(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Z(t,e){return e.reduce((function(e,r){return e[r]=t,e}),{})}const X={name:"arrow",enabled:!0,phase:"main",fn:function(t){var o,s=t.state,l=t.name,c=t.options,d=s.elements.arrow,u=s.modifiersData.popperOffsets,h=L(s.placement),f=q(h),p=[i,n].indexOf(h)>=0?"height":"width";if(d&&u){var m=function(t,e){return Y("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Z(t,a))}(c.padding,s),g=j(d),b="y"===f?e:i,v="y"===f?r:n,y=s.rects.reference[p]+s.rects.reference[f]-u[f]-s.rects.popper[p],x=u[f]-s.rects.reference[f],w=W(d),_=w?"y"===f?w.clientHeight||0:w.clientWidth||0:0,k=y/2-x/2,A=m[b],T=_-g[p]-m[v],M=_/2-g[p]/2+k,S=$(A,M,T),E=f;s.modifiersData[l]=((o={})[E]=S,o.centerOffset=S-M,o)}},effect:function(t){var e=t.state,r=t.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&N(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function J(t){return t.split("-")[1]}var Q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K(t){var o,a=t.popper,s=t.popperRect,c=t.placement,d=t.variation,u=t.offsets,h=t.position,f=t.gpuAcceleration,p=t.adaptive,m=t.roundOffsets,g=t.isFixed,b=u.x,v=void 0===b?0:b,y=u.y,x=void 0===y?0:y,w="function"==typeof m?m({x:v,y:x}):{x:v,y:x};v=w.x,x=w.y;var _=u.hasOwnProperty("x"),k=u.hasOwnProperty("y"),A=i,T=e,S=window;if(p){var E=W(a),C="clientHeight",z="clientWidth";E===M(a)&&"static"!==B(E=V(a)).position&&"absolute"===h&&(C="scrollHeight",z="scrollWidth"),(c===e||(c===i||c===n)&&d===l)&&(T=r,x-=(g&&E===S&&S.visualViewport?S.visualViewport.height:E[C])-s.height,x*=f?1:-1),c!==i&&(c!==e&&c!==r||d!==l)||(A=n,v-=(g&&E===S&&S.visualViewport?S.visualViewport.width:E[z])-s.width,v*=f?1:-1)}var L,O=Object.assign({position:h},p&&Q),D=!0===m?function(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:I(r*i)/i||0,y:I(n*i)/i||0}}({x:v,y:x},M(a)):{x:v,y:x};return v=D.x,x=D.y,f?Object.assign({},O,((L={})[T]=k?"0":"",L[A]=_?"0":"",L.transform=(S.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",L)):Object.assign({},O,((o={})[T]=k?x+"px":"",o[A]=_?v+"px":"",o.transform="",o))}const tt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,a=void 0===o||o,s=r.roundOffsets,l=void 0===s||s,c={placement:L(e.placement),variation:J(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,K(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,K(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var et={passive:!0};const rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=void 0===i||i,a=n.resize,s=void 0===a||a,l=M(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",r.update,et)})),s&&l.addEventListener("resize",r.update,et),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",r.update,et)})),s&&l.removeEventListener("resize",r.update,et)}},data:{}};var nt={left:"right",right:"left",bottom:"top",top:"bottom"};function it(t){return t.replace(/left|right|bottom|top/g,(function(t){return nt[t]}))}var ot={start:"end",end:"start"};function at(t){return t.replace(/start|end/g,(function(t){return ot[t]}))}function st(t){var e=M(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function lt(t){return P(V(t)).left+st(t).scrollLeft}function ct(t){var e=B(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function dt(t){return["html","body","#document"].indexOf(T(t))>=0?t.ownerDocument.body:E(t)&&ct(t)?t:dt(G(t))}function ut(t,e){var r;void 0===e&&(e=[]);var n=dt(t),i=n===(null==(r=t.ownerDocument)?void 0:r.body),o=M(n),a=i?[o].concat(o.visualViewport||[],ct(n)?n:[]):n,s=e.concat(a);return i?s:s.concat(ut(G(a)))}function ht(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ft(t,e,r){return e===d?ht(function(t,e){var r=M(t),n=V(t),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=R();(c||!c&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+lt(t),y:l}}(t,r)):S(e)?function(t,e){var r=P(t,!1,"fixed"===e);return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}(e,r):ht(function(t){var e,r=V(t),n=st(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=O(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=O(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+lt(t),l=-n.scrollTop;return"rtl"===B(i||r).direction&&(s+=O(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(V(t)))}function pt(t){var o,a=t.reference,c=t.element,d=t.placement,u=d?L(d):null,h=d?J(d):null,f=a.x+a.width/2-c.width/2,p=a.y+a.height/2-c.height/2;switch(u){case e:o={x:f,y:a.y-c.height};break;case r:o={x:f,y:a.y+a.height};break;case n:o={x:a.x+a.width,y:p};break;case i:o={x:a.x-c.width,y:p};break;default:o={x:a.x,y:a.y}}var m=u?q(u):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case s:o[m]=o[m]-(a[g]/2-c[g]/2);break;case l:o[m]=o[m]+(a[g]/2-c[g]/2)}}return o}function mt(t,i){void 0===i&&(i={});var o=i,s=o.placement,l=void 0===s?t.placement:s,f=o.strategy,p=void 0===f?t.strategy:f,m=o.boundary,g=void 0===m?c:m,b=o.rootBoundary,v=void 0===b?d:b,y=o.elementContext,x=void 0===y?u:y,w=o.altBoundary,_=void 0!==w&&w,k=o.padding,A=void 0===k?0:k,M=Y("number"!=typeof A?A:Z(A,a)),C=x===u?h:u,z=t.rects.popper,L=t.elements[_?C:x],I=function(t,e,r,n){var i="clippingParents"===e?function(t){var e=ut(G(t)),r=["absolute","fixed"].indexOf(B(t).position)>=0&&E(t)?W(t):t;return S(r)?e.filter((function(t){return S(t)&&N(t,r)&&"body"!==T(t)})):[]}(t):[].concat(e),o=[].concat(i,[r]),a=o[0],s=o.reduce((function(e,r){var i=ft(t,r,n);return e.top=O(i.top,e.top),e.right=D(i.right,e.right),e.bottom=D(i.bottom,e.bottom),e.left=O(i.left,e.left),e}),ft(t,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(S(L)?L:L.contextElement||V(t.elements.popper),g,v,p),F=P(t.elements.reference),R=pt({reference:F,element:z,strategy:"absolute",placement:l}),j=ht(Object.assign({},z,R)),U=x===u?j:F,H={top:I.top-U.top+M.top,bottom:U.bottom-I.bottom+M.bottom,left:I.left-U.left+M.left,right:U.right-I.right+M.right},q=t.modifiersData.offset;if(x===u&&q){var $=q[l];Object.keys(H).forEach((function(t){var i=[n,r].indexOf(t)>=0?1:-1,o=[e,r].indexOf(t)>=0?"y":"x";H[t]+=$[o]*i}))}return H}const gt={name:"flip",enabled:!0,phase:"main",fn:function(t){var l=t.state,c=t.options,d=t.name;if(!l.modifiersData[d]._skip){for(var u=c.mainAxis,h=void 0===u||u,m=c.altAxis,g=void 0===m||m,b=c.fallbackPlacements,v=c.padding,y=c.boundary,x=c.rootBoundary,w=c.altBoundary,_=c.flipVariations,k=void 0===_||_,A=c.allowedAutoPlacements,T=l.options.placement,M=L(T),S=b||(M!==T&&k?function(t){if(L(t)===o)return[];var e=it(t);return[at(t),e,at(e)]}(T):[it(T)]),E=[T].concat(S).reduce((function(t,e){return t.concat(L(e)===o?function(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,d=void 0===c?p:c,u=J(n),h=u?l?f:f.filter((function(t){return J(t)===u})):a,m=h.filter((function(t){return d.indexOf(t)>=0}));0===m.length&&(m=h);var g=m.reduce((function(e,r){return e[r]=mt(t,{placement:r,boundary:i,rootBoundary:o,padding:s})[L(r)],e}),{});return Object.keys(g).sort((function(t,e){return g[t]-g[e]}))}(l,{placement:e,boundary:y,rootBoundary:x,padding:v,flipVariations:k,allowedAutoPlacements:A}):e)}),[]),C=l.rects.reference,z=l.rects.popper,O=new Map,D=!0,I=E[0],F=0;F<E.length;F++){var R=E[F],P=L(R),j=J(R)===s,N=[e,r].indexOf(P)>=0,B=N?"width":"height",U=mt(l,{placement:R,boundary:y,rootBoundary:x,altBoundary:w,padding:v}),V=N?j?n:i:j?r:e;C[B]>z[B]&&(V=it(V));var G=it(V),H=[];if(h&&H.push(U[P]<=0),g&&H.push(U[V]<=0,U[G]<=0),H.every((function(t){return t}))){I=R,D=!1;break}O.set(R,H)}if(D)for(var W=function(t){var e=E.find((function(e){var r=O.get(e);if(r)return r.slice(0,t).every((function(t){return t}))}));if(e)return I=e,"break"},q=k?3:1;q>0&&"break"!==W(q);q--);l.placement!==I&&(l.modifiersData[d]._skip=!0,l.placement=I,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function bt(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function vt(t){return[e,n,r,i].some((function(e){return t[e]>=0}))}const yt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=mt(e,{elementContext:"reference"}),s=mt(e,{altBoundary:!0}),l=bt(a,n),c=bt(s,i,o),d=vt(l),u=vt(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},xt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var r=t.state,o=t.options,a=t.name,s=o.offset,l=void 0===s?[0,0]:s,c=p.reduce((function(t,o){return t[o]=function(t,r,o){var a=L(t),s=[i,e].indexOf(a)>=0?-1:1,l="function"==typeof o?o(Object.assign({},r,{placement:t})):o,c=l[0],d=l[1];return c=c||0,d=(d||0)*s,[i,n].indexOf(a)>=0?{x:d,y:c}:{x:c,y:d}}(o,r.rects,l),t}),{}),d=c[r.placement],u=d.x,h=d.y;null!=r.modifiersData.popperOffsets&&(r.modifiersData.popperOffsets.x+=u,r.modifiersData.popperOffsets.y+=h),r.modifiersData[a]=c}},wt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,r=t.name;e.modifiersData[r]=pt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},_t={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var o=t.state,a=t.options,l=t.name,c=a.mainAxis,d=void 0===c||c,u=a.altAxis,h=void 0!==u&&u,f=a.boundary,p=a.rootBoundary,m=a.altBoundary,g=a.padding,b=a.tether,v=void 0===b||b,y=a.tetherOffset,x=void 0===y?0:y,w=mt(o,{boundary:f,rootBoundary:p,padding:g,altBoundary:m}),_=L(o.placement),k=J(o.placement),A=!k,T=q(_),M="x"===T?"y":"x",S=o.modifiersData.popperOffsets,E=o.rects.reference,C=o.rects.popper,z="function"==typeof x?x(Object.assign({},o.rects,{placement:o.placement})):x,I="number"==typeof z?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),F=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,R={x:0,y:0};if(S){if(d){var P,N="y"===T?e:i,B="y"===T?r:n,U="y"===T?"height":"width",V=S[T],G=V+w[N],H=V-w[B],Y=v?-C[U]/2:0,Z=k===s?E[U]:C[U],X=k===s?-C[U]:-E[U],Q=o.elements.arrow,K=v&&Q?j(Q):{width:0,height:0},tt=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=tt[N],rt=tt[B],nt=$(0,E[U],K[U]),it=A?E[U]/2-Y-nt-et-I.mainAxis:Z-nt-et-I.mainAxis,ot=A?-E[U]/2+Y+nt+rt+I.mainAxis:X+nt+rt+I.mainAxis,at=o.elements.arrow&&W(o.elements.arrow),st=at?"y"===T?at.clientTop||0:at.clientLeft||0:0,lt=null!=(P=null==F?void 0:F[T])?P:0,ct=V+ot-lt,dt=$(v?D(G,V+it-lt-st):G,V,v?O(H,ct):H);S[T]=dt,R[T]=dt-V}if(h){var ut,ht="x"===T?e:i,ft="x"===T?r:n,pt=S[M],gt="y"===M?"height":"width",bt=pt+w[ht],vt=pt-w[ft],yt=-1!==[e,i].indexOf(_),xt=null!=(ut=null==F?void 0:F[M])?ut:0,wt=yt?bt:pt-E[gt]-C[gt]-xt+I.altAxis,_t=yt?pt+E[gt]+C[gt]-xt-I.altAxis:vt,kt=v&&yt?function(t,e,r){var n=$(t,e,r);return n>r?r:n}(wt,pt,_t):$(v?wt:bt,pt,v?_t:vt);S[M]=kt,R[M]=kt-pt}o.modifiersData[l]=R}},requiresIfExists:["offset"]};function kt(t,e,r){void 0===r&&(r=!1);var n,i,o=E(e),a=E(e)&&function(t){var e=t.getBoundingClientRect(),r=I(e.width)/t.offsetWidth||1,n=I(e.height)/t.offsetHeight||1;return 1!==r||1!==n}(e),s=V(e),l=P(t,a,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!r)&&(("body"!==T(e)||ct(s))&&(c=(n=e)!==M(n)&&E(n)?{scrollLeft:(i=n).scrollLeft,scrollTop:i.scrollTop}:st(n)),E(e)?((d=P(e,!0)).x+=e.clientLeft,d.y+=e.clientTop):s&&(d.x=lt(s))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function At(t){var e=new Map,r=new Set,n=[];function i(t){r.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!r.has(t)){var n=e.get(t);n&&i(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){r.has(t.name)||i(t)})),n}var Tt={placement:"bottom",modifiers:[],strategy:"absolute"};function Mt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function St(t){void 0===t&&(t={});var e=t,r=e.defaultModifiers,n=void 0===r?[]:r,i=e.defaultOptions,o=void 0===i?Tt:i;return function(t,e,r){void 0===r&&(r=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tt,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,d={state:s,setOptions:function(r){var i="function"==typeof r?r(s.options):r;u(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:S(t)?ut(t):t.contextElement?ut(t.contextElement):[],popper:ut(e)};var a,c,h=function(t){var e=At(t);return A.reduce((function(t,r){return t.concat(e.filter((function(t){return t.phase===r})))}),[])}((a=[].concat(n,s.options.modifiers),c=a.reduce((function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return s.orderedModifiers=h.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,r=t.options,n=void 0===r?{}:r,i=t.effect;if("function"==typeof i){var o=i({state:s,name:e,instance:d,options:n});l.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!c){var t=s.elements,e=t.reference,r=t.popper;if(Mt(e,r)){s.rects={reference:kt(e,W(r),"fixed"===s.options.strategy),popper:j(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<s.orderedModifiers.length;n++)if(!0!==s.reset){var i=s.orderedModifiers[n],o=i.fn,a=i.options,l=void 0===a?{}:a,u=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:u,instance:d})||s)}else s.reset=!1,n=-1}}},update:(i=function(){return new Promise((function(t){d.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(i())}))}))),a}),destroy:function(){u(),c=!0}};if(!Mt(t,e))return d;function u(){l.forEach((function(t){return t()})),l=[]}return d.setOptions(r).then((function(t){!c&&r.onFirstUpdate&&r.onFirstUpdate(t)})),d}}var Et=St(),Ct=St({defaultModifiers:[rt,wt,tt,z,xt,gt,_t,X,yt]}),zt=St({defaultModifiers:[rt,wt,tt,z]});const Lt="transitionend",Ot=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let r=t.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&"#"!==r?r.trim():null}return e},Dt=t=>{const e=Ot(t);return e&&document.querySelector(e)?e:null},It=t=>{const e=Ot(t);return e?document.querySelector(e):null},Ft=t=>{t.dispatchEvent(new Event(Lt))},Rt=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Pt=t=>Rt(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,jt=t=>{if(!Rt(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),r=t.closest("details:not([open])");if(!r)return e;if(r!==t){const e=t.closest("summary");if(e&&e.parentNode!==r)return!1;if(null===e)return!1}return e},Nt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Bt=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Bt(t.parentNode):null},Ut=()=>{},Vt=t=>{t.offsetHeight},Gt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ht=[],Wt=()=>"rtl"===document.documentElement.dir,qt=t=>{var e;e=()=>{const e=Gt();if(e){const r=t.NAME,n=e.fn[r];e.fn[r]=t.jQueryInterface,e.fn[r].Constructor=t,e.fn[r].noConflict=()=>(e.fn[r]=n,t.jQueryInterface)}},"loading"===document.readyState?(Ht.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of Ht)t()})),Ht.push(e)):e()},$t=t=>{"function"==typeof t&&t()},Yt=(t,e,r=!0)=>{if(!r)return void $t(t);const n=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(t);const n=Number.parseFloat(e),i=Number.parseFloat(r);return n||i?(e=e.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(r))):0})(e)+5;let i=!1;const o=({target:r})=>{r===e&&(i=!0,e.removeEventListener(Lt,o),$t(t))};e.addEventListener(Lt,o),setTimeout((()=>{i||Ft(e)}),n)},Zt=(t,e,r,n)=>{const i=t.length;let o=t.indexOf(e);return-1===o?!r&&n?t[i-1]:t[0]:(o+=r?1:-1,n&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])},Xt=/[^.]*(?=\..*)\.|.*/,Jt=/\..*/,Qt=/::\d+$/,Kt={};let te=1;const ee={mouseenter:"mouseover",mouseleave:"mouseout"},re=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ne(t,e){return e&&`${e}::${te++}`||t.uidEvent||te++}function ie(t){const e=ne(t);return t.uidEvent=e,Kt[e]=Kt[e]||{},Kt[e]}function oe(t,e,r=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===r))}function ae(t,e,r){const n="string"==typeof e,i=n?r:e||r;let o=de(t);return re.has(o)||(o=t),[n,i,o]}function se(t,e,r,n,i){if("string"!=typeof e||!t)return;let[o,a,s]=ae(e,r,n);if(e in ee){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};a=t(a)}const l=ie(t),c=l[s]||(l[s]={}),d=oe(c,a,o?r:null);if(d)return void(d.oneOff=d.oneOff&&i);const u=ne(a,e.replace(Xt,"")),h=o?function(t,e,r){return function n(i){const o=t.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return he(i,{delegateTarget:a}),n.oneOff&&ue.off(t,i.type,e,r),r.apply(a,[i])}}(t,r,a):function(t,e){return function r(n){return he(n,{delegateTarget:t}),r.oneOff&&ue.off(t,n.type,e),e.apply(t,[n])}}(t,a);h.delegationSelector=o?r:null,h.callable=a,h.oneOff=i,h.uidEvent=u,c[u]=h,t.addEventListener(s,h,o)}function le(t,e,r,n,i){const o=oe(e[r],n,i);o&&(t.removeEventListener(r,o,Boolean(i)),delete e[r][o.uidEvent])}function ce(t,e,r,n){const i=e[r]||{};for(const o of Object.keys(i))if(o.includes(n)){const n=i[o];le(t,e,r,n.callable,n.delegationSelector)}}function de(t){return t=t.replace(Jt,""),ee[t]||t}const ue={on(t,e,r,n){se(t,e,r,n,!1)},one(t,e,r,n){se(t,e,r,n,!0)},off(t,e,r,n){if("string"!=typeof e||!t)return;const[i,o,a]=ae(e,r,n),s=a!==e,l=ie(t),c=l[a]||{},d=e.startsWith(".");if(void 0===o){if(d)for(const r of Object.keys(l))ce(t,l,r,e.slice(1));for(const r of Object.keys(c)){const n=r.replace(Qt,"");if(!s||e.includes(n)){const e=c[r];le(t,l,a,e.callable,e.delegationSelector)}}}else{if(!Object.keys(c).length)return;le(t,l,a,o,i?r:null)}},trigger(t,e,r){if("string"!=typeof e||!t)return null;const n=Gt();let i=null,o=!0,a=!0,s=!1;e!==de(e)&&n&&(i=n.Event(e,r),n(t).trigger(i),o=!i.isPropagationStopped(),a=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());let l=new Event(e,{bubbles:o,cancelable:!0});return l=he(l,r),s&&l.preventDefault(),a&&t.dispatchEvent(l),l.defaultPrevented&&i&&i.preventDefault(),l}};function he(t,e){for(const[r,n]of Object.entries(e||{}))try{t[r]=n}catch(e){Object.defineProperty(t,r,{configurable:!0,get:()=>n})}return t}const fe=new Map,pe={set(t,e,r){fe.has(t)||fe.set(t,new Map);const n=fe.get(t);n.has(e)||0===n.size?n.set(e,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(t,e)=>fe.has(t)&&fe.get(t).get(e)||null,remove(t,e){if(!fe.has(t))return;const r=fe.get(t);r.delete(e),0===r.size&&fe.delete(t)}};function me(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function ge(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const be={setDataAttribute(t,e,r){t.setAttribute(`data-bs-${ge(e)}`,r)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${ge(e)}`)},getDataAttributes(t){if(!t)return{};const e={},r=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const n of r){let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=me(t.dataset[n])}return e},getDataAttribute:(t,e)=>me(t.getAttribute(`data-bs-${ge(e)}`))};class ve{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const r=Rt(e)?be.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...Rt(e)?be.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const n of Object.keys(e)){const i=e[n],o=t[n],a=Rt(o)?"element":null==(r=o)?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${i}".`)}var r}}class ye extends ve{constructor(t,e){super(),(t=Pt(t))&&(this._element=t,this._config=this._getConfig(e),pe.set(this._element,this.constructor.DATA_KEY,this))}dispose(){pe.remove(this._element,this.constructor.DATA_KEY),ue.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,r=!0){Yt(t,e,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return pe.get(Pt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const xe=(t,e="hide")=>{const r=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;ue.on(document,r,`[data-bs-dismiss="${n}"]`,(function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Nt(this))return;const i=It(this)||this.closest(`.${n}`);t.getOrCreateInstance(i)[e]()}))},we=".bs.alert",_e=`close${we}`,ke=`closed${we}`;class Ae extends ye{static get NAME(){return"alert"}close(){if(ue.trigger(this._element,_e).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),ue.trigger(this._element,ke),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=Ae.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}xe(Ae,"close"),qt(Ae);const Te='[data-bs-toggle="button"]';class Me extends ye{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=Me.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}ue.on(document,"click.bs.button.data-api",Te,(t=>{t.preventDefault();const e=t.target.closest(Te);Me.getOrCreateInstance(e).toggle()})),qt(Me);const Se={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const r=[];let n=t.parentNode.closest(e);for(;n;)r.push(n),n=n.parentNode.closest(e);return r},prev(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!Nt(t)&&jt(t)))}},Ee=".bs.swipe",Ce=`touchstart${Ee}`,ze=`touchmove${Ee}`,Le=`touchend${Ee}`,Oe=`pointerdown${Ee}`,De=`pointerup${Ee}`,Ie={endCallback:null,leftCallback:null,rightCallback:null},Fe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Re extends ve{constructor(t,e){super(),this._element=t,t&&Re.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ie}static get DefaultType(){return Fe}static get NAME(){return"swipe"}dispose(){ue.off(this._element,Ee)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),$t(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&$t(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ue.on(this._element,Oe,(t=>this._start(t))),ue.on(this._element,De,(t=>this._end(t))),this._element.classList.add("pointer-event")):(ue.on(this._element,Ce,(t=>this._start(t))),ue.on(this._element,ze,(t=>this._move(t))),ue.on(this._element,Le,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Pe=".bs.carousel",je=".data-api",Ne="ArrowLeft",Be="ArrowRight",Ue="next",Ve="prev",Ge="left",He="right",We=`slide${Pe}`,qe=`slid${Pe}`,$e=`keydown${Pe}`,Ye=`mouseenter${Pe}`,Ze=`mouseleave${Pe}`,Xe=`dragstart${Pe}`,Je=`load${Pe}${je}`,Qe=`click${Pe}${je}`,Ke="carousel",tr="active",er=".active",rr=".carousel-item",nr=er+rr,ir={[Ne]:He,[Be]:Ge},or={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class sr extends ye{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Se.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ke&&this.cycle()}static get Default(){return or}static get DefaultType(){return ar}static get NAME(){return"carousel"}next(){this._slide(Ue)}nextWhenVisible(){!document.hidden&&jt(this._element)&&this.next()}prev(){this._slide(Ve)}pause(){this._isSliding&&Ft(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ue.one(this._element,qe,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void ue.one(this._element,qe,(()=>this.to(t)));const r=this._getItemIndex(this._getActive());if(r===t)return;const n=t>r?Ue:Ve;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&ue.on(this._element,$e,(t=>this._keydown(t))),"hover"===this._config.pause&&(ue.on(this._element,Ye,(()=>this.pause())),ue.on(this._element,Ze,(()=>this._maybeEnableCycle()))),this._config.touch&&Re.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of Se.find(".carousel-item img",this._element))ue.on(t,Xe,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(Ge)),rightCallback:()=>this._slide(this._directionToOrder(He)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Re(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=ir[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Se.findOne(er,this._indicatorsElement);e.classList.remove(tr),e.removeAttribute("aria-current");const r=Se.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(tr),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const r=this._getActive(),n=t===Ue,i=e||Zt(this._getItems(),r,n,this._config.wrap);if(i===r)return;const o=this._getItemIndex(i),a=e=>ue.trigger(this._element,e,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:o});if(a(We).defaultPrevented)return;if(!r||!i)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";i.classList.add(c),Vt(i),r.classList.add(l),i.classList.add(l),this._queueCallback((()=>{i.classList.remove(l,c),i.classList.add(tr),r.classList.remove(tr,c,l),this._isSliding=!1,a(qe)}),r,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Se.findOne(nr,this._element)}_getItems(){return Se.find(rr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Wt()?t===Ge?Ve:Ue:t===Ge?Ue:Ve}_orderToDirection(t){return Wt()?t===Ve?Ge:He:t===Ve?He:Ge}static jQueryInterface(t){return this.each((function(){const e=sr.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}ue.on(document,Qe,"[data-bs-slide], [data-bs-slide-to]",(function(t){const e=It(this);if(!e||!e.classList.contains(Ke))return;t.preventDefault();const r=sr.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(r.to(n),void r._maybeEnableCycle()):"next"===be.getDataAttribute(this,"slide")?(r.next(),void r._maybeEnableCycle()):(r.prev(),void r._maybeEnableCycle())})),ue.on(window,Je,(()=>{const t=Se.find('[data-bs-ride="carousel"]');for(const e of t)sr.getOrCreateInstance(e)})),qt(sr);const lr=".bs.collapse",cr=`show${lr}`,dr=`shown${lr}`,ur=`hide${lr}`,hr=`hidden${lr}`,fr=`click${lr}.data-api`,pr="show",mr="collapse",gr="collapsing",br=`:scope .${mr} .${mr}`,vr='[data-bs-toggle="collapse"]',yr={parent:null,toggle:!0},xr={parent:"(null|element)",toggle:"boolean"};class wr extends ye{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const r=Se.find(vr);for(const t of r){const e=Dt(t),r=Se.find(e).filter((t=>t===this._element));null!==e&&r.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return yr}static get DefaultType(){return xr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>wr.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(ue.trigger(this._element,cr).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(mr),this._element.classList.add(gr),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(gr),this._element.classList.add(mr,pr),this._element.style[e]="",ue.trigger(this._element,dr)}),this._element,!0),this._element.style[e]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(ue.trigger(this._element,ur).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Vt(this._element),this._element.classList.add(gr),this._element.classList.remove(mr,pr);for(const t of this._triggerArray){const e=It(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(gr),this._element.classList.add(mr),ue.trigger(this._element,hr)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(pr)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Pt(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(vr);for(const e of t){const t=It(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=Se.find(br,this._config.parent);return Se.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const r of t)r.classList.toggle("collapsed",!e),r.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const r=wr.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t]()}}))}}ue.on(document,fr,vr,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=Dt(this),r=Se.find(e);for(const t of r)wr.getOrCreateInstance(t,{toggle:!1}).toggle()})),qt(wr);const _r="dropdown",kr=".bs.dropdown",Ar=".data-api",Tr="ArrowUp",Mr="ArrowDown",Sr=`hide${kr}`,Er=`hidden${kr}`,Cr=`show${kr}`,zr=`shown${kr}`,Lr=`click${kr}${Ar}`,Or=`keydown${kr}${Ar}`,Dr=`keyup${kr}${Ar}`,Ir="show",Fr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Rr=`${Fr}.${Ir}`,Pr=".dropdown-menu",jr=Wt()?"top-end":"top-start",Nr=Wt()?"top-start":"top-end",Br=Wt()?"bottom-end":"bottom-start",Ur=Wt()?"bottom-start":"bottom-end",Vr=Wt()?"left-start":"right-start",Gr=Wt()?"right-start":"left-start",Hr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class qr extends ye{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Se.next(this._element,Pr)[0]||Se.prev(this._element,Pr)[0]||Se.findOne(Pr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Hr}static get DefaultType(){return Wr}static get NAME(){return _r}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Nt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!ue.trigger(this._element,Cr,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))ue.on(t,"mouseover",Ut);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ir),this._element.classList.add(Ir),ue.trigger(this._element,zr,t)}}hide(){if(Nt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!ue.trigger(this._element,Sr,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))ue.off(t,"mouseover",Ut);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ir),this._element.classList.remove(Ir),this._element.setAttribute("aria-expanded","false"),be.removeDataAttribute(this._menu,"popper"),ue.trigger(this._element,Er,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Rt(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${_r.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){let t=this._element;"parent"===this._config.reference?t=this._parent:Rt(this._config.reference)?t=Pt(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Ct(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Ir)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Vr;if(t.classList.contains("dropstart"))return Gr;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Nr:jr:e?Ur:Br}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(be.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const r=Se.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>jt(t)));r.length&&Zt(r,e,t===Mr,!r.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=qr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Se.find(Rr);for(const r of e){const e=qr.getInstance(r);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),i=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!i||"outside"===e._config.autoClose&&i)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),r="Escape"===t.key,n=[Tr,Mr].includes(t.key);if(!n&&!r)return;if(e&&!r)return;t.preventDefault();const i=this.matches(Fr)?this:Se.prev(this,Fr)[0]||Se.next(this,Fr)[0]||Se.findOne(Fr,t.delegateTarget.parentNode),o=qr.getOrCreateInstance(i);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),i.focus())}}ue.on(document,Or,Fr,qr.dataApiKeydownHandler),ue.on(document,Or,Pr,qr.dataApiKeydownHandler),ue.on(document,Lr,qr.clearMenus),ue.on(document,Dr,qr.clearMenus),ue.on(document,Lr,Fr,(function(t){t.preventDefault(),qr.getOrCreateInstance(this).toggle()})),qt(qr);const $r=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yr=".sticky-top",Zr="padding-right",Xr="margin-right";class Jr{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zr,(e=>e+t)),this._setElementAttributes($r,Zr,(e=>e+t)),this._setElementAttributes(Yr,Xr,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zr),this._resetElementAttributes($r,Zr),this._resetElementAttributes(Yr,Xr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){const n=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${r(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(t,e){const r=t.style.getPropertyValue(e);r&&be.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const r=be.getDataAttribute(t,e);null!==r?(be.removeDataAttribute(t,e),t.style.setProperty(e,r)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(Rt(t))e(t);else for(const r of Se.find(t,this._element))e(r)}}const Qr="backdrop",Kr="show",tn=`mousedown.bs.${Qr}`,en={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class nn extends ve{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return en}static get DefaultType(){return rn}static get NAME(){return Qr}show(t){if(!this._config.isVisible)return void $t(t);this._append();const e=this._getElement();this._config.isAnimated&&Vt(e),e.classList.add(Kr),this._emulateAnimation((()=>{$t(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(Kr),this._emulateAnimation((()=>{this.dispose(),$t(t)}))):$t(t)}dispose(){this._isAppended&&(ue.off(this._element,tn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Pt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),ue.on(t,tn,(()=>{$t(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){Yt(t,this._getElement(),this._config.isAnimated)}}const on=".bs.focustrap",an=`focusin${on}`,sn=`keydown.tab${on}`,ln="backward",cn={autofocus:!0,trapElement:null},dn={autofocus:"boolean",trapElement:"element"};class un extends ve{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cn}static get DefaultType(){return dn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ue.off(document,on),ue.on(document,an,(t=>this._handleFocusin(t))),ue.on(document,sn,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ue.off(document,on))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const r=Se.focusableChildren(e);0===r.length?e.focus():this._lastTabNavDirection===ln?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?ln:"forward")}}const hn=".bs.modal",fn=`hide${hn}`,pn=`hidePrevented${hn}`,mn=`hidden${hn}`,gn=`show${hn}`,bn=`shown${hn}`,vn=`resize${hn}`,yn=`click.dismiss${hn}`,xn=`mousedown.dismiss${hn}`,wn=`keydown.dismiss${hn}`,_n=`click${hn}.data-api`,kn="modal-open",An="show",Tn="modal-static",Mn={backdrop:!0,focus:!0,keyboard:!0},Sn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class En extends ye{constructor(t,e){super(t,e),this._dialog=Se.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Jr,this._addEventListeners()}static get Default(){return Mn}static get DefaultType(){return Sn}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||ue.trigger(this._element,gn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kn),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(ue.trigger(this._element,fn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(An),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const t of[window,this._dialog])ue.off(t,hn);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new nn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new un({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Se.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),Vt(this._element),this._element.classList.add(An),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ue.trigger(this._element,bn,{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){ue.on(this._element,wn,(t=>{if("Escape"===t.key)return this._config.keyboard?(t.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),ue.on(window,vn,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),ue.on(this._element,xn,(t=>{ue.one(this._element,yn,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(kn),this._resetAdjustments(),this._scrollBar.reset(),ue.trigger(this._element,mn)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ue.trigger(this._element,pn).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(Tn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Tn),this._queueCallback((()=>{this._element.classList.remove(Tn),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;if(r&&!t){const t=Wt()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!r&&t){const t=Wt()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const r=En.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t](e)}}))}}ue.on(document,_n,'[data-bs-toggle="modal"]',(function(t){const e=It(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),ue.one(e,gn,(t=>{t.defaultPrevented||ue.one(e,mn,(()=>{jt(this)&&this.focus()}))}));const r=Se.findOne(".modal.show");r&&En.getInstance(r).hide(),En.getOrCreateInstance(e).toggle(this)})),xe(En),qt(En);const Cn=".bs.offcanvas",zn=".data-api",Ln=`load${Cn}${zn}`,On="show",Dn="showing",In="hiding",Fn=".offcanvas.show",Rn=`show${Cn}`,Pn=`shown${Cn}`,jn=`hide${Cn}`,Nn=`hidePrevented${Cn}`,Bn=`hidden${Cn}`,Un=`resize${Cn}`,Vn=`click${Cn}${zn}`,Gn=`keydown.dismiss${Cn}`,Hn={backdrop:!0,keyboard:!0,scroll:!1},Wn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class qn extends ye{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Hn}static get DefaultType(){return Wn}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||ue.trigger(this._element,Rn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Jr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Dn),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(On),this._element.classList.remove(Dn),ue.trigger(this._element,Pn,{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(ue.trigger(this._element,jn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(In),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(On,In),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Jr).reset(),ue.trigger(this._element,Bn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new nn({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():ue.trigger(this._element,Nn)}:null})}_initializeFocusTrap(){return new un({trapElement:this._element})}_addEventListeners(){ue.on(this._element,Gn,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():ue.trigger(this._element,Nn))}))}static jQueryInterface(t){return this.each((function(){const e=qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}ue.on(document,Vn,'[data-bs-toggle="offcanvas"]',(function(t){const e=It(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Nt(this))return;ue.one(e,Bn,(()=>{jt(this)&&this.focus()}));const r=Se.findOne(Fn);r&&r!==e&&qn.getInstance(r).hide(),qn.getOrCreateInstance(e).toggle(this)})),ue.on(window,Ln,(()=>{for(const t of Se.find(Fn))qn.getOrCreateInstance(t).show()})),ue.on(window,Un,(()=>{for(const t of Se.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&qn.getOrCreateInstance(t).hide()})),xe(qn),qt(qn);const $n=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Xn=(t,e)=>{const r=t.nodeName.toLowerCase();return e.includes(r)?!$n.has(r)||Boolean(Yn.test(t.nodeValue)||Zn.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(r)))},Jn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Qn={allowList:Jn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Kn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ti={entry:"(string|element|function|null)",selector:"(string|element)"};class ei extends ve{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Qn}static get DefaultType(){return Kn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,r]of Object.entries(this._config.content))this._setContent(t,r,e);const e=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&e.classList.add(...r.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,r]of Object.entries(t))super._typeCheckConfig({selector:e,entry:r},ti)}_setContent(t,e,r){const n=Se.findOne(r,t);n&&((e=this._resolvePossibleFunction(e))?Rt(e)?this._putElementInTemplate(Pt(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,r){if(!t.length)return t;if(r&&"function"==typeof r)return r(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),i=[].concat(...n.body.querySelectorAll("*"));for(const t of i){const r=t.nodeName.toLowerCase();if(!Object.keys(e).includes(r)){t.remove();continue}const n=[].concat(...t.attributes),i=[].concat(e["*"]||[],e[r]||[]);for(const e of n)Xn(e,i)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return"function"==typeof t?t(this):t}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const ri=new Set(["sanitize","allowList","sanitizeFn"]),ni="fade",ii="show",oi=".tooltip-inner",ai=".modal",si="hide.bs.modal",li="hover",ci="focus",di={AUTO:"auto",TOP:"top",RIGHT:Wt()?"left":"right",BOTTOM:"bottom",LEFT:Wt()?"right":"left"},ui={allowList:Jn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fi extends ye{constructor(t,e){super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ui}static get DefaultType(){return hi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),ue.off(this._element.closest(ai),si,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=ue.trigger(this._element,this.constructor.eventName("show")),e=(Bt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(r),ue.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(ii),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))ue.on(t,"mouseover",Ut);this._queueCallback((()=>{ue.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!ue.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ii),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))ue.off(t,"mouseover",Ut);this._activeTrigger.click=!1,this._activeTrigger[ci]=!1,this._activeTrigger[li]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ue.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(ni,ii),e.classList.add(`bs-${this.constructor.NAME}-auto`);const r=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",r),this._isAnimated()&&e.classList.add(ni),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ei({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[oi]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ni)}_isShown(){return this.tip&&this.tip.classList.contains(ii)}_createPopper(t){const e="function"==typeof this._config.placement?this._config.placement.call(this,t,this._element):this._config.placement,r=di[e.toUpperCase()];return Ct(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)ue.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if("manual"!==e){const t=e===li?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=e===li?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ue.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?ci:li]=!0,e._enter()})),ue.on(this._element,r,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?ci:li]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},ue.on(this._element.closest(ai),si,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=be.getDataAttributes(this._element);for(const t of Object.keys(e))ri.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Pt(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=fi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}qt(fi);const pi=".popover-header",mi=".popover-body",gi={...fi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bi={...fi.DefaultType,content:"(null|string|element|function)"};class vi extends fi{static get Default(){return gi}static get DefaultType(){return bi}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[pi]:this._getTitle(),[mi]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=vi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}qt(vi);const yi=".bs.scrollspy",xi=`activate${yi}`,wi=`click${yi}`,_i=`load${yi}.data-api`,ki="active",Ai="[href]",Ti=".nav-link",Mi=`${Ti}, .nav-item > ${Ti}, .list-group-item`,Si={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ei={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ci extends ye{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Si}static get DefaultType(){return Ei}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Pt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ue.off(this._config.target,wi),ue.on(this._config.target,wi,Ai,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const r=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:n,behavior:"smooth"});r.scrollTop=n}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),r=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,i=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&t){if(r(o),!n)return}else i||t||r(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Se.find(Ai,this._config.target);for(const e of t){if(!e.hash||Nt(e))continue;const t=Se.findOne(e.hash,this._element);jt(t)&&(this._targetLinks.set(e.hash,e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(ki),this._activateParents(t),ue.trigger(this._element,xi,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Se.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(ki);else for(const e of Se.parents(t,".nav, .list-group"))for(const t of Se.prev(e,Mi))t.classList.add(ki)}_clearActiveClass(t){t.classList.remove(ki);const e=Se.find(`${Ai}.${ki}`,t);for(const t of e)t.classList.remove(ki)}static jQueryInterface(t){return this.each((function(){const e=Ci.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}ue.on(window,_i,(()=>{for(const t of Se.find('[data-bs-spy="scroll"]'))Ci.getOrCreateInstance(t)})),qt(Ci);const zi=".bs.tab",Li=`hide${zi}`,Oi=`hidden${zi}`,Di=`show${zi}`,Ii=`shown${zi}`,Fi=`click${zi}`,Ri=`keydown${zi}`,Pi=`load${zi}`,ji="ArrowLeft",Ni="ArrowRight",Bi="ArrowUp",Ui="ArrowDown",Vi="active",Gi="fade",Hi="show",Wi=":not(.dropdown-toggle)",qi='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',$i=`.nav-link${Wi}, .list-group-item${Wi}, [role="tab"]${Wi}, ${qi}`,Yi=`.${Vi}[data-bs-toggle="tab"], .${Vi}[data-bs-toggle="pill"], .${Vi}[data-bs-toggle="list"]`;class Zi extends ye{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ue.on(this._element,Ri,(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),r=e?ue.trigger(e,Li,{relatedTarget:t}):null;ue.trigger(t,Di,{relatedTarget:e}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Vi),this._activate(It(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),ue.trigger(t,Ii,{relatedTarget:e})):t.classList.add(Hi)}),t,t.classList.contains(Gi)))}_deactivate(t,e){t&&(t.classList.remove(Vi),t.blur(),this._deactivate(It(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),ue.trigger(t,Oi,{relatedTarget:e})):t.classList.remove(Hi)}),t,t.classList.contains(Gi)))}_keydown(t){if(![ji,Ni,Bi,Ui].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=[Ni,Ui].includes(t.key),r=Zt(this._getChildren().filter((t=>!Nt(t))),t.target,e,!0);r&&(r.focus({preventScroll:!0}),Zi.getOrCreateInstance(r).show())}_getChildren(){return Se.find($i,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",e),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=It(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`#${t.id}`))}_toggleDropDown(t,e){const r=this._getOuterElement(t);if(!r.classList.contains("dropdown"))return;const n=(t,n)=>{const i=Se.findOne(t,r);i&&i.classList.toggle(n,e)};n(".dropdown-toggle",Vi),n(".dropdown-menu",Hi),r.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,r){t.hasAttribute(e)||t.setAttribute(e,r)}_elemIsActive(t){return t.classList.contains(Vi)}_getInnerElement(t){return t.matches($i)?t:Se.findOne($i,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=Zi.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}ue.on(document,Fi,qi,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),Nt(this)||Zi.getOrCreateInstance(this).show()})),ue.on(window,Pi,(()=>{for(const t of Se.find(Yi))Zi.getOrCreateInstance(t)})),qt(Zi);const Xi=".bs.toast",Ji=`mouseover${Xi}`,Qi=`mouseout${Xi}`,Ki=`focusin${Xi}`,to=`focusout${Xi}`,eo=`hide${Xi}`,ro=`hidden${Xi}`,no=`show${Xi}`,io=`shown${Xi}`,oo="hide",ao="show",so="showing",lo={animation:"boolean",autohide:"boolean",delay:"number"},co={animation:!0,autohide:!0,delay:5e3};class uo extends ye{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return co}static get DefaultType(){return lo}static get NAME(){return"toast"}show(){ue.trigger(this._element,no).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(oo),Vt(this._element),this._element.classList.add(ao,so),this._queueCallback((()=>{this._element.classList.remove(so),ue.trigger(this._element,io),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(ue.trigger(this._element,eo).defaultPrevented||(this._element.classList.add(so),this._queueCallback((()=>{this._element.classList.add(oo),this._element.classList.remove(so,ao),ue.trigger(this._element,ro)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ao),super.dispose()}isShown(){return this._element.classList.contains(ao)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ue.on(this._element,Ji,(t=>this._onInteraction(t,!0))),ue.on(this._element,Qi,(t=>this._onInteraction(t,!1))),ue.on(this._element,Ki,(t=>this._onInteraction(t,!0))),ue.on(this._element,to,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=uo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}xe(uo),qt(uo);var ho=__webpack_require__(85072),fo=__webpack_require__.n(ho),po=__webpack_require__(97825),mo=__webpack_require__.n(po),go=__webpack_require__(77659),bo=__webpack_require__.n(go),vo=__webpack_require__(55056),yo=__webpack_require__.n(vo),xo=__webpack_require__(10540),wo=__webpack_require__.n(xo),_o=__webpack_require__(41113),ko=__webpack_require__.n(_o),Ao=__webpack_require__(11261),To={};To.styleTagTransform=ko(),To.setAttributes=yo(),To.insert=bo().bind(null,"head"),To.domAPI=mo(),To.insertStyleElement=wo(),fo()(Ao.A,To),Ao.A&&Ao.A.locals&&Ao.A.locals;var Mo=__webpack_require__(91683),So=__webpack_require__(13471);function Eo(t){let e=t.length;for(;--e>=0;)t[e]=0}const Co=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Lo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Oo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Do=new Array(576);Eo(Do);const Io=new Array(60);Eo(Io);const Fo=new Array(512);Eo(Fo);const Ro=new Array(256);Eo(Ro);const Po=new Array(29);Eo(Po);const jo=new Array(30);function No(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Bo,Uo,Vo;function Go(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Eo(jo);const Ho=t=>t<256?Fo[t]:Fo[256+(t>>>7)],Wo=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},qo=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Wo(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},$o=(t,e,r)=>{qo(t,r[2*e],r[2*e+1])},Yo=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Zo=(t,e,r)=>{const n=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)a=a+r[i-1]<<1,n[i]=a;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=Yo(n[e]++,e))}},Xo=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Jo=t=>{t.bi_valid>8?Wo(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Qo=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},Ko=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Qo(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Qo(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},ta=(t,e,r)=>{let n,i,o,a,s=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+s++],n+=(255&t.pending_buf[t.sym_buf+s++])<<8,i=t.pending_buf[t.sym_buf+s++],0===n?$o(t,i,e):(o=Ro[i],$o(t,o+256+1,e),a=Co[o],0!==a&&(i-=Po[o],qo(t,i,a)),n--,o=Ho(n),$o(t,o,r),a=zo[o],0!==a&&(n-=jo[o],qo(t,n,a)))}while(s<t.sym_next);$o(t,256,e)},ea=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let a,s,l,c=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<o;a++)0!==r[2*a]?(t.heap[++t.heap_len]=c=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,r[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[2*l+1]);for(e.max_code=c,a=t.heap_len>>1;a>=1;a--)Ko(t,r,a);l=o;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Ko(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=s,r[2*l]=r[2*a]+r[2*s],t.depth[l]=(t.depth[a]>=t.depth[s]?t.depth[a]:t.depth[s])+1,r[2*a+1]=r[2*s+1]=l,t.heap[1]=l++,Ko(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,d,u,h,f,p,m=0;for(h=0;h<=15;h++)t.bl_count[h]=0;for(r[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)d=t.heap[c],h=r[2*r[2*d+1]+1]+1,h>l&&(h=l,m++),r[2*d+1]=h,d>n||(t.bl_count[h]++,f=0,d>=s&&(f=a[d-s]),p=r[2*d],t.opt_len+=p*(h+f),o&&(t.static_len+=p*(i[2*d+1]+f)));if(0!==m){do{for(h=l-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(d=t.bl_count[h];0!==d;)u=t.heap[--c],u>n||(r[2*u+1]!==h&&(t.opt_len+=(h-r[2*u+1])*r[2*u],r[2*u+1]=h),d--)}})(t,e),Zo(r,c,t.bl_count)},ra=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<l&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},na=(t,e,r)=>{let n,i,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<l&&i===a)){if(s<c)do{$o(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&($o(t,i,t.bl_tree),s--),$o(t,16,t.bl_tree),qo(t,s-3,2)):s<=10?($o(t,17,t.bl_tree),qo(t,s-3,3)):($o(t,18,t.bl_tree),qo(t,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let ia=!1;const oa=(t,e,r,n)=>{qo(t,0+(n?1:0),3),Jo(t),Wo(t,r),Wo(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var aa={_tr_init:t=>{ia||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(Po[n]=r,t=0;t<1<<Co[n];t++)Ro[r++]=n;for(Ro[r-1]=n,i=0,n=0;n<16;n++)for(jo[n]=i,t=0;t<1<<zo[n];t++)Fo[i++]=n;for(i>>=7;n<30;n++)for(jo[n]=i<<7,t=0;t<1<<zo[n]-7;t++)Fo[256+i++]=n;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)Do[2*t+1]=8,t++,o[8]++;for(;t<=255;)Do[2*t+1]=9,t++,o[9]++;for(;t<=279;)Do[2*t+1]=7,t++,o[7]++;for(;t<=287;)Do[2*t+1]=8,t++,o[8]++;for(Zo(Do,287,o),t=0;t<30;t++)Io[2*t+1]=5,Io[2*t]=Yo(t,5);Bo=new No(Do,Co,257,286,15),Uo=new No(Io,zo,0,30,15),Vo=new No(new Array(0),Lo,0,19,7)})(),ia=!0),t.l_desc=new Go(t.dyn_ltree,Bo),t.d_desc=new Go(t.dyn_dtree,Uo),t.bl_desc=new Go(t.bl_tree,Vo),t.bi_buf=0,t.bi_valid=0,Xo(t)},_tr_stored_block:oa,_tr_flush_block:(t,e,r,n)=>{let i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ea(t,t.l_desc),ea(t,t.d_desc),a=(t=>{let e;for(ra(t,t.dyn_ltree,t.l_desc.max_code),ra(t,t.dyn_dtree,t.d_desc.max_code),ea(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Oo[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?oa(t,e,r,n):4===t.strategy||o===i?(qo(t,2+(n?1:0),3),ta(t,Do,Io)):(qo(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(qo(t,e-257,5),qo(t,r-1,5),qo(t,n-4,4),i=0;i<n;i++)qo(t,t.bl_tree[2*Oo[i]+1],3);na(t,t.dyn_ltree,e-1),na(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),ta(t,t.dyn_ltree,t.dyn_dtree)),Xo(t),n&&Jo(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(Ro[r]+256+1)]++,t.dyn_dtree[2*Ho(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{qo(t,2,3),$o(t,256,Do),(t=>{16===t.bi_valid?(Wo(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},sa=(t,e,r,n)=>{let i=65535&t,o=t>>>16&65535,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+e[n++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16};const la=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var ca=(t,e,r,n)=>{const i=la,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return~t},da={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ua={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ha,_tr_stored_block:fa,_tr_flush_block:pa,_tr_tally:ma,_tr_align:ga}=aa,{Z_NO_FLUSH:ba,Z_PARTIAL_FLUSH:va,Z_FULL_FLUSH:ya,Z_FINISH:xa,Z_BLOCK:wa,Z_OK:_a,Z_STREAM_END:ka,Z_STREAM_ERROR:Aa,Z_DATA_ERROR:Ta,Z_BUF_ERROR:Ma,Z_DEFAULT_COMPRESSION:Sa,Z_FILTERED:Ea,Z_HUFFMAN_ONLY:Ca,Z_RLE:za,Z_FIXED:La,Z_DEFAULT_STRATEGY:Oa,Z_UNKNOWN:Da,Z_DEFLATED:Ia}=ua,Fa=258,Ra=262,Pa=42,ja=113,Na=666,Ba=(t,e)=>(t.msg=da[e],e),Ua=t=>2*t-(t>4?9:0),Va=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Ga=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let Ha=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Wa=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},qa=(t,e)=>{pa(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Wa(t.strm)},$a=(t,e)=>{t.pending_buf[t.pending++]=e},Ya=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Za=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=sa(t.adler,e,i,r):2===t.state.wrap&&(t.adler=ca(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Xa=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-Ra?t.strstart-(t.w_size-Ra):0,c=t.window,d=t.w_mask,u=t.prev,h=t.strstart+Fa;let f=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(r=e,c[r+a]===p&&c[r+a-1]===f&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<h);if(n=Fa-(h-o),o=h-Fa,n>a){if(t.match_start=e,a=n,n>=s)break;f=c[o+a-1],p=c[o+a]}}}while((e=u[e&d])>l&&0!=--i);return a<=t.lookahead?a:t.lookahead},Ja=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ra)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Ga(t),n+=e),0===t.strm.avail_in)break;if(r=Za(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Ha(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Ha(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ra&&0!==t.strm.avail_in)},Qa=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,a=0,s=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==xa||e===ba||r!==n+t.strm.avail_in))break;a=e===xa&&r===n+t.strm.avail_in?1:0,fa(t,0,0,a),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Wa(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(Za(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===a);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?4:e!==ba&&e!==xa&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Za(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===xa)&&e!==ba&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,a=e===xa&&0===t.strm.avail_in&&r===n?1:0,fa(t,t.block_start,r,a),t.block_start+=r,Wa(t.strm)),a?3:1)},Ka=(t,e)=>{let r,n;for(;;){if(t.lookahead<Ra){if(Ja(t),t.lookahead<Ra&&e===ba)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Ha(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Ra&&(t.match_length=Xa(t,r)),t.match_length>=3)if(n=ma(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Ha(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ha(t,t.ins_h,t.window[t.strstart+1]);else n=ma(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(qa(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===xa?(qa(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(qa(t,!1),0===t.strm.avail_out)?1:2},ts=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Ra){if(Ja(t),t.lookahead<Ra&&e===ba)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Ha(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Ra&&(t.match_length=Xa(t,r),t.match_length<=5&&(t.strategy===Ea||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=ma(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Ha(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(qa(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=ma(t,0,t.window[t.strstart-1]),n&&qa(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=ma(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===xa?(qa(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(qa(t,!1),0===t.strm.avail_out)?1:2};function es(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const rs=[new es(0,0,0,0,Qa),new es(4,4,8,4,Ka),new es(4,5,16,8,Ka),new es(4,6,32,32,Ka),new es(4,4,16,16,ts),new es(8,16,32,32,ts),new es(8,16,128,128,ts),new es(8,32,128,256,ts),new es(32,128,258,1024,ts),new es(32,258,258,4096,ts)];function ns(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ia,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Va(this.dyn_ltree),Va(this.dyn_dtree),Va(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Va(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Va(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const is=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Pa&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==ja&&e.status!==Na?1:0},os=t=>{if(is(t))return Ba(t,Aa);t.total_in=t.total_out=0,t.data_type=Da;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Pa:ja,t.adler=2===e.wrap?0:1,e.last_flush=-2,ha(e),_a},as=t=>{const e=os(t);var r;return e===_a&&((r=t.state).window_size=2*r.w_size,Va(r.head),r.max_lazy_match=rs[r.level].max_lazy,r.good_match=rs[r.level].good_length,r.nice_match=rs[r.level].nice_length,r.max_chain_length=rs[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},ss=(t,e,r,n,i,o)=>{if(!t)return Aa;let a=1;if(e===Sa&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>9||r!==Ia||n<8||n>15||e<0||e>9||o<0||o>La||8===n&&1!==a)return Ba(t,Aa);8===n&&(n=9);const s=new ns;return t.state=s,s.strm=t,s.status=Pa,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=o,s.method=r,as(t)};var ls=ss,cs=(t,e)=>is(t)||2!==t.state.wrap?Aa:(t.state.gzhead=e,_a),ds=(t,e)=>{if(is(t)||e>wa||e<0)return t?Ba(t,Aa):Aa;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===Na&&e!==xa)return Ba(t,0===t.avail_out?Ma:Aa);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(Wa(t),0===t.avail_out)return r.last_flush=-1,_a}else if(0===t.avail_in&&Ua(e)<=Ua(n)&&e!==xa)return Ba(t,Ma);if(r.status===Na&&0!==t.avail_in)return Ba(t,Ma);if(r.status===Pa&&0===r.wrap&&(r.status=ja),r.status===Pa){let e=Ia+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=Ca||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,Ya(r,e),0!==r.strstart&&(Ya(r,t.adler>>>16),Ya(r,65535&t.adler)),t.adler=1,r.status=ja,Wa(t),0!==r.pending)return r.last_flush=-1,_a}if(57===r.status)if(t.adler=0,$a(r,31),$a(r,139),$a(r,8),r.gzhead)$a(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),$a(r,255&r.gzhead.time),$a(r,r.gzhead.time>>8&255),$a(r,r.gzhead.time>>16&255),$a(r,r.gzhead.time>>24&255),$a(r,9===r.level?2:r.strategy>=Ca||r.level<2?4:0),$a(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&($a(r,255&r.gzhead.extra.length),$a(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=ca(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if($a(r,0),$a(r,0),$a(r,0),$a(r,0),$a(r,0),$a(r,9===r.level?2:r.strategy>=Ca||r.level<2?4:0),$a(r,3),r.status=ja,Wa(t),0!==r.pending)return r.last_flush=-1,_a;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=ca(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,Wa(t),0!==r.pending)return r.last_flush=-1,_a;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=ca(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=ca(t.adler,r.pending_buf,r.pending-n,n)),Wa(t),0!==r.pending)return r.last_flush=-1,_a;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,$a(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=ca(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=ca(t.adler,r.pending_buf,r.pending-n,n)),Wa(t),0!==r.pending)return r.last_flush=-1,_a;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,$a(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=ca(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Wa(t),0!==r.pending))return r.last_flush=-1,_a;$a(r,255&t.adler),$a(r,t.adler>>8&255),t.adler=0}if(r.status=ja,Wa(t),0!==r.pending)return r.last_flush=-1,_a}if(0!==t.avail_in||0!==r.lookahead||e!==ba&&r.status!==Na){let n=0===r.level?Qa(r,e):r.strategy===Ca?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Ja(t),0===t.lookahead)){if(e===ba)return 1;break}if(t.match_length=0,r=ma(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(qa(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===xa?(qa(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(qa(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===za?((t,e)=>{let r,n,i,o;const a=t.window;for(;;){if(t.lookahead<=Fa){if(Ja(t),t.lookahead<=Fa&&e===ba)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=t.strstart+Fa;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);t.match_length=Fa-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=ma(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=ma(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(qa(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===xa?(qa(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(qa(t,!1),0===t.strm.avail_out)?1:2})(r,e):rs[r.level].func(r,e);if(3!==n&&4!==n||(r.status=Na),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),_a;if(2===n&&(e===va?ga(r):e!==wa&&(fa(r,0,0,!1),e===ya&&(Va(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Wa(t),0===t.avail_out))return r.last_flush=-1,_a}return e!==xa?_a:r.wrap<=0?ka:(2===r.wrap?($a(r,255&t.adler),$a(r,t.adler>>8&255),$a(r,t.adler>>16&255),$a(r,t.adler>>24&255),$a(r,255&t.total_in),$a(r,t.total_in>>8&255),$a(r,t.total_in>>16&255),$a(r,t.total_in>>24&255)):(Ya(r,t.adler>>>16),Ya(r,65535&t.adler)),Wa(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?_a:ka)},us=t=>{if(is(t))return Aa;const e=t.state.status;return t.state=null,e===ja?Ba(t,Ta):_a},hs=(t,e)=>{let r=e.length;if(is(t))return Aa;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==Pa||n.lookahead)return Aa;if(1===i&&(t.adler=sa(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Va(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,a=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Ja(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Ha(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Ja(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=o,n.wrap=i,_a};const fs=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ps=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)fs(r,e)&&(t[e]=r[e])}}return t},ms=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let gs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){gs=!1}const bs=new Uint8Array(256);for(let t=0;t<256;t++)bs[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;bs[254]=bs[254]=1;var vs=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,a=t.length,s=0;for(i=0;i<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),o=0,i=0;o<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<a&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},ys=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let a=bs[e];if(a>4)o[i++]=65533,n+=a-1;else{for(e&=2===a?31:3===a?15:7;a>1&&n<r;)e=e<<6|63&t[n++],a--;a>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&gs)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},xs=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+bs[t[r]]>e?r:e},ws=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const _s=Object.prototype.toString,{Z_NO_FLUSH:ks,Z_SYNC_FLUSH:As,Z_FULL_FLUSH:Ts,Z_FINISH:Ms,Z_OK:Ss,Z_STREAM_END:Es,Z_DEFAULT_COMPRESSION:Cs,Z_DEFAULT_STRATEGY:zs,Z_DEFLATED:Ls}=ua;function Os(t){this.options=ps({level:Cs,method:Ls,chunkSize:16384,windowBits:15,memLevel:8,strategy:zs},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ws,this.strm.avail_out=0;let r=ls(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Ss)throw new Error(da[r]);if(e.header&&cs(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?vs(e.dictionary):"[object ArrayBuffer]"===_s.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=hs(this.strm,t),r!==Ss)throw new Error(da[r]);this._dict_set=!0}}function Ds(t,e){const r=new Os(e);if(r.push(t,!0),r.err)throw r.msg||da[r.err];return r.result}Os.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Ms:ks,"string"==typeof t?r.input=vs(t):"[object ArrayBuffer]"===_s.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===As||o===Ts)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=ds(r,o),i===Es)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=us(this.strm),this.onEnd(i),this.ended=!0,i===Ss;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Os.prototype.onData=function(t){this.chunks.push(t)},Os.prototype.onEnd=function(t){t===Ss&&(this.result=ms(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Is={Deflate:Os,deflate:Ds,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Ds(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Ds(t,e)},constants:ua};const Fs=16209;var Rs=function(t,e){let r,n,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A,T;const M=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,T=t.output,o=i-(e-t.avail_out),a=i+(t.avail_out-257),s=M.dmax,l=M.wsize,c=M.whave,d=M.wnext,u=M.window,h=M.hold,f=M.bits,p=M.lencode,m=M.distcode,g=(1<<M.lenbits)-1,b=(1<<M.distbits)-1;t:do{f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),v=p[h&g];e:for(;;){if(y=v>>>24,h>>>=y,f-=y,y=v>>>16&255,0===y)T[i++]=65535&v;else{if(!(16&y)){if(64&y){if(32&y){M.mode=16191;break t}t.msg="invalid literal/length code",M.mode=Fs;break t}v=p[(65535&v)+(h&(1<<y)-1)];continue e}for(x=65535&v,y&=15,y&&(f<y&&(h+=A[r++]<<f,f+=8),x+=h&(1<<y)-1,h>>>=y,f-=y),f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),v=m[h&b];;){if(y=v>>>24,h>>>=y,f-=y,y=v>>>16&255,16&y){if(w=65535&v,y&=15,f<y&&(h+=A[r++]<<f,f+=8,f<y&&(h+=A[r++]<<f,f+=8)),w+=h&(1<<y)-1,w>s){t.msg="invalid distance too far back",M.mode=Fs;break t}if(h>>>=y,f-=y,y=i-o,w>y){if(y=w-y,y>c&&M.sane){t.msg="invalid distance too far back",M.mode=Fs;break t}if(_=0,k=u,0===d){if(_+=l-y,y<x){x-=y;do{T[i++]=u[_++]}while(--y);_=i-w,k=T}}else if(d<y){if(_+=l+d-y,y-=d,y<x){x-=y;do{T[i++]=u[_++]}while(--y);if(_=0,d<x){y=d,x-=y;do{T[i++]=u[_++]}while(--y);_=i-w,k=T}}}else if(_+=d-y,y<x){x-=y;do{T[i++]=u[_++]}while(--y);_=i-w,k=T}for(;x>2;)T[i++]=k[_++],T[i++]=k[_++],T[i++]=k[_++],x-=3;x&&(T[i++]=k[_++],x>1&&(T[i++]=k[_++]))}else{_=i-w;do{T[i++]=T[_++],T[i++]=T[_++],T[i++]=T[_++],x-=3}while(x>2);x&&(T[i++]=T[_++],x>1&&(T[i++]=T[_++]))}break}if(64&y){t.msg="invalid distance code",M.mode=Fs;break t}v=m[(65535&v)+(h&(1<<y)-1)]}}break}}while(r<n&&i<a);x=f>>3,r-=x,f-=x<<3,h&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<a?a-i+257:257-(i-a),M.hold=h,M.bits=f};const Ps=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),js=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ns=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bs=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Us=(t,e,r,n,i,o,a,s)=>{const l=s.bits;let c,d,u,h,f,p,m=0,g=0,b=0,v=0,y=0,x=0,w=0,_=0,k=0,A=0,T=null;const M=new Uint16Array(16),S=new Uint16Array(16);let E,C,z,L=null;for(m=0;m<=15;m++)M[m]=0;for(g=0;g<n;g++)M[e[r+g]]++;for(y=l,v=15;v>=1&&0===M[v];v--);if(y>v&&(y=v),0===v)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<v&&0===M[b];b++);for(y<b&&(y=b),_=1,m=1;m<=15;m++)if(_<<=1,_-=M[m],_<0)return-1;if(_>0&&(0===t||1!==v))return-1;for(S[1]=0,m=1;m<15;m++)S[m+1]=S[m]+M[m];for(g=0;g<n;g++)0!==e[r+g]&&(a[S[e[r+g]]++]=g);if(0===t?(T=L=a,p=20):1===t?(T=Ps,L=js,p=257):(T=Ns,L=Bs,p=0),A=0,g=0,m=b,f=o,x=y,w=0,u=-1,k=1<<y,h=k-1,1===t&&k>852||2===t&&k>592)return 1;for(;;){E=m-w,a[g]+1<p?(C=0,z=a[g]):a[g]>=p?(C=L[a[g]-p],z=T[a[g]-p]):(C=96,z=0),c=1<<m-w,d=1<<x,b=d;do{d-=c,i[f+(A>>w)+d]=E<<24|C<<16|z}while(0!==d);for(c=1<<m-1;A&c;)c>>=1;if(0!==c?(A&=c-1,A+=c):A=0,g++,0==--M[m]){if(m===v)break;m=e[r+a[g]]}if(m>y&&(A&h)!==u){for(0===w&&(w=y),f+=b,x=m-w,_=1<<x;x+w<v&&(_-=M[x+w],!(_<=0));)x++,_<<=1;if(k+=1<<x,1===t&&k>852||2===t&&k>592)return 1;u=A&h,i[u]=y<<24|x<<16|f-o}}return 0!==A&&(i[f+A]=m-w<<24|64<<16),s.bits=y,0};const{Z_FINISH:Vs,Z_BLOCK:Gs,Z_TREES:Hs,Z_OK:Ws,Z_STREAM_END:qs,Z_NEED_DICT:$s,Z_STREAM_ERROR:Ys,Z_DATA_ERROR:Zs,Z_MEM_ERROR:Xs,Z_BUF_ERROR:Js,Z_DEFLATED:Qs}=ua,Ks=16180,tl=16190,el=16191,rl=16192,nl=16194,il=16199,ol=16200,al=16206,sl=16209,ll=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function cl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ks||e.mode>16211?1:0},ul=t=>{if(dl(t))return Ys;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ks,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ws},hl=t=>{if(dl(t))return Ys;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ul(t)},fl=(t,e)=>{let r;if(dl(t))return Ys;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Ys:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,hl(t))},pl=(t,e)=>{if(!t)return Ys;const r=new cl;t.state=r,r.strm=t,r.window=null,r.mode=Ks;const n=fl(t,e);return n!==Ws&&(t.state=null),n};let ml,gl,bl=!0;const vl=t=>{if(bl){ml=new Int32Array(512),gl=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Us(1,t.lens,0,288,ml,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Us(2,t.lens,0,32,gl,0,t.work,{bits:5}),bl=!1}t.lencode=ml,t.lenbits=9,t.distcode=gl,t.distbits=5},yl=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var xl=hl,wl=pl,_l=(t,e)=>{let r,n,i,o,a,s,l,c,d,u,h,f,p,m,g,b,v,y,x,w,_,k,A=0;const T=new Uint8Array(4);let M,S;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dl(t)||!t.output||!t.input&&0!==t.avail_in)return Ys;r=t.state,r.mode===el&&(r.mode=rl),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,u=s,h=l,k=Ws;t:for(;;)switch(r.mode){case Ks:if(0===r.wrap){r.mode=rl;break}for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,T[0]=255&c,T[1]=c>>>8&255,r.check=ca(r.check,T,2,0),c=0,d=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=sl;break}if((15&c)!==Qs){t.msg="unknown compression method",r.mode=sl;break}if(c>>>=4,d-=4,_=8+(15&c),0===r.wbits&&(r.wbits=_),_>15||_>r.wbits){t.msg="invalid window size",r.mode=sl;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&c?16189:el,c=0,d=0;break;case 16181:for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(r.flags=c,(255&r.flags)!==Qs){t.msg="unknown compression method",r.mode=sl;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=sl;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=ca(r.check,T,2,0)),c=0,d=0,r.mode=16182;case 16182:for(;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,r.check=ca(r.check,T,4,0)),c=0,d=0,r.mode=16183;case 16183:for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=ca(r.check,T,2,0)),c=0,d=0,r.mode=16184;case 16184:if(1024&r.flags){for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(T[0]=255&c,T[1]=c>>>8&255,r.check=ca(r.check,T,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(f=r.length,f>s&&(f=s),f&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),_)),512&r.flags&&4&r.wrap&&(r.check=ca(r.check,n,f,o)),s-=f,o+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===s)break t;f=0;do{_=n[o+f++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_))}while(_&&f<s);if(512&r.flags&&4&r.wrap&&(r.check=ca(r.check,n,f,o)),s-=f,o+=f,_)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===s)break t;f=0;do{_=n[o+f++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_))}while(_&&f<s);if(512&r.flags&&4&r.wrap&&(r.check=ca(r.check,n,f,o)),s-=f,o+=f,_)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;d<16;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(4&r.wrap&&c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=sl;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=el;break;case 16189:for(;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}t.adler=r.check=ll(c),c=0,d=0,r.mode=tl;case tl:if(0===r.havedict)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,$s;t.adler=r.check=1,r.mode=el;case el:if(e===Gs||e===Hs)break t;case rl:if(r.last){c>>>=7&d,d-=7&d,r.mode=al;break}for(;d<3;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}switch(r.last=1&c,c>>>=1,d-=1,3&c){case 0:r.mode=16193;break;case 1:if(vl(r),r.mode=il,e===Hs){c>>>=2,d-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=sl}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=sl;break}if(r.length=65535&c,c=0,d=0,r.mode=nl,e===Hs)break t;case nl:r.mode=16195;case 16195:if(f=r.length,f){if(f>s&&(f=s),f>l&&(f=l),0===f)break t;i.set(n.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,r.length-=f;break}r.mode=el;break;case 16196:for(;d<14;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(r.nlen=257+(31&c),c>>>=5,d-=5,r.ndist=1+(31&c),c>>>=5,d-=5,r.ncode=4+(15&c),c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=sl;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;d<3;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.lens[E[r.have++]]=7&c,c>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},k=Us(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,k){t.msg="invalid code lengths set",r.mode=sl;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[c&(1<<r.lenbits)-1],g=A>>>24,b=A>>>16&255,v=65535&A,!(g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(v<16)c>>>=g,d-=g,r.lens[r.have++]=v;else{if(16===v){for(S=g+2;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(c>>>=g,d-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=sl;break}_=r.lens[r.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===v){for(S=g+3;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=g,d-=g,_=0,f=3+(7&c),c>>>=3,d-=3}else{for(S=g+7;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=g,d-=g,_=0,f=11+(127&c),c>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=sl;break}for(;f--;)r.lens[r.have++]=_}}if(r.mode===sl)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=sl;break}if(r.lenbits=9,M={bits:r.lenbits},k=Us(1,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,k){t.msg="invalid literal/lengths set",r.mode=sl;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},k=Us(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,k){t.msg="invalid distances set",r.mode=sl;break}if(r.mode=il,e===Hs)break t;case il:r.mode=ol;case ol:if(s>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,Rs(t,h),a=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,s=t.avail_in,c=r.hold,d=r.bits,r.mode===el&&(r.back=-1);break}for(r.back=0;A=r.lencode[c&(1<<r.lenbits)-1],g=A>>>24,b=A>>>16&255,v=65535&A,!(g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(b&&!(240&b)){for(y=g,x=b,w=v;A=r.lencode[w+((c&(1<<y+x)-1)>>y)],g=A>>>24,b=A>>>16&255,v=65535&A,!(y+g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=y,d-=y,r.back+=y}if(c>>>=g,d-=g,r.back+=g,r.length=v,0===b){r.mode=16205;break}if(32&b){r.back=-1,r.mode=el;break}if(64&b){t.msg="invalid literal/length code",r.mode=sl;break}r.extra=15&b,r.mode=16201;case 16201:if(r.extra){for(S=r.extra;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;A=r.distcode[c&(1<<r.distbits)-1],g=A>>>24,b=A>>>16&255,v=65535&A,!(g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(!(240&b)){for(y=g,x=b,w=v;A=r.distcode[w+((c&(1<<y+x)-1)>>y)],g=A>>>24,b=A>>>16&255,v=65535&A,!(y+g<=d);){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}c>>>=y,d-=y,r.back+=y}if(c>>>=g,d-=g,r.back+=g,64&b){t.msg="invalid distance code",r.mode=sl;break}r.offset=v,r.extra=15&b,r.mode=16203;case 16203:if(r.extra){for(S=r.extra;d<S;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=sl;break}r.mode=16204;case 16204:if(0===l)break t;if(f=h-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=sl;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,p=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do{i[a++]=m[p++]}while(--f);0===r.length&&(r.mode=ol);break;case 16205:if(0===l)break t;i[a++]=r.length,l--,r.mode=ol;break;case al:if(r.wrap){for(;d<32;){if(0===s)break t;s--,c|=n[o++]<<d,d+=8}if(h-=l,t.total_out+=h,r.total+=h,4&r.wrap&&h&&(t.adler=r.check=r.flags?ca(r.check,i,h,a-h):sa(r.check,i,h,a-h)),h=l,4&r.wrap&&(r.flags?c:ll(c))!==r.check){t.msg="incorrect data check",r.mode=sl;break}c=0,d=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;d<32;){if(0===s)break t;s--,c+=n[o++]<<d,d+=8}if(4&r.wrap&&c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=sl;break}c=0,d=0}r.mode=16208;case 16208:k=qs;break t;case sl:k=Zs;break t;case 16210:return Xs;default:return Ys}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,r.hold=c,r.bits=d,(r.wsize||h!==t.avail_out&&r.mode<sl&&(r.mode<al||e!==Vs))&&yl(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,r.total+=h,4&r.wrap&&h&&(t.adler=r.check=r.flags?ca(r.check,i,h,t.next_out-h):sa(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===el?128:0)+(r.mode===il||r.mode===nl?256:0),(0===u&&0===h||e===Vs)&&k===Ws&&(k=Js),k},kl=t=>{if(dl(t))return Ys;let e=t.state;return e.window&&(e.window=null),t.state=null,Ws},Al=(t,e)=>{if(dl(t))return Ys;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,Ws):Ys},Tl=(t,e)=>{const r=e.length;let n,i,o;return dl(t)?Ys:(n=t.state,0!==n.wrap&&n.mode!==tl?Ys:n.mode===tl&&(i=1,i=sa(i,e,r,0),i!==n.check)?Zs:(o=yl(t,e,r,r),o?(n.mode=16210,Xs):(n.havedict=1,Ws)))},Ml=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Sl=Object.prototype.toString,{Z_NO_FLUSH:El,Z_FINISH:Cl,Z_OK:zl,Z_STREAM_END:Ll,Z_NEED_DICT:Ol,Z_STREAM_ERROR:Dl,Z_DATA_ERROR:Il,Z_MEM_ERROR:Fl}=ua;function Rl(t){this.options=ps({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ws,this.strm.avail_out=0;let r=wl(this.strm,e.windowBits);if(r!==zl)throw new Error(da[r]);if(this.header=new Ml,Al(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=vs(e.dictionary):"[object ArrayBuffer]"===Sl.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Tl(this.strm,e.dictionary),r!==zl)))throw new Error(da[r])}function Pl(t,e){const r=new Rl(e);if(r.push(t),r.err)throw r.msg||da[r.err];return r.result}Rl.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=e===~~e?e:!0===e?Cl:El,"[object ArrayBuffer]"===Sl.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=_l(r,a),o===Ol&&i&&(o=Tl(r,i),o===zl?o=_l(r,a):o===Il&&(o=Ol));r.avail_in>0&&o===Ll&&r.state.wrap>0&&0!==t[r.next_in];)xl(r),o=_l(r,a);switch(o){case Dl:case Il:case Ol:case Fl:return this.onEnd(o),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(0===r.avail_out||o===Ll))if("string"===this.options.to){let t=xs(r.output,r.next_out),e=r.next_out-t,i=ys(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==zl||0!==s){if(o===Ll)return o=kl(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Rl.prototype.onData=function(t){this.chunks.push(t)},Rl.prototype.onEnd=function(t){t===zl&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ms(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var jl={Inflate:Rl,inflate:Pl,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Pl(t,e)},ungzip:Pl,constants:ua};const{Deflate:Nl,deflate:Bl,deflateRaw:Ul,gzip:Vl}=Is,{Inflate:Gl,inflate:Hl,inflateRaw:Wl,ungzip:ql}=jl;var $l=Hl,Yl=__webpack_require__(745),Zl={};Zl.styleTagTransform=ko(),Zl.setAttributes=yo(),Zl.insert=bo().bind(null,"head"),Zl.domAPI=mo(),Zl.insertStyleElement=wo(),fo()(Yl.A,Zl),Yl.A&&Yl.A.locals&&Yl.A.locals;var Xl=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))};class Jl{constructor(t){this.warnings=new Mo.eS,(0,Mo.VT)("chemiscope-version").innerText=`version ${(0,So.version)()}`,window.addEventListener("resize",nc),(0,Mo.VT)(t).innerHTML='<div class="container-fluid">\n            <div class="row gx-2">\n                <div class="col-md-6 d-flex flex-column" style="padding: 0 5px">\n                    <div class="ratio ratio-1x1 ratio-map">\n                        <div id="chemiscope-meta" style="z-index: 10"></div>\n                        <div id="chemiscope-map" style="position: absolute"></div>\n                    </div>\n                </div>\n\n                <div class="col-md-6 d-flex flex-column" style="padding: 0 5px">\n                    <div class="ratio ratio-5x7">\n                        <div>\n                            \x3c!-- height: 0 below is a hack to force safari to\n                            respect height: 100% on the children\n                            https://github.com/philipwalton/flexbugs/issues/197#issuecomment-378908438\n                            --\x3e\n                            <div id="chemiscope-structure" style="height: 0"></div>\n                            <div id="chemiscope-info"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',this._setupLoadSaveMenu(),this.hideOnDemandStructures=document.createElement("style"),document.head.appendChild(this.hideOnDemandStructures),this.hideOnDemandStructures.sheet.insertRule(".hide-on-demand-structures {display: none}"),this.hideOnDemandStructures.sheet.disabled=!1}loadExample(t){return Xl(this,void 0,void 0,(function*(){let e={loadStructure:void 0};"Azaphenacenes"==t&&(e.loadStructure=(t,e)=>Xl(this,void 0,void 0,(function*(){const t=`examples/${e.data}`,r=yield fetch(t);if(!r.ok)throw new Error(`Failed to fetch structure file "${t}": ${r.status} ${r.statusText}`);return yield r.json()}))),yield this.fetchAndLoad(`/examples/${t}.json.gz`,e)}))}fetchAndLoad(t){return Xl(this,arguments,void 0,(function*(t,e={}){Kl(),this.dataset=t;const r=yield fetch(this.dataset);if(!r.ok)throw Error(`unable to load file at '${this.dataset}'`);const n=t.endsWith(".gz")||"gzip"===r.headers.get("content-encoding"),i=yield function(t,e){return Xl(this,void 0,void 0,(function*(){let r;if(e)if("undefined"!=typeof DecompressionStream){const e=t.body.pipeThrough(new DecompressionStream("gzip"));r=yield new Response(e).text()}else{const e=yield t.arrayBuffer(),n=$l(new Uint8Array(e));r=new TextDecoder("utf-8").decode(n)}else r=yield t.text();return rc(r)}))}(r,n);yield this.load(e,i)}))}load(t,e){return Xl(this,void 0,void 0,(function*(){(0,Mo.VT)("error-display").style.display="none";const r={map:"chemiscope-map",info:"chemiscope-info",meta:"chemiscope-meta",structure:"chemiscope-structure",loadStructure:t.loadStructure};this.hideOnDemandStructures.sheet.disabled=void 0!==t.loadStructure,void 0!==this.visualizer&&this.visualizer.remove(),this.warnings.defaultTimeout=4e3,this.warnings.addHandler(((t,e)=>{!function(t,e=4e3){if(e>0){const r=(0,Mo.VT)("warning-display");r.getElementsByTagName("p")[0].innerText=t,r.style.display="block",setTimeout((()=>{r.style.display="none"}),e)}}(t,e)})),this.visualizer=yield So.DefaultVisualizer.load(r,e,this.warnings),this.visualizer.structure.positionSettingsModal=t=>{const e=(0,Mo.VT)("chemiscope-structure").getBoundingClientRect();let r=e.left-t.width+25;return r<25&&(r=25),{top:e.top,left:r}},this.visualizer.map.positionSettingsModal=t=>{const e=(0,Mo.VT)("chemiscope-map").getBoundingClientRect();let r;return r=window.innerWidth<1400?window.innerWidth-t.width-10:e.left+e.width+25,{top:e.top,left:r}},nc(),tc()}))}_setupLoadSaveMenu(){const t=(0,Mo.VT)("load-dataset"),e=(0,Mo.VT)("load-save"),r=(0,Mo.VT)("close-load-save-modal");t.onchange=()=>{const n=t.files[0],i=n.size/1048576;if(i>200&&!confirm(`This file is ${i.toFixed(0)} MB. Large files may fail to load due to browser memory limits.\n\nContinue loading?`))return void(t.value="");e.classList.remove("fade"),r.click(),Kl(),this.dataset=n.name;const o=n.name.endsWith(".gz");ec(n,o).then((t=>{this.load({},t)})).catch((t=>{tc(),Ql(t instanceof Error?t.message:String(t))})).finally((()=>{t.value="",e.classList.add("fade")}))};const n=(0,Mo.VT)("save-dataset"),i=(0,Mo.VT)("save-dataset-name"),o=(0,Mo.VT)("save-dataset-settings"),a=(0,Mo.VT)("save-dataset-structures");n.onclick=()=>{if(void 0===this.visualizer)return;const t=this.visualizer.dataset(a.checked);var e;o.checked&&(t.settings=this.visualizer.saveSettings()),ic(i.value,(e=t,JSON.stringify(e,((t,e)=>"number"==typeof e&&isNaN(e)?"***NaN***":e)).replace(/"\*\*\*NaN\*\*\*"/g,"NaN"))),r.click()};const s=(0,Mo.VT)("load-settings");s.onchange=()=>{e.classList.remove("fade"),r.click(),Kl();const t=s.files[0];if(void 0===this.visualizer)return tc(),void e.classList.add("fade");const n=t.name.endsWith(".gz");ec(t,n).then((t=>{this.visualizer.applySettings(t)})).catch((t=>{Ql(t instanceof Error?t.message:String(t))})).finally((()=>{s.value="",tc(),e.classList.add("fade")}))};const l=(0,Mo.VT)("save-settings"),c=(0,Mo.VT)("save-settings-name"),d=(0,Mo.VT)("save-settings-map"),u=(0,Mo.VT)("save-settings-structure"),h=(0,Mo.VT)("save-settings-selected");l.onclick=()=>{if(void 0===this.visualizer)return;const t=this.visualizer.saveSettings();d.checked||delete t.map,u.checked||delete t.structure,h.checked||delete t.pinned,ic(c.value,JSON.stringify(t)),r.click()}}}function Ql(t){const e=(0,Mo.VT)("error-display");e.getElementsByTagName("p")[0].innerText=t,e.style.display="block"}function Kl(){(0,Mo.VT)("loading").style.display="block";const t=document.getElementsByTagName("main")[0];t.onclick=()=>{},t.style.opacity="0.3"}function tc(){(0,Mo.VT)("loading").style.display="none";const t=document.getElementsByTagName("main")[0];t.onclick=null,t.style.opacity="1"}function ec(t,e){return Xl(this,void 0,void 0,(function*(){let r;if(e)if("undefined"!=typeof DecompressionStream){const e=t.stream().pipeThrough(new DecompressionStream("gzip"));r=yield new Response(e).text()}else{const e=yield t.arrayBuffer(),n=$l(new Uint8Array(e));r=new TextDecoder("utf-8").decode(n)}else r=yield t.text();return rc(r)}))}function rc(t){return JSON.parse(t.replace(/\bNaN\b/g,'"***NaN***"'),((t,e)=>"***NaN***"===e?NaN:e))}function nc(){const t=(0,Mo.VT)("chemiscope-structure").getBoundingClientRect().height,e=document.getElementsByClassName("chsp-info-table");for(let r=0;r<e.length;r++)e[r].style.maxHeight=`${t}px`}function ic(t,e){const r=document.createElement("a");r.download=t,r.href=URL.createObjectURL(new Blob([e],{type:"application/json"})),r.style.display="none",document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r),URL.revokeObjectURL(r.href)}),2e3)}})(),__webpack_exports__})()));